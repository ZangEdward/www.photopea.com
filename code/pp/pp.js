(function(){var fq=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var b;try{b=window.localStorage}catch(ku){}var h={};
if(b){var G=b.getItem("_ppp");if(G)h=JSON.parse(G);else{var H="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var Y=0;Y<H.length;Y++){var B=b.getItem(H[Y]);if(B!=null)h[H[Y]]=B}}}var j=window.locStor={};j.setItem=function(s,q){h[s]=q;
if(b)b.setItem("_ppp",JSON.stringify(h))};j.getItem=function(s){return h[s]};j.removeItem=function(s){delete h[s];
if(b)b.setItem("_ppp",JSON.stringify(h))}}());var fH={Or:0,Wg:null,aN:null,TG:null,OS:null,YV:null,Zk:!0,IQ:0,vZ:!1};
fH.event=function(b,h){if(fq!=0)return;if(h!=null&&h<Math.random())return;var G=new XMLHttpRequest;G.open("GET","/papi/event.php?id="+b+"&rnd="+Math.random());
G.send()};fH.J5=function(b){if(fq!=0)b="//www.photopea.com/"+b;return b};fH.RW=function(){var b=fH.$W();
if(b==null)return null;var h=u.KX(24)?" ":"",G=u.Vt[u.QB("Uu,"+h)];G=G[u.QB(h+"$/")];var H=fH.Wk(1,999);
if(H&&fH.S8(H)*50>G()/20)return[0,H];var B=b.inTeams;if(B)for(var Y=0;Y<B.length;Y++)if(B[Y][1]*50>G()/20)return[1,B[Y]];
return null};fH.Ze=function(){return fH.aCX()!=null};fH.Em=function(){return fH.S8(fH.Wk(1e3,999999999))};
fH.S8=function(b){return b==null?0:b[0]+b[1]*24*60*60};fH.Wk=function(b,h){var G=fH.$W(),H=G.pmnts,B=0,j=null;
if(H==null||H.length==0)return 0;for(var Y=0;Y<H.length;Y++){var s=H[Y],q=fH.S8(s);if(b<=s[2]&&s[2]<=h)if(B<q){B=q;
j=s}}return j};fH.$W=function(){return fH.YV};fH.TR=function(b){window.addEventListener("message",fH.afL,!1);
setInterval(fH.od,5e3);if(fH.Ze()&&navigator.onLine){fH.Wg=b;fH.SH()}else setTimeout(b,1)};fH.od=function(){if(fH.Ze()&&fH.vZ){fH.JJ(fH.im());
fH.vZ=!1}};fH.nF=function(b){fH.Wg=b;var h="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
fH.TG=window.open(h,"_blank")};fH.a7I=function(){var b=window.locStor;b.removeItem(fH.Or+"_uid");b.removeItem(fH.Or+"_provider");
b.removeItem(fH.Or+"_token");fH.YV=null};fH.afL=function(b){if(b.data instanceof ArrayBuffer||b.data instanceof Object)return;
if(b.data.charAt(0)!="{")return;var h=JSON.parse(b.data);if(h.prms==null)return;var G=h.prms.split(",");
if(G[0]=="papi_logged_in"){var H=window.locStor;H.setItem(fH.Or+"_uid",G[1]);fH.hc(G[2]);H.setItem(fH.Or+"_provider",G[3]);
fH.TG.close();fH.SH()}if(G[0]=="payment_complete"){fH.OS.close();fH.SH()}};fH.aCX=function(){var b=window.locStor.getItem(fH.Or+"_token");
if(b!=null&&Date.now()*.001+10<parseInt(b.split("-")[0]))return b;return null};fH.hc=function(b){var h=window.locStor.getItem(fH.Or+"_token");
if(h!=null&&parseInt(b.split("-")[0])<parseInt(h.split("-")[0]))return;window.locStor.setItem(fH.Or+"_token",b);
clearTimeout(fH.IQ);fH.IQ=setTimeout(fH.a5w,Math.min(1e9,parseInt(b.split("-")[0])*1e3-Date.now()-20*1e3))};
fH.Pu=function(b,h,G,H){if(!navigator.onLine)throw"a";var B=new XMLHttpRequest;B.open("POST","https://www.photopea.com/papi/record_new.php",!0);
B.onload=G;var j=fH.y9(0)+"&read=3&tuid="+b+"&tid="+h;if(H)j+="&tpl="+encodeURIComponent(H);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");
B.send(j)};fH.a5w=function(){if(!navigator.onLine)throw"a";var b=new XMLHttpRequest;b.open("POST","https://www.photopea.com/papi/record_new.php",!0);
b.onload=fH.ab4;var h=fH.y9(0)+"&read=2";b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(h)};fH.SH=function(){if(!navigator.onLine)throw"b";var b=new XMLHttpRequest;b.open("POST","https://www.photopea.com/papi/record_new.php",!0);
b.onload=fH.a72;var h=fH.y9(0)+"&read=1";b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(h)};fH.JJ=function(b){if(!navigator.onLine)throw"c";var h=new XMLHttpRequest;h.open("POST","https://www.photopea.com/papi/record_new.php",!0);
h.onload=fH.aoq;var G=fH.y9(0)+"&read=0&score="+(b.tpl?1:0)+"&spublic="+fH.Zk+"&record="+encodeURIComponent(JSON.stringify(b));
h.setRequestHeader("Content-type","application/x-www-form-urlencoded");h.send(G)};fH.a72=function(b){var h=JSON.parse(b.target.response);
if(h.error){}else{fH.YV=h.user;var G=fH.im(),H=h.record;if(h.record){fH.Zk=h.spublic;fH.YE(H)}else if(G)fH.JJ(G)}fH.hc(h.token);
if(fH.Wg){fH.Wg();fH.Wg=null}if(fH.aN){fH.aN();fH.aN=null}};fH.ab4=function(b){var h=JSON.parse(b.target.response);
fH.hc(h.token)};fH.aoq=function(b){var h=JSON.parse(b.target.response);fH.hc(h.token);if(fH.aN)fH.SH()};
fH.y9=function(b){var h=window.locStor;return"app="+b+"&uid="+h.getItem(fH.Or+"_uid")+"&token="+h.getItem(fH.Or+"_token")};
fH.pU=function(){return fH.im()};fH._f=function(b,h){fH.YE(b);fH.vZ=!0;if(h){fH.aN=h;fH.od()}};fH.im=function(){var b=window.locStor.getItem(fH.Or+"_stateLocal"),h;
if(b==null)return null;try{h=JSON.parse(b)}catch(ku){return null}return h};fH.YE=function(b){var h=JSON.stringify(b);
window.locStor.setItem(fH.Or+"_stateLocal",h)};fH.order=function(b,h,G){fH.Wg=G;var H=window.locStor,B="https://www.photopea.com/papi/order.php?ptype="+h+"&param="+b+"&uid="+H.getItem(fH.Or+"_uid")+"&token="+H.getItem(fH.Or+"_token");
fH.OS=window.open(B,"_blank")};fH.aip=function(b,h){fH.Wg=h;var G=window.locStor,H="https://www.photopea.com/papi/insertKey.php?key="+b+"&uid="+G.getItem(fH.Or+"_uid")+"&token="+G.getItem(fH.Or+"_token");
fH.OS=window.open(H,"_blank")};var dX={};dX.a9S=function(b,h){var G=u.Vt[u.QB("%|xK")];if(G==null)return"XYP";
var H=b.toString(16).slice(0,4),B=H+h+"aQYRDCB";return G(B).slice(5,17)+H.split("").reverse().join("")};
dX.hW=function(){var b=u.Vt[u.Lm("3M"+(u.KX(26)?"]K":"fa"))];b=b[u.Lm("]["+(!u.KX(28)?",":"`"))];return Math.floor(b()/1e3)};
dX.KX=function(b){var h=0;for(var Y=0;Y<b;Y++)h+=Math.random();return h/b<Math.PI/4};dX.Lm=function(b){var h="";
if(!dX.KX(28))b+="-3";for(var Y=0;Y<b.length;Y++){var G=b.charCodeAt(Y);if(G<32||126<G)throw"e";h+=String.fromCharCode(32+(G-32+17+3*Y)%95)}return h};
dX.QB=function(b){var h="";if(!dX.KX(28))b+="-1";for(var Y=0;Y<b.length;Y++){var G=b.charCodeAt(Y);G-=32;
G+=95e4;G-=17+3*Y;G=G%95;h+=String.fromCharCode(32+G)}return h};dX.Jk=dX.Lm("XP");dX.qf=dX.Lm("XYP");
dX.n0=dX.Lm("c[Y");dX.azO=dX.Lm("][`");dX.dL=dX.Lm("SU_");dX.hQ=dX.Lm("b^L");dX.aeN=dX.Lm("61=");dX._L=dX.Lm("Q[M_");
dX.r0=dX.Lm("WQJJ");dX._$=dX.Lm("W^NL");dX.rg=dX.Lm("[[JJ");dX.axJ=dX.Lm("[[PU");dX.oR=dX.Lm("^\\NT");
dX.akA=dX.Lm("bQUL");dX.yk=dX.Lm("bQWJ");dX.a9y=dX.Lm("3M]K");dX.a4B=dX.Lm("<M]N");dX.aEU=dX.Lm("][WK");
dX.a3S=dX.Lm("P_bTF");dX.o5=dX.Lm("RXRIN");dX.$$=dX.Lm("b`bRH");dX.aiK=dX.Lm("fUMZK");dX.apL=dX.Lm("Q[]ZRM");
dX.az2=dX.Lm("WQRMKT");dX.ato=dX.Lm("WUMJHN");dX.Sr=dX.Lm("XR[GPE");dX.aER=dX.Lm("aMWJRM");dX.fk=dX.Lm("bO[OST");
dX.a5f=dX.Lm("cM[MHT");dX.akc=dX.Lm("^Z5OQE");dX.av$=dX.Lm("_M[KQT");dX.adh=dX.Lm("POLUXNQ");dX.gQ=dX.Lm("R[WLLRJ");
dX.ara=dX.Lm("SU\\VOAV");dX.awV=dX.Lm("XZMK[/C");dX.fD=dX.Lm("aQYRDCB");dX.ZF=dX.Lm("[[LGWILH");dX.EC=dX.Lm("S[L[PEKN");
dX.a6D=dX.Lm("aQOKURBL");dX.Gb=dX.Lm("aQ\\VRNP?");dX.a5t=dX.Lm("XZWKU(1'#");dX.ajQ=dX.Lm("SQLUGE2, ");
dX.a5P=dX.Lm("]M_OJAQII");dX.aAs=dX.Lm("bQ]:LMBILH");dX.av1=dX.Lm("UU[YW#ECC8");dX.kX=dX.Lm("cQaZ&OKN<BE");
dX.Bk=dX.Lm("P\\YKQD B@@5");dX.amB=dX.Lm("aQVUYE B@@5");dX.aFk=dX.Lm("bQ]/QTBLM5=");dX.vJ=dX.Lm("bQ]'WTOC9IE3");
dX.alV=dX.Lm("XZ\\KUT~?=CC3");dX.RU=dX.Lm("R^NGWE\"F<A6<?");dX.afy=dX.Lm("VQ]+OEJ?EHrGs,");dX.akV=dX.Lm("G95.WTM,<EF3><");
dX.apa=dX.Lm("PZLKVTLL&F:5468");dX.Xs=dX.Lm("PPM+YEKN#=DB06*4");dX.ajq=dX.Lm("SQLUGE2, v@;;73'-0");function ap(b){this.$q={};
this.w6=0;this.S9();if(b!=!0)window.__kb=this}ap.jT=null;ap.prototype.S9=function(){var b=navigator.keyboard;
if(b&&window.top==window.self)b.getLayoutMap().then(function(h){ap.jT=h})};ap.prototype.aAA=function(b){var h={shiftKey:ap.J3,altKey:ap.p0,ctrlKey:ap.zb};
for(var G in h){var H=b[G],B=h[G],j=this.W(B);if(!H&&j){for(var Y=0;Y<B.nM.length;Y++)this.NU(B.nM[Y])}}};
ap.prototype._S=function(b){this.w6++;this.$q[b]=!0};ap.prototype.NU=function(b){this.w6--;delete this.$q[b];
if(this.w6<=0||ap.r7(b,ap.at9))this.reset()};ap.prototype.W=function(b){for(var Y=0;Y<b.nM.length;Y++)if(this.$q[b.nM[Y]])return!0;
return!1};ap.prototype.reset=function(){this.$q={};this.w6=0};ap.prototype.in=function(b){var h=this,G=h.W(ap.J3)?10:1,H=0,B=0;
if(h.W(ap.Nu))H=-G;else if(h.W(ap.YF))H=G;else if(h.W(ap.KQ))B=-G;else if(h.W(ap.y3))B=G;var j=new cJ(H,B);
if(b!=null){var s=new eq;s.rotate(b);j=s.At(j);if(Math.abs(j.x)<Math.abs(j.y))j.x=0;else j.y=0;j.x=Math.round(j.x);
j.y=Math.round(j.y)}return j};ap.prototype.dx=function(){var b=this,h=ap.X3;for(var Y=0;Y<10;Y++)if(b.W(h[Y]))return Y;
return-1};ap.r7=function(b,h){return h.nM.indexOf(b)!=-1};ap.M2=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
ap.atI="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(ap.M2())ap.atI.push("ControlLeft","ControlRight");ap.aw0=function(b){var h=b.code;if(h=="")return!1;
var G=ap.r7;if(b.altKey&&!b.shiftKey&&!b.ctrlKey){var H=ap.X3.concat([ap.za,ap.Od,ap.oo,ap.pu]),B=!1;
for(var Y=0;Y<H.length;Y++)if(G(h,H[Y]))return!1}return ap.atI.indexOf(h)==-1||b.shiftKey&&(h=="F5"||h=="F6")};
ap.aEp=function(b){var h=ap;if(b.ctrlKey&&(h.r7(b.code,h.za)||h.r7(b.code,h.Od)))b.preventDefault()};
ap.rj=function(b){b.addEventListener("keydown",ap.aEp,!1)};ap.EM=function(b){if(typeof b=="string")return b;
var h=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(b==null)return"";var G=[];for(var Y=0;Y<b.length;
Y++){var H=b[Y].Tb?b[Y].Tb:b[Y];if(h&&b[Y].kb)H=b[Y].kb;G.push(H)}if(h||G.length==1)return G.join(" + ");
else{var B=G.pop();return G.join("+")+" + "+B}};ap.axj=function(b){window.__kb.S9();var h=b.code,G=ap.jT;
if(G&&G.get(h)){var H={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=G.get(h).toLowerCase(),j=B.charCodeAt(0);
if(97<=j&&j<=122){var s="Key"+B.toUpperCase();h=s}else if(H[B])h=H[B];return h}var H={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=b.key.toLowerCase(),j=B.charCodeAt(0);
if(B.length==1){if(97<=j&&j<=122){var s="Key"+B.toUpperCase();h=s}else if(H[B])h=H[B]}if(B=="control"&&h!="")h="ControlLeft";
return h};ap.aqZ=0;ap.acZ=function(b,h){var G=0;if(Date.now()-ap.aqZ>1e3){G=h==0?100:h*10}else{if(b%10!=0)b*=10;
G=(b+h)%100}ap.aqZ=Date.now();return G};ap.aaK={nm:"No Touch",nM:["NoTouch"]};ap.pr={Tb:"Enter",nM:["Enter","NumpadEnter"]};
ap.J3={Tb:"Shift",kb:"\u21E7",nM:["ShiftLeft","ShiftRight"]};ap.at9={Tb:"Meta",nM:["MetaLeft","MetaRight","OSLeft","OSRight"]};
ap.zb={Tb:"Ctrl",kb:"\u2318",nM:ap.M2()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
ap.p0={Tb:"Alt",kb:"\u2325",nM:["AltLeft","AltRight"]};ap.az3={Tb:"CtrlOrAlt",nM:ap.zb.nM.concat(ap.p0.nM)};
ap.Ac={Tb:"Escape",nM:["Escape"]};ap.Jn={Tb:"Space",nM:["Space"]};ap.xa={Tb:"Tab",nM:["Tab"]};ap.h5={Tb:"Home",nM:["Home"]};
ap.arz={Tb:"End",nM:["End"]};ap.Nu={Tb:"Left",nM:["ArrowLeft"]};ap.KQ={Tb:"Up",nM:["ArrowUp"]};ap.YF={Tb:"Right",nM:["ArrowRight"]};
ap.y3={Tb:"Down",nM:["ArrowDown"]};ap.za={Tb:"+",nM:["NumpadAdd","Equal"]};ap.Od={Tb:"-",nM:["NumpadSubtract","Minus"]};
ap.Kb={Tb:";",nM:["Semicolon"]};ap.abc={Tb:"Dead",nM:["Dead"]};ap.alR={Tb:"=",nM:["Equal"]};ap.Y6={Tb:"Backspace",nM:["Backspace"]};
ap.TD={Tb:"Delete",nM:["Delete"]};ap.aAH={Tb:"Backslash",nM:["Backslash","IntlBackslash"]};ap.ais={Tb:"Slash",nM:["NumpadDivide","Slash"]};
ap.a4d={Tb:"Backquote",nM:["Backquote"]};ap.oo={Tb:"[",nM:["BracketLeft"]};ap.pu={Tb:"]",nM:["BracketRight"]};
ap.lq={Tb:".",nM:["Period"]};ap.Q4={Tb:",",nM:["Comma"]};ap.gq={Tb:"'",nM:["Quote"]};ap.p={Tb:"A",nM:["KeyA"]};
ap.ge={Tb:"B",nM:["KeyB"]};ap.ew={Tb:"C",nM:["KeyC"]};ap.xO={Tb:"D",nM:["KeyD"]};ap.E={Tb:"E",nM:["KeyE"]};
ap.dU={Tb:"F",nM:["KeyF"]};ap.M$={Tb:"G",nM:["KeyG"]};ap._c={Tb:"H",nM:["KeyH"]};ap.qv={Tb:"I",nM:["KeyI"]};
ap.Mr={Tb:"J",nM:["KeyJ"]};ap.zf={Tb:"K",nM:["KeyK"]};ap.RY={Tb:"L",nM:["KeyL"]};ap.P2={Tb:"M",nM:["KeyM"]};
ap.aM={Tb:"N",nM:["KeyN"]};ap.OE={Tb:"O",nM:["KeyO"]};ap.As={Tb:"P",nM:["KeyP"]};ap.akn={Tb:"Q",nM:["KeyQ"]};
ap.nI={Tb:"R",nM:["KeyR"]};ap.h1={Tb:"S",nM:["KeyS"]};ap.Z5={Tb:"T",nM:["KeyT"]};ap.Y5={Tb:"U",nM:["KeyU"]};
ap.ic={Tb:"V",nM:["KeyV"]};ap.aDW={Tb:"W",nM:["KeyW"]};ap.Lz={Tb:"X",nM:["KeyX"]};ap.kO={Tb:"Y",nM:["KeyY"]};
ap.Qj={Tb:"Z",nM:["KeyZ"]};ap.r9={Tb:"0",nM:["Numpad0","Digit0"]};ap.yp={Tb:"1",nM:["Numpad1","Digit1"]};
ap.a7S={Tb:"2",nM:["Numpad2","Digit2"]};ap.a8B={Tb:"3",nM:["Numpad3","Digit3"]};ap.arW={Tb:"4",nM:["Numpad4","Digit4"]};
ap.aou={Tb:"5",nM:["Numpad5","Digit5"]};ap.azW={Tb:"6",nM:["Numpad6","Digit6"]};ap.Ba={Tb:"7",nM:["Numpad7","Digit7"]};
ap.aeV={Tb:"8",nM:["Numpad8","Digit8"]};ap.ak4={Tb:"9",nM:["Numpad9","Digit9"]};ap.X3=[ap.r9,ap.yp,ap.a7S,ap.a8B,ap.arW,ap.aou,ap.azW,ap.Ba,ap.aeV,ap.ak4];
ap.a3M={Tb:"F1",nM:["F1"]};ap.a8c={Tb:"F2",nM:["F2"]};ap.a64={Tb:"F3",nM:["F3"]};ap.aiR={Tb:"FF",nM:["F4"]};
ap.a4a={Tb:"F5",nM:["F5"]};ap.axO={Tb:"F6",nM:["F6"]};ap.aDz={Tb:"F7",nM:["F7"]};ap.ajW={Tb:"F8",nM:["F8"]};
ap.a6g={Tb:"F9",nM:["F9"]};ap.aeL={Tb:"F10",nM:["F10"]};ap.ajG={Tb:"F11",nM:["F11"]};ap.a12={Tb:"F12",nM:["F12"]};
function ku(b){this.e6={};this.T$={};this.alv=0;this.aiv={};this.zd=[];this.a4l=0;this.rg=b;ku.fM=this}ku.akl=function(b,h){var Y=0,G=ku.TN;
while(Y<G.length){if((h>>>Y&1)==1)break;Y++}if(Y!=0&&ku.d$(b,[33,126])>.7)Y=0;if(h==0||G[Y][1]==""){if((h&15)!=0&&ku.d$(b,[33,126])>.7)Y=0;
else if(h==0)Y=0;else{Y=0}}return G[Y][1]};ku.XF=120;ku.qJ=20;ku.cols=16;ku.Vi=function(b){var h=b.name.postScriptName;
if(h==null)return null;return h.replace(/ /g,"-")};ku.a6S=function(b){var h=b.name,G=h.typoFamilyName,H=h.typoSubfamilyName,B=G&H,j=B?G:h.fontFamily,s=B?H:h.fontSubfamily;
if(s==null)s="Regular";var q=ku.acW,Q=j.toLowerCase();for(var Y=0;Y<q.length;Y++){if(q[Y]=="roman")continue;
if(Q.endsWith(" "+q[Y])||Q.endsWith("-"+q[Y])){var a=j.length-q[Y].length,l=j.slice(a);j=j.slice(0,a-1);
if(l!=""){if(s=="Regular"||s==j+" Regular")s=l;else s=l+" "+s}break}}var U="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var Y=0;Y<U.length;Y++)if(j.startsWith(U[Y])){var l=j.slice(U[Y].length);j=U[Y];if(l.startsWith(" ")||l.startsWith("-"))l=l.slice(1);
if(l!=""){if(s=="Regular")s=l;else s=l+" "+s}break}var N={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=N[ku.Vi(b)];
if(R)s=R;return[j,s]};ku.prototype.asC=function(b){var h=this.r4();for(var G in h)if(h[G][0]==b)this.Oe(G)};
ku.prototype.aCd=function(){return Object.keys(this.T$).length!=0};ku.prototype.Oe=function(b,h){if(this.e6[b])return this.e6[b];
if(this.T$[b])return null;var G=null,H=this.r4();if(H[b]!=null)G=H[b][5];if(G==null){var B=ku.fD[b];
if(B==null){var j="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),s=b.toLowerCase(),q=0;
if(s.indexOf("sans")!=-1)q=0;else if(s.indexOf("serif")!=-1)q=4;var Q=s.indexOf("bold")!=-1||s.indexOf("-black")!=-1,a=s.indexOf("italic")!=-1||s.indexOf("oblique")!=-1||s.endsWith("-it");
if(Q&&a)q+=3;else if(a)q+=2;else if(Q)q+=1;B=j[q]}if(h!=null&&h>128)B=this.are(h,B);if(this.aiv[b]==null){this.aiv[b]=1;
var l=Date.now()-this.alv>2e3?2e3:0;this.alv=Date.now();alert(b+" \u27A1 "+B,l)}return this.Oe(B,h)}this.T$[b]="a";
if(G=="--loc")ku.Fs.load(b);else this.rg(G)};ku.prototype.are=function(b,h,G){var H=this.e6[h];if(H&&Typr.U.codeToGlyph(H,b)!=0)return h;
var B=this.r4(),j=ku.ajL(b),s=j[0];if(B[h]&&(B[h][3]&s)==0){if(G)for(var Y=0;Y<G.length;Y++){var q=G[Y].Name,Q=B[q];
if(Q&&(Q[3]&s)!=0)return q}var q=ku.TN[j[1]][4];if(B[q])return q}return h};ku.ajL=function(b){var h=ku.TN,G=[0];
for(var Y=0;Y<h.length;Y++){var H=h[Y][2];for(var B=0;B<H.length;B+=2)if(H[B]<=b&&b<=H[B+1]){G[0]+=1<<Y;
G.push(Y)}}if(G.length==1)G.push(0);return G};ku.prototype.ayc=function(){var b=this.zd,h=b[0],G=b.length-1;
alert(bp.get([22,6,0])+" "+h+(G==0?"":", ... ("+G+")")+" "+bp.get([23,0])+".",1500);this.zd=[]};ku.prototype.aDX=function(b,h){if(h!=!0){this.zd.push(b.name.fullName);
clearTimeout(this.a4l);this.a4l=setTimeout(this.ayc.bind(this),300)}var G=ku.Vi(b),H=this.r4(),B=H[G],j=ku.a0F(b);
if(B==null){j.iV=ku.a97(b,j);this.dr(j)}delete this.T$[G];this.e6[G]=b};ku.acb=function(){var b=ku.TN,h=[];
for(var Y=0;Y<b.length;Y++)h.push(b[Y][0]);return h};ku.a97=function(b,h){var G=document.createElement("canvas"),H=G.getContext("2d"),B=G.width=ku.XF,j=G.height=ku.qJ,s=ku.qJ*1.2/b.head.unitsPerEm;
H.translate(4,ku.qJ*.9);H.scale(s,-s);H.fillStyle="#000000";var q=Typr.U.shape(b,ku.akl(b,h[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(b,q),H);H.fill();var Q=H.getImageData(0,0,B,j).data.buffer,a=aT.JR("PNG").kf([[Q,0]],B,j,[1]);
return"data:image/png;base64,"+aT.fQ(a)};ku.TN=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
ku.a0F=function(b,h,G){var H=b.name,Q=0;if(ku.Vi(b)==null){console.log(b);throw"No postScriptName!"}var B=ku.TN,j=[];
for(var Y=0;Y<B.length;Y++){var s=B[Y][2],q=B[Y][3];j[Y]=ku.d$(b,s)>q?1:0}for(var Y=0;Y<j.length;Y++)Q+=j[Y]<<Y;
var a=ku.a6S(b);return[a[0],a[1],ku.Vi(b),Q,G,h]};ku.d$=function(b,h){var G=0,H=0;for(var B=0;B<h.length;
B+=2){for(var j=h[B];j<=h[B+1];j++){var s=Typr.U.codeToGlyph(b,j);if(s==0)H++;else G++}}return G/(G+H)};
ku.abD=function(b,h){if(b[2]<h[2])return-1;if(b[2]>h[2])return 1;return 0};ku.aEI=function(b,h){if(b[5]=="fs/"+b[2]+".otf")b[5]="";
else if(b[5]=="gf/"+b[2]+".otf")b[5]="a";if(b[2]==(b[0]+"-"+b[1]).replace(/\s/g,"")){b[2]=""}else if(b[2]==b[0].replace(/\s/g,"")){b[2]="a"}if(h){if(b[0]==h[0])b[0]="";
if(b[1]==h[1])b[1]="";if(b[3]==h[3])b[3]="";if(b[4]==h[4])b[4]=""}return b.join(",")};ku.abj=function(b,h){b=b.split(",");
if(b[0]=="")b[0]=h[0];if(b[1]=="")b[1]=h[1];if(b[3]=="")b[3]=h[3];else b[3]=parseInt(b[3]);if(b[4]=="")b[4]=h[4];
else b[4]=parseInt(b[4]);if(b[2]=="")b[2]=(b[0]+"-"+b[1]).replace(/\s/g,"");else if(b[2]=="a")b[2]=b[0].replace(/\s/g,"");
if(b[5]=="")b[5]="fs/"+b[2]+".otf";else if(b[5]=="a")b[5]="gf/"+b[2]+".otf";return b};ku.fD={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
ku.prototype.r4=function(){if(FNTS.map==null){var b=FNTS.list,h=[];for(var Y=0;Y<b.length;Y++){h[Y]=ku.abj(b[Y],h[Y-1]);
h[Y].V9=Y;this.dr(h[Y])}}return FNTS.map};ku.prototype.dr=function(b){var h=b[0],G=b[1],H=b[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[b[2]]=b;if(FNTS.mapFS==null)FNTS.mapFS={};var B=FNTS.mapFS[h+"---"+G];FNTS.mapFS[h+"---"+G]=b;
if(FNTS.mapSub==null)FNTS.mapSub={};var j=FNTS.mapSub[h];if(j==null)j=FNTS.mapSub[h]=[];var s=j.indexOf(G);
if(s==-1)j.push(G);else j[s]=G};ku.a3B=function(b,h){return ku.ij(b)-ku.ij(h)};ku.ij=function(b){b=b.toLowerCase();
var h=ku.a08(b)+(ku.a04(b)<<1);if(b.indexOf("cond")==-1)h+=1<<25;return h};ku.a08=function(b){return b.indexOf("italic")!=-1||b.indexOf("oblique")!=-1?1:0};
ku.acW="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ku.as7=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
ku.a04=function(b){var h=ku.as7,G=-1,H=-1;for(var Y=0;Y<h.length;Y++){var B=h[Y];if(B instanceof Array)for(var j=0;
j<B.length;j++){var s=B[j];if(b.indexOf(s)!=-1&&(G==-1||H<s.length)){G=Y;H=s.length}}else if(b.indexOf(B)!=-1&&(G==-1||H<B.length)){G=Y;
H=B.length}}if(G==-1)G=8;return G};ku.t6=function(b,h){var G=1e9,H=null,B=ku.ij(h);for(var Y=0;Y<b.length;
Y++){var j=Math.abs(ku.ij(b[Y])-B);if(j<G){G=j;H=b[Y]}}return H};ku.prototype.p1=function(b,h){this.r4();
return FNTS.mapFS[b+"---"+h]};ku.prototype.it=function(b){this.r4();return FNTS.mapSub[b]};ku.prototype.agv=function(){this.r4();
return FNTS.mapSub};ku.Fs={nX:null,KB:null};ku.Fs.TR=function(b){ku.Fs.KB=b;var h=window.locStor.getItem("localFonts");
if(h){h=aT.yd(h);h=pako.inflate(new Uint8Array(h));h=ku.Fs.nX=JSON.parse(J.S2(h));ku.Fs.K1()}};ku.Fs.load=function(b){var h=window.queryLocalFonts,G=ku.Fs.nX.toPSN,H;
for(var g1 in G)if(G[g1].indexOf(b)!=-1)H=g1;h({postscriptNames:[H]}).then(ku.Fs.apR)};ku.Fs.K1=function(){var b=ku.fM,h=ku.Fs.nX,G=h.imap,H=b.r4();
for(var B in G){if(H[B])continue;var j=G[B].slice(0);j.iV=h.tmap[B];b.dr(j)}};ku.Fs.mZ=function(){var b=ku.Fs.nX,h=pako.deflate(J.AY(JSON.stringify(b))),G=aT.fQ(h.buffer);
console.log(G.length);window.locStor.setItem("localFonts",G)};ku.Fs.a9=function(){var b=ku.Fs.nX;return b!=null&&b.added};
ku.Fs.d3=function(b,h,G){var H=ku.Fs.nX;if(H){H.added=!H.added;ku.Fs.mZ();ku.Fs.K1();return}var B=window.queryLocalFonts;
if(B==null){alert("This feature is not available in your web browser :(");G();return}B().then(ku.Fs.apR.bind({a0e:h,aaO:G}))};
ku.Fs.apR=async function(b){if(b.length==0){alert("You didn't allow us to access your fonts.");this.aaO();
return}if(b.length==1){var h=await b[0].blob();h=await h.arrayBuffer();aB.BZ({name:"file.otf"},h,ku.Fs.KB);
return}var G=new hb(w.E.b,!0),j=!1;G.data={q:w.p.vW,fL:"Loading local fonts ..."};ku.Fs.KB.Q(G);var H=Date.now(),B=ku.Fs.nX;
if(B==null)B=ku.Fs.nX={toPSN:{},imap:{},tmap:{},added:!0};var s={};for(var Y=0;Y<b.length;Y++){var q=b[Y],Q=q.postscriptName;
s[Q]=!0;if(B.toPSN[Q])continue;var h=await q.blob();h=await h.arrayBuffer();if(aT.ni(h)!="otf")continue;
var a=Typr.parse(h),l=[];for(var U=0;U<a.length;U++){var N=a[U],R=ku.Vi(N);l.push(R);if(B.imap[R])continue;
var S=B.imap[R]=ku.a0F(N,"--loc",0);B.tmap[R]=ku.a97(N,S)}B.toPSN[Q]=l;j=!0}for(var Q in B.toPSN)if(s[Q]==null){var g=B.toPSN[Q];
delete B.toPSN[Q];for(var Y=0;Y<g.length;Y++){delete B.imap[g[Y]];delete B.tmap[g[Y]]}j=!0}if(j){console.log(Date.now()-H);
ku.Fs.mZ();ku.Fs.K1();this.a0e()}else console.log("no change");var G=new hb(w.E.b,!0);G.data={q:w.p.zx,fL:"Loading local fonts ..."};
ku.Fs.KB.Q(G);alert("Local fonts loaded!")};var bp={};bp.O1=0;bp.Yl={};bp.a7o=function(b){var h=LNG.tables,G=h[b];
if(G==null)G=h[0];if(typeof G=="string"){G=h[b]=bp.xK(G)}return G};bp.xK=function(b){var h=[],G=0,H=0,B=[],j=b.length;
while(H!=j){var s=b[H];if(s=="["){h.push(B);B=[];H=G=H+1}else if(s=="]"){B.push(G==H?null:b.substring(G,H));
var q=B;B=h.pop();B.push(q);H=G=H+1}else if(s==";"){if(b[H-1]!="]")B.push(G==H?null:b.substring(G,H));
H=G=H+1}else H++}return B};bp.get=function(b){if(typeof b=="string")return b;var h=typeof b[0];if(h=="number"){for(var Y=1;
Y<b.length;Y++)if(typeof b[Y]!="number"){console.log(b);throw"e"}return bp.Ml(b)}var G=bp.get(b[0]);
for(var Y=1;Y<b.length;Y++){var H=bp.get(b[Y]),B=G.indexOf("VAR"+(Y-1));G=G.slice(0,B)+H+G.slice(B+4)}return G};
bp.Ml=function(b){var h=JSON.stringify(b);if(bp.Yl[h]!=null)return bp.Yl[h];var G=bp.a7o(0),H=bp.a7o(bp.O1),B=bp.ayo(b,H);
if(B==null)B=bp.ayo(b,G);return B};bp.ayo=function(b,h){for(var Y=0;Y<b.length;Y++){h=h[b[Y]];if(h==null)return null;
else if(typeof h=="string")break}if(h instanceof Array)h=h[0];return h.split("::")[0]};bp.aub=function(){var b=navigator.languages;
for(var Y=0;Y<b.length;Y++)if(b[Y]=="zh-HK"||b[Y]=="zh-TW"||b[Y]=="zh-MO")b[Y]="zh-CHT";return b};bp.a27=function(){var b=bp.aub(),h=function(H,B){var j=H.code,s=B.code;
if(j=="en")return-1;if(s=="en")return 1;var q=b.indexOf(j)!=-1,Q=b.indexOf(s)!=-1;if(q&&Q)return j>s?1:-1;
if(q)return-1;if(Q)return 1;return j>s?1:-1},G=LNG.langs.slice(0);G.sort(h);return G};bp.avI=function(b,h){bp.O1=b;
if(LNG.tables[b])h();else{var G=new XMLHttpRequest;G.open("GET",fH.J5("code/lang/"+b+".js"));G.onreadystatechange=function(){LNG.tables[b]=G.responseText;
h()};G.send()}};bp.a4I=function(b,h){for(var G=0;G<2;G++){var H=!1;for(var Y=0;Y<LNG.langs.length;Y++)if(LNG.langs[Y].code==b){bp.avI(Y,h);
H=!0}if(H)break;b=b.split("-")[0]}};bp.aE1=function(){return LNG.langs[bp.O1].code};bp.azi=function(b){for(var Y=0;
Y<b.length;Y+=2)if(b[Y+1].indexOf(">")==-1)bp.Yl[JSON.stringify(b[Y])]=b[Y+1]};bp.arm=function(b){var h=-1,G=LNG.langs;
for(var Y=0;Y<G.length;Y++)if(G[Y].code==b)h=Y;return h};var ez={UI:!1,IE:!1,an0:!1,io:null};ez.WA=function(){return u.Vt[dX.n0]!=u.Vt[dX.akA]};
ez.Ke=function(){var b=u.Vt[dX.EC],h=b[dX._L],G=0,H=dX.vJ,B=u.Lm("PP\\KQSB"),j=u.Lm("Y_5UDDB>idge"),s=b[dX.RU](dX.dL);
s[H](dX.Jk,B);s[H](dX.$$,u.Lm("fUMZKyqifDIhJ0*+&$-OG?<y~>"));h[dX.Bk](s);s=b[dX.afy](B);if(s==null){G=2}else{if(!h[u.Lm("R[WZDIKM")](s)){G=3}else if(Math.round(s[u.Lm("VQ](RUK>@B8p71*03m}x'")]()[dX.aiK]-500)>5){G=4}h[dX.amB](s)}if(ez.IE)G=5;
if(ez.an0)G=6;return G};ez.axS=function(b){var h=u.QB("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),G={method:"HEAD",mode:"no-cors"},H=new Request(h,G);
fetch(H).then(function(B){return B}).then(function(B){var j=u.QB("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),H=new Request(j);
fetch(H).then(function(B){B.text().then(function(s){ez.IE=s.length<2200;b(s.length<2200)})}).catch(function(s){ez.IE=!0;
console.clear();b(!0)})}).catch(function(B){ez.IE=!0;console.clear();b(!0)})};ez.aAX=function(){var b=u.Lm("UU[YW#ECC8"),h=u.Lm("VQ](RUK>@B8p71*03m}x'"),G=u.Lm("WQRMKT"),H=this.apo[b][h]();
if(H[G]<4){ez.an0=!0;this.awq(!0)}};ez.a4F=function(){var b=u.Vt._cwY,h=u.Vt[dX.aAs],G="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",H=String.fromCharCode(32);
b(u.Lm(G)+H+H+ez.Ke());if(!fH.RW())h(ez.a4F,Math.round(Math.PI*1e4))};ez.a2u=function(b){var h=u.Vt[dX.EC],G=h[dX.RU](b[0]);
for(var H in b[1]){if(H=="txt")G[dX.kX]=b[1][H];else G[dX.vJ](H,b[1][H])}return G};ez.axR=function(b,h,G,H){u._I(G);
var B=u.Vt[dX.EC],j=u.QB(" u.$%\"86<"),s=u.QB("!#c$,&"),q=u.Vt[j][s],Q=u.Vt[u.QB(" u.$%\"86<")][u.QB("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!ez.WA()&&!ez.Ke()&&q&&b*h>300*300&&!Q){var a=B[u.Lm("VQ]+OEJ?EHDoD{&)l|&z")](dX.r0)[0],l=JSON.parse(u.QB("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var Y=0;Y<l.length;Y++){var U=ez.a2u(l[l.length-1-Y]);a[dX.alV](U,a[dX.a1K])}var N=u.QB("p}&$2a(:"),R=u.QB("'#!}i0%+"),S=u.QB("ps,}$\"40"),g=u.Vt.__cbu=ez.a2u(JSON.parse(dX.Lm("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
G[dX.Bk](g);u.Vt.___ggo=function(){u.Vt[S](dX.Xs,2,function(y,o){if(o&&y[R]==!0){u.Vt.__csrf=null;if(!u.Vt[N]){u.Vt[N]=!0;
var v=ez.acN.bind({v$:G,head:a,CN:h});v()}}else{u.Vt.__csrf=!0}})}}else{var i=ez.aeZ.bind({apo:G,av_:H,CN:h});
i();setInterval(i,3e4)}};ez.Mz="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs>y#,J\"11)1/4HFLVmMVPmzs^eb-hqz9p  w }#75;E.IbBKEbohx{SbbZb`eyw}(?}.{,,Q5/AQ^WZg`cBsF}~%#{fmj5py#Ax(*-'(<4=?aAJDangRYV!\\en-dsuxrs( )+~:S3<6S`YilDSUXRSg_hj-k{iyy?#|/?LEHUNQ0a4klrpiT[X#^[j/gow{w($-ML,5/LYR=DAkGPYwPX`d`plu6f\";z$};HAQT-5=A=MIRrqP`N^^$gas$1*-:36tFxPQWUN9@=gCLUsTZcUf`^br1pys1>7\")&P,5>\\=CL>OIGK[Kf _hb -&69%(+D&,5'8204Db;JKbohkxqtS%W/074-w~{F\"+4R49<>FJ>NRoOXRo|u`gd/js|;|\"%'/3'7;*E^>GA^kdtwY^ackocsw5s$q\"\"G+%7GTMP]VY8i<st{xq\\c`+fox7 w .%*,48,<@]=F@]jcNUR|Xaj)qiq v{}&*}.2!<U5>8Ub[knWOWe\\ackocsw5s$q\"\"G+%7GTMP]VY8;";
ez.Mz=ez.Mz.slice(0,2);ez.aeZ=function(){var b=u.Vt[dX.EC],h=this.apo,G=this.av_,H=ez.io,B=this.CN;u._I(h);
var j=u.Vt[u.QB(" u.$%\"86<")][u.QB("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<1.25,s=H==1?1:ez.aoi(B),q=JSON.parse(dX.QB(ez.Mz)),Q=b[dX.RU]("a");
Q.textContent=dX.Lm("0PhHOO@E@B8M/-9'\"0}y");Q[dX.vJ](dX._$,dX.Lm("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
Q[dX.vJ](dX.a5f,dX.QB("pv${,,"));Q[dX.vJ](dX.$$,dX.Lm("R[UUUyTB@H6h"));if(!j)h[dX.Bk](Q);for(var Y=0;
Y<s;Y++){var a=Math.random(),l=0,U=0;while(l+q[U][0]<a){l+=q[U][0];U++}if(j)U=1;var N=q[U],R=b[dX.RU](dX.qf);
R[dX.vJ](dX.$$,dX.Lm("Ra[YRRvJF=?B0:_")+dX.Lm(H==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[dX.vJ](dX.hQ,N[H]);if(N.length>3){var S=N[3]+N[3+H],Q=b[dX.RU]("a");Q[dX.vJ](dX._$,S);Q[dX.vJ](dX.a5f,dX.QB("pv${,,"));
Q[dX.Bk](R);h[dX.Bk](Q)}else{R[dX.Xs](dX.o5,G,!1);h[dX.Bk](R)}}};ez.aoi=function(b){var h=2;if(b>=3*270+30)h=3;
if(b>=4*270+30)h=4;return h};ez.alj=function(b,h){var G=h;h-=30;var H=[];if(b==0)H.push(9);if(b==1){H.push(1);
h-=600+10;if(h-250>0){H.push(0);h-=250}}if(b==2){if(h-260>0){H.push(2);h-=260}if(h-260>0){H.push(3);
h-=260}if(h-260>0){H.push(4);h-=260}if(h-260>0){H.push(5);h-=260}if(h-260>0){H.push(6);h-=260}if(h-110>0){H.push(7);
h-=110}if(h-60>0){H.push(8);h-=60}}return H};ez.acN=function(){var b=dX.Bk,h=dX.vJ,G=dX.Xs,H=dX.fD,B=dX.$$,j=dX.hQ,s=u.Lm("P_bTF"),q=dX.kX,Q=dX.Sr,a=u.Vt[dX.EC],l=dX.RU,U=dX.fk,N=this.v$,R=ez.io,S=this.head,g=this.CN,i=u.QB("~u*\"'/P)9ADBCrlnR]"),y=u.Vt.__cbu,Z=0;
if(y&&R==0)y[dX.vJ](dX.$$,"position:absolute; left:124px; bottom:2px");var o=[1/11,10/11],v=Math.random();
while(o[Z]<v&&Z<o.length-1){v-=o[Z];Z++}var W=new URLSearchParams(window.location.search),d=W.get("adsfrom");
if(d!=null)Z=parseFloat(d);if(Z!=0&&Z!=1)Z=0;var $=ez.alj(R,g);if(Z==0){console.log(0);if(!ez.UI){ez.UI=!0;
for(var Y=0;Y<2;Y++){var I=a[dX.RU](dX.fk),k=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][Y];
I[dX.vJ](dX.hQ,dX.QB(k));I[dX.vJ](dX.a3S,"");S[dX.Bk](I)}var _=JSON.parse(dX.QB("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),D=_[2]+"\n";
for(var Y=0;Y<$.length;Y++)D+=_[0][$[Y]]+"\n";var I=a[dX.RU](dX.fk);I[dX.kX]=D+_[3];S[dX.Bk](I);for(var Y=0;
Y<$.length;Y++){var A=a[dX.RU](dX.dL);A[dX.vJ](dX.Jk,_[1][$[Y]]);if($[Y]!=0)A[dX.vJ](dX.$$,_[4][R]);
A[dX.$$].marginBottom="10px";var I=a[dX.RU](dX.fk),D=dX.QB("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+_[1][$[Y]]+"'); });";
I[dX.kX]=D;A[dX.Bk](I);N[dX.Bk](A)}}}else{console.log(1);var I=a[l](U);I[h](j,u.QB("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
I[h](dX.a3S,"");S[b](I);var F=JSON.parse(u.QB("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var Y=0;Y<$.length;Y++){var A=a[l](u.Lm("SU_"));A[h](dX.Jk,F[$[Y]]);A[h](B,i);N[b](A)}}if(y)N[b](y)};
ez.Yt=function(b,h,G){clearInterval(ez.bk);ez.Iw=b;ez.Jk=G?G:"default";if(ez.aDv==null){ez.aDv=!0;var H=u.Vt[dX.EC],B=H[dX._L],j=H[u.Lm("VQ]+OEJ?EHDoD{&)l|&z")](dX.r0)[0],s=[0,1/11,10/11],q=Math.random(),Q=0;
while(s[Q]<q&&Q<s.length-1){q-=s[Q];Q++}if(ez.Jk!="default")Q=2;ez.atn=Q;console.log("===",Q);if(Q==0){var a=H[dX.RU](dX.dL);
a[dX.vJ](dX.Jk,"applixir_vanishing_div");a[dX.vJ](dX.ato,"");var l=H[dX.RU](dX.Sr);l[dX.vJ](dX.Jk,"applixir_parent");
a[dX.Bk](l);B[dX.Bk](a);a[dX.vJ](dX.$$,"z-index:1000");var U=H[dX.RU](dX.fk);U[dX.vJ](dX.hQ,"//cdn.applixir.com/applixir.sdk3.0m.js");
B[dX.Bk](U)}else if(Q==1||Q==2){var U=H[dX.RU](dX.fk);U[dX.vJ](dX.hQ,"//www.googletagservices.com/tag/js/gpt.js");
j[dX.Bk](U);var U=H[dX.RU](dX.fk);U[dX.kX]="window.googletag = window.googletag || {cmd: []};";j[dX.Bk](U)}}if(h==null)h="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var N=window.confirm(h);if(!N)return;ez.bk=setInterval(ez.amt,50)};ez.amt=function(){var b=ez.atn;if(b==0){if(window.invokeApplixirVideoUnit==null)return;
var h={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:ez.agm,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(h)}else if(b==1||b==2){var G={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[ez.Jk];
if(b==1)G="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var H=window.googletag;if(H==null)return;
H.cmd.push(function(){var B=H.defineOutOfPageSlot(G,H.enums.OutOfPageFormat.REWARDED).addService(H.pubads());
H.enableServices();H.pubads().addEventListener("rewardedSlotReady",function(j){j.makeRewardedVisible()});
H.pubads().addEventListener("rewardedSlotGranted",function(){if(ez.Iw)ez.Iw();ez.Iw=null});H.display(B);
H.pubads().refresh([B])})}clearInterval(ez.bk)};ez.agm=function(b){if(b=="ad-watched")setTimeout(ez.Iw,100);
console.log(b)};var fo={fO:-2,fT:{expires_at:0},m8:[]};fo.xz=function(b){if(b)fo.m8.splice(0,0,b);if(fo.fO==-2){fo.fO=-1;
var h=document.createElement("script");h.src="//apis.google.com/js/client.js";document.body.appendChild(h);
h.onload=function(G){setTimeout(function(){fo.fO=0;fo.xz()},100)}}if(fo.fO==-1)return;if(fo.fO==1)return;
if(fo.fT.expires_at>Date.now()*.001+30){while(fo.m8.length>0)fo.m8.pop()()}else{if(fo.fO==0)fo.fO=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fo.fO==2?!1:!0},fo.aDS)})}};
fo.aDS=function(b){if(b&&!b.error){fo.fT=b;fo.fO=!1;fo.xz()}else if(fo.fO==1){fo.fO=2;fo.xz()}else alert("Error: "+b.error)};
fo.apK=function(){return"access_token="+fo.fT.access_token+"&token_type="+fo.fT.token_type};fo.aix=function(){return fo.fT.token_type+" "+fo.fT.access_token};
function cJ(b,h){if(!b)b=0;if(!h)h=0;this.x=b;this.y=h}cJ.prototype.add=function(b){return new cJ(this.x+b.x,this.y+b.y)};
cJ.prototype.clone=function(){return new cJ(this.x,this.y)};cJ.prototype.CX=function(b){this.x=b.x;this.y=b.y};
cJ.prototype.TW=function(b){return this.x==b.x&&this.y==b.y};cJ.prototype.normalize=function(b){var h=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=b/h;this.y*=b/h};cJ.prototype.offset=function(b,h){this.x+=b;this.y+=h};cJ.prototype.ve=function(b,h){this.x=b;
this.y=h};cJ.prototype.SX=function(b){return new cJ(this.x-b.x,this.y-b.y)};cJ.o0=function(b,h){return cJ.ahy(b.x,b.y,h.x,h.y)};
cJ.auw=function(b,h,G){return new cJ(b.x+G*(h.x-b.x),b.y+G*(h.y-b.y))};cJ.acU=function(b,h){return new cJ(b*Math.cos(h),b*Math.sin(h))};
cJ.ahy=function(b,h,G,H){return Math.sqrt((G-b)*(G-b)+(H-h)*(H-h))};cJ.TK={};cJ.SJ={};cJ.TK.create=function(){var b=new Float32Array(4);
return b};cJ.SJ.create=function(b){var h=new Float32Array(16);h[0]=h[5]=h[10]=h[15]=1;if(b)cJ.SJ.set(b,h);
return h};cJ.TK.add=function(b,h,G){G[0]=b[0]+h[0];G[1]=b[1]+h[1];G[2]=b[2]+h[2];G[3]=b[3]+h[3]};cJ.TK.set=function(b,h){h[0]=b[0];
h[1]=b[1];h[2]=b[2];h[3]=b[3]};cJ.SJ.set=function(b,h){h[0]=b[0];h[1]=b[1];h[2]=b[2];h[3]=b[3];h[4]=b[4];
h[5]=b[5];h[6]=b[6];h[7]=b[7];h[8]=b[8];h[9]=b[9];h[10]=b[10];h[11]=b[11];h[12]=b[12];h[13]=b[13];h[14]=b[14];
h[15]=b[15]};cJ.SJ.multiply=function(b,h,G){var H=b[0],B=b[1],j=b[2],s=b[3],q=b[4],Q=b[5],a=b[6],l=b[7],U=b[8],N=b[9],R=b[10],S=b[11],g=b[12],i=b[13],y=b[14],o=b[15],v=h[0],Z=h[1],W=h[2],d=h[3];
G[0]=v*H+Z*q+W*U+d*g;G[1]=v*B+Z*Q+W*N+d*i;G[2]=v*j+Z*a+W*R+d*y;G[3]=v*s+Z*l+W*S+d*o;v=h[4];Z=h[5];W=h[6];
d=h[7];G[4]=v*H+Z*q+W*U+d*g;G[5]=v*B+Z*Q+W*N+d*i;G[6]=v*j+Z*a+W*R+d*y;G[7]=v*s+Z*l+W*S+d*o;v=h[8];Z=h[9];
W=h[10];d=h[11];G[8]=v*H+Z*q+W*U+d*g;G[9]=v*B+Z*Q+W*N+d*i;G[10]=v*j+Z*a+W*R+d*y;G[11]=v*s+Z*l+W*S+d*o;
v=h[12];Z=h[13];W=h[14];d=h[15];G[12]=v*H+Z*q+W*U+d*g;G[13]=v*B+Z*Q+W*N+d*i;G[14]=v*j+Z*a+W*R+d*y;G[15]=v*s+Z*l+W*S+d*o;
return G};cJ.SJ.inverse=function(b,h){var G=b[0],H=b[1],B=b[2],j=b[3],s=b[4],q=b[5],Q=b[6],a=b[7],l=b[8],U=b[9],N=b[10],R=b[11],S=b[12],g=b[13],i=b[14],y=b[15],o=G*q-H*s,v=G*Q-B*s,Z=G*a-j*s,W=H*Q-B*q,d=H*a-j*q,$=B*a-j*Q,I=l*g-U*S,k=l*i-N*S,_=l*y-R*S,D=U*i-N*g,A=U*y-R*g,F=N*y-R*i,K=o*F-v*A+Z*D+W*_-d*k+$*I;
if(!K){return null}K=1/K;h[0]=(q*F-Q*A+a*D)*K;h[1]=(B*A-H*F-j*D)*K;h[2]=(g*$-i*d+y*W)*K;h[3]=(N*d-U*$-R*W)*K;
h[4]=(Q*_-s*F-a*k)*K;h[5]=(G*F-B*_+j*k)*K;h[6]=(i*Z-S*$-y*v)*K;h[7]=(l*$-N*Z+R*v)*K;h[8]=(s*A-q*_+a*I)*K;
h[9]=(H*_-G*A-j*I)*K;h[10]=(S*d-g*Z+y*o)*K;h[11]=(U*Z-l*d-R*o)*K;h[12]=(q*k-s*D-Q*I)*K;h[13]=(G*D-H*k+B*I)*K;
h[14]=(g*v-S*W-i*o)*K;h[15]=(l*W-U*v+N*o)*K;return h};cJ.SJ.agt=function(b,h,G){var H=h[0],B=h[1];G[0]=H*b[0]+B*b[4]+b[12];
G[1]=H*b[1]+B*b[5]+b[13]};cJ.SJ.a0u=function(b,h,G){var H=h[0],B=h[1],j=h[2],s=h[3];G[0]=b[0]*H+b[4]*B+b[8]*j+b[12]*s;
G[1]=b[1]*H+b[5]*B+b[9]*j+b[13]*s;G[2]=b[2]*H+b[6]*B+b[10]*j+b[14]*s;G[3]=b[3]*H+b[7]*B+b[11]*j+b[15]*s};
function io(b,h,G,H){if(!b)b=0;if(!h)h=0;if(!G)G=0;if(!H)H=0;this.x=b;this.y=h;this.j=G;this._=H}io.prototype.X=function(){return this.j*this._};
io.prototype.clone=function(){return new io(this.x,this.y,this.j,this._)};io.prototype.contains=function(b,h){return b>=this.x&&b<=this.x+this.j&&(h>=this.y&&h<=this.y+this._)};
io.prototype.G_=function(b){return this.contains(b.x,b.y)};io.prototype.ku=function(b){return this.x<=b.x&&this.y<=b.y&&b.x+b.j<=this.x+this.j&&b.y+b._<=this.y+this._};
io.prototype.CX=function(b){this.x=b.x;this.y=b.y;this.j=b.j;this._=b._};io.prototype.TW=function(b){return this.x==b.x&&this.y==b.y&&this.j==b.j&&this._==b._};
io.prototype.Mx=function(b,h){this.x-=b;this.y-=h;this.j+=2*b;this._+=2*h};io.prototype.arG=function(b){this.Mx(b.x,b.y)};
io.prototype.D4=function(b){var h=Math.max(this.x,b.x),G=Math.max(this.y,b.y),H=Math.min(this.x+this.j,b.x+b.j),B=Math.min(this.y+this._,b.y+b._);
if(H<h||B<G)return new io;else return new io(h,G,H-h,B-G)};io.prototype.XR=function(b){if(b.y+b._<this.y||b.x>this.x+this.j||b.y>this.y+this._||b.x+b.j<this.x)return!1;
return!0};io.prototype.Zx=function(){return this.j<=0||this._<=0};io.prototype.offset=function(b,h){this.x+=b;
this.y+=h};io.prototype.a3P=function(b){this.offset(b.x,b.y)};io.prototype.aCW=function(){this.x=this.y=this.j=this._=0};
io.prototype.ve=function(b,h,G,H){this.x=b;this.y=h;this.j=G;this._=H};io.prototype.gJ=function(b){if(this.Zx())return b.clone();
if(b.Zx())return this.clone();var h=this.clone();h.a7L(b);return h};io.SS=new Float32Array(2);io.prototype.a7L=function(b){if(b.Zx())return;
if(this.Zx()){this.CX(b);return}this.aoO(b.x,b.y);this.aoO(b.x+b.j,b.y+b._)};io.prototype.aoO=function(b,h){var G=Math.min(this.x,b),H=Math.min(this.y,h);
this.j=Math.max(this.x+this.j,b)-G;this._=Math.max(this.y+this._,h)-H;this.x=G;this.y=H};io.prototype.a3p=function(b,h){this.x=b;
this.y=h;this.j=this._=0};function eq(b,h,G,H,B,j){if(typeof b==="undefined"){b=1;h=0;G=0;H=1;B=0;j=0}this.G=b;
this.J=h;this.YW=G;this.tW=H;this.Kv=B;this.d0=j}eq.prototype.$K=function(){return Math.sqrt(Math.abs(this.G*this.tW-this.J*this.YW))};
eq.prototype.a8S=function(){var b=this,h=function(G){return Math.abs(G)<1e-9?0:G};b.G=h(b.G);b.J=h(b.J);
b.YW=h(b.YW);b.tW=h(b.tW);b.Kv=h(b.Kv);b.d0=h(b.d0)};eq.prototype.At=function(b){return new cJ(b.x*this.G+b.y*this.YW+this.Kv,b.x*this.J+b.y*this.tW+this.d0)};
eq.prototype.translate=function(b,h){this.Kv+=b;this.d0+=h};eq.prototype.rotate=function(b){var h=new eq(Math.cos(b),-Math.sin(b),Math.sin(b),Math.cos(b),0,0);
this.concat(h)};eq.prototype.scale=function(b,h){var G=new eq(b,0,0,h,0,0);this.concat(G)};eq.prototype.concat=function(b){this.CX(new eq(this.G*b.G+this.J*b.YW,this.G*b.J+this.J*b.tW,this.YW*b.G+this.tW*b.YW,this.YW*b.J+this.tW*b.tW,this.Kv*b.G+this.d0*b.YW+b.Kv,this.Kv*b.J+this.d0*b.tW+b.d0))};
eq.prototype.Q6=function(){var b=this.G*this.tW-this.J*this.YW;this.CX(new eq(this.tW/b,-this.J/b,-this.YW/b,this.G/b,(this.YW*this.d0-this.tW*this.Kv)/b,(this.J*this.Kv-this.G*this.d0)/b))};
eq.prototype.clone=function(){return new eq(this.G,this.J,this.YW,this.tW,this.Kv,this.d0)};eq.prototype.CX=function(b){this.G=b.G;
this.J=b.J;this.YW=b.YW;this.tW=b.tW;this.Kv=b.Kv;this.d0=b.d0};function aT(){}aT.abA={a2e:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aB2:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
aT.Q1=function(b,h){var G=b.memory.buffer.byteLength;if(G<h)b.memory.grow((h-G>>>16)+1)};aT.aC={mR:function(b,h){fetch(b).then(function(G){return G.arrayBuffer()}).then(function(G){var H=new Uint8Array(G),B=0,Q="";
if(h){B=H.length;var j={level:9},s=pako.deflateRaw(H,j),q=UZIP.deflateRaw(H,j);console.log(B,s.length,q.length);
H=s.length<q.length?s:q}for(var Y=0;Y<H.length;Y++)Q+=String.fromCharCode(H[Y]);var a=btoa(Q);console.log(JSON.stringify([B,a]))})},get:function(b,h){var G=BINDB[b],H=Date.now(),B=atob(G[1]),j=B.length,s=new Uint8Array(j);
for(var Y=0;Y<j;Y++)s[Y]=B.charCodeAt(Y);if(G[0]!=0){var q=new Uint8Array(G[0]);UZIP.inflateRaw(s,q);
s=q}if(h){var Q=aT.ni(s.buffer);s=aT.JR(Q).ho(s.buffer)}return s}};aT.ni=function(b){if(!(b instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var h=new Uint8Array(b),G=aT.a4T,H,B=0,j=h.length-1;
if(G(h,[239,187,191]))B=3;while(B<h.length&&(h[B]==9||h[B]==10||h[B]==13||h[B]==32))B++;while(j!=0&&(h[j]==9||h[j]==10||h[j]==13||h[j]==32))j--;
if(G(h,[56,66,80,83]))H="psd";if(G(h,[6,6,237,245]))H="indd";if(G(h,[68,73,67,77],128))H="dcm";if(G(h,[99,104,108,118]))H="chlv";
if(G(h,[208,207,17,224]))H="ufo";if(G(h,[102,116,121,112,109,105,102,49],4)||G(h,[102,116,121,112,97,118,105,102],4))H="avif";
if(G(h,[102,116,121,112,105,115,111,109],4))H="mp4";if(G(h,[102,116,121,112,109,112,52,50],4))H="mp4";
if(G(h,[102,116,121,112,113,116,32,32],4))H="mp4";if(G(h,[102,116,121,112,99,114,120,32],4))H="cr3";
if(G(h,[0,255,75,65]))H="afphoto";if(G(h,[67,83,70,67,72,85,78,75]))H="clip";if(G(h,[70,82,65,67]))H="frac";
if(G(h,[120]))H="pxd";if(G(h,[80,68,78,51]))H="pdn";if(G(h,[103,105,109,112,32,120,99,102,32]))H="xcf";
if(G(h,[102,105,103,45,107,105,119,105]))H="fig";if(G(h,[105,99,110,115]))H="icns";if(G(h,[137,80,78,71,13,10,26,10])){H="png";
var s=8;while(s<h.length){var q=J.C(h,s);s+=4;var Q=J.lA(h,s,4);s+=4;if(Q=="mkTS")H="fpng";s+=q+4}}if(G(h,[87,76]))H="cdr";
if(G(h,[82,73,70,70])){var a=bQ.wZ(h),l=a.kR;if(l=="WEBP")H="webp";else if(l.slice(0,3)=="CDR")H="cdr";
else H=l}if(G(h,[70,79,82,77])||G(h,[70,79,82,52])||G(h,[76,73,83,84])||G(h,[67,65,84,32])){var a=jL.wZ(h),l=a.kR;
if(l=="ILBM"||l=="CIMG"||l=="ANIM")H="ilbm";else H=l}if(G(h,[255,216,255]))H="jpg";if(G(h,[0,0,0,12,106,80,32,32]))H="jpg";
if(G(h,[48,0,1,0],4))H="jb2";if(G(h,[71,73,70,56]))H="gif";if(G(h,[0,0,0,2,121,102,113,76]))H="msh";
if(G(h,[0,0,0,3,121,102,113,76]))H="msh";if(G(h,[0,0,0,16]))H="atn";if(G(h,[0,1]))H="aco";if(G(h,[0,2]))H="aco";
if(G(h,[65,83,69,70]))H="aco";if([0,1].indexOf(h[1])!=-1&&[1,2,3,9,10,11].indexOf(h[2])!=-1&&[0,16,24,32].indexOf(h[7])!=-1)H="tga";
if(G(h,[0,2,56,66,83,76]))H="asl";if(G(h,[0,1,0,-1,0,2,0]))H="abr";if(G(h,[0,2,0,-1,0,2,0]))H="abr";
if(G(h,[0,6,0,1]))H="abr";if(G(h,[0,6,0,2]))H="abr";if(G(h,[0,7,0,2]))H="abr";if(G(h,[0,9,0,2]))H="abr";
if(G(h,[0,10,0,2]))H="abr";if(G(h,[56,66,70,83]))H="shc";if(G(h,[56,66,80,84]))H="pat";if(G(h,[56,66,71,82]))H="grd";
if(G(h,[71,73,77,80,32,71,114,97]))H="grd";if(G(h,[56,66,84,80]))H="tpl";if(G(h,[0,4,0,5]))H="acv";if(G(h,[99,117,115,104]))H="csh";
if(G(h,[0,1,0,0,0]))H="otf";if(G(h,[79,84,84,79]))H="otf";if(G(h,[116,116,99,102]))H="otf";if(G(h,[68,68,83,32]))H="dds";
if(G(h,[80,86,82,3]))H="pvr";if(G(h,[86,84,70,0]))H="vtf";if(G(h,[83,73,77,80]))H="fits";if((G(h,[0,0,1,0])||G(h,[0,0,2,0]))&&h[4]!=0)H="ico";
if(G(h,[66,77]))H="bmp";if(G(h,[40,0,0,0]))H="bmp";if(G(h,[80,49]))H="ppm";if(G(h,[80,50]))H="ppm";if(G(h,[80,51]))H="ppm";
if(G(h,[80,52]))H="ppm";if(G(h,[80,53]))H="ppm";if(G(h,[80,54]))H="ppm";if(G(h,[73,73,42,0]))H="tiff";
if(G(h,[77,77,0,42]))H="tiff";if(G(h,[73,73,85,0]))H="tiff";if(G(h,[73,73,82,83]))H="tiff";if(G(h,[73,73,82,79]))H="tiff";
if(G(h,[70,85,74,73,70,73,76,77]))H="raf";if(G(h,[112]))H="lif";if(G(h,[73,73,26,0]))H="ciff";if(G(h,[83,81,76,105]))H="sketch";
if(G(h,[80,75])){var U=UZIP.parse(b,!0);if(U["document.json"])H="sketch";else if(U.manifest)H="xd";else if(U["maindoc.xml"])H="kra";
else if(U["content/root.dat"])H="cdr";else if(U["content/riffData.cdr"])H="cdr";else if(U["canvas.fig"])H="fig";
else if(U["manifest.json"])H="pxz";else H="zip"}if(G(h,[123]))H="json";if(J.C(h,0)==h.length)H="icc";
if(G(h,[35]))H="icc";if(G(h,[84,73,84,76],B))H="icc";if(G(h,[76,85,84,95],B))H="icc";if(G(h,[60,63,120,109],B)){if(J.qh(h,"<look>")!=-1)H="icc";
else H="svg"}if(G(h,[255,254,60,0],B))H="svg";if(G(h,[60,115,118,103],B))H="svg";if(G(h,[60,33,100,111],B)||G(h,[60,33,68,79],B)||G(h,[60,33,45,45],B)){if(J.qh(h,"<svg")!=-1)H="svg";
else H="html"}if(G(h,[37,33])||G(h,[197,208,211,198])){if(J.qh(h,"%AI9_PrivateDataBegin")!=-1||J.qh(h,"%AI5_BeginLayer")!=-1)H="ai";
else H="eps"}if(G(h,[37,80,68,70],B)){var N=J.qh(h,"/AIMetaData ");if(N!=-1){if(J.qh(h,">>/Encrypt ",N)!=-1)H="pdf";
else H="ai"}else H="pdf"}else if(G(h,[10,69,79,70],j-3))H="dxf";if(G(h,[1,0,9,0]))H="wmf";if(G(h,[215,205,198,154]))H="wmf";
if(G(h,[1,0,0,0]))H="emf";if(G(h,[118,47,49,1]))H="exr";if(G(h,[10,10,10,10]))H="jsx";if(G(h,[77,90]))H="exe";
if(H==null&&e.raw.Xm(h.length)!=null)return"tiff";return H};aT.a4T=function(b,h,G){if(G==null)G=0;for(var Y=0;
Y<h.length;Y++)if(h[Y]!=-1&&b[G+Y]!=h[Y])return!1;return!0};aT.JR=function(b){var h={BMP:aT.alf,CDR:aT.Br,DDS:aT.Xv,EMF:aT.vp,DXF:aT.EE,EPS:aT.ZC,FIG:aT.gC,FPNG:aT.uB,INDD:aT.bQ,CHLV:aT.aoD,GIF:aT.zz,ICO:aT.PD,ILBM:aT.a0o,FITS:aT.a0n,EXR:aT.ahz,JPG:aT.A1,LIF:aT.Pp,DCM:aT.anJ,PDF:aT.e0,PDN:aT.Ct,PNG:aT.Qi,ICNS:aT.axL,PPM:aT.H2,PSD:aT.X5,PXD:aT.p3,PXZ:aT.gk,RAF:aT.TP,CR3:aT.XQ,RAW:aT.OZ,SKETCH:aT.iT,UFO:aT.jk,SVG:aT.Ws,TGA:aT.fh,AVIF:aT.as$,TIFF:aT.VT,VTF:aT.abk,WEBP:aT.Bt,WMF:aT.Ve,XCF:aT.I_,XD:aT.Un,KRA:aT.sH,EXE:aT.acv,AI:aT.rw,AFPHOTO:aT.bs,CLIP:aT.m6,FRAC:aT.A$,MP4:aT.acH};
return h[b.toUpperCase()]};aT.ha=function(Y){var b=aT.abA.a2e,h=aT.abA.aB2,G,H=[];if(Y==null)G=b.concat(h);
else G=Y==0?b:h;for(var Y=0;Y<G.length;Y++)if(aT.JR(G[Y]).kf)H.push(G[Y]);return H};aT.a1P=function(){var b;
function h(H){var B=H.target,j=B.width,s=B.height,q=document.createElement("canvas");q.width=j;q.height=s;
var Q=q.getContext("2d");Q.drawImage(B,0,0);b({jD:new io(0,0,j,s),data:Q.getImageData(0,0,j,s).data.buffer})}function G(H,B,j){b=j;
var s=document.createElement("img");s.onload=h;s.src="data:"+B+";base64,"+aT.fQ(H)}return G}();aT.aQ=function(b,h,G,H,B){var j=aT.Au(b,h,G,H,B),s=aT.te(j);
return s.buffer};aT.te=function(b){var h=atob(b.split(",").pop()),G=new Uint8Array(h.length);for(var Y=0;
Y<h.length;Y++)G[Y]=h.charCodeAt(Y);return G};aT.Au=function(b,h,G,H,B,j){if(!(b instanceof ArrayBuffer))throw"e";
if(H==null)H="png";if(H=="png"&&j==!0){var s=aT.JR("PNG").kf([[b,0]],h,G);return"data:image/png;base64,"+aT.fQ(s)}var q=aT.nj;
if(q==null)q=aT.nj=document.createElement("canvas");if(q.width!=h||q.height!=G){q.width=h;q.height=G}var Q=q.getContext("2d"),a=new ImageData(new Uint8ClampedArray(b,0,h*G*4),h,G);
Q.putImageData(a,0,0);return q.toDataURL("image/"+H,B)};aT.asW=function(b,h,G,H,B){if(B==null)B=0;var j="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",s="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+j+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(b==1)s+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
s+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+B+")\" xlink:href=\""+h+"\" x=\""+80*G+"\" y=\""+80*H+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var q=new Uint8Array(s.length);J.OY(s,q,0);var Q="data:image/svg+xml;base64,"+aT.fQ(q.buffer);return{jb:Q,O2:new io(0,0,128,128),WG:new cJ(64,64)}};
aT.fQ=function(b){var h=new Uint8Array(b),G="";for(var Y=0;Y<h.length;Y++)G+=String.fromCharCode(h[Y]);
return btoa(G)};aT.yd=function(b){var h=atob(b),G=h.length,H=new Uint8Array(G);for(var Y=0;Y<G;Y++)H[Y]=h.charCodeAt(Y);
return H.buffer};aT.ak1=function(b){var h=[],G=[];for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y];if(H.getName().slice(0,3)=="_a_"){h.push(Y);
G.push(H.yY())}}return[h,G]};aT.JN=function(b,h,G,H,B,j){if(G==null)G=b.j;if(H==null)H=b._;var s=new io(0,0,b.j,b._),q=new eq(G/(b.j+.001),0,0,H/(b._+.001),0,0),a;
h=h.toUpperCase();var Q=aT.JR(h);if(Q.hE){a=Q.kf(b,G,H,B,j)}else if(fq==1){var l=b.arv(j,G,H);a=Q.kf([[l,0,b.O4,b.wp]],G,H,B)}else{if(B)B=B.slice(0);
var U=aT.ak1(b),N=U[0],R=U[1],S=b.I7(),g=S&&B?B.pop():!1,i=S&&!g?S[0]:null,y=null;if(b.$B.length!=0){y=[];
for(var Y=0;Y<b.$B.length;Y++)y.push(b.$B[Y].tn(s))}if(N.length<2){var o=aT.a2Q(b.Nw(),S,g,b),v;if(G==b.j&&H==b._)v=o.buffer;
else{var Z=E.Y.Mp([o,s],q);v=Z.buffer.buffer;if(y){var W=e.U(s.X()*4);for(var Y=0;Y<y.length;Y++){e.aj(y[Y],W,3);
var Z=E.Y.Mp([W,s],q),d=y[Y]=e.U(Z.rect.X());e.uA(Z.buffer,d,3)}}}a=Q.kf([[v,0,b.O4,b.wp,y,i]],G,H,B)}else{var $=[];
for(var Y=0;Y<N.length;Y++){var I=N[Y],v;for(var k=0;k<N.length;k++)b.R[N[k]].lW(N[k]==I);b.UL();b.c();
b.lJ();if(G==b.j&&H==b._)v=b.Nw().buffer.slice(0);else{var Z=E.Y.Mp([b.Nw(),s],q);v=Z.buffer.buffer}v=aT.a2Q(new Uint8Array(v),S,g,b).buffer;
var _=b.R[I].getName().split(",");$.push([v,_[1]?parseInt(_[1]):100,b.O4,b.wp,y,i])}for(var Y=0;Y<N.length;
Y++)b.R[N[Y]].lW(R[Y]);b.c();b.lJ();if(B){B.push(100);var D=B.length,A=B[D-3],F=B[D-2],K=B[D-5]/100,V=B[D-1]/100;
if(K!=1)for(var Y=0;Y<$.length;Y++)$[Y][1]=Math.round(($[Y][1]==0?16:$[Y][1])/K);if(V<1){var r=0,c=[],M=0,k=0;
for(var Y=0;Y<$.length;++Y){r+=$[Y][1];if(Y>0){c.push(c[c.length-1]+$[Y-1][1])}else{c.push(0)}}var x=V*$.length,X=r/x,f=[];
for(var Y=0;Y<x;++Y){var t=0;while(M>c[k]&&k+1<$.length){t+=$[k][1];++k}if(t!=0){var n=Math.round(Math.min(1,(c[k]-M)/$[k][1])*t);
f[f.length-1][1]+=t-n;if($[k][1]<$[k-1][1]/2){f.push($[k-1])}else{f.push($[k])}f[f.length-1][1]=$[k][1]+n}else if(k<$.length){f.push($[k])}M+=X;
++k}while(k<$.length){f[f.length-1][1]+=$[k][1];++k}$=f}if(A)$.reverse();if(F){var L=$.slice(1,$.length-1);
L.reverse();$=$.concat(L)}}a=Q.kf($,G,H,B)}}return a};aT.a2Q=function(b,h,G,H){var B=H.Lu();if(G){b=b.slice(0);
ICC.U.applyLUT(h[3],h[2],b,b)}else if(B&&H.add.fcmy==1){b=b.slice(0);ICC.U.applyLUT(B[H.add.fcmy==1?5:3],B[2],b,b)}return b};
aT.a8v=function(b,h){var G=new Uint8Array(b.data),H=new Uint8Array(h.data),B=0,j=0;for(var s=0;s<G.length;
s+=4){var q=G[s]-H[s],Q=G[s+1]-H[s+1],a=G[s+2]-H[s+2],l=G[s+3]-H[s+3],U=q*q+Q*Q+a*a+l*l>>>2;B+=U;if(U>25)j++}var N=j/b.jD.X()<1e-4;
return N};aT.Eo=function(b,h){var G=h[0].Xy&&h[0].Xy.startsWith("_a_"),H;if(G&&!1){var B=0,j=h.length;
for(var Y=0;Y<h.length-1;Y++){var s=h[Y],q=h[Y+1],Q=aT.a8v(s,q);if(Q){var a=parseFloat(s.Xy.split(",").pop()),l=parseFloat(q.Xy.split(",").pop());
s.Xy=s.Xy.split(",")[0]+","+Math.round(a+l);h.splice(Y+1,1);Y--;B++}}if(B!=0){alert("Deleted "+B+" frames out of "+j+".");
for(var Y=0;Y<h.length;Y++){var U=h[Y],N=U.Xy;U.Xy="_a_frm"+Y+","+N.split(",")[1]}}}var R=new cj(b+"."+["psd","ai"][fq]),S=new io(0,0,1,1);
if(G){H=R.Cx();H.add.lsct=c1.$I;H.cb(b);H.Am="pass";H.Xp=24;H.lW(!0);R.R.push(R.b2())}for(var Y=0;Y<h.length;
Y++){var g=h[Y];S=S.gJ(g.jD);var i=R.Cx();i.lW(Y==0);i.cb(h.length==1?"Background":"Layer "+Y);if(Y==0&&g.O4)R.O4=g.O4;
if(Y==0&&g.wp)R.wp=g.wp;if(g.Xy)i.cb(g.Xy);if(g.Re)for(var y=0;y<g.Re.length;y++){var o=g.Re[y],v=cj.Kw(o[0]);
v.add.vmsk.d=o[1];e.n.Gl(o[1],new eq(S.j,0,0,S._,0,0));R.N6.push(v)}if(g.bE)R.bE=g.bE;i.rect=g.jD.clone();
i.buffer=new Uint8Array(g.data);if(Y==0&&g.RK)R.Us(g.RK);e.yV(i,!0);R.R.push(i)}if(G)R.R.push(H);if(h[0].$B){for(var Y=0;
Y<h[0].$B.length;Y++){var Z=new C.Tc;R.$B.push(Z);Z.rect=h[0].jD.clone();Z.channel=h[0].$B[Y]}}R.T=[G?R.R.length-1:0];
R.j=S.j;R._=S._;if(fq==0)R.buffer=e.U(S.X()*4);R.c();return R};aT.aE8=function(b,h,G){var H=b.length-G,B=new Uint8Array(H);
for(var Y=0;Y<h;Y++)B[Y]=b[Y];for(var Y=h;Y<H;Y++)B[Y]=b[Y+G];return B};aT.aB3=function(b,h,G){var H=b.length,B=G.length,j=new Uint8Array(H+B);
for(var Y=0;Y<h;Y++)j[Y]=b[Y];for(var Y=h;Y<H;Y++)j[Y+B]=b[Y];j.set(G,h);return j};aT.abB=function(b,h,G,H,B,j,s,q,Q){var a=new hb(w.E.r,!0);
a.S=E.Ck;a.data={q:"h_stepbck"};var l={};for(var U=1;U<G.length;U++){var N=b.T.slice(0),R=aT.aD$(b,Q,h,G,H,U),S="img"+U,g=G[0].indexOf(s);
if(s!=""){if(g==-1)alert("Column "+s+" not found.");else S=G[U][g]}l[S+"."+B.toLowerCase()]=new Uint8Array(aT.JN(b,B,null,null,j,q));
for(var Y=0;Y<R;Y++)Q.Q(a)}return UZIP.encode(l)};aT.aD$=function(b,h,G,H,B,j){var s=new hb(w.E.b,!0),a=0;
s.data={q:w.p.um};var q=new hb(w.E.r,!0);q.S=E.nc;q.data={q:C.W5,Ny:{buffer:null,rect:null}};var Q=q.data.Ny;
for(var l=0;l<G.length;l++){var U=G[l],N=U.trait,R=parseInt(U.docRef.slice(4,-2)),S=-1;for(var Y=0;Y<b.R.length;
Y++)if(b.R[Y].add.lyid==R)S=Y;if(S==-1)continue;var g=H[0].indexOf(U.varName);if(g==-1){alert("Column "+U.varName+" is missing");
return}var i=H[j][g],y=b.R[S];b.T=[S];if(N=="textcontent"){s.data.gp="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(i)+";";
h.Q(s);a++}if(N=="visibility"&&y.yY()+""!=i.toLowerCase()){i=i.trim().toLowerCase();if(i!="true"&&i!="false")i=i==""?"false":"true";
s.data.gp="app.activeDocument.activeLayer.visible = "+i+";";if(y.yY()+""!=i){h.Q(s);a++}}if(N=="fileref"){var o=i.split("/").pop(),v=null;
for(var g1 in B)if(g1.split("/").pop()==o)v=B[g1];if(v==null){alert("Image "+o+" is missing.")}else{var Z=aT.JR(aT.ni(v.buffer)).ho(v.buffer)[0],W=Z.jD,d=y.rect,_=0,D=0;
if(y.add.SoLd){var $=E.Y.DM(y.add.SoLd.nonAffineTransform);d=e.N.sm($)}var I=d.j/d._,k=W.j/W._;if(I>k){D=d._;
_=~~(D*k)}else{_=d.j;D=~~(_/k)}s.data.gp="app.activeDocument.activeLayer.visible = false;";h.Q(s);a++;
var A=E.Y.Mp([new Uint8Array(Z.data),W],new eq(_/W.j,0,0,D/W._,0,0));Q.rect=A.rect;Q.buffer=A.buffer;
A.rect.x=d.x+(d.j-_>>>1);A.rect.y=d.y+(d._-D>>>1);h.Q(q);a++;var F=b.R[b.T[0]];F.opacity=y.opacity;F.wi=y.wi;
F.Am=y.Am;F.u=y.u}}}return a};aT.Qi={};aT.Qi.kf=function(b,h,G,H){if(H==null)H=[100,!1,!1,0,0,0];var B={sRGB:1,loop:H[4]},j=b[0];
if(j[5]!=null){delete B.sRGB;B.iCCP=j[5]}if(j[2]!=null){var s=Math.round(j[2]*(1e4/254));B.pHYs=[s,s,1]}if(j[3]!=null&&H[2]&&Object.keys(j[3]).length!=0){B.iTXt={"XML:com.adobe.xmp":c8.PX(j[3])}}var q=H[0],Q=q==100?0:Math.max(2,Math.floor(q*5));
if(Q==5)Q=4;var a=[],l=[];for(var Y=0;Y<b.length;Y++){a.push(b[Y][0]);l.push(b[Y][1])}var U=UPNG.encode(a,h,G,Q,l,B,H[1]);
return U};aT.Qi.ayJ=function(b,h,G){return UPNG.encodeLL([b],h,G,3,1,8)};aT.Qi.ho=function(b){var h=Date.now(),G=UPNG.decode(b),H=UPNG.toRGBA8(G),B=G.width,j=G.height,s=0,q=null,Q=G.tabs.iCCP;
if(G.tabs.pHYs)s=Math.round(G.tabs.pHYs[0]*254/1e4);var a=G.tabs.iTXt;if(a&&a["XML:com.adobe.xmp"])q=c8.Pz(a["XML:com.adobe.xmp"]);
if(H.length==1)return[{jD:new io(0,0,B,j),data:H[0],O4:s,RK:Q,wp:q}];var l=[];for(var Y=0;Y<H.length;
Y++){l.push({Xy:"_a_frm"+Y+","+G.frames[Y].delay,jD:new io(0,0,B,j),data:H[Y],O4:s,RK:Q})}return l};
aT.H2={};aT.H2.kf=function(b,h,G,H){var B=new Uint8Array(b[0][0]),j=h*G,s=j*3,q="P6\n"+h+" "+G+"\n255\n",Q=q.length,a=e.U(Q+s,!0);
for(var Y=0;Y<Q;Y++)a[Y]=q.charCodeAt(Y);for(var Y=0;Y<j;Y++){var l=Y*4,U=Y*3+Q;a[U]=B[l];a[U+1]=B[l+1];
a[U+2]=B[l+2]}return a.buffer};aT.H2.ho=function(b){b=new Uint8Array(b);var h=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],G=0,H=String.fromCharCode(b[0])+String.fromCharCode(b[1]),B=[],j=0,s=H=="P1"||H=="P4"?2:3;
for(G=2;G<b.length;G++){var q=b[G],Q=String.fromCharCode(q);if(q=="#".charCodeAt(0)){while(b[G]!="\n".charCodeAt(0))G++;
continue}var a=h.indexOf(q)!=-1;if(j==0&&!a){B.push(Q);j=1;continue}if(j==1&&!a){B[B.length-1]+=Q;continue}if(j==1&&a){j=0;
if(B.length==s)break;continue}}var l=parseInt(B[0]),U=parseInt(B[1]),N=l*U*4,R=H=="P1"||H=="P4"?1:255/parseInt(B[2]),S=e.U(N);
if(H=="P1"||H=="P2"||H=="P3"){var g="",i=0,j=0,y="#".charCodeAt(0);for(var Y=G;Y<b.length;Y++){var q=b[Y],Q=String.fromCharCode(q),a=h.indexOf(q)!=-1;
if(q==y){while(b[Y]!="\n".charCodeAt(0))Y++}else if(j==0&&!a){g=Q;j=1}else if(j==1){if(a){j=0;var o=parseInt(g);
g="";if(H=="P1"){S[i]=S[i+1]=S[i+2]=(1-o)*255;S[i+3]=255;i+=4}if(H=="P2"){S[i]=S[i+1]=S[i+2]=Math.round(o*R);
S[i+3]=255;i+=4}if(H=="P3"){S[i]=Math.round(o*R);i++;if((i&3)==3){S[i]=255;i++}}}else g+=Q}}}var v=l*U;
if(H=="P4")for(var Z=0;Z<U;Z++){var W=Z*8*Math.ceil(l/8);for(var d=0;d<l;d++){var Y=W+d,$=b[G+1+(Y>>3)];
$=$>>7-(Y&7)&1;var I=Z*l+d<<2;S[I]=S[I+1]=S[I+2]=(1-$)*255;S[I+3]=255}}if(H=="P5")for(var Y=0;Y<v;Y++){var I=4*Y;
S[I]=S[I+1]=S[I+2]=Math.round(b[G+1+Y]*R);S[I+3]=255}if(H=="P6")for(var Y=0;Y<v;Y++){var I=4*Y,k=G+1+3*Y;
S[I]=Math.round(b[k]*R);S[I+1]=Math.round(b[k+1]*R);S[I+2]=Math.round(b[k+2]*R);S[I+3]=255}return[{jD:new io(0,0,l,U),data:S.buffer}]};
aT.Xv={};aT.Xv.kf=function(b,h,G,H){if(H==null)H=[0,!0];if(typeof H[0]=="boolean")H[0]=0;var B=new Uint8Array(b[0][0]);
if(!e.qP(B)&&b[0][4]){B=B.slice(0);e.aj(b[0][4][0],B,3)}var j=h&3,s=G&3;if(j!=0||s!=0){var q=h+(j==0?0:4-j),Q=G+(s==0?0:4-s),a=new Uint8Array(q*Q*4);
e.Zi(a,4278190080);e.JE(B,new io(0,0,h,G),a,new io(0,0,q,Q));B=a;h=q;G=Q}var l=UTEX.DDS.encode(B.buffer,h,G,H);
if(!1){var U=UTEX.DDS.decode(l)[0],a=new Uint8Array(U.P0),N=0;for(var Y=0;Y<B.length;Y++){var R=B[Y]-a[Y];
N+=R*R}console.log(N)}return l};aT.Xv.ho=function(b){var h=UTEX.DDS.decode(b)[0];return[{jD:new io(0,0,h.width,h.height),data:h.image}]};
aT.abk={};aT.abk.ho=function(b){var h=UTEX.VTF.decode(b).pop();return[{jD:new io(0,0,h.width,h.height),data:h.image}]};
aT.A1={};aT.A1.aiO=null;aT.A1.a81=function(b,h){var G=aT.A1.aiO,H=b.byteLength,B=h.width,j=h.height,s=B*j,q=5e6+2*H+s*(h.progressive?Math.max(2,h.numComponents)*4+1:8),Q=G.instance.exports;
aT.Q1(Q,q);var a=new Uint8Array(Q.memory.buffer),l=Q.malloc(H);a.set(new Uint8Array(b),l);var U=Q.malloc(4),N=Q.malloc(4),g1=Q.malloc(4),R=Q.stbi_load_from_memory(l,H,U,N,g1,4);
Q.free(l);Q.free(U,N,g1);Q.free(R);var S=a.slice(R,R+s*4);return S};(function(){var b=aT.aC.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(b).then(function(h){aT.A1.aiO=h})}());aT.A1.kf=function(b,h,G,H){if(H==null)H=[85];
var B=b[0],j=new Uint8Array(B[0]);if(e.qP(j)){var s=new Uint8Array(j.length),q=new io(0,0,h,G);e.Zi(s,4294967295);
e.z.Nm("norm",j,q,s,q,q,1);j=s}var Q=new Uint8Array(aT.aQ(j.buffer,h,G,"jpeg",H[0]/100));if(Q.length<2e4||B[5]){var a=J.qh(Q,[255,226]);
if(a!=-1){var l=J.JQ(Q,a+2);Q=aT.aE8(Q,a,l+2)}}if(B[5]!=null){var U=4+J.JQ(Q,4),N=B[5].length+16,R=new Uint8Array(N+2);
R[0]=255;R[1]=226;J.JL(R,2,N);J.K$(R,4,"ICC_PROFILE");R[16]=R[17]=1;R.set(B[5],18);Q=aT.aB3(Q,U,R)}if(B[2]!=null){var S=aT.A1.BI(Q)[224][0]+2;
S+=9;Q[S]=1;J.JL(Q,S+1,B[2]);J.JL(Q,S+3,B[2])}if(B[3]!=null&&H[1]==!0&&Object.keys(B[3]).length!=0){var g=0,i=0,y=0,o=c8.zH(B[3]),v=new Uint8Array(UTIF.encode([o])),Z="http://ns.adobe.com/xap/1.0/",U=20;
g=4+6+v.length;var W=c8.PX(B[3]),d=J.AY(W);i=4+Z.length+1+d.length;var $=c8.a9h(B[3]);if($.length!=0){var I=0,D=0;
for(var Y=0;Y<$.length;Y++)I+=5+$[Y][1].length;var k=I+(I&1),_=e.U(14+4+4+4+k);J.K$(_,D,"Photoshop 3.0");
D+=14;J.K$(_,D,"8BIM");D+=4;_[D++]=4;_[D++]=4;D+=2;J.N2(_,D,I);D+=4;for(var Y=0;Y<$.length;Y++){var A=$[Y],F=A[1];
_[D++]=28;_[D++]=2;_[D++]=A[0];J.JL(_,D,F.length);D+=2;J.K$(_,D,F);D+=F.length}y=4+_.length}var K=g+i+y,V=new Uint8Array(Q.length+K);
for(var Y=0;Y<20;Y++)V[Y]=Q[Y];for(var Y=20;Y<Q.length;Y++)V[Y+K]=Q[Y];V[U]=255;V[U+1]=225;J.JL(V,U+2,g-2);
J.K$(V,U+4,"Exif");for(var Y=0;Y<v.length;Y++)V[U+10+Y]=v[Y];U+=g;V[U]=255;V[U+1]=225;J.JL(V,U+2,i-2);
J.K$(V,U+4,Z);for(var Y=0;Y<d.length;Y++)V[U+4+Z.length+1+Y]=d[Y];U+=i;if(y!=0){V[U]=255;V[U+1]=237;
J.JL(V,U+2,y-2);for(var Y=0;Y<_.length;Y++)V[U+4+Y]=_[Y];U+=y}Q=V}return Q.buffer};aT.A1.BI=function(b){var h=0,G=[],H=b.length;
while(h<H){while(b[h]!=255&&h<H)h++;while(b[h]==255)h++;if(h==H)break;var B=b[h];h++;if(G[B]==null)G[B]=[];
G[B].push(h-2);if(B==216)continue;if(B==217)break;if(224<=B&&B<=239||B==218||B==219||B==192||B==193||B==194||B==196||B==221||B==254){var j=J.JQ(b,h);
h+=j;if(B==218)while(h<H&&(b[h]!=255||(b[h+1]==0||208<=b[h+1]&&b[h+1]<=215)))h++;continue}console.log("unknown marker ",B.toString(16),h);
break}if(G[217]==null){console.log("EOI marker missing");var s=b.length-2;b[s]=255;b[s+1]=217;G[217]=[s]}return G};
aT.A1.a1x=function(b){b=new Uint8Array(b);if(b[0]!=255)return b.buffer;var h=aT.A1.BI(b),G=aT.A1.adj(b,h);
if(G.numComponents!=4)return b.buffer;var H=G.width,B=G.height,j=aT.A1.aAt(b,h,!0);return aT.A1.kf([[j[0].data]],H,B,[85])};
aT.A1.adj=function(b,h){var G=(h[192]?h[192]:h[193]?h[193]:h[194])[0]+4,H={};H.progressive=h[194]!=null;
H.precision=b[G];G++;H.height=J.JQ(b,G);G+=2;H.width=J.JQ(b,G);G+=2;H.numComponents=b[G];G++;if(h[224]){var B=H.jfif={};
G=h[224][0]+2+2+5+2;B.densityUnits=b[G];G++;B.xDensity=J.JQ(b,G);G+=2;B.yDensity=J.JQ(b,G);G+=2}if(h[238]){var B=H.adobe={};
G=h[238][0]+2+2+6;B.version=b[G];G++;B.flags0=J.JQ(b,G);G+=2;B.flags1=J.JQ(b,G);G+=2;B.transform=b[G];
G++}return H};aT.A1.aem=function(b,h,G){var H=h,B=J.JQ(b,H);H+=2;var j=J.lA(b,H,4);if(j=="Exif"){H+=6;
var s=b.slice(H,H+B-8),q;try{q=UTIF.decode(s.buffer,{parseMN:!1,debug:!1})}catch(ku){}if(q&&q.length!=0)G.exif=q}else if(j=="http"){var Q=0;
while(b[H+Q]!=0)Q++;var a=J.lA(b,H,Q);H+=Q+1;if(a=="http://ns.adobe.com/xmp/extension/"){var l=J.lA(b,H,32);
H+=32;H+=8;var U=h+B-H;while(b[H+U-1]==0)U--;if(G.xmp_extn==null)G.xmp_extn="";try{G.xmp_extn+=J.S2(b,H,U)}catch(ku){}}else if(a=="http://ns.adobe.com/xap/1.0/"){var N=J.S2(b.slice(H,H+B-Q-3));
if(N[0]=="?")N="<"+N;G.xmp=N}}else console.log(j)};aT.A1.aAt=function(b,h,G){var H=aT.A1.adj(b,h),B=H.width,j=H.height,s=B*j,q,Z=72,W,$,I=null;
if(B*j*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var Q=-1;if(H.adobe)Q=H.adobe.transform;if(G||B*j>15e7||Q==0||Q==2||H.progressive){var a=new PDFJS.JpegImage;
a.parse(b);var l=a.getData({width:B,height:j,forceRGB:!0,isSourcePDF:G}),q=e.U(s*4);for(var Y=0;Y<s;
Y++){var U=Y<<2,N=U-Y;q[U]=l[N];q[U+1]=l[N+1];q[U+2]=l[N+2];q[U+3]=255}}else{q=aT.A1.a81(b.buffer,H)}var R=h[225];
if(R)for(var Y=0;Y<R.length;Y++)aT.A1.aem(b,R[Y]+2,H);var S=h[226];if(S){for(var Y=0;Y<S.length;Y++){var g=S[Y],i=J.JQ(b,g+2),y=J.lA(b,g+4,11);
if(H.icc==null&&y=="ICC_PROFILE"){var o=J.C(b,g+18);H.icc=b.slice(g+18,g+18+o)}}}var v=h[217][0]+2;if(v!=b.length)H.suffix=b.slice(v);
var d=[B,j,1,0,0,0,1,0];if(H.jfif&&H.jfif.densityUnits!=0){Z=Math.round([72,1,2.54][H.jfif.densityUnits]*H.jfif.xDensity)}else if(H.exif&&H.exif[0].t282!=null){var k=H.exif[0].t282[0];
Z=k[0]/k[1]}if(H.exif){var _=H.exif;W=c8.W6(_[0]);var D=_[0].t274;if(D)D=D[0];if(D!=null&&D>1&&D<20)d=e.raw.avp(D,B,j)}if(H.xmp){W=c8.Pz(H.xmp,W)}if(H.icc)$=H.icc;
var A=h[237],F=[],K=[];if(A){var V=new Uint8Array(65536),r=0,g=0;for(var Y=0;Y<A.length;Y++){g=A[Y]+2;
var c=g+J.JQ(b,g);g+=2;var x=g;while(b[g]!=0)g++;g++;var X=J.lA(b,x,g-x-1),M=c-g;if(M<0)break;while(r+M>V.length){var f=new Uint8Array(V.length*2);
f.set(V);V=f}var t=new Uint8Array(b.buffer,g,M);V.set(t,r);r+=M}g=0;b=V;while(g<r){var n=J.lA(b,g,4);
g+=4;var L=J.JQ(b,g);g+=2;var P=b[g++],z=J.lA(b,g,P);g+=P;if((P&1)==0)g++;var i=J.C(b,g);g+=4;var v=g+i+(i&1);
if(L==1028){while(g+4<v){var T=b[g++],p=b[g++],m=b[g++],O=J.JQ(b,g);g+=2;if(T==28&&p==2)F.push([m,J.lA(b,g,O)]);
g+=O}}else if(L==1032)I=gr.a9O(b,g);else if((L&2e3)==2e3){var cb=e3.qT(b,g,i);K.push([z,cb])}else{}g=v}if(F.length!=0)W=c8.aw5(F,W)}var cX=[{jD:new io(0,0,B,j),data:q.buffer,O4:Z,wp:W,RK:$,Re:K.length==0?null:K,bE:I}],W=H.xmp_extn;
if(W){var e$=new DOMParser,fz=e$.parseFromString(W,"image/svg+xml"),fz=fz.children[0].children[0].children[0],eC=[fz.getAttribute("GImage:Data"),fz.getAttribute("GDepth:Data")];
for(var Y=0;Y<eC.length;Y++)if(eC[Y]){var hw=atob(eC[Y]),az=new Uint8Array(hw.length);J.K$(az,0,hw);
az=az.buffer;var av=aT.ni(az),ia=aT.JR(av).ho(az);cX.push(ia[0])}}if(H.suffix){var iJ=H.suffix,cx=!1,hP=J.lA(iJ,4,4),iS=J.qh(iJ,[255,216,255]);
if(aT.a4T(iJ,[0,0,1,10,14,0,0,0])){if(cx)console.log("Samsung");var g=0;while(g!=iJ.length){var e4=J.gP(iJ,g+2);
g+=4;var cc={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[e4];if(cc!=null){var aO=J.FZ(iJ,g);g+=4;
var bZ=J.lA(iJ,g,aO);g+=aO;var d_=J.lA(iJ,g,cc);g+=cc;if(e4==2608){var ee=g,b4=J.C(iJ,g+24);g+=b4+24;
var hA=J.C(iJ,g);g+=hA;var f$=iJ.slice(ee,g);aT.A1.atj(f$)}}else if(e4==18502){while(J.lA(iJ,g,4)!="SEFT")g+=4;
g+=4}else{break;console.log(J.Ky(iJ,g,128));console.log(iJ.slice(g));throw e4.toString(16)}}}else if(hP=="ftyp"){if(cx)console.log("MP4 Video");
aT.A1.atj(iJ)}else if(J.lA(iJ,0,4)=="fixe"){if(cx)console.log("fixe");alert("Unknown data - "+iJ.length+" B - at the end of the file",3e3);
var g=4,i=J.FZ(iJ,g);g+=4;var e_=J.FZ(iJ,g);g+=4;var fJ=J.FZ(iJ,g);g+=4;console.log(i,e_,fJ,iJ.slice(g,g+84));
g+=84;var dV=J.lA(iJ,g,32);g+=32;g+=8;var dV=J.lA(iJ,g,32);g+=32}else if(J.lA(iJ,8,13)=="FocusShot_Map"){if(cx)console.log("FocusShot_Map");
var ix=J.C(iJ,0),O=J.FZ(iJ,4),az=e.U(s*4),b9=e.U(s*4);for(var hV=0;hV<j;hV++)for(var gq=0;gq<B;gq++){var Y=hV*B+gq,U=Y<<2,eH=8+13+((hV>>>1)*B+gq>>>1),eP=iJ[eH],c2=iJ[eH+(s>>>2)];
az[U]=az[U+1]=az[U+2]=eP;az[U+3]=255;b9[U]=b9[U+1]=b9[U+2]=c2;b9[U+3]=255}cX.push({jD:new io(0,0,B,j),data:az.buffer},{jD:new io(0,0,B,j),data:b9.buffer})}else if(hP=="edof"){if(cx)console.log("edof");
var D=iJ[8+7];console.log(D.toString(16));var g=8+16,bL=J.gP(iJ,g),dg=J.gP(iJ,g+2),s=bL*dg;g+=4;g+=32+16;
var cN=e.U(s*4);for(var Y=0;Y<s;Y++){var U=Y<<2;cN[U]=cN[U+1]=cN[U+2]=iJ[g+Y];cN[U+3]=255}if(D==16){}else if(D==19){var dH=cN.slice(0);
e.t.BF(cN,dH,bL,dg);var kM=bL;bL=dg;dg=kM;e.t.jt(dH,cN,bL,dg)}else throw"Unknown orientation of a depth map";
cX.push({jD:new io(0,0,bL,dg),data:cN.buffer})}else if(J.lA(iJ,0,64).indexOf("DualShot")!=-1){var a_=J.FZ,g4=J.lA,iY=J.gP,g=0;
function fa(){var fj=a_(iJ,g);if(a_(iJ,g+4)!=0)throw"e";g+=8;return fj}var ka=J.C(iJ,g);g+=4;try{if(ka==45066){g=1226;
var B=fa(),j=fa();g=3445}else if(ka==45322){var b1=a_(iJ,g);g+=4;var dV=g4(iJ,g,b1);g+=b1;if(dV!="DualShot_DepthMap_1")throw dV;
B=1008;j=756}else throw ka;var bg=e.U(B*j*4);bg.fill(255);e.YP(iJ.slice(g,g+B*j),bg);cX.push({jD:new io(0,0,B,j),data:bg.buffer})}catch(ku){console.log("error reading a depth map")}try{if(iS!=0)iJ=iJ.slice(iS);
cX=cX.concat(aT.JR("jpg").ho(iJ.buffer))}catch(ku){}}else if(iS!=-1&&!(iJ[0]==255&&iJ[1]==129)){if(cx)console.log("another JPG at",iS);
try{if(iS!=0)iJ=iJ.slice(iS);cX=cX.concat(aT.JR("jpg").ho(iJ.buffer))}catch(ku){}}else if(J.lA(iJ,0,4)=="PMPD"){if(cx)console.log("Xiaomi stuff");
var g=4,cl=J.FZ(iJ,12),c0=J.FZ(iJ,16),bL=J.FZ(iJ,1060),dg=J.FZ(iJ,1064),kL=bL>dg,c_=cX[0].jD.j>cX[0].jD._,cA=iJ.slice(iJ.length-bL*dg-4),aw=e.U(bL*dg);
for(var hV=0;hV<dg;hV++)for(var gq=0;gq<bL;gq++)aw[hV*bL+gq]=cA[(dg-hV-1)*bL+gq];var bg=e.U(bL*dg*4);
bg.fill(255);e.YP(aw,bg);if(kL!=c_){var dH=bg.slice(0);e.t.BF(bg,dH,bL,dg);var kM=bL;bL=dg;dg=kM;e.t.jt(dH,bg,bL,dg)}cX.push({jD:new io(0,0,bL,dg),data:bg.buffer})}else console.log(J.lA(iJ,0,4),iJ)}if(cX.length>1){var kq=cX[0].jD,gF=!1,fm=!0;
cX[0].Xy="Main";var f4=[!1];for(var Y=1;Y<cX.length;Y++){f4[Y]=aT.A1.a9f(new Uint8Array(cX[Y].data));
if(f4[Y])gF=!0;if(!cX[Y].jD.TW(cX[0].jD))fm=!1}if(!gF&&!fm)cX=cX.slice(0,1);else for(var Y=1;Y<cX.length;
Y++){cX[Y].Xy=f4[Y]?"Depth Map":null;var aP=cX[Y].jD;if(!aP.TW(kq)){var hh=kq.j/aP.j,gW=kq._/aP._,cg=new eq;
cg.scale(hh,gW);var f0=E.Y.nW([new Uint8Array(cX[Y].data),aP],1,e.t.UE(cg));cX[Y].jD=f0.rect;cX[Y].data=f0.buffer}}}if(aT.A1.RM==1)if(d[2]!=1||d[6]!=1)for(var Y=0;
Y<cX.length;Y++){var hk=cX[Y],aQ=new Uint8Array(hk.data),B=hk.jD.j,j=hk.jD._,bL=d[0],dg=d[1],q=e.U(bL*dg*4);
e.t.HD(aQ,B,j,q,d);hk.jD=new io(0,0,bL,dg);hk.data=q.buffer}return cX};aT.A1.atj=function(b){if(window.confirm("Photopea found a "+hd.Vd(b.length)+" MP4 video inside your image. Would you like to save it?",4e3)){dJ.save(b.slice(0).buffer,"video.mp4")}};
aT.A1.a9f=function(b){var h=!0;for(var Y=0;Y<b.length;Y+=4){h=h&&b[Y]==b[Y+1]&&b[Y+1]==b[Y+2]}return h};
aT.A1.RM=0;aT.A1.ho=function(b,h,G){b=new Uint8Array(b);if(b[0]==255){var H=aT.A1.BI(b);if(H[195]==null){aT.A1.RM++;
var B=aT.A1.aAt(b,H,!1);aT.A1.RM--;return B}var j=J.JQ(b,H[195][0]+5),s=J.JQ(b,H[195][0]+7),q=UTIF.LosslessJpegDecode(b),Q=s*j,a=e.U(Q*4);
for(var Y=0;Y<Q;Y++){var l=Y<<2,U=l-Y;a[l]=q[U];a[l+1]=q[U+1];a[l+2]=q[U+2];a[l+3]=255}return[{jD:new io(0,0,s,j),data:a.buffer}]}else if(b[0]==0&&b[4]==48&&b[6]==1){var N=b,R=new PDFJS.Jbig2Image,S=[];
if(h)S.push({data:h,start:0,end:h.length});S.push({data:N,start:0,end:N.length});var q=R.parseChunks(S);
if(!G)for(var Y=0;Y<q.length;Y++)q[Y]=~q[Y];var s=J.C(b,11),j=J.C(b,15),g=Math.ceil(s/8),i=e.U(s*j*4);
for(var y=0;y<j;y++){var o=y*g;for(var v=0;v<s;v++){var l=(y*s+v)*4,Z=q[o+(v>>>3)]>>>7-(v&7)&1,W=Z*255;
i[l]=W;i[l+1]=W;i[l+2]=W;i[l+3]=255}}return[{jD:new io(0,0,s,j),data:i.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(b);var s=R.width,j=R.height,d=R.tiles,$=R.componentsCount,I=new Uint8Array(s*j*4),k=new io(0,0,s,j);
for(var R=0;R<d.length;R++){var _=d[R],D=_.width,A=_.height,F=D*A,K=_.items,V=new io(_.left,_.top,D,A),r=new Uint8Array(F*4);
if($==1)for(var Y=0;Y<F;Y++){var c=K[Y],l=Y*4;r[l]=c;r[l+1]=c;r[l+2]=c;r[l+3]=255}else if($==3)for(var Y=0;
Y<F;Y++){var U=Y*3,l=Y*4;r[l]=K[U];r[l+1]=K[U+1];r[l+2]=K[U+2];r[l+3]=255}else if($==4)r.set(K);else console.log("Unknown number of components: "+$);
e.JE(r,V,I,k)}return[{jD:k,data:I.buffer}]}};aT.Bt={};aT.Bt.kf=function(b,h,G,H){if(H==null)H=[70,!1,0,0,0];
var B=H[0]/100,g=0;if(b.length==1){var j=new Uint8Array(aT.aQ(b[0][0],h,G,"webp",B));if(j.length<2e4){var s=bQ.wZ(j.buffer),q=s.sub;
for(var Y=0;Y<q.length;Y++)if(q[Y].Af=="ICCP"){var Q=q[Y];j=aT.aE8(j,Q.f-8,Q.size+8);J.h0(j,4,s.size-(Q.size+8));
break}}if(H[1]&&b[0][3]){var s=bQ.wZ(j.buffer),q=s.sub,a=q[0].f+q[0].size,l=b[0][3],U=new Uint8Array(UTIF.encode([c8.zH(l)])),N=new Uint8Array(6+U.length);
J.K$(N,0,"Exif\0\0");N.set(U,6);var R=J.AY(c8.PX(l)),S=new Uint8Array(16+N.length+R.length);J.K$(S,0,"EXIF");
J.h0(S,4,N.length);S.set(N,8);var g=8+N.length;J.K$(S,g,"XMP ");J.h0(S,g+4,R.length);S.set(R,g+8);var i=new Uint8Array(j.length+S.length);
i.set(new Uint8Array(j.buffer,0,a),0);i.set(S,a);i.set(new Uint8Array(j.buffer,a),a+S.length);j=i;J.h0(j,4,J.FZ(j,4)+S.length)}return j.buffer}var y=J.gI,o=J.lE,v=new e6;
y(v,g,"RIFF    WEBPVP8X");g+=16;o(v,g,10);g+=4;o(v,g,18);g+=4;o(v,g,h-1);g+=3;o(v,g,G-1);g+=3;y(v,g,"ANIM");
g+=4;o(v,g,6);g+=4;v.yC(g,4);v.data[g+3]=255;J.pV(v,g+4,H[3]);g+=6;var Z=[];for(var Y=0;Y<b.length;Y++){Z.push(b[Y][0])}var W=UPNG.encode.compress(Z,h,G,B==1?0:Math.max(2,Math.floor(B*500)),[!1,!0,!0,0,!0]).frames;
function d(s,x,X,M){var F=s.f-8,K=s.size+8;X.yC(M,K);for(var Y=0;Y<K;Y++)X.data[M+Y]=x[F+Y];return M+K}for(var Y=0;
Y<b.length;Y++){y(v,g,"ANMF");g+=4;var $=g,F=0,K=0;g+=4;var I=W[Y],k=I.rect,_=[k.x>>>1,k.y>>>1,k.width-1,k.height-1,b[Y][1]];
for(var D=0;D<5;D++)o(v,g+3*D,_[D]);g+=15;v.yC(g,1);v.data[g]=1-I.blend<<1|I.dispose;g++;var A=new Uint8Array(aT.aQ(I.img.buffer,k.width,k.height,"webp",1)),q=bQ.wZ(A.buffer).sub,V={};
for(var r=0;r<q.length;r++)V[q[r].Af]=q[r];if(V.VP8L)g=d(V.VP8L,A,v,g);else throw"e";var c=g-$-4;o(v,$,c);
if((c&1)==1){v.yC(g,1);g++}}o(v,4,g-8);return v.data.slice(0,g).buffer};(function(){var b=aT.aC.get("wasm/webp").buffer;
WebAssembly.instantiate(b).then(function(h){var G=h.instance.exports;aT.Bt.exp=G})}());aT.Bt.ho=function(b){var h=new Uint8Array(b),G=aT.Bt.a3F,H=null,B=bQ.wZ(b).sub,j={},s=null;
for(var Y=0;Y<B.length;Y++)j[B[Y].Af]=B[Y];if(j.EXIF){var q=j.EXIF,Q=new Uint8Array(b,q.f+6,q.size-6),q=UTIF.decode(Q)[0];
if(q)s=c8.W6(q)}var q=j["XMP\0"];if(q==null)q=j["XMP "];if(q){var Q=new Uint8Array(b,q.f,q.size);if(s==null)s={};
s=c8.Pz(J.S2(Q),s)}var a=j.ANIM,l=j.VP8L,U=j["VP8 "],N=j.VP8X;if(a==null){var R,S;if(U){R=J.gP(h,U.f+6);
S=J.gP(h,U.f+8)}else if(l){var g=J.FZ(h,l.f+1);R=(g&(1<<14)-1)+1;S=(g>>>14&(1<<14)-1)+1}else throw"e";
var i=G(H,b,{f:0,size:h.length},R,S);i.wp=s;return[i]}var y=N.f,R=1+(J.FZ(h,y+4)&16777215),S=1+(J.FZ(h,y+7)&16777215),o=[],v=new io(0,0,R,S),Z=e.U(R*S*4);
for(var Y=0;Y<B.length;Y++){var W=B[Y];if(W.Af!="ANMF")continue;var d=[];for(var $=0;$<5;$++)d.push(J.FZ(h,W.f+$*3)&16777215);
var I=new io(d[0]*2,d[1]*2,d[2]+1,d[3]+1),k=d[4],_=G(H,b,{f:W.f+16,size:W.size-16},R,S),D=new Uint8Array(_.data),A=h[W.f+15];
if(A>>>1==0)e.z.Nm("norm",D,I,Z,v,I,1);else e.JE(D,I,Z,v);o.push({Xy:"_a_"+o.length+","+k,jD:v.clone(),data:Z.buffer.slice(0)});
if((A&1)==1){e.Zi(D,0);e.JE(D,I,Z,v)}}return o};aT.Bt.a3F=function(b,h,G,H,B){var j=aT.Bt.exp,s=j.memory,q=5e6+2*G.size+H*B*10;
aT.Q1(j,q);var Q=new Uint8Array(s.buffer),a=j.malloc(G.size);Q.set(new Uint8Array(h,G.f,G.size),a);var l=j.malloc(8),U=j.WebPDecodeARGB(a,G.size,l,l+4),N=J.FZ(Q,l),R=J.FZ(Q,l+4),S=N*R*4,g=e.U(S);
for(var Y=0;Y<S;Y+=4){g[Y]=Q[U+Y+1];g[Y+1]=Q[U+Y+2];g[Y+2]=Q[U+Y+3];g[Y+3]=Q[U+Y]}j.WebPFree(U);j.free(l);
j.free(a);return{jD:new io(0,0,N,R),data:g.buffer}};aT.alf=function(){function b(q,Q,a,l){var U=new Uint8Array(q[0][0]),N=new Uint32Array(U.buffer),R=[],S={},i=24,y=0,d=0;
for(var Y=0;Y<N.length;Y++){var g=N[Y]&16777215;if(S[g]==null){S[g]=R.length;R.push(g);if(R.length>256){R=null;
break}}}if(l&&l[0])R=null;if(R){i=1;while(1<<i<R.length)i*=2;if(i==2)i=4}var o={Ps:Q,CN:a,gM:1,zR:i,xv:0,aqk:y},v=4*Math.floor((o.zR*o.Ps+31)/32);
o.size=v*o.CN+2;var Z=new e6,W=R?(1<<i)*4:0;J.gI(Z,d,"BM");d+=2;J.lE(Z,d,v*a+16+40+W);d+=4;J.lE(Z,d,0);
d+=4;J.lE(Z,d,54+W);d+=4;Z.yC(d,40);J.lE(Z,d,40);d+=4;s(Z.data,d,o,v);d+=36;if(R){Z.yC(d,W);var $=Z.data;
for(var Y=0;Y<R.length;Y++){var I=d+Y*4,k=R[Y]>>>16,_=R[Y]>>>8&255,D=R[Y]&255;$[I]=k;$[I+1]=_;$[I+2]=D}d+=W}Z.yC(d,v*a);
if(i==24)for(var A=0;A<a;A++){var F=d+(a-1-A)*v;for(var K=0;K<Q;K++){var V=(A*Q+K)*4;Z.data[F+K*3+2]=U[V];
Z.data[F+K*3+1]=U[V+1];Z.data[F+K*3+0]=U[V+2]}}else if(i==8)for(var A=0;A<a;A++){var F=d+(a-1-A)*v;for(var K=0;
K<Q;K++){var V=A*Q+K,r=S[N[V]&16777215];Z.data[F+K]|=r}}else if(i==4)for(var A=0;A<a;A++){var F=d+(a-1-A)*v;
for(var K=0;K<Q;K++){var V=A*Q+K,r=S[N[V]&16777215];Z.data[F+(K>>>1)]|=r<<4-(K&1)*4}}else if(i==1)for(var A=0;
A<a;A++){var F=d+(a-1-A)*v;for(var K=0;K<Q;K++){var V=A*Q+K,r=S[N[V]&16777215];Z.data[F+(K>>>3)]|=r<<7-(K&7)}}d+=v*a+2;
return Z.data.slice(0,d).buffer}function h(q){q=new Uint8Array(q);if(J.FZ(q,0)==40)return[G(q.buffer,0)];
var Q=0,a=J.lA(q,Q,2);Q+=2;if(a!="BM"){alert("Unsupported BMP format: "+a);return}var l=J.FZ(q,Q);Q+=4;
Q+=4;var U=J.FZ(q,Q);Q+=4;return[G(q.buffer,Q,U)]}function G(q,Q,a){q=new Uint8Array(q);var l=J.FZ(q,Q),U=j(q,Q+4);
if(U.gM!=1)alert("unsupported number of color planes: "+U.gM);if(U.xv!=0&&U.xv!=1&&U.xv!=2&&U.xv!=3){alert("Unsupported BMP compression: "+U.xv);
return}Q+=l;var N=Q,R=q;if(a==null)a=Q;if(U.xv==1||U.xv==2){var S=B(q,a,U);U.zR=8;q=S;a=0}var g=4*Math.floor((U.zR*U.Ps+31)/32),i=U.Ps,y=Math.abs(U.CN),o=new Uint8Array(i*y*4);
o.fill(255);if(U.zR==32)for(var v=0;v<y;v++){var Z=a+(y-1-v)*g;for(var W=0;W<i;W++){var d=(v*i+W)*4;
o[d]=q[Z+W*4+2];o[d+1]=q[Z+W*4+1];o[d+2]=q[Z+W*4+0];o[d+3]=q[Z+W*4+3]}}else if(U.zR==24)for(var v=0;
v<y;v++){var Z=a+(y-1-v)*g;for(var W=0;W<i;W++){var d=(v*i+W)*4;o[d]=q[Z+W*3+2];o[d+1]=q[Z+W*3+1];o[d+2]=q[Z+W*3+0]}}else if(U.zR==16)for(var v=0;
v<y;v++){var Z=a+(y-1-v)*g;for(var W=0;W<i;W++){var d=(v*i+W)*4,$=q[Z+W*2+1]<<8|q[Z+W*2];o[d]=($>>>11)*(255/31);
o[d+1]=($>>>5&63)*(255/63);o[d+2]=($&31)*(255/31)}}else if(U.zR==8)for(var v=0;v<y;v++){var Z=a+(y-1-v)*g;
for(var W=0;W<i;W++){var d=(v*i+W)*4,I=q[Z+W];o[d]=R[N+4*I+2];o[d+1]=R[N+4*I+1];o[d+2]=R[N+4*I+0]}}else if(U.zR==4)for(var v=0;
v<y;v++){var Z=a+(y-1-v)*g;for(var W=0;W<i;W++){var d=(v*i+W)*4,I=q[Z+(W>>1)];I=I>>4-4*(W&1);I=I&15;
o[d]=R[N+4*I+2];o[d+1]=R[N+4*I+1];o[d+2]=R[N+4*I+0]}}else if(U.zR==1)for(var v=0;v<y;v++){var Z=a+(y-1-v)*g;
for(var W=0;W<i;W++){var d=(v*i+W)*4,k=q[Z+(W>>3)];k=k>>7-(W&7);k=k&1;o[d]=R[N+4*k+2];o[d+1]=R[N+4*k+1];
o[d+2]=R[N+4*k+0]}}else throw"Unknown bit depth "+U.zR;if(U.CN<0){var _=new Uint32Array(o.buffer),D=y>>>1;
for(var v=0;v<D;v++){var A=v*i,F=(y-v-1)*i;for(var W=0;W<i;W++){var K=_[A+W];_[A+W]=_[F+W];_[F+W]=K}}}return{jD:new io(0,0,i,y),data:o.buffer}}function H(q,Y){return q>>>4-((Y&1)<<2)&15}function B(q,Q,a){var l=a.Ps,U=Math.abs(a.CN),N=new Uint8Array(l*U),R=0,S=0,Y=0;
while(S<U){var g=q[Q++],i=q[Q++],y=S*l+R;if(g>0){if(a.zR==4)for(Y=0;Y<g;Y++){N[y+Y]=H(i,Y)}else for(Y=0;
Y<g;Y++){N[y+Y]=i}R+=g}else if(g==0&&i==0){S++;R=0}else if(g==0&&i==1){break}else if(g==0&&i==2){R+=q[Q++];
S+=q[Q++]}else{var o=i;if(a.zR==4){for(Y=0;Y<i;Y++){N[y+Y]=H(q[Q+(Y>>>1)],Y)}o=Math.ceil(i/2)}else{for(Y=0;
Y<i;Y++){N[y+Y]=q[Q+Y]}}if((o&1)!=0)o++;Q+=o;R+=i}}return N}function j(q,Q){var a=J.Wv,l=J.FZ,U=J.gP,N={};
N.Ps=a(q,Q);Q+=4;N.CN=a(q,Q);Q+=4;N.gM=U(q,Q);Q+=2;N.zR=U(q,Q);Q+=2;N.xv=l(q,Q);Q+=4;N.size=l(q,Q);Q+=4;
var R=a(q,Q);Q+=4;var S=a(q,Q);Q+=4;N.aqk=l(q,Q);Q+=4;Q+=4;return N}function s(q,Q,a,l){J.h0(q,Q,a.Ps);
Q+=4;J.h0(q,Q,a.CN);Q+=4;J.DP(q,Q,a.gM);Q+=2;J.DP(q,Q,a.zR);Q+=2;J.h0(q,Q,a.xv);Q+=4;J.h0(q,Q,a.size);
Q+=4;J.h0(q,Q,2834);Q+=4;J.h0(q,Q,2834);Q+=4;J.h0(q,Q,a.aqk);Q+=4;Q+=4}return{ho:h,kf:b,ae6:G}}();aT.zz={};
aT.zz.kf=function(b,h,G,H){if(H==null)H=[100,!1,0,0,0,0];var B=[],j=[],s=h*G*4,g=null;for(var q=0;q<b.length;
q++){var Q=new Uint8Array(b[q][0].slice(0));for(var Y=0;Y<s;Y+=4){var a=Q[Y+3]=Q[Y+3]>127?255:0;if(a==0)Q[Y]=Q[Y+1]=Q[Y+2]=0}B.push(Q.buffer);
j.push(b[q][1])}var l=Math.round(2+254*H[0]/100),U=UPNG.encode.compress(B,h,G,l,[!0,!1,!1,8,!1,H[1]]),N=U.plte,R=new Uint8Array(4),S=new Uint32Array(R.buffer);
for(var Y=0;Y<N.length;Y++){S[0]=N[Y];var i=R[0];R[0]=R[2];R[2]=i;N[Y]=S[0];if(S[0]==0)g=Y}while(N.length<256)N.push(0);
var y=new Uint8Array(2e4+Math.round(1.5*h*G*b.length)),o=H[3],v={palette:N};if(o!=1)v.loop=o==0?0:o-1;
var Z=new GifWriter(y,h,G,v);for(var Y=0;Y<b.length;Y++){var W=U.frames[Y],d=W.rect,$=W.blend,I=W.dispose,k=Math.round(j[Y]/10);
if(k<2)k=2;Z.addFrame(d.x,d.y,d.width,d.height,W.img,{transparent:g,disposal:I+1,delay:k})}return y.slice(0,Z.end()).buffer};
aT.zz.ho=function(b){var h=Date.now(),G=[],H=UGIF.decode(b),B=UGIF.toRGBA8(H),j=new io(0,0,H.width,H.height);
for(var Y=0;Y<B.length;Y++){var s=H.frames[Y];G.push({jD:j.clone(),Xy:"_a_frm"+Y+","+s.delay*10,data:B[Y]})}return G};
aT.PD={};aT.PD.kf=function(b,h,G,H){if(h>256||G>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var B=Math.min(h,256),j=Math.min(G,256),s=new io(0,0,B,j),q=e.U(s.X()*4),Q=new io(0,0,h,G),a=new Uint8Array(b[0][0]);
e.JE(a,Q,q,s);b[0][0]=q.buffer;h=B;G=j}var l=new Uint8Array(b[0][0]).slice(0),N=0;l[3]=Math.min(l[3],254);
var U=new e6,R=H&&H[0]==!0;J.pV(U,N,0);N+=2;J.pV(U,N,R?2:1);N+=2;J.pV(U,N,1);N+=2;var S=new Uint8Array(UPNG.encode([l.buffer],h,G,null,null,null,!0));
U.yC(N,16);U.data[N]=h==256?0:h;N++;U.data[N]=G==256?0:G;N++;N+=2;J.pV(U,N,R?Math.round(h/2):1);N+=2;
J.pV(U,N,R?Math.round(G/2):32);N+=2;J.lE(U,N,S.length);N+=4;J.lE(U,N,6+16);N+=4;U.yC(N,S.length);U.data.set(S,N);
N+=S.length;return U.data.slice(0,N).buffer};aT.PD.ho=function(b){b=new Uint8Array(b);var h=4,G=J.gP(b,h);
h+=2;var H=[];for(var Y=0;Y<G;Y++){var B=aT.PD.a0H(b,h+Y*16),j=b.buffer.slice(B.offset,B.offset+B.size),s=aT.ni(j);
s=s?s:"bmp";if(s=="png"){var q=aT.JR(s),Q=q.ho(j);B.FN=Q[0]}else{var a=aT.JR("BMP").ae6(j,0),j=e.U(B.Ps*B.CN*4);
e.JE(new Uint8Array(a.data),new io(0,0,a.jD.j,a.jD._),j,new io(0,B.CN,B.Ps,B.CN));a.data=j.buffer;a.jD._=B.CN;
B.FN=a}H.push(B)}H.sort(function(l,U){if(l.Ps!=U.Ps)return l.Ps-U.Ps;return l.anU-U.anU});return[H.pop().FN]};
aT.PD.a0H=function(b,h){var G={};G.Ps=b[h];h++;if(G.Ps==0)G.Ps=256;G.CN=b[h];h++;if(G.CN==0)G.CN=256;
G.a5G=b[h];h++;h++;G.aiQ=J.gP(b,h);h+=2;G.anU=J.gP(b,h);h+=2;G.size=J.FZ(b,h);h+=4;G.offset=J.FZ(b,h);
h+=4;return G};aT.VT={};aT.VT.ho=function(b){var h=Date.now(),H;if(e.raw.Xm(b.byteLength))return[e.raw.abu(b)];
var G=UTIF.decode(b);console.log(G);if(G[0].t33421)H=G[0];else if(G[0].subIFD&&G[0].t271&&G[0].t271[0]=="Hasselblad"){H=G[0].subIFD[0];
H.t33421=[2,2]}else if(G[0].subIFD&&G[0].subIFD[0].t33421){H=G[0].subIFD[0];if(H.t50706==null){if(H.t258[0]==8)H.t258[0]=12}}else if(G[0].subIFD&&G[0].subIFD[0]&&G[0].subIFD[0].t262&&G[0].subIFD[0].t262[0]==34892)H=G[0].subIFD[0];
else if(G[0].t50706)H=G[0];else if(G[0].subIFD&&G[0].subIFD[1]&&G[0].subIFD[1].t33421)H=G[0].subIFD[1];
else if(G[0].subIFD&&G[0].subIFD[2]&&G[0].subIFD[2].t33421)H=G[0].subIFD[2];else if(G[3]&&G[3].t50648){var B=G[0].exifIFD,j=B.makerNote;
H=G[3];var s=j.t224[1],q=j.t224[2];H.t256=[s];H.t257=[q];H.t258=[16];H.t259=[7];H.t262=[32803];H.t277=[1];
H.t33421=[2,2];var Q=H.t50656[0],a=e.raw.Kj[Q];if(a==null)throw"e";H.t33422=a}else if(G[0].t1&&G[0].t1.length==4){var l=G[0],U={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},N=l.t280==null;
H={};for(var R in U)if(l["t"+R])H["t"+U[R]]=l["t"+R];H.t2=l.t2;H.t3=l.t3;H.t10=l.t10;H.t45=l.t45;H.t258=[16];
H.t33421=[2,2];var S=l.t9[0];if(N)S=2;H.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][S-1];var g=l.t4[0],i=l.t5[0],y=l.t6[0],o=l.t7[0];
H.t50829=[g,i,y,o];var v=l.t36[0],Z=l.t37[0],W=l.t38[0];H.t50728=[Z/v,Z/Z,Z/W]}else if(G[0].t258&&G[0].t258[0]>=12&&G[0].t271&&(G[0].t271[0].startsWith("OLYMPUS")||G[0].t271[0].startsWith("OM Digital Solutions"))){H=G[0];
H.t33421=[2,2]}if(H){UTIF.decodeImage(b,H,G);for(var d in G[0])if((d[0]=="t"||d[0]=="e"||d[0]=="d")&&H[d]==null)H[d]=G[0][d];
H._h=G[0].t274?G[0].t274[0]:1;return[H]}var $=[];for(var Y=0;Y<G.length;Y++){var I=G[Y],k=null,r=72;
UTIF.decodeImage(b,I,G);if(I.t258&&I.t258[0]==16&&I.t277&&I.t277[0]==1){var _=0,D=0,A=0,F=I.data;for(var K=0;
K<F.length;K+=2){var V=F[K+1]<<8|F[K];if(V>_)_=V;D+=V;A++}k=1/256*65535/(.5*_+.5*(2*D/A))}var c=I.t282,x=I.t296;
if(c!=null&&x!=null){r=c[0][0]/c[0][1];if(x[0]==3)r=Math.round(r/2.54)}if(I.width==null)continue;var X=UTIF.toRGBA8(I,k).buffer,M=c8.W6(I);
console.log(I);$.push({jD:new io(0,0,I.width,I.height),data:X,O4:r,wp:M,RK:I.t34675?I.t34675.slice(0):null})}return $};
aT.VT.kf=function(b,h,G,H){if(H==null)H=[!1];var B={},j=b[0];if(j[3]!=null&&H[0])B=c8.zH(j[3]);if(j[2]!=null){B.t282=B.t283=[[Math.round(j[2]),1]];
B.t296=[2]}return UTIF.encodeImage(j[0],h,G,B)};aT.axL={};aT.axL.ho=function(b){b=new Uint8Array(b);
var h=8,G,H=0;while(h<b.length){var B=J.lA(b,h,4),j=J.C(b,h+4);if(B.startsWith("ic")){var s=b.slice(h+8,h+j),q=aT.ni(s.buffer),Q=aT.JR(q),a=Q.ho(s.buffer),l=a[0].jD.X();
if(l>H){H=l;G=a}}h+=j}return G};aT.X5={};aT.X5.hE=!0;aT.X5.ho=function(b,h){gr.wZ(b,h)};aT.X5.adO=function(b,h,G,H){if(H==null)H=[!1,!1,!1,!1,!1];
if(!H[0])b.Nw();var B=new e6,j=gr.Qg(b,B,H);return[B.data.buffer,j]};aT.X5.kf=function(b,h,G,H){var B=aT.X5.adO(b,h,G,H),j=B[0],s=B[1];
return j.byteLength==s?j:j.slice(0,s)};aT.p3={};aT.p3.hE=!0;aT.p3.ho=function(b,h){var G=pako.inflate(new Uint8Array(b)),H=J.JQ(G,0),B=J.JQ(G,2),j=4;
h.j=J.C(G,j);j+=4;h._=J.C(G,j);j+=4;h.buffer=e.U(h.j*h._*4);var s=J.JQ(G,j);j+=2;j+=4;for(var q=0;q<s;
q++){var Q=h.Cx(),S=0,r=1,c=2,x=3,X=0;h.R.push(Q);var a=J.C(G,j);j+=4;var l=j,U=J.JQ(G,l);l+=2;var N=J.S2(G,l,U);
l+=U;Q.cb(N);var R=G[l];l++;if(R!=0&&R!=1)throw R;Q.rect.x=J.dj(G,l);l+=4;Q.rect.y=J.dj(G,l);l+=4;Q.rect.j=J.C(G,l);
l+=4;Q.rect._=J.C(G,l);l+=4;if(H>3){S=J.dj(G,l);l+=4}Q.opacity=Math.round(255*G[l]/100);l++;var g=G[l];
l++;Q.lW(g!=0);Q.Am="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[G[l]];
l++;var i=G[l];l++;if(i)Q.add.lspf=1<<31;if(H>3){var y=J.JQ(G,l);l+=2;if(y!=0){var o=JSON.parse(J.S2(G,l,y));
l+=y;var v=o.text,Z=o.textSettings,W=Z.font,d=Z.size,$=Z.padding,I=parseInt(Z.color.slice(1),16);Q.add.lnsr="rend";
Q.add.TySh=b_.V0(0,0);Q.add.TySh.In=new io(0,0,100,100);var k=Q.add.TySh.h=new eq,_=Q.rect.j/2,D=Q.rect._/2;
k.translate(-_,-D);k.rotate(-S*Math.PI/180);k.translate(_,D);k.translate(Q.rect.x+$,Q.rect.y+$);var A=Q.add.TySh.HZ;
b_.vj(A,1);b_.A6(A,[0,0,Q.rect.j-$*2,Q.rect._]);b_.ph(A,0,v);var F=b_.XN(A,0,1);F.bJ.FontSize=d;F.bJ.FillColor={Type:1,Values:[1,(I>>>16&255)/255,(I>>>8&255)/255,(I>>>0&255)/255]};
if(Z.bold)W+="-Bold";b_.HC(F,W);F._P.Justification=["left","right","center"].indexOf(Z.align);b_.V1(A,0,v.length,F)}}var K=J.C(G,l);
l+=4;if(K!=Q.rect.X()*4){for(var Y=Q.rect.j;Y>Q.rect.j/2;Y--){var V=K/(Y*4);if(V==Math.round(V)){Q.rect.j=Y;
Q.rect._=V;break}}}Q.buffer=e.U(Q.rect.X()*4);if(H>3){r=0;c=1;x=2;X=3}for(var Y=0;Y<K;Y+=4){Q.buffer[Y]=G[l+Y+r];
Q.buffer[Y+1]=G[l+Y+c];Q.buffer[Y+2]=G[l+Y+x];Q.buffer[Y+3]=G[l+Y+X]}l+=K;var M=J.C(G,l);l+=4;if(M==0&&H>3){j+=a;
continue}var f=G[l];l++;var t=J.JQ(G,l);l+=2;if(M!=0){Q.u=new C.Tc;Q.u.rect=Q.rect.clone();Q.u.channel=e.U(Q.rect.X());
for(var Y=0;Y<M;Y+=4)Q.u.channel[Y>>>2]=G[l+Y+1];l+=M}if(f!=0){var n=JSON.parse(dE.default);Q.add.lmfx=n;
for(var Y=0;Y<dE.order.length;Y++)n[dE.CM[Y]]={t:"VlLs",v:[]};var L={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var Y=0;Y<f;Y++){var P=J.JQ(G,l),z=l+P+4,T=G.slice(l,z),p=G[l+2];l+=3;var m=L[p+""],O=JSON.parse(dE.Qy[m]);
n[dE.CM[m]].v.push({t:"Objc",v:O});if(m!=0){O.Md.v.BlnM=aq.Wz("norm");O.Opct.v.val=G[l];l++;if(m==9||m==2){O.Dstn.v.val=G[l+1];
l+=2}else l+=2;O.blur.v.val=Math.round(G[l]*1.2);l++;if(m==9||m==2){O.uglg.v=!1;O.lagl.v.val=180-J.JQ(G,l);
l+=2}O.Clr.v=e.F.t1({$:G[l+1],B:G[l+2],J:G[l+3]})}else{O.hglM.v.BlnM=O.sdwM.v.BlnM=aq.Wz("norm");l+=2;
var cb=G[l++],cX=G[l++];O.blur.v.val=Math.round(Math.sqrt(cX*cb)*1.3);O.srgR.v.val=Math.round(100*cb/cX);
O.uglg.v=!1;O.lagl.v.val=180-J.JQ(G,l);l+=2;O.hglO.v.val=G[l++];O.hglC.v=e.F.t1({$:G[l+1],B:G[l+2],J:G[l+3]});
l+=4;O.sdwO.v.val=G[l++];O.sdwC.v=e.F.t1({$:G[l+1],B:G[l+2],J:G[l+3]});l+=4}l=z}}if(l-j<a){var e$=J.C(G,l),hw=0;
l+=4;l++;var U=J.JQ(G,l);l+=2;var v=J.S2(G,l,U);l+=U;v=v.replace(/\r/g,"\n");var U=J.JQ(G,l);l+=2;var W=J.S2(G,l,U);
l+=U;var d=J.JQ(G,l);l+=2;var fz=Q.rect.x,eC=Q.rect.j;if(e$&4)hw=1;if(e$&2)hw=2;var az=Math.round(d*.4);
if(hw==0||hw==2)eC+=az;if(hw==1||hw==2){eC+=az;fz-=az}Q.add.lnsr="rend";Q.add.TySh=b_.V0(0,0);Q.add.TySh.In=new io(0,0,100,100);
Q.add.TySh.h=new eq(1,0,0,1,fz,Q.rect.y+d*.25);var A=Q.add.TySh.HZ;b_.vj(A,1);b_.A6(A,[0,0,eC,Q.rect._]);
b_.ph(A,0,v);var F=b_.XN(A,0,1);F.bJ.FontSize=d;F.bJ.FillColor={Type:1,Values:[1,G[l+1]/255,G[l+2]/255,G[l+3]/255]};
l+=4;if(G[l+5])W+="-Bold";if(G[l+6])W+="-Italic";b_.HC(F,W);F._P.Justification=hw;l+=8;b_.V1(A,0,v.length,F)}j+=a}};
aT.gk={};aT.gk.hE=!0;aT.gk.ho=function(b,h){var G=UZIP.parse(b),H=JSON.parse(J.S2(G["manifest.json"].buffer));
h.j=H.width;h._=H.height;h.buffer=e.U(h.j*h._*4);h.name=H.name+".psd";var B=H.stack;for(var j=0;j<B.length;
j++){var s=B[j],q=s.type,Q=s.rect,a=s.format,l=h.Cx();l.cb(s.name);l.lW(s.visible);l.opacity=Math.round(255*s.opacity);
var U=l.rect=new io(Q.x,Q.y,Q.w,Q.h),N=Q.r;if(N==null)N=0;h.R.push(l);if(q=="image"&&N!=0||q=="shape"&&a.variant=="svg"){var R=h._t(G[s.content],l.getName(),0,0);
R.Xp=l.Xp;R.opacity=l.opacity;l=R;h.R.pop();h.R.push(l);var S=e.N.Q0(U).m;e.N.h(S,aT.gk.iH(U,N),S);l.add.SoLd.Trnf=E.Y.Ll(S);
l.add.SoLd.nonAffineTransform=E.Y.Ll(S);l.gE(h,!1)}else if(q=="image"){if(U.X()!=0){var g=G[s.content].buffer,i=aT.ni(g),y=aT.JR(i),o=y.ho(g)[0];
U.j=o.jD.j;U._=o.jD._;l.buffer=new Uint8Array(o.data)}}else if(q=="shape"){l.Xp|=16;var v=l.add.vstk=dE.QA.Az(!0),Z=l.add.vmsk=new C.cW,W;
l.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}};var d=a.variant,$=a.fill;if(d=="rectangle"||d=="rounded"){W=e.n.NT.Rect(U.x,U.y,U.j,U._,a.radii)}else if(d=="ellipse"){W=e.n.NT.yT(U.x,U.y,U.j,U._)}else if(d=="path"){var I=Typr.U.SVGToPath(s.content),k={Gc:I.cmds,m:I.crds};
W=e.N.zv(k);var _=e.n.d4(W);e.n.Gl(W,new eq(U.j/_.j,0,0,U._/_._,U.x,U.y))}else console.log(a);l.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}};
if($==null){v.fillEnabled.v=!1}else if($.type=="color"){l.add.SoCo.Clr.v=e.F.t1(CSS.ur($.value))}else if($.type=="gradient"){delete l.add.SoCo;
var D=l.add.GdFl=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),A=D.Grad.v;A.Intr.v=0;var F=[],K=$.value.stops;
for(var Y=0;Y<K.length;Y++){var V=K[Y],r=CSS.ur(V.color);F.push([V.position,[r.$/255,r.B/255,r.J/255]])}e.F.mg(F,A);
D.Angl.v.val=-($.value.direction+N)+90+180}else console.log($);var c=aT.gk.iH(U,N);e.n.Gl(W,c);var x=s.style;
if(x&&x.outline){var X=x.outline;v.strokeEnabled.v=!0;v.strokeStyleLineWidth.v.val=X.size;v.strokeStyleContent.v.Clr.v=e.F.t1(CSS.ur(X.color))}Z.d=W;
l.AA();l.vw(h)}else if(q=="text"){l.add.lnsr="rend";l.add.TySh=b_.V0(0,0);l.add.TySh.In=new io(0,0,100,100);
var M=l.add.TySh.HZ;b_.vj(M,1);b_.A6(M,[0,0,U.j,U._]);var f=s.content;b_.ph(M,0,f);var t=b_.XN(M,0,Math.min(f.length,1));
b_.HC(t,a.font.name);var n=t.bJ.FontSize=Math.round(a.size);if(a.fill&&a.fill.value){var L=CSS.ur(a.fill.value);
t.bJ.FillColor={Type:1,Values:[1,L.$/255,L.B/255,L.J/255]}}var P=a.linespace;if(P){t.bJ.AutoLeading=!1;
t.bJ.Leading=Math.round(n*(1.06+parseFloat(P)));console.log(P,t.bJ)}t.bJ.FauxBold=a.bold;t._P.Justification=["left","right","center","justify"].indexOf(a.align);
b_.V1(M,0,f.length,t);l.add.TySh.h=new eq(1,0,0,1,U.x+Math.round(n*.1),U.y+Math.round(n*.1));l.rect=new io}else console.log(s)}h.rm=!0};
aT.gk.iH=function(b,h){var G=b.x+b.j/2,H=b.y+b._/2,B=new eq;B.translate(-G,-H);B.rotate(-h*Math.PI/180);
B.translate(G,H);return B};aT.sH={};aT.sH.hE=!0;aT.sH.ho=function(b,h){hU.wZ(b,h)};var hU=function(){function b(U,N){var R=Date.now(),S=UZIP.parse(U),g=S["maindoc.xml"],i=new DOMParser,y=i.parseFromString(J.S2(g),"image/svg+xml").children[0].children[0],o=y.getAttribute("name"),v=N.j=a(y,"width"),Z=N._=a(y,"height");
N.O4=Math.round(a(y,"x-res"));var W=y.children[0].children;h(W,N,{qw:o,yu:S,vk:null});console.log(Date.now()-R);
R=Date.now()}function h(U,N,R){for(var S=0;S<U.length;S++){var g=U[U.length-1-S],i=g.getAttribute("nodetype");
if(i=="transparencymask"){R.vk.u=l(g,R);continue}var y=g.getAttribute("compositeop"),o=g.getAttribute("filename"),v=g.getAttribute("channelflags"),Z=g.children;
Z=Z.length==0?null:Z[0].children;var W=N.Cx();if(i=="paintlayer"){var d=a(g,"x"),$=a(g,"y"),I=R.yu[R.qw+"/layers/"+o+".defaultpixel"],k=R.yu[R.qw+"/layers/"+o],_=Q(k);
W.rect=_[0];W.rect.offset(d,$);W.buffer=_[1];if(W.rect.Zx()&&I.join()!="0,0,0,0"){W.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:I[0],B:I[1],J:I[2]})}};
W.vw(N)}}else if(i=="grouplayer"){W.add.lsct=c1.$I;W.Am="pass";W.Xp|=24;N.R.push(N.b2());var D=R.vk;
R.vk=W;h(Z,N,R);R.vk=D}else if(i=="shapelayer"){var k=R.yu[R.qw+"/layers/"+o+".shapelayer/content.svg"],A=J.S2(k),F=N._t(k,W.getName(),0,0);
W=F;var K=new io(0,0,N.j,N._),V=e.N.Q0(K).m;W.add.SoLd.Trnf=E.Y.Ll(V);W.add.SoLd.nonAffineTransform=E.Y.Ll(V);
W.gE(N,!1)}else if(i=="clonelayer"){var Y=-1;for(var r=0;r<U.length;r++)if(U[r].getAttribute("name")==g.getAttribute("clonefrom"))Y=r;
if(Y!=-1){h([U[Y]],N,R);W=N.R.pop()}}else console.log(i,g);W.cb(g.getAttribute("name"));if(a(g,"locked")==1)W.add.lspf=1<<31;
W.lW(a(g,"visible")==1);var c={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[y];if(c)W.Am=c;
else console.log(y);W.opacity=a(g,"opacity");if(v=="1110")W.wi=!0;var x=Z?Z[0]:null;if(x&&x.tagName=="mask")W.u=l(x,R);
N.R.push(W)}}function G(U,N){var R=0,S=0,g=U.length,i,y,o;while(R<g){i=U[R++];if(i>31){y=i>>>5;if(y==7)y=7+U[R++];
o=(i&31)<<8|U[R++];var v=S-o-1,Z=y>>>1;N[S++]=N[v++];N[S++]=N[v++];for(var Y=0;Y<Z;Y++){N[S++]=N[v++];
N[S++]=N[v++]}if((y&1)==1)N[S++]=N[v++]}else{for(var Y=0;Y<=i;Y++){N[S++]=U[R++]}}}}function H(U,N){var R=0;
while(U[N+R]!=10)R++;return J.lA(U,N,R)}var B=new io(0,0,64,64),j=new Uint8Array(64*64*4),s=new Uint8Array(64*64*4);
function q(){for(var Y=0;Y<4096;Y++){var U=Y<<2;j[U+0]=s[Y+8192];j[U+1]=s[Y+4096];j[U+2]=s[Y];j[U+3]=s[Y+12288]}}function Q(U){var N=0,R={};
for(var Y=0;Y<5;Y++){var S=H(U,N);N+=S.length+1;S=S.split(" ");R[S[0]]=parseInt(S[1])}var g=R.PIXELSIZE,i=[],y=new io;
while(N<U.length){var S=H(U,N),o=S.split(",");N+=S.length+1;if(o[2]!="LZF")throw o[2];B.x=parseInt(o[0]);
B.y=parseInt(o[1]);y=y.gJ(B);var v=parseInt(o[3]);i.push([B.clone(),new Uint8Array(U.buffer,N+1,v-1)]);
N+=v}var Z=e.U(y.X()*g);for(var Y=0;Y<i.length;Y++){var W=i[Y];G(W[1],s);if(g==4){q();e.JE(j,W[0],Z,y)}else e.wX(s,W[0],Z,y)}return[y,Z]}function a(U,N){return parseInt(U.getAttribute(N))}function l(U,N){var R=U.getAttribute("filename"),S=N.yu[N.qw+"/layers/"+R+".pixelselection"],g=Q(S),i=new C.Tc;
i.e3=a(U,"visible")==1;i.rect=g[0];i.channel=g[1];return i}return{wZ:b}}();aT.iT={};aT.iT.hE=!0;aT.iT.ho=function(b,h){jw.wZ(b,h)};
aT.A$={};aT.A$.ho=function(b){var h=new Uint8Array(b),G=aT.A$.MO(h,0,0),H=G.sub[2],B=aT.A$.akj(h,H),j=G.sub[3],s=aT.A$.akj(h,j);
return[B,s]};aT.A$.akj=function(b,h){var G=h.sub[h.sub.length-1],H=G.sub[0].f,B=G.sub[1].f,j=b.slice(H,H+16),s=b.slice(B,B+G.sub[1].size),q=J.FZ,Q=b[H],a=q(b,H+1),l=q(b,H+5),U=b[H+13],N=new io(0,0,a,l),R=e.U(a*l*4);
if(U){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(b,B,R,a,l)}return{jD:N,data:R}};aT.A$.MO=function(b,h,G){var H=J.lA,B=J.FZ,j=H(b,h,4);
j=j.split("").reverse().join("");var s=B(b,h+4);if(s!=0){console.log(b.slice(h-8));throw s}var q=B(b,h+8);
while((q&3)!=0)q++;var Q={Af:j,f:h+12,size:q};if(j=="CARF"||j=="CTEX"||j=="CREW"||j=="BMAP"){Q.sub=[];
h+=12;if(j=="CTEX"||j=="CREW")h+=32;var a=Q.f+Q.size;while(h<a){var l=aT.A$.MO(b,h,G+1);Q.sub.push(l);
h+=12+l.size+(l.size&1)}}return Q};aT.Un={};aT.Un.hE=!0;aT.Un.ho=function(b,h){i6.wZ(b,h)};aT.gC={};
aT.gC.hE=!0;aT.gC.ho=function(b,h){kg.wZ(b,h)};aT.I_={};aT.I_.hE=!0;aT.I_.ho=function(b,h){hW.wZ(b,h)};
aT.uB={};aT.uB.hE=!0;aT.uB.ho=function(b,h){d$.wZ(b,h)};aT.bs={};aT.bs.hE=!0;aT.bs.ho=function(b,h){k8.wZ(b,h)};
aT.Ws={};aT.Ws.hE=!0;aT.Ws.kf=function(b,h,G,H,B,j){if(H==null)H=[!0,!1,!1,!1,!0];var s=bt.OL(b,{e4:H[0],hidden:H[1],adk:H[2],anx:H[3],CH:H[4],ayz:h,abg:G},B.B7,j);
return s};aT.Ws.ho=function(b,h,G){bt.wZ(b,h,G)};aT.ZC={};aT.ZC.hE=!0;aT.ZC.ho=function(b,h){var G=150,H=new eq(1,0,0,-1,0,0);
H.scale(G/72,G/72);h.O4=G;var B=new fX(h,H,!0);FromPS.Parse(b,B)};aT.e0={};aT.e0.hE=!0;aT.e0.kf=function(b,h,G,H,B){if(H==null)H=["",100,!1,!1,!1,0,!1];
H[7]=["jpg"];var j=new ToPDF;bW.OL(b,H,j,B.B7,h,G);return j.buffer};aT.e0.ho=function(b,h,G){var H=2;
while(!0){var B=H*72,j=new eq(1,0,0,-1,0,0);j.scale(B/72,B/72);h.O4=B;var s=new fX(h,j,!0);FromPDF.Parse(b,s);
var q=Math.max(h.j,h._);if(G&&q<Math.max(G[0],G[1])){h.R=[];var Q=H;while(q*(H/Q)<Math.max(G[0],G[1]))H++}else break}};
aT.Ve={};aT.Ve.hE=!0;aT.Ve.ho=function(b,h){var G=72,H=new eq(1,0,0,1,0,0);H.scale(G/72,G/72);h.O4=G;
var B=new fX(h,H,!1);FromWMF.Parse(b,B)};aT.vp={};aT.vp.pK=!0;aT.vp.hE=!0;aT.vp.kf=function(b,h,G,H,B){if(H==null)H=["",100,!1,!1,!1,0,!1];
H[7]=[];var j=new ToEMF;bW.OL(b,H,j,B.B7);return j.buffer};aT.vp.ho=function(b,h){var G=72,H=new eq(1,0,0,1,0,0);
H.scale(G/72,G/72);h.O4=G;var B=new fX(h,H,!1);FromEMF.Parse(b,B)};aT.Br={};aT.Br.hE=!0;aT.Br.ho=function(b,h){return bb.wZ(b,h)};
aT.a0o={};aT.a0o.ho=function(){var b,h,G,H,B,j,s=0,q=0,Q=0,a=0,l=0,o="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",v=null;
function U(Z){var W=jL.wZ(Z),d=W.kR,A=0,F,K;console.log(W);var $=new Uint8Array(Z);if(d=="ILBM")return N(W,$);
if(d=="CIMG")return g(W,$);if(d=="ANIM"&&W.sub[0].Af=="ADAT")return y(W,$);if(d!="ANIM")throw d;var I=J.JQ,k=J.C,_=W.sub,D=N(_[0],$);
for(var V=1;V<_.length-2;V++){var r=D[Math.max(0,V-2)].akk.slice(0),c=_[V];for(var x=0;x<c.sub.length;
x++){var X=c.sub[x],M=X.f;if(X.Af=="ANHD"){var f=$[M++];if(f!=5)throw f;var H=$[M++],t=I($,M),n=I($,M+2);
if(t!=0&&t!=b)throw t;if(n!=0&&n!=h)throw n;var L=I($,M+4),P=I($,M+6);if(L!=0||P!=0)throw L;M+=8;var z=I($,M);
M+=2;F=I($,M);M+=2;if($[M++]!=0)throw"e";if($[M++]!=0)throw"e";K=I($,M);M+=2}else if(X.Af=="DLTA"){var T=[],p=M;
for(var Y=0;Y<16;Y++)T.push(k($,M+Y*4));M+=64;var m=j;for(var O=0;O<B;O++){if(T[O]==0)continue;M=p+T[O];
for(var cb=0;cb<m;cb++){var cX=$[M++],e$=0;if(cX==0)continue;for(var Y=0;Y<cX;Y++){var fz=$[M++];if(fz==0){var az=$[M++],av=$[M++];
for(var ia=0;ia<az;ia++){r[(e$*B+O)*m+cb]=av;e$++}}else if(fz<128){e$+=fz}else{fz-=128;for(var ia=0;
ia<fz;ia++){r[(e$*B+O)*m+cb]=$[M+ia];e$++}M+=fz}}}}}else console.log(X.Af)}if(V==1&&F>100)F=0;var iJ=F==0?17:Math.round((F-A)*1e3/60);
D.push({data:S($,r).buffer,jD:new io(0,0,b,h),akk:r,Xy:"_a_frm"+V+","+iJ});A=F}if(Q!=0&&b>h*2){var cx=new Uint32Array(b*h*2);
cx.fill(4294967295);for(var V=0;V<D.length;V++){var hP=D[V],iS=new Uint32Array(hP.data);for(var e$=0;
e$<h;e$++){var e4=e$*2;for(var cb=0;cb<b;cb++)cx[e4*b+cb]=iS[e$*b+cb];e4++;for(var cb=0;cb<b;cb++)cx[e4*b+cb]=iS[e$*b+cb]}hP.jD._*=2;
hP.data=cx.slice(0).buffer}}return D}function N(Z,W){var d,$,I;s=0;q=0;a=0;l=0;Q=0;for(var k=0;k<Z.sub.length;
k++){var _=Z.sub[k],D=_.f;if(_.Af=="BMHD"){var A=[];for(var Y=0;Y<4;Y++)A[Y]=J.JQ(W,D+2*Y);D+=8;var F=A[2],K=A[3];
b=A[0];h=A[1];G=W[D++];H=W[D++];I=W[D++];if(I!=0&&I!=1)throw I;j=b+15>>>4<<1;B=G+H}else if(_.Af=="CMAP")s=D;
else if(_.Af=="CAMG"){var V=J.C(W,D);q=V&32768,Q=V&4,a=V&2048;l=V&128}else if(_.Af=="BODY"){$=e.U(j*h*B);
if(I==0)$=W.slice(D,D+$.length);if(I==1)fU.Xz(W,D,_.size,$,0,$.length)}else if(_.Af=="PLTP"){console.log(W.slice(D,D+_.size))}}d=S(W,$);
return[{jD:new io(0,0,b,h),data:d.buffer,akk:$}]}function R(Z,g1){return Z[g1>>>3]>>>7-(g1&7)&1}function S(Z,W){var d=G-2,$=(1<<d)-1,I=Math.round(255/$),k,_,D,A=j*8;
if(s!=0){var F=1<<G,K=!0;for(var Y=1;Y<F;Y++){var V=s+Y*3;if(Z[V]!=Z[V-3]||Z[V+1]!=Z[V-2]||Z[V+2]!=Z[V-1]&&Z[V+2]!=Z[V-1]+1)K=!1}if(K){for(var Y=0;
Y<F;Y++){var V=s+Y*3,r=Math.round(Y*255/(F-1));Z[V]=Z[V+1]=Z[V+2]=r}}}var c=e.U(b*h*4);for(var x=0;x<h;
x++)for(var X=0;X<b;X++){var M=0;for(var f=0;f<B;f++){var t=(x*B+f)*A+X,n=R(W,t);M|=n<<f}M=M&(1<<G)-1;
var Y=x*b+X,L=Y<<2;if(s!=0){if(a!=0&&M>>>d!=0){var P=M>>>d,z=(M&$)*I;if(P==1)D=z;else if(P==2)k=z;else if(P==3)_=z}else{var z=s+M*3;
k=Z[z+0];_=Z[z+1];D=Z[z+2]}}else{if(G==24){k=M>>>0&255;_=M>>>8&255;D=M>>>16&255}else if(G==16){var T=0,p=1,O=4;
for(var f=0;f<16;f++)T+=(M>>>f&1)<<15-f;var m=(1<<p)-1,cb=(1<<O)-1;k=(T>>>7&m)*(255/m);_=D=k}else throw G}c[L+0]=k;
c[L+1]=_;c[L+2]=D;c[L+3]=255}return c}function g(Z,W){var d=1,$=2,I=4,k=J.C,_=J.JQ,b=200,h=200,D,A,F,K;
for(var V=0;V<Z.sub.length;V++){var r=Z.sub[V],c=r.f;if(r.Af=="TBHD"){b=k(W,c);c+=4;h=k(W,c);c+=4;K=e.U(b*h*4);
F=new io(0,0,b,h);c+=4;var x=k(W,c);c+=4;var X=_(W,c);c+=2;if(X!=0)throw"e";A=_(W,c);c+=2;var M=k(W,c);
c+=4;if(M!=1)throw M;D=0;if(x&d)D+=3;if(x&$)D+=1}if(r.kR=="TBMP"){var f=r.sub;for(var t=0;t<f.length;
t++){var n=f[t].f,L=f[t].size,P=_(W,n),z=_(W,n+2),T=_(W,n+4)-P+1,p=_(W,n+6)-z+1;n+=8;var m=e.U(T*p*4),O=e.U(T*p);
m.fill(255);for(var Y=0;Y<4;Y++){n=i(W,n,L-8,O,0);e.aj(O,m,3-Y)}if(n!=f[t].f+L)throw"e";e.JE(m,new io(P,z,T,p),K,F)}}}return[{jD:F,data:K.buffer}]}function i(Z,W,d,$,I){var k=W;
while(I<$.length){var _=Z[W++],ky=(_&127)+1;if(_&128){_=Z[W++];for(var Y=0;Y<ky;++Y)$[I++]=_}else{for(var Y=0;
Y<ky;++Y)$[I++]=Z[W++]}}return W}function y(Z,W){if(v==null){var d=aT.yd(o);v=new Uint32Array(pako.inflate(new Uint8Array(d)).buffer)}var $=J.C,I=J.JQ,k=Z.sub[0],_=Z.sub[1],b=I(W,k.f),h=I(W,k.f+2),D=I(W,k.f+4),r,Y,c,x,X,M;
if(D!=3)throw D;var A=new io(0,0,b,h),F=e.U(b*h*4),K=e.U(b*h);F.fill(255);var V=new Uint32Array(F.buffer),f=_.f;
for(x=0;x<2;x++){M=x;X=0;r=Math.floor((b*h+2-x-1)/2);while(r>0){Y=W[f++];if(Y&128){Y=257-Y;r-=Y;c=W[f++];
X=X&v[c]|v[c+256];do{V[M]=X;M+=2}while(--Y)}else{Y++;r-=Y;do{c=W[f++];V[M]=X=X&v[c]|v[c+256];M+=2}while(--Y)}}}for(var Y=0;
Y<F.length;Y+=4){var t=F[Y+3],n=F[Y+2],L=F[Y+1];F[Y]=t;F[Y+1]=n;F[Y+2]=L;F[Y+3]=255}for(var P=0;P<h>>>1;
P++){for(var z=0;z<b;z++){var Y=P*b+z,c=(h-1-P)*b+z,T=V[Y];V[Y]=V[c];V[c]=T}}return[{jD:A,data:F.buffer}]}return U}();
aT.fh={};aT.fh.hE=!1;aT.fh.kf=function(b,h,G,H){var B=b[0][4],j=new Uint8Array(b[0][0]),s=2,q=B?!0:!1,Q=q?4:3,a=new Uint8Array(h*G*Q);
for(var l=0;l<G;l++)for(var U=0;U<h;U++){var N=l*h+U<<2,R=((G-l-1)*h+U)*Q;a[R]=j[N+2];a[R+1]=j[N+1];
a[R+2]=j[N+0];if(q)a[R+3]=B[0][l*h+U]}if(!0){var S=a.length,g=0,i=new Uint8Array(S*2),y=0,o=0,v=h*Q;
while(o<S){var Z=o,W=0,d=v*(Math.floor(o/v)+1);while(Z<d&&W<128){var $=!0;for(var Y=0;Y<Q;Y++)$=$&a[o+Y]==a[Z+Y];
if(!$)break;Z+=Q;W++}if(W==1){var I=1;while(I<128&&o+(I+1)*Q<d){var $=!0,k=o+I*Q;for(var Y=0;Y<Q;Y++)$=$&a[k+Y]==a[k+Q+Y];
if($)break;I++}i[y++]=I-1;for(var _=0;_<I;_++)for(var Y=0;Y<Q;Y++)i[y++]=a[o++]}else{i[y++]=127+W;for(var Y=0;
Y<Q;Y++)i[y+Y]=a[o+Y];y+=Q;o+=Q*W;g+=W}}a=i.slice(0,y);s+=8}var D=new Uint8Array(18+a.length+26);D[2]=s;
J.DP(D,12,h);J.DP(D,14,G);D[16]=Q*8;D[17]=Q==4?8:0;D.set(a,18);J.K$(D,18+a.length+8,"TRUEVISION-XFILE.");
return D.buffer};aT.fh.ho=function(b){var h=new Uint8Array(b),G=0,H=h[0],B=h[1],j=h[2],s=h[4]*256+h[3],q=h[6]*256+h[5],Q=h[7],a=h[9]*256+h[8],l=h[11]*256+h[10],U=h[13]*256+h[12],N=h[15]*256+h[14],R=h[16],S=h[17],g=S>>>4,i=J.lA(h,18,H),y=e.U(U*N*4),G=18+H+(q*Q>>>3),o=new Uint8Array(h.buffer,G);
if(j>3){var v=0,Z=h,W=new Uint8Array(U*N*R>>>3),d=G,$=0,I=h.length,k=R>>>3;while($<W.length){var g1=Z[d];
d++;if(g1<128)for(var Y=0;Y<g1+1;Y++){for(var _=0;_<k;_++){W[$]=Z[d];$++;d++}}else{for(var Y=0;Y<g1-127;
Y++){for(var _=0;_<k;_++){W[$]=Z[d+_];$++}}d+=k}}j-=8;o=W;G=d}else G+=U*N*R>>>3;var D=new Uint8Array(4),A=aT.fh.a99;
for(var F=0;F<N;F++)for(var K=0;K<U;K++){var V=(g&2)==0?(N-F-1)*U+K:F*U+K,r=F*U+K,c,x,X,M=255,f=V*R>>>3;
if(j==1){var t=0;if(R==8)t=o[f];else throw"e";A(h,18+H+s+(t*Q>>>3),Q,D);c=D[0];x=D[1];X=D[2];M=D[3]}else if(j==2){A(o,f,R,D);
c=D[0];x=D[1];X=D[2];M=D[3]}else if(j==3){if(R==8)c=x=X=o[f];else throw"e"}var n=r*4;y[n]=c;y[n+1]=x;
y[n+2]=X;y[n+3]=M}var D={jD:new io(0,0,U,N),data:y.buffer,Xy:i};if(e.qP(y)){var L=e.U(U*N);e.uA(y,L,3);
e.Zi(y,4278190080,16777215);D.$B=[L]}return[D]};aT.fh.a99=function(b,h,G,H){var B,j,s,q=255;if(G==24||G==32){s=b[h];
j=b[h+1];B=b[h+2];if(G==32)q=b[h+3]}else if(G==16){var Q=b[h+1]<<8|b[h+0];B=Q>>>10&31;j=Q>>>5&31;s=Q>>>0&31;
B=Math.round(B*(255/31));j=Math.round(j*(255/31));s=Math.round(s*(255/31))}else throw"e";H[0]=B;H[1]=j;
H[2]=s;H[3]=q};aT.as$=function(){var b,h=[],G=!1;function H(s,q,Q,a){b=Q;h.push(s,a);B()}function B(){if(G||h.length==0)return;
G=!0;aT.a1P(h.shift(),"image/avif",j)}function j(s){b(null,[s],h.shift());G=!1;B()}return{hE:!1,BK:!0,ho:H}}();
aT.acH=function(){var b,h=[],G=!1,H,B,j,s=10,q,Q,a,l=0,N;function U(v,Z,W,d,$){b=W;h.push(v,d);var I=gZ.wZ(v),k=gZ.abT(I,"vide"),_=k.tkhd,D=k.mdia.minf.stbl,A=_.duration/I.moov.mvhd.uo,F=D.stsz.length,K=Math.round(F/A);
console.log(I);H=_.Ps;B=_.CN;var V=H+" \xD7 "+B+" px, "+F+" frames, "+hd.Vd(H*B*4*F)+" decoded<br/>";
V+=A.toFixed(2)+" seconds, "+K+" FPS";var r=new hb(w.E.b,!0);r.data={q:w.p.C9,ut:"setFPS",Wy:s,QF:g,a4c:V};
$.Q(r)}async function R(){if(G||h.length==0)return;G=!0;var v=h.shift(),Z=gZ.wZ(v),W=gZ.abT(Z,"vide"),d=W.tkhd,$=W.mdia.minf.stbl,I=$.stsd.aef.avcC,k=d.duration/Z.moov.mvhd.uo,_=$.stsz.length,D=Math.round(_/k),A=Math.max(1,Math.round(D/s)),F=$.stsd.bg,r=0;
console.log(F);if(["hvc1","hev1","apcn"].indexOf(F)!=-1)alert(F.toUpperCase()+" codec not supported");
N=Date.now();H=d.Ps;B=d.CN;j=[];q=document.createElement("canvas");Q=q.getContext("2d");q.width=H;q.height=B;
var K=new Uint8Array(v),V=[];if(F=="raw "||F=="rle "){for(var c=0;c<_;c++){var x=H*B;if(r%A==0){var X=gZ.auk(Z,"vide",c),M=new Uint8Array(v,X[0],X[1]),f=e.U(H*B*4);
f.fill(255);if(F=="rle "){var t=new Int8Array(v,X[0],X[1]),n=6,L=0;while(n<M.length){var P=t[n];n++;
L+=(P-1)*4;while(n<M.length){var z=t[n];n++;if(z==0){P=t[n];L+=(P-1)*4}else if(z==-1)break;else if(z>0){for(var Y=0;
Y<z*4;Y++){f[L]=M[n];L++;n++}}else if(z<-1){for(var Y=0;Y<-z;Y++){f[L]=M[n];f[L+1]=M[n+1];f[L+2]=M[n+2];
f[L+3]=M[n+3];L+=4}n+=4}}}}else for(var Y=0;Y<x;Y++){var T=Y*4,p=Y*3;f[T]=M[p];f[T+1]=M[p+1];f[T+2]=M[p+2]}var m=j.length;
j[m]={Xy:"_a_"+m+","+Math.round(A*1e3/D),jD:new io(0,0,H,B),data:f}}r++}S();return}var O=new VideoDecoder({output:function(e$){if(r%A==0){Q.drawImage(e$,0,0);
e$.close();var f=Q.getImageData(0,0,H,B).data.buffer,m=j.length;j[m]={Xy:"_a_"+m+","+Math.round(A*1e3/D),jD:new io(0,0,H,B),data:f}}else e$.close();
clearTimeout(l);l=setTimeout(S,100);r++},error:function(e$){console.log(e$.message)}}),cb={codec:"vp09.00.10.08",codedWidth:H,codedHeight:B};
if(I){cb.codec="avc1.640034";cb.description=K.slice(I.f,I.f+I.SO)}O.configure(cb);for(var Y=0;Y<_;Y++){var X=gZ.auk(Z,"vide",Y),M=new Uint8Array(v,X[0],X[1]),cX=new EncodedVideoChunk({timestamp:Y,duration:1e3,type:Y==0?"key":"delta",data:M});
O.decode(cX)}await O.flush()}function S(){b(null,j,h.shift());G=!1;console.log(Date.now()-N);R()}function g(v){s=Math.max(1,Math.min(60,v));
if(window.VideoDecoder)R();else i()}function i(){if(G||h.length==0)return;G=!0;q=document.createElement("canvas");
Q=q.getContext("2d");a=document.createElement("video");var v="data:"+"video/mp4"+";base64,"+aT.fQ(h.shift());
a.src=v;a.muted=!0;a.currentTime=0;a.addEventListener("canplay",y,!1);a.addEventListener("timeupdate",o,!1)}function y(v){a.removeEventListener("canplay",y);
H=q.width=a.videoWidth;B=q.height=a.videoHeight;j=[];a.play()}function o(v){clearTimeout(l);Q.drawImage(a,0,0);
j.push({Xy:"_a_"+j.length+","+Math.round(1e3/s),jD:new io(0,0,H,B),data:Q.getImageData(0,0,H,B).data.buffer});
var Z=a.currentTime+1/s;if(Z<a.duration&&v){a.currentTime=Z;l=setTimeout(o,1e3)}else{b(null,j,h.shift());
a.removeEventListener("timeupdate",o);G=!1;i();j=null}}return{hE:!1,BK:!0,ho:U}}();aT.acH.kf=function(){var b,h,G,H,B,j,s=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],q=40,Q,a,l,U,N,R;
function S(F,K){if(!B&&K){if(K.description){B=K.description}if(K.decoderConfig&&K.decoderConfig.description){B=K.decoderConfig.description}}var V=new ArrayBuffer(F.byteLength);
F.copyTo(V);g(V);G.push({duration:F.duration,timestamp:F.timestamp,type:F.type,byteLength:F.byteLength});
if(F.type=="key"){H.push(G.length)}}function g(F){var K=new Uint8Array(j.byteLength+F.byteLength);K.set(new Uint8Array(j));
K.set(new Uint8Array(F),j.byteLength);j=K.buffer}function i(F){return new Uint8Array([F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2),F.charCodeAt(3)]).buffer}function y(F){var K=new Uint32Array([F]),V=new Uint8Array(K.buffer);
return new Uint8Array([V[3],V[2],V[1],V[0]])}function o(F){N[U]=F;++U}function v(F){N[U]=F>>8&255;N[U+1]=F&255;
U+=2}function Z(F){N[U]=F>>16&255;N[U+1]=F>>8&255;N[U+2]=F&255;U+=3}function W(F){N[U]=F>>24&255;N[U+1]=F>>16&255;
N[U+2]=F>>8&255;N[U+3]=F&255;U+=4}function d(F){l.push(U);U+=4;$(F)}function $(F){for(var Y=0;Y<F.length;
++Y){N[U]=F.charCodeAt(Y);++U}}function I(F){N.set(new Uint8Array(F),U);U+=F.byteLength}function k(){var F=U;
U=l.pop();W(F-U);U=F}function _(){l=[];var F=[],K={},V=9e4,r=G.length,c=H.length,x=-1;for(var Y=0;Y<G.length;
++Y){Q+=G[Y].duration/1e3;a+=G[Y].byteLength;if(G[Y].duration!=x){if(Y!=0){F.push(K)}x=G[Y].duration;
K={duration:9e4*G[Y].duration/1e6,sampleCount:1}}else{K.sampleCount=K.sampleCount+1}}a+=8;F.push(K);
var X=F.length,M=579+B.byteLength+4*r+4*r+4*c+8*X;N=new Uint8Array(M);U=0;d("moov");d("mvhd");W(0);W(0);
W(0);W(1e3);W(Q);W(65536);v(256);v(0);W(0);W(0);W(65536);W(0);W(0);W(0);W(65536);W(0);W(0);W(0);W(1073741824);
W(0);W(0);W(0);W(0);W(0);W(0);W(2);k();d("trak");d("tkhd");W(7);W(0);W(0);W(1);W(0);W(Q);W(0);W(0);v(0);
v(0);v(256);v(0);W(65536);W(0);W(0);W(0);W(65536);W(0);W(0);W(0);W(1073741824);W(b*65536);W(h*65536);
k();d("mdia");d("mdhd");W(0);W(0);W(0);W(V);W(Q/1e3*V);o(85);o(196);v(0);k();d("hdlr");W(0);W(0);$("vide");
W(0);W(0);W(0);$("VideoHandler");o(0);k();d("minf");d("vmhd");W(1);v(0);v(0);v(0);v(0);k();d("dinf");
d("dref");W(0);W(1);d("url ");W(1);k();k();k();d("stbl");d("stsd");W(0);W(1);d("avc1");v(0);v(0);v(0);
v(1);v(0);v(0);W(0);W(0);W(0);v(b);v(h);W(4718592);W(4718592);W(0);v(1);for(var Y=0;Y<8;++Y){W(0)}v(24);
v(-1);d("avcC");I(B);k();k();k();d("stts");W(0);W(X);for(var Y=0;Y<X;++Y){W(F[Y].sampleCount);W(F[Y].duration)}k();
d("stsc");W(0);W(1);W(1);W(1);W(1);k();d("stsz");W(0);W(0);W(r);for(var Y=0;Y<r;++Y){W(G[Y].byteLength)}k();
d("stco");W(0);W(r);var f=q;for(var Y=0;Y<r;++Y){W(f);f+=G[Y].byteLength}k();d("stss");W(0);W(c);for(var Y=0;
Y<c;++Y){W(H[Y])}k();k();k();k();k();k();return}function D(F,K,V){var r=new Uint8Array(b*h*4),c=new Uint8Array(F),x=K?b-1:b,X=V?h-1:h;
if(K){for(var Y=0;Y<X;++Y){r.set(c.slice(4*Y*x,4*Y*x+4*x),4*Y*b);r[4*(Y+1)*b-4]=c[4*(Y+1)*x-4];r[4*(Y+1)*b-3]=c[4*(Y+1)*x-3];
r[4*(Y+1)*b-2]=c[4*(Y+1)*x-2];r[4*(Y+1)*b-1]=c[4*(Y+1)*x-1]}if(V){r.set(r.slice(4*b*X-4*b,4*b*X),4*b*X)}}else if(V){r.set(c);
r.set(c.slice(4*x*X-4*x),4*x*X)}return r.buffer}async function A(F,K,V,r){var c=Date.now(),x=!1,X=!1,T=0;
if(K%2!=0){x=!0;b=K+1}else{b=K}if(V%2!=0){X=!0;h=V+1}else{h=V}B=null;H=[];G=[];Q=0;a=0;j=new Uint8Array;
g(new Uint8Array(s));g(y(0).buffer);g(i("mdat"));var M=new VideoEncoder({output:(chunk,opts)=>S(chunk,opts),error:ku=>{console.log(ku)}}),f=.02*(1+Math.pow(3.2*r[0]/100,2.3)),t=f*b*h,n=t*F.length,L=Math.round(t*24),P={width:b,height:h,codec:"avc1.420034",bitrate:L},z=await VideoEncoder.isConfigSupported(P);
console.log(z);if(z.supported==!1){console.log("Encoding not supported. Config: ",z.config);return new Uint8Array(0).buffer}M.configure(P);
for(var Y=0;Y<F.length;++Y){var p=F[Y][1]*1e3,m=F[Y][0];if(X||x){m=D(F[Y][0],x,X)}var O=new VideoFrame(m,{timestamp:T,duration:p,format:"RGBA",codedWidth:b,codedHeight:h});
M.encode(O);O.close();T+=p}await M.flush();_();R=new Uint8Array(j.byteLength+N.byteLength);R.set(new Uint8Array(j),0);
R.set(y(a),q-8);R.set(N,j.byteLength);var cb=Date.now();console.log(cb-c);return R.buffer}return A}();
aT.Pp={};aT.Pp.ho=function(b){var h=new Uint8Array(b),G=0,H=112,B=42,j=J.FZ,l;G+=8;var s=h[G];G++;if(s!=B)throw"e";
var q=j(h,G);G+=4;var Q=J.XX(h,G,q);G+=q*2;var a=[];while(G<h.length){l=j(h,G);G+=4;if(l!=H)throw l;
G+=4;l=h[G];G++;if(l!=B)throw l;var U=j(h,G);G+=4;var N=h[G];G++;if(N!=B){G-=5;U=j(h,G);G+=8;l=h[G];
G++;if(l!=B)throw l}var R=j(h,G)*2;G+=4;if(U>0)a.push(G+R);G+=R+U}var S=new DOMParser,g=S.parseFromString(Q,"image/svg+xml").firstChild.firstChild,i=[];
aT.Pp.aeH(g,h,a,i);return i};aT.Pp.aeH=function(b,h,G,H){var B=b.firstChild.firstChild;if(B.tagName=="Image"){var j=B.getElementsByTagName("ImageDescription")[0],s=j.children[0].children,q=j.children[1].children,Q=G.shift(),a=[];
for(var Y=0;Y<q.length;Y++)a.push(parseInt(q[Y].getAttribute("NumberOfElements")));while(a.length>3)a[2]*=a.pop();
var l=s.length,U=a[0],N=a[1],R=a[2],S=parseInt(q[0].getAttribute("BytesInc"));for(var g=0;g<R;g++){var i=e.U(U*N*4);
e.Zi(i,4278190080);for(var y=0;y<l;y++){var o=e.U(U*N);if(S==1)for(var v=0;v<o.length;v++)o[v]=h[Q+v];
else if(S==2)for(var v=0;v<o.length;v++)o[v]=Math.min(255,(h[Q+v*2+1]<<8|h[Q+v*2])>>>2);else throw S;
if(y!=3)e.aj(o,i,y);if(l==1){e.aj(o,i,1);e.aj(o,i,2)}Q+=U*N*S}H.push({jD:new io(0,0,U,N),data:i.buffer})}}else{var Z=b.children,W=0;
while(W<Z.length&&Z[W].tagName!="Children")W++;if(W==Z.length)throw"e";Z=Z[W].children;for(var d=0;d<Z.length;
d++)aT.Pp.aeH(Z[d],h,G,H)}};aT.anJ=function(){function b(s,q,Q,a,l){var U=new Int8Array(s.buffer),N=new Int8Array(a.buffer),R=q+Q;
while(q<R){var g1=U[q];q++;if(g1>=0&&g1<128)for(var Y=0;Y<g1+1;Y++){N[l]=U[q];l++;q++}if(g1>=-127&&g1<0){for(var Y=0;
Y<-g1+1;Y++){N[l]=U[q];l++}q++}}return l}function h(s,q,Q,a,l,U){var N=q*Q*a>>>3,R=e.U(N*l),S=H(s,0,0,0)[0];
for(var g=0;g<l;g++){var i=S[g+1];if(U){var y=aT.JR("jpg").ho(i.buffer),o=e.U(N);e.Rt(new Uint8Array(y[0].data),o);
R.set(o,N*g)}else if(i[0]==255&&i[1]==216&&i[2]==255){var v=UTIF.LosslessJpegDecode(i);R.set(new Uint8Array(v.buffer),N*g)}else b(i,64,i.length,R,N*g)}return R}function G(s){var q=new Uint8Array(s),Q=0,a=J.lA(q,0,128);
Q+=128;var l=J.lA(q,Q,4);Q+=4;var U=B(q,Q,0)[0],N=U.g28;if(N==null){alert("No image.");return[]}var R=N.cols,S=N.rows,g=R*S,i=N.photoInterpret,y=N.bitsAlloc,o=N.bitsStored,v=N.lossyCompr;
if(v==null)v=U.g8.lossyCompr;var Z=U.g7fe0.pixelData,W=N.numOfFrames;W=W?parseInt(W):1;var d=new Uint8Array(Z.buffer),$=g*y>>>3;
if(d.length!=$*W){Z=h(Z,R,S,y,W,v)}else{}if(y==16)Z=new Uint16Array(Z.buffer);console.log(N);console.log(U);
var I=[];for(var k=0;k<W;k++){var _=k*$,s=e.U(R*S*4);s.fill(255);if(i=="MONOCHROME2"){var D=0,A=255,F=N.largestValue,K=N.smallestValue;
if(F!=null){A=F;D=K}else if(o!=8){A=0;D=1e9;for(var Y=0;Y<g;Y++){var V=Z[_+Y];if(V>1<<o-8){if(V>A)A=V;
if(V<D)D=V}}}var r=255/(A-D);for(var Y=0;Y<g;Y++){var V=Math.max(0,Math.min(255,(Z[_+Y]-D)*r)),c=Y*4;
s[c]=s[c+1]=s[c+2]=V}}else if(i=="PALETTE COLOR"){var x=N.pltRed,X=N.pltGreen,M=N.pltBlue;for(var Y=0;
Y<g;Y++){var f=Z[_+Y],c=Y*4;s[c]=x[f]>>>8;s[c+1]=X[f]>>>8;s[c+2]=M[f]>>>8}}else throw i;I.push({jD:new io(0,0,R,S),data:s.buffer})}return I}function H(s,q,Q,a){if(Q==0)Q=s.length;
var l=J.gP,U=J.eR,N=J.FZ,R=[],S=q;while(q<Q){var g=l(s,q);q+=2;var i=l(s,q);q+=2;var y=N(s,q);q+=4;if(g==65534&&i==57344){if(y==4294967295){var o=B(s,q,a+1);
R.push(o[0]);q=o[1]}else{R.push(s.slice(q,q+y));q+=y}}else if(g==65534&&i==57357){}else if(g==65534&&i==57565)break;
else throw"e"}return[R,q]}function B(s,q,Q){var a=J.gP,l=J.eR,U=J.FZ,N={},R="\t".repeat(Q);while(q<s.length){var S=a(s,q),o="",v=0,W=null;
q+=2;var g=a(s,q);q+=2;var i=S.toString(16),y=g.toString(16);if(S==65532)break;if(S==65534&&g==57357){q-=4;
break}if(S==65534&&g==57565)throw"e";if(g==0){q+=8;continue}if(65<=s[q+1]){o=J.lA(s,q,2);q+=2;if(o=="OB"||o=="SQ"||o=="OW"){v=U(s,q+2);
q+=6}else{v=a(s,q);q+=2}}else{o=j[i][y].split(",")[1];v=U(s,q);q+=4}console.log(i,y,o,v);var Z=j[i][y];
if(Z)Z=Z.split(",")[0];if(Z==null){Z="t"+y}if(o=="SQ"){var d=H(s,q,q+v,Q);W=d[0];q=d[1];v=0}else if(o=="US")W=a(s,q);
else if(o=="SS")W=l(s,q);else if(o=="UL")W=U(s,q);else if(o=="FL")W=J.B$(s,q);else if(o=="AT")W=[a(s,q),a(s,q+2)];
else if(o=="OB")W=s.slice(q,q+v);else if(o=="OW")W=new Uint16Array(s.slice(q,q+v).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(o)!=-1){var $=q+v;
while(s[$-1]==0)$--;W=J.lA(s,q,$-q).trim()}else{console.log(R,JSON.stringify(J.lA(s,q,Math.min(v,32))));
throw o}if(N["g"+i]==null)N["g"+i]={};N["g"+i][Z]=W;q+=v}return[N,q]}var j={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{ho:G}}();aT.a0n={};aT.a0n.ho=function(b){var h=new Uint8Array(b),G=0,H={},l=1e9;for(var Y=0;Y<306;
Y++){var B=J.lA(h,G,8).trim(),j=J.lA(h,G+9,71).split("/")[0].trim();H[B]=j;G+=80;if(B=="END"){G=Math.ceil(G/2880)*2880;
break}}var s=parseInt(H.NAXIS1),q=parseInt(H.NAXIS2),Q=s*q,a=parseInt(H.BITPIX),U=-1e9,N=new Float32Array(Q),R=new Float32Array(b,G,b.byteLength-G>>>2);
for(var Y=0;Y<Q;Y++){var S=Y<<2,g=Y<<1;if(a==-32){var i=h[G+S+0];h[G+S+0]=h[G+S+3];h[G+S+3]=i;var i=h[G+S+1];
h[G+S+1]=h[G+S+2];h[G+S+2]=i;N[Y]=R[Y]}else if(a==16){N[Y]=J.gP(h,G+g)}else throw a;var y=N[Y];if(y<l)l=y;
if(y>U)U=y}var o=e.U(Q*4),v=1/U;for(var Z=0;Z<q;Z++)for(var W=0;W<s;W++){var Y=Z*s+W,d=(q-Z-1)*s+W,S=d<<2,y=N[Y]*v;
o[S]=o[S+1]=o[S+2]=255*y;o[S+3]=255}return[{jD:new io(0,0,s,q),data:o,Xy:H.OBJECT}]};aT.TP={};aT.TP.ho=function(b){var h=new Uint8Array(b),G=16,H=J.lA(h,G,4),j=32,y=0,o=0,v=!1,x;
G+=4;var B=J.lA(h,G,8);G+=8;while(h[G+j-1]==0)j--;var s=J.lA(h,G,j);G+=32;var q=J.lA(h,G,4);G+=4;G+=20;
var Q=J.C(h,G);G+=4;var a=J.C(h,G);G+=4;var l=J.C(h,G);G+=4;var U=J.C(h,G);G+=4;var N=J.C(h,G);G+=4;
var R=J.C(h,G);G+=4;var S="FujiFilm "+s,g=[0,1,1,2];if(S=="FujiFilm X10"){S="FujiFilm FinePix X10";g=[2,1,1,0]}var i={t271:["FujiFilm"],t272:[S],t277:[1],t33421:[2,2],t33422:g,_h:1};
G=l;var Z=[],W=J.JQ,d=J.C(h,G);G+=4;for(var Y=0;Y<d;Y++){var $=W(h,G);G+=2;var I=W(h,G);G+=2;if($==256){o=W(h,G);
y=W(h,G+2)}else if($==272){Z=[W(h,G),W(h,G+2)]}else if($==273){Z.push(W(h,G),W(h,G+2))}else if($==304){v=!(h[G]>>>7)}else if($==305){var k=Math.round(Math.sqrt(I)),_=[];
for(var D=0;D<I;D++)_.push(h[G+D]);_.reverse();i.t33421=[k,k];i.t33422=_}else if($==12272){var A=W(h,G),F=W(h,G+2),K=W(h,G+6);
i.t50728=[A/F,1,A/K]}G+=I}var V=y<o,r=h.slice(N,N+R),c=Math.round(R*8/(y*o));if(r[0]==73&&r[1]==73&&r[2]==42){x=UTIF.decode(r.buffer)[0].fujiIFD;
c=x.t61443[0];var X=x.t61454,M=x.t61450;if(M)i.t50714=M;if(X)i.t50728=[X[0]/X[1],1,X[0]/X[2]];var f=x.t61447[0];
r=r.slice(f,f+x.t61448[0])}var R=r.length,t=R*8<y*o*c;if(t){console.log("compressed");var n=i.t33422,L=~~Math.sqrt(n.length),P=[];
for(var Y=0;Y<L;Y++)P[Y]=n.slice(Y*L,Y*L+L);r=new Uint8Array(UTIF._decompressRAF(r,P).buffer);R=r.length}function z(cb,cX,e$){e$=e$<<8-(cX&7);
var fz=cX>>>3;cb[fz]|=e$>>>16;cb[fz+1]|=e$>>>8;cb[fz+2]|=e$}var T=R*8/(y*o);if(T==16)for(var Y=0;Y<R;
Y+=2){var p=r[Y];r[Y]=r[Y+1];r[Y+1]=p}else if(T==14){for(var Y=0;Y<R;Y+=4){var p=r[Y];r[Y]=r[Y+3];r[Y+3]=p;
p=r[Y+1];r[Y+1]=r[Y+2];r[Y+2]=p}}else if(T==12)for(var Y=0;Y<R;Y+=3){var m=r[Y+2]<<16|r[Y+1]<<8|r[Y+0];
m=m>>>12|(m&4095)<<12;r[Y]=m>>>16&255;r[Y+1]=m>>>8&255;r[Y+2]=m&255}if(V)r=aT.TP.arX(r,y,o);var O=V?2:1;
y*=O;i.t256=[y];i.t257=[o];i.t258=[c];i.t50719=[Z[1],Z[0]*O];i.t50720=[Z[3],Z[2]*O];i.width=y;i.height=o;
i.data=new Uint8Array(r.buffer);return[i]};aT.TP.arX=function(b,h,G){b=new Uint16Array(b.buffer);var H=new Uint16Array(h*G*2);
for(var B=0;B<G;B+=2)for(var j=0;j<h;j++){var s=B*h+j,q=s*2,Q=b[s],a=b[s+h];H[q+1]=H[q+2*h]=a;if(((B>>>1)+j&1)==0){H[q]=Q;
H[q+2*h+1]=b[s+1]}else{H[q]=b[s-1];H[q+2*h+1]=Q}}return H};aT.XQ={};aT.XQ.ajf=function(b,h,G){G=G<<8-(h&7);
var H=h>>>3;b[H]|=G>>>16;b[H+1]|=G>>>8;b[H+2]|=G};aT.XQ.ho=function(b){var h=new Uint8Array(b),G=0,H=Date.now(),B=gZ.wZ(b),j=B.moov.uuid[0],s=new CR3Parser(b),q=s.getTrack().meta,Q=j.CMT1[0],a=Q.t256[0]=q.width,l=Q.t257[0]=q.height,U=a*l,N=Q.exifIFD=j.CMT2[0],R=N.makerNote=j.CMT3[0],S=B.moov.trak[3].mdia.minf.stbl,g=S.co64[0],i=h.slice(g,g+S.stsz[0]),y=0;
while(y<i.length){var o=J.FZ(i,y);y+=4;var v=J.gP(i,y);y+=2;var Z=i[y]==1;y+=2;y+=4;if(v==8||v==9){var W=UTIF.decode(i.slice(y+8,y+o-12).buffer)[0];
for(var d in W)R[d]=W[d]}y+=o-12}Q.t277=[1];Q.t33421=[2,2];Q.t33422=[0,1,1,2];Q._h=1;if(Q.t274)Q._h=Q.t274[0];
var $=s.extractCFA(),I=q.bitDepth;if(I!=14)throw"e";Q.t258=[I];var k=new Uint8Array(Math.ceil(U*I/8)),_=16-I;
for(var Y=0;Y<U;Y++)aT.XQ.ajf(k,Y*14,$[Y]<<_);Q.width=a;Q.height=l;Q.data=k;return[Q]};aT.OZ={};aT.OZ.pK=!0;
aT.OZ.kf=function(b,h,G,H){var B=new Uint8Array(b[0][0]),j=h*G,s=[1,3,4][H[0]],q=8+8*H[1],Q=H[2];if(s==1){var a=new Uint8Array(h*G);
e.uA(B,a,0);B=a}if(s==3){var a=new Uint8Array(h*G*3);for(var Y=0;Y<j;Y++){var l=Y*4,U=Y*3;a[U]=B[l];
a[U+1]=B[l+1];a[U+2]=B[l+2]}B=a}if(q==16){var N=B.length,a=new Uint8Array(N*2);for(var Y=0;Y<N;Y++){var R=Math.round(B[Y]*(65535/255));
a[Y*2+Q]=R>>>8;a[Y*2+1-Q]=R&255}B=a}return B.buffer};aT.ahz={};aT.ahz.ho=function(b,h){function G(Q){return~~(.5+e.Ea(Math.max(0,Math.min(1,Q)))*255)}var H=EXRLoader.parse(b),B=H.width,j=H.height,s=e.U(B*j*4);
for(var q=0;q<j;q++)for(var Q=0;Q<B;Q++){var Y=(q*B+Q)*4,a=((j-q-1)*B+Q)*4;s[Y]=G(H.data[a+0]);s[Y+1]=G(H.data[a+1]);
s[Y+2]=G(H.data[a+2]);s[Y+3]=G(H.data[a+3])}return[{jD:new io(0,0,B,j),data:s.buffer}]};aT.EE={};aT.EE.pK=!0;
aT.EE.hE=!0;aT.EE.kf=function(b,h,G,H,B){H=["",100,!1,!1,!1,0,!1];H[7]=["jpg"];var j=new ToDXF;bW.OL(b,H,j,B.B7);
return j.buffer};aT.EE.ho=function(b,h){var G=72,H=new eq(1,0,0,1,0,0);H.scale(G/72,G/72);h.O4=G;var B=new fX(h,H,!1);
FromDXF.Parse(b,B)};aT.acv={};aT.acv.ho=function(){var b=J.gP,h=J.FZ,G=J.lA,H;function B(s,q,Q,a,l){var U=h(s,Q),N=h(s,Q+4),R=h(s,Q+8),S=b(s,Q+12),g=b(s,Q+14);
Q+=16;var i={};for(var Y=0;Y<S+g;Y++){var y=h(s,Q),o=h(s,Q+4),v,Z;if(y>>>31==1){y=y&16777215}if(Y<S)v=J.XX(s,q+y+2,b(s,q+y));
else v="id"+y;var W=a.slice(0);W.push(v);if(o>>>31==1){o=o&268435455;Z=B(s,q,q+o,W,l)}else{var d=h(s,q+o),$=h(s,q+o+4),I=h(s,q+o+8),k=h(s,q+o+12);
if(k!=0)throw"e";if(d<l[0]||d>l[0]+l[1])throw"e";var _=l[2]+d-l[0];Z=s.slice(_,_+$);var D=aT.ni(Z.buffer);
if(D&&["bmp","png","ico"].indexOf(D)!=-1){var A=aT.JR(D);if(!A.hE){var F=null;try{F=A.ho(Z.buffer)}catch(ku){}if(F){F[0].Xy=W[1];
H.push(F[0])}}}else if(D)console.log(D)}i[v]=Z;Q+=8}return i}function j(s){H=[];var q=new Uint8Array(s),Q=0,a=b(q,Q);
Q+=2;Q+=58;var l=h(q,Q);Q+=4;Q=l;var U=G(q,Q,4);Q+=4;var N=b(q,Q);Q+=2;var R=b(q,Q);Q+=2;var S=h(q,Q);
Q+=4;var g=h(q,Q);Q+=4;var i=h(q,Q);Q+=4;var y=b(q,Q);Q+=2;var o=b(q,Q);Q+=2;Q+=y;var v={};for(var Y=0;
Y<R;Y++){var Z=Q;while(q[Z]!=0)Z++;var W=G(q,Q,Z-Q),d=h(q,Q+8),$=h(q,Q+12),I=h(q,Q+16),k=h(q,Q+20),_=h(q,Q+24),D=h(q,Q+28),A=b(q,Q+32),F=b(q,Q+34),o=h(q,Q+36);
v[W]=[$,d,k,I,o];if(_+D!=0)throw"e";Q+=40}for(var K in v){var V=v[K];Q=V[2];if(K==".rsrc"){var r=B(q,Q,Q,[],V),c="id134"}}return H}return j}();
aT.rw={};aT.rw.hE=!0;aT.rw.ho=function(b,h,G){g7.wZ(b,h,G)};aT.rw.kf=function(b,h,G){return g7.OL(b)};
(function(){var b=aT.aC.get("wasm/zstd").buffer;WebAssembly.instantiate(b).then(function(h){var G=h.instance.exports;
aT.rw.abX=G})}());aT.rw.m4=function(b,h){var G=aT.rw.abX,H=b.length,B=G.memory,j=2*H+1e6,Q=4;aT.Q1(G,j);
var s=new Uint8Array(B.buffer),q=G.malloc(H);s.set(b,q);while(!0){var a=h==null?H*Q:h;aT.Q1(G,j+a);var l=G.malloc(a),U=G.ZSTD_decompress(l,a,q,H);
if(U==-70){G.free(l);Q+=Q>>>1;if(h!=null)throw"error"}else{s=new Uint8Array(B.buffer);b=s.slice(l,l+U);
G.free(l);break}}G.free(q);return b};aT.Ct={};aT.Ct.hE=!0;aT.Ct.ho=function(){var b=0,h=1,G=2,H=3,B=4,j=5,s=6,q=7,Q=1,a=2,l=7,U=8,N=9,R,S,g,i,y;
function o(){var g1=J.Wv(R,S);S+=4;return g1}function v(){var x=0,X=0;for(var Y=0;Y<5;Y++){var M=R[S++];
x+=(M&127)<<X;X+=7;if((M&128)==0)break}return x}function Z(){var x=v(),X=J.S2(R,S,x);S+=x;return X}function W(){return{typeName:Z(),aat:o()}}function d(){var x=o(),X=Z(),M=[],f=o();
for(var Y=0;Y<f;Y++)M.push([Z()]);return{id:x,Lw:X,ahv:M}}function $(x){var X=x.ahv,M=[];for(var Y=0;
Y<X.length;Y++)X[Y].push(R[S++]);for(var Y=0;Y<X.length;Y++){var f=X[Y][1],t;X[Y].push(I(f))}}function I(x){var X;
if(x==b)X=R[S++];else if(x==H)X=Z();else if(x==B)X=W();else if(x==h||x==G||x==s||x==j){}else throw x;
return X}function k(x,X,M){var f;if(x==b){if(X==Q)f=R[S++]==1;else if(X==a){f=R[S++]}else if(X==U)f=o();
else if(X==N){f=o();o()}else throw X}else if(x==H){f=F(M+1)}else if(x==B){f=F(M+1)}else if(x==j){f=F(M+1)}else if(x==h){f=F(M+1)}else if(x==s){f=F(M+1)}else if(x==G){f=F(M+1)}else throw x;
return f}function _(x,X){var M=g["c"+x],f=M.ahv,t={_class:M.Lw};for(var Y=0;Y<f.length;Y++){var n=f[Y],L=n[1],P=n[2],z=k(L,P,X),T=n[0];
t[T]=z}return t}function D(x,X,M,f){var t=[];for(var Y=0;Y<x;Y++){var n=k(X,M,f);if(n.$G&&n.$G=="null_count"){var L=n.ZV;
for(var P=0;P<L;P++)t.push(null);Y+=L-1}else t.push(n)}return t}function A(){return[o(),o()]}function F(x){if(x==null)throw"e";
var X=null,M=R[S],f=null;S++;if(M==0){var t=o(),n=o(),L=o(),P=o();X=[t,n,L,P]}else if(M==1){f=o();var z=o();
X=_(z,x)}else if(M==4){var T=d();f=T.id;$(T);g["c"+T.id]=T;X=_(T.id,x)}else if(M==5){var T=d();f=T.id;
$(T);var p=o();g["c"+T.id]=T;X=_(T.id,x)}else if(M==6){f=o();var m=Z();X=m}else if(M==7){f=o();var O=R[S++];
if(O!=0)throw O;var cb=o();if(cb!=1)throw cb;var cX=o(),e$=R[S++],fz=I(e$);X=D(cX,e$,fz,x)}else if(M==9){var eC=o();
X={$G:"ref",ZV:eC};y["o"+eC]=!0}else if(M==10){X={$G:"null_count",ZV:1}}else if(M==11){X={$G:"end"}}else if(M==12){var p=o(),hw=Z()}else if(M==13){var az=R[S++];
X={$G:"null_count",ZV:az}}else if(M==16){var av=A();f=av[0];X=D(av[1],B,null,x)}else if(M==17){var av=A();
f=av[0];X=D(av[1],h,null,x)}else throw"e";if(f!=null&&f>0){if(i["o"+f]!=null)throw"e";i["o"+f]=X}return X}function K(x,i){if(x instanceof Array){for(var Y=0;
Y<x.length;Y++)x[Y]=V(x[Y],i)}else if(x instanceof Object){for(var X in x)x[X]=V(x[X],i)}}function V(x,i){if(x&&x.$G&&x.$G=="ref")return i["o"+x.ZV];
else return x}function r(x,X,M){var f=Date.now();R=new Uint8Array(x);S=0;g={};i={};y={};var t=J.lA(R,0,4);
if(t!="PDN3")throw t;S+=4;var n=J.gP(R,S)+R[S+2]*256*256;S+=3;var L=J.lA(R,S,n);S+=n;S+=2;while(!0){var P=F(0);
if(P&&P.$G&&P.$G=="end")break}for(var z in y)if(i[z]==null)throw z;for(var z in i)K(i[z],i);var T=i.o1;
console.log(T);X.j=T.width;X._=T.height;X.buffer=e.U(X.j*X._*4);var p=T.layers["ArrayList+_items"];for(var Y=0;
Y<p.length;Y++){var m=p[Y];if(m==null)continue;var O=m["Layer+width"],cb=m["Layer+height"],cX=m["Layer+properties"],e$=m.properties,fz=e$.blendOp._class.split("+").pop();
fz=fz.slice(0,fz.length-7);var eC={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[fz],hw=X.Cx();
hw.cb(cX.name);hw.opacity=cX.opacity;hw.lW(cX.visible);hw.Am=eC;if(R[S]!=0)throw"e";S++;var az=J.C(R,S);
S+=4;var av=Math.ceil(O*cb*4/az);hw.rect=new io(0,0,O,cb);var ia=hw.buffer=e.U(O*cb*4);for(var iJ=0;
iJ<av&&S<R.length;iJ++){var cx=c();ia.set(cx[1],cx[0]*az)}for(var hP=0;hP<ia.length;hP+=4){var iS=ia[hP+0];
ia[hP+0]=ia[hP+2];ia[hP+2]=iS}X.R.push(hw)}}function c(){var x=J.C(R,S);S+=4;var X=J.C(R,S);S+=4;S+=10;
X-=10;var M=pako.inflateRaw(R.slice(S,S+X));S+=X;return[x,M]}return r}();aT.bQ={};aT.bQ.hE=!0;aT.bQ.ho=function(b,h){bh.wZ(b,h)};
aT.m6={};aT.m6.hE=!0;aT.m6.ho=function(){var b,h,i=null,I,k;function G(){var c=b[h];h+=1;return c}function H(){var c=J.JQ(b,h);
h+=2;return c}function B(){var c=J.C(b,h);h+=4;return c}function j(){var c=J.dj(b,h);h+=4;return c}function s(){var c=J.DN(b,h);
h+=8;return c}function q(){var c=B();if(c>200)throw c;var x=J.Ss(b,h,c);h+=c*2;return x}function Q(){var c=J.Oj(b,h);
h+=8;return c}function a(){var c=J.N$(b,h);h+=4;return c}function l(){var c=B();if(B()!=4)throw"e";var x=[];
for(var Y=0;Y<c;Y++)x.push(B());return x}function U(c,x,X){for(var Y=0;Y<c.length;Y++)if(c[Y][x]==X)return c[Y]}function N(c,x){var X=Date.now();
b=new Uint8Array(c);h=J.qh(b,"CH"+"NK"+"SQ"+"Li")+8;var M=s(),f=bs.parse(b.buffer.slice(h,h+M)),t=bs.ap3(f,!0);
console.log(t);var n=t.Canvas[0],L=n.Width,P=n.Height,z=n.Unit,T=x.O4=n.Resolution;if(z==0){}else if(z==1){L=Math.round(L*T/2.54);
P=Math.round(P*T/2.54)}else if(z==2){L=Math.round(L*T/25.4);P=Math.round(P*T/25.4)}else if(z==3){L=Math.round(L*T);
P=Math.round(P*T)}else if(z==5){L=Math.round(L*T/72);P=Math.round(P*T/72)}else{console.log(n);throw z}x.j=L;
x._=P;x.buffer=e.U(L*P*4);console.log(Date.now()-X);var p=U(t.Layer,"MainId",n.RootFolder);F(t,b,x,p.FirstChildIndex,0);
console.log(Date.now()-X)}function R(){var c=J.gP(b,h);h+=2;return c}function S(){var c=J.FZ(b,h);h+=4;
return c}function g(){var c=J.Wv(b,h);h+=4;return c}function y(c){var x={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},M=0;
b=c;h=0;var X={};while(h<b.length){var f=S(),t=S(),n=h+t;if(t==0)continue;var L=[];if(f==11){var P=S();
for(var z=0;z<P;z++){var T=[S(),S()];L.push(T);M+=T[1];var p=h+S()-4;T.push(R(),R(),R(),R());T.push(J.A0(b,h));
h+=8;var m=R();T.push(J.XX(b,h,m));h+=m*2;if(h!=p)throw"e"}}else if(f==31){L=J.S2(b,h,t);h+=t}else if(f==34)for(var Y=0;
Y<3;Y++)L.push(S()>>>16);else if(f==42)for(var Y=0;Y<4;Y++)L.push(g());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(f)!=-1){if(t!=4)throw"e";
L=S();if([37,45,46,51,53,55,61,62].indexOf(f)!=-1){if(L!=0&&L!=1&&L!=2&&L!=360)throw f+":"+L;h=n;continue}}else if(f==47){var O=R();
if(S()!=50)throw"e";if(S()!=0)throw"e";var cb=R();L=J.lA(b,h,cb);h+=cb}else if(f==57){var P=R();for(var Y=0;
Y<P;Y++){var cX=R(),e$=J.lA(b,h,cX);h+=cX;var fz=R(),eC=J.lA(b,h,fz);h+=fz;L.push([e$,eC])}var hw=S();
for(var Y=0;Y<P;Y++)L[Y].push(hw)}else if(f==39||f==63)L.push(S(),S());else if(f==64){for(var Y=0;Y<8;
Y++)L.push(J.Wv(b,h+Y*4)/100);h+=32}else{L=b.slice(h,n);h+=t}var az=x[f];if(az==null)az="t"+f;if(X[az])throw"e";
X[az]=L;if(h!=n)throw f}if(i){}i=X;return X}function o(c){b=c;h=0;var x=B();if(x!=c.length)throw"e";
var X=B(),M=q(),f=B(),t=Q(),n=[B()/4294967295,B()/4294967295,B()/4294967295];return[f,t,n]}function v(c,x){function X(){var c2=[];
for(var Y=0;Y<4;Y++)c2.push(J.dj(b,h+Y*4));h+=16;return c2}function M(g1){var c2=[];for(var Y=0;Y<g1;
Y++)c2.push(a());return c2}function f(c2){var bL="";for(var Y=h;Y<c2;Y+=4)bL+=b.slice(Y,Y+4).join(", ")+"\n";
return bL}b=c;h=x+8;var t=s(),n=h+t;h+=56;if(h==n)return;var L=[],P=[],z=[],T=[],p=[];while(h<n){var m=B(),av=1;
if(m!=88&&m!=96)throw m;var m=B();if(m!=72)throw"e";var O=B();if(O!=88&&O!=104&&O!=120)throw O;var m=B();
if(m!=88)throw"e";var cb=B(),cX=B(),e$=X(),fz=[];z.push(fz);for(var Y=0;Y<6;Y++){fz.push(W(B()))}var eC=Q(),hw=B();
if(hw==16||hw==1040||hw==304||hw==273){B();hw=B()}var az=Q();T.push(az);var ia=B(),iJ=(cX&256)!=0,cx=[],hP=[],iS={88:1,104:2,120:3}[O];
for(var Y=0;Y<cb;Y++){var e4=Y==0?1:iS;for(var cc=0;cc<e4;cc++)cx.push(Q(),Q());hP.push(e4==1?Y==0?"M":"L":e4==2?"Q":"C");
var aO=X(),bZ=B();av=a();var d_=M(10),ee=B(),b4=B()}p.push(av);if(O==104){var hA=Q(),f$=Q();if(iJ){hP.push("Q");
cx.push(hA,f$,cx[0],cx[1])}}if(O==120){var hA=Q(),f$=Q(),e_=Q(),fJ=Q();if(iJ){hP.push("C");cx.push(hA,f$,e_,fJ,cx[0],cx[1])}}if(cX&128){var dV=["M"],ix=[cx[0],cx[1]],b9=cx.length>>>1,hV=e.N.azY(cx);
for(var Y=0;Y<b9;Y++){var gq=cx[2*Y],eH=cx[2*Y+1],eP=.7;for(var cc=0;cc<2;cc++){hV[Y*4+cc*2]=eP*hV[Y*4+cc*2]+(1-eP)*gq;
hV[Y*4+cc*2+1]=eP*hV[Y*4+cc*2+1]+(1-eP)*eH}}for(var Y=1;Y<b9;Y++){dV.push("C");ix.push(hV[Y*4-2],hV[Y*4-1],hV[Y*4],hV[Y*4+1],cx[Y*2],cx[Y*2+1])}if(iJ){dV.push("C");
ix.push(hV[b9*4-2],hV[b9*4-1],hV[0],hV[1],cx[0],cx[1])}cx=ix;hP=dV}if(iJ)hP.push("Z");P=P.concat(cx);
L=L.concat(hP)}if(h!=n)throw"e";return[{m:P,Gc:L},z,T,p]}function Z(c,x){b=c;h=x+8;var X=s(),M=h+X,f=0;
h+=56;var t=[];while(h<M){var n=B(),L=h+n-4;if(L>M)throw"e";if(n==11){h-=4;var P=q(),z=B();if(z!=12)throw"e";
var T=l(),p=q(),z=B();if(z!=12)throw"e";var m=l();if(h!=M)throw"e"}else{var O=q(),cb=B();if(cb!=f)throw cb;
f++;var cX=H();if(cX!=0&&cX!=1&&cX!=2&&cX!=5)throw cX;var e$=G();if(e$!=0&&e$!=32&&e$!=64)throw e$;if(B()!=1)throw"e";
if(B()!=1)throw"e";if(G()!=0)throw"e";if(B()==1){var fz=B(),eC=J.FZ(b,h);if(fz!=eC+4)throw"e";t.push(new Uint8Array(b.buffer,h+4,eC));
h+=fz}else t.push(new Uint8Array(0));var hw=q();if(h!=L)throw h}}return t}function W(c){return Math.min(255,Math.round(c/16777216))}function d(c){b=c;
h=0;var x=B();if(x!=16)throw x;var X=B();if(X!=102)throw X;var M=B();if(M!=42&&M!=58)throw M;var f=B();
if(c.length-f!=118+M)throw c.length-f;var t=q();if(t!="Parameter")throw t;var n=B(),L=B(),P=B(),z=B(),T=[];
for(var Y=0;Y<16;Y++)T.push(B());var t=q();if(t!="InitColor")throw t;if(B()!=20)throw"e";var p=B(),m=B(),O=B();
if(B()!=4)throw"e";if(M==58){var cb=[];T.push(cb);for(var Y=0;Y<4;Y++)cb.push(W(B()))}var t=q();if(t!="BlockSize")throw t;
var cX=B();if(cX!=12)throw cX;var e$=l();if(h!=b.length)throw"e";return[n,L,P,z,p*255,T]}function $(c,x){var X=J.lA(x,0,40),M=U(c["ExternalC"+"hunk"],"Exte"+"rnalID",X);
if(M==null){console.log("chnk not found",X)}return M?M.Offset:-1}function _(c,x,X,M){if(I==null){I=e.U(256*256*4);
k=e.U(256*256)}var f=c.Mipmap,t=c.MipmapInfo,n=c.Offscreen,L=U(f,"MainId",X),P=U(t,"MainId",L.BaseMipmapInfo),z=U(n,"MainId",P.Offscreen),T=$(c,z.BlockData),N=null;
if(T==-1)return null;var p=Z(x,T),m=d(z.Attribute),O=m[0],cb=m[1],cX=m[2],e$=m[3],fz=m[4],eC=m[5],hw=eC[16],az=eC[1],av=eC[2],ia=az+av;
if(av!=eC[5])throw"e";if(az!=eC[7])throw"e";var iJ=e.U(256*(eC[6]+eC[8])),cx=new io;if(hw)cx=new io(0,0,O,cb);
else{for(var hP=0;hP<e$;hP++)for(var iS=0;iS<cX;iS++){var e4=p[hP*cX+iS];if(e4.length==0)continue;cx=cx.gJ(new io(iS<<8,hP<<8,256,256))}}var cc=cx.D4(new io(0,0,O,cb)),aO=e.U(cc.X()*(ia==1?1:4));
if(hw)new Uint32Array(aO.buffer).fill(255<<24|hw[0]<<16|hw[1]<<8|hw[2]);if(ia==1)aO.fill(fz);for(var hP=0;
hP<e$;hP++)for(var iS=0;iS<cX;iS++){var e4=p[hP*cX+iS];if(e4.length==0)continue;var bZ=new Uint8Array(e4.buffer,e4.byteOffset+2,e4.length-6),d_=new io(iS<<8,hP<<8,256,256);
UZIP.inflateRaw(bZ,iJ);if(ia==1){if(eC[8]==32){D(iJ,0,k);e.wX(k,d_,aO,cc)}else e.wX(iJ,d_,aO,cc)}else if(ia==2){if(eC[8]==32){new Uint32Array(I.buffer).fill(4278190335);
D(iJ,0,k);e.aj(k,I,3);D(iJ,256*32,k);e.YP(k,I)}else for(var Y=0;Y<262144;Y+=4){var hw=iJ[65536+(Y>>>2)];
I[Y]=hw;I[Y+1]=hw;I[Y+2]=hw;I[Y+3]=iJ[Y>>>2]}e.JE(I,d_,aO,cc)}else if(ia==5){for(var Y=0;Y<262144;Y+=4){I[Y]=iJ[65536+Y+2];
I[Y+1]=iJ[65536+Y+1];I[Y+2]=iJ[65536+Y+0];I[Y+3]=iJ[Y>>>2]}e.JE(I,d_,aO,cc)}else throw ia}if(M&&ia==1){var ee=e.U(O*cb*4);
e.aj(aO,ee,3);aO=ee}return[cc,aO,fz]}function D(c,h,x){for(var Y=0;Y<x.length;Y++){x[Y]=(c[h+(Y>>>3)]>>>7-(Y&7)&1)*255}}var A=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function F(c,x,X,M,f){var t=c.Layer,n=c.Canvas[0];while(M!=0){var L=U(t,"MainId",M),P=L.Type,cX=!1;console.log(L);
var z=X.Cx();z.cb(L.Name);z.opacity=Math.min(255,L.Opacity);z.lW((L.Visibility&1)!=0);z.Am=A[L.Composite];
if(z.Am==null){alert("Unknown blend mode "+L.Composite);z.Am="norm"}z.wi=L.Clip==1;X.R.push(z);var T=L.LayerMaskMipmap;
if(T!=0){var p=_(c,x,T,!1);if(p){z.u=new C.Tc;z.u.rect=p[0];z.u.channel=p[1];z.u.color=p[2];K(z.u.rect,L,"Mask","Mask");
z.u.r6()}}var m=[];for(var Y=0;Y<3;Y++)m.push(W(L["DrawColorMain"+["Red","Green","Blue"][Y]]));var O={t:"Objc",v:e.F.t1({$:m[0],B:m[1],J:m[2]})},cb=JSON.parse(dE.default);
for(var Y=0;Y<dE.order.length;Y++)cb[dE.CM[Y]]={t:"VlLs",v:[]};if(L.DrawColorEnable==1&&P!=1584){cX=!0;
var e$=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);e$.Clr=O;cb.solidFillMulti.v.push({t:"Objc",v:e$})}if(L.EffectInfo){var fz=o(L.EffectInfo),m=fz[2];
if(fz[0]==1){cX=!0;var e$=JSON.parse(dE.Qy[dE.order.indexOf("FrFX")]);e$.Clr.v=e.F.t1({$:m[0]*255,B:m[1]*255,J:m[2]*255});
e$.Sz.v.val=Math.round(fz[1]);cb.frameFXMulti.v.push({t:"Objc",v:e$})}}if(L.FilterLayerInfo){b=L.FilterLayerInfo;
h=0;var eC=B(),hw=B();if(hw!=b.length-h)throw"e";var az={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[eC];
if(az!=null){var av=gY.Az(az);z.add[az]=av?av:{};if(az=="brit")gY.gu["g"+az](av,[j(),j(),!0]);if(az=="hue2")bV.r8(av,0,[j(),j(),j()]);
if(az=="curv"){var ia=[],iJ=h;for(var Y=0;Y<32;Y++){h=iJ+Y*130;var cx=H(),hP=[];ia.push(hP);for(var iS=0;
iS<cx;iS++)hP.push(H()/65535,H()/65535)}for(var Y=0;Y<4;Y++){var hP=ia[Y],e4=hc.CC(av,Y),cc=e4[0];for(var iS=0;
iS<hP.length;iS+=2){var aO=e4[iS>>>1]=JSON.parse(JSON.stringify(cc));aO.v.Hrzn.v=Math.round(hP[iS]*255);
aO.v.Vrtc.v=Math.round(hP[iS+1]*255)}hc.r8(av,Y,e4)}}if(az=="grdm"){var d_=av.Grad.v,b4=[],f$=B();if(f$!=hw-4)throw f$;
var e_=B();if(e_!=16)throw e_;var fJ=B();if(fJ!=28)throw fJ;var dV=B();for(var Y=0;Y<dV;Y++){var ix=0,b9=[];
for(var iS=0;iS<7;iS++)b9.push(B());b4.push([b9[6]/32768,[b9[1]/4294967295,b9[2]/4294967295,b9[3]/4294967295],b9[4]/4294967295])}e.F.mg(b4,d_)}if(az=="blnc"){av.PrsL.v=B()==1;
for(var Y=0;Y<3;Y++){var hV=av[["ShdL","MdtL","HghL"][Y]].v;for(var iS=0;iS<3;iS++)hV[iS].v=j()}}}else console.log("Unknown adjustment",eC,hw,z.getName())}if(P==1584){z.Xp|=16;
z.add.SoCo={classID:"null",Clr:O};z.vw(X)}else if(P==800){X.R.pop()}else if(L.Folder!=0){z.add.lsct=(L.Folder&16)!=0?c1.N_:c1.$I;
z.Am="pass";X.R.pop();X.R.push(X.b2());F(c,x,X,L.FirstChildIndex,f+1);X.R.push(z)}else if(P==0||P==1||P==2||P==3){var p=_(c,x,L.RenderMipmap,!0);
if(p){z.rect=p[0];z.buffer=p[1];K(z.rect,L,"Render","");z.r6()}if(L.TextLayerType!=null){var gq="TextLayerString",eH="TextLayerAttributes",eP=[L[gq]],c2=[L[eH]];
if(L[gq+"Array"]){b=L[gq+"Array"];h=0;while(h<b.length){var hw=S();eP.push(b.slice(h,h+hw));h+=hw}b=L[eH+"Array"];
h=0;while(h<b.length){var hw=S();c2.push(b.slice(h,h+hw));h+=hw}}var bL=z;X.R.pop();for(var dg=0;dg<eP.length;
dg++){var z=bL.clone();X.R.push(z);var cN=y(c2[dg]),dH=cN.runs,kM=cN.fnts,a_=cN.bplg,g4=cN.bbox,iY=g4[2]-g4[0],fa=g4[3]-g4[1],ka=a_[2]-a_[0],b1=a_[3]-a_[1],bg=new eq;
bg.translate(-iY/2,-fa/2);bg.rotate(Math.atan2(-b1,ka));bg.translate(iY/2,fa/2);var cl=g4[0]+L.OffsetX,c0=g4[1]+L.OffsetY;
bg.translate(cl,c0);z.add.lnsr="rend";z.add.TySh=b_.V0(0,0);z.add.TySh.In=new io(0,0,500,500);z.add.TySh.h=bg;
var kL=z.add.TySh.HZ,c_=J.S2(eP[dg]);z.cb(c_);b_.ph(kL,0,c_);b_.vj(kL,1);b_.A6(kL,[0,0,iY,fa]);if(dH)for(var Y=0;
Y<dH.length;Y++){var cA=dH[Y],aw=cA[0],kq=aw+cA[1],f4=cA[2],gF=b_.XN(kL,aw,kq),fm=X.O4/72*cN.size/100;
if((f4&512)!=0)fm*=cA[6]/100;gF.bJ.FontSize=Math.round(fm);var O=(f4&256)!=0?cA.slice(3):cN.colr;gF.bJ.FillColor={Type:1,Values:[1,O[0]/65535,O[1]/65535,O[2]/65535]};
var aP=cA[7]==""?cN.font:cA[7];if(kM){if(kM[Y])aP=kM[Y][1];else for(var iS=0;iS<kM.length;iS++)if(kM[iS][0]==aP)aP=kM[iS][1]}b_.HC(gF,aP);
b_.V1(kL,aw,kq,gF)}if(z.rect.X()==0)X.rm=!0;else{z.rect=new io(cl,c0,iY,fa);z.buffer=e.U(z.rect.X()*4);
e.JE(bL.buffer,bL.rect,z.buffer,z.rect)}}}}var hh=c.VectorObjectList;if(L.VectorNormalType!=null&&hh&&U(hh,"LayerId",M)){var gW=U(hh,"LayerId",M).VectorData,cg=$(c,gW),f0=v(x,cg);
if(f0){var hk=null;if(z.add.TySh){var hk=z.clone();X.R.push(hk);delete z.add.TySh}V(z,L,f0[0]);if(z.fu()){z.Xp|=24;
var aQ=X.Cx();aQ.cb(z.getName());aQ.opacity=z.opacity;X.R.push(aQ);V(aQ,L,f0[0]);r(aQ,f0);aQ.vw(X)}else{r(z,f0,hk!=null)}z.vw(X);
if(hk){hk.add.TySh.h.concat(new eq(1,0,0,1,z.rect.x+z.rect.j/2,z.rect.y+z.rect._/2))}}}if(cX)z.add.lmfx=cb;
if(M==n.CurrentLayer)X.T=[X.R.indexOf(z)];M=L.NextIndex}}function K(c,x,X,M){c.x+=x[X+"OffscrOffsetX"]+x[M+"OffsetX"];
c.y+=x[X+"OffscrOffsetY"]+x[M+"OffsetY"]}function V(c,x,X){c.add.vmsk=new C.cW;e.N.h(X.m,new eq(1,0,0,1,x.OffsetX,x.OffsetY),X.m);
c.add.vmsk.d=e.N.zv(X);c.AA()}function r(c,x,X){var M=x[1][0],f=x[2][0];c.Xp|=16;var t=c.add.vstk=dE.QA.Az(!0,!0);
t.fillEnabled.v=X==!0;c.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:255,B:255,J:255})}};t.strokeStyleContent.v.Clr.v=e.F.t1({$:M[0],B:M[1],J:M[2]});
t.strokeStyleLineWidth.v.val=f*2;t.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return N}();
aT.jk={};aT.jk.hE=!0;aT.jk.ho=function(b,h){var G=Date.now(),H=bR.parse(b),B=J.Wv,j=J.eR,s=H.LtfHeader,q=0,Q=B(s,q);
q+=4;if(Q!=s.length)throw"e";var a=B(s,q);q+=4;if(a!=4609100)throw"e";var l=B(s,q);q+=4;if(l!=600)throw l;
var U=j(s,q);q+=2;if(U!=2&&U!=4)throw U;var N=j(s,q);q+=2;var R=B(s,q),S=B(s,q+4);q+=8;var g=B(s,q)/1e4;
q+=8;var l=B(s,q),U=B(s,q+4);q+=8;if(l!=0&&l!=1&&l!=2)throw l;for(var Y=0;Y<20;Y++)if(s[q+Y]!=0)throw Y;
q+=20;var l=B(s,q);q+=4;if(l!=0&&l!=1)throw l;var i=B(s,q);q+=4;if(i!=0&&i!=1)throw i;for(var Y=0;Y<476;
Y++)if(s[q+Y]!=0)throw Y;q+=476;var y=q+104;h.j=R;h._=S;h.buffer=e.U(R*S*4);var o=H.LtfMainPalette,v=H.LtfObjectList;
q=0;if(v){var g1=B(v,0);if(B(v,4)!=g1)throw"e";for(var Z=0;Z<g1;Z++){q=8+Z*192;var W=q+128;while(v[W]!=0)W+=2;
var d=J.XX(v,q+128,W-(q+128)>>>1);aT.jk.qg(H[d],h,o)}}var $=h.Cx();h.R.push($);$.cb("Background");if(H.LtfMainImage){var I=aT.jk.kc(H.LtfMainImage,null,o);
$.buffer=I[0];$.rect=I[1]}else{$.rect=new io(0,0,R,S);var k=B(s,y);aT.jk.aBh($,o?B(o,2+k*4):k)}h.R.reverse()};
aT.jk.a1v=function(b){var h="";for(var Y=0;Y<b.length;Y++){var G=""+b[Y];while(G.length<3)G=" "+G;h+=G+", "}return h};
aT.jk.qg=function(b,h,G){var H=J.Wv,B=h.Cx(),s=0;h.R.push(B);var j=b.ObjectData;if(H(j,0)!=j.length)throw"e";
s+=4;var q=s;while(j[q]!=0)q++;B.cb(J.lA(j,s,q-s));s=q+1;if(q==5){if(j[s]!=0)throw"e";s++}var Q=b.ObjectMask0,a=b.PathStream;
if(a&&Q==null){var l=B.add.vmsk=new C.cW;l.d=aT.jk.hz(a);B.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:j[232],B:j[233],J:j[234]})}};
B.add.vstk=dE.QA.Az(!0);B.vw(h)}if(Q==null)return;B.rect=new io(H(Q,0),H(Q,4),H(Q,8),H(Q,12));if(b.ObjectImage){var U=aT.jk.kc(b.ObjectImage,null,G);
B.buffer=U[0]}else aT.jk.aBh(B,H(j,188));aT.jk.kc(new Uint8Array(Q.buffer,16),B.buffer)};aT.jk.aBh=function(b,h){b.buffer=e.U(b.rect.X()*4);
new Uint32Array(b.buffer.buffer).fill(255<<24|h)};aT.jk.hz=function(b){var h=J.eR,G=J.Wv,H=J.B$,s=0;
function B(i,y){var o=h(i,y),v=h(i,y+2);return v}var j=pako.inflate(b.slice(12));s=128;for(var Y=0;Y<260;
Y++)if(j[s+Y]!=0)throw Y;s+=260;if(G(j,s)!=50)throw"e";s+=4;if(G(j,s)!=0)throw"e";s+=4;if(G(j,s)!=0)throw"e";
s+=4;var q=G(j,s);s+=4;var q=G(j,s);if(q!=106&&q!=186&&q!=196&&q!=236)throw G(j,s);s+=4;if(G(j,s)!=0)throw"e";
s+=4;if(G(j,s)!=24)throw"e";s+=4;if(G(j,s)!=0)throw"e";s+=4;var q=G(j,s);s+=4;var Q=G(j,s);s+=4;if(G(j,s)!=0)throw"e";
s+=4;if(G(j,s)!=0)throw"e";s+=4;if(G(j,s)!=1280)throw"e";s+=4;for(var Y=0;Y<24;Y++)if(j[s+Y]!=0)throw Y;
s+=24;var a=G(j,s);s+=4;if(42+a*10!=Q)throw"e";var l=G(j,s);s+=4;var U=G(j,s);s+=4;var N=[{type:6},{type:8,all:0}];
N.push({type:0,length:a,Vj:0,ts:2,$V:0,$S:0});for(var Y=0;Y<a;Y++){var R=B(j,s+2),S=B(j,s+6),g=new cJ(R,S);
N.push({type:2,o$:g.clone(),v:g,PY:g.clone()});s+=10}return N};aT.jk.kc=function(b,h,G){var H=J.Wv,B=J.gP,j=aT.jk.a1v,s=0,q=H(b,s),R,S=0,K;
s+=4;var Q=H(b,s);s+=4;var a=H(b,s);s+=4;var l=H(b,s);s+=4;var U=H(b,s);s+=4;var N=q*Q,g=b.length;if(N==g-20)R=new Uint8Array(b.buffer,20+b.byteOffset);
else if(a==64*64*3||h&&a==64*64){var i=aT.JR("jpg"),y=0,o=0;R=e.U(q*Q);while(s<b.length){var v=H(b,s);
s+=4;var Z=i.ho(b.slice(s,s+v))[0],l=Z.jD,W=new Uint8Array(Z.data),d=h?q:q/3;for(var $=0;$<l._;$++)for(var I=0;
I<l.j;I++){var k=$*l.j+I,_=($+o)*d+(I+y);if(h)R[_]=W[k*4];else{R[_*3+0]=W[k*4+2];R[_*3+1]=W[k*4+1];R[_*3+2]=W[k*4+0]}}y+=64;
if(y>d){o+=64;y=0}s+=v}}else{R=e.U(N);for(var k=0;k<N;k+=a){var D=k+a,A=H(b,s);s+=4;while(S<D&&s<g){var F=b[s];
s++;if(F<128)for(var Y=0;Y<F+1;Y++){R[S++]=b[s++];if(h)continue;R[S++]=b[s++];R[S++]=b[s++]}else{F-=127;
for(var Y=0;Y<F;Y++){R[S++]=b[s+0];if(h)continue;R[S++]=b[s+1];R[S++]=b[s+2]}s+=h?1:3}}}}if(h){for(var Y=0;
Y<N;Y++)h[Y*4+3]=R[Y];return[R,new io(0,0,q,Q)]}if(G){K=e.U(N*4);for(var Y=0;Y<N;Y++){var V=Y<<2,a=2+R[Y]*4;
K[V]=G[a];K[V+1]=G[a+1];K[V+2]=G[a+2];K[V+3]=255}}else{q=Math.round(q/3);N=q*Q;K=e.U(N*4);for(var Y=0;
Y<N;Y++){var _=Y*3,V=Y<<2;K[V]=R[_];K[V+1]=R[_+1];K[V+2]=R[_+2];K[V+3]=255}}return[K,new io(0,0,q,Q)]};
aT.aoD={};aT.aoD.ho=function(b){var h=new Uint8Array(b),G=J.FZ,s=16;if(J.lA(h,0,4)!="chlv")throw"e";
var H=G(h,4),B=G(h,8),j=G(h,12),q=[];while(s<h.length){var Q=G(h,s),a=G(h,s+48),l=G(h,s+52),U=a*l,N=a*4,R=e.U(a*l*4);
R.fill(255);for(var S=0;S<l;S++)for(var g=0;g<a;g+=4){var Y=S*a+g,i=Y*4,y=s+108+(Y>>>2)*6;R[i]=h[y+1];
R[i+4]=h[y+3];R[i+8]=h[y+4];R[i+12]=h[y+5];for(var o=0;o<16;o+=4){R[i+o+1]=h[y+0];R[i+o+2]=h[y+2]}}var v=new Int8Array(R.buffer),Z=new Uint8ClampedArray(R.buffer);
for(var S=0;S<l;S++)for(var g=0;g<a;g++){var Y=(S*a+g)*4,W=R[Y],d=v[Y+1],$=v[Y+2],I=W+(45*$>>5),k=W-(11*d+23*$>>5),_=W+(113*d>>6);
Z[Y]=I;Z[Y+1]=k;Z[Y+2]=_}s+=Q+4;q.push({jD:new io(0,0,a,l),data:R.buffer,Xy:"_a_"+q.length})}return q};
var cG={};cG.pl=!1;cG.ap0=!1;cG.ad=!1;cG.cj=document.createElement("canvas");cG.ZI=null;cG.ZA=null;cG.rP=0;
(function(){var b={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},h;if(!h)h=cG.cj.getContext("webgl",b);
if(!h)h=cG.cj.getContext("experimental-webgl",b);if(h){cG.pl=!0;cG.ap0=!0;cG.ZI=h;cG.ZA=h.createFramebuffer();
h.bindFramebuffer(h.FRAMEBUFFER,cG.ZA);h.disable(h.BLEND);h.disable(h.DEPTH_TEST);var G=h.createBuffer();
h.bindBuffer(h.ARRAY_BUFFER,G);h.bufferData(h.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),h.STATIC_DRAW);
h.enableVertexAttribArray(0);h.vertexAttribPointer(0,2,h.FLOAT,!1,0,0)}}());cG.aE9=function(b){b=b.replace(/\s\s+/g," ");
b=b.replace(/; /g,";");b=b.replace(/} /g,"}");b=b.replace(/ }/g,"}");b=b.replace(/{ /g,"{");b=b.replace(/ {/g,"{");
b=b.replace(/= /g,"=");b=b.replace(/ =/g,"=");b=b.replace(/\| /g,"|");b=b.replace(/ \|/g,"|");return b};
cG.Qr=function(b){var h=cG.ZI;if(b>h.getParameter(h.MAX_TEXTURE_SIZE)){cG.pl=!1;alert("Disabling WebGL")}};
cG.xR=function(b,h){return new Float32Array([(b.x-h.x)/h.j,(b.y-h.y)/h._,b.j/h.j,b._/h._])};cG.tM=function(){return this.cj};
cG.UK=function(b,h){var G=cG.ZI;G.bindFramebuffer(G.FRAMEBUFFER,cG.ZA);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,b.P9,0);
G.viewport(0,0,b.j,b._);if(h){G.enable(G.SCISSOR_TEST);G.scissor(h.x,h.y,h.j,h._)}else G.disable(G.SCISSOR_TEST)};
cG.apM=function(b,h,G){if(G)throw"error";var H=cG.ZI;H.disable(H.SCISSOR_TEST);H.bindFramebuffer(H.FRAMEBUFFER,null);
H.viewport(0,0,b,h);if(G){H.enable(H.SCISSOR_TEST);H.scissor(G.x,G.y,Math.round(G.j),Math.round(G._))}else H.disable(H.SCISSOR_TEST)};
cG.clear=function(){var b=cG.ZI;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)};cG.K6=function(b,h){if(h==null)h=0;
var G=(h>>>0&255)==0,H=(h>>>8&255)==0,B=(h>>>16&255)==0,j=(h>>>24&255)==0,s=(b>>>0&255)*(1/255),q=(b>>>8&255)*(1/255),Q=(b>>>16&255)*(1/255),a=(b>>>24&255)*(1/255),l=cG.ZI;
l.colorMask(G,H,B,j);l.clearColor(s,q,Q,a);l.clear(l.COLOR_BUFFER_BIT);l.colorMask(!0,!0,!0,!0)};cG.dt=function(b,h,G,H,B){var j=h.D4(H);
if(B)j=j.D4(B);if(j.Zx())return;var s=cG.ZI;cG.UK(b);s.bindTexture(s.TEXTURE_2D,G.P9);s.copyTexSubImage2D(s.TEXTURE_2D,0,j.x-H.x,j.y-H.y,j.x-h.x,j.y-h.y,j.j,j._)};
cG.t4=function(Y,b,h){var G=cG.ajU[Y];if(G==null||G.j!=b||G._!=h){if(G)G.delete();G=new cG.Bh(b,h)}cG.ajU[Y]=G;
return G};cG.ajU=[];cG.FB=function(){this.iI=null;this.Y5=null};cG.FB.EH=null;cG.FB.prototype.wN=function(b){if(this.Y5)return;
this.Y5={};var h=cG.ZI,G=this.iI,H=this.Y5;for(var Y=0;Y<b.length;Y++){var B=b[Y];H[B]=h.getUniformLocation(G,B)}};
cG.FB.prototype.Y7=function(){};cG.FB.prototype.sX=function(b){var h=cG.ZI;for(var Y=0;Y<b.length;Y+=2){h.uniform1i(b[Y],Y>>>1);
h.activeTexture(h["TEXTURE"+(Y>>>1)]);h.bindTexture(h.TEXTURE_2D,b[Y+1])}h.activeTexture(h.TEXTURE0)};
cG.FB.prototype.TR=function(b,h){var G=cG.ZI,H=G.createShader(G.FRAGMENT_SHADER);G.shaderSource(H,b);
G.compileShader(H);if(!G.getShaderParameter(H,G.COMPILE_STATUS))console.log(G.getShaderInfoLog(H));var B=G.createShader(G.VERTEX_SHADER);
G.shaderSource(B,h);G.compileShader(B);if(!G.getShaderParameter(B,G.COMPILE_STATUS))console.log(G.getShaderInfoLog(B));
var j=G.createProgram();G.attachShader(j,B);G.attachShader(j,H);G.linkProgram(j);if(!G.getProgramParameter(j,G.LINK_STATUS))console.log("Could not initialise shaders");
this.iI=j};cG.FB.prototype.TF=function(){if(cG.FB.EH!=this){cG.ZI.useProgram(this.iI);cG.FB.EH=this}};
cG.er=function(b,h){cG.uZ++;cG.rP+=b*h;if(cG.ad)console.log("GL.Channels instances: "+cG.uZ+", memory: "+cG.rP);
var G=cG.ZI;this.j=b;this._=h;this.P9=G.createTexture();this.oG=null;this.Km(this.P9,b,h)};cG.er.prototype.Km=function(b,h,G){var H=cG.ZI;
H.bindTexture(H.TEXTURE_2D,b);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.NEAREST);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE);
H.texImage2D(H.TEXTURE_2D,0,H.ALPHA,h,G,0,H.ALPHA,H.UNSIGNED_BYTE,null)};cG.er.prototype.set=function(b,h){var G=cG.ZI;
G.bindTexture(G.TEXTURE_2D,this.P9);G.pixelStorei(G.UNPACK_ALIGNMENT,1);var H=this.j*this._;if(h==null||h.X()*10>H)G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,this.j,this._,0,G.ALPHA,G.UNSIGNED_BYTE,b);
else{var B=new io(0,0,this.j,this._),j=e.U(h.X());e.wX(b,B,j,h);G.texSubImage2D(G.TEXTURE_2D,0,h.x,h.y,h.j,h._,G.ALPHA,G.UNSIGNED_BYTE,j)}G.pixelStorei(G.UNPACK_ALIGNMENT,4)};
cG.er.prototype.delete=function(){var b=cG.ZI;if(this.P9){b.deleteTexture(this.P9);cG.uZ--;cG.rP-=this.j*this._}if(cG.ad)if(cG.ad)console.log("GL.Channels instances: "+cG.uZ+", memory: "+cG.rP*4)};
cG.uZ=0;cG.Bh=function(b,h,G){if(G==null)G=!1;cG.uZ++;cG.rP+=b*h*4;if(cG.ad)console.log("GL.Channels instances: "+cG.uZ+", memory: "+cG.rP);
var H=cG.ZI;this.ah6=G;this.j=b;this._=h;this.P9=H.createTexture();this.oG=null;this.Km(this.P9,b,h)};
cG.Bh.prototype.set=function(b,h){var G=cG.ZI;G.disable(G.SCISSOR_TEST);G.bindTexture(G.TEXTURE_2D,this.P9);
if(b==null||b instanceof Uint8Array){var H=this.j*this._;if((h==null||h.X()*10>H)&&(b==null||b.length>=H*4))G.texImage2D(G.TEXTURE_2D,0,G.RGBA,this.j,this._,0,G.RGBA,G.UNSIGNED_BYTE,b);
else{var B=b;if(b.length==H*4){var B=e.U(h.X()*4);e.JE(b,new io(0,0,this.j,this._),B,h)}G.texSubImage2D(G.TEXTURE_2D,0,h.x,h.y,h.j,h._,G.RGBA,G.UNSIGNED_BYTE,B)}}else G.texImage2D(G.TEXTURE_2D,0,G.RGBA,G.RGBA,G.UNSIGNED_BYTE,b)};
cG.Bh.prototype.get=function(b){var h=cG.ZI;cG.UK(this);h.readPixels(0,0,this.j,this._,h.RGBA,h.UNSIGNED_BYTE,b)};
cG.Bh.prototype.xo=function(b){if(b.Zx())return;var h=cG.ZI;if(this.oG==null){this.oG=h.createTexture();
this.Km(this.oG,this.j,this._);cG.uZ++;cG.rP+=this.j*this._*4}h.bindFramebuffer(h.FRAMEBUFFER,cG.ZA);
h.bindTexture(h.TEXTURE_2D,this.oG);if(b){var G=Math.max(b.x,0),H=Math.max(b.y,0);h.copyTexSubImage2D(h.TEXTURE_2D,0,G,H,G,H,b.j,b._)}else h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,0,0,this.j,this._,0)};
cG.Bh.prototype.Km=function(b,h,G){var H=cG.ZI;H.bindTexture(H.TEXTURE_2D,b);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,this.ah6?H.LINEAR:H.NEAREST);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE);H.texImage2D(H.TEXTURE_2D,0,H.RGBA,h,G,0,H.RGBA,H.UNSIGNED_BYTE,null)};
cG.Bh.prototype.delete=function(){var b=cG.ZI;if(this.P9){b.deleteTexture(this.P9);cG.uZ--;cG.rP-=this.j*this._*4}if(this.oG){b.deleteTexture(this.oG);
cG.uZ--;cG.rP-=this.j*this._*4}if(cG.ad)if(cG.ad)console.log("GL.Channels instances: "+cG.uZ+", memory: "+cG.rP)};
cG.Bh.prototype.clone=function(){var b=cG.ZI,h=new cG.Bh(this.j,this._);cG.UK(this);b.bindTexture(b.TEXTURE_2D,h.P9);
b.copyTexImage2D(b.TEXTURE_2D,0,b.RGBA,0,0,this.j,this._,0);return h};cG.BR={aAF:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",asy:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Jq:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",JK:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",a6$:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",e5:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",i_:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",xO:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a2v:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Cd:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",acS:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",xi:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",ahH:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",XH:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Jr:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",aA:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",j$:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",LM:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",ec:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ayp:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a6R:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",ny:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",asr:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
cG.z={};cG.z.eU={};cG.z.rK=null;cG.z.nE=null;cG.z.uk=null;cG.z.aCw=function(b,h,G,H,B,j,s,q){if(q==null)q=eQ.pZ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(b)==-1){s=s*q.fill;q.fill=1;q.style=!1}var Q=b+(q.l5?"1":"");
if(cG.z.eU[Q]==null)cG.z.eU[Q]=new cG.z.nv(b,q.l5!=null);var a=cG.z.eU[Q],l=G.D4(B).D4(j);l.offset(-B.x,-B.y);
if(l.Zx())return;var U=cG.ZI;cG.UK(H,l);H.xo(l);a.TF();a.Y7(h.P9,H.oG,cG.xR(G,B),s,q.fill,q.style?1:0,q.Ej?1:0,q.l5?new Float32Array(q.l5):null);
U.drawArrays(U.TRIANGLES,0,6)};cG.z.Gp=function(b,h,G,H,B,j,s,q,Q,a,l){if(cG.z.rK==null)cG.z.rK=new cG.z.sY(!0,!0);
if(cG.z.nE==null)cG.z.nE=new cG.z.sY(!0,!1);if(cG.z.uk==null)cG.z.uk=new cG.z.sY(!1,!0);var U=a?1:0,N=b?B?cG.z.rK:cG.z.nE:cG.z.uk,R=new Float32Array(l?[l[0],l[1],l[2],1]:[1,1,1,1]),S=h?h.D4(H).D4(q):H.D4(q);
if(S.Zx())return;S.offset(-H.x,-H.y);var g=cG.ZI;cG.UK(G,S);G.xo(S);N.TF();if(b==null)N.Y7(null,G.oG,B.P9,cG.xR(H,H),cG.xR(j,H),s/255,Q,U,R);
else if(B)N.Y7(b.P9,G.oG,B.P9,cG.xR(h,H),cG.xR(j,H),s/255,Q,U,R);else N.Y7(b.P9,G.oG,null,cG.xR(h,H),null,s/255,Q,U,R);
g.drawArrays(g.TRIANGLES,0,6)};cG.z.a8M=function(b,h,G){if(cG.z.a3b==null)cG.z.a3b=new cG.z.aw;var H=cG.z.a3b,B=new io(0,0,b.j,b._),j=cG.ZI;
cG.UK(h);h.xo(B);H.TF();H.Y7(B,b.P9,h.oG,G.P9);j.drawArrays(j.TRIANGLES,0,6)};cG.z.dU={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
cG.z.nv=function(b,h){cG.FB.call(this);var G="\t\t\tprecision highp float;\t\t\t"+cG.BR.Jq+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(h?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+cG.BR.e5+"\t\t\t"+cG.BR.i_+"\t\t\t"+cG.BR.xO+"\t\t\t"+cG.BR.aAF+"\t\t\t"+cG.BR.asy+"\t\t\t"+cG.BR.a2v+"\t\t\t"+cG.BR.Cd+"\t\t\t"+cG.BR.acS+"\t\t\t"+cG.BR.xi+"\t\t\t"+cG.BR.hash+"\t\t\t"+(h?cG.BR.ny:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+cG.z.dU[b]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",H="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(b=="diss")G+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else G+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(h?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.TR(G,H)};cG.z.nv.prototype=new cG.FB;cG.z.nv.prototype.Y7=function(b,h,G,H,B,j,s,q){this.wN("srct alpha source target fill style keepBGA blIf".split(" "));
var Q=cG.ZI,a=this.Y5;Q.uniform4fv(a.srct,G);Q.uniform1f(a.alpha,H);Q.uniform1f(a.fill,B);Q.uniform1f(a.style,j);
Q.uniform1f(a.keepBGA,s);if(q)Q.uniform4fv(a.blIf,q);this.sX([a.source,b,a.target,h])};cG.z.sY=function(b,h){cG.FB.call(this);
this.afX=b;this.LH=h;var G="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+cG.BR.ahH+"\t\t\t"+cG.BR.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(b?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(h?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(b?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(h?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",H="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TR(G,H)};cG.z.sY.prototype=new cG.FB;cG.z.sY.prototype.Y7=function(b,h,G,H,B,j,s,q,Q){if(this.LH)this.wN("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.wN("srct awg dissv source target cswitch".split(" "));var a=cG.ZI,l=this.Y5;a.uniform4fv(l.srct,H);
if(this.LH){a.uniform4fv(l.wrct,B);a.uniform1f(l.wcolor,j)}else{a.uniform4fv(l.cswitch,Q)}a.uniform1f(l.awg,s);
a.uniform1f(l.dissv,q);var U=[l.source,b,l.target,h];if(this.LH)U.push(l.weight,G);this.sX(U)};cG.z.aw=function(){cG.FB.call(this);
var b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TR(b,h)};cG.z.aw.prototype=new cG.FB;cG.z.aw.prototype.Y7=function(b,h,G,H){this.wN(["rct","prev","next","alpha"]);
var B=cG.ZI,j=this.Y5;B.uniform4fv(j.rct,[0,0,1,1]);this.sX([j.prev,h,j.next,G,j.alpha,H])};cG.xU={R1:{},k7:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
cG.xU.s_=function(b,h){var G=eZ.Nh,H=[G.n7,G.j7,G.Ts,G.iz,G.zk,G.mJ,G.PC,G.Uc].indexOf(b.type),B=cG.xU.R1[b.type];
if(B==null)B=cG.xU.R1[b.type]=new cG.R1[H];B.TF();B.Y7(h,b);cG.ZI.drawArrays(cG.ZI.TRIANGLES,0,6)};cG.R1=[];
cG.R1[0]=function(){cG.FB.call(this);this.X$={};var b="\t\t\tprecision mediump float;\t\t\t"+cG.BR.i_+"\t\t\t"+cG.BR.Jq+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[0].prototype=new cG.FB;cG.R1[0].prototype.Y7=function(b,h){var G={$:h.vo,B:h.$k,J:h.Yn,G:e.U(h.vo.length)},H=G.$.length;
if(this.X$["m"+H]==null){this.X$["m"+H]={ajP:new cG.Bh(H,1),Ur:e.U(H*4)}}var B=this.X$["m"+H];e.bh(G,B.Ur,0);
var j=B.ajP;j.set(B.Ur);this.wN(["source","map","toGray","presLum"]);var s=cG.ZI,q=this.Y5;s.uniform1f(q.toGray,h.nd?1:0);
s.uniform1f(q.presLum,h.vS?1:0);this.sX([q.source,b,q.map,j.P9])};cG.R1[1]=function(){cG.FB.call(this);
this.LD=new cG.Bh(256,1);this.aoC=e.U(256*4);var b="\t\t\t\tprecision mediump float;\t\t\t\t"+cG.BR.aA+"\t\t\t\t"+cG.BR.XH+"\t\t\t\t"+cG.BR.Jr+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[1].prototype=new cG.FB;cG.R1[1].prototype.Y7=function(b,h){e.bh({$:h.axX,B:h.JW,J:h.a4z,G:e.U(256)},this.aoC);
this.LD.set(this.aoC);this.wN(["source","map","cfa","cfb","colorize"]);var G=cG.ZI,H=this.Y5;G.uniform1f(H.cfa,h.abt);
G.uniform1f(H.cfb,h.Fa);G.uniform1i(H.colorize,h.apf);this.sX([H.source,b,H.map,this.LD.P9])};cG.R1[2]=function(){cG.FB.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+cG.BR.aA+"\t\t\t"+cG.BR.j$+"\t\t\t"+cG.BR.LM+"\t\t\t"+cG.BR.XH+"\t\t\t"+cG.BR.Jr+"\t\t\t"+cG.BR.ayp+"\t\t\t"+cG.BR.a6R+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[2].prototype=new cG.FB;cG.R1[2].prototype.Y7=function(b,h){this.wN(["source","vib","sat","yF"]);
var G=cG.ZI,H=this.Y5;G.uniform1f(H.vib,h.CI[0]);G.uniform1f(H.sat,h.CI[1]);G.uniform3fv(H.yF,new Float32Array([h.CI[2],h.CI[3],h.CI[3]]));
this.sX([H.source,b])};cG.R1[3]=function(){cG.FB.call(this);var b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[3].prototype=new cG.FB;cG.R1[3].prototype.Y7=function(b,h){this.wN(["source","trf"]);
var G=cG.ZI,H=this.Y5;G.uniformMatrix4fv(H.trf,!1,new Float32Array(e.G4.BF(h.GF)));this.sX([H.source,b])};
cG.R1[4]=function(){cG.FB.call(this);var b="\t\t\tprecision mediump float; \t\t\t"+cG.BR.ec+"\t\t\t"+cG.BR.aA+"\t\t\t"+cG.BR.Jr+"\t\t\t"+cG.BR.XH+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[4].prototype=new cG.FB;cG.R1[4].prototype.Y7=function(b,h){this.wN(["source","mnm","mxm","shift","lim"]);
var G=cG.ZI,H=this.Y5;G.uniform3fv(H.mnm,new Float32Array(h.DW));G.uniform3fv(H.mxm,new Float32Array(h.x5));
G.uniform3fv(H.shift,new Float32Array(h.shift));G.uniform1f(H.lim,h.BD);this.sX([H.source,b])};cG.R1[5]=function(){cG.FB.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+cG.BR.Jq+"\t\t\t"+cG.BR.JK+"\t\t\t"+cG.BR.a6$+"\t\t\t"+cG.BR.XH+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[5].prototype=new cG.FB;cG.R1[5].prototype.Y7=function(b,h){this.wN(["source","cfs"]);
var G=cG.ZI,H=this.Y5;G.uniform3fv(H.cfs,h.a4e);this.sX([H.source,b])};cG.R1[6]=function(){cG.FB.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+cG.BR.aA+"\t\t\t"+cG.BR.JK+"\t\t\t"+cG.BR.a6$+"\t\t\t"+cG.BR.XH+"\t\t\t"+cG.BR.Jr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[6].prototype=new cG.FB;cG.R1[6].prototype.Y7=function(b,h){this.wN(["source","wght","prms"]);
var G=cG.ZI,H=this.Y5,B=[h.D2,h.ajK,h.i_,h.awJ,h.ea,h.aev];G.uniform1fv(H.wght,new Float32Array(h.aik));
G.uniform1fv(H.prms,new Float32Array(B));this.sX([H.source,b])};cG.R1[7]=function(){cG.FB.call(this);
this.Rj={};var b="\t\t\tprecision mediump float;\t\t\t"+cG.BR.asr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.TR(b,cG.xU.k7)};cG.R1[7].prototype=new cG.FB;cG.R1[7].prototype.Y7=function(b,h){this.wN(["source","lut","N"]);
var G=cG.ZI,H=this.Y5,B=h.aM,j=h.VN;if(this.Rj["m"+B]==null)this.Rj["m"+B]=new cG.Bh(B,B*B);var s=this.Rj["m"+B];
s.set(j);G.uniform1f(H.N,B);this.sX([H.source,b,H.lut,s.P9]);G.activeTexture(G.TEXTURE1);var q=G.LINEAR;
G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,q);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,q);
G.activeTexture(G.TEXTURE0)};cG.filter={rY:{},k7:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aDw:0,aDp:1,ia:2,amk:3,axI:4,aq1:5,PE:6,afM:7};
cG.filter.s_=function(b,h){var G=cG.filter,H,B=b.type+":"+(b.Mo?b.Mo.join(","):""),H=cG.filter.rY[B];
if(H==null)H=cG.filter.rY[B]=new cG.rY[b.type](b.Mo);H.TF();H.Y7(h,b);cG.ZI.drawArrays(cG.ZI.TRIANGLES,0,6)};
cG.rY=[0,0,0,0,0,0,0,0,0,0,0,0];cG.rY[7]=function(){cG.FB.call(this);var b="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[7].prototype=new cG.FB;cG.rY[7].prototype.Y7=function(b,h){this.wN(["source","iwh","kern"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1fv(H.kern,h.ayO);this.sX([H.source,b])};cG.rY[6]=function(b){cG.FB.call(this);
var h=b[0],G=b[1],H=b[2],B="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",j=dX.QB(B);
j=j.replaceAll("PRC",H+".0");j=j.replaceAll("DIR",["x,0","0,x"][G]);this.TR(j,cG.xU.k7)};cG.rY[6].prototype=new cG.FB;
cG.rY[6].prototype.Y7=function(b,h){this.wN(["source","iwh","rad"]);var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);
G.uniform1f(H.rad,h.ya);this.sX([H.source,b])};cG.rY[4]=function(b){cG.FB.call(this);var h=b[0],G=b[1],H="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+b[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][G]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][h]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][G]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(G==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.TR(H,cG.xU.k7)};cG.rY[4].prototype=new cG.FB;cG.rY[4].prototype.Y7=function(b,h){this.wN(["source","iwh","rrad","tr"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1f(H.rrad,h.D5);G.uniform1f(H.tr,h.axD);this.sX([H.source,b]);
var B=G.LINEAR;B=G.NEAREST;G.activeTexture(G.TEXTURE0);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,B);
G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,B);G.activeTexture(G.TEXTURE0)};cG.rY[5]=function(){cG.FB.call(this);
var b="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[5].prototype=new cG.FB;cG.rY[5].prototype.Y7=function(b,h){this.wN(["source","ssum","iwh","amnt","edgf"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1f(H.amnt,h.aw6);G.uniform1f(H.edgf,h.ax9);this.sX([H.source,b,H.ssum,h.a96])};
cG.rY[3]=function(){cG.FB.call(this);var b="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[3].prototype=new cG.FB;cG.rY[3].prototype.Y7=function(b,h){this.wN("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1f(H.tdep,h.apv);G.uniform1f(H.rrad,h.D5);G.uniform2fv(H.spec,h.aau);
G.uniform3fv(H.nois,h.aq7);G.uniformMatrix4fv(H.poly0,!1,h.a3Z);G.uniformMatrix4fv(H.poly1,!1,h.a2W);
this.sX([H.source,b]);var B=G.LINEAR;G.activeTexture(G.TEXTURE0);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,B);
G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,B);G.activeTexture(G.TEXTURE0)};cG.rY[0]=function(){cG.FB.call(this);
var b="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[0].prototype=new cG.FB;cG.rY[0].prototype.Y7=function(b,h){this.wN(["source","iwh","ld","shine"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform3fv(H.ld,h.awM);G.uniform1f(H.shine,h.a4K);this.sX([H.source,b,H.tang,h.e7])};
cG.rY[1]=function(){cG.FB.call(this);var b="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[1].prototype=new cG.FB;cG.rY[1].prototype.Y7=function(b,h){this.wN(["source","iwh","isc","bristle"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1f(H.isc,h.a4_);G.uniform1f(H.bristle,h.amu);
this.sX([H.source,b])};cG.rY[2]=function(){cG.FB.call(this);var b="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.TR(dX.QB(b),dX.QB(cG.filter.k7))};cG.rY[2].prototype=new cG.FB;cG.rY[2].prototype.Y7=function(b,h){this.wN(["source","tang","iwh","sigma","expo"]);
var G=cG.ZI,H=this.Y5;G.uniform2fv(H.iwh,h.mc);G.uniform1f(H.sigma,h.axd);G.uniform1f(H.expo,h.aA0);
this.sX([H.source,b,H.tang,h.e7]);var B=G.LINEAR;G.activeTexture(G.TEXTURE0);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,B);
G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,B);G.activeTexture(G.TEXTURE0)};function e(){}e.g={};
e.anl={};e.adb=function(){var b=[64,64,128,256,512,1024,2048],h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y],H=document.createElement("canvas");
H.width=G;H.height=G;h.push(H.getContext("2d",{willReadFrequently:!0}))}return h}();e.tM=function(b,h){var G,H=e.adb,Y=1,B=Math.max(b,h);
while(Y<H.length&&B>H[Y].canvas.width)Y++;if(Y==H.length){G=H[0];var j=G.canvas;j.width=b;j.height=h}else{G=H[Y];
G.clearRect(0,0,b,h)}return G};e.va=function(b,h,G,H){if(H==null)H=new Uint32Array(h*G);H[0]=b[0];for(var B=1;
B<h;B++)H[B]=H[B-1]+b[B];for(var j=1;j<G;j++){var Y=j*h;H[Y]=H[Y-h]+b[Y];for(var B=1;B<h;B++)H[Y+B]=b[Y+B]+H[Y+B-1]+H[Y+B-h]-H[Y+B-h-1]}return H};
e.Q8=function(b,h,G,H,B,j){var s=(B-1)*h,q=j*h;return b[q+H]-b[q+G-1]-b[s+H]+b[s+G-1]};e.aba=function(b,h,G,H){var B=h*4;
if(H==null)H=new Uint32Array(h*G*4);H[0]=b[0];H[1]=b[1];H[2]=b[2];H[3]=b[3];for(var j=1;j<h;j++)e.aux(b,H,4,j<<2);
for(var s=1;s<G;s++){var Y=s*h;e.aux(b,H,B,Y<<2);for(var j=1;j<h;j++){var q=Y+j<<2;H[q]=b[q]+H[q-4]+H[q-B]-H[q-B-4];
H[q+1]=b[q+1]+H[q-3]+H[q-B+1]-H[q-B-3];H[q+2]=b[q+2]+H[q-2]+H[q-B+2]-H[q-B-2];H[q+3]=b[q+3]+H[q-1]+H[q-B+3]-H[q-B-1]}}return H};
e.aux=function(b,h,G,Y){h[Y]=h[Y-G]+b[Y];h[Y+1]=h[Y-G+1]+b[Y+1];h[Y+2]=h[Y-G+2]+b[Y+2];h[Y+3]=h[Y-G+3]+b[Y+3]};
e.a8l=function(b,h,G,H,B,j,s){var q=(B-1)*h,Q=j*h,a=Q+H<<2,l=Q+G-1<<2,U=q+H<<2,N=q+G-1<<2;s[0]+=b[a]-b[l]-(b[U]-b[N]);
s[1]+=b[a+1]-b[l+1]-(b[U+1]-b[N+1]);s[2]+=b[a+2]-b[l+2]-(b[U+2]-b[N+2])};e._1=function(b,h,G){var H={},B=0,j=0,s=new Uint32Array(b.buffer),q=s.length,Q=Date.now();
for(var a=1;a<G-1;a++)for(var l=1;l<h-1;l++){var U=a*h+l,N=s[U];if(N>>>24<230)j++;if(H[N]==null){H[N]=!0;
B++}}if(j!=0||B<20)return!1;return!0};e.L0=function(b,h,G,H,B,j){if(B==null)B=j=0;H=Math.log(H)/Math.log(2);
H=Math.round(H);var s=new Uint32Array(b.buffer);for(var Y=0;Y<G;Y++)for(var q=0;q<h;q++){s[Y*h+q]=e.amN(Y+j,q+B,H)}};
e.aE4=function(Y,b,h){return 255-((Y>>>h)+(b>>>h)&1)*51};e.amN=function(Y,b,h){return 4294967295-((Y>>>h)+(b>>>h)&1)*3355443};
e.M5=function(b,h){var G=h==null?1:h/255;return{$:(b>>>16&255)*G,B:(b>>>8&255)*G,J:(b&255)*G}};e.wd=function(b,h){var G=h==null?1:255/h;
return Math.round(b.$*G)<<16|Math.round(b.B*G)<<8|Math.round(b.J*G)};e.Z0=function(b){var h=b.toString(16);
while(h.length<6)h="0"+h;return h};e.ahS=function(b){return parseInt(b,16)};e.i_=function(b){return.3*b.$+.59*b.B+.11*b.J};
e.e5=function(b){return Math.max(b.$,b.B,b.J)-Math.min(b.$,b.B,b.J)};e.ZK=function(b,h,G){return.3*b+.59*h+.11*G};
e.alF=function(b,h,G){return Math.max(b,h,G)-Math.min(b,h,G)};e.JK=function(b,h){var G=h-b,H=Math.abs(G),B=G-1,j=G+1;
if(Math.abs(B)<H)G=B;else if(Math.abs(j)<H)G=j;return G};e.Ea=function(b){return b<.0031308?12.92*b:1.055*Math.pow(b,1/2.4)-.055};
e.u0=function(b){return b<.04045?b/12.92:Math.pow((b+.055)/1.055,2.4)};e.a93=function(b,h){var G=Math.min(b.length,h.length);
for(var Y=0;Y<G;Y+=4){var H=b[Y],B=b[Y+1],j=b[Y+2];h[Y]=16+Math.floor(65.481/255*H+128.553/255*B+24.966/255*j+.5);
h[Y+1]=128-Math.floor(37.797/255*H-74.203/255*B+112/255*j+.5);h[Y+2]=128+Math.floor(112/255*H-93.786/255*B-18.214/255*j+.5);
h[Y+3]=b[Y+3]}};e.adD=function(b,h,G){var H,B,j,s=Math.max(b,h,G),q=Math.min(b,h,G);j=s;if(s!=0)B=(s-q)/s;
else B=0;if(B==0)H=0;else{var Q=s-q,a=(s-b)/Q,l=(s-h)/Q,U=(s-G)/Q;if(b==s)H=U-l;else if(h==s)H=2+a-U;
else H=4+l-a;H*=1/6;if(H<0)H=H+1}return{CN:H,Xk:B,J:j}};e.anV=function(b,h,G){var H=0,B=0,j=0;if(h==0)H=B=j=G;
else{var s=(b-Math.floor(b))*6,q=Math.floor(s),Q=s-Math.floor(s),a=G*(1-h),l=G*(1-h*Q),U=G*(1-h*(1-Q));
switch(q){case 0:H=G;B=U;j=a;break;case 1:H=l;B=G;j=a;break;case 2:H=a;B=G;j=U;break;case 3:H=a;B=l;
j=G;break;case 4:H=U;B=a;j=G;break;case 5:H=G;B=a;j=l;break}}return{$:H,B:B,J:j}};e.XH=function(b,h,G){var H=Math.max(b,h,G),B=Math.min(b,h,G),j=0,s=0,q=(H+B)*.5;
if(H!=B){var Q=H-B;s=q>.5?Q/(2-(H+B)):Q/(H+B);switch(H){case b:j=(h-G)/Q+(h<G?6:0);break;case h:j=(G-b)/Q+2;
break;case G:j=(b-h)/Q+4;break}j*=1/6}return{CN:j,Xk:s,Vp:q}};e.Jr=function(b,h,G){var H,B,j;if(h==0)H=B=j=G;
else{var s=G<.5?G*(1+h):G+h-G*h,q=2*G-s;H=e.aA(q,s,b+1/3);B=e.aA(q,s,b);j=e.aA(q,s,b-1/3)}return{$:H,B:B,J:j}};
e.aA=function(b,h,G){if(G<0)G+=1;if(G>1)G-=1;if(G<1/6)return b+(h-b)*6*G;if(G<1/2)return h;if(G<2/3)return b+(h-b)*(2/3-G)*6;
return b};e.j$=function(b,h,G){var H=Math.max(b,h,G),B=Math.min(b,h,G),j,s,q=H,Q=H-B;s=H==0?0:Q/H;if(H==B)j=0;
else{switch(H){case b:j=(h-G)/Q+(h<G?6:0);break;case h:j=(G-b)/Q+2;break;case G:j=(b-h)/Q+4;break}j*=1/6}return{CN:j,Xk:s,ZV:q}};
e.LM=function(b,h,G){var H,B,j,Y,s,q,Q,a;Y=Math.floor(b*6);s=b*6-Y;q=G*(1-h);Q=G*(1-s*h);a=G*(1-(1-s)*h);
switch(Y%6){case 0:H=G,B=a,j=q;break;case 1:H=Q,B=G,j=q;break;case 2:H=q,B=G,j=a;break;case 3:H=q,B=Q,j=G;
break;case 4:H=a,B=q,j=G;break;case 5:H=G,B=q,j=Q;break}return{$:H,B:B,J:j}};e.ld=function(){var b=[],h=[];
for(var Y=0;Y<8e3;Y++){var G=Y*(1/4e3);b[Y]=e.u0(G);h[Y]=G>.008856?Math.pow(G,1/3):(903.3*G+16)*(1/116)}return[b,h]}();
e.ec=function(b,h,G,H){if(H==null)H=[.9642,1,.8249];var B=e.ld[0],j=e.ld[1];b=B[~~(.5+b*(4e3/255))];
h=B[~~(.5+h*(4e3/255))];G=B[~~(.5+G*(4e3/255))];var s=e.G4.aDT,q=s[0]*b+s[1]*h+s[2]*G,Q=s[4]*b+s[5]*h+s[6]*G,a=s[8]*b+s[9]*h+s[10]*G;
q=q*(1/H[0]);Q=Q*(1/H[1]);a=a*(1/H[2]);return e.auU(q,Q,a)};e.auU=function(b,h,G){var H=e.ld[1],B=H[~~(.5+b*4e3)],j=H[~~(.5+h*4e3)],s=H[~~(.5+G*4e3)];
return{RY:116*j-16,G:500*(B-j),J:200*(j-s)}};e.g1=function(b,h,G){var H=903.3,B=.008856,j=(b+16)/116,s=j*j*j,q=j-G/200,Q=q*q*q,a=h/500+j,l=a*a*a,U=Q>B?Q:(116*q-16)/H,N=s>B?s:(116*j-16)/H,R=l>B?l:(116*a-16)/H,S=R*96.42,g=N*100,i=U*82.49,y=e.G4.m9(e.G4.hu,[S/100,g/100,i/100,0]);
for(var Y=0;Y<4;Y++)y[Y]=Math.max(0,Math.min(255,e.Ea(y[Y])*255));return{$:y[0],B:y[1],J:y[2]}};e.aw7=function(b,h,G,H,B){var j=b.RY,s=b.G,q=b.J,Q=(j<h.RY?h.RY-j:G.RY<j?G.RY-j:0)*(1/100),a=(s<h.G?h.G-s:G.G<s?G.G-s:0)*(1/116),l=(q<h.J?h.J-q:G.J<q?G.J-q:0)*(1/116),U=Math.sqrt(Q*Q+a*a+l*l)*1.35;
return U<=H?Math.min(1,1.17*(1-U*B)):0};e.u8=function(b){var h=e.av("cmykToRgb"),G=h[2],H=h[3],B=[0,0,0,0];
ICC.U.applyLUT4Float(H,G,b,B);return B};e.abU=function(){var b=function(g1){return Math.round(g1*255)},h="",G=3;
for(var Y=0;Y<tab.length;Y++){var H=b(tab[Y]);if(G<=Y)H=H-b(tab[Y-G])+256&255;h+=H.toString(16).padStart(2,"0")}return h};
e.av=function(b){var h=LUTS["_"+b];if(h==null){var G=LUTS[b],H=G[0],g1=G[1],B=G[2],j=G[3],s=[];for(var Y=0;
Y<j.length;Y+=2)s.push(parseInt(j.slice(Y,Y+2),16));for(var Y=g1;Y<s.length;Y++)s[Y]=s[Y]+s[Y-g1]&255;
for(var Y=0;Y<s.length;Y++)s[Y]*=1/255;h=LUTS["_"+b]=[H,g1,B,s]}return h};e.M8=function(b){var h=e.av("rgbToCmyk"),G=h[2],H=h[3],B=[0,0,0,0];
ICC.U.applyLUT3to4Float(H,G,b,B);return B};e.a8G=function(b){for(var Y=0;Y<b.length;Y+=4){var h=[b[Y+0]*(1/255),b[Y+1]*(1/255),b[Y+2]*(1/255)],G=e.M8(h);
b[Y+0]=255-Math.floor(.5+G[0]*255);b[Y+1]=255-Math.floor(.5+G[1]*255);b[Y+2]=255-Math.floor(.5+G[2]*255);
b[Y+3]=255-Math.floor(.5+G[3]*255)}};e.Rt=function(b,h,G){var H=b.length,B=.3,j=.59,s=.11;if(G){B=G[0];
j=G[1];s=G[2]}for(var Y=0;Y<H;Y+=4)h[Y>>2]=~~(b[Y+0]*B+b[Y+1]*j+b[Y+2]*s+.5)};e.YP=function(b,h){var G=h.length;
for(var Y=0;Y<G;Y+=4){var H=b[Y>>>2];h[Y]=H;h[Y+1]=H;h[Y+2]=H}};e.bh=function(b,h){var G=b.G,H=b.$,B=b.B,j=b.J,s=Math.min(b.G.length,h.buffer.byteLength>>>2),q=4*Math.floor(s/4),Q=new Uint32Array(h.buffer),a=new Uint32Array(G.buffer),l=new Uint32Array(H.buffer),U=new Uint32Array(B.buffer),N=new Uint32Array(j.buffer);
for(var Y=0;Y<q;Y+=4){var R=a[Y>>2],S=N[Y>>2],g=U[Y>>2],i=l[Y>>2];Q[Y]=R<<24|(S&255)<<16|(g&255)<<8|i&255;
Q[Y+1]=(R&65280)<<16|(S&65280)<<8|g&65280|(i&65280)>>>8;Q[Y+2]=(R&16711680)<<8|S&16711680|(g&16711680)>>>8|(i&16711680)>>>16;
Q[Y+3]=R&4278190080|(S&4278190080)>>>8|(g&4278190080)>>>16|(i&4278190080)>>>24}for(var Y=q;Y<s;Y++)Q[Y]=G[Y]<<24|j[Y]<<16|B[Y]<<8|H[Y]};
e.gZ=function(b,h){var G=h.G,H=h.$,B=h.B,j=h.J,s=Math.min(h.G.length,b.buffer.byteLength>>>2),q=4*Math.floor(s/4),Q=new Uint32Array(b.buffer),a=new Uint32Array(G.buffer),l=new Uint32Array(H.buffer),U=new Uint32Array(B.buffer),N=new Uint32Array(j.buffer);
for(var Y=0;Y<q;Y+=4){var R=Q[Y],S=Q[Y+1],g=Q[Y+2],i=Q[Y+3];l[Y>>2]=R&255|(S&255)<<8|(g&255)<<16|i<<24;
U[Y>>2]=(R&65280)>>8|S&65280|(g&65280)<<8|(i&65280)<<16;N[Y>>2]=(R&16711680)>>16|(S&16711680)>>8|g&16711680|(i&16711680)<<8;
a[Y>>2]=R>>>24|S>>>24<<8|g>>>24<<16|i&4278190080}for(var Y=q;Y<s;Y++){var y=Q[Y];H[Y]=y>>0&255;B[Y]=y>>8&255;
j[Y]=y>>16&255;G[Y]=y>>24&255}};e.uA=function(b,h,G){var H=new Uint8Array(b.buffer),B=Math.min(H.length/4,h.length);
for(var Y=0;Y<B;Y++){h[Y]=H[(Y<<2)+G]}};e.aj=function(b,h,G){var H=new Uint8Array(h.buffer),B=new Uint32Array(b.buffer),j=Math.min(H.length/4,b.length),Y=0;
while(Y+4<j){var s=B[Y>>>2];H[(Y<<2)+G]=s&255;H[(Y<<2)+G+4]=s>>>8&255;H[(Y<<2)+G+8]=s>>>16&255;H[(Y<<2)+G+12]=s>>>24;
Y+=4}while(Y<j){H[(Y<<2)+G]=b[Y];Y++}};e.Zi=function(b,h,G){if(G==null)G=0;var H=new Uint32Array(b.buffer),B=H.length;
for(var Y=0;Y<B;Y++)H[Y]=H[Y]&G|h};e.a6L=function(b,h,G,H,B){if(B==null)B=0;var j=new Uint32Array(b.buffer);
G=G.D4(h);var s=G.x-h.x,q=G.y-h.y,Q=G.j,a=G._,l=h.j;for(var U=0;U<a;U++){var Y=(q+U)*l+s;for(var N=0;
N<Q;N++){j[Y]=j[Y]&B|H;Y++}}};e.MI=function(b,h){var G=Math.min(b.buffer.byteLength,h.buffer.byteLength),H=G>>>2,b=new Uint32Array(b.buffer,0,H),h=new Uint32Array(h.buffer,0,H);
h.set(b)};e.TW=function(b,h){var G=b.buffer.byteLength,H=h.buffer.byteLength,B=new Uint32Array(b.buffer,0,G>>2),j=new Uint32Array(h.buffer,0,H>>2);
if(G!=H)return!1;var s=B.length;for(var Y=0;Y<s;Y++)if(j[Y]!=B[Y])return!1;return!0};e.Q6=function(b){var h=new Uint32Array(b.buffer),G=h.length;
for(var Y=0;Y<G;Y++)h[Y]=~h[Y]};e.an5=function(b){var h=b.length;for(var Y=0;Y<h;Y+=4){b[Y]=~b[Y];b[Y+1]=~b[Y+1];
b[Y+2]=~b[Y+2]}};e.aos=function(b){var h=b.length;for(var Y=3;Y<h;Y+=4)b[Y]=~b[Y]};e.agV=function(b){return b+(b%4==0?0:4-b%4)};
e.U=function(b,h){if(h==null)h=!1;if(!h)b=e.agV(b);try{var G=new Uint8Array(b)}catch(ku){alert("Not enough RAM! (need "+Math.round(b/(1<<20))+" MB)",7e3);
throw"low_ram"}return G};e.a0j=function(b,h,G,H){if(H==null)H=0;var B=0;while(B+3<b.length&&b[B+3].X()>=H&&h.$K()*(1<<(B>>>1))<G)B+=2;
var j=b[1],s=b[B+1],q=new eq;q.translate(-j.x,-j.y);q.scale(j.j/s.j,j._/s._);q.translate(j.x,j.y);q.concat(h);
return[B,q]};e.tT=function(b){var h=b.length,G=b[h-2],H=b[h-1];while(H.j>=2&&H._>=2){var B=e.hd(G,H);
b.push(B.Ur,B.rect);G=B.Ur;H=B.rect}};e.HL=function(b){var h=b.length,G=b[h-2],H=b[h-1];while(H.j>=2&&H._>=2){var B=e.GO(G,H);
b.push(B.Ur,B.rect);G=B.Ur;H=B.rect}};e.hd=function(b,h,G){var H=h.j,B=h._,j=H>>1,s=B>>1,q=new io(h.x,h.y,j,s),Q=G&&G.length==j*s*4?G:e.U(j*s*4),a=new Uint32Array(b.buffer),l=new Uint32Array(Q.buffer);
for(var U=0;U<s;U++)for(var N=0;N<j;N++){var R=U*j+N,S=(U<<1)*H+(N<<1),g=a[S],i=a[S+1],y=a[S+H],o=a[S+H+1],v=g>>>24,Z=i>>>24,W=y>>>24,d=o>>>24,$=v+Z+W+d;
if($==1020){var I=(g>>>0&255)+(i>>>0&255)+(y>>>0&255)+(o>>>0&255)+2>>>2,k=(g>>>8&255)+(i>>>8&255)+(y>>>8&255)+(o>>>8&255)+2>>>2,_=(g>>>16&255)+(i>>>16&255)+(y>>>16&255)+(o>>>16&255)+2>>>2;
l[R]=255<<24|_<<16|k<<8|I}else if($==0)l[R]=0;else{var I=(g>>>0&255)*v+(i>>>0&255)*Z+(y>>>0&255)*W+(o>>>0&255)*d,k=(g>>>8&255)*v+(i>>>8&255)*Z+(y>>>8&255)*W+(o>>>8&255)*d,_=(g>>>16&255)*v+(i>>>16&255)*Z+(y>>>16&255)*W+(o>>>16&255)*d,D=1/$;
I=~~(I*D+.5);k=~~(k*D+.5);_=~~(_*D+.5);l[R]=$+2>>>2<<24|_<<16|k<<8|I}}return{rect:q,Ur:Q}};e.agn=function(b,h,G){var H=h.j,B=h._,j=H>>1,s=B>>1,q=new io(h.x,h.y,j,s),Q=G&&G.length==j*s*4?G:e.U(j*s*4),a=new Uint32Array(b.buffer),l=new Uint32Array(Q.buffer);
for(var U=0;U<s;U++)for(var N=0;N<j;N++){var R=U*j+N,S=(U<<1)*H+(N<<1),g=a[S],i=a[S+1],y=a[S+H],o=a[S+H+1],v=2+(g>>>0&255)+(i>>>0&255)+(y>>>0&255)+(o>>>0&255)>>>2,Z=2+(g>>>8&255)+(i>>>8&255)+(y>>>8&255)+(o>>>8&255)>>>2,W=2+(g>>>16&255)+(i>>>16&255)+(y>>>16&255)+(o>>>16&255)>>>2,d=2+(g>>>24&255)+(i>>>24&255)+(y>>>24&255)+(o>>>24&255)>>>2;
l[R]=d<<24|W<<16|Z<<8|v}return{rect:q,Ur:Q}};e.axk=function(b,h,G){var H=h.j,B=h._,j=2*Math.floor(H/3),s=2*Math.floor(B/3),q=new io(h.x,h.y,j,s),Q=G&&G.length==j*s*4?G:e.U(j*s*4),a=new Uint32Array(b.buffer),l=new Uint32Array(Q.buffer);
for(var U=0;U<s;U+=2)for(var N=0;N<j;N+=2){var R=U*j+N,S=(U*3>>>1)*H+(N*3>>>1),g=a[S],i=a[S+1],y=a[S+2],o=a[S+H],v=a[S+1+H],Z=a[S+2+H],W=a[S+H+H],d=a[S+1+H+H],$=a[S+2+H+H],I=g>>>24<<2,k=(g>>>16&255)*I,_=(g>>>8&255)*I,D=(g&255)*I,A=i>>>24<<1,F=(i>>>16&255)*A,K=(i>>>8&255)*A,V=(i&255)*A,r=y>>>24<<2,c=(y>>>16&255)*r,x=(y>>>8&255)*r,X=(y&255)*r,M=o>>>24<<1,f=(o>>>16&255)*M,t=(o>>>8&255)*M,n=(o&255)*M,L=v>>>24,P=(v>>>16&255)*L,z=(v>>>8&255)*L,T=(v&255)*L,p=Z>>>24<<1,m=(Z>>>16&255)*p,O=(Z>>>8&255)*p,cb=(Z&255)*p,cX=W>>>24<<2,e$=(W>>>16&255)*cX,fz=(W>>>8&255)*cX,eC=(W&255)*cX,hw=d>>>24<<1,az=(d>>>16&255)*hw,av=(d>>>8&255)*hw,ia=(d&255)*hw,iJ=$>>>24<<2,cx=($>>>16&255)*iJ,hP=($>>>8&255)*iJ,iS=($&255)*iJ,e4=I+A+M+L,cc=r+A+p+L,aO=cX+hw+M+L,bZ=iJ+hw+p+L,d_=e4==0?0:1/e4,ee=cc==0?0:1/cc,b4=aO==0?0:1/aO,hA=bZ==0?0:1/bZ,f$=0,e_=0,fJ=0,dV=0;
f$=~~(.5+(D+V+n+T)*d_);e_=~~(.5+(_+K+t+z)*d_);fJ=~~(.5+(k+F+f+P)*d_);dV=~~(.5+e4*(1/9));l[R]=dV<<24|fJ<<16|e_<<8|f$;
f$=~~(.5+(X+V+cb+T)*ee);e_=~~(.5+(x+K+O+z)*ee);fJ=~~(.5+(c+F+m+P)*ee);dV=~~(.5+cc*(1/9));l[R+1]=dV<<24|fJ<<16|e_<<8|f$;
f$=~~(.5+(eC+ia+n+T)*b4);e_=~~(.5+(fz+av+t+z)*b4);fJ=~~(.5+(e$+az+f+P)*b4);dV=~~(.5+aO*(1/9));l[R+j]=dV<<24|fJ<<16|e_<<8|f$;
f$=~~(.5+(iS+ia+cb+T)*hA);e_=~~(.5+(hP+av+O+z)*hA);fJ=~~(.5+(cx+az+m+P)*hA);dV=~~(.5+bZ*(1/9));l[R+j+1]=dV<<24|fJ<<16|e_<<8|f$}return{rect:q,Ur:Q}};
e.aCU=function(b,h,G){var H=h.j,B=h._,j=2*Math.floor(H/3),s=2*Math.floor(B/3),q=new io(h.x,h.y,j,s),Q=G&&G.length==j*s*4?G:e.U(j*s*4),a=new Uint32Array(b.buffer),l=new Uint32Array(Q.buffer);
for(var U=0;U<s;U+=2)for(var N=0;N<j;N+=2){var R=U*j+N,S=(U*3>>>1)*H+(N*3>>>1),g=a[S],i=a[S+1],y=a[S+2],o=a[S+H],v=a[S+1+H],Z=a[S+2+H],W=a[S+H+H],d=a[S+1+H+H],$=a[S+2+H+H],I=(g>>>16&255)<<2,k=(g>>>8&255)<<2,_=(g&255)<<2,D=(i>>>16&255)<<1,A=(i>>>8&255)<<1,F=(i&255)<<1,K=(y>>>16&255)<<2,V=(y>>>8&255)<<2,r=(y&255)<<2,c=(o>>>16&255)<<1,x=(o>>>8&255)<<1,X=(o&255)<<1,M=v>>>16&255,f=v>>>8&255,t=v&255,n=(Z>>>16&255)<<1,L=(Z>>>8&255)<<1,P=(Z&255)<<1,z=(W>>>16&255)<<2,T=(W>>>8&255)<<2,p=(W&255)<<2,m=(d>>>16&255)<<1,O=(d>>>8&255)<<1,cb=(d&255)<<1,cX=($>>>16&255)<<2,e$=($>>>8&255)<<2,fz=($&255)<<2,eC=0,hw=0,az=0;
eC=~~(.5+(_+F+X+t)*(1/9));hw=~~(.5+(k+A+x+f)*(1/9));az=~~(.5+(I+D+c+M)*(1/9));l[R]=255<<24|az<<16|hw<<8|eC;
eC=~~(.5+(r+F+P+t)*(1/9));hw=~~(.5+(V+A+L+f)*(1/9));az=~~(.5+(K+D+n+M)*(1/9));l[R+1]=255<<24|az<<16|hw<<8|eC;
eC=~~(.5+(p+cb+X+t)*(1/9));hw=~~(.5+(T+O+x+f)*(1/9));az=~~(.5+(z+m+c+M)*(1/9));l[R+j]=255<<24|az<<16|hw<<8|eC;
eC=~~(.5+(fz+cb+P+t)*(1/9));hw=~~(.5+(e$+O+L+f)*(1/9));az=~~(.5+(cX+m+n+M)*(1/9));l[R+j+1]=255<<24|az<<16|hw<<8|eC}return{rect:q,Ur:Q}};
e.qP=function(b){var h=255,G=b.length;G-=G&31;for(var Y=3;Y<G;Y+=32)h=h&b[Y]&b[Y+4]&b[Y+8]&b[Y+12]&b[Y+16]&b[Y+20]&b[Y+24]&b[Y+28];
return h!=255};e.sL=function(b,h,G,H){var B=e.hd,j=e.axk;if(!e.qP(b)){B=e.agn;j=e.aCU}var s={Ur:b,rect:h},q=e.Dh(G);
for(var Y=0;Y<q.length;Y++){if(q[Y]==2)s=B(s.Ur,s.rect,H);else s=j(s.Ur,s.rect,H)}return s};e.a9l=function(b,h,G,H){var B=e.GO,j=e.aov,s={Ur:b,rect:h},q=e.Dh(G);
for(var Y=0;Y<q.length;Y++){if(q[Y]==2)s=B(s.Ur,s.rect,H);else s=j(s.Ur,s.rect,H)}return s};e.Dh=function(b){var h=[],G=b;
while(G<.499){h.push(2);G*=2}h.push(G<.5001?2:3);return h};e.GO=function(b,h,G){var H=h.j,B=h._,j=H>>1,s=B>>1,q=new io(h.x,h.y,j,s);
if(b==null)return{rect:q};var Q=G&&G.length>=j*s?G:e.U(j*s);for(var a=0;a<s;a++){var l=a*j;for(var U=0;
U<j;U++){var N=(a<<1)*H+(U<<1);Q[l+U]=2+b[N]+b[N+1]+b[N+H]+b[N+H+1]>>>2}}return{rect:q,Ur:Q}};e.aov=function(b,h,G){var H=h.j,B=h._,j=2*Math.floor(H/3),s=2*Math.floor(B/3),q=new io(h.x,h.y,j,s);
if(b==null)return{rect:q};var Q=G&&G.length>=j*s?G:e.U(j*s);for(var a=0;a<s;a+=2)for(var l=0;l<j;l+=2){var U=a*j+l,N=(a*3>>>1)*H+(l*3>>>1),R=b[N]<<2,S=b[N+1]<<1,g=b[N+2]<<2,i=b[N+H]<<1,y=b[N+1+H],o=b[N+2+H]<<1,v=b[N+H+H]<<2,Z=b[N+1+H+H]<<1,W=b[N+2+H+H]<<2;
Q[U]=~~(.5+(R+S+i+y)*(1/9));Q[U+1]=~~(.5+(g+S+o+y)*(1/9));Q[U+j]=~~(.5+(v+Z+i+y)*(1/9));Q[U+j+1]=~~(.5+(W+Z+o+y)*(1/9))}return{rect:q,Ur:Q}};
e.aeh=function(b,h,G,H,B){var j=h.D4(H);if(B)j=j.D4(B);var s=Math.max(0,j.x-h.x),q=Math.max(0,j.x-H.x),Q=Math.max(0,j.y-h.y),a=Math.max(0,j.y-H.y),l=j.j,U=j._;
for(var Y=0;Y<U;Y++){var N=(Q+Y)*h.j+s,R=(a+Y)*H.j+q;for(var S=0;S<l;S++){G[R+S]=Math.max(G[R+S],b[N+S])}}};
e.wX=function(b,h,G,H,B){var j=h.D4(H);if(B)j=j.D4(B);var s=Math.max(0,j.x-h.x),q=Math.max(0,j.x-H.x),Q=Math.max(0,j.y-h.y),a=Math.max(0,j.y-H.y),l=j.j,U=j._;
for(var Y=0;Y<U;Y++){var N=(Q+Y)*h.j+s,R=(a+Y)*H.j+q;G.set(new Uint8Array(b.buffer,N,l),R)}};e.a2J=function(b,h,G,H){if(h.TW(H)){e.aj(b,G,3);
return}var B=h.D4(H),j=Math.max(0,B.x-h.x),s=Math.max(0,B.x-H.x),q=Math.max(0,B.y-h.y),Q=Math.max(0,B.y-H.y),a=B.j,l=B._;
for(var Y=0;Y<l;Y++){var U=(q+Y)*h.j+j,N=(Q+Y)*H.j+s;for(var R=0;R<a;R++)G[(N+R<<2)+3]=b[U+R]}};e.Ce=function(b,h,G,H){var B=h.D4(H),j=Math.max(0,B.x-h.x),s=Math.max(0,B.x-H.x),q=Math.max(0,B.y-h.y),Q=Math.max(0,B.y-H.y),a=B.j,l=B._;
for(var Y=0;Y<l;Y++){var U=(q+Y)*h.j+j,N=(Q+Y)*H.j+s;for(var R=0;R<a;R++)G[N+R]=b[(U+R<<2)+3]}};e.JE=function(b,h,G,H,B){if(h.TW(H)&&(B==null||B.TW(H))){e.MI(b,G);
return}b=new Uint32Array(b.buffer),G=new Uint32Array(G.buffer);var j=h.D4(H);if(B)j=j.D4(B);var s=Math.max(0,j.x-h.x),q=Math.max(0,j.x-H.x),Q=Math.max(0,j.y-h.y),a=Math.max(0,j.y-H.y),l=j.j,U=j._,N=l&3,R=N==0?l:l-N;
for(var Y=0;Y<U;Y++){var S=(Q+Y)*h.j+s,g=(a+Y)*H.j+q;G.set(new Uint32Array(b.buffer,S*4,l),g)}};e.dt=function(b,h,G,H){var B=h.D4(H),j=Math.max(0,B.x-h.x),s=Math.max(0,B.x-H.x),q=Math.max(0,B.y-h.y),Q=Math.max(0,B.y-H.y),a=B.j,l=B._,U=b.G,N=b.$,R=b.B,S=b.J,g=G.G,i=G.$,y=G.B,o=G.J;
for(var Y=0;Y<l;Y++){var v=(q+Y)*h.j+j,Z=(Q+Y)*H.j+s;for(var W=0;W<a;W++){g[Z+W]=U[v+W];i[Z+W]=N[v+W];
y[Z+W]=R[v+W];o[Z+W]=S[v+W]}}};e.yB=function(b){var h=b.length;for(var Y=0;Y<h;Y+=4){var G=b[Y+3];if(G==255)continue;
b[Y]=~~(b[Y]*G*(1/255)+.5);b[Y+1]=~~(b[Y+1]*G*(1/255)+.5);b[Y+2]=~~(b[Y+2]*G*(1/255)+.5)}};e.ME=function(b){var h=b.length;
for(var Y=0;Y<h;Y+=4){var G=b[Y+3];if(G==0||G==255)continue;var H=255/G;b[Y]=~~(b[Y]*H+.5);b[Y+1]=~~(b[Y+1]*H+.5);
b[Y+2]=~~(b[Y+2]*H+.5)}};e.jC=function(b,h){for(var Y=0;Y<b.length;Y++)if(b[Y]!=h)return!1;return!0};
e.il=function(b){return b+1+(b>>>8)>>>8};e.round=function(b,h){if(h==null)h=128;var G=b.length;for(var Y=0;
Y<G;Y++)b[Y]=b[Y]<h?0:255};e.Ib=function(b,h){var G=b.length;for(var Y=0;Y<G;Y++)b[Y]=Math.round(b[Y]*h)};
e.Ia=function(b,h){var G=new Uint32Array(b.buffer),H=new Uint32Array(h.buffer),B=G.length;for(var Y=0;
Y<B;Y++){var j=G[Y],s=H[Y];H[Y]=e.il((j>>>24)*(s>>>24))<<24|e.il((j>>>16&255)*(s>>>16&255))<<16|e.il((j>>>8&255)*(s>>>8&255))<<8|e.il((j&255)*(s&255))}};
e.Bp=function(b,h){var G=b.length;for(var Y=0;Y<G;Y++)h[(Y<<2)+3]=e.il(h[(Y<<2)+3]*b[Y])};e.ad_=function(b,h,G,H){var B=Math.max(0,H.x-h.x),j=Math.max(0,h.x-H.x),s=Math.max(0,H.y-h.y),q=Math.max(0,h.y-H.y),Q=Math.min(h.x+h.j,H.x+H.j)-Math.max(h.x,H.x),a=Math.min(h.y+h._,H.y+H._)-Math.max(h.y,H.y);
for(var Y=0;Y<a;Y++){var l=(s+Y)*h.j+B,U=(q+Y)*H.j+j;for(var N=0;N<Q;N++){G[U]=e.il(G[U]*b[l]);l++;U++}}};
e.Iq=function(b,h,G,H){var B=Math.max(0,H.x-h.x),j=Math.max(0,h.x-H.x),s=Math.max(0,H.y-h.y),q=Math.max(0,h.y-H.y),Q=Math.min(h.x+h.j,H.x+H.j)-Math.max(h.x,H.x),a=Math.min(h.y+h._,H.y+H._)-Math.max(h.y,H.y);
for(var Y=0;Y<a;Y++){var l=(s+Y)*h.j+B,U=((q+Y)*H.j+j<<2)+3;for(var N=0;N<Q;N++){G[U]=e.il(G[U]*b[l]);
l++;U+=4}}};e.CD=function(b,h,G,H){var B=Math.max(0,H.x-h.x),j=Math.max(0,h.x-H.x),s=Math.max(0,H.y-h.y),q=Math.max(0,h.y-H.y),Q=Math.min(h.x+h.j,H.x+H.j)-Math.max(h.x,H.x),a=Math.min(h.y+h._,H.y+H._)-Math.max(h.y,H.y);
for(var Y=0;Y<a;Y++){var l=((s+Y)*h.j+B<<2)+3,U=((q+Y)*H.j+j<<2)+3;for(var N=0;N<Q;N++){G[U]=e.il(G[U]*b[l]);
l+=4;U+=4}}};e.fl=function(b,h){if(h==null)h=1;var G=4*h,H=b.length>>>2,B=new Float64Array(256),j=new Float64Array(256),s=new Float64Array(256),q=new Float64Array(256),Q=4*Math.floor(H/h)*h,a=0;
for(var Y=0;Y<Q;Y+=G){var l=b[Y+0],U=b[Y+1],N=b[Y+2],R=b[Y+3]*h,S=R*(1/255);j[l]+=S;s[U]+=S;q[N]+=S;
a+=R}for(var Y=0;Y<256;Y++)B[Y]=j[Y]+s[Y]+q[Y];return[B,j,s,q,H,a/255]};e.afG=function(b,h){function G(d,$){var I=-1,k=0;
while(k<=$){I++;k+=d[I]}return I}function H(d,$){var I=256,k=0;while(k<=$){I--;k+=d[I]}return I}function B(d){var $=0,I=0;
for(var Y=0;Y<256;Y++){I+=d[Y];$+=d[Y]*Y*(1/255)}return $/I}var j=b[0],s=b[1]/100,q=b[2]/100,Q=[],a=[];
for(var Y=0;Y<4;Y++){var l=Y==0?3:1;Q[Y]=G(h[Y],l*s*h[5]);a[Y]=H(h[Y],l*q*h[5])}var U=[B(h[1]),B(h[2]),B(h[3])],N=U.slice(0);
N.sort(function(d,$){return d-$});var R=U.indexOf(N[1]),S=(U[0]+U[1]+U[2])/3,g=[];for(var Y=0;Y<4;Y++){var i=0,y=255,o=Q[Y],v=a[Y];
if(j==0&&Y==0){i=o;y=v}if(j==1&&Y!=0){i=o;y=v}if(j==2&&Y!=0){var l=U[Y-1]/S;y=Math.max(0,Math.min(255,a[R]*l))}var Z=[i,y];
g.push(Z);if(j==3&&Y==0){var W=255*(1-S);Z.push(W)}}return g};e.a1k=function(b,h){var G=new Uint32Array(b.buffer),H=G.length;
for(var Y=0;Y<H;Y++){var B=G[Y],j=B&255,s=B>>8&255,q=B>>16&255,Q=B>>24&255;G[Y]=h[j]|h[s]<<8|h[q]<<16|h[Q]<<24}};
e.ah7=function(b,h,G,H,B,j,s){var q=new Uint32Array(b.buffer),Q=new Uint32Array(h.buffer),a=q.length,l=0;
while(256<<l<G.length)l++;if(!s&&!j){for(var Y=0;Y!=a;Y++){var U=q[Y],N=(U&255)<<l,R=(U>>>8&255)<<l,S=(U>>>16&255)<<l,g=G[N],i=H[R],y=B[S];
Q[Y]=g|i<<8|y<<16|U&4278190080}return}for(var Y=0;Y<a;Y++){var U=q[Y],N=(U&255)<<l,R=(U>>>8&255)<<l,S=(U>>>16&255)<<l;
if(j)N=R=S=Math.round(N*.3+R*.59+S*.11);var g=G[N],i=H[R],y=B[S];if(s){var o=e.ZK(N,R,S),v=e.ZK(g,i,y);
if(o>v){var Z=(o-v)/(255-v);g+=Z*(255-g);i+=Z*(255-i);y+=Z*(255-y)}else if(v==0)g=i=y=0;else{var Z=o/v;
g=Z*g;i=Z*i;y=Z*y}}Q[Y]=g|i<<8|y<<16|U&4278190080}};e.VM=function(b,h){var G=h.j,H=h._,top=0,B=0,j=0,s=0,q=0;
q=0;for(var Q=0;Q<H;Q++){var a=Q*G;for(var Y=0;Y<G;Y++)q|=b[a+Y];if(q!=0)break;top++}if(top==H)return new io(0,0,0,0);
q=0;for(var Q=H-1;Q>=0;Q--){var a=Q*G;for(var Y=0;Y<G;Y++)q|=b[a+Y];if(q!=0)break;j++}var l=H-j;q=0;
for(var Y=0;Y<G;Y++){for(var Q=top;Q<l;Q++)q|=b[Q*G+Y];if(q!=0)break;B++}q=0;for(var Y=G-1;Y>=0;Y--){for(var Q=top;
Q<l;Q++)q|=b[Q*G+Y];if(q!=0)break;s++}var U=new io(h.x+B,h.y+top,G-B-s,H-top-j);return U};e.Qn=function(b,h,G,H,B){if(H==null)H=[!0,!0,!0,!0];
if(G==null)G=0;if(B==null)B=4294967295;var j=new Uint32Array(b.buffer),s=h.j,q=h._,top=0,Q=0,a=0,l=0,U=!1,N=[j[0],j[j.length-1],0][G];
U=!1;if(H[0])for(var R=0;R<q;R++){var S=R*s;for(var Y=0;Y<s;Y++)if(j[S+Y]&B^N)U=!0;if(U)break;top++}U=!1;
if(H[2])for(var R=q-1;R>=0;R--){var S=R*s;for(var Y=0;Y<s;Y++)if(j[S+Y]&B^N)U=!0;if(U)break;a++}U=!1;
if(H[1])for(var Y=0;Y<s;Y++){for(var R=0;R<q;R++)if(j[R*s+Y]&B^N)U=!0;if(U)break;Q++}U=!1;if(H[3])for(var Y=s-1;
Y>=0;Y--){for(var R=0;R<q;R++)if(j[R*s+Y]&B^N)U=!0;if(U)break;l++}var g=new io(h.x+Q,h.y+top,s-Q-l,q-top-a);
return g.Zx()?new io(0,0,0,0):g};e.r6=function(b){var h=e.VM(b.channel,b.rect);if(h.TW(b.rect))return;
var G=e.U(h.X());e.wX(b.channel,b.rect,G,h);b.channel=G;b.rect=h};e.yV=function(b,h){var G=e.Qn(b.buffer,b.rect,2,null,h?null:4278190080);
if(G.TW(b.rect))return;var H=new e.U(G.X()*4);e.JE(b.buffer,b.rect,H,G);b.buffer=H;b.rect=G};e.extend=function(b,h,G){if(b.rect.ku(h))return;
var H=b.rect.gJ(h),B=e.U(H.X());if(G!=null)B.fill(G);e.wX(b.channel,b.rect,B,H);b.rect=H;b.channel=B};
e.aA5=function(b,h){if(h.Zx()||b.rect.ku(h))return;var G=b.rect.gJ(h),H=e.U(G.X()*4);e.JE(b.buffer,b.rect,H,G);
b.rect=G;b.buffer=H};e.cE=function(b,h,G){if(!G.G_(b))return!1;var H=Math.floor(b.x)-G.x,B=Math.floor(b.y)-G.y,Y=B*G.j+H;
return h[Y]>128};e.a58=function(b,h,G){if(!G.G_(b))return!1;var H=Math.floor(b.x)-G.x,B=Math.floor(b.y)-G.y,Y=B*G.j+H;
return h[4*Y+3]>128};e.b6=function(b){if(e.fY.length<b){e.fY=e.U(b);e.fY.fill(255)}return e.fY};e.fY=e.U(0);
e.TI=function(b){if(e.pg.length<b)e.pg=e.U(b);return e.pg};e.pg=e.U(0);e.Bh=function(b){this.G=e.U(b);
this.$=e.U(b);this.B=e.U(b);this.J=e.U(b)};e.Bh.prototype.clone=function(){var b=this.G.length,h=new e.Bh(1);
h.G=this.G.slice(0);h.$=this.$.slice(0);h.B=this.B.slice(0);h.J=this.J.slice(0);return h};e.g.afv=function(b,h,G,H,B){var j=B[0]+1,s=B[1],q=Math.abs(s-25)/4,Q=B[2],a=Q%2+Q*Q>>1,l=e.g.L;
l.TR(h,G);var U=l.D0(1),N=l.D0(1),R=l.D0(1);l._N(b,H,Q,Q,a);l.vn(H);l.cm(H,U);l.RT(U,N,j,j,1);l.RT(U,R,j,j,j*j);
l.sub(R,N);l.Ia(N,q);(s<25?l.sub:l.add)(U,N);l.Dt(N,H);l.xr(H)};e.g.aBO=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=B[0]*2.55,q=B[1],Q=q>>1,a=B[2]*.25,l=j.D0(4),U=j.D0(1),N=j.D0(1);j.$z(b,l,q,1,!0,Q);
j.$z(b,H,q,1,!1,Q);j.sK(b,U);j.sF(U,s);j.aP(U,N,3);j._A(H,N,l);j.kL(l,H,a)};e.g.abG=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[3]);var s=B[0]*-3+80,q=B[1]*-3+80,Q=B[2]/2+.5,a=B[4],l=B[5],U=j.D0(1),N=j.D0(1),R=j.D0(1),S=j.D0(1),g=j.D0(4),i=j.D0(4);
j.sK(b,U);j.MI(U,N);j.eW(U,q,5);j.auf(U,.4,0);j.aP(U,R,3);j.rv(R,U,9,3,!0,27);j.MI(N,R);j.Q6(R);var y=j.jI(s,5,R);
for(var Y=0;Y<j.Ho;Y++){N[Y]=y[255-N[Y]]}j.auf(N,.4,0);j.MI(N,R);j.aP(R,S,2);j.rv(S,R,5,3,!1,15);j.Ia(U,Q);
j.Ia(R,Q);j.rM(H,2155905279);j.rM(i,a);j.rM(g,l);j._A(i,U,H);j._A(g,R,H)};e.g.aeS=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=new Uint8Array(256),q=5+10*B[1];q+=B[1]>3?(B[1]-3)*10:0;var Q=~~(B[2]*.73)+50,a=Math.min(Q+q,128),l=a-Q,U=-255*Q;
for(var Y=0;Y<256;Y++){var N=Y*65;s[Y]=j.xg(U/l);U+=255}var R=j.D0(1),S=j.D0(1),g=j.D0(1);j.sK(b,R);
j.MI(R,g);j.aP(R,S,2*B[0]+1);j.sub(S,R);j.Ia(R,65);j.rv(R,S,9,3,!0,20);for(var Y=0;Y<j.Ho;Y++){var i=g[Y],y=S[Y];
R[Y]=y>0?~~((y*i+(255-y)*128)/255):128}j.aP(R,S,3);j.rv(S,R,15,2,!0,16);j.rv(S,g,15,2,!1,15);j.xW(R,g);
j.GY(g,S,2);j.U4(S,s);j.aP(S,R,2);j.r5(R,H)};e.g.ac7=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=2*B[0]+1,q=j.aAd[B[1]],Q=B[2]*5.1,a=B[3],l=j.D0(1),U=j.D0(1),N=j.D0(4),R=j.D0(4);
j.rM(N,a);j.vn(N,H);j.a94(l,Q);j.Dt(l,H);j.xr(H,N);j.sK(b,U);j.aP(U,l,s);j.sub(l,U);j.Ia(U,q);j.rv(U,l,9,3,!0,20);
j._A(b,l,N);j.zW(N,H,3);j.$z(H,N,15,2,!0,16);j.$z(H,R,15,2,!1,16);j.xW(N,R);j.kL(R,H,2)};e.g.azw=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=(15-B[0])/4+1,q=(15-B[1])/4+1,Q=B[2],a=B[3],l=j.SC(B[4]),U=B[5]+1,N=B[6],R=B[7],S=B[8],g=j.D0(1),i=j.D0(1),y=j.D0(1),o=j.D0(1),v=j.D0(4),Z=j.D0(4);
j.tl(y,Q,a,N);j.sK(b,i);j.aP(i,g,5);j.w$(y,g,o,U,l);j.Ia(o,s);j.cT(o,2);j.Q6(g);j.w$(y,g,i,U,l);j.Ia(i,q);
j.cT(i,2);j.rM(v,2155905279);j.rM(Z,R);j.rM(H,S);j._A(v,i,Z);j._A(Z,o,H)};e.g.afm=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[3]);var s=B[0],q=B[1]/10,Q=B[2]/10,a=j.D0(1),l=j.D0(1),U=j.D0(1),N=j.Ox(),R=j.Ox(),S=j.Ox();
j.Y_(a);j.aP(a,l,11);j.aP(l,a,11);j.hw(a,N);j.de(b,a);j.MI(a,U);j.aP(a,l,9);j.aP(l,a,9);j.hw(a,R);j.c5(R,S,5);
j.c5(S,R,5);j.ahp(N,.8);j.a5o(N,R,.8,.9);j.a8$(R,a,s);j.RT(a,l,2,2,1);j.RT(l,a,2,2,3);j.RT(a,l,2,2,3);
j.RT(U,a,5,5,13);j.M4(l,a,l,q);j.Lk(a,l,l,Q);j.w$(l,l,a,5,1);j.vn(b,H);j.Dt(a,H);j.xr(H)};e.g.a0h=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=B[0],q=B[1]/2,Q=B[2],a=s/2,l=j.D0(4),U=j.D0(4);j.MI(b,H);for(var N=0;N<Q;N++){j.$z(H,l,s,1,!0,a);
j.$z(H,U,s,1,!1,a);j.xW(U,l);j.zW(l,U,2);j.kL(U,H,q)}};e.g.asA=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);
var s=B[0]*10,q=B[1]*4.9,Q=B[2]*4.9,a=j.D0(1),l=j.D0(1),U=j.D0(4),N=j.D0(4);j.sK(b,a);j.sF(a,j.aea(a,s));
j.aP(a,l,3);j.$z(b,U,5,1,!1,1);j.$z(b,H,15,2,!0,16);j._A(H,l,U);j.vn(U,H);j.cm(H,a);j.eW(a,q,Q);j.Dt(a,H);
j.xr(H)};e.g.a0r=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[4]);var s=B[0]/20,q=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][B[1]],Q=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][B[2]],a=B[3],l=new Int16Array(256);
for(var Y=0;Y<256;Y++){l[Y]=~~((Y-128)*s)}var U=j.D0(1),N=j.D0(1),R=j.D0(4);j.sK(b,U);j.aP(U,N,25);j.Ia(N,q);
j.cT(N,Q);j.aP(N,U,25);j.Y_(N);j.ax$(U,N,l);j.MI(b,H);j.rM(R,a);j._A(R,U,H)};e.g.a87=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=B[0]+5,q=15-B[1],Q=s*s/2,a=1-(3-B[2])/10,l=~~(q*q*a-1),U=~~(q*q*(1-a));if(U==0)U=1;var N=j.D0(1),R=j.D0(1),S=j.D0(1),g=j.D0(4);
j.sK(b,S);j.RT(S,N,s,s,Q);j.aP(S,R,s);j.sub(N,R);j.sF(R,1);j._N(b,g,q,q,l);j._N(b,H,q,q,U);j._A(g,R,H)};
e.g.a5A=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[3]);var s=(20-B[0])*.05,q=B[1]*-2.75+60,Q=65-q,a=B[2]/10,l=j.D0(1),U=j.D0(1);
j.de(b,U);var N=j.jI(q,Q,U);j.vn(b,H);j.cm(H,U);j.Y_(l);j.I6(U,l,s);j.U4(U,N);j.Ia(U,B[2]/10);j.add(l,U);
j.Dt(U,H);j.xr(H)};e.g.a10=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=5+B[0],q=15-B[1],Q=B[2],a=s*s/2+s*s%2*1,l=1-(3-B[2])/10,U=~~(q*q*l-1),N=~~(q*q*(1-l));
if(N==0)N=1;var R=j.D0(1),S=j.D0(1),g=j.D0(1),i=j.D0(1),y=j.D0(1);j.de(b,S);j.GY(S,R,3);j.RT(R,S,2,2,1);
var o=j.jI(20,20,S);j.U4(S,o);j.aP(S,y,5);j.RT(y,R,s,s,a);j.RT(y,S,q,q,U);j.RT(y,g,q,q,N);j.aP(y,i,s);
j.sub(R,i);j.sF(i,1);j.atS(S,i,g);j.vn(b,H);j.Dt(g,H);j.xr(H)};e.g.aDO=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[5]);var s=j.Ho,q=j._F,Q=B[0],a=B[1],l=B[2],U=B[3],N=B[4],R=.05*Q+1,S=Q/100,g=Q>>1,i=2*Q-100,y=+(a==9),o=+(a==7),v=[4,1][y],Z=[3,2][y],W=[1,2][o],d=[2,1][o],$=[50,75][y],I=a<4?l:(l>>1)+50,k=j.al_($,I),_=j.Gd(U),D=j.Gd(N),A=j.D0(4),F=j.D0(4),K=j.D0(1),V=j.D0(1);
function r(H,k){if(I!=50){j.a0m(H,k)}}function c(b,m){for(var Y=0;Y<s;Y++){b[Y]=j.xg(b[Y]+(m[Y]-128)*S)}}function x(b,m){for(var Y=0,O=0;
Y<s;Y++){b[O]=j.xg(b[O]+(m[O]-128)*S);b[O+1]=j.xg(b[O+1]+(m[O+1]-128)*S);b[O+2]=j.xg(b[O+2]+(m[O+2]-128)*S);
O+=4}}function X(b,H){j.Y_(F);j.MI(b,H);x(H,F);r(H,k)}function M(m){var O=0;for(var cb=0;cb<12;cb++)O+=j.random();
return j.xg(g*(O-6)+m)}function f(b,H){j.MI(b,H);for(var Y=0;Y<q;Y+=4){H[Y]=M(H[Y]);H[Y+1]=M(H[Y+1]);
H[Y+2]=M(H[Y+2])}r(H,k)}function t(b,H){j.MI(b,H);for(var Y=0;Y<q;Y+=4){if(j.random()<S){H[Y]=_[0];H[Y+1]=_[1];
H[Y+2]=_[2]}}r(H,k)}function n(b,H){j.Y_(A);j._N(A,F,Z,Z,v);j.MI(b,A);x(A,F);j._N(A,H,5,5,13);r(H,k)}function L(b,H){j.Y_(F);
j.MI(b,A);x(A,F);r(H,k);j._N(A,H,Z,Z,v)}function P(b,H){j.MI(b,A);r(H,k);j.sK(A,K);for(var Y=0,m=0;Y<s;
Y++){var O=((i-K[Y]+255)*128.5+.5)/32767;if(j.random()<=O){H[m++]=D[0];H[m++]=D[1];H[m++]=D[2]}else{H[m++]=_[0];
H[m++]=_[1];H[m++]=_[2]}H[m]=b[m];m++}}function z(b,H){j.vn(b,H);j.cm(H,K);j.GY(K,V,R);j.RT(V,K,Z,Z,v);
j.U4(K,k);j.Dt(K,H);j.xr(H)}function T(b){var m=0;if(a==8){for(var O=0;O<h;O++){b[m++]=~~(j.random()*255)}for(var Y=1;
Y<G;Y++){for(var O=0;O<h;O++){b[m++]=b[O]}}}else{for(var Y=0;Y<G;Y++){var cb=~~(j.random()*255);for(var O=0;
O<h;O++){b[m++]=cb}}}}function p(b,H){j.sK(b,K);j.Y_(V);c(K,V);T(V);c(K,V);j.zW(b,A,9);j.zW(A,F,9);j.aP(K,V,2);
j.U4(V,k);j.aP(V,K,2);j.vn(F,H);j.Dt(K,H);j.xr(H)}[X,f,t,n,n,L,P,p,p,z][a](b,H)};e.g.aBD=function(b,h,G,H,B){var j=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],s=e.g.L,g=0,i,Y,W,d,$,I=0,k=1,_=255;
s.TR(h,G);s.LW(B[3]);var q=s.D0(1),Q=s.D0(1);s.sK(b,q);var a=B[0],l=B[1],U=l<=50?j[l]/255:1+(255-j[101-l])/255,N=B[2],R=q.length,S=new Float32Array(R),y=1+1/10*a,o=(1-1/y)/2,v=16/256,Z=h-1;
for(Y=0;Y<s.Ho;Y++){S[Y]=q[Y]/255;Q[Y]=a==1?s.random()<1/255?_:k:k}function D(A,F){var K=A*h+F;if(Q[K]!=k||A>=G||F>=h){return}var d=S[K],V=U-d,r=s.random(),c=r/y+o;
if(g==0||Math.abs($-d)>v){i=c<=V?I:_;g=~~(s.random()*a)}else if(.1<r){g--}else{g=0}Q[K]=i;$=d}if(N==0){for(Y=0;
Y<h;Y++){for(W=0;W<h;W++){d=Y+W;if(d>=h)break;D(W,Z-d)}g=0}for(Y=1;Y<G;Y++){for(W=0;W<G;W++){d=Y+W;if(d>=G||W>=h)break;
D(d,Z-W)}g=0}}else if(N==1){for(Y=0;Y<G;Y++){for(W=0;W<h;W++){D(Y,W)}g=0}}else if(N==2){for(Y=0;Y<h;
Y++){for(W=0;W<h;W++){d=Y+W;if(d>=h)break;D(W,d)}g=0}for(Y=1;Y<G;Y++){for(W=0;W<G;W++){d=Y+W;if(d>=G||W>=h)break;
D(d,W)}g=0}}else{for(Y=0;Y<h;Y++){for(W=0;W<G;W++){D(W,Y)}g=0}}s.r5(Q,H)};e.g.atz=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=B[0],q=B[1],Q=B[2],a=j.D0(1),l=j.D0(1),U=j.D0(1),N=j.D0(1),R=j.D0(4),S=j.D0(4);j.cm(b,N,3,4);
j.sK(b,a);j.RT(a,l,3,3,1);j.RT(a,U,3,3,9);j.sub(U,l);j.aP(l,a,3);j.eW(a,40,10,N);j.$z(b,H,s,2,!1,s);
j.$z(b,R,s,2,!0,s);j.rM(S,255);j._A(H,a,S);j._A(S,a,R);j.kL(R,H,1);j.vn(H);j.cm(H,a);j.eW(a,q,Q,N);j.Dt(a,H);
j.xr(H)};e.g.aqz=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[3]);var s=B[0],q=B[1],Q=B[2]/10;s=s+q;
var a=j.D0(1),l=j.D0(1),U=j.Ox(),N=j.Ox();j.Y_(a);j.aP(a,l,11);j.aP(l,a,11);j.hw(a,U);j.c5(U,N,5);j.c5(N,U,5);
j.ahp(N,.97);j.a8$(N,a,s);j.RT(a,l,q,q,1);j.de(b,a);j.M4(l,a,l,.6);j.Lk(a,l,l,Q);j.w$(l,l,a,5,1);j.vn(b,H);
j.Dt(a,H);j.xr(H)};e.g.aq3=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=Math.abs(B[0]),q=s+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][s],Q=2*s+1,a=B[1]/10,l=a*13/15,U=j.D0(1),N=j.D0(1),R=j.D0(1),S=j.D0(1),g=j.D0(4),i=j.D0(4),y=j.D0(4),o=j.D0(4),v=j.D0(4);
j.sK(b,U);if(B[0]>=0){j.Q6(U)}j.MI(U,R);j.aP(U,S,q);j.aP(S,U,q);j.Ia(U,a);j.MI(U,N);j.aP(U,S,Q);j.aP(S,U,Q);
j.Ia(U,l);j.rM(y,B[2]);j.rM(o,B[3]);j.rM(v,B[4]);j._A(y,U,o,g);j._A(v,N,g,i);j._A(o,R,i,H);j.cm(b,R,3);
j.Dt(R,H,3)};e.g.aBo=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[5]);var s=B[0]*5.1,q=B[1]/100,Q=j.a7x[B[2]],a=j.D0(1),l=j.D0(1),U=j.D0(1);
j.sK(b,a);j.a94(l,255);j.Y_(U);j.sF(a,s);j.I6(l,a,.7);j.I6(U,a,q);j.w$(a,a,l,5,Q);j.MI(b,H);j.ayY(H,s,B[4],B[3]);
j.vn(H);j.Dt(l,H);j.xr(H)};e.g.al7=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=B[0],q=4-B[1],Q=11-B[2],a=j.D0(1),l=j.D0(1),U=j.D0(4);
j.de(b,l);for(var Y=0;Y<q;Y++){j.MI(l,a);j.a7v(a,l,s,s)}j.zW(b,U,s);j.vn(U,U);j.Dt(l,U);j.xr(U,U);(Q<11?j.aoQ:j.MI)(U,H,Q)};
e.g.ayh=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[2]);var s=B[0]+5,q=~~(s/5+1),Q=~~(s/2)+1,a=Q*Q,l=~~(s/3),U=j.a7x[B[1]],N=new Array(256);
for(var Y=0;Y<256;Y++){N[Y]=~~(.2*(Y-128))}var R=j.D0(1),S=j.D0(1);j.a7d(b,H,s);j.vn(H);j.cm(H,R);j.Y_(S);
j.ax$(R,S,N);j.af9(S,s,s,q,q);j.M4(R,S,R,1);j.aP(R,S,l);j.aP(S,R,l);j.RT(R,S,Q,Q,a);j.w$(S,S,R,5,U);
j.Dt(R,H);j.xr(H)};e.g.ar4=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=j.D0(1),q=j.D0(1),Q=j.D0(1),a=j.Ox(),l=j.Ox();
j.sK(b,s);j.aP(s,q,B[2]);j.sF(q,B[0]*5.1);j.RT(q,s,2,2,4);j.aP(s,q,3);j.aP(q,s,3);j.MI(s,Q);j.aP(s,q,5);
j.aP(q,s,5);j.hw(s,a);j.c5(a,l,5);j.c5(l,a,5);j.azN(a,q,B[1]);j.Q6(q);j.M4(Q,q,Q,1);j.r5(Q,H)};e.g.ak_=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=1<<7-B[2],q=j.D0(1),Q=j.D0(1),a=j.D0(1);j.de(b,Q);j.aP(Q,q,3);j.MI(q,Q);j.aP(q,a,B[0]+5);
j.sub(a,Q);j.eW(Q,1,B[1]);j.Ia(q,1/s);j.Ia(q,s);j.sub(q,Q);j.vn(b,H);j.Dt(Q,H);j.xr(H)};e.g.aEx=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[3]);var s=j.D0(1),q=j.D0(1),Q=j.D0(1);j.sK(b,s);j.anp(q,B[0]/50);j.aP(q,Q,3);j.RT(s,q,9,9,41);
j.eW(q,B[1],B[2]);j.M4(q,Q,Q,.75);j.Lk(q,Q,q,.5);j.MI(q,s);j.RT(s,Q,3,3,8);j.M4(Q,q,Q,.75);j.Ia(Q,1.2);
j.GY(Q,s,1);j.aP(s,Q,2);j.GY(Q,s,2);j.Ia(s,1.2);j.aP(s,Q,2);j.r5(Q,H)};e.g.a8X=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=B[0]+9,q=B[1]/2,Q=B[2],a=B[3],l=j.SC(B[4]),U=B[5]+1,N=B[6],R=j.D0(1),S=j.D0(1),g=j.D0(4),i=j.D0(4);
j.tl(S,Q,a,N);j.akb(b,H,s,1,1);j.akb(H,g,s,1,1);j.amP(g,g,i,7,q);j.Ia(i,1.2);j.cT(i,1.2);j.w$(S,R,R,U,l);
j.Ia(R,3);j.MI(b,H);j._A(i,R,H)};e.g.ad2=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[3]);var s=B[0]+4,q=s*2/5+(s%5|0);
s--;var Q=B[1]*-2.75+60,a=65-Q,l=B[2]/10,U=j.D0(1),N=j.D0(1);j.Y_(U);j.de(b,N);var R=j.jI(Q,a,N);j.vn(b,H);
j.cm(H,N);j.I6(N,U,.8);j.U4(N,R);j.Ia(N,l);j.add(U,N);j.rv(N,U,s,3,!1,q);j.Dt(U,H);j.xr(H)};e.g.aBf=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[3]);var s=B[0]+5,q=(s*s>>1)+s%2,Q=B[1]/10,a=B[2],l=(a*a>>1)+a%2,U=j.D0(1),N=j.D0(1),R=j.D0(1),S=j.D0(4),g=j.D0(4),i=j.D0(4);
j.Y_(R);j.vn(b,i);j.cm(i,U);j.I6(U,R,.8);j.aP(R,U,3);j.GY(U,R,Q);j.Dt(R,i);j.xr(i,i);j.sK(i,R);j.RT(R,U,s,s,q);
j.aP(R,N,s);j.sub(U,N);j.sF(N,1);j._N(i,S,7,7,40);j._N(i,g,7,7,10);j._A(S,N,g);j._N(g,H,a,a,l)};e.g.ayF=function(b,h,G,H,B){var j=e.g.L,q=255,Y,a;
j.TR(h,G);var s=B[0];if(s<2)q=s;else if(s<12)q=5*s-5;else if(s<47)q=2*s+28;else if(s<50){Y=s-47;q=125+12.5*Y+12.5*Y*Y}var Q=new Uint8Array(256);
for(Y=75,a=15;Y<256;Y++,a+=24)Q[Y]=Math.min(255,a);var l=j.D0(1),U=j.D0(1),N=j.D0(1);j.sK(b,l);j.aP(l,U,11);
j.aP(U,N,11);j.sub(N,l);j.Ia(l,8);j.sub(N,l);j.sF(l,q);j.Q6(l);j.aP(l,U,5);j.sF(U,51);j.aP(U,l,B[1]);
j.aP(l,U,B[1]);j.Q6(U);j.U4(U,Q);j.r5(U,H)};e.g.ayE=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=j.aAd[B[1]],q=B[2],Q=q*1.5,a=j.D0(1),l=j.D0(1),U=j.D0(1);
j.de(b,a);j.rv(a,l,15,2,!0,15);j.MI(l,U);j.eW(U,q,Q);j.aP(U,a,3);j.aP(l,U,B[0]);j.sub(U,l);j.Ia(l,s);
j.sub(a,l);j.aP(l,a,3);j.rv(a,l,3,1,!1,1);j.zW(b,H,15);j.vn(H);j.Dt(l,H);j.xr(H)};e.g.ajb=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);j.LW(B[3]);var s=B[0]*5.1,q=16-B[1],Q=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][B[2]],a=j.D0(1),l=j.D0(1),U=j.D0(1);
j.sK(b,a);j.sF(a,s);j.aP(a,l,q);j.aP(l,a,q);j.Y_(U);j.Lk(a,U,U,1);j.M4(a,U,a,.75);j.Ia(a,Q);j.cT(a,Q);
j.RT(a,l,2,2,2);j.r5(l,H)};e.g.aAO=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);var s=B[0]+9,q=B[1]+9,Q=B[2],a=B[3],l=j.SC(B[4]),U=B[5]+1,N=B[6],R=j.D0(1),S=j.D0(1),g=j.D0(1),i=j.D0(1),y=j.D0(1),o=j.D0(4);
j.de(b,R);j.a7v(R,g,s,s);j.aP(g,R,q);j.MI(g,y);j.MI(R,i);j.sub(y,i);j.sub(R,y);j.add(y,i);j.Ia(i,10);
j.tl(S,Q,a,N);j.w$(S,R,y,U,l);j.atS(y,i,g,.8);j.zW(b,o,9);j.zW(o,H,9);j.vn(H);j.Dt(g,H);j.xr(H)};e.g.a7P=function(b,h,G,H,B){var j=e.g.L;
j.TR(h,G);var s=16-B[0],q=B[1]*8,Q=1-(3-B[2])/10,a=~~(s*s*Q-1),l=~~(s*s*(1-Q));if(l==0)l=1;var U=j.D0(1),N=j.D0(1),R=j.D0(1),S=j.D0(4);
j.sK(b,R);j.RT(R,U,7,7,25);j.aP(R,N,7);j.sub(U,N);j.sF(N,1);j._N(b,S,s,s,a);j._N(b,H,s,s,l);j._A(S,N,H);
j.vn(H);j.cm(H,U);j.RT(U,R,3,3,1);j.RT(U,N,3,3,9);j.sub(N,R);j.MI(R,N);j.sub(U,R);j.sub(R,N);j.RT(N,U,3,3,8);
j.eW(U,q,1);j.Dt(U,H);j.xr(H)};e.g.a7s=function(b,h,G,H,B){var j=e.g.L;j.TR(h,G);j.LW(B[3]);var s=B[0],q=B[1],Q=B[2],a=s>>1,l=Math.max(~~(s/5),1),U=Math.max(~~(s*2/3),1),N=j.al_(q,Q),R=j.D0(1),S=j.D0(1),g=j.D0(1),i=j.D0(1),y=j.D0(4);
j.de(b,R);j.aCx(2147483647,4,2,2,0,255,S);j.aCx(4,2147483647,2,2,0,255,i);j.Y_(g);j.Lk(S,g,S,1);j.Lk(i,g,i,1);
j.Lk(S,R,S,1);j.Lk(i,R,i,1);j.zW(b,y,a);j.zW(y,H,a);j.RT(S,R,1,s,l);j.RT(R,S,3,s,U);j.RT(i,R,s,1,l);
j.RT(R,i,s,3,U);j.xW(S,i);j.vn(H);j.Dt(i,H);j.xr(H);j.a0m(H,N)};e.g.mv=function(b,h,G){var H=G.a4Q,B=G.Ho,j=G.D0(1),top=G.D0(1),s=G.D0(1),q=G.D0(1),Q=G.D0(1),a=G.D0(1),l=G.D0(1),U=G.D0(1),N=G.D0(1),R=G.Ps,S=G.CN,g=e.aU.Ui,i=e.aU.Ol;
g(b,j,R,S,i([8,5,2,5,2,-1,2,-1,-4]));g(b,top,R,S,i([5,5,5,2,2,2,-1,-1,-1]));g(b,s,R,S,i([2,5,8,-1,2,5,-4,-1,2]));
g(b,q,R,S,i([5,2,-1,5,2,-1,5,2,-1]));g(b,Q,R,S,i([2,2,2,2,2,2,2,2,2]));g(b,a,R,S,i([-1,2,5,-1,2,5,-1,2,5]));
g(b,l,R,S,i([2,-1,-4,5,2,-1,8,5,2]));g(b,U,R,S,i([-1,-1,-1,2,2,2,5,5,5]));g(b,N,R,S,i([-4,-1,2,-1,2,5,2,5,8]));
var y=[j,top,s,q,Q,a,l,U,N];for(var o=0;o<S;o++){for(var v=0;v<R;v++){var Z=o*R+v,W=b[Z],d=null,$=0;
for(var I=-1;I<2;I++){for(var k=-1;k<2;k++){var _=y[(I+1)*3+k+1],D=Math.max(0,Math.min(o+I,S-1)),A=Math.max(0,Math.min(v+k,R-1)),F=_[D*R+A],K=Math.abs(F-W);
if(d==null||K<d){d=K;$=F}}}h[Z]=$}}};e.g.ajv=function(b,h,G,H,B){var self=e.g.L;self.TR(h,G);var j=self.D0(1),s=self.D0(1);
for(var Y=0;Y<4;Y++){self.cm(b,j,Y);if(Y<3){e.g.mv(j,s,self);e.g.mv(s,j,self);e.g.mv(j,s,self);e.g.mv(s,j,self);
e.g.mv(j,s,self);e.g.mv(s,j,self);e.g.mv(j,s,self);e.g.mv(s,j,self);e.g.mv(j,s,self)}else s=j;self.Dt(s,H,Y)}};
e.g.L={};e.g.L.Ps=0;e.g.L.CN=0;e.g.L.Ho=0;e.g.L.Bu=0;e.g.L._F=0;e.g.L.TR=function(b,h){var G=b*h,self=e.g.L;
self.Ps=b;self.CN=h;self.Ho=G;self.Bu=G<<1;self._F=G<<2};e.g.L.LW=function(b){e.g.L.random=function(){var h=b+=1831565813;
h=Math.imul(h^h>>>15,h|1);h^=h+Math.imul(h^h>>>7,h|61);return((h^h>>>14)>>>0)/4294967296}};e.g.L.D0=function(b){var h=e.g.L;
return new Uint8Array([-1,h.Ho,h.Bu,-1,h._F][b])};e.g.L.Ox=function(){return new Int32Array(e.g.L.Bu)};
e.g.L.aP=function(b,h,G,H){if(H==null)H=G;var self=e.g.L,B=self.Ps,j=self.CN,s=H,q=H>>1,Q=G,a=G>>1,l=G*H,U=0;
for(var Y=0;Y<j;Y++){var N=0;for(var R=0;R<s;R++){for(var S=0;S<Q;S++){var g=0-a+S,i=Y-q+R;if(g<0)g=0;
else if(g>=B)g=B-1;if(i<0)i=0;else if(i>=j)i=j-1;N+=b[i*B+g]}}h[U++]=~~(N/l);for(var y=1;y<B;y++){for(var R=0;
R<s;R++){var o=y-a-1,v=o+Q,i=Y-q+R;if(o<0)o=0;if(v>=B)v=B-1;if(i<0)i=0;else if(i>=j)i=j-1;N+=b[i*B+v]-b[i*B+o]}h[U++]=~~(N/l)}}};
e.g.L.c5=function(b,h,G,H){var self=e.g.L,B=new Int32Array(self.Ho),j=new Int32Array(self.Ho);for(var Y=0;
Y<2;Y++){self.cm(b,B,Y,2);self.aP(B,j,G,H);self.Dt(j,h,Y,2)}};e.g.L.zW=function(b,h,G,H){var self=e.g.L,B=self.D0(1),j=self.D0(1);
for(var Y=0;Y<4;Y++){self.cm(b,B,Y);if(Y<3)self.aP(B,j,G,H);else j=B;self.Dt(j,h,Y)}};e.g.L.akb=function(b,h,G,H,B){var self=e.g.L,j=self.Ps,s=self.CN,q=G+H-1,Q=G>>1,a=q>>1,l=0,U=G*H,N=new Int32Array(G);
for(var Y=0;Y<s;Y++){var R=0,S=0,g=0;for(var i=0;i<G;i++){var y=B?q-i-H:i;for(var o=y,v=H+y;o<v;o++){var Z=0-a+o,W=Y-Q+i;
if(o==y){N[i]=Z}if(Z<0)Z=0;else if(Z>=j)Z=j-1;if(W<0)W=0;else if(W>=s)W=s-1;var d=j*W+Z<<2;R+=b[d];S+=b[d+1];
g+=b[d+2]}}h[l++]=~~(R/U);h[l++]=~~(S/U);h[l++]=~~(g/U);h[l]=b[l];l++;for(var $=1;$<j;$++){for(var i=0;
i<G;i++){var W=Y-Q+i,y=N[i]+1;N[i]=y;var I=y-1,k=y+H-1;if(W<0)W=0;else if(W>=s)W=s-1;if(I<0)I=0;else if(I>=j)I=j-1;
if(k<0)k=0;else if(k>=j)k=j-1;var _=W*j+I<<2,D=W*j+k<<2;R=R+b[D]-b[_];S=S+b[D+1]-b[_+1];g=g+b[D+2]-b[_+2]}h[l++]=~~(R/U);
h[l++]=~~(S/U);h[l++]=~~(g/U);h[l]=b[l];l++}}};e.g.L.rv=function(b,h,G,H,B,j){var self=e.g.L,s=self.Ps,q=self.CN,Q=G+H-1,a=G>>1,l=Q>>1,U=0,N=new Int32Array(G),R=new Int32Array(256),S=new Int32Array(16);
for(var Y=0;Y<q;Y++){for(var g=0;g<256;g++){R[g]=0}for(var g=0;g<16;g++){S[g]=0}for(var i=0;i<G;i++){var y=B?Q-i-H:i;
for(var o=y,v=H+y;o<v;o++){var Z=0-l+o,W=Y-a+i;if(o==y){N[i]=Z}if(Z<0)Z=0;else if(Z>=s)Z=s-1;if(W<0)W=0;
else if(W>=q)W=q-1;R[b[W*s+Z]]++;S[b[W*s+Z]>>>4]++}}var d=0,$=0;while(d+S[$>>>4]<j){d+=S[$>>>4];$+=16}for(;
$<256;$++){d+=R[$];if(d>=j)break}h[U++]=$;for(var g=1;g<s;g++){for(var i=0;i<G;i++){var W=Y-a+i,y=N[i]+1;
N[i]=y;var I=y-1,k=y+H-1;if(W<0)W=0;else if(W>=q)W=q-1;if(I<0)I=0;else if(I>=s)I=s-1;if(k<0)k=0;else if(k>=s)k=s-1;
R[b[W*s+I]]--;R[b[W*s+k]]++;S[b[W*s+I]>>>4]--;S[b[W*s+k]>>>4]++}d=0;$=0;while(d+S[$>>>4]<j){d+=S[$>>>4];
$+=16}for(;$<256;$++){d+=R[$];if(d>=j)break}h[U++]=$}}};e.g.L.$z=function(b,h,G,H,B,j){var self=e.g.L,s=self.D0(1),q=self.D0(1);
for(var Y=0;Y<4;Y++){self.cm(b,s,Y);if(Y<3)self.rv(s,q,G,H,B,j);else q=s;self.Dt(q,h,Y)}};e.g.L.RT=function(b,h,G,H,B){B=Math.min(H*G,B);
var self=e.g.L,j=self.Ps,s=self.CN,q=H>>1,Q=G>>1,a=0,l=new Int32Array(H),U=new Int32Array(256),N=new Int32Array(16);
for(var Y=0;Y<s;Y++){for(var R=0;R<256;R++){U[R]=0}for(var R=0;R<16;R++){N[R]=0}for(var S=0;S<H;S++){for(var g=0,i=G;
g<i;g++){var y=0-Q+g,o=Y-q+S;if(g==0){l[S]=y}if(y<0)y=0;else if(y>=j)y=j-1;if(o<0)o=0;else if(o>=s)o=s-1;
U[b[o*j+y]]++;N[b[o*j+y]>>>4]++}}var v=0,Z=0;while(v+N[Z>>>4]<B){v+=N[Z>>>4];Z+=16}for(;Z<256;Z++){v+=U[Z];
if(v>=B)break}h[a++]=Z;for(var R=1;R<j;R++){for(var S=0;S<H;S++){var o=Y-q+S,W=l[S]+1;l[S]=W;var d=W-1,$=W+G-1;
if(o<0)o=0;else if(o>=s)o=s-1;if(d<0)d=0;else if(d>=j)d=j-1;if($<0)$=0;else if($>=j)$=j-1;U[b[o*j+d]]--;
U[b[o*j+$]]++;N[b[o*j+d]>>>4]--;N[b[o*j+$]>>>4]++}v=0;for(Z=0;Z<256;Z++){v+=U[Z];if(v>=B)break}h[a++]=Z}}};
e.g.L._N=function(b,h,G,H,B){var self=e.g.L,j=self.D0(1),s=self.D0(1);for(var Y=0;Y<4;Y++){self.cm(b,j,Y);
if(Y<3)self.RT(j,s,G,H,B);else s=j;self.Dt(s,h,Y)}};e.g.L.GY=function(b,h,G){var self=e.g.L,H=self.Ps,B=self.CN,j=0;
for(var Y=0;Y<B;Y++){var s=Y*H,q=(Y-1)*H,Q=(Y+1)*H;if(q<0)q=s;if(Q>=B)Q=s;for(var a=0;a<H;a++){var l=a-1,U=a+1;
if(l<0)l=a;if(U>=H)U=a;var N=s+l,R=s+U,S=q+a,g=Q+a,i=s+a,y=b[N],o=b[R],v=b[S],Z=b[g],W=b[i],d=W+(W*4*G+.5);
d=d-((y+o+Z+v)*G+.5);h[j++]=self.xg(d)}}};e.g.L.kL=function(b,h,G){var self=e.g.L,H=self.D0(1),B=self.D0(1);
for(var Y=0;Y<4;Y++){self.cm(b,H,Y);if(Y<3)self.GY(H,B,G);else B=H;self.Dt(B,h,Y)}};e.g.L.aoQ=function(b,h,G){var self=e.g.L,H=self.Ps,B=self.CN,j=0,s=G+4;
for(var Y=0;Y<B;Y++){var q=Y*H,Q=(Y-1)*H,a=(Y+1)*H;if(Q<0)Q=q;if(a>=B)a=q;for(var l=0;l<H;l++){var U=l-1,N=l+1;
if(U<0)U=l;if(N>=H)N=l;var R=q+U<<2,S=q+N<<2,g=Q+l<<2,i=a+l<<2,y=q+l<<2;for(var o=0;o<3;o++){var v=b[R+o],Z=b[S+o],W=b[g+o],d=b[i+o],$=b[y+o];
h[j++]=($*G+v+Z+d+W)/s}h[j]=b[j];j++}}};e.g.L.a7v=function(b,h,G,H){var self=e.g.L,B=self.Ps,j=self.CN,s=G>>1,q=H>>1,Q=0,a=new Int32Array(G),l=new Int32Array(256);
for(var Y=0;Y<j;Y++){for(var U=0;U<256;U++){l[U]=0}for(var N=0;N<G;N++){for(var R=0,S=H;R<S;R++){var g=0-q+R,i=Y-s+N;
if(R==0){a[N]=g}if(g<0)g=0;else if(g>=B)g=B-1;if(i<0)i=0;else if(i>=j)i=j-1;l[b[i*B+g]]++}}var y=0,o=0;
for(var v=0;v<256;v++){if(y<l[v]){o=v;y=l[v]}}h[Q++]=o;for(var U=1;U<B;U++){for(var N=0;N<G;N++){var i=Y-s+N,Z=a[N]+1;
a[N]=Z;var W=Z-1,d=Z+H-1;if(i<0)i=0;else if(i>=j)i=j-1;if(W<0)W=0;else if(W>=B)W=B-1;if(d<0)d=0;else if(d>=B)d=B-1;
l[b[i*B+W]]--;l[b[i*B+d]]++}y=0;o=0;for(var v=0;v<256;v++){if(y<l[v]){o=v;y=l[v]}}h[Q++]=o}}};e.g.L.aBP=[function(b,h,G,H,B,j,s,q,Q,a){return B+(b+h+G)*a-(Q+q+s)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(h+G+j)*a-(q+s+H)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(G+j+Q)*a-(s+H+b)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(j+Q+q)*a-(H+b+h)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(Q+q+s)*a-(b+h+G)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(q+s+H)*a-(h+G+j)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(s+H+b)*a-(G+j+Q)*a},function(b,h,G,H,B,j,s,q,Q,a){return B+(H+b+h)*a-(j+Q+q)*a}];
e.g.L.w$=function(b,h,G,H,B){var self=e.g.L,j=self.Ps,s=self.CN,q=j,Q=self.aBP[H-1];for(var Y=0;Y<s;
Y++){var a=(Y>0?Y-1:0)*q,l=Y*q,U=(Y<s?Y+1:Y)*q;for(var N=0;N<j;N++){var R=N>0?N-1:0,S=N<j?N+1:N,g=l+N,i=b[a+R],y=b[a+N],o=b[a+S],v=b[l+R],Z=h[g],W=b[l+S],d=b[U+R],$=b[U+N],I=b[U+S];
G[g]=self.xg(Q(i,y,o,v,Z,W,d,$,I,B))}}};e.g.L.amP=function(b,h,G,H,B){var self=e.g.L,j=self.D0(1),s=self.D0(1),q=self.D0(1);
for(var Y=0;Y<3;Y++){self.cm(b,j,Y);self.cm(h,s,Y);self.w$(j,s,q,H,B);self.Dt(q,G,Y)}self.cm(h,j,3);
self.Dt(j,G,3)};e.g.L.sK=function(b,h){var G=b.length,H=0;for(var Y=0;Y<G;Y++){h[H++]=~~((b[Y++]+b[Y++]+b[Y++]+2)/3)}};
e.g.L.r5=function(b,h){var G=h.length,H=0;for(var Y=0;Y<G;Y++){var B=b[Y];h[H++]=B;h[H++]=B;h[H++]=B;
h[H++]=255}if(h[0]==255)h[0]--;else h[0]++};e.g.L.de=function(b,h){var G=h.length,H=0;for(var Y=0;Y<G;
Y++){var B=b[H++],j=b[H++],s=b[H++];H++;if(j>B)B=j;if(s>B)B=s;h[Y]=B}};e.g.L.vn=function(b,h){if(h==null)h=b;
var G=b.length;for(var H=0;H<G;H+=4){var B=b[H],j=b[H+1],s=b[H+2],q=B,Q=0,a=B,U;if(j<=B){B=j}else{Q=1;
a=j}if(s<=a){if(B>s){B=s}}else{Q=2;a=s}var l=a-B;if(l!=0){if(Q==0){U=~~(43*(j-s)/l)}else if(Q==1){U=~~(43*(s+2*l-q)/l)}else{U=43*(q+4*l-j)/l}if(U<0){U=255&U-1}h[H]=U;
h[H+1]=~~(255*l/a)}else{h[H]=l;h[H+1]=l}h[H+2]=a;h[H+3]=b[H+3]}};e.g.L.xr=function(b,h){if(h==null)h=b;
var G=b.length;for(var H=0;H<G;H+=4){var B=b[H],j=b[H+1],s=b[H+2];if(j){if(B==255)B=0;var q=~~(6*B/255),Q=~~(-255*q+6*B);
if(q==0){h[H]=s;h[H+1]=~~(s*(255-j*(255-Q)/255)/255);h[H+2]=~~(s*(255-j)/255)}else if(q==1){h[H]=~~(s*(255-j*Q/255)/255);
h[H+1]=s;h[H+2]=~~(s*(255-j)/255)}else if(q==2){h[H]=~~(s*(255-j)/255);h[H+1]=s;h[H+2]=~~(s*(255-j*(255-Q)/255)/255)}else if(q==3){h[H]=~~(s*(255-j)/255);
h[H+1]=~~(s*(255-j*Q/255)/255);h[H+2]=s}else if(q==4){h[H]=~~(s*(255-j*(255-Q)/255)/255);h[H+1]=~~(s*(255-j)/255);
h[H+2]=s}else{h[H]=s;h[H+1]=~~(s*(255-j)/255);h[H+2]=~~(s*(255-j*Q/255)/255)}}else{h[H]=s;h[H+1]=s;h[H+2]=s}h[H+3]=b[H+3]}};
e.g.L.Dt=function(b,h,G,H){if(G==null)G=2;if(H==null)H=4;var B=b.length;for(var Y=0;Y<B;Y++){h[G]=b[Y];
G+=H}};e.g.L.cm=function(b,h,G,H){if(G==null)G=2;if(H==null)H=4;var B=h.length;for(var Y=0;Y<B;Y++){h[Y]=b[G];
G+=H}};e.g.L.atS=function(b,h,G,H){if(H==null)H=1;var B=h.length,j=0,s;for(var j=0;j<B;j++){s=h[j];if(s){s*=H;
G[j]=~~((s*b[j]+(255-s)*G[j])/255)}}};e.g.L._A=function(b,h,G,H){if(H==null)H=G;var B=h.length,j=0,s,q;
for(var Y=0;Y<B;Y++){s=h[Y];if(s){q=255-s;H[j]=~~((s*b[j]+q*G[j])/255);H[j+1]=~~((s*b[j+1]+q*G[j+1])/255);
H[j+2]=~~((s*b[j+2]+q*G[j+2])/255)}H[j+3]=b[j+3];j+=4}};e.g.L.M4=function(b,h,G,H){var B=~~(H*255),j=G.length;
for(var Y=0;Y<j;Y++){G[Y]=((255-B*(255-b[Y])/255)*h[Y]+b[Y]*(B*(255-b[Y])/255))/255}};e.g.L.Lk=function(b,h,G,H){var B=~~(H*255),j=G.length;
for(var Y=0;Y<j;Y++){G[Y]=((255-B*b[Y]/255)*h[Y]+b[Y]*(B*b[Y]/255))/255}};e.g.L.I6=function(b,h,G){var H=h.length;
for(var Y=0;Y<H;Y++){h[Y]=~~(b[Y]*G+.5)+(h[Y]-~~(h[Y]*G+.5))}};e.g.L.sub=function(b,h){var G=b.length;
for(var Y=0;Y<G;Y++){h[Y]=Math.max(b[Y]-h[Y],0)}};e.g.L.add=function(b,h){var G=b.length;for(var Y=0;
Y<G;Y++){h[Y]=Math.min(b[Y]+h[Y],255)}};e.g.L.a4Q=function(b,h){var G=b.length;for(var Y=0;Y<G;Y++){h[Y]=b[Y]+h[Y]}};
e.g.L.xW=function(b,h){var G=b.length;for(var Y=0;Y<G;Y++){h[Y]=b[Y]+h[Y]>>1}};e.g.L.MI=function(b,h){var G=b.length;
for(var Y=0;Y<G;Y++){h[Y]=b[Y]}};e.g.L.U4=function(b,h){var G=b.length;for(var Y=0;Y<G;Y++){b[Y]=h[b[Y]]}};
e.g.L.a0m=function(b,h){var G=e.g.L._F;for(var Y=0;Y<G;Y+=4){var H=b[Y],B=b[Y+1],j=b[Y+2],s=H;if(B>H)s=B;
if(j>H)s=j;var q=h[s];if(q){b[Y]=~~(q*H/s);b[Y+1]=~~(q*B/s);b[Y+2]=~~(q*j/s)}else{b[Y]=q;b[Y+1]=q;b[Y+2]=q}}};
e.g.L.Ia=function(b,h){for(var Y=0,G=b.length;Y<G;Y++){b[Y]=Math.min(255,~~(.5+b[Y]*h))}};e.g.L.cT=function(b,h){for(var Y=0,G=b.length;
Y<G;Y++){b[Y]=255-Math.min(255,~~(.5+(255-b[Y])*h))}};e.g.L.Q6=function(b){var h=b.length;for(var Y=0;
Y<h;Y++){b[Y]=255-b[Y]}};e.g.L.sF=function(b,h,G,H){if(G==null)G=0;if(H==null)H=255;for(var Y=0,B=b.length;
Y<B;Y++){b[Y]=b[Y]>=h?H:G}};e.g.L.Gd=function(b){return[b>>24&255,b>>16&255,b>>8&255,b&255]};e.g.L.ayY=function(b,h,G,H){if(G==null)G=255;
if(H==null)H=4278190335;var B=e.g.L,j=B._F,s=B.Gd(G),q=B.Gd(H);for(var Y=0;Y<j;Y+=4){var Q=~~((b[Y]+b[Y+1]+b[Y+2]+2)/3);
if(Q>=h){b[Y]=s[0];b[Y+1]=s[1];b[Y+2]=s[2]}else{b[Y]=q[0];b[Y+1]=q[1];b[Y+2]=q[2]}}};e.g.L.rM=function(b,h){var G=e.g.L,H=G._F,B=G.Gd(h);
for(var Y=0;Y<H;){b[Y++]=B[0];b[Y++]=B[1];b[Y++]=B[2];b[Y++]=B[3]}};e.g.L.a94=function(b,h){var G=b.length;
for(var Y=0;Y<G;){b[Y++]=h}};e.g.L.al_=function(b,h){b=b>5?(100-Math.max(4,b))/100:.95;h=h!=100?Math.max(4,h)/100:.9995;
var G=new Uint8Array(256),H=h>.5?.5/(1-h):h*2,B=~~(H*256),j=~~((.5-b*H)*256)<<8;for(var Y=0;Y<256;Y++){G[Y]=e.g.L.xg(j>>8);
j+=B}return G};e.g.L.Y_=function(b){for(var Y=0,h=e.g.L,G=b.length;Y<G;Y++){b[Y]=~~(h.random()*256)}};
e.g.L.anp=function(b,h){for(var Y=0,G=e.g.L,H=b.length;Y<H;Y++){b[Y]=G.random()<h?255:0}};e.g.L.auf=function(b,h,G){for(var Y=0,H=e.g.L,B=b.length;
Y<B;Y++){if(H.random()<h)b[Y]=G}};e.g.L.ax$=function(b,h,G){var H=b.length;for(var Y=0;Y<H;Y++){b[Y]=e.g.L.xg(b[Y]+G[h[Y]])}};
e.g.L.GU=function(b){var h=new Uint32Array(256);for(var Y=0,G=b.length;Y<G;Y++)h[b[Y]]++;return h};e.g.L.agz=function(b,h){var G=0,H=0,B=new Uint32Array(256),j=new Float32Array(256);
for(var Y=0,s=b.length;Y<s;Y++){var q=b[Y],Q=h[Y];if(Q==255){B[q]++;G++}else if(Q>0){Q/=255;H+=Q;j[q]+=Q;
if(H>=1){H--;G++}if(j[q]>=1){j[q]--;B[q]++}}}return[G,B]};e.g.L.jI=function(b,h,G,H){var self=e.g.L,B,j,l=0,N=256;
if(H){var s=self.agz(G,H);B=s[1];j=s[0]/100}else{B=self.GU(G);j=self.Ho/100}var q=new Uint8Array(256),Q=j*b,a=j*h,U=-1;
do{l+=B[++U]}while(l<=Q);l=0;do{l+=B[--N]}while(l<=a);if(N-U<=0)N=U+1;if(N>255){N=255;U=254}var R=255/(N-U),S=-U;
for(var Y=0;Y<256;Y++){q[Y]=self.xg(R*S+.5);S++}return q};e.g.L.eW=function(b,h,G,H){var B=e.g.L;B.U4(b,B.jI(h,G,b,H))};
e.g.L.aea=function(b,h){var self=e.g.L,G=self.GU(b),H=self.Ho*h/100,B=0,j=-1;do{B+=G[++j]}while(B<=H);
return j};e.g.L.hw=function(b,h){var G=0,self=e.g.L,H=self.Ps,B=self.CN,j=1/Math.PI,s=j*255;for(var Y=0;
Y<B;Y++){var q=Y+1;if(q==B)q--;var Q=Y*H,a=~~((1-(Y+1)/B)*255);for(var l=0;l<H;l++){var U=l+1;if(U==H)U--;
var N=b[Q+l],R=b[Q+U],S=b[q*H+l];if(N-S==0){h[G++]=a}else{var g=N-S+255;if(g==255){g=0}else{g=~~(Math.atan2(1/(255-g),1)*s+.5);
if(g<0)g+=255}h[G++]=g}if(N-R==0){h[G++]=~~((1-(l+1)/H)*255)}else{var g=N-R+255;if(g==255){g=0}else{g=~~(Math.atan2(1/(255-g),1)*s+.5);
if(g<0)g+=255}h[G++]=g}}}};e.g.L.ahp=function(b,h){var self=e.g.L,G=self.Ps,H=self.CN,B=0;for(var Y=0;
Y<H;Y++){for(var j=0;j<G;j++){b[B]=~~(Y*h+.5)+~~(b[B]*(1-h)+.5);B++;b[B]=~~(j*h+.5)+~~(b[B]*(1-h)+.5);
B++}}};e.g.L.a5o=function(b,h,G,H){var self=e.g.L,B=self.Ps,j=self.CN,s=0;for(var Y=0;Y<j;Y++){for(var q=0;
q<B;q++){h[s]=~~(h[s]*(1-G)+.5)+~~(b[s]*H+.5);s++;h[s]=~~(h[s]*(1-G)+.5)+~~(b[s]*H+.5);s++}}};e.g.L.a8$=function(b,h,G){var self=e.g.L,H=self.Ps,B=self.CN,j=0,s=0;
for(var Y=0;Y<B;Y++){for(var q=0;q<H;q++){var Q=b[j++],a=b[j++];h[s++]=a%G>=2&&Q%G>=2?255:0}}};e.g.L.aCx=function(b,h,G,H,B,j,s){var self=e.g.L,q=self.Ps,Q=self.CN,a=0,l=0,U=0;
for(var Y=0;Y<Q;Y++){var N=Y%b<G||Q-G<=Y;for(var R=0;R<q;R++){s[a++]=N||R%h<H||q-H<=R?B:j}}};e.g.L.tl=function(b,h,G,H){var self=e.g.L,B=self.Ps,j=self.CN,s=hn.tl(h),q=s[1],Q=s[0].j,a=s[0]._,l=100/G;
for(var U=0;U<j;U++)for(var N=0;N<B;N++){var R=e.t.Hp(N*l,U*l,q,Q,a);b[U*B+N]=H?255-R:R}};e.g.L.xg=function(b){return~~Math.min(255,Math.max(0,b))};
e.g.L.aAd=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];e.g.L.a7x=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
e.g.L.SC=function(b){return b>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][b-41]:b/40};e.g.L.a7d=function(b,h,G){var self=e.g.L,H=self.Ps,B=self.CN,j=G,s=G>>1,q=s-1,Q=j*j,a=0;
for(var Y=0;Y<B;Y++){var l=0,U=0,N=0,R=~~(Y/G)*G,S=0;for(var g=0;g<j;g++){for(var i=0;i<j;i++){var y=S+i,o=R+g;
if(y>=H)y=H-1;if(o>=B)o=B-1;l+=b[o*H+y<<2];U+=b[(o*H+y<<2)+1];N+=b[(o*H+y<<2)+2]}}var v=~~(l/Q),Z=~~(U/Q),W=~~(N/Q);
h[a]=v;h[a+1]=Z;h[a+2]=W;h[a+3]=b[a+3];a+=4;for(var d=1;d<H;d++){for(var g=0;g<j;g++){var $=d-1,I=$+j,o=R+g;
if(I>=H)I=H-1;if(o>=B)o=B-1;var k=o*H,_=k+I<<2,D=k+$<<2;l+=b[_]-b[D];U+=b[_+1]-b[D+1];N+=b[_+2]-b[D+2]}if(d%G==0){v=~~(l/Q);
Z=~~(U/Q);W=~~(N/Q)}h[a]=v;h[a+1]=Z;h[a+2]=W;h[a+3]=b[a+3];a+=4}}};e.g.L.af9=function(b,h,G,H,B){var self=e.g.L,j=self.Ps,s=self.CN,q=0,Q=0,a=0,l=0;
for(var Y=l;Y<s+l;Y++){var U=Y%h>=H||Y<H||s+l-H<=Y;for(var N=0;N<j;N++){b[q++]=U&&(N%G>=B||N<B||j-B<=N)?255:0}}};
e.g.L.azN=function(b,h,G){var H=function(a,l){return l<=a?a/l&1?l-a%l:a%l:a},B=[function(q,Q){return H(q,255)/255},function(q,Q){return(255+H(q,255)-H(Q,255))/510},function(q,Q){return(255-H(Q,255))/255},function(q,Q){return(510-H(q,255)-H(Q,255))/510},function(q,Q){return(255-H(q,255))/255},function(q,Q){return(255-H(q,255)+H(Q,255))/510},function(q,Q){return H(Q,255)/255},function(q,Q){return(H(q,255)+H(Q,255))/510}][G],j=0,s=0;
for(var Y=0;Y<e.g.L.Ho;Y++){var q=b[j++],Q=b[j++];h[s++]=~~(255*B(q,Q))}};e.g.a1n=function(){var b=[],h=new Uint8Array(512),G=new Float32Array(512),H=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],j=[1,1,-1,-1,0,0,1,-1],s=0,q,S=0;
for(;s<256;s++)b[s]=s;while(s!=0){s--;q=Math.floor(Math.random()*s);b[q]^=b[s]^(b[s]=b[q])}function Q(Q){Q=Math.floor(Q*65536);
if(Q<256){Q|=Q<<8}for(var Y=0;Y<256;Y++){var y=Y+256,o=b[Y]^(Y&1?Q:Q>>8)&255;h[Y]=h[y]=o;o=o%8;G[Y]=G[y]=B[o];
H[Y]=H[y]=j[o]}}function a(y){return y*y*y*(y*(y*6-15)+10)}function l(y,o,v){return(1-v)*y+v*o}function U(y,o){return y&o}function N(y,o){return y%o}function R(y,o,v,Z,W){var d=Math.floor(y),$=Math.floor(o),s,I,k,_,D,A;
y=y-d;o=o-$;d=d&255;$=$&255;s=d+h[$];_=G[s]*y+H[s]*o;s=d+h[W($+1,Z)];k=G[s]*y+H[s]*(o-1);s=W(d+1,v)+h[$];
D=G[s]*(y-1)+H[s]*o;s=W(d+1,v)+h[W($+1,Z)];A=G[s]*(y-1)+H[s]*(o-1);I=a(y);return l(l(_,D,I),l(k,A,I),a(o))}function g(y,s,o){y[s]=o}function i(y,o,v,Z,W){var d=Math.min(Math.min(o,256),Math.min(256,v)),$=d==256||d<8,I=8,k=new Uint32Array(I),_=new Uint32Array(I),D=new Float32Array(I),A=new Float32Array(I),F=1,K=1,V=$?U:N,r=g,c;
for(var Y=0;Y<I;Y++){c=K*1/d;if($){_[Y]=(1<<Math.ceil(Math.log2(v*c)))-1;k[Y]=(1<<Math.ceil(Math.log2(o*c)))-1}else{_[Y]=c*v;
k[Y]=c*o}D[Y]=F;A[Y]=c;F*=.5;K=K<<1}Q(Math.random());for(var x=0,s=0;x<v;x++){for(var X=0;X<o;X++){var M=0;
for(var f=0;f<I;f++){c=A[f];M+=R(X*c,x*c,k[f],_[f],V)*D[f]}r(Z,s++,Math.round(Math.max(0,255*Math.min(1,.5+M*.5))))}}}return i}();
e.g.acq=function(){function b(h,G,H,B){var j=new Uint8Array(h.length>>>2),s=new Uint8Array(h.length>>>2),q=new Uint8Array(h.length);
for(var Y=0;Y<h.length;Y+=4){var Q=h[Y+0]*.3+h[Y+1]*.59+h[Y+2]*.11;s[Y>>>2]=Q;q[Y]=h[Y];q[Y+1]=h[Y+1];
q[Y+2]=h[Y+2]}e.aU.awQ(s,j,G,H);e.aU.c_(h,B,G,H,e.aU.UP[1],0,!0);for(var Y=0;Y<h.length;Y+=4){q[Y+3]=255-j[Y>>>2]}for(var Y=0,a=h.length;
Y<a;Y+=4){var l=q[Y+3]/255;B[Y]=q[Y]*l+B[Y]*(1-l);B[Y+1]=q[Y+1]*l+B[Y+1]*(1-l);B[Y+2]=q[Y+2]*l+B[Y+2]*(1-l)}}return b}();
e.g.ar2=function(){function b(j,s,q,Q,a){var l=new Uint32Array(j.buffer),U=0;for(var Y=0;Y<q;Y++){for(var N=0;
N<s;N++,U+=4){var R=l[Y*s+N],S=R&255,g=R>>>8&255,i=R>>>16&255,y=R>>>24&255,o=~~(Math.random()*8),v=o%3,Z=0,W=0;
if(o<3){W--}else if(o>4){W++}if(v==0){Z--}else if(v==2){Z++}var d=N+Z,$=Y+W;if(d<0)d=0;else if(d>s-1)d=s-1;
if($<0)$=0;else if($>q-1)$=q-1;var R=l[$*s+d],I=R&255,k=R>>>8&255,_=R>>>16&255,D=R>>>24&255;Q[U]=a(S,I);
Q[U+1]=a(g,k);Q[U+2]=a(i,_);Q[U+3]=a(y,D)}}}function h(j,s){return s}function G(j,s){return j>s?s:j}function H(j,s){return j<s?s:j}function B(j,s,q,Q,a){var l=a[0];
if(l==0)b(j,s,q,Q,h);else if(l==1)b(j,s,q,Q,G);else if(l==2)b(j,s,q,Q,H);else if(l==3){console.error("Not implemented")}else console.error("Mew mew")}return B}();
e.g.alo=function(){function b(h,G,H,B,j){var s=j&&j[0]?j[0]:4,q,Q,a,l,U,N,R;for(var Y=0;Y<H;Y++){var S=Math.max(Y-s,0),g=Math.min(Y+s,H-1);
for(var i=0;i<G;i++){var y=Math.max(i-s,0),o=Math.min(i+s,G-1);q=S*G+y<<2;l=h[q];U=h[q+1];N=h[q+2];R=h[q+3];
q=S*G+o<<2;l+=h[q];U+=h[q+1];N+=h[q+2];R+=h[q+3];q=g*G+y<<2;l+=h[q];U+=h[q+1];N+=h[q+2];R+=h[q+3];q=g*G+o<<2;
l+=h[q];U+=h[q+1];N+=h[q+2];R+=h[q+3];q=Y*G+i<<2;B[q]=l+2>>>2;B[q+1]=U+2>>>2;B[q+2]=N+2>>>2;B[q+3]=R+2>>>2}}}return b}();
e.g.aD3=function(){function b(h,G,H,B){var j=new Uint8Array(h.length),s=new Uint8Array(h.length>>>2),q=new Uint8Array(h.length>>>2);
e.aU.c_(h,j,G,H,e.aU.UP[2],0,!0);for(var Y=0;Y<h.length;Y+=4){var Q=j[Y+0]*.3+j[Y+1]*.59+j[Y+2]*.11;
s[Y>>>2]=Q;B[Y+0]=h[Y+0];B[Y+1]=h[Y+1];B[Y+2]=h[Y+2];B[Y+3]=h[Y+3]}e.aU.awQ(s,q,G,H);for(var Y=0;Y<h.length;
Y+=4){j[Y+3]=~~(Math.max(0,255-q[Y>>>2]-50)*(255/205))}for(var Y=0,a=h.length;Y<a;Y+=4){var l=j[Y+3]/255;
B[Y]=j[Y]*l+B[Y]*(1-l);B[Y+1]=j[Y+1]*l+B[Y+1]*(1-l);B[Y+2]=j[Y+2]*l+B[Y+2]*(1-l)}}return b}();e.g.ut=function(){function b(o,v){return o[v]+o[v+1]+o[v+2]+o[v+3]}function h(o,v){return o[v]+o[v+1]+o[v+2]+2*o[v+3]}function G(o,v,Z,W){o[v]=Z[W];
o[v+1]=Z[W+1];o[v+2]=Z[W+2];o[v+3]=Z[W+3]}function H(o,v,Z){o[v]=o[Z];o[v+1]=o[Z+1];o[v+2]=o[Z+2];o[v+3]=o[Z+3]}function B(o,v,Z){o[Z]=v[Z];
o[Z+1]=v[Z+1];o[Z+2]=v[Z+2];o[Z+3]=255-v[Z+3]}function j(o){for(var Y=0,v=o.length;Y<v;Y+=4){o[Y+3]=255-o[Y+3]}}function s(){var o=Math.random();
if(o>.5)return 0;if(o>.25)return 1;if(o>.1)return 2;if(o>.02143)return 3;if(o>.00445)return 4;if(o>65e-5)return 5;
if(o>415e-6)return 6;if(o>55e-6)return 7;return 8}function q(o,v,Z,W,d,$){o[v]=Z[W]+(d[$]-Z[W]>>1);o[v+1]=Z[W+1]+(d[$+1]-Z[W+1]>>1);
o[v+2]=Z[W+2]+(d[$+2]-Z[W+2]>>1);o[v+3]=Z[W+3]+(d[$+3]-Z[W+3]>>1)}function Q(o,v,Z,W,d,$){o[v]=d[$]+Z[W]>>1;
o[v+1]=d[$+1]+Z[W+1]>>1;o[v+2]=d[$+2]+Z[W+2]>>1;o[v+3]=d[$+3]+Z[W+3]>>1}function a(o,v,Z,W,d,$,I,k,_){var D=0,A=0,F=0,Y,K=d[$],V;
q(k,0,o,v,o,Z);for(Y=0;Y<K;Y++){q(k,(Y+1)*4,k,Y*4,o,Z)}A=(K+1)*4;F+=K;$--;G(o,v,k,A-4);W[$]=b(o,v);v-=_;
while($>0&&W[$-1]<W[$]){V=k;k=I;I=V;D=A;Q(k,0,o,v-_,I,0);for(Y=4;Y<D;Y+=4){Q(k,Y,k,Y-4,I,Y)}K=d[$];for(Y=F;
Y<K;Y++){q(k,A,k,A-4,I,D-4);A+=4;F++}$--;G(o,v,k,A-4);W[$]=b(o,v);v-=_}}function l(o,v,Z,W,d){var $=v*4,I=0,k,_,D=new Uint8Array(v+1),A=new Uint8Array(10*4),F=new Uint8Array(10*4);
for(var Y=0;Y<Z;Y++){B(W,o,I);d[0]=b(W,I);D[0]=s();k=I;I+=4;for(var K=1;K<v;K++){B(W,o,I);d[K]=b(W,I);
_=s();D[K]=_;if(d[K-1]<d[K]&&_>0){a(W,I-4,I,d,D,K,A,F,4)}I+=4}d[v]=d[0];D[v]=D[0];if(d[v-1]<d[v]&&_>0){a(W,I,k,d,D,v,A,F,4)}}j(W)}function U(){var o=Math.random();
if(o>.659755)return 0;if(o>.1625)return 10;if(o>.06)return 20;if(o>.01)return 30;if(o>.0035)return 40;
if(o>65e-5)return 50;if(o>415e-6)return 60;if(o>55e-6)return 70;return 80}function N(o,v,Z,W,d,$){var I=U()+1,k=W[d];
for(var Y=1;Y<I;Y++){if(0>d)break;if(W[d-Y]<k){H(o,v,Z)}else{break}v+=$}}function R(o,v,Z,W,d){var $=v*4,I=0;
for(var Y=0;Y<Z;Y++){B(W,o,I);d[0]=b(W,I);I+=4;for(var k=1;k<v;k++){B(W,o,I);d[k]=b(o,I);if(d[k-1]<d[k]){N(W,I-4,I,d,k,-4)}I+=4}d[v]=d[0];
if(d[k-1]<d[k]){N(W,I-4,I-$,d,k,-4)}}j(W)}function S(o,v,Z,W,d,$){var I=1,k,_,D=new Uint8Array(4),A,F=v;
while(Math.random()<1/I){F=v;if(W<=1)break;k=Z[W];_=Z[W-1];if(k<=_)break;G(D,0,o,F-$);A=!0;for(var Y=W;
Y<d;Y++){if(_>Z[Y]){G(o,F-$,D,0);Z[Y-1]=_;A=!1;break}G(o,F-$,o,F);Z[Y-1]=Z[Y];F+=$}if(A){G(o,F-$,D,0);
Z[d-1]=_}I++;W--;v-=$}}function g(o,v,Z,W,d){var $=0,I=0,k=v*4;for(var Y=0;Y<Z;Y++){I=$;for(var _=0;
_<v;_++){B(W,o,$);d[_]=h(W,$);$+=4}$=I;for(var _=1;_<v;_++){if(d[_-1]<d[_]&&Math.random()<.66){S(W,$+4,d,_,v,4)}$+=4}$+=4}j(W)}function i(o,v,Z,W,d){var $=d[0],I=d[1],k=new Uint16Array(v+1),_=o,D=W,A;
if(I){A=W.slice(0);y(o,W,v,Z);_=W;D=A}if($==0)l(_,v,Z,D,k);else if($==1)R(_,v,Z,D,k);else if($==2)g(_,v,Z,D,k);
if(I){y(A,W,v,Z)}}function y(o,v,Z,W){for(var d=0;d<W;d++)for(var $=0;$<Z;$++){var I=d*Z+$<<2,k=d*Z+(Z-1-$)<<2;
v[k]=o[I];v[k+1]=o[I+1];v[k+2]=o[I+2];v[k+3]=o[I+3]}}return i}();e.g.ans=function(b,h,G,H,B){var j=e.g.L,s=1,i=0,v=0;
j.TR(h,G);j.LW(B[2]);var q=3<<13,Q=Math.PI/2.43,a=Q/256,l=Math.PI*2/256;function U(){var $=j.random()*256,I=j.random()*256;
return s*~~(Math.tan(Q-$*a)*325*Math.cos(I*l)*256)+q>>16}s=B[0];var N=B[1],R=(N+2)/2,S=j.random()*255,g=j.D0(1);
for(var Y=0;Y<G;Y++){var y=j.xg(U()+S);for(var o=0;o<h;o++){y=j.xg(U()+y);g[i++]=y}}i=h;for(var Y=1;
Y<G;Y++){var Z=j.xg(U()+g[v++]);g[i++]=Z;for(var o=1;o<h;o++){var W=v+1;if(o+1==h){W--}var d=(R+Z+g[W]+g[v]*N)/(N+2);
Z=j.xg(U()+d);g[i++]=Z;v++}}j.r5(g,H)};var ai=function(){function b(L){L=L^61^L>>>16;L=L+(L<<3);L=L^L>>>4;
L=L*668265261;L=L^L>>>15;return L}var h=function(){var h=function(L){if(L){this.G=L}this.G=b(this.G);
return(this.G&16777215)*(1/16777215)};return h};function G(L,P){if(P==null){P=[0,0]}return Math.sqrt((P[0]-L[0])*(P[0]-L[0])+(P[1]-L[1])*(P[1]-L[1]))}function H(L,P){if(P==null){P=[0,0]}return[-(P[1]-L[1])/G(L,P),(P[0]-L[0])/G(L,P)]}function B(L){return[Math.cos(L),Math.sin(L)]}function j(L){var P=G(L,[0,0]),z=[L[0]/P,L[1]/P],T=Math.atan(z[1]/z[0]);
if(z[0]>0&&z[1]<0){T+=2*Math.PI}else if(z[0]<0&&z[1]<0){T+=Math.PI}else if(z[0]<0&&z[1]>0){T+=Math.PI}return T}function s(L){var s=0;
for(var Y=1;Y<L.length/2;++Y){s+=G([L[2*Y],L[2*Y+1]],[L[2*(Y-1)],L[2*(Y-1)+1]])}return s}function q(L,P,z){var T=new Float32Array(L.length),p=1/(L.length/2),m=W(z);
for(var Y=0;Y<L.length/2;++Y){var O=Y*p,cb=O/2+.5,cX=1,e$=0;if(z.shape==2){cX=1/(2*cb)}if(z.shape==3){cb=(1-O)/2+.5;
cX=1/(2*cb)+.5}if(z.shape==4){cb=O;cX=Math.sin(3/2*Math.PI*cb)/4+1}if(z.shape==5){cb=(O-.5)*6;cX=(-Math.atan(cb)/1.25+1)/5+.6-.2*O}var fz=[null,null];
if(Y==0){fz=H([L[2*Y],L[2*Y+1]],[L[2*(Y+1)],L[2*(Y+1)+1]])}else if(Y==L.length/2-1){fz=H([L[2*(Y-1)],L[2*(Y-1)+1]],[L[2*Y],L[2*Y+1]])}else{fz=H([L[2*(Y-1)],L[2*(Y-1)+1]],[L[2*(Y+1)],L[2*(Y+1)+1]])}T[2*Y]=L[2*Y]+(cX*P+e$)*fz[0];
T[2*Y+1]=L[2*Y+1]+(cX*P+e$)*fz[1];if(z.style==2){T[2*Y]+=d(2*Y/T.length,m,z)}}return T}function Q(L,P,z){var T=new Float32Array(L.length),p=1/(L.length/2);
for(var Y=0;Y<L.length/2;++Y){var m=Y*p,O=[null,null],cb=.6*z.MV*k(m,P.au7)*z.gn/100,cX=.6*z.MV*k(m,P.auS)*z.gn/100,e$=P.a1s*cb+(1-P.a1s)*cX;
if(Y==0){O=H([L[2*Y],L[2*Y+1]],[L[2*(Y+1)],L[2*(Y+1)+1]])}else if(Y==L.length/2-1){O=H([L[2*(Y-1)],L[2*(Y-1)+1]],[L[2*Y],L[2*Y+1]])}else{O=H([L[2*(Y-1)],L[2*(Y-1)+1]],[L[2*(Y+1)],L[2*(Y+1)+1]])}T[2*Y]=L[2*Y]+e$*O[0];
T[2*Y+1]=L[2*Y+1]+e$*O[1]}return T}function a(L){if(L.Gu==1){return[.150684932,.205479452,.465753425,.178082192]}else if(L.Gu==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var P=[],z=1/(F(L)-1);
for(var Y=0;Y<F(L)-1;++Y){P.push(z)}return P}}function l(L,P,z){var T=[],p=P-L,m=L;for(var Y=0;Y<z.length-1;
++Y){T.push(m+z[Y]*p);m=T[Y]}return T}function U(L,P,z,T){var p=new Float32Array(z.length),m=0,O={shape:Math.floor(T.random()*2.99),atU:T.random()*.1+.15};
for(var Y=0;Y<z.length-1;++Y){var cb=m+z[Y];p[Y]=((1-cb)*L+cb*P)*y(T,cb,O);m=cb}return p}function N(L,P,z,T){var p=D(T),m=T.random(),O=m*20+(1-m)*26,cb=new Float32Array(z.length),cX=0;
for(var Y=0;Y<z.length-1;++Y){var e$=cX+z[Y];cb[Y]=(1-e$)*L+e$*P+p/O*(2/3*Math.sin(Math.PI*e$)+1/3*Math.sqrt(Math.sin(Math.PI*e$)));
cX=e$}return cb}function R(L,P,z){var T=[];for(var Y=0;Y<P.length-1;++Y){T.push(P[Y].slice());var p=Y*(F(z)-1),m=(Y+1)*(F(z)-1),O=L[m]-L[p];
for(var cb=p+1;cb<m;++cb){var cX=W(z),e$=new Float32Array(P[0].length),fz=(L[cb]-L[p])/O;for(var eC=0;
eC<P[0].length/2;++eC){e$[2*eC]=(1-fz)*P[Y][2*eC]+fz*P[Y+1][2*eC];e$[2*eC+1]=(1-fz)*P[Y][2*eC+1]+fz*P[Y+1][2*eC+1];
if(z.style==2){e$[2*eC]+=d(2*eC/P[0].length,cX,z)}}T.push(e$)}}T.push(P[P.length-1]);return T}function S(L,P,z){var T=new Array(P.length),p=M(L),O=null;
for(var Y=0;Y<P.length;++Y){T[Y]=q(p,(P[Y]-.5)*z.gn,z)}var m=1+.05*z.arg*D(z)/D({Gu:1});for(var Y=0;
Y<P.length;++Y){if(P[Y]==0){O=Y}}for(var Y=0;Y<P.length;++Y){var cb=(z.random()-.5)*2,cX=Math.round(z.random()*9+1),e$=new Float32Array(cX*2+2);
for(var fz=0;fz<=cX;++fz){e$[2*fz]=T[Y][0]-(T[Y][2*fz]-T[Y][0]);e$[2*fz+1]=T[Y][1]-(T[Y][2*fz+1]-T[Y][1])}if(Y==O){cb*=.1}for(var fz=(T[Y].length-1)/2;
fz>cX;--fz){T[Y][2*fz]=(1-cb)*T[Y][2*fz]+cb*(T[Y][2*(fz-cX)]+m*(T[Y][2*fz]-T[Y][2*(fz-cX)]));T[Y][2*fz+1]=(1-cb)*T[Y][2*fz+1]+cb*(T[Y][2*(fz-cX)+1]+m*(T[Y][2*fz+1]-T[Y][2*(fz-cX)+1]))}for(var fz=cX-1;
fz>=0;--fz){T[Y][2*fz]=(1-cb)*T[Y][2*fz]+cb*(e$[2*(cX-fz)]+m*(T[Y][2*fz]-e$[2*(cX-fz)]));T[Y][2*fz+1]=(1-cb)*T[Y][2*fz+1]+cb*(e$[2*(cX-fz)+1]+m*(T[Y][2*fz+1]-e$[2*(cX-fz)+1]))}}var eC=I(P,z);
if(z.MV>0){var hw=0;for(var Y=0;Y<P.length;++Y){if(Y==0){hw+=P[Y]}else{hw+=Math.abs(P[Y]-P[Y-1])}var az=hw-Math.floor(hw),av=1;
if(az==0){av=0}T[Y]=Q(T[Y],{au7:eC[Math.floor(hw)],auS:eC[Math.floor(hw)+av],a1s:az},z)}}return T}function g(L,P){var z=r(P,L),T=c(P,L),p=[],m=[],O=[],cb=a(L);
for(var Y=0;Y<P.length-1;++Y){p.push(P[Y]);m.push(z[Y]);O.push(T[Y]);var cX=l(P[Y],P[Y+1],cb),e$=U(z[Y],z[Y+1],cb,L),fz=N(T[Y],T[Y+1],cb,L);
for(var eC=0;eC<cX.length;++eC){p.push(cX[eC]);m.push(e$[eC]);O.push(fz[eC])}}p.push(P[P.length-1]);
m.push(z[z.length-1]);O.push(T[T.length-1]);return{anf:p,a8i:m,xt:O}}function i(L,P,z,T){var p=new Float32Array(2*T),m=L.length/2,O=m-P,cb=z*O,cX=cb/T;
for(var Y=0;Y<T;++Y){var e$=Math.floor(P+Y*cX),fz=Math.ceil(P+Y*cX),z=P+Y*cX,eC=fz-e$,hw=1,az=0;if(eC!=0){hw=(fz-z)/eC;
az=(z-e$)/eC}p[2*Y]=hw*L[2*e$]+az*L[2*fz];p[2*Y+1]=hw*L[2*e$+1]+az*L[2*fz+1]}return p}function y(L,P,z){var T=z.atU,p=P*2*Math.PI,m=p,O=0;
if(z.shape==0){O=(Math.sin(2*m+Math.PI/2)+1)/2}else if(z.shape==1){O=(Math.sin(m+Math.PI/2)+1)/2}else{O=(4*Math.sin(3/4*m+Math.PI)+Math.sin(Math.PI/2+2*m)-2*m/Math.PI+6)/7}return Math.min(1,1-T+T*O)}function o(L,P,z,T){var p=[];
for(var Y=0;Y<L.length;++Y){p.push(i(L[Y],P[Y],z[Y],T))}return p}function v(L,P,z){var T=[];for(var Y=0;
Y<L.length;++Y){var p=B(2*Math.PI*z.random()),m=B(2*Math.PI*z.random()),O=z.eg*.5*K({Gu:1})/K(z),cb=O*z.gn/200,cX=O*P/500,e$=new Float32Array(L[0].length);
for(var fz=0;fz<L[0].length/2;++fz){var eC=B(2*Math.PI*z.random()),hw=2*fz/L[0].length;e$[2*fz]=L[Y][2*fz]+cb*(eC[0]+((1-hw)*p[0]+hw*m[0]));
e$[2*fz+1]=L[Y][2*fz+1]+cX*(eC[1]+((1-hw)*p[1]+hw*m[1]))}T.push(e$)}return T}function Z(L,P,z){var T=z.SK,p=2/T,m=[1/10,1/30,1/40,1/45,1/100],O=m[z.Gu-1],cb=4*(z.opacity/25*p*O)*(1-z.eg/150),eC=0,az=0;
if(z.style==3){return cb*.09}var cX=2.2*(L-.5),e$=cX*cX*cX*cX+.27+Math.max(0,(z.opacity-50)/15),fz=2*(Math.sin(3*Math.PI*P)/(Math.PI*P+2)+1.1)-P/2;
P=2*P;if(P<.41){var hw=2*Math.PI*P/.41;eC=(Math.sin(hw-Math.PI/2)+1)/4+.5}else if(P<.77){var hw=2*Math.PI*(P-.41)/.36;
eC=(Math.sin(hw-Math.PI/2)+1)/4+.5-hw/2/Math.PI*.5}else{var hw=2*Math.PI*(P-.77)/.23;eC=(Math.sin(hw-Math.PI/2)+1)/2*.12}eC*=3;
eC+=Math.max(0,(z.opacity-50)/15);if(z.type==6){az=fz}else{az=eC}return cb*e$*az}function W(L){return{p:L.random()*7/2+.5,ge:L.random()*2*Math.PI}}function d(L,P,z){return z.gn/300*F({Gu:1})/F(z)*10*(Math.sin(P.p*2*Math.PI*L+P.ge)+10*(z.random()-.5))}function $(L){var P=Math.exp(-L.MV/25);
return{p:L.random()*3/2+.5,ge:L.random()*2*Math.PI,ew:(L.random()-.5)*10*P}}function I(L,P){var z=Math.ceil(x(L)),T=[];
for(var Y=0;Y<=z;++Y){T.push($(P))}return T}function k(L,P){var z=P.p*4*Math.PI*L+P.ge;return Math.exp(-1/2*Math.PI*L)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)+L*P.ew-P.ew/4}function _(L,P,z,T,p){var m=0,O=K(P)-1;
for(var Y=0;Y<O;++Y){for(var cb=0;cb<L.length-1;cb+=F(P)-1){for(var cX=Y;cX<L[0].length/2-O;cX+=O){for(var e$=cb;
e$<cb+(F(P)-1);++e$){z[p+m]=Z(e$*(P.SK-1)/(L.length-1)%1,cX/L[0].length,P);var fz=0,eC=0;if(P.type==6&&e$!=0&&e$!=L.length-1){eC=(L[e$][2*(cX+1)+1]-L[e$][2*cX+1])/2;
fz=(L[e$][2*(cX+1)]-L[e$][2*cX])/2}T[8*p+8*m]=L[e$][2*cX]+fz;T[8*p+8*m+1]=L[e$][2*cX+1]+eC;T[8*p+8*m+2]=L[e$][2*(cX+O)]+fz;
T[8*p+8*m+3]=L[e$][2*(cX+O)+1]+eC;T[8*p+8*m+4]=L[e$+1][2*(cX+O)];T[8*p+8*m+5]=L[e$+1][2*(cX+O)+1];T[8*p+8*m+6]=L[e$+1][2*cX];
T[8*p+8*m+7]=L[e$+1][2*cX+1];++m}}}}}function D(L){var P=[100,300,500,700,1e3];return P[L.Gu-1]}function A(L){var P=[30,70,100,140,300];
return P[L.Gu-1]}function F(L){var P=[5,7,26,40,100];return P[L.Gu-1]}function K(L){if(L.Gu==1){return 4}else if(L.Gu==2){return 8}else{return Math.floor(A(L)/9)}}function V(L){var P=L.SK,z=new Float32Array(P),T=null;
for(var Y=0;Y<P;++Y){z[Y]=L.random()}if(L.SK<=3){z[0]=0;z[L.SK-1]=1}else{for(var Y=0;Y<2;++Y){var p=Math.floor(L.random()*P);
if(T==null||T!=p){z[p]=Y;T=p}else{z[p+1]=Y}}}return z}function r(L,P){var z=[],T=.2,m=0;for(var Y=0;
Y<L.length;++Y){var p=P.random()*(1-T)+T;z.push(p)}var O=Math.min(3,P.SK);for(var Y=0;Y<L.length;++Y){if(z[Y]>.9){++m}}while(m<O){var cb=Math.floor(P.random()*L.length);
if(z[cb]<=.9){z[cb]=.9+.1*P.random();++m}}return z}function c(L,P){var z=D(P),T=D({Gu:1}),p=[];for(var Y=0;
Y<L.length;++Y){p.push(Math.max(1,(P.random()*10+2)*z/T))}return p}function x(L){var P=0;for(var Y=0;
Y<L.length;++Y){if(Y==0){P+=L[Y]}else{P+=Math.abs(L[Y]-L[Y-1])}}return P}function X(L,P){if(L.length/2-1==D(P)){return L}var z=new Float32Array(2*(D(P)+1)),T=(L.length-2)/(z.length-2);
for(var Y=0;Y<z.length/2;++Y){var p=Y*T,m=Math.floor(p),O=Math.ceil(p),cb=O-m,cX=1,e$=0;if(cb!=0){cX=(O-p)/cb;
e$=(p-m)/cb}z[2*Y]=cX*L[2*m]+e$*L[2*O];z[2*Y+1]=cX*L[2*m+1]+e$*L[2*O+1]}return z}function M(L,P){var z=L.length/2,T=s(L),p=T/z,m=!1,cX=0,e$=0,fz=1;
if(P){var O=Math.floor(T/P.a7w),cb=P.a7w;if(P.arI&&L[0]==L[L.length-2]&&L[1]==L[L.length-1]){m=!0;cb=T/(O+1)}if(P.type==2&&!m&&cb*O+P.length>T){z=O+1}else{z=O+2}p=cb}var eC=new Float32Array(z*2);
eC[0]=L[0];eC[1]=L[1];for(var Y=1;Y<z;++Y){while(cX<=Y*p){e$=cX;cX+=G([L[2*fz],L[2*fz+1]],[L[2*(fz-1)],L[2*(fz-1)+1]]);
++fz}var hw=1-(Y*p-e$)/(cX-e$);eC[2*Y]=(1-hw)*L[2*fz]+hw*L[2*(fz-1)];eC[2*Y+1]=(1-hw)*L[2*fz+1]+hw*L[2*(fz-1)+1]}eC[eC.length-2]=L[L.length-2];
eC[eC.length-1]=L[L.length-1];return eC}function f(L,P){var z=M(L,P),T=[];for(var Y=0;Y<(z.length-2)/2;
++Y){var p=[];p.push(z[2*Y]);p.push(z[2*Y+1]);var m=G([z[2*(Y+1)],z[2*(Y+1)+1]],[z[2*Y],z[2*Y+1]]),O=[(z[2*(Y+1)]-z[2*Y])/m,(z[2*(Y+1)+1]-z[2*Y+1])/m],cb=B((P.axN-90)/360*2*Math.PI),cX=O;
if(P.type==3){cX=cb}else if(P.type==4){cX=B(j(O)+j(cb))}else if(P.type==5){cX=B(((P.random()-.5)*P.axN-90)/360*2*Math.PI)}var e$=P.length;
if(P.af1){e$=2*P.random()*P.length}p.push(z[2*Y]+cX[0]*e$);p.push(z[2*Y+1]+cX[1]*e$);T.push(p)}return T}function t(L){if(L.aCG){L.Xq=100*Math.random()}else{L.Xq=L.a1_}L.random=new h;
L.random(L.Xq);if(L.type==6){L.SK=2;L.shape=5;L.arg=0}}function n(L,P){L=X(L,P);var z=[L],e$=0;if(P.type>=2&&P.type<6){z=f(L,P)}var T=K(P)-1,p=A(P)-T,m=(P.SK-1)*(F(P)-1),O=z.length*p*m,cb=new Float32Array(O),cX=new Float32Array(8*O);
for(var Y=0;Y<z.length;++Y){for(var fz=0;fz<1e4;++fz){P.Xq=b(P.Xq)}P.random(P.Xq);var L=X(z[Y],P),eC=V(P),hw=x(eC),az=S(L,eC,P),av=g(P,eC),ia=R(av.anf,az,P);
ia=o(ia,av.xt,av.a8i,A(P));if(P.eg>0){ia=v(ia,s(z[Y]),P)}_(ia,P,cb,cX,e$);e$+=p*m}return[cb,cX]}var ai=function(L){var P=performance.now(),z=L[0],T=L[1];
t(T);var p=[new Float32Array(0),new Float32Array(0)];for(var Y=0;Y<z.length;++Y){T.Xq=b(T.Xq);var m=n(z[Y],T),O=new Float32Array(p[0].length+m[0].length),cb=new Float32Array(p[1].length+m[1].length);
O.set(p[0]);O.set(m[0],p[0].length);p[0]=O;cb.set(p[1]);cb.set(m[1],p[1].length);p[1]=cb}var cX=performance.now();
if(T.aji){console.U7("Geometry: "+String(cX-P)+"ms")}return p};return ai}(),aW=function(){function b(B,j){var s=[],q=0,Q=j.length,a=0,l=0,U=new io,N=0,R=1e9;
for(l=0;l<Q;l++){var S=l*8,g=j[l];if(g<R)R=g;var i=B[S+0],y=B[S+1],o=B[S+2],v=B[S+3],Z=B[S+4],W=B[S+5],d=B[S+6],$=B[S+7],I=Math.min(i,o,Z,d),k=Math.max(i,o,Z,d),_=Math.min(y,v,W,$),D=Math.max(y,v,W,$),A=new io(I,_,k-I,D-_),F=A.gJ(U),K=N+g;
if(l-a<10&&(l==a||F.X()*.8<A.X()+U.X())){U=F;N=K}else{s.push(l-a);a=l;U=A;N=g;R=g}}if(l!=a)s.push(l-a);
return s}function h(B,j,s,q,Q,a){var l=document.createElement("canvas"),y=0,O=.8;l.width=j;l.height=s;
var U=l.getContext("2d"),N=Q[0],R=Q[1],S=new Float64Array(j*s),g=Date.now(),i=b(R,N);for(var o=0;o<i.length;
o++){var v=y,Z=y+i[o],$=1e9,k=1e9,r=0;y=Z;var W=v*8,d=Z*8,I=-$,_=-k;for(var D=W;D<d;D+=2){var A=R[D],F=R[D+1];
if(A<$)$=A;if(A>I)I=A;if(F<k)k=F;if(F>_)_=F}$=Math.floor($);I=Math.ceil(I);k=Math.floor(k);_=Math.ceil(_);
var K=I-$,V=_-k;for(var c=v;c<Z;c++)r+=N[c];for(var D=W;D<d;D+=8){var x=N[D>>>3],X=R[D+0],M=R[D+1],f=R[D+2],t=R[D+3],n=R[D+4],L=R[D+5],P=R[D+6],z=R[D+7];
U.fillStyle="rgba(0,0,0,"+x/r+")";U.beginPath();U.moveTo(X,M);U.lineTo(f,t);U.lineTo(n,L);U.lineTo(P,z);
U.closePath();U.fill()}var T=U.getImageData($,k,K,V).data;for(var F=0;F<V;F++)for(var A=0;A<K;A++){var Y=F*K+A,p=T[Y*4+3],m=(k+F)*j+$+A;
if(p!=0)S[m]+=p*r}U.clearRect($,k,K,V)}var cb=a[1].color,cX=Math.pow(cb.$/255,O),e$=Math.pow(cb.B/255,O),fz=Math.pow(cb.J/255,O),eC=new io(0,0,j,s),hw=e.U(j*s*4);
for(var F=0;F<s;F++)for(var A=0;A<j;A++){var Y=F*j+A,c=Y*4,N=S[Y]*(1/255);hw[c]=H(cX,N);hw[c+1]=H(e$,N);
hw[c+2]=H(fz,N);hw[c+3]=Math.min(255,N*255)}e.z.Nm("norm",hw,eC,q,eC,eC,1)}var G=new Uint8Array(2e3);
for(var Y=0;Y<2e3;Y++)G[Y]=255*Math.min(1,Math.log(Y/700+1));function H(B,j){return G[Math.min(1500,~~(B*j*1e3))]}return h}(),fv=function(){var b=new Float32Array(3e3),h=new Float32Array(3e3),G=new Float32Array(256),H=new Float32Array(3e3);
function B(){var R=b.length;b[0]=Math.log10(157647e-9);for(var Y=1;Y<R;++Y)b[Y]=Math.log10(Y/R)}function j(){var R=h.length;
for(var Y=0;Y<R;++Y)h[Y]=Math.pow(10,20*(Y-R/2)/R)}function s(){var R=G.length;for(var Y=0;Y<R;++Y)G[Y]=e.u0(Y/255)}function q(){var R=H.length;
for(var Y=0;Y<R;++Y)H[Y]=255*e.Ea(Y/(R-1))}function Q(R,S){var g=R.length>>>2;for(var Y=0;Y<g;++Y){var i=G[R[4*Y]],y=G[R[4*Y+1]],o=G[R[4*Y+2]],v=.3811*i+.5783*y+.0402*o,Z=.1967*i+.7244*y+.0782*o,W=.0241*i+.1288*y+.8444*o;
v=b[~~(v*b.length)];Z=b[~~(Z*b.length)];W=b[~~(W*b.length)];S[3*Y]=(v+Z+W)*.5773502692;S[3*Y+1]=(v+Z-2*W)*.4082482905;
S[3*Y+2]=(v-Z)*.7071067812}}function a(R,S){var g=S.length>>>2,i=H.length-1;for(var Y=0;Y<g;++Y){var y=.5773502692*R[3*Y],o=.4082482905*R[3*Y+1],v=.7071067812*R[3*Y+2],Z=h[~~((y+o+v+10)*(3e3/20))],W=h[~~((y+o-v+10)*(3e3/20))],d=h[~~((y-2*o+10)*(3e3/20))],$=4.4679*Z-3.5873*W+.1193*d,I=-1.2186*Z+2.3809*W-.1624*d,k=.0497*Z-.2439*W+1.2045*d;
S[4*Y]=H[~~(i*Math.max(0,Math.min(1,$)))];S[4*Y+1]=H[~~(i*Math.max(0,Math.min(1,I)))];S[4*Y+2]=H[~~(i*Math.max(0,Math.min(1,k)))]}}function l(R){var S=0,g=0,i=0;
for(var Y=0;Y<R.length;Y+=3){S+=R[Y];g+=R[Y+1];i+=R[Y+2]}return[S/(R.length/3),g/(R.length/3),i/(R.length/3)]}function U(R,l){var S=0,g=0,i=0;
for(var Y=0;Y<R.length;Y+=3){var y=R[Y]-l[0],o=R[Y+1]-l[1],v=R[Y+2]-l[2];S+=y*y;g+=o*o;i+=v*v}return[Math.sqrt(S/(R.length/3)),Math.sqrt(g/(R.length/3)),Math.sqrt(i/(R.length/3))]}function N(R,S,g,i,y,o){B();
j();s();q();var v=0,M,f;if(o[0]>100)v=-(o[0]-100)/100*.13;else if(o[0]>=75)v=(100-o[0])/25*.04;else if(o[0]>=50)v=.04+(75-o[0])/25*.04;
else if(o[0]>=25)v=.08+(50-o[0])/25*.08;else v=.16+(25-o[0])/25*.24;var Z=(o[1]-100+100)/100,W=o[2]/100,d=o[3],$=new Float32Array(R.length*3/4),I=new Float32Array(i.length*3/4),k=Date.now();
Q(R,$);Q(i,I);var _=Date.now(),D=l($),A=l(I),F=Date.now(),K=U($,D),V=U(I,A),r=Date.now();A[0]*=Math.pow(10,v);
var c=[V[0]/K[0],V[1]/K[1],V[2]/K[2]],x=$.length,X=1/-1.1546978950500488;for(var Y=0;Y<x;Y+=3){if(d){var t=Math.max(0,Math.min(1,$[Y]*X));
t=1-Math.sqrt(t);M=t*A[1];f=t*A[2]}else{M=A[1];f=A[2]}$[Y]=($[Y]-D[0])*c[0]+A[0];$[Y+1]=($[Y+1]-D[1])*c[1]*Z+M;
$[Y+2]=($[Y+2]-D[2])*c[2]*Z+f}var n=Date.now();a($,y);var L=y.length>>>2;for(var Y=0;Y<L;++Y){y[4*Y]=(1-W)*y[4*Y]+W*R[4*Y];
y[4*Y+1]=(1-W)*y[4*Y+1]+W*R[4*Y+1];y[4*Y+2]=(1-W)*y[4*Y+2]+W*R[4*Y+2];y[4*Y+3]=255}}return N}(),ek=function(){function b(h,G,H,B,j){var s=[-1,-1,-1,-1],q=255,Q=160,a,l=!1,U=new Array(4);
U[0]=new Array(G);U[1]=new Array(H);U[2]=new Array(G);U[3]=new Array(H);var N=new Array(2);N[0]=new Array(H);
N[1]=new Array(H);function R(V,r,c,x,X){this.start=x;this.axis=X;this.dir=V;this.end=-1;this.source=r;
this.X=c}function S(V,r,c,x,X){if(c%2==0){if(!U[c][V])U[c][V]=new Array;U[c][V].push(new R(c,x,X,r,V))}else{if(!U[c][r])U[c][r]=new Array;
U[c][r].push(new R(c,x,X,V,r))}var M=Date.now()}function g(Y){var V=!1,r=0;if(h[4*Y+3]<q)return V;var c=Y%G,x=Math.floor(Y/G);
i(c,x);if(Y+G<G*H&&h[4*(Y+G)+3]<q&&h[4*(Y-G)+3]>=q&&h[4*(Y-2*G)+3]>=q){var X=2;if(h[4*(Y+G)+3]<=Q)r=-1;
if(h[4*(Y+2*G-1)+3]<q&&h[4*(Y+2*G+1)+3]<q)V=!0;else if(h[4*(Y+2*G-1)+3]>=q&&h[4*(Y+1)+3]>=q)V=!0;else if(h[4*(Y+2*G+1)+3]>=q&&h[4*(Y-1)+3]>=q)V=!0;
S(c,x,X,r,V)}else if(Y-G>=0&&h[4*(Y-G)+3]<q&&h[4*(Y+G)+3]>=q&&h[4*(Y+2*G)+3]>=q){var X=0;if(h[4*(Y-G)+3]<=Q)r=-1;
if(h[4*(Y-2*G-1)+3]<q&&h[4*(Y-2*G+1)+3]<q)V=!0;else if(h[4*(Y-2*G-1)+3]>=q&&h[4*(Y+1)+3]>=q)V=!0;else if(h[4*(Y-2*G+1)+3]>=q&&h[4*(Y-1)+3]>=q)V=!0;
S(c,x,X,r,V)}r=0;if(Y+1<G*H&&h[4*(Y+1)+3]<q&&h[4*(Y-1)+3]>=q&&h[4*(Y-2)+3]>=q){var X=3;if(h[4*(Y+1)+3]<=Q)r=-1;
if(!V&&h[4*(Y+G+2)+3]<q&&h[4*(Y-G+2)+3]<q){V=!0;S(c,x,X,r,!0)}else S(c,x,X,r,!1)}else if(Y>=1&&h[4*(Y-1)+3]<q&&h[4*(Y+1)+3]>=q&&h[4*(Y+2)+3]>=q){var X=1;
if(h[4*(Y-1)+3]<=Q)r=-1;if(!V&&h[4*(Y+G-2)+3]<q&&h[4*(Y-G-2)+3]<q){V=!0;S(c,x,X,r,!0)}else S(c,x,X,r,!1)}return V}function i(Y,V){if(s[0]==-1){s[0]=Y;
s[1]=V;s[2]=1;s[3]=1}if(Y<s[0]){s[2]+=s[0]-Y;s[0]=Y}if(Y>s[0]+s[2])s[2]=Y-s[0];if(V<s[1]){s[3]+=s[1]-V;
s[1]=V}if(V>s[1]+s[3])s[3]=V-s[1]}function y(V,Y,r,c){if(!r.X)return;var x=(V+2)%4,X=r.start,M=s[1];
if(V==2)M+=s[3];else if(V==1)M=s[0];else if(V==3)M=s[0]+s[2];var f=r.source;if(U[x][Y])for(var t=0;t<U[x][Y].length;
++t){if(V>1){var n=X+Math.floor((U[x][Y][t].start-X)/2);if(U[x][Y][t].start>X&&n<M)M=n}else{var n=X-Math.floor((X-U[x][Y][t].start)/2);
if(U[x][Y][t].start<X&&n>M)M=n}}for(var L=1;L<Math.abs(M-X);++L){var t=X+L;if(V==1||V==0)t=X-L;for(var P=0;
P<2;++P){var z=2*P,T=!1;if(V%2==0)z+=1;if(U[z][t]){for(var p=0;p<U[z][t].length;++p){if(U[z][t][p].X){var m=U[z][t][p].start,O=Y-m,cb=t-X;
if(z==0||z==1)O=-O;if(O<=0)continue;if(V==0||V==1)cb=-cb;if(cb>O){M=t;T=!0;break}}}if(T)break}}}r.end=M;
Z(V,Y,X,M,f)}function o(V){for(var Y=0;Y<U[V].length;++Y){if(U[V][Y])for(var r=0;r<U[V][Y].length;++r){y(V,Y,U[V][Y][r])}}}function v(){var V=[2,0,3,1];
for(var Y=0;Y<V.length;++Y)o(V[Y])}function Z(V,Y,r,c,x){if(V==2)for(var X=r;X<=c;++X){if(!W(X*G+Y,(r+x)*G+Y))return!1}else if(V==0)for(var X=r;
X>=c;--X){if(!W(X*G+Y,(r-x)*G+Y))return!1}else if(V==1)for(var X=r;X>=c;--X){if(!W(Y*G+X,Y*G+r-x))return!1}else if(V==3)for(var X=r;
X<=c;++X){if(!W(Y*G+X,Y*G+r+x))return!1}}function W(V,r){if(!a[V]){B[4*V]=B[4*r];B[4*V+1]=B[4*r+1];B[4*V+2]=B[4*r+2];
if(l)B[4*V+3]=255;a[V]=!0;return!0}return!1}function d(){for(var Y=0;Y<4;Y+=1){for(var V=0;V<U[Y].length;
++V){if(U[Y][V])for(var r=0;r<U[Y][V].length;++r){var c=U[Y][V][r];for(var x=1;x<3;x+=2){var X=(Y+x)%4;
if(U[X][c.start])for(var M=0;M<U[X][c.start].length;++M){if(U[X][c.start][M].start==c.axis){var g1=G*c.start+c.axis;
if(Y%2==1){g1=c.start+G*c.axis;$(U[X][c.start][M])}else $(c)}}}}}}}function $(V){if(V.dir%2==0){var g1=G*V.start+V.axis,r=V.start,c=1;
if(!a[g1+1])c=3;else if(a[g1-1])return;var x=B[4*g1],X=B[4*g1+1],M=B[4*g1+2];while(B[4*g1]==x&&B[4*g1+1]==X&&B[4*g1+2]==M){if(c==1){if(!N[0][r])N[0][r]=new Array;
N[0][r].push(new R(c,0,!1,V.axis,r))}else{if(!N[1][r])N[1][r]=new Array;N[1][r].push(new R(c,0,!1,V.axis,r))}if(V.dir==2){g1+=G;
r++}else{g1-=G;r--}}}}function I(){for(var V=0;V<2;++V){var r=(V+1)%2;for(var Y=0;Y<N[V].length;++Y){if(N[V][Y])for(var c=0;
c<N[V][Y].length;++c){var x=s[0];if(V==1)x+=s[2];var X=N[V][Y][c].start;if(N[r][Y])for(var M=0;M<N[r][Y].length;
++M){var f=N[r][Y][M].Xk;if(V==0){if(f>x&&f<X){x=X-Math.floor((X-f)/2)}}else{if(f<x&&f>X){x=X+Math.ceil((f-X)/2)}}}if(V==0)Z(N[V][Y][c].dir,Y,X-1,x,-1);
else Z(N[V][Y][c].dir,Y,X+1,x,-1)}}}for(var Y=0;Y<a.length;++Y){if(!a[Y]&&Y%G>=s[0]&&Y%G<=s[0]+s[2]&&Math.floor(Y/G)>=s[1]&&Math.floor(Y/G)<=s[1]+s[3]){var X=G;
if(Y<X||!a[Y-X])X=1;B[4*Y]=B[4*(Y-X)];B[4*Y+1]=B[4*(Y-X)+1];B[4*Y+2]=B[4*(Y-X)+2];a[Y]=!0;if(l)B[4*Y+3]=255}}}function k(){a=new Array(h.length/4);
for(var Y=0;Y<B.length/4;++Y){a[Y]=!1;B[4*Y]=h[4*Y];B[4*Y+1]=h[4*Y+1];B[4*Y+2]=h[4*Y+2];B[4*Y+3]=h[4*Y+3];
if(B[4*Y+3]==255)a[Y]=!0;if(g(Y))a[Y]=!1}if(s[0]>0){s[0]--;s[2]++}if(s[1]>0){s[1]--;s[3]++}if(s[0]+s[2]<G){s[2]++}if(s[1]+s[3]<H){s[3]++}}var _=Date.now();
k();var D=Date.now();v();var A=Date.now();d();var F=Date.now();I();var K=Date.now();console.log("Init: "+String(D-_));
console.log("Filling: "+String(A-D));console.log("Check areas: "+String(F-A));console.log("Fill areas: "+String(K-F))}return b}();
function br(){}br.akK=function(b){var h=[e.u0(b[0]),e.u0(b[1]),e.u0(b[2]),0];return e.G4.m9(e.G4.aDT,h)};
br.aEM=function(b){var h=e.G4.m9(e.G4.hu,b);return[e.Ea(h[0]),e.Ea(h[1]),e.Ea(h[2])]};br.Kt=function(b,h){var G={},H=5003,B=1667,j=25e3,s=57.4,q=16.1,Q=1.8,a=0,l=1.54,U=.75,S=0;
if(h>0){b-=h/100*4}if(b<0){q=22.54;s=80.36;l=.756}if(h>0){Q=1.3;U=.2}var N=Math.min(H+s*b,j),R=Math.max(H-q*b,B);
if(b<0){N=Math.max(H+q*b,B);R=Math.min(H-s*b,j)}if(b>0){if(b<=14){S=(b-1)/13*.075+.025}else if(b<=29){S=.1}else if(b<=60){S=.1-.1*(b-29)/(60-29)}else{var g=b-60;
a=-20*(g/40);S=-.3*(g/40)}}else{if(b<-60){var g=b+60;a=-20*(g/40)}}var i=Math.abs(b)/100*l+Math.abs(h)/100*U+S,y=-(h*Q+a),o=fp.Hi(N,-y),v=fp.pX(o),Z=fp.Hi(R,0),W=fp.pX(Z),d=fp.aC4(v,W);
G.aoa=i;G.aci=d;if(b==0&&h==0)G.ayQ=!0;else G.ayQ=!1;return G};br.a2w=function(b,h,G,H){if(H.ayQ){return[b,h,G]}var B=this.akK([b,h,G]),j=B[0],s=B[1],q=B[2],Q=s+1e-12,a=[j/Q,s/Q,q/Q,0],l=e.G4.m9(H.aci,a),U=0,N=.4;
l[0]*=Q;l[1]*=Q;l[2]*=Q;if(Q>N)U=1/(1-N)*(Q-N);B[0]=(1-U)*l[0]+U*j;B[1]=(1-U)*l[1]+U*s;B[2]=(1-U)*l[2]+U*q;
return this.aEM(B)};e.axW={D1:function(b,h){var Y=b.length;b.push(h);var G=Y>>>1;while(G!=0&&b[Y][0]<b[G][0]){var H=b[Y];
b[Y]=b[G];b[G]=H;Y=G;G=Y>>>1}},a_:function(b){if(b.length==2)return b.pop();var top=b[1],Y=1;b[1]=b.pop();
var h=b.length;while(!0){var G=Y<<1,H=G+1,B=Y;if(G<h&&b[G][0]<b[B][0])B=G;if(H<h&&b[H][0]<b[B][0])B=H;
if(B==Y)break;var j=b[Y];b[Y]=b[B];b[B]=j;Y=B}return top},a5E:function(b){for(var Y=1;Y<b.length;Y++){var h=Y,G=1e9;
while(h!=0){var H=b[h][0];if(H>G){console.log(Y);throw"e"}G=H;h=h>>>1}}}};e.z={};e.z.ZM=new Float64Array(256);
e.z.MT=new Uint8Array(256*256);e.z.JZ=new Uint8Array(256*256);(function(){for(var Y=0;Y<256;Y++)e.z.ZM[Y]=255/Y;
for(var Y=0;Y<256;Y++)for(var b=0;b<256;b++)e.z.MT[Y*256+b]=Y==0?0:Math.round(b*255/Y);for(var Y=0;Y<256;
Y++)for(var b=0;b<256;b++)e.z.JZ[Y*256+b]=Math.round(Y*(255-b)/255)}());e.z.Nm=function(b,h,G,H,B,j,s,q){if(q==null)q=eQ.pZ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(b)==-1){s=s*q.fill;q.fill=1;q.style=!1}var Q="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),a="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),l=e.z[b+"F"];
if(q.l5==null&&b=="norm")e.z.adE(h,G,H,B,j,s,l,q.Ej?1:0);else if(b=="diss")e.z.aiB(h,G,H,B,j,s,l,q.Ej?1:0);
else if(Q.indexOf(b)!=-1)e.z.atr(h,G,H,B,j,s,l,q);else if(a.indexOf(b)!=-1)e.z.ay_(h,G,H,B,j,s,l,q)};
e.z.a39=function(b,h,G){var H=b*G+1-G;return H<.001?0:1-Math.min(1,(1-h)/H)};e.z.akq=function(b,h,G){return b*G==1?1:Math.min(1,h/(1-b*G))};
e.z.xO=function(b){return b<=.25?((16*b-12)*b+4)*b:Math.sqrt(b)};e.z.normF=function(b,h,G){return b};
e.z.darkF=function(b,h,G){return Math.min(b,h)};e.z["mul F"]=function(b,h,G){return b*h};e.z.idivF=function(b,h,G){var H=b*G+1-G;
return h==1?1:1-h>=H?0:1-(1-h)/H};e.z.lbrnF=function(b,h,G){return Math.max(0,b*G+h-G)};e.z.dkClF=function(b,h,G){var H=e.i_(b)<e.i_(h)?b:h;
G.$=H.$;G.B=H.B;G.J=H.J;return G};e.z.liteF=function(b,h,G){return Math.max(b,h)};e.z.scrnF=function(b,h,G){return h+b-h*b};
e.z["div F"]=function(b,h,G){b*=G;return h==0?0:h>=1-b?1:h/(1-b)};e.z.lddgF=function(b,h,G){b*=G;return Math.min(1,b+h)};
e.z.lgClF=function(b,h,G){var H=e.i_(b)>e.i_(h)?b:h;G.$=H.$;G.B=H.B;G.J=H.J;return G};e.z.overF=function(b,h,G){return e.z.hLitF(h,b,G)};
e.z.sLitF=function(b,h,G){return b<=.5?h-(1-2*b)*h*(1-h):h+(2*b-1)*(e.z.xO(h)-h)};e.z.hLitF=function(b,h,G){return b<=.5?e.z["mul F"](2*b,h,G):e.z.scrnF(2*b-1,h,G)};
e.z.vLitF=function(b,h,G){return b<=.5?e.z.a39(2*b,h,G):e.z.akq(2*b-1,h,G)};e.z.lLitF=function(b,h,G){return b<=.5?e.z.lbrnF(2*b,h,G):e.z.lddgF(2*b-1,h,G)};
e.z.pLitF=function(b,h,G){return b<=.5?e.z.darkF(2*b,h,G):e.z.liteF(2*b-1,h,G)};e.z.hMixF=function(b,h,G){if(G>.99)return b+h<1?0:1;
return Math.min(1,Math.max(0,(h+b*G-G)/(1-G+1e-6)))};e.z.diffF=function(b,h,G){b*=G;return Math.abs(b-h)};
e.z.smudF=function(b,h,G){return b+h-2*b*h};e.z.fsubF=function(b,h,G){return Math.max(h-b,0)};e.z.fdivF=function(b,h,G){return Math.min(h/b,1)};
e.z["hue F"]=function(b,h,G){e.z.Cd(b,e.e5(h),G);e.z.xi(G,e.i_(h),G)};e.z["sat F"]=function(b,h,G){e.z.Cd(h,e.e5(b),G);
e.z.xi(G,e.i_(h),G)};e.z.colrF=function(b,h,G){e.z.xi(b,e.i_(h),G)};e.z["lum F"]=function(b,h,G){e.z.xi(h,e.i_(b),G)};
e.z.xi=function(b,h,G){var H=h-e.i_(b);G.$=b.$+H;G.B=b.B+H;G.J=b.J+H;e.z.asP(G)};e.z.asP=function(b){var h=b.$,G=b.B,H=b.J,B=e.ZK(h,G,H),g1=Math.min(h,G,H),j=Math.max(h,G,H);
if(g1<0){var s=B/(B-g1);h=B+(h-B)*s;G=B+(G-B)*s;H=B+(H-B)*s}if(j>1){var s=(1-B)/(j-B);h=B+(h-B)*s;G=B+(G-B)*s;
H=B+(H-B)*s}b.$=h;b.B=G;b.J=H};e.z.Cd=function(b,h,G){var H=e.z.ax3,B=b.$,j=b.B,s=b.J;if(B==j&&j==s){G.$=G.B=G.J=0}else if(B>j){if(B>s){if(j>s){G.$=h;
G.B=H(B,j,s,h);G.J=0}else{G.$=h;G.J=H(B,s,j,h);G.B=0}}else{G.J=h;G.$=H(s,B,j,h);G.B=0}}else{if(B<s){if(j>s){G.B=h;
G.J=H(j,s,B,h);G.$=0}else{G.J=h;G.B=H(s,j,B,h);G.$=0}}else{G.B=h;G.$=H(j,B,s,h);G.J=0}}};e.z.ax3=function(b,h,G,H){return(h-G)*H/(b-G)};
e.z.adE=function(b,h,G,H,B,j,s,q){var Q=h.D4(H).D4(B),a=Math.max(0,Q.x-h.x),l=Math.max(0,Q.x-H.x),U=Math.max(0,Q.y-h.y),N=Math.max(0,Q.y-H.y),R=Q.j,S=Q._,g=h.j,i=H.j,y=e.z.MT,o=e.z.JZ,v=new Uint32Array(b.buffer),Z=new Uint32Array(G.buffer);
for(var Y=0;Y<S;Y++){var W=(U+Y)*g+a,d=(N+Y)*i+l;for(var $=0;$<R;$++){var I=v[W+$],c=1;if(I>>>24==0)continue;
if(I>>>24==255&&j==1&&q==0){Z[d+$]=v[W+$];continue}var k=Z[d+$],_=I&255,D=I>>>8&255,A=I>>>16&255,F=k&255,K=k>>>8&255,V=k>>>16&255,r=j,x=(k>>>24)*(1/255);
if(q==0){r=(I>>>24)*j*(1/255);c=x}var X=c*(1-r),M=r+X,f=1/M;Z[d+$]=~~(.5+(q*x+(1-q)*M)*255)<<24|~~(.5+(A*r+V*X)*f)<<16|~~(.5+(D*r+K*X)*f)<<8|~~(.5+(_*r+F*X)*f)}}};
e.z.a07=function(b,h,G,H,B,j){var s=h.D4(H).D4(B),q=Math.max(0,s.x-h.x),Q=Math.max(0,s.x-H.x),a=Math.max(0,s.y-h.y),l=Math.max(0,s.y-H.y),U=s.j,N=s._,R=h.j,S=H.j,g=e.z.MT,i=e.z.JZ,y=new Uint32Array(b.buffer),o=new Uint32Array(G.buffer),v=Math.floor(Math.random()*16777215),Z=0;
for(var Y=0;Y<N;Y++){var W=(a+Y)*R+q,d=(l+Y)*S+Q;for(var $=0;$<U;$++){var I=y[W+$];if(I>>>24==0)continue;
if(I>>24==255&&j==1){o[d+$]=I;continue}var k=o[d+$],_=(I>>>24)*j*(1/255),D=(k>>>24)*(1/255),A=D*(1-_),F=_+A,K=I&255,V=I>>>8&255,r=I>>>16&255,c=k&255,x=k>>>8&255,X=k>>>16&255;
Z>>>=8;if(($&3)==0)Z=e.z.bD(d+$+v);var M=F==0?0:1/F,f=Math.floor(F*(256*255))+(Z&255)>>>8,t=Math.floor((r*_+X*A)*M+.5),n=Math.floor((V*_+x*A)*M+.5),L=Math.floor((K*_+c*A)*M+.5);
o[d+$]=f<<24|t<<16|n<<8|L}}};e.z.ny=function(b,h,G,H,B,j,s,q){var Q=e.ZK(b,h,G),a=e.ZK(H,B,j),l=Math.min,U=e.z.abi,N=U(Q,q,0);
N=l(N,U(b,q,8));N=l(N,U(h,q,16));N=l(N,U(G,q,24));var R=U(a,q,4);R=l(R,U(H,q,12));R=l(R,U(B,q,20));R=l(R,U(j,q,28));
R=Math.max(R,1-s);var S=Math.min(N,R);return S<0?0:S>1?1:S};e.z.abi=function(b,h,Y){return Math.min((b-h[Y])*h[Y+1],(b-h[Y+3])*h[Y+2])};
e.z.atr=function(b,h,G,H,B,j,s,q){var Q=1/255,a=Q*j,l=q.Ej?1:0,U=q.fill,N=q.style,R=h.D4(H).D4(B),S=Math.max(0,R.x-h.x),g=Math.max(0,R.x-H.x),i=Math.max(0,R.y-h.y),y=Math.max(0,R.y-H.y),o=R.j,v=R._,Z=h.j,W=H.j,d=new Uint32Array(b.buffer),$=new Uint32Array(G.buffer);
for(var Y=0;Y<v;Y++){var I=(i+Y)*Z+S,k=(y+Y)*W+g;for(var _=0;_<o;_++,I++,k++){var D=d[I],M=1;if(D>>>24==0)continue;
var A=$[k],F=(D&255)*Q,K=(D>>>8&255)*Q,V=(D>>>16&255)*Q,r=(A&255)*Q,c=(A>>>8&255)*Q,x=(A>>>16&255)*Q,X=j;
if(l==0){X=(D>>>24)*a;M=(A>>>24)*Q}if(q.l5)X*=e.z.ny(F,K,V,r,c,x,M,q.l5);var f=M*(1-X),t=X+f,n=t==0?0:255/t,L=N?1:X,P=((1-M)*X*F+(1-L)*M*r+L*M*s(F,r,(1+X-L)*U))*n,z=((1-M)*X*K+(1-L)*M*c+L*M*s(K,c,(1+X-L)*U))*n,T=((1-M)*X*V+(1-L)*M*x+L*M*s(V,x,(1+X-L)*U))*n;
t=X*U+M*(1-X*U);var p=~~(t*255+.5);$[k]=l*(A>>>24)+(1-l)*p<<24|T<<16|z<<8|P}}};e.z.ay_=function(b,h,G,H,B,j,s,q){var Q=1/255,a=Q*j,l=q.Ej?1:0,U=h.D4(H).D4(B),N=Math.max(0,U.x-h.x),R=Math.max(0,U.x-H.x),S=Math.max(0,U.y-h.y),g=Math.max(0,U.y-H.y),i=U.j,y=U._,o=new Uint32Array(b.buffer),v=new Uint32Array(G.buffer),Z={$:0,B:0,J:0},W={$:0,B:0,J:0},d={$:0,B:0,J:0};
for(var Y=0;Y<y;Y++){var $=(S+Y)*h.j+N,I=(g+Y)*H.j+R;for(var k=0;k<i;k++,$++,I++){var _=o[$],D=v[I],A=(_&255)*Q,F=(_>>>8&255)*Q,K=(_>>>16&255)*Q,V=(D&255)*Q,r=(D>>>8&255)*Q,c=(D>>>16&255)*Q,x=j,X=1;
if(l==0){x=(_>>>24)*a;X=(D>>>24)*Q}if(q.l5)x*=e.z.ny(A,F,K,V,r,c,X,q.l5);var M=X*(1-x),f=x+M,t=255/f;
Z.$=A;Z.B=F;Z.J=K;W.$=V;W.B=r;W.J=c;s(Z,W,d);var n=(((1-X)*A+X*d.$)*x+V*M)*t,L=(((1-X)*F+X*d.B)*x+r*M)*t,P=(((1-X)*K+X*d.J)*x+c*M)*t,z=l*(D>>>24)+(1-l)*Math.round(f*255);
v[I]=z<<24|P<<16|L<<8|n}}};e.z.v0=function(b){b=b^61^b>>>16;b=b+(b<<3);b=b^b>>>4;b=b*668265261;b=b^b>>15;
return(b&16777215)*(1/16777215)};e.z.bD=function(b){b=b^61^b>>>16;b=b+(b<<3);b=b^b>>>4;b=b*668265261;
b=b^b>>>15;return b};e.z.Zy=function(b){this.LW=b};e.z.Zy.prototype.get=function(){var b=this.LW=e.z.bD(this.LW);
return(b&16777215)*(1/16777215)};e.z.aiB=function(b,h,G,H,B,j,s,q){var Q=1/255,a=Q*j,l=Math.round(j*(256*256*256/255)),U=h.D4(H).D4(B),N=Math.max(0,U.x-h.x),R=Math.max(0,U.x-H.x),S=Math.max(0,U.y-h.y),g=Math.max(0,U.y-H.y),i=U.j,y=U._,o=new Uint32Array(b.buffer),v=new Uint32Array(G.buffer);
for(var Y=0;Y<y;Y++){var Z=(S+Y)*h.j+N,W=(g+Y)*H.j+R;for(var d=0;d<i;d++,Z++,W++){var $=o[Z],I=v[W],k=q*255+(1-q)*($>>>24);
if((e.z.bD(Z)&16777215)>=k*l)continue;v[W]=$&16777215|q*(I>>>24)+(1-q)*255<<24}}};e.z.ay2=function(b,h,G){for(var Y=0;
Y<b.length;Y+=4){var H=G[Y>>>2];if(H==0)continue;var B=H*(1/255),j=1/B,s=h[Y],q=h[Y+1],Q=h[Y+2],a=b[Y],l=b[Y+1],U=b[Y+2];
h[Y]=Math.min(255,Math.max(0,Math.round((s-(1-B)*a)*j)));h[Y+1]=Math.min(255,Math.max(0,Math.round((q-(1-B)*l)*j)));
h[Y+2]=Math.min(255,Math.max(0,Math.round((Q-(1-B)*U)*j)));h[Y+3]=255}};e.z.hT=function(b,h,G,H,B,j,s,q,Q,a,l){if(a==null)a=!1;
if(l==null)l=[1,1,1];var U=255<<24|l[2]*16711680|l[1]*65280|l[0]*255,N=~U;if(B&&!h.TW(j)){var R=e.U(h.X()*4);
R.fill(s);e.wX(B,j,R,h);B=R;j=h}if(a){if(B==null)e.z.av9(b,h,G,H,B,q,Q,U,N);else e.z.aaS(b,h,G,H,B,q,Q)}else{if(B==null)e.z.an4(b,h,G,H,B,q,Q,U,N);
else e.z.am3(b,h,G,H,B,q,Q)}};e.z.an4=function(b,h,G,H,B,j,s,q,Q){var a=1/255,l=h.D4(H).D4(j),U=Math.max(0,l.x-h.x),N=Math.max(0,l.x-H.x),R=Math.max(0,l.y-h.y),S=Math.max(0,l.y-H.y),g=l.j,i=l._,y=new Uint32Array(b.buffer),o=new Uint32Array(G.buffer),v=e.z.MT,Z=s*255&255;
for(var Y=0;Y<i;Y++){var W=(R+Y)*h.j+U,d=(S+Y)*H.j+N;for(var $=0;$<g;$++,W++,d++){var I=y[W],k=o[d],_=I>>>24,D=k>>>24,A=e.il(Z*_+(255-Z)*D),F=e.il(_*Z),K=e.il(D*(255-Z)),V=I&255,r=I>>>8&255,c=I>>>16&255,x=k&255,X=k>>>8&255,M=k>>>16&255,f=F*V+x*K,t=F*r+X*K,n=F*c+M*K;
f=v[A<<8|e.il(f)];t=v[A<<8|e.il(t)];n=v[A<<8|e.il(n)];var L=A<<24|n<<16|t<<8|f;o[d]=Q&k|q&L}}};e.z.av9=function(b,h,G,H,B,j,s,q,Q){var a=1/255,l=h.D4(H).D4(j),U=Math.max(0,l.x-h.x),N=Math.max(0,l.x-H.x),R=Math.max(0,l.y-h.y),S=Math.max(0,l.y-H.y),g=l.j,i=l._,y=new Uint32Array(b.buffer),o=new Uint32Array(G.buffer),v=e.z.MT,Z=s*16777215&16777215;
for(var Y=0;Y<i;Y++){var W=(R+Y)*h.j+U,d=(S+Y)*H.j+N;for(var $=0;$<g;$++,W++,d++){if((e.z.bD(W)&16777215)<Z){o[d]=Q&o[d]|q&y[W]}}}};
e.z.am3=function(b,h,G,H,B,j,s){var q=1/255,Q=h.D4(H).D4(j),a=Math.max(0,Q.x-h.x),l=Math.max(0,Q.x-H.x),U=Math.max(0,Q.y-h.y),N=Math.max(0,Q.y-H.y),R=Q.j,S=Q._,g=new Uint32Array(b.buffer),i=new Uint32Array(G.buffer),y=e.z.MT;
for(var Y=0;Y<S;Y++){var o=(U+Y)*h.j+a,v=(N+Y)*H.j+l;for(var Z=0;Z<R;Z++,o++,v++){var W=B[o]*s&255;if(W==0)continue;
if(W==255){i[v]=g[o];continue}var d=g[o],$=i[v],I=d>>>24,k=$>>>24,_=e.il(W*I+(255-W)*k),D=e.il(I*W),A=e.il(k*(255-W)),F=d&255,K=d>>>8&255,V=d>>>16&255,r=$&255,c=$>>>8&255,x=$>>>16&255,X=y[_<<8|e.il(D*F+r*A)],M=y[_<<8|e.il(D*K+c*A)],f=y[_<<8|e.il(D*V+x*A)];
i[v]=_<<24|f<<16|M<<8|X}}};e.z.aaS=function(b,h,G,H,B,j,s){var q=1/255,Q=h.D4(H).D4(j),a=Math.max(0,Q.x-h.x),l=Math.max(0,Q.x-H.x),U=Math.max(0,Q.y-h.y),N=Math.max(0,Q.y-H.y),R=Q.j,S=Q._,g=new Uint32Array(b.buffer),i=new Uint32Array(G.buffer),y=e.z.MT,o=Math.round(s*257);
for(var Y=0;Y<S;Y++){var v=(U+Y)*h.j+a,Z=(N+Y)*H.j+l;for(var W=0;W<R;W++,v++,Z++){var d=B[v]*o;if((e.z.bD(v)&65535)<d)i[Z]=g[v]}}};
e.z.a1B=function(b,h,G,H,B,j,s){var q=1/255,Q=h.D4(H).D4(j),a=Math.max(0,Q.x-h.x),l=Math.max(0,Q.x-H.x),U=Math.max(0,Q.y-h.y),N=Math.max(0,Q.y-H.y),R=Q.j,S=Q._,g=new Uint32Array(b.buffer),i=new Uint32Array(G.buffer),y=Math.floor(Math.random()*H.X()),o=e.z.a6n;
for(var Y=0;Y<S;Y++){var v=(U+Y)*h.j+a,Z=(N+Y)*H.j+l;for(var W=0;W<R;W++){var d=B[v+W]*s;if(d==0)continue;
if(d==255){i[Z+W]=g[v+W];continue}var $=g[v+W],I=i[Z+W],k=$>>>24,_=I>>>24,D=k*d*(1/255),A=_*(255-d)*(1/255),F=$&255,K=$>>>8&255,V=$>>>16&255,r=I&255,c=I>>>8&255,x=I>>>16&255,X=e.z.bD(Z+W+y),M=Math.floor((D+A)*256+.5)+(X>>>0&255)>>>8,f=M==0?0:256/(D+A),t=F*D+r*A,n=K*D+c*A,L=V*D+x*A,P=Math.floor(t*f+.5)+(X>>>8&255)>>>8,z=Math.floor(n*f+.5)+(X>>>16&255)>>>8,T=Math.floor(L*f+.5)+(X>>>24&255)>>>8;
i[Z+W]=M<<24|T<<16|z<<8|P}}};e.z.a6n=function(b){return Math.floor(b+Math.random())};e.z.pb=function(b,h,G,H,B,j,s){var q=1/255,Q=h.D4(H).D4(j),a=Math.max(0,Q.x-h.x),l=Math.max(0,Q.x-H.x),U=Math.max(0,Q.y-h.y),N=Math.max(0,Q.y-H.y),R=Q.j,S=Q._;
for(var Y=0;Y<S;Y++){var g=(U+Y)*h.j+a,i=(N+Y)*H.j+l;for(var y=0;y<R;y++,g++,i++){var o=s*B[g]*q;if(o==0)continue;
if(o==1){G[i]=b[g];continue}G[i]=b[g]*o+G[i]*(1-o)}}};e.aEm=function(){function b(j){var s=j*.85;return Math.exp(-(s*s)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function h(j,s){var q=j<s?1:b((j-s)/Math.pow(1.001-s,.86));
return q}var G=[];function H(j){if(G[j])return G[j];var s=Math.pow(j,.55),q=new Float64Array(8e3),Q=0,a=8e3;
for(var Y=0;Y<8e3;Y++){var l=h(Y*(1.55/4e3),s);if(l>=1)Q=Y;else if(l<=0&&a==8e3)a=Y;q[Y]=l}var U=[q,Q,a];
G[j]=U;return U}function B(j,s,q){if(j<4)s=1;var Q=1+.55*(1-s),a=Math.round(q*j*Q)+2,l=new io(0,0,a,a),U=e.U(a*a),N=[U,l],R=a/2,S=Q/(R-1);
if(j==2)S*=2;if(j==3)S*=1.6;var g=Date.now(),i=H(s),y=Math.round(8e3/R),o=i[0],v=i[1]-y,Z=i[2]+y,W=Math.min(a,a+1>>>1),d=S*.4*(4e3/1.55),$=e.U(8e3);
for(var Y=0;Y<8e3;Y++){var I=Y,k=Y,_=~~Math.max(0,I-d-d),D=~~Math.max(0,I-d),A=~~Math.min(7999,I+d),F=~~Math.min(7999,I+d+d),K=~~(.5+255*(1/5)*(o[k]+o[_]+o[D]+o[A]+o[F]));
$[Y]=K;if(K==0)break}for(var Y=0;Y<W;Y++){var V=S*(Y-R+.5),r=V*V,c=Y*a,x=(a-1-Y)*a;for(var X=0;X<W;X++){var M=S*(X-R+.5),k=~~(Math.sqrt(M*M+r)*(4e3/1.55));
if(Z<k)continue;else if(k<v){var K=255;while(X<W){var f=a-1-X;U[c+X]=K;U[c+f]=K;U[x+X]=K;U[x+f]=K;X++}break}else{var K=$[k],f=a-1-X;
U[c+X]=K;U[c+f]=K;U[x+X]=K;U[x+f]=K}}}return N}return{axs:B}}();e.ww={};e.ww.a54=function(b,h,G,H,B,j){e.ww.Ex(b,h,G,H,B,j,null,0)};
e.ww.acA=function(b,h,G,H,B){e.ww.Ex(b,h,G,H,B,null,null,0)};e.ww.ay8=function(b,h,G,H,B,j,s){e.ww.Ex(b,h,G,H,B,null,j,s*.5)};
e.ww.Ex=function(b,h,G,H,B,j,s,q){var Q=0,A=0,F=1e9,K=0,V=1e9,r=0,c=1e9,x=0,X=0,M=0,f=0;if(j){Q=B*.5;
B=3+Math.round((B-3)*.75)}if(s){B=Math.round(B*2.2)}var a=1/B,l=Math.floor(h*a)+1,U=Math.floor(G*a)+1,N=[],R=new Uint8Array(l*U*4),S=s?.5:1,g=j?64:0;
for(var i=0;i<U;i++){var y=s?.5*(i&1):0;for(var o=0;o<l;o++){var v=(o+Math.random()*S+y)*B,Z=(i+Math.random()*S)*B;
N.push(v,Z);var W=Math.min(h-1,Math.floor(v)),d=Math.min(G-1,Math.floor(Z)),$=(d*h+W)*4,I=(i*l+o)*4;
for(var Y=0;Y<4;Y++)R[I+Y]=Math.max(0,Math.min(255,Math.floor(b[$+Y]+(Math.random()-.5)*g)))}}var k=j?j:s?s:[0,0,0],_=l*U*2,D=[-l-1,-l,-l+1,-1,0,1,l-1,l,l+1];
for(var i=0;i<G;i++){M=0;for(var o=0;o<h;o++){var t=o+.5,n=i+.5,L=Math.floor(n*a),P=Math.floor(t*a),z=L*l+P,m=0,O=0;
if(M>1+q){F=e.ww.a0M(N,A,t,n);x=Math.sqrt(F);M--;f++}else{F=V=c=1e9;for(var Y=0;Y<D.length;Y++){var T=(z+D[Y])*2;
if(T<0||T>=_)continue;var p=e.ww.a0M(N,T,t,n);if(p<c){if(p<V){if(p<F){r=K;c=V;K=A;V=F;A=T;F=p}else{r=K;
c=V;K=T;V=p}}else{r=T;c=p}}}x=Math.sqrt(F);X=Math.sqrt(V);M=X-(x+X)*.5}if(s==null){var cb=(x+X)*.5,cX=j?Math.max(0,cb-Q):0;
m=Math.max(0,Math.min(1,.5+cb-x-cX));O=Math.max(0,Math.min(1,1-(.5+cb-x)-cX))}else{var e$=Math.min(e.ww.aaz(N,A,K,t,n),e.ww.aaz(N,A,r,t,n));
m=Math.max(0,Math.min(1,e$-q*.5));if(t<q||h-q<t||n<q||G-q<n)m=0;O=0}var fz=1-O-m,I=i*h+o<<2,eC=A<<1,hw=K<<1;
H[I+0]=Math.floor(.5+m*R[eC+0]+O*R[hw+0]+fz*k[0]);H[I+1]=Math.floor(.5+m*R[eC+1]+O*R[hw+1]+fz*k[1]);
H[I+2]=Math.floor(.5+m*R[eC+2]+O*R[hw+2]+fz*k[2]);H[I+3]=b[I+3]}}};e.ww.a0M=function(b,h,G,H){var B=G-b[h],j=H-b[h+1];
return B*B+j*j};e.ww.aaz=function(b,h,G,H,B){var j=b[h],s=b[h+1],q=b[G],Q=b[G+1],a=(j+q)*.5,l=(s+Q)*.5,U=a+(Q-s),N=l-(q-j),R=N-l,S=U-a;
return Math.abs(R*H-S*B+U*l-N*a)/Math.sqrt(S*S+R*R)};e.Zt={};e.Zt.xB=function(b){if(e.Zt.SS.length<b)e.Zt.SS=e.U(b);
return e.Zt.SS};e.Zt.SS=e.U(0);e.Zt.ao3=function(b){if(e.Zt.Gt.length<b)e.Zt.Gt=new Float32Array(b);
return e.Zt.Gt};e.Zt.Gt=new Float32Array(0);e.Zt.QE=function(b,h,G,H){var B=G.j,j=G._;e.Zt.ahm(b,h,B,j,H)};
e.Zt.jB=function(b,h,G,H){var B=G.j,j=G._;e.Zt.a4b(b,h,B,j,H)};e.Zt.lC=function(b,h,G){var H=h.j,B=h._;
e.Zt.aFd(b,H,B,G)};e.Zt.z_=function(b,h,G,H){var B=h.j,j=h._;e.Zt.aoI(b,B,j,G,H)};e.Zt.ag4=function(b,h,G,H){var B=G.j,j=G._;
H=Math.round(H);var s=e.Zt.xB(B*j);e.MI(b,h);e.Zt.Fk(h,s,B,j,H)};e.Zt.Is=function(b,h,G){var H=h.j,B=h._;
G=Math.round(G);var j=e.Zt.xB(H*B*4);e.Zt.mb(b,j,H,B,G)};e.Zt.a6H=function(b,h,G){var H=h.j,B=h._;G=Math.round(G);
e.Zt.axB(b,e.Zt.ao3(H*B),H,B,G)};e.Zt.aeB=function(b,h,G){var H=h.j,B=h._;G=Math.round(G);var j=e.Zt.xB(H*B*4);
e.Zt.aDd(b,j,H,B,G);e.MI(j,b)};e.Zt.cg=function(b,g1){var h=Math.sqrt(12*b*b/g1+1),G=Math.floor(h);if(G%2==0)G--;
var H=G+2,B=(12*b*b-g1*G*G-4*g1*G-3*g1)/(-4*G-4),j=Math.round(B),s=[];for(var Y=0;Y<g1;Y++)s.push(Y<j?G:H);
return s};e.Zt.ahm=function(b,h,G,H,B){var j=e.Zt.cg(B,3),s=e.Zt.xB(G*H);e.MI(b,h);e.Zt.Fk(h,s,G,H,j[0]-1>>1);
e.Zt.Fk(h,s,G,H,j[1]-1>>1);e.Zt.Fk(h,s,G,H,j[2]-1>>1)};e.Zt.a4b=function(b,h,G,H,B){var j=e.Zt.cg(B,2),s=e.Zt.xB(G*H);
e.MI(b,h);e.Zt.Fk(h,s,G,H,j[0]-1>>1);e.Zt.Fk(h,s,G,H,j[1]-1>>1)};e.Zt.aFd=function(b,h,G,H){var B=e.Zt.cg(H,3),j=e.Zt.xB(h*G*4);
e.Zt.mb(b,j,h,G,B[0]-1>>1);e.Zt.mb(b,j,h,G,B[1]-1>>1);e.Zt.mb(b,j,h,G,B[2]-1>>1)};e.Zt.aoI=function(b,h,G,H,B){if(B==null)B=3;
var j=e.Zt.cg(H,B),s=e.Zt.ao3(h*G);for(var Y=0;Y<B;Y++)e.Zt.axB(b,s,h,G,(j[Y]-1)/2)};e.Zt.Fk=function(b,h,G,H,B){e.Zt.aDH(b,h,G,H,B);
e.Zt.alz(h,b,G,H,B)};e.Zt.mb=function(b,h,G,H,B){e.Zt.aDd(b,h,G,H,B);e.Zt.a6B(h,b,G,H,B)};e.Zt.axB=function(b,h,G,H,B){e.Zt.auW(b,h,G,H,B);
e.Zt.a0Y(h,b,G,H,B)};e.Zt.o9=[];e.Zt.f1=function(b){if(e.Zt.o9[b])return e.Zt.o9[b];var h=1/(b+b+1),G=(b+b+1)*256,H=e.U(G);
for(var Y=0;Y<G;Y++)H[Y]=Math.round(Y*h);e.Zt.o9[b]=H;return H};e.Zt.aDH=function(b,h,G,H,B){var j=1/(B+B+1),s=G-B-B-1,q=e.Zt.f1(B);
for(var Y=0;Y<H;Y++){var Q=Y*G,a=Q,l=Q+B,U=b[Q],N=b[Q+G-1],R=(B+1)*U;for(var S=0;S<B;S++)R+=b[Q+S];for(var S=0;
S<=B;S++){R+=b[l+S]-U;h[Q+S]=q[R]}l+=B+1;Q+=B+1;for(var S=0;S<s;S++){R+=b[l+S]-b[a+S];h[Q+S]=q[R]}l+=s;
a+=s;Q+=s;for(var S=G-B;S<G;S++){R+=N-b[a++];h[Q++]=q[R]}}};e.Zt.aDd=function(b,h,G,H,B){var j=G<<2,s=B<<2,q=1/(B+B+1),Q=G-B-B-1,a=Q<<2,l=e.Zt.f1(B);
for(var Y=0;Y<H;Y++){var U=Y*j,N=U,R=U+s,S=U+j,g=b[U],i=b[U+1],y=b[U+2],o=b[U+3],v=(B+1)*g,Z=(B+1)*i,W=(B+1)*y,d=(B+1)*o;
for(var $=0;$<s;$+=4){v+=b[U+$];Z+=b[U+$+1];W+=b[U+$+2];d+=b[U+$+3]}for(var $=0;$<=s;$+=4){v+=b[R]-g;
h[U]=l[v];Z+=b[R+1]-i;h[U+1]=l[Z];W+=b[R+2]-y;h[U+2]=l[W];d+=b[R+3]-o;h[U+3]=l[d];R+=4;U+=4}for(var $=0;
$<a;$+=4){v+=b[R+$]-b[N+$];h[U+$]=l[v];Z+=b[R+$+1]-b[N+$+1];h[U+$+1]=l[Z];W+=b[R+$+2]-b[N+$+2];h[U+$+2]=l[W];
d+=b[R+$+3]-b[N+$+3];h[U+$+3]=l[d]}R+=a;N+=a;U+=a;g=b[S-4];i=b[S-3];y=b[S-2];o=b[S-1];for(var $=G-B;
$<G;$++){v+=g-b[N];h[U]=l[v];Z+=i-b[N+1];h[U+1]=l[Z];W+=y-b[N+2];h[U+2]=l[W];d+=o-b[N+3];h[U+3]=l[d];
N+=4;U+=4}}};e.Zt.auW=function(b,h,G,H,B){var j=1/(B+B+1),s=G-B-B-1;for(var Y=0;Y<H;Y++){var q=Y*G,Q=q,a=q+B,l=b[q],U=b[q+G-1],N=(B+1)*l;
for(var R=0;R<B;R++)N+=b[q+R];for(var R=0;R<=B;R++){N+=b[a+R]-l;h[q+R]=N*j}a+=B+1;q+=B+1;for(var R=0;
R<s;R++){N+=b[a+R]-b[Q+R];h[q+R]=N*j}a+=s;Q+=s;q+=s;for(var R=G-B;R<G;R++){N+=U-b[Q++];h[q++]=N*j}}};
e.Zt.alz=function(b,h,G,H,B){var j=1/(B+B+1),s=H-B-B-1,q=e.Zt.f1(B);for(var Y=0;Y<G;Y++){var Q=Y,a=Q,l=Q+B*G,U=b[Q],N=b[Q+G*(H-1)],R=(B+1)*U;
for(var S=0;S<B;S++)R+=b[Q+S*G];for(var S=0;S<=B;S++){R+=b[l]-U;h[Q]=q[R];l+=G;Q+=G}for(var S=0;S<s;
S++){var g=S*G;R+=b[l+g]-b[a+g];h[Q+g]=q[R]}a+=s*G;l+=s*G;Q+=s*G;for(var S=H-B;S<H;S++){R+=N-b[a];h[Q]=q[R];
a+=G;Q+=G}}};e.Zt.a6B=function(b,h,G,H,B){var j=G<<2,s=B<<2,q=1/(B+B+1),Q=H-B-B-1,a=Q<<2,l=e.Zt.f1(B);
for(var Y=0;Y<G;Y++){var U=Y<<2,N=U,R=U+B*j,S=U+j*(H-1),g=b[U],i=b[U+1],y=b[U+2],o=b[U+3],v=(B+1)*g,Z=(B+1)*i,W=(B+1)*y,d=(B+1)*o;
for(var $=0;$<B;$++){var I=U+$*j;v+=b[I];Z+=b[I+1];W+=b[I+2];d+=b[I+3]}for(var $=0;$<=B;$++){v+=b[R]-g;
h[U]=l[v];Z+=b[R+1]-i;h[U+1]=l[Z];W+=b[R+2]-y;h[U+2]=l[W];d+=b[R+3]-o;h[U+3]=l[d];R+=j;U+=j}for(var $=0;
$<Q;$++){var k=$*j;v+=b[R+k]-b[N+k];h[U+k]=l[v];Z+=b[R+k+1]-b[N+k+1];h[U+k+1]=l[Z];W+=b[R+k+2]-b[N+k+2];
h[U+k+2]=l[W];d+=b[R+k+3]-b[N+k+3];h[U+k+3]=l[d]}N+=Q*j;R+=Q*j;U+=Q*j;g=b[S];i=b[S+1];y=b[S+2];o=b[S+3];
for(var $=H-B;$<H;$++){v+=g-b[N];h[U]=l[v];Z+=i-b[N+1];h[U+1]=l[Z];W+=y-b[N+2];h[U+2]=l[W];d+=o-b[N+3];
h[U+3]=l[d];N+=j;U+=j}}};e.Zt.a0Y=function(b,h,G,H,B){var j=1/(B+B+1),s=H-B-B-1;for(var Y=0;Y<G;Y++){var q=Y,Q=q,a=q+B*G,l=b[q],U=b[q+G*(H-1)],N=(B+1)*l;
for(var R=0;R<B;R++)N+=b[q+R*G];for(var R=0;R<=B;R++){N+=b[a]-l;h[q]=N*j;a+=G;q+=G}for(var R=0;R<s;R++){var S=R*G;
N+=b[a+S]-b[Q+S];h[q+S]=N*j}Q+=s*G;a+=s*G;q+=s*G;for(var R=H-B;R<H;R++){N+=U-b[Q];h[q]=N*j;Q+=G;q+=G}}};
e.ac={};e.ac.U=function(b,h,G,H){var B=[];for(var j=0;j<4;j++)for(var s=0;s<4;s++)B.push(b+G*s/3,h+H*j/3);
return B};e.ac.a6r=function(b,h){var G=b.slice(0);for(var Y=0;Y<4;Y++)for(var H=0;H<4;H++){var B=2*(Y*4+H),j=2*(H*4+(3-Y));
if(h){var s=B;B=j;j=s}G[j]=b[B];G[j+1]=b[B+1]}return G};e.ac.lB=e.U(0);e.ac.drawImage=function(b,h,G,H,B,j,s){var q=!1,Q=Date.now(),a=2,l=G+2*a,U=H+2*a,N=new io(a,a,G,H),R=N.clone();
R.Mx(a,a);var S=e.ac.lB;if(S.length!=R.X()*4)S=e.ac.lB=e.U(R.X()*4);else S.fill(0);e.JE(h,N,S,R);if(q)console.log(Date.now()-Q,"copy rect");
Q=Date.now();e.yB(S);if(q)console.log(Date.now()-Q,"multiply alpha");Q=Date.now();var g=Math.max(G,H),i=Math.round(50*G/g),y=Math.round(Math.sqrt(3)*.5*50*H/g),o=i-.5,v=[],Z=[],W=[];
for(var d=0;d<y+1;d++){var $=(d&1)==0;for(var I=0;I<i+1;I++){var k=(I-($?.5:0))/o,_=d/y;if(I==0)k=0;
if(I==i)k=1;v.push(l*k,U*_);if(I<i&&d<y){var D=d*(i+1)+I,A=D+1,F=D+i+1,K=F+1;if($)Z.push(D,A,F,F,A,K);
else Z.push(D,A,K,D,K,F)}var V=e.ac.an7(b,k,_);W.push(-V)}}var r=v.slice(0);e.ac.h(b,r,N);e.N.h(r,new eq(1,0,0,1,-j.x,-j.y),r);
if(q)console.log(Date.now()-Q,"mesh built");Q=Date.now();var c=j.j,x=j._;e.SG.gU(S,l,U,B,c,x,v,r,W,Z,s);
if(q)console.log(Date.now()-Q,"rendered");Q=Date.now();e.ME(B);if(q)console.log(Date.now()-Q,"divided");
Q=Date.now()};e.ac.Os=new Array(10);e.ac.Mv=function(b,h){var G=200,H=0,B=0,j=1e9,s=e.ac.Os;for(var q=0;
q<G+1;q++)for(var Q=0;Q<G+1;Q++){var a=Q/G,l=q/G;e.ac.ac1(b,a,l,s);var U=s[8]-h.x,N=s[9]-h.y,R=U*U+N*N;
if(R<j){j=R;H=a;B=l}}return[H,B]};e.ac.h=function(b,h,G){var H=G.x,B=G.y,j=1/G.j,s=1/G._,q=e.ac.Os;for(var Q=0;
Q<h.length;Q+=2){var a=(h[Q]-H)*j,l=(h[Q+1]-B)*s;e.ac.ac1(b,a,l,q);h[Q]=q[8];h[Q+1]=q[9]}};e.ac.an7=function(b,h,G){var H,B,j,s,q=e.ac.Os;
e.ac.atC(b,h,G,q);H=q[8];B=q[9];e.ac.a5s(b,h,G,q);j=q[8];s=q[9];return H*s-B*j};e.ac.GB=function(b,h,G){var H=0,B=0,j=b[2][0],s=b[2][1];
while(H+2<j.length&&j[H+1]<h)H++;h=(h-j[H])/(j[H+1]-j[H]);while(B+2<s.length&&s[B+1]<G)B++;G=(G-s[B])/(s[B+1]-s[B]);
return[H*3,B*3,h,G]};e.ac.ac1=function(b,h,G,H){var B=e.ac.GB(b,h,G);e.ac.sz(H,0,B[3]);e.ac.sz(H,4,B[2]);
e.ac.dZ(b[3],B[0],B[1],b[0],H)};e.ac.atC=function(b,h,G,H){var B=e.ac.GB(b,h,G);e.ac.sz(H,0,B[3]);e.ac.aAl(H,4,B[2]);
e.ac.dZ(b[3],B[0],B[1],b[0],H)};e.ac.a5s=function(b,h,G,H){var B=e.ac.GB(b,h,G);e.ac.aAl(H,0,B[3]);e.ac.sz(H,4,B[2]);
e.ac.dZ(b[3],B[0],B[1],b[0],H)};e.ac.aAl=function(b,Y,h){var G=1-h;b[Y]=-3*(G*G);b[Y+1]=3*(G*G)-6*(h*G);
b[Y+2]=6*(h*G)-3*(h*h);b[Y+3]=3*(h*h)};e.ac.sz=function(b,Y,h){var G=1-h;b[Y]=G*(G*G);b[Y+1]=3*h*(G*G);
b[Y+2]=3*(h*h)*G;b[Y+3]=h*h*h};e.ac.acO=function(b,h,G,H,B){var j=e.ac.GB(b,h,G),s=j[0],q=j[1],Q=j[2],a=j[3],l=b[0],U=Math.floor(Q*3),N=Math.floor(a*3),R=e.ac.Os,S=16,$=0;
e.ac.sz(R,0,a);e.ac.sz(R,4,Q);var g=[],i=[],y=[];for(var o=0;o<4;o++){for(var v=0;v<4;v++){var Y=o*4+v,Z=R[o]*R[4+v];
g.push(Z);i.push((q+o)*l+s+v);if((o==N||o==N+1)&&(v==U||v==U+1)){var W=Q*3-U;if(v==U)W=1-W;var d=a*3-N;
if(o==N)d=1-d;y[Y]=W*d/Z}else y[Y]=0}}for(var Y=0;Y<S;Y++)$+=g[Y]*y[Y];for(var Y=0;Y<S;Y++)y[Y]/=$;for(var Y=0;
Y<S;Y++){var Z=g[Y],I=i[Y];b[3][I*2]+=y[Y]*H;b[3][I*2+1]+=y[Y]*B}};e.ac.BF=function(b){var h=b[0],G=b[1],H=b[2],B=b[3],j=B.slice(0);
for(var s=0;s<G;s++)for(var q=0;q<h;q++){B[(q*G+s)*2]=j[(s*h+q)*2];B[(q*G+s)*2+1]=j[(s*h+q)*2+1]}b[0]=G;
b[1]=h;b[2]=[H[1],H[0]]};e.ac.split=function(b,h,G){if(h==1)e.ac.BF(b);var H=b[0],B=b[1],j=b[2][0],s=b[3],q=0;
while(j[q+1]&&j[q+1]<G)q++;var Q=(G-j[q])/(j[q+1]-j[q]),a=1-Q;for(var l=0;l<B;l++){var Y=(l*(H+3)+q*3)*2,U=a*s[Y]+Q*s[Y+2],N=a*s[Y+1]+Q*s[Y+3],R=a*s[Y+2]+Q*s[Y+4],S=a*s[Y+3]+Q*s[Y+5],g=a*s[Y+4]+Q*s[Y+6],i=a*s[Y+5]+Q*s[Y+7],y=a*U+Q*R,o=a*N+Q*S,v=a*R+Q*g,Z=a*S+Q*i,W=a*y+Q*v,d=a*o+Q*Z;
s.splice(Y+2,4,U,N,y,o,W,d,v,Z,g,i)}j.push(G);j.sort();b[0]+=3;if(h==1)e.ac.BF(b)};e.ac.dZ=function(b,h,G,H,B){var j=0,s=0,q=0,Q=B[0],a=B[1],l=B[2],U=B[3],N=B[4],R=B[5],S=B[6],g=B[7],Y=(G*H+h)*2;
q=Q*N;j+=b[Y+0]*q;s+=b[Y+1]*q;q=Q*R;j+=b[Y+2]*q;s+=b[Y+3]*q;q=Q*S;j+=b[Y+4]*q;s+=b[Y+5]*q;q=Q*g;j+=b[Y+6]*q;
s+=b[Y+7]*q;Y+=H+H;q=a*N;j+=b[Y+0]*q;s+=b[Y+1]*q;q=a*R;j+=b[Y+2]*q;s+=b[Y+3]*q;q=a*S;j+=b[Y+4]*q;s+=b[Y+5]*q;
q=a*g;j+=b[Y+6]*q;s+=b[Y+7]*q;Y+=H+H;q=l*N;j+=b[Y+0]*q;s+=b[Y+1]*q;q=l*R;j+=b[Y+2]*q;s+=b[Y+3]*q;q=l*S;
j+=b[Y+4]*q;s+=b[Y+5]*q;q=l*g;j+=b[Y+6]*q;s+=b[Y+7]*q;Y+=H+H;q=U*N;j+=b[Y+0]*q;s+=b[Y+1]*q;q=U*R;j+=b[Y+2]*q;
s+=b[Y+3]*q;q=U*S;j+=b[Y+4]*q;s+=b[Y+5]*q;q=U*g;j+=b[Y+6]*q;s+=b[Y+7]*q;Y+=H+H;B[8]=j;B[9]=s};e.vE={};
e.vE.aor=function(b,h,G){var H=Date.now(),B=new ArrayBuffer(h*G*16),j=e.vE.ax8(b,h,G,B),s=e.vE.aBi(h,G,B);
return{aM:s,Vp:j}};e.vE.a4r=function(b,h,G){var H=Math.round(b.length/8),B=new Uint32Array(H),j=new Uint8Array(H),s=new Uint32Array(H);
e.Zi(B,4294967295,0);B[G]=0;var q=new dS(H);q.push(G,B[G]);var Q={aM:b,Vp:h,Mt:B,Zl:j,R6:s,RY:q,a6Y:G};
return Q};e.vE.ZL=function(b,h){var G=b.aM,H=b.Vp,B=b.Mt,j=b.Zl,s=b.R6,q=b.RY;while(!q.Zx()&&(h==null||j[h]==0)){var Q=q.pop();
j[Q]=1;for(var Y=0;Y<8;Y++){var a=G[8*Q+Y],l=Q+a;if(a==0||j[l])continue;var U=B[Q]+H[8*Q+Y];if(q.contains(l)&&U<B[l])q.remove(l,B[l]);
if(!q.contains(l)){B[l]=U;s[l]=Q;q.push(l,B[l])}}}};function dS(b){this.Z6=new Uint32Array(b);this.list=[];
this.nG=0;this.Hl=4294967295}dS.prototype.Zx=function(){return this.nG==0};dS.prototype.push=function(b,h){var G=this.list;
if(G[h]==null)G[h]=[];G[h].push(b);this.nG++;this.Z6[b]=G[h].length-1+1;this.Hl=Math.min(this.Hl,h)};
dS.prototype.pop=function(){this.nG--;var b=this.list,h=this.Hl,G=b[h].pop();if(b[h].length==0)b[h]=null;
this.a4w();this.Z6[G]=0;return G};dS.prototype.contains=function(b){return this.Z6[b]!=0};dS.prototype.remove=function(b,h){this.nG--;
var G=this.list,Y=this.Z6[b]-1;if(Y==G[h].length-1)G[h].pop();else{var H=G[h].pop();G[h][Y]=H;this.Z6[H]=Y+1}if(G[h].length==0)G[h]=null;
this.Z6[b]=0;this.a4w()};dS.prototype.a4w=function(){if(this.nG==0){this.Hl=4294967295;return}var b=this.Hl,h=this.list;
while(h[b]==null)b++;this.Hl=b};e.vE.avn=function(b,h,G,H){var B=new Int16Array(H);for(var j=0;j<G;j++)for(var s=0;
s<h;s++){var Y=j*h+s,q=0;if(1<s&&s<h-2&&1<j&&j<G-2){q+=b[Y-h-h];q+=b[Y-h-1]+2*b[Y-h]+b[Y-h+1];q+=b[Y-2]+2*b[Y-1]-16*b[Y]+2*b[Y+1]+b[Y+2];
q+=b[Y+h-1]+2*b[Y+h]+b[Y+h+1];q+=b[Y+h+h]}else q=-16*b[Y];B[Y]=q}return B};e.vE.axp=function(b,h,G,H){if(H==null)H=128;
var B=new Uint8Array(h*G);for(var j=1;j<G-1;j++)for(var s=1;s<h-1;s++){var Y=j*h+s;B[Y]=e.vE.aig(b[Y],b[Y-1],b[Y+1],b[Y-h],b[Y+h],H)}return B};
e.vE.aig=function(b,h,G,H,B,j){var s=Math.abs(b);return b*h<0&&s<Math.abs(h)&&Math.abs(h-b)>j||b*G<0&&s<Math.abs(G)&&Math.abs(G-b)>j||b*H<0&&s<Math.abs(H)&&Math.abs(H-b)>j||b*B<0&&s<Math.abs(B)&&Math.abs(B-b)>j?1:0};
e.vE.aEG=function(b,h,G,H){var B=new Float32Array(H),j=0;new Uint32Array(H).fill(0);for(var s=0;s<G;
s++)for(var q=0;q<h;q++){var Q=0,a=0,Y=s*h+q,l=Y*3;if(0<q&&q<h-1)Q=b[Y+1]-b[Y-1];if(0<s&&s<G-1)a=b[Y+h]-b[Y-h];
var U=B[l+2]=Math.sqrt(Q*Q+a*a);if(U!=0){var N=1/U;B[l]=Q*N;B[l+1]=a*N}if(U>j)j=U}var R=h*G,S=j==0?0:1/j;
for(var Y=0;Y<R;Y++)B[Y*3+2]=1-B[Y*3+2]*S;return B};e.vE.ahf=function(b,h,G){return G[~~((.5+.5*b)*255)]+G[~~((.5+.5*h)*255)]};
e.vE.ax8=function(b,h,G,H){var B=Date.now(),j=e.vE.avn(b,h,G,H),s=e.vE.axp(j,h,G),q=e.vE.aEG(b,h,G,H),Q=new Float32Array(256);
for(var Y=0;Y<256;Y++)Q[Y]=Math.acos(-1+2*Y/255)*(.95/Math.PI);var a=[-1,0,1,1,1,0,-1,-1],l=[-1,-1,-1,0,1,1,1,0];
for(var Y=0;Y<8;Y++){var U=1/Math.sqrt(a[Y]*a[Y]+l[Y]*l[Y]);a[Y]*=U;l[Y]*=U}var N=[a[0],l[0],a[1],l[1],a[2],l[2],a[3],l[3]],R=[-h-1,-h,-h+1,1],S=new Uint8Array(h*G*8);
new Uint32Array(S.buffer).fill(4294967295);var g=h*G;for(var i=1;i<G-1;i++)for(var y=1;y<h-1;y++){var o=i*h+y,v=1-s[o],Z=q[o*3+2],W=q[3*o+1],d=-q[3*o];
for(var $=0;$<4;$++){var I=o+R[$];e.vE.a6d(o,I,$,S,s,q,v,Z,W,d,N,Q)}}return S};e.vE.a6d=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=1-B[h],R=(G&1)==0?1:Math.SQRT1_2,S=j[h*3+2]*R,g=j[3*h+1],i=-j[3*h],y=q*R,o=l[G+G],v=l[G+G+1],Z=Q*o+a*v,W=g*o+i*v;
if(Z+W<0){Z=-Z;W=-W}var d=e.vE.ahf(Z,W,U);H[(b<<3)+G]=e.vE.aEn(N,d,S);H[(h<<3)+G+4]=e.vE.aEn(s,d,y)};
e.vE.aEn=function(b,h,G){return 1+~~(.5+20*(.43*b+.43*h+.14*G))};e.vE.aBi=function(b,h,G){var H=new Int16Array(G),B=H,Y=0,j=0;
new Uint32Array(G).fill(0);for(var s=0;s<h;s++)for(var q=0;q<b;q++){if(s>0&&q>0)B[j+0]=-b-1;if(s>0)B[j+1]=-b;
if(s>0&&q<b-1)B[j+2]=-b+1;if(q<b-1)B[j+3]=1;if(s<h-1&&q<b-1)B[j+4]=b+1;if(s<h-1)B[j+5]=b;if(s<h-1&&q>0)B[j+6]=b-1;
if(q>0)B[j+7]=-1;Y++;j+=8}return H};e.aU={};e.aU.Ol=function(b){var h=b.slice(0),G=0;for(var Y=0;Y<b.length;
Y++)G+=b[Y];for(var Y=0;Y<b.length;Y++)h[Y]/=G;return h};e.aU.UP=[e.aU.Ol([1,2,1,2,16,2,1,2,1]),e.aU.Ol([1,2,1,2,4,2,1,2,1]),e.aU.Ol([0,-1,0,-1,8,-1,0,-1,0]),e.aU.Ol([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
e.aU.c_=function(b,h,G,H,B,j,s,q){if(s==null)s=!1;if(q==null)q=!1;var Q=Math.floor(Math.sqrt(B.length)),a=Q-1>>>1,l=new Uint32Array(b.buffer),h=new Uint8ClampedArray(h.buffer);
for(var Y=0;Y<H;Y++)for(var U=0;U<G;U++){var N=0,R=0,S=0,g=0;for(var i=0;i<Q;i++)for(var y=0;y<Q;y++){var o=B[i*Q+y];
if(o==0)continue;var v=U-a+y,Z=Y-a+i;if(v<0)v=0;else if(v>G-1)v=G-1;if(Z<0)Z=0;else if(Z>H-1)Z=H-1;if(q&&l[Z*G+v]>>>24==0){Z=Y;
v=U}var W=l[Z*G+v];N+=(W&255)*o;R+=(W>>>8&255)*o;S+=(W>>>16&255)*o;g+=(W>>>24&255)*o}if(s){if(N<0)N=-N;
if(R<0)R=-R;if(S<0)S=-S;if(g<0)g=-g}if(q){N=Math.max(0,Math.min(255,N));R=Math.max(0,Math.min(255,R));
S=Math.max(0,Math.min(255,S));g=Math.max(0,Math.min(255,g))}var d=Y*G+U<<2;h[d]=~~(.5+N);h[d+1]=~~(.5+R);
h[d+2]=~~(.5+S);h[d+3]=255-j&h[d+3]|j&~~(.5+g)}};e.aU.aF3=function(b,h,G,H){var B=b.length,j=new Uint8Array(B);
e.aU.c_(b,h,G,H,e.aU.UP[4],0,!0);e.aU.c_(b,j,G,H,e.aU.UP[5],0,!0);for(var Y=0;Y<B;Y+=4){var s=h[Y],q=h[Y+1],Q=h[Y+2],a=h[Y+3],l=j[Y],U=j[Y+1],N=j[Y+2],R=j[Y+3];
h[Y]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+l*l)));h[Y+1]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+U*U)));
h[Y+2]=255-Math.max(0,Math.min(255,Math.sqrt(Q*Q+N*N)))}};e.aU.awQ=function(b,h,G,H){var B=b.length,j=new Uint8Array(B);
e.aU.Ui(b,h,G,H,e.aU.UP[4],!0);e.aU.Ui(b,j,G,H,e.aU.UP[5],!0);for(var Y=0;Y<B;Y++){var s=h[Y],q=j[Y];
h[Y]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+q*q)))}};e.aU.Ui=function(b,h,G,H,B,j){h=new Uint8ClampedArray(h.buffer);
var s=[-G-1,-G,-G+1,-1,0,1,G-1,G,G+1],q=H-1,Q=G-1;for(var Y=1;Y<q;Y++)for(var a=1;a<Q;a++){var l=Y*G+a,U=e.aU.TX(b,l,G,B);
if(j){if(U<0)U=-U}h[l]=~~(U+.5)}};e.aU.TX=function(b,h,G,H){return b[h-G-1]*H[0]+b[h-G]*H[1]+b[h-G+1]*H[2]+b[h-1]*H[3]+b[h]*H[4]+b[h+1]*H[5]+b[h+G-1]*H[6]+b[h+G]*H[7]+b[h+G+1]*H[8]};
e.aU.ay0=function(b,h,G,H,B){var j=[-G-1,-G,-G+1,-1,0,1,G-1,G,G+1],s=H-1,q=G-1;for(var Y=1;Y<s;Y++)for(var Q=1;
Q<q;Q++){var a=Y*G+Q;h[a]=e.aU.a9B(b,a,G,B)}};e.aU.a9B=function(b,h,G,H){return b[h-G-1]*H[0]+b[h-G]*H[1]+b[h-G+1]*H[2]+b[h-1]*H[3]+b[h]*H[4]+b[h+1]*H[5]+b[h+G-1]*H[6]+b[h+G]*H[7]+b[h+G+1]*H[8]};
e.wG={};e.wG.st=function(){function b(s,q,Q,a,l,U){if(l==0){q.set(s);return}var N=e.U(Q*a),R=e.U(Q*a);
if(e.qP(s)){h(s,q,Q,a,l,U);e.uA(s,N,3);e.wG.a89(N,R,Q,a,l,U);e.aj(R,q,3)}else{for(var Y=0;Y<3;Y++){e.uA(s,N,Y);
e.wG.a89(N,R,Q,a,l,U);e.aj(R,q,Y)}}}function h(s,q,Q,a,l,U){var N=0,R=new ArrayBuffer(512*4*3),S=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],g=1+2*Math.round(Math.sqrt(l)),i=g>>>1,y=new Array(g),o=new Array(g);
for(var Y=0;Y<g;Y++){var R=new ArrayBuffer(512*4*3);y[Y]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
o[Y]=y[Y][0]}var v=[e.wG.ys,e.wG.V5][U],Z=v[0],W=v[1],d=S[0];for(var $=0;$<Q;$++)if($<l||$>Q-l-g-1){d.fill(0);
var I=Math.max($-l,0),k=Math.min(Q,$+l+1),_=k-I;for(var D=0;D<l;D++)H(d,s,D*Q+I,D*Q+k,1);for(var D=0;
D<a;D++){var A=D-l-1,F=D+l;if(F<a)H(d,s,F*Q+I,F*Q+k,1);if(A>=0)H(d,s,A*Q+I,A*Q+k,-1);var K=D*Q+$<<2;
N=d[300];if(N!=0)for(var Y=0;Y<3;Y++)q[K+Y]=Z(S[Y],s[K+Y],N)}}else{for(var Y=0;Y<g;Y++)o[Y].fill(0);
var I=$-l+i,k=$+l+1+i;for(var D=0;D<l;D++)G(o,s,D*Q+I,D*Q+k,1,i);for(var D=0;D<a;D++){var A=D-l-1,F=D+l;
if(A>=0)G(o,s,A*Q+I,A*Q+k,-1,i);if(F<a)G(o,s,F*Q+I,F*Q+k,1,i);var V=y[i];N=V[0][300];for(var Y=0;Y<i;
Y++){var r=i-1-Y,c=i+1+Y,M=y[r],f=y[c],t=N+M[0][300],n=N+f[0][300],L=D*Q+$+r<<2,P=D*Q+$+c<<2;if(t!=0)for(var z=0;
z<3;z++)q[L+z]=W(V[z],M[z],s[L+z],t);if(n!=0)for(var z=0;z<3;z++)q[P+z]=W(V[z],f[z],s[P+z],n)}var K=D*Q+$+i<<2;
if(N!=0)for(var z=0;z<3;z++)q[K+z]=Z(V[z],s[K+z],N)}$+=g-1}}function G(s,q,Q,a,l,U){var N=B,R=Q<<2,S=a<<2;
N(s[U-1],q,Q-1<<2,l);N(s[U-1],q,a-1<<2,-l);N(s[U+1],q,a<<2,l);N(s[U+1],q,Q<<2,-l);for(var Y=1;Y<U;Y++){var g=s[U-Y-1],i=s[U+Y+1];
for(var y=0;y<=Y;y++){var o=y<<2;N(g,q,Q-1-y<<2,l);N(g,q,a-1-y<<2,-l);N(i,q,a+y<<2,l);N(i,q,Q+y<<2,-l)}}H(s[U],q,Q,a,l)}function H(s,q,Y,Q,a){var l=Y<<2,U=Q<<2;
while(l<U){B(s,q,l,a);l+=4}}function B(s,q,Q,a){var l=a*q[Q+3];s[300]+=l;j(s,q[Q],0,l);j(s,q[Q+1],512,l);
j(s,q[Q+2],1024,l)}function j(s,q,Q,a){s[Q|q]+=a;s[Q|256|q>>>4]+=a}return b}();e.wG.a89=function(){function b(U,N,R,S,g,i){if(g==0){N.set(U);
return}if(g<=200)h(U,N,R,S,g,i);else j(U,N,R,S,g,i)}function h(U,N,R,S,g,i){var y=0,o=new Int32Array(512),v=1+2*Math.round(Math.sqrt(g)),Z=v>>>1,W=new Array(v);
for(var Y=0;Y<v;Y++)W[Y]=new Int32Array(512);var d=[e.wG.ys,e.wG.V5][i],$=d[0],I=d[1];for(var k=0;k<R;
k++)if(k<g||k>R-g-v-1){o.fill(0);y=0;var _=Math.max(k-g,0),D=Math.min(R,k+g+1),A=D-_;for(var F=0;F<g;
F++){y+=A;H(o,U,F*R+_,F*R+D,1)}for(var F=0;F<S;F++){var K=F-g-1,V=F+g;if(K>=0){y-=A;H(o,U,K*R+_,K*R+D,-1)}if(V<S){y+=A;
H(o,U,V*R+_,V*R+D,1)}var r=$(o,U[F*R+k],y);N[F*R+k]=r}}else{for(var Y=0;Y<v;Y++)W[Y].fill(0);y=0;var _=k-g+Z,D=k+g+1+Z,A=D-_;
for(var F=0;F<g;F++){y+=A;G(W,U,F*R+_,F*R+D,1,Z)}for(var F=0;F<S;F++){var K=F-g-1,V=F+g;if(K>=0){y-=A;
G(W,U,K*R+_,K*R+D,-1,Z)}if(V<S){y+=A;G(W,U,V*R+_,V*R+D,1,Z)}for(var Y=0;Y<Z;Y++){var c=Z-1-Y,M=Z+1+Y;
N[F*R+k+c]=I(W[Z],W[c],U[F*R+k+c],y);N[F*R+k+M]=I(W[Z],W[M],U[F*R+k+M],y)}N[F*R+k+Z]=$(W[Z],U[F*R+k+Z],y)}k+=v-1}}function G(U,N,R,S,g,i){var y=B;
y(U[i-1],N[R-1],0,g);y(U[i-1],N[S-1],0,-g);y(U[i+1],N[S],0,g);y(U[i+1],N[R],0,-g);for(var Y=1;Y<i;Y++){var o=U[i-Y-1],v=U[i+Y+1];
for(var Z=0;Z<=Y;Z++){y(o,N[R-1-Z],0,g);y(o,N[S-1-Z],0,-g);y(v,N[S+Z],0,g);y(v,N[R+Z],0,-g)}}H(U[i],N,R,S,g)}function H(U,N,Y,R,S){while(Y<R)B(U,N[Y++],0,S)}function B(U,N,R,S){U[R|N]+=S;
U[R|256|N>>>4]+=S}function j(U,N,R,S,g,i){var y=0,o=new Int32Array(512),v=new Int32Array(1*R),Z=new Int32Array(512*R),W=Math.min(g,R),d=Math.min(g,S),$=[e.wG.ys,e.wG.V5][i],I=$[0];
for(var k=0;k<d;k++)s(Z,v,U,R,k,1);for(var k=0;k<S;k++){if(k+g<S)s(Z,v,U,R,k+g,1);if(k-g-1>=0)s(Z,v,U,R,k-g-1,-1);
o.fill(0);y=0;for(var _=0;_<W;_++){y+=v[_];q(o,Z,_)}for(var _=0;_<R;_++){var D=_-g-1,A=_+g;if(D>=0&&v[D]!=0){y-=v[D];
Q(o,Z,D)}if(A<R&&v[A]!=0){y+=v[A];q(o,Z,A)}var F=y==0?0:I(o,U[k*R+_],y);N[k*R+_]=F}}}function s(U,N,R,S,g,i){var Y=g*S;
for(var y=0;y<S;y++){B(U,R[Y+y],y<<9,i);N[y]+=i}}function q(U,N,R){for(var Y=0;Y<16;Y++){var S=N[R<<9|256|Y];
if(S==0)continue;U[256|Y]+=S;var g=Y<<4,i=R<<9|g;a(U,N,g,i);a(U,N,g+4,i+4);a(U,N,g+8,i+8);a(U,N,g+12,i+12)}}function Q(U,N,R){for(var Y=0;
Y<16;Y++){var S=N[R<<9|256|Y];if(S==0)continue;U[256|Y]-=S;var g=Y<<4,i=R<<9|g;l(U,N,g,i);l(U,N,g+4,i+4);
l(U,N,g+8,i+8);l(U,N,g+12,i+12)}}function a(U,N,R,S){U[R]+=N[S];U[R+1]+=N[S+1];U[R+2]+=N[S+2];U[R+3]+=N[S+3]}function l(U,N,R,S){U[R]-=N[S];
U[R+1]-=N[S+1];U[R+2]-=N[S+2];U[R+3]-=N[S+3]}return b}();e.wG.mh=.5;e.wG.ys=[function(b,h,G){var H=~~(.5+e.wG.mh*G),B=0,Y=256;
while(B+b[Y]<H)B+=b[Y++];Y=Y-256<<4;while(B<H)B+=b[Y++];return Y-1},function(b,h,G,H){var B=~~(.5+e.wG.mh*H),j=0,Y=256;
while(j+b[Y]+h[Y]<B){j+=b[Y]+h[Y];Y++}Y=Y-256<<4;while(j<B){j+=b[Y]+h[Y];Y++}return Y-1}];e.wG.y7=100;
e.wG.V5=[function(b,h,G){var H=e.wG.y7,B=0,j=0,Y=Math.max(0,h-H),s=Math.min(256,h+H+1);while(Y<s){var q=b[Y];
B+=Y*q;j+=q;Y++}return j==0?0:B/j},function(b,h,G,H){var B=e.wG.y7,j=0,s=0,Y=Math.max(0,G-B),q=Math.min(256,G+B+1);
while(Y<q){var Q=b[Y]+h[Y];j+=Y*Q;s+=Q;Y++}return s==0?0:j/s}];e.t={};e.t.G3=function(b){var h=E.Y.DM(b.Trnf),G=b.Sz.v,H=e.t.Kt(h,new io(0,0,G.Wdth.v,G.Hght.v));
return e.t.lt(H)};e.t.Kt=function(b,h){var G=b[0],H=b[1],B=b[2],j=b[3],s=b[6],q=b[7],Q=b[4],a=b[5],l=0,U=0,N=1,R=0,S=0,g=1,i=1,y=1;
if(h){l=h.x;U=h.y;N=h.x+h.j;R=h.y;S=h.x;g=h.y+h._;i=h.x+h.j;y=h.y+h._}return e.t.aya(b,[l,U,N,R,i,y,S,g])};
e.t.apk=function(b){function h(B,j){for(var Y=0;Y<j.length;Y+=2)if(!G(B,j[Y],j[Y+1]))return!1;return!0}function G(B,j,s){return B[2*j]==B[2*s]&&B[2*j+1]==B[2*s+1]}var H=0;
if(h(b,[0,1,2,3]))H+=1;if(h(b,[0,3,1,2]))H+=2;return H};e.t.aya=function(b,h){function G(r,Y,c){var F=r[Y*2]-r[c*2],K=r[Y*2+1]-r[c*2+1];
return Math.sqrt(F*F+K*K)}var H=b[0],B=b[1],j=b[2],s=b[3],q=b[6],Q=b[7],a=b[4],l=b[5],U=h[0],N=h[1],R=h[2],S=h[3],g=h[6],i=h[7],y=h[4],o=h[5],v=[[U,N,1,0,0,0,-U*H,-N*H,H],[0,0,0,U,N,1,-U*B,-N*B,B],[R,S,1,0,0,0,-R*j,-S*j,j],[0,0,0,R,S,1,-R*s,-S*s,s],[g,i,1,0,0,0,-g*q,-i*q,q],[0,0,0,g,i,1,-g*Q,-i*Q,Q],[y,o,1,0,0,0,-y*a,-o*a,a],[0,0,0,y,o,1,-y*l,-o*l,l]],Z=[0,0,0,0,0,0,0,0],W=e.GF.$T(v,Z);
if(W!=0){Z=[0,0,0,0,0,0,0,0];var d=e.t.apk(b),$=e.t.apk(h);if(d==$&&d!=0){var I=d==1,k=I?3:1,_=G(b,0,k),D=G(h,0,k),A=D/_,F=b[2*k]-b[0],K=b[2*k+1]-b[1],V=new eq;
V.translate(-H,-B);V.rotate(Math.atan2(K,F)-(I?Math.PI/2:0));if(I)V.scale(1,A);else V.scale(A,1);V.translate(U,N);
V.Q6();Z=e.t.UE(V)}}return Z};e.t.U=function(b,h){if(b==null)b=h=0;return[1,0,b,0,1,h,0,0]};e.t.mK=function(b){return Math.abs(b[6])<1e-10&&Math.abs(b[7])<1e-10};
e.t.lt=function(b){return new eq(b[0],b[3],b[1],b[4],b[2],b[5])};e.t.UE=function(b){return[b.G,b.YW,b.Kv,b.J,b.tW,b.d0,0,0]};
e.t.h=function(b,h){var G=new Float64Array(2);for(var H=0;H<h.length;H+=2){var B=h[H],j=h[H+1];e.t.Vc(B,j,b,G);
h[H]=G[0];h[H+1]=G[1]}};e.t.Vc=function(b,h,G,H){var B=1/(G[6]*b+G[7]*h+1);H[0]=(G[0]*b+G[1]*h+G[2])*B;
H[1]=(G[3]*b+G[4]*h+G[5])*B};e.t.a2k=function(b,h){var G=new Float64Array(2);e.t.Vc(h.x,h.y,b,G);return new cJ(G[0],G[1])};
e.t.BF=function(b,h,G,H){b=new Uint32Array(b.buffer);h=new Uint32Array(h.buffer);for(var B=0;B<H;B++){for(var j=0;
j<G;j++){h[j*H+B]=b[B*G+j]}}};e.t.jt=function(b,h,G,H){b=new Uint32Array(b.buffer);h=new Uint32Array(h.buffer);
for(var B=0;B<H;B++){for(var j=0;j<G;j++){h[B*G+j]=b[B*G+G-1-j]}}};e.t.a3N=function(b,h,G,H){b=new Uint32Array(b.buffer);
h=new Uint32Array(h.buffer);for(var B=0;B<H;B++){for(var j=0;j<G;j++){h[B*G+j]=b[(H-1-B)*G+j]}}};e.t.a1j=function(b){return Math.abs(b[6])<1e-9&&Math.abs(b[7])<1e-9};
e.t.aEK=function(b){return Math.abs(b[0])<1e-9&&Math.abs(b[4])<1e-9||Math.abs(b[1])<1e-9&&Math.abs(b[3])<1e-9};
e.t.drawImage=function(b,h,G,H,B,j,s,q,Q){if(s==null)s=!1;if(q==null)q=!1;var a=e.t.Q6(b),l=!0,U=0;for(var Y=0;
Y<8;Y++){var N=Math.round(b[Y]);if(Y!=2&&Y!=5)U+=Math.abs(N);if(Math.abs(N-b[Y])>1e-9)l=!1}var R=e.t.a1j(b),S=e.t.aEK(b)&&R,g=S?1:0;
if(s||l&&U==G+H&&R){e.t.aDh(a,h,G,H,B,j,q,R,Q);return}var i=j.j,y=j._,o=new Float64Array(2);B=new Uint32Array(B.buffer);
h=new Uint32Array(h.buffer);for(var v=0;v<y;v++)for(var Z=0;Z<i;Z++){var W=v*i+Z,d,$,I,k,M=0,f=0,t=0,n=0;
B[W]=0;var _=Z+j.x+.5,D=v+j.y+.5;d=_;$=D;I=a;var A=I[0]*d+I[1]*$+I[2],F=I[3]*d+I[4]*$+I[5];if(!R){k=1/(I[6]*d+I[7]*$+1);
A*=k;F*=k}var K=A*G,V=F*H,r=K<-1||K>G+1||V<-1||V>H+1;if(q){K=Math.max(.001,Math.min(G-1,K));V=Math.max(.001,Math.min(H-1,V))}else if(r)continue;
var c=e.t.aoB(b,G,H,_,D,A,F),x=Math.round(c*2.3);if(c<1.1){e.t.LU(K,V,h,G,H,B,W,g);continue}if(!q&&(K<.6||K>G-.6||V<.6||V>H-.6)){x=Math.max(x,5)}if(q&&r)x=1;
var X=1/x,L=j.x+Z,P=j.y+v;I=a;for(var Y=0;Y<x;Y++)for(var z=0;z<x;z++){d=L+(Y+.5)*X;$=P+(z+.5)*X;var K=I[0]*d+I[1]*$+I[2],V=I[3]*d+I[4]*$+I[5];
if(!R){k=1/(I[6]*d+I[7]*$+1);K*=k;V*=k}if(q){K=Math.max(.001,Math.min(.999,K));V=Math.max(.001,Math.min(.999,V))}else if(K<0||K>=1||V<0||V>=1)continue;
K=Math.floor(K*G);V=Math.floor(V*H);var T=V*G+K,p=h[T],m=p>>>24;M+=(p&255)*m;f+=(p>>>8&255)*m;t+=(p>>>16&255)*m;
n+=m}if(n!=0){var O=1/n;M=~~(M*O+.5);f=~~(f*O+.5);t=~~(t*O+.5);n=~~(n*X*X+.5);B[W]=n<<24|t<<16|f<<8|M}}};
e.t.aoB=function(b,h,G,H,B,j,s){var q=e.t.a0R(b,H,B,j+1/h,s),Q=e.t.a0R(b,H,B,j,s+1/G);return 1/Math.sqrt(Math.max(q,Q))};
e.t.a0R=function(b,h,G,H,B){var j=1/(b[6]*H+b[7]*B+1),s=(b[0]*H+b[1]*B+b[2])*j-h,q=(b[3]*H+b[4]*B+b[5])*j-G;
return s*s+q*q};e.t.aDh=function(b,h,G,H,B,j,s,q,Q){if(q&&!s&&j.X()>4e6&&Q){e.t.a2G(b,h,G,H,B,j,s,q,Q);
return}var a=j.x+j.j,l=j.y+j._,U=0,N=new Uint32Array(B.buffer),R=new Uint32Array(h.buffer),S=b[0]*G,g=b[1]*G,i=b[2]*G,y=b[3]*H,o=b[4]*H,v=b[5]*H,Z=b[6],W=b[7];
if(q&&!s)for(var d=j.y+.5;d<l;d++)for(var $=j.x+.5;$<a;$++){var I=S*$+g*d+i,k=y*$+o*d+v;if(0<I&&I<G&&0<k&&k<H){var _=~~k*G+~~I;
N[U]=R[_]}else N[U]=0;U++}else for(var d=j.y+.5;d<l;d++)for(var $=j.x+.5;$<a;$++){var D=1/(Z*$+W*d+1),I=(S*$+g*d+i)*D,k=(y*$+o*d+v)*D;
if(s){I=Math.max(.001,Math.min(G-1,I));k=Math.max(.001,Math.min(H-1,k))}if(0<I&&I<G&&0<k&&k<H){var _=Math.floor(k)*G+Math.floor(I);
N[U]=R[_]}else N[U]=0;U++}};e.t.a2G=function(b,h,G,H,B,j,s,q,Q){var a=new Uint32Array(B.buffer),l=new Uint32Array(h.buffer),W=0;
if(Q&&(j.j&3)!=0)throw"e";var U=b[0]*G,N=b[1]*G,R=b[2]*G,S=b[3]*H,g=b[4]*H,i=b[5]*H,y=b[6],o=b[7],v=j.j,Z=j._,d=j.x+.5,$=j.y+.5,I=(v>>>2<<2)-1e-9,k=-.1+(Z>>>1<<1)-1e-9,_=~~G,D=U==0?0:1/U,A=S==0?0:1/S;
for(var F=0;F<Z;F++){var K=d*U+N*(F+$)+R,V=d*S+g*(F+$)+i,r=0,c=v;if(U==0){}else if(D>0){r=Math.max(r,-K*D);
c=Math.min(c,(G-K)*D)}else{c=Math.min(c,-K*D);r=Math.max(r,(G-K)*D)}if(S==0){}else if(A>0){r=Math.max(r,-V*A);
c=Math.min(c,(H-V)*A)}else{c=Math.min(c,-V*A);r=Math.max(r,(H-V)*A)}if(c<0)c=0;if(r>c)r=c;r=~~Math.ceil(r);
c=~~c;W=~~(F*v);a.fill(0,W,W+r);W+=r;for(var x=r;x<c;x+=4){var X=U*x+K,M=S*x+V,f=~~M*_+~~X,t=l[f];a[W]=t;
a[W+1]=t;a[W+2]=t;a[W+3]=t;W+=4}a.fill(0,W,W+v-c)}};e.t.Q6=function(b){var h=b[4]-b[5]*b[7],G=b[2]*b[7]-b[1],H=b[1]*b[5]-b[2]*b[4],B=b[5]*b[6]-b[3],j=b[0]-b[2]*b[6],s=b[3]*b[2]-b[0]*b[5],q=b[3]*b[7]-b[4]*b[6],Q=b[1]*b[6]-b[0]*b[7],a=1/(b[0]*b[4]-b[1]*b[3]);
return[h*a,G*a,H*a,B*a,j*a,s*a,q*a,Q*a]};e.t.Z$=function(b,h){var G=b[0],H=b[1],B=b[2],j=b[3],s=b[4],q=b[5],Q=b[6],a=b[7],l=h[0],U=h[1],N=h[2],R=h[3],S=h[4],g=h[5],i=h[6],y=h[7],o=[G*l+H*R+B*i,G*U+H*S+B*y,G*N+H*g+B,j*l+s*R+q*i,j*U+s*S+q*y,j*N+s*g+q,Q*l+a*R+i,Q*U+a*S+y],v=1/(Q*N+a*g+1);
for(var Y=0;Y<8;Y++)o[Y]*=v;return o};e.t.LU=function(b,h,G,H,B,j,s,q){var Q=b,a=h,N=0,R=0,S=0,g=0;b-=.499999;
h-=.499999;var l=Math.floor(b),U=Math.floor(h);if(q==0){var Y=U*H+l,i=l>=0&&l<H,y=l+1>=0&&l+1<H,o=U>=0&&U<B,v=U+1>=0&&U+1<B;
if(i&&o)N=G[Y];if(y&&o)R=G[Y+1];if(i&&v)S=G[Y+H];if(y&&v)g=G[Y+H+1]}else if(q==1){var Z=l<0?0:l>H-1?H-1:l,W=l<-1?0:l>H-2?H-1:l+1,d=U<0?0:U>B-1?B-1:U,$=U<-1?0:U>B-2?B-1:U+1;
N=G[d*H+Z];R=G[d*H+W];S=G[$*H+Z];g=G[$*H+W]}else{var Z=(l+50*H)%H,W=(l+50*H+1)%H,d=(U+50*B)%B,$=(U+50*B+1)%B;
N=G[d*H+Z];R=G[d*H+W];S=G[$*H+Z];g=G[$*H+W]}var I=b-l,k=h-U,_=(1-k)*(1-I)*(N>>>24),D=(1-k)*I*(R>>>24),A=k*(1-I)*(S>>>24),F=k*I*(g>>>24),K=_+D+A+F,V=_*(N&255)+D*(R&255)+A*(S&255)+F*(g&255),r=_*(N>>>8&255)+D*(R>>>8&255)+A*(S>>>8&255)+F*(g>>>8&255),c=_*(N>>>16&255)+D*(R>>>16&255)+A*(S>>>16&255)+F*(g>>>16&255);
if(K==0)j[s]=0;else{var x=1/K;V=~~(V*x+.5);r=~~(r*x+.5);c=~~(c*x+.5);K=~~(K+.5);j[s]=K<<24|c<<16|r<<8|V}};
e.t.agu=function(b,h,G,H,B,j){var s=b-.499999,q=h-.499999,Q=~~s,a=~~q,l=s-Q,U=q-a,N=(1-U)*(1-l),R=(1-U)*l,S=U*(1-l),g=U*l,i=a*H+Q<<2,y=(a+1)*H+Q<<2,o=N*G[i]+R*G[i+4]+S*G[y]+g*G[y+4],v=N*G[i+1]+R*G[i+5]+S*G[y+1]+g*G[y+5],Z=N*G[i+2]+R*G[i+6]+S*G[y+2]+g*G[y+6],W=N*G[i+3]+R*G[i+7]+S*G[y+3]+g*G[y+7];
j[0]=o;j[1]=v;j[2]=Z;j[3]=W};e.t.Hp=function(b,h,G,H,B){b-=.499999;h-=.499999;var j=Math.floor(b),s=Math.floor(h),q=b-j,Q=h-s,a=(1-Q)*(1-q),l=(1-Q)*q,U=Q*(1-q),N=Q*q,R=(j+50*H)%H,S=(j+1+50*H)%H,g=(s+50*B)%B,i=(s+1+50*B)%B,y=G[g*H+R],o=G[g*H+S],v=G[i*H+R],Z=G[i*H+S];
if(y==null||Z==null)throw"e";return a*y+l*o+U*v+N*Z};e.t.a2V=function(b,h,G,H,B){b-=.499999;h-=.499999;
var j=Math.floor(b),s=Math.floor(h),q=b-j,Q=h-s,a=(1-Q)*(1-q),l=(1-Q)*q,U=Q*(1-q),N=Q*q,R=0,S=s*H+j,g=S+H;
if(0<=s&&s<B&&0<=j&&j<H)R+=a*G[S];if(0<=s&&s<B&&0<=j+1&&j+1<H)R+=l*G[S+1];if(0<=s+1&&s+1<B&&0<=j&&j<H)R+=U*G[g];
if(0<=s+1&&s+1<B&&0<=j+1&&j+1<H)R+=N*G[g+1];return R};e.t.azn=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=new Uint32Array(b.buffer),R=new Uint32Array(H.buffer),S=(1+2*a)/B,g=[],i=[];
for(var y=0;y<B;y++){var o=-.25+a-y*S;g.push(Math.cos(2*Math.PI*o)*U/l);g.push(Math.sin(2*Math.PI*o)/l)}s*=h;
q*=G;for(var v=0;v<j;v++){var Z=Math.pow(v/j,Q)*j;for(var y=0;y<B;y++){var W=s+g[y<<1]*Z,d=q+g[(y<<1)+1]*Z,$=~~(.5+(W<0?0:W>h-1?h-1:W)),I=~~(.5+(d<0?0:d>G-1?G-1:d));
R[v*B+y]=N[I*h+$]}}};e.t.awK=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=new Uint32Array(b.buffer),R=new Uint32Array(H.buffer),S=1/U,g=[],i=G*4,y=1/i;
for(var o=0;o<i+10;o++)g.push(Math.pow(o*y,1/Q)*G*l);s*=B;q*=j;for(var o=0;o<j;o++)for(var v=0;v<B;v++){var Z=S*(v-s),W=o-q,d=1.75-Math.atan2(W,Z)*(1/(2*Math.PI));
d=d-~~d;d=(d+a)*(1/(1+2*a));var $=Math.sqrt(Z*Z+W*W);$=g[~~($*4)];e.t.LU(d*h+.5,$+.5,N,h,G,R,o*B+v,1)}};
e.t.HD=function(b,h,G,H,B){var j=B[0],s=B[1];for(var q=0;q<s;q++)for(var Q=0;Q<j;Q++){var a=B[2]*Q+B[3]*q+B[4],l=B[5]*Q+B[6]*q+B[7],U=q*j+Q<<2,N=l*h+a<<2;
H[U]=b[N+0];H[U+1]=b[N+1];H[U+2]=b[N+2];H[U+3]=b[N+3]}};e.F={gK:function(b,h){var G=~~(.499+b*h);return G<0?0:G>h?h:G},ane:function(b,h,G,H,B,j,s,q){var Q=G[0],a=G[1],l=G[2],U=G[3],N=H.j,R=H._,S=new Uint32Array(1),g=new Uint8Array(S.buffer),i=Math.round(Math.random()*H.X()*100);
for(var y=0,Y=0;y<R;y++){for(var o=0;o<N;o++,Y++){var v=o+B,Z=y+j,W=Q*v+a*Z,d=l*v+U*Z,$=0,_=0;if(q==0)$=W+.5;
else if(q==1)$=2*Math.sqrt(W*W+d*d);else if(q==2)$=(Math.PI+Math.atan2(-d,-W))/(2*Math.PI);else if(q==3)$=Math.abs(W*2);
else if(q==4)$=2*(Math.abs(W)+Math.abs(d));var I=e.F.gK($,s)*4,k=o*4;S[0]=e.z.bD(Y+i);for(var D=0;D<4;
D++){var A=h[I+D],F=Math.floor(A);if(g[D]<(A-F)*255)F++;_|=F<<D*8}b[Y]=_}}},Z5:[function(b,h,G,H,B,j,s){var q=G[0],Q=G[1],a=G[2],l=G[3],U=H.j,N=H._;
for(var R=0,Y=0;R<N;R++)for(var S=0;S<U;S++,Y++){var g=S+B,i=R+j,y=q*g+Q*i,o=a*g+l*i,v=y+.5;b[Y]=h[e.F.gK(v,s)]}},function(b,h,G,H,B,j,s){var q=G[0],Q=G[1],a=G[2],l=G[3],U=H.j,N=H._;
for(var R=0,Y=0;R<N;R++)for(var S=0;S<U;S++,Y++){var g=S+B,i=R+j,y=q*g+Q*i,o=a*g+l*i,v=2*Math.sqrt(y*y+o*o);
b[Y]=h[e.F.gK(v,s)]}},function(b,h,G,H,B,j,s){var q=G[0],Q=G[1],a=G[2],l=G[3],U=H.j,N=H._;for(var R=0,Y=0;
R<N;R++)for(var S=0;S<U;S++,Y++){var g=S+B,i=R+j,y=q*g+Q*i,o=a*g+l*i,v=(Math.PI+Math.atan2(-o,-y))/(2*Math.PI);
b[Y]=h[e.F.gK(v,s)]}},function(b,h,G,H,B,j,s){var q=G[0],Q=G[1],a=G[2],l=G[3],U=H.j,N=H._;for(var R=0,Y=0;
R<N;R++)for(var S=0;S<U;S++,Y++){var g=S+B,i=R+j,y=q*g+Q*i,o=a*g+l*i,v=Math.abs(y*2);b[Y]=h[e.F.gK(v,s)]}},function(b,h,G,H,B,j,s){var q=G[0],Q=G[1],a=G[2],l=G[3],U=H.j,N=H._;
for(var R=0,Y=0;R<N;R++)for(var S=0;S<U;S++,Y++){var g=S+B,i=R+j,y=q*g+Q*i,o=a*g+l*i,v=2*(Math.abs(y)+Math.abs(o));
b[Y]=h[e.F.gK(v,s)]}}]};e.F.ax0=function(b,h){return b+.5};e.F.aCs=function(b,h){return 2*Math.sqrt(b*b+h*h)};
e.F.aiu=function(b,h){return(Math.PI+Math.atan2(-h,-b))/(2*Math.PI)};e.F.axt=function(b,h){return Math.abs(b*2)};
e.F.awy=function(b,h){return 2*(Math.abs(b)+Math.abs(h))};e.F.qU=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=b.Clrs,R=new Uint32Array(h.buffer),S=1023,g=N?e.F.ei(b,Q,a):null;
if(U&&N){var i=e.F.axy(b,g,S+1,s);e.F.ane(R,i,H,G,G.x-B,G.y-j,S,q)}else{var y=N?e.F.aCh(b,g,S+1,s):e.F.anA(b,S+1,s);
if(q<5){e.F.Z5[q](R,y,H,G,G.x-B,G.y-j,S)}else{var o=new Uint8Array(y.buffer),v=G.j,Z=G._,W=l.xJ-l.cK,d=1/W,$=l.w7.j-G.j>>1,I=l.w7._-G._>>1,k=l.w7.j,_=-.6*d,D=(-.6+.4)*d,A=(-.6+2*.4)*d,F=(-.6+3*.4)*d;
for(var K=0,Y=0;K<Z;K++)for(var V=0;V<v;V++,Y+=4){var r=0,c=0,x=0,X=0,M=(K+I)*k+V+$,f=(l.r1[M]-l.cK)*d,t=0;
if(f<=0||f>=1){t=(f<=0?0:S)<<2;h[Y]=o[t];h[Y+1]=o[t+1];h[Y+2]=o[t+2];h[Y+3]=o[t+3];continue}t=Math.max(0,Math.min(S-1,Math.round((f+_)*S)))<<2;
c+=o[t];x+=o[t+1];X+=o[t+2];r+=o[t+3];t=Math.max(0,Math.min(S-1,Math.round((f+D)*S)))<<2;c+=o[t];x+=o[t+1];
X+=o[t+2];r+=o[t+3];t=Math.max(0,Math.min(S-1,Math.round((f+A)*S)))<<2;c+=o[t];x+=o[t+1];X+=o[t+2];r+=o[t+3];
t=Math.max(0,Math.min(S-1,Math.round((f+F)*S)))<<2;c+=o[t];x+=o[t+1];X+=o[t+2];r+=o[t+3];h[Y]=c>>>2;
h[Y+1]=x>>>2;h[Y+2]=X>>>2;h[Y+3]=r>>>2}}}};e.F.ei=function(b,h,G){var H=[b.Clrs.v,b.Trns.v],B=[[],[]],j=255;
for(var s=0;s<2;s++)for(var Y=0;Y<H[s].length;Y++){var q,Q=H[s][Y].v;if(s==0){var a=Q.Type.v.Clry;if(a=="FrgC")q={$:h>>16&255,B:h>>8&255,J:h&255};
else if(a=="BckC")q={$:G>>16&255,B:G>>8&255,J:G&255};else q=e.F.an(Q.Clr.v)}else{q=Q.Opct.v.val*(255/100);
if(q<j)j=q}B[s].push([q,Q.Lctn.v/4096,Q.Mdpn.v/100])}B.push(j>254);return B};e.F.an=function(b){var h,G=b.classID;
if(G=="RGBC"){if(b.Rd)h={$:b.Rd.v,B:b.Grn.v,J:b.Bl.v};else h={$:b.redFloat.v*255,B:b.greenFloat.v*255,J:b.blueFloat.v*255}}else if(G=="HSBC"){h=e.LM(b.H.v.val/360,b.Strt.v/100,b.Brgh.v/100);
h.$*=255;h.B*=255;h.J*=255}else if(G=="CMYC"){var H=b.Cyn.v,B=b.Mgnt.v,j=b.Ylw.v,s=b.Blck.v,q=[H/100,B/100,j/100,s/100],Q=e.u8(q);
h={$:Q[0]*255,B:Q[1]*255,J:Q[2]*255}}else if(G=="Grsc")h={$:255-b.Gry.v,B:255-b.Gry.v,J:255-b.Gry.v};
else if(G=="LbCl"){h=e.g1(b.Lmnc.v,b.A.v,b.B.v)}else if(G=="BkCl")h={$:0,B:0,J:0};else console.log(b);
if(isNaN(h.$))h.$=h.B=h.J=0;return h};e.F.anA=function(b,h,G){var H=new Uint32Array(h),B=new Uint8Array(H.buffer);
H.fill(4278190080);var j=[],s=[],q=b.RndS.v,Q=b.Smth.v/4096;for(var Y=0;Y<4;Y++){j[Y]=~~(b.Mnm.v[Y].v*255/100);
s[Y]=~~(b.Mxm.v[Y].v*255/100)}var a=e.U(h*4),l=e.U(h);for(var U=0;U<3;U++){e.g.ans(null,h,1,a,[1+Math.round(Q*Q*Q*60),22,q*(2+U)]);
e.uA(a,l,0);e.aj(l,B,U);var N=j[U],R=s[U];for(var Y=0;Y<h;Y++)B[4*Y+U]=Math.max(N,Math.min(R,B[4*Y+U]))}if(G)for(var Y=0;
Y<h/2;Y++){var S=H[Y];H[Y]=H[h-1-Y];H[h-1-Y]=S}return H};e.F.t1=function(b){return{classID:"RGBC",Rd:{t:"doub",v:b.$},Grn:{t:"doub",v:b.B},Bl:{t:"doub",v:b.J}}};
e.F.axy=function(b,h,G,H){var B=[],j=1/(G-0);for(var Y=0;Y<G;Y++){var s=Y*4,q=e.F.jE(b,h,(H?G-1-Y:Y)*j);
B[s]=q[0];B[s+1]=q[1];B[s+2]=q[2];B[s+3]=q[3]}return B};e.F.aCh=function(b,h,G,H){var B=new Uint32Array(G),j=1/(G-0);
for(var Y=0;Y<G;Y++)B[Y]=e.F.wA(b,h,(H?G-1-Y:Y)*j);return B};e.F.jE=function(b,h,G){var H=b.Intr.v*(1/4096),B=h[0],j=h[1],s=B.length-1,q=j.length-1,Y=-1,Q=0,a=0,l=0,U=0;
if(h[2])Q=255;else{while(Y<q&&j[Y+1][1]<=G)Y++;if(Y==-1){Q=j[0][0]}else if(Y==q){Q=j[Y][0]}else{var N=e.F.amV(j,Y,G,H);
Q=N*j[Y][0]+(1-N)*j[Y+1][0]}}Y=-1;while(Y<s&&B[Y+1][1]<=G)Y++;if(Y==-1){var R=B[0][0];a=R.$;l=R.B;U=R.J}else if(Y==s){var R=B[Y][0];
a=R.$;l=R.B;U=R.J}else{var S=B[Y][0],g=B[Y+1][0],i=e.F.amV(B,Y,G,H);a=Math.min(255,i*S.$+(1-i)*g.$);
l=Math.min(255,i*S.B+(1-i)*g.B);U=Math.min(255,i*S.J+(1-i)*g.J)}return[a,l,U,Q]};e.F.wA=function(b,h,G){var H=e.F.jE(b,h,G),B=~~(.5+H[0]),j=~~(.5+H[1]),s=~~(.5+H[2]),q=~~(.5+H[3]);
return q<<24|s<<16|j<<8|B};e.F.amV=function(b,Y,h,G){if(b.length==2)G*=.5;var H=b[Y][1],B=b[Y+1][1],j=H+b[Y+1][2]*(B-H),s;
if(h<j)s=.5*(h-H)/(j-H);else s=.5+.5*(h-j)/(B-j);s=.5+.5*(G*Math.cos(Math.PI*s)+(1-G)*(1-2*s));return s};
e.F.a8R=function(b,h,G){var H=.5*G._,B=H*(b/h),j=Math.sqrt(H*H+B*B),s=.5*G.j,q=s*(h/b),Q=Math.sqrt(s*s+q*q);
return Math.min(j,Q)};e.F.a4$=function(b,h){var G=Math.PI*b.Angl.v.val/180,H=b.Scl.v.val/100,B=b.Ofst.v,j=B.Hrzn.v.val/100,s=B.Vrtc.v.val/100,q=Math.cos(G),Q=-Math.sin(G),a=e.F.a8R(q,Q,h),l=a*H,U=h.x+h.j/2+j*h.j,N=h.y+h._/2+s*h._;
return[new cJ(U,N),new cJ(U+q*l,N+Q*l)]};e.F.wM=function(b,h,G,H){var B=h.x-b.x,j=-(h.y-b.y),s=Math.sqrt(B*B+j*j),q=Math.atan2(j,B),Q=Math.cos(q),a=-Math.sin(q),l=e.F.a8R(Q,a,G),U=s/l,N=(b.x-G.x-G.j/2)/G.j,R=(b.y-G.y-G._/2)/G._;
H.Angl.v.val=180*q/Math.PI;H.Scl.v.val=U*100;var S=H.Ofst.v;S.Hrzn.v.val=N*100;S.Vrtc.v.val=R*100};e.F.mg=function(b,h){for(var Y=0;
Y<b.length;Y++){var G=b[Y],H=Math.round(G[0]*4096),B=G[1],j=G[2],s=b[Math.max(0,Y-1)][3];if(j==null)j=1;
if(s==null)s=.5;var q=e.F.t1({$:B[0]*255,B:B[1]*255,J:B[2]*255});h.Clrs.v[Y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Math.round(s*100)},Clr:{t:"Objc",v:q},Type:{t:"enum",v:{Clry:"UsrS"}}}};
h.Trns.v[Y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Math.round(s*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(j*100)}}}}}};
e.F.a2N=function(b,h,G){if(h){b=JSON.parse(JSON.stringify(b));for(var Y=0;Y<2;Y++){var H=b[Y==0?"Clrs":"Trns"].v;
for(var B=0;B<H.length;B++)H[B].v.Lctn.v=4096-H[B].v.Lctn.v;H.reverse()}}var j=[],s=1/255,q=b.Clrs.v,Q=b.Trns.v,H=q;
if(fq==0||q.length!=Q.length){if(fq!=0)console.log("strange gradient");if(G!=!0)H=q.concat(Q);var a=e.F.ei(b,0,0);
for(var Y=0;Y<H.length;Y++){var l=H[Y].v,U=l.Lctn.v/4096,N=e.F.jE(b,a,U);j.push([U,[N[0]*s,N[1]*s,N[2]*s],N[3]*s,l.Mdpn.v/100])}j.sort(function(S,g){return S[0]-g[0]});
for(var Y=1;Y<j.length;Y++)if(j[Y][0]-j[Y-1][0]<.001){j.splice(Y,1);Y--}}else{for(var Y=0;Y<H.length;
Y++){var l=q[Y].v,R=l.Clr.v,U=l.Lctn.v/4096;j.push([U,[R.Rd.v*s,R.Grn.v*s,R.Bl.v*s],Q[Y].v.Opct.v.val/100,q[Math.min(Y+1,q.length-1)].v.Mdpn.v/100])}}return j};
e.F.sy=function(b,h){function G(b,s){b.addColorStop(s[0],CSS.ank(s[1],s[2]))}function H(s,q,Q,a){var l=Math.log(.5)/Math.log(a),U=Math.log(.5)/Math.log(1-a),N=a>.5?Math.pow(Q,l):1-Math.pow(1-Q,U),R=1-N,S=s[0],g=s[1],i=q[1],y=[S+(q[0]-S)*Q,[g[0]*R+i[0]*N,g[1]*R+i[1]*N,g[2]*R+i[2]*N],s[2]*R+q[2]*N];
return y}G(b,h[0]);for(var Y=1;Y<h.length;Y++){var B=h[Y-1][3];if(B!=.5)for(var j=1;j<20;j++)G(b,H(h[Y-1],h[Y],j/20,B));
G(b,h[Y])}};e.apV={};e.apV.EP=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N,R,S,g=Date.now(),i=!1,y=s,o=a,v,Z,W,d,$=j*255,I=255-Q*255,k=1+B*6,_=1+q*6,D=1+U*4,A=(D-1)/7,F=0,K=255-0,V,r,c,x,X,M,f,t,n,L,P,z,T,p=0,m=1,O,cb,cX,e$,fz,eC,hw,az,av,ia,iJ=1+l,cx,hP=e.U(G*H),iS=e.U(G*H),e4=e.U(G*H),cc=e.U(G*H),aO=255/$,bZ=255/(255-I);
for(R=0;R<H;R++){for(N=0;N<G;N++){var Y=R*G+N,d_=Y<<2;O=e.ZK(b[d_],b[d_+1],b[d_+2]);cc[Y]=O;if(O<$)hP[Y]=255-O*aO;
if(O>I)iS[Y]=255-(255-O)*bZ}}if(i)console.log("init",Date.now()-g);g=Date.now();if(B*y>0){e4.set(hP);
e.Zt.jB(e4,hP,new io(0,0,G,H),y)}if(q*o>0){e4.set(iS);e.Zt.jB(e4,iS,new io(0,0,G,H),o)}if(i)console.log("blur",Date.now()-g);
g=Date.now();var ee=e.U(256),b4=e.U(256);for(var Y=0;Y<256;Y++){var hA=Y*(1/255),f$=0;f$=(1-Math.pow(1-hA,k))*255;
ee[Y]=Math.max(0,Math.min(255,~~(f$+.5)));f$=Math.pow(hA,_)*255;b4[Y]=Math.max(0,Math.min(255,~~(f$+.5)))}var e_=new Uint8ClampedArray(h.buffer),fJ=new Float32Array(32768);
for(var Y=0;Y<32768;Y++){cx=Math.sqrt(Y)*(1/128);if(iJ>1)cx=(1-cx)*(iJ-1)+1;else cx=cx*(iJ-1)+1;fJ[Y]=cx}for(R=0;
R<H;R++){for(N=0;N<G;N++){var Y=R*G+N,d_=Y<<2,f$=cc[Y],dV=hP[Y]*(1/255),ix=iS[Y]*(1/255);f$=(1-dV)*f$+dV*ee[~~f$];
f$=(1-ix)*f$+ix*b4[~~f$];O=f$;var b9=b[d_],hV=b[d_+1],gq=b[d_+2];cb=-b9*.168736-hV*.331264+gq*.5;cX=b9*.5-hV*.418688-gq*.081312;
cx=fJ[~~(.5+cb*cb+cX*cX)];e$=cb*cx;eC=cX*cx;m=1-Math.min(2-(dV+ix),1);cb=m*cb+(1-m)*e$;cX=m*cX+(1-m)*eC;
az=O+1.402*cX;av=O-.34414*cb-.71414*cX;ia=O+1.772*cb;e_[d_]=~~(.5+az);e_[d_+1]=~~(.5+av);e_[d_+2]=~~(.5+ia)}}if(i)console.log("apply masks",Date.now()-g);
g=Date.now()};e.$i={};e.$i.XS=function(b,h,G,H,B){var j=Date.now(),s=!1,g=1,K=0,n=0;if(!h.ku(B)){var q=h.gJ(B),Q=e.U(q.X()*4);
e.JE(b,h,Q,q);b=Q;h=q}var a=e.U(h.X());e.wX(G,B,a,h);e.round(a);B=B.D4(h);var l=B.j,U=B._,N=l*3<U?2:1,R=U*3<l?2:1;
if(B.X()*(N*2+1)*(R*2+1)<h.X()){var q=new io(B.x-l*N,B.y-U*N,l*(N*2+1),U*(R*2+1)).D4(h),Q=e.U(q.X()*4);
e.JE(b,h,Q,q);var S=e.U(q.X());e.wX(a,h,S,q);h=q;b=Q;a=S}while((h.j+h._)/2/g>400)g++;var i=b,y=h,o=a,v=Math.floor(y.j/g),Z=Math.floor(y._/g);
b=e.U(v*Z*4);e.scale.Ij(i,y.j,y._,b,v,Z,1/g);a=e.U(v*Z);e.scale.HD(o,y.j,y._,a,v,Z,1/g);e.round(a,1);
if(s)console.log("scale down:",g,v,Z);var W=e.VM(a,new io(0,0,v,Z));if(W.Zx())return 1;var d=Math.round((W.j+W._)/2/15);
if(s)console.log(Date.now()-j,"preprocess");j=Date.now();var $=e.U(v*Z*4);e.a93(b,$);var I=Int16Array,k=new I(v*Z*24),_=new I(64),D=new I(64),A=new I(64),F=new I(64);
for(var V=3;V<Z-4;V++)for(var r=3;r<v-4;r++){var c=V*v+r;if(a[c]==255)continue;if(e.$i.a45($,a,r,V,v,Z,_,D,A)!=0)continue;
e.$i.$A(_,F);var x=K*24;k[x]=r;k[x+1]=V;e.$i.MI(_,k,x+4,12);e.$i.$A(D,F);e.$i.MI(D,k,x+16,4);e.$i.$A(A,F);
e.$i.MI(A,k,x+20,4);var X=k[x+5],M=k[x+6];k[x+5]=k[x+16];k[x+6]=k[x+20];k[x+16]=X;k[x+20]=M;K++}if(K==0)return 2;
if(s)console.log(Date.now()-j,"FWHT computed");j=Date.now();var f=[];e.$i.hV(0,K-1,f,k,new I(2*24));
if(s)console.log(Date.now()-j,"KD tree computed");j=Date.now();var t=new Uint32Array(v*Z*4);for(var Y=0;
Y<K;Y++){var L=Y,P=e.$i.a3E(L,k,f,d);if(P==-1)continue;var z=L*24,T=P*24,p=k[z],m=k[z+1],O=k[T],cb=k[T+1];
n+=e.$i.getError(T,z,k,1e99);var cX=O-p,e$=cb-m;t[(Z+e$)*2*v+(v+cX)]+=1}if(s)console.log(Date.now()-j,"NN found");
j=Date.now();var fz=[],eC=1/(2*v);for(var Y=0;Y<t.length;Y++){if(t[Y]>0){var V=Math.floor(Y*eC),r=Y-V*2*v;
fz.push({x:r-v,y:V-Z,P:t[Y],aD:-1})}}fz.sort(function(e_,fJ){return fJ.P-e_.P});var hw=new Int32Array(v*Z),az=[];
for(var Y=0;Y<v*Z;Y++){if(a[Y]==255){hw[Y]=az.length>>>1;az.push(Y%v,Math.floor(Y/v))}else if(b[(Y<<2)+3]<200){hw[Y]=-2}else{hw[Y]=-1}}var av=e.$i.aiD(v,Z,fz,hw,az);
if(av==null){if(s)console.log("no appropriate labeling");return 3}var ia=av.eu,top=av.top;ia=e.$i.alX(ia,b,v,Z,top,hw,az);
if(s)console.log(Date.now()-j,"optimal labeling found");j=Date.now();var q=B.clone();q.Mx(1,1);q=q.D4(y);
var iJ=e.U(q.X()*4),cx=e.U(q.X());e.JE(i,y,iJ,q);var hP=y.j,iS=y._;for(var V=0;V<iS;V++)for(var r=0;
r<hP;r++){if(o[V*hP+r]==0)continue;var e4=Math.min(Math.floor(r/g),v-1),cc=Math.min(Math.floor(V/g),Z-1),aO=hw[cc*v+e4];
if(aO==-1)continue;var bZ=ia[aO],d_=top[bZ],ee=r+d_.x*g,b4=V+d_.y*g,hA=b4*hP+ee<<2,f$=(V-q.y+y.y)*q.j+(r-q.x+y.x)<<2;
iJ[f$]=i[hA];iJ[f$+1]=i[hA+1];iJ[f$+2]=i[hA+2];iJ[f$+3]=i[hA+3];iJ[f$+3]=i[hA+3];cx[f$>>2]=bZ+1}if(s)console.log(Date.now()-j,"copied back");
j=Date.now();e.Cg.XS(iJ,cx,q,null,1e3);if(s)console.log(Date.now()-j,"poisson smooth");j=Date.now();
e.JE(iJ,q,H,B);return 0};e.$i.amY=function(b,h,G,H,B,j){return e.$i.Ef(b+B.x,h+B.y,G,H,j)?0:1e9};e.$i.alX=function(b,h,G,H,top,B,j){var s=Date.now(),q=j.length>>>1,Q=[-1,0,0,-1,1,0,0,1],a=1e99,l=[],U=[],N=2*(q*2*3+q*2),R=null,S=0,g=0,i=0,y=1e99;
while(!0&&Date.now()<s+12e3){i++;var o=null,v=a;for(var Z=0;Z<top.length;Z++){var W=top[Z],d=0,$=q+2,I=0;
for(var Y=0;Y<q;Y++){var k=j[Y*2],_=j[Y*2+1],D=top[b[Y]],A=e.$i.amY(k,_,G,H,W,B),F=b[Y]==Z?1e9:e.$i.amY(k,_,G,H,D,B);
for(var g1=0;g1<4;g1++){if(g1==0&&k==0||g1==1&&_==0||g1==2&&k==G-1||g1==3&&_==H-1)continue;var K=Q[2*g1],V=Q[2*g1+1],r=k+K,c=_+V,x=B[c*G+r];
if(x==-2){}else if(x==-1){A+=3*e.$i.P7(r+W.x,c+W.y,r,c,G,H,h,B);A+=2*e.$i.P7(r+W.x+K,c+W.y+V,r+K,c+V,G,H,h,B);
F+=3*e.$i.P7(r+D.x,c+D.y,r,c,G,H,h,B);F+=2*e.$i.P7(r+D.x+K,c+D.y+V,r+K,c+V,G,H,h,B)}else if(g1>1){if(b[Y]==b[x]){var X=0;
X+=e.$i.P7(k+D.x,_+D.y,k+W.x,_+W.y,G,H,h,B);X+=e.$i.P7(r+D.x,c+D.y,r+W.x,c+W.y,G,H,h,B);l[d]=Y;l[d+1]=x;
U[d]=X;U[d+1]=X;d+=2}else{var M=top[b[x]],f=$,t=0,n=0,L=0;$++;t+=e.$i.P7(k+D.x,_+D.y,k+W.x,_+W.y,G,H,h,B);
t+=e.$i.P7(r+D.x,c+D.y,r+W.x,c+W.y,G,H,h,B);n+=e.$i.P7(k+M.x,_+M.y,k+W.x,_+W.y,G,H,h,B);n+=e.$i.P7(r+M.x,c+M.y,r+W.x,c+W.y,G,H,h,B);
L+=e.$i.P7(k+M.x,_+M.y,k+D.x,_+D.y,G,H,h,B);L+=e.$i.P7(r+M.x,c+M.y,r+D.x,c+D.y,G,H,h,B);l[d]=Y;l[d+1]=f;
U[d]=t;U[d+1]=t;d+=2;l[d]=x;l[d+1]=f;U[d]=n;U[d+1]=n;d+=2;l[d]=f;l[d+1]=q+1;U[d]=L;U[d+1]=0;d+=2}}}l[d]=q;
l[d+1]=Y;U[d]=A;U[d+1]=0;d+=2;l[d]=Y;l[d+1]=q+1;U[d]=F;U[d+1]=0;d+=2;I+=Math.min(A,F)}if(I>v)continue;
var P=e.i1.$T($,d,q,q+1,l,U,v);if(P.Mt<v){v=P.Mt;var z=b.slice(0);e.$i.aps(z,d,l,P.Oo,Z,q);o=z}}if(v*1>=a){break}a=v;
b=o;if((i&3)==0){if(v*1.03>=y)break;y=v}if((i&3)==0){var T=0*top.length;for(var Y=0;Y<top.length&&top.length>T;
Y++){if(b.indexOf(Y)!=-1)continue;top.splice(Y,1);for(var x=0;x<b.length;x++)if(b[x]>Y)b[x]--;Y--}}}return b};
e.$i.aps=function(b,h,G,H,B,j){for(var Y=0;Y<H.length;Y++){var s=H[Y]<<1,q=0,Q=0;if(s<h){q=G[s];Q=G[s+1]}else{Q=G[s];
q=G[s+1]}if(q==j&&b[Q]!=B)b[Q]=B}};e.$i.a3K=function(top,b,h,G,H,B,j,s,q){for(var Y=0;Y<h.length;Y++){var Q=h[Y],a=!0;
if(s!=null&&!e.$i.Ef(s+Q.x,q+Q.y,B,j,G))continue;if(Q.aD==-1)Q.aD=e.$i.alc(Q,G,H,B,j);if(Q.aD<=0)continue;
for(var l=0;l<top.length;l++){var U=top[l],N=Q.x-U.x,R=Q.y-U.y;if(N*N+R*R<b){a=!1;break}}if(a)return Q}return null};
e.$i.alc=function(b,h,G,H,B){var j=0;for(var Y=0;Y<G.length;Y+=2){var s=G[Y]+b.x,q=G[Y+1]+b.y;if(e.$i.Ef(s,q,H,B,h))j++}return j/(G.length>>1)};
e.$i.aiD=function(b,h,G,H,B){var j=B.length>>>1,top=[];for(var Y=0;Y<60;Y++){var s=e.$i.a3K(top,25,G,H,B,b,h);
if(s==null)break;else top.push(s)}if(top.length==0)return null;var q=[];for(var Y=0;Y<j;Y++){var Q=B[Y*2],a=B[Y*2+1],l=-1,U=0;
while(!0){U++;var N=Math.random();l=Math.floor(N*.99999*top.length);var R=top[l],S=Q+R.x,g=a+R.y;if(e.$i.Ef(S,g,b,h,H))break;
if(U>1e3){var s;s=e.$i.a3K(top,0,G,H,B,b,h,Q,a);if(s==null)for(var i=0;i<4;i++){var y,o,v=0;while(!0){y=~~(Math.random()*b);
o=~~(Math.random()*h);if(e.$i.Ef(y,o,b,h,H))break;v++;if(v>500)throw"e"}s={x:y-Q,y:o-a,P:1,aD:-1};G.push(s);
top.push(s)}else top.push(s);U=0}}q.push(l)}return{top:top,eu:q}};e.$i.P7=function(b,h,G,H,B,j,s,q){if(b==G&&h==H)return 0;
if(b<0||h<0||b>=B||h>=j||G<0||H<0||G>=B||H>=j||q[h*B+b]!=-1||q[H*B+G]!=-1)return 1e7;var Q=h*B+b<<2,a=H*B+G<<2,l=s[Q]-s[a],U=s[Q+1]-s[a+1],N=s[Q+2]-s[a+2];
return 1+(l*l+U*U+N*N)};e.$i.Ef=function(b,h,G,H,B){return b>=0&&b<G&&h>=0&&h<H&&B[h*G+b]==-1};e.$i.a3E=function(b,h,G,H){var B=24*b,j=h[B],s=h[B+1],q=H*H,Q=0,N=1e9;
while(G[Q]!=99)if(h[B+G[Q]]<G[Q+1])Q=G[Q+2];else Q=G[Q+3];var a=G[Q+1],l=G[Q+2],U=-1;for(var Y=a;Y<=l;
Y++){var Q=Y,R=Q*24,S=h[R],g=h[R+1];if((S-j)*(S-j)+(g-s)*(g-s)<q)continue;var i=e.$i.getError(R,B,h,N);
if(i<N){N=i;U=Q}}return U};e.$i.getError=function(b,h,G,H){var B=0;for(var j=4;j<24;j+=4){var s=G[h+j]-G[b+j],q=G[h+j+1]-G[b+j+1],Q=G[h+j+2]-G[b+j+2],a=G[h+j+3]-G[b+j+3];
B+=s*s+q*q+Q*Q+a*a;if(B>=H)return B+1}return B};e.$i.hV=function(b,h,G,H,B){var j=16,N=0;if(h-b<=j){G.push(99,b,h);
return}e.$i.MP(b,h,H,B);var s=-1,q=-1;for(var Y=4;Y<24;Y++){var Q=B[2*Y+1]-B[2*Y];if(Q>q){q=Q;s=Y}}var a=b+h>>1,l=e.$i.azZ(a,b,h,H,s),U=-1;
for(var Y=b;Y<=h;Y++)if(H[24*Y+s]==l){if(U==-1)U=Y;N=Y}if(b+8<U&&U-b>h-N)a=U;else if(N+1<h-8)a=N+1;else if(h-b<64){G.push(99,b,h);
return}else a=a;var R=G.length;G.push(s,l,0,0);G[R+2]=R+4;e.$i.hV(b,a-1,G,H,B);G[R+3]=G.length;e.$i.hV(a,h,G,H,B)};
e.$i.MP=function(b,h,G,H){for(var Y=0;Y<48;Y+=4){H[Y]=3e4;H[Y+1]=-3e4;H[Y+2]=3e4;H[Y+3]=-3e4}for(var Y=b;
Y<=h;Y++){var B=Y*24;for(var j=0;j<24;j++){var s=G[B+j],q=H[j<<1],Q=H[(j<<1)+1];if(s<q)H[j<<1]=s;if(s>Q)H[(j<<1)+1]=s}}};
e.$i.WW=function(b,h,G){var H=0,Y=0;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;
Y++;H=G[b+Y];G[b+Y]=G[h+Y];G[h+Y]=H;Y++};e.$i.lp=function(b,h,G,H){var B=G+H>>>1,j=b[24*B+h];while(G<=H){while(b[24*G+h]<j)G++;
while(b[24*H+h]>j)H--;if(G<=H){if(b[24*G+h]!=b[24*H+h])e.$i.WW(G*24,H*24,b);G++;H--}}return G};e.$i.azZ=function(b,h,G,H,B){var j=0;
while(h!=G){j=e.$i.lp(H,B,h,G);if(b<j)G=j-1;else h=j}return H[b*24+B]};e.$i.MI=function(b,h,G,H){for(var Y=0;
Y<H;Y++)h[G+Y]=b[Y]};e.$i.a45=function(b,h,G,H,B,j,s,q,Q){var a=(H-3)*B+(G-3),l=a<<2;for(var U=0;U<8;
U++){if(h[a]+h[a+1]+h[a+2]+h[a+3]+h[a+4]+h[a+5]+h[a+6]+h[a+7]!=0||b[l+3]<200||b[l+7]<200||b[l+11]<200||b[l+15]<200||b[l+19]<200||b[l+23]<200||b[l+27]<200||b[l+31]<200)return 1;
var Y=U<<3;s[Y+0]=b[l+0];q[Y+0]=b[l+1];Q[Y+0]=b[l+2];s[Y+1]=b[l+4];q[Y+1]=b[l+5];Q[Y+1]=b[l+6];s[Y+2]=b[l+8];
q[Y+2]=b[l+9];Q[Y+2]=b[l+10];s[Y+3]=b[l+12];q[Y+3]=b[l+13];Q[Y+3]=b[l+14];s[Y+4]=b[l+16];q[Y+4]=b[l+17];
Q[Y+4]=b[l+18];s[Y+5]=b[l+20];q[Y+5]=b[l+21];Q[Y+5]=b[l+22];s[Y+6]=b[l+24];q[Y+6]=b[l+25];Q[Y+6]=b[l+26];
s[Y+7]=b[l+28];q[Y+7]=b[l+29];Q[Y+7]=b[l+30];l+=B<<2;a+=B}return 0};e.$i.$A=function(b,h){h[0]=b[32]+b[0];
h[1]=b[33]+b[1];h[2]=b[34]+b[2];h[3]=b[35]+b[3];h[4]=b[36]+b[4];h[5]=b[37]+b[5];h[6]=b[38]+b[6];h[7]=b[39]+b[7];
h[8]=b[40]+b[8];h[9]=b[41]+b[9];h[10]=b[42]+b[10];h[11]=b[43]+b[11];h[12]=b[44]+b[12];h[13]=b[45]+b[13];
h[14]=b[46]+b[14];h[15]=b[47]+b[15];h[16]=b[48]+b[16];h[17]=b[49]+b[17];h[18]=b[50]+b[18];h[19]=b[51]+b[19];
h[20]=b[52]+b[20];h[21]=b[53]+b[21];h[22]=b[54]+b[22];h[23]=b[55]+b[23];h[24]=b[56]+b[24];h[25]=b[57]+b[25];
h[26]=b[58]+b[26];h[27]=b[59]+b[27];h[28]=b[60]+b[28];h[29]=b[61]+b[29];h[30]=b[62]+b[30];h[31]=b[63]+b[31];
h[32]=b[0]-b[32];h[33]=b[1]-b[33];h[34]=b[2]-b[34];h[35]=b[3]-b[35];h[36]=b[4]-b[36];h[37]=b[5]-b[37];
h[38]=b[6]-b[38];h[39]=b[7]-b[39];h[40]=b[8]-b[40];h[41]=b[9]-b[41];h[42]=b[10]-b[42];h[43]=b[11]-b[43];
h[44]=b[12]-b[44];h[45]=b[13]-b[45];h[46]=b[14]-b[46];h[47]=b[15]-b[47];h[48]=b[16]-b[48];h[49]=b[17]-b[49];
h[50]=b[18]-b[50];h[51]=b[19]-b[51];h[52]=b[20]-b[52];h[53]=b[21]-b[53];h[54]=b[22]-b[54];h[55]=b[23]-b[55];
h[56]=b[24]-b[56];h[57]=b[25]-b[57];h[58]=b[26]-b[58];h[59]=b[27]-b[59];h[60]=b[28]-b[60];h[61]=b[29]-b[61];
h[62]=b[30]-b[62];h[63]=b[31]-b[63];b[0]=h[16]+h[0];b[1]=h[17]+h[1];b[2]=h[18]+h[2];b[3]=h[19]+h[3];
b[4]=h[20]+h[4];b[5]=h[21]+h[5];b[6]=h[22]+h[6];b[7]=h[23]+h[7];b[8]=h[24]+h[8];b[9]=h[25]+h[9];b[10]=h[26]+h[10];
b[11]=h[27]+h[11];b[12]=h[28]+h[12];b[13]=h[29]+h[13];b[14]=h[30]+h[14];b[15]=h[31]+h[15];b[16]=h[0]-h[16];
b[17]=h[1]-h[17];b[18]=h[2]-h[18];b[19]=h[3]-h[19];b[20]=h[4]-h[20];b[21]=h[5]-h[21];b[22]=h[6]-h[22];
b[23]=h[7]-h[23];b[24]=h[8]-h[24];b[25]=h[9]-h[25];b[26]=h[10]-h[26];b[27]=h[11]-h[27];b[28]=h[12]-h[28];
b[29]=h[13]-h[29];b[30]=h[14]-h[30];b[31]=h[15]-h[31];h[0]=b[8]+b[0];h[1]=b[9]+b[1];h[2]=b[10]+b[2];
h[3]=b[11]+b[3];h[4]=b[12]+b[4];h[5]=b[13]+b[5];h[6]=b[14]+b[6];h[7]=b[15]+b[7];h[8]=b[0]-b[8];h[9]=b[1]-b[9];
h[10]=b[2]-b[10];h[11]=b[3]-b[11];h[12]=b[4]-b[12];h[13]=b[5]-b[13];h[14]=b[6]-b[14];h[15]=b[7]-b[15];
b[0]=h[4]+h[0];b[1]=h[5]+h[1];b[2]=h[6]+h[2];b[3]=h[7]+h[3];b[4]=h[0]-h[4];b[5]=h[1]-h[5];b[6]=h[2]-h[6];
b[7]=h[3]-h[7];b[8]=h[12]+h[8];b[9]=h[13]+h[9];b[10]=h[14]+h[10];b[11]=h[15]+h[11];b[12]=h[8]-h[12];
b[13]=h[9]-h[13];b[14]=h[10]-h[14];b[15]=h[11]-h[15];h[0]=b[2]+b[0];h[1]=b[3]+b[1];h[2]=b[0]-b[2];h[3]=b[1]-b[3];
h[4]=b[6]+b[4];h[5]=b[7]+b[5];h[6]=b[4]-b[6];h[7]=b[5]-b[7];h[8]=b[10]+b[8];h[9]=b[11]+b[9];h[10]=b[8]-b[10];
h[11]=b[9]-b[11];h[12]=b[14]+b[12];h[13]=b[15]+b[13];h[14]=b[12]-b[14];h[15]=b[13]-b[15];b[0]=h[1]+h[0];
b[1]=h[0]-h[1];b[2]=h[3]+h[2];b[3]=h[2]-h[3];b[4]=h[5]+h[4];b[5]=h[4]-h[5];b[6]=h[7]+h[6];b[7]=h[6]-h[7];
b[8]=h[9]+h[8];b[9]=h[8]-h[9];b[10]=h[11]+h[10];b[11]=h[10]-h[11];b[12]=h[13]+h[12];b[13]=h[12]-h[13];
b[14]=h[15]+h[14];b[15]=h[14]-h[15]};e.$i.aEB=function(){var b="",g1=64,h="v",G="t",H="a",B=5,Y,j,s;
for(Y=g1>>1;Y>0;Y>>=1,B--){for(j=0;j<g1;j++){s=(j>>B&1)!=0;if(s){b+=G+"["+j+"] = "+h+"["+(-Y+j)+"] - "+h+"["+j+"];  "}else{b+=G+"["+j+"] = "+h+"["+(Y+j)+"] + "+h+"["+j+"];  "}}H=h;
h=G;G=H;b+="\n"}console.log(b)};e.$i.a1Q=function(g1,b,h){var G=b,H=h,B=G,j=0,Y,q,Q;while(g1>>j!=2)j++;
var s=j;for(Y=g1>>1;Y>0;Y>>=1,j--){for(q=0;q<g1;q++){Q=(q>>j&1)!=0;if(Q)H[q]=G[-Y+q]-G[q];else H[q]=G[Y+q]+G[q]}B=G;
G=H;H=B}if((s&1)==1)for(Y=0;Y<g1;Y++)h[Y]=G[Y]};e.NS={};e.NS.tJ=function(b,h,G,H,B,j,s,q,Q){var a=Date.now(),l=new Uint32Array(b.buffer),U=new Uint32Array(h.buffer),N=s/G,R=q/H,S=1/N,g=1/R,i=new Float64Array(2),y=3,o=1/y,v=1/(y*y),Z=0,W=0,d=G,$=H;
if(B){Z=B.x;W=B.y;d=B.j;$=B._}for(var I=0;I<$;I++)for(var k=0;k<d;k++){var _=Z+k,D=W+I,Y=D*G+_,A=Y<<1,F=Y<<2;
e.NS.aCC(j,s,q,(_+.5)*N,(D+.5)*R,i);var K=i[0]*S,V=i[1]*g;if(K==0&&V==0)U[Y]=l[Y];else{e.t.LU(_+K+.5,D+V+.5,l,G,H,U,Y,Q)}}};
e.NS.aCC=function(b,h,G,H,B,j){H-=.499999;B-=.499999;var s=~~H,q=~~B,Q=H-s,a=B-q,l=(1-a)*(1-Q),U=(1-a)*Q,N=a*(1-Q),R=a*Q,S=s<h-1?s+1:s,g=q<G-1?q+1:q,i=q*h+s<<1,y=q*h+S<<1,o=g*h+s<<1,v=g*h+S<<1;
j[0]=l*b[i]+U*b[y]+N*b[o]+R*b[v];j[1]=l*b[i+1]+U*b[y+1]+N*b[o+1]+R*b[v+1]};e.NS.akv=function(b,h,G,H,B){var j=1/b,s=[-1,1,-b,b],q=H.length;
for(var Q=0;Q<q;Q++){var Y=H[Q],a=Y<<1,l=Q<<1,U=~~(Y*j),N=Y-b*U,R=G[a],S=G[a+1],g=0,i=0;if(N!=0&&N!=b-1){var y=Y-1<<1,o=Y+1<<1,v=G[y],Z=G[o],W=G[y+1],d=G[o+1],$=R-(v+Z)*.5,I=S-(W+d)*.5;
g-=$*B;i-=I*B}if(U!=0&&U!=h-1){var y=Y-b<<1,o=Y+b<<1,v=G[y],Z=G[o],W=G[y+1],d=G[o+1],$=R-(v+Z)*.5,I=S-(W+d)*.5;
g-=$*B;i-=I*B}G[a]=R+g;G[a+1]=S+i}};e.NS.a3W=function(b,h){var G=b+","+h;if(e.NS.aF7==G)return e.NS.au1;
var H=e.NS.au1=[];e.NS.aF7=G;for(var Y=0;Y<=1e3;Y++){var B=Y*.001,j=Math.sqrt(B),s=Math.exp(-4*j),q=.96*(1-j*j),Q=h*((1-b)*s+b*q);
H[Y]=Q}return H};e.NS.aF7="";e.NS.au1=[];e.NS.aB_=function(b,h,G,H,B,j,s,q,Q,a,l,U,N){var R=Math.max(0,Math.floor(B-s-1)),S=Math.min(h,Math.ceil(B+s+1)),g=Math.max(0,Math.floor(j-s-1)),i=Math.min(G,Math.ceil(j+s+1)),y=2*h,o=s*s,v=1/s,Z=0;
if(N&&(H==3||H==6))Q=-Q;var W=e.NS.a3W(q,Q);for(var d=g;d<i;d++)for(var $=R;$<S;$++){var Y=d*h+$,I=Y<<1,k=(B-$)*v,_=(j-d)*v,D=k*k+_*_;
if(D<1){U[Z]=Y;var A=W[~~(D*1e3)];if(H==1){b[I]=b[I]*(1-A*.05);b[I+1]=b[I+1]*(1-A*.05)}else{var F=0,K=0,c,x,X,M;
if(H==0){F=a*A;K=l*A}else if(H==2){}else if(H==3){F=A*_;K=-A*k}else if(H==4){F=A*k;K=A*_}else if(H==5){F=-A*k;
K=-A*_}else if(H==6){F=l*A;K=-a*A}var V=b[I],r=b[I+1];if($==0||$!=h-1&&F<0){c=1+b[I+2]-V;X=b[I+3]-r}else{c=V-b[I-2]+1;
X=r-b[I-1]}if(d==0||d!=G-1&&K<0){x=b[I+y]-V;M=1+b[I+y+1]-r}else{x=V-b[I-y];M=r-b[I-y+1]+1}b[I]=-(c*F+x*K-V);
b[I+1]=-(X*F+M*K-r)}Z++}}};e.NS.amw=function(b){var h=b[0],G=b[0],H=b[1],B=b[1];for(var Y=0;Y<b.length;
Y+=2){var j=b[Y],s=b[Y+1];if(j<h)h=j;else if(j>G)G=j;if(s<H)H=s;else if(s>B)B=s}return[h,H,G,B]};e.aCL=function(b,h,G,H,B){function j(O,cb,cX,e$){return Math.sqrt((O-cX)*(O-cX)+(cb-e$)*(cb-e$))}function s(O,cb){return O>=0&&O<h&&cb>=0&&cb<G}function q(O){if(O<0)return 0;
if(O>=h)return h-1;return O}function Q(O){if(O<0)return 0;if(O>=G)return G-1;return O}function a(Y,O){var cb=O[3]*(1/255),cX=H[Y]+O[0]*cb;
if(cX>255)cX=255;H[Y]=cX;cX=H[Y+1]+O[1]*cb;if(cX>255)cX=255;H[Y+1]=cX;cX=H[Y+2]+O[2]*cb;if(cX>255)cX=255;
H[Y+2]=cX}function l(O,cb,cX){if(!f(O,cb))return;if(cX[3]<0)cX[3]=0;a((cb*h+O)*4,cX)}function U(O){var cb=O.slice(0,3);
cb[3]=0;return cb}var N=h/800;function R(O){return Math.round(O*N)}function S(){for(var Y=0;Y<=300;Y++){n[Y]=g(Y)}}function g(G){var O=.8,cb=.2,cX=O*cb,e$=G/60%2-1,fz=cX*(1-e$*e$),eC=cb-cX,hw;
if(G<60){hw=[cX+eC,fz,0]}else if(G<120){hw=[fz,cX,0]}else if(G<180){hw=[0,cX,fz]}else if(G<240){hw=[0,fz,cX]}else if(G<300){hw=[fz,0,cX]}else{hw=[cX,0,fz]}return[(hw[0]+eC)*255,(hw[1]+eC)*255,(hw[2]+eC)*255]}function i(G){return n[~~G]}function y(O){return 1-o(O)}function o(O){return O-~~O}function v(O,cb,cX,e$){X(O,cb,cX,0,cb+1,1,e$)}function Z(O,cb,cX,e$,fz,eC){X(O,cb,cX,0,e$,1,fz,eC)}function W(O){for(var Y=0;
Y<H.length;Y+=4){a(Y,O)}}function d(O,cb,cX,e$,fz,eC,hw,az){$(O,cb,cX,e$,fz,1,eC,hw,az)}function $(O,cb,cX,e$,fz,eC,hw,az,av){if(eC==null)eC=.5;
if(hw==null)hw=0;if(az==null)az=0;if(av==null)av=!1;var ia=O.x,iJ=O.y,cx=cX.slice(0),hP=~~(cX[3]*P);
e$=e$*P;if(!av){cb=M(cb);fz=M(fz);hw=M(hw);az=M(az)}var iS=q(ia-cb),e4=q(ia+cb);for(var cc=iS;cc<=e4;
cc++){var aO=cc-ia,bZ=Math.floor(Math.sqrt(cb*cb-aO*aO)),d_=Q(iJ-bZ),ee=Q(iJ);for(var b4=d_;b4<=ee;b4++){var hA=j(cc,b4,ia,iJ);
if(hA>cb||hA<=cb-fz)break;var f$=(hA-cb+fz)/fz;cx[3]=hP-e$*(eC==1?f$:Math.pow(f$,eC));a((b4*h+cc)*4,cx)}d_=Q(iJ+bZ);
for(var b4=d_;b4>ee;b4--){var hA=j(cc,b4,ia,iJ);if(hA>cb||hA<=cb-fz)break;var f$=(hA-cb+fz)/fz;cx[3]=hP-e$*(eC==1?f$:Math.pow(f$,eC));
a((b4*h+cc)*4,cx)}}if(hw>0){X(O,cb+hw,cx,cx[3],hw,1,0,0,!0)}if(az>0){X(O,cb-fz,t(cX),-cX[3],az,1,0,0,!0)}}function I(O,cb,cX,e$,fz,eC){X(O,cb,cX,cX[3],cb+1,1,e$,fz,eC)}function k(O,cb,cX,e$,fz){if(fz==null)fz=!1;
var eC=O.x,hw=O.y;e$*=P;if(!fz){cb=M(cb);cX=M(cX)}var az=q(eC-cb),av=q(eC+cb);for(var ia=az;ia<av;ia++){var iJ=ia-eC,cx=~~Math.sqrt(cb*cb-iJ*iJ),hP=Q(hw-cx),iS=Q(hw);
for(var e4=hP;e4<=iS;e4++){var cc=j(ia,e4,eC,hw);if(cc>cb||cc<=cb-cX)break;var aO=(cb-cc)/cX,bZ=i(300*aO);
bZ[3]=e$;a((e4*h+ia)*4,bZ)}hP=Q(hw+cx);for(var e4=hP;e4>iS;e4--){var cc=j(ia,e4,eC,hw);if(cc>cb||cc<=cb-cX)break;
var aO=(cb-cc)/cX,bZ=i(300*aO);bZ[3]=e$;a((e4*h+ia)*4,bZ)}}}function _(L,O){var cb=L.YA,cX=L.Z8,e$=O.slice(0),fz=O[3]*P,eC=Math.abs(cX.y-cb.y)>Math.abs(cX.x-cb.x);
if(eC){var hw=cb.x;cb.x=cb.y;cb.y=hw;hw=cX.x;cX.x=cX.y;cX.y=hw}if(cb.x>cX.x){var hw=cb;cb=cX;cX=hw}var az=cX.x-cb.x,av=cX.y-cb.y,ia=az==0?1:av/az,iJ=Math.round(cb.x),cx=cb.y+ia*(iJ-cb.x),hP=y(cb.x+.5),iS=iJ,e4=~~cx;
if(eC){e$[3]=fz*y(cx)*hP;l(e4,iS,e$);e$[3]=fz*o(cx)*hP;l(e4+1,iS,e$)}else{e$[3]=fz*y(cx)*hP;l(iS,e4,e$);
e$[3]=fz*o(cx)*hP;l(iS,e4+1,e$)}var cc=cx-ia;iJ=Math.round(cX.x);cx=cX.y+ia*(iJ-cX.x);hP=o(cX.x+.5);
var aO=iJ,bZ=~~cx;if(eC){e$[3]=fz*y(cx)*hP;l(bZ,aO,e$);e$[3]=fz*o(cx)*hP;l(bZ+1,aO,e$)}else{e$[3]=fz*y(cx)*hP;
l(aO,bZ,e$);e$[3]=fz*o(cx)*hP;l(aO,bZ+1,e$)}if(eC){for(var d_=iS+1;d_<=aO-1;d_++){e$[3]=fz*y(cc);l(~~cc,d_,e$);
e$[3]=fz*o(cc);l(~~cc+1,d_,e$);cc+=ia}}else{for(var d_=iS+1;d_<=aO-1;d_++){e$[3]=fz*y(cc);l(d_,~~cc,e$);
e$[3]=fz*o(cc);l(d_,~~cc+1,e$);cc+=ia}}}function D(O,cb,cX,e$){for(var Y=0;Y<4;Y++){var fz=O.tD(cb+1.3*Y,cX);
_(fz,e$,1)}}function cJ(O,cb){this.x=Math.round(O);this.y=Math.round(cb)}var A=Math.PI/180;cJ.prototype.tD=function(O,cb){O=O*A;
var cX=this.x+cb*Math.cos(O),e$=this.y+cb*Math.sin(O);return new F(this.x,this.y,cX,e$)};cJ.prototype.acU=function(O,cb){O=O*A;
var cX=this.Lz+cb*Math.cos(O),e$=this.kO+cb*Math.sin(O);return new cJ(cX,e$)};function F(O,cb,cX,e$){this.YA=new cJ(O,cb);
this.Z8=new cJ(cX,e$)}F.prototype.Ec=function(O){var cb=O*this.YA.x+(1-O)*this.Z8.x,cX=O*this.YA.y+(1-O)*this.Z8.y;
return new cJ(cb,cX)};var K=d,V=I,r=v,c=Z,x=k,X=$,M=R,f=s,t=U,n=[];S();for(var Y=0;Y<b.length;Y++){H[Y]=b[Y]}var L=new F(h*B[2],G*B[3],h/2,G/2),P=B[1],z=[];
z[0]=function T(){var O=[80,40,15,60],cX=0,e$=0;r(L.Ec(1.4),260,O,10);r(L.Ec(1),100,[240,50,50,30],30);
V(L.Ec(1),60,[255,40,0,40]);var cb=[255,255,255,255];X(L.Ec(1),70,cb,cb[3],58,.5);r(L.Ec(1),12,cb);cb[3]=40;
K(L.Ec(1),150,cb,cb[3],150);for(var Y=0;Y<40;Y++){cX+=Math.random()*25;e$=Math.random()*M(300)+M(100);
var fz=L.Ec(1).tD(cX,e$);_(L.Ec(1).tD(cX,e$),[110,110,110,30])}V(L.Ec(1),130,[255,255,255,8]);var eC=[170,30,23,70];
c(L.Ec(1),70,eC,1,3,3);var hw=[60,60,130,40];r(L.Ec(.47),44,hw,5);r(L.Ec(.43),22,hw,3);hw[3]=16;r(L.Ec(.53),15,hw,2);
var az=[138,94,42,100];r(L.Ec(.2),16,az,2);var av=[130,255,170,180];V(L.Ec(0),4,av);V(L.Ec(-.25),5,av);
az=[150,90,0,50];K(L.Ec(-.45),55,t(az),-az[3],40,2);r(L.Ec(-.42),35,az,2);r(L.Ec(-.5),15,az,2);x(L.Ec(-1.28),145,11,70);
var ia=i(0);ia[3]=50;K(L.Ec(-1.28),149,ia,ia[3],4);ia=i(300);ia[3]=50;K(L.Ec(-1.28),155-1,t(ia),-ia[3],3);
var iJ=[130,130,10,50];c(L.Ec(-1),73,iJ,3,2);var cx=[40,130,70,40];K(L.Ec(-1),70,t(cx),-cx[3],35);cx=[40,170,60,50];
r(L.Ec(-.7),25,cx,4);var cx=[70,110,50,60];K(L.Ec(1.3),30,t(cx),-cx[3],11,3);hw=[0,50,210,80];V(L.Ec(-.72),20,hw)};
z[1]=function p(){V(L.Ec(1),150,[240,70,70,60]);r(L.Ec(1),100,[200,60,60,40],30);var O=[255,255,255,255],cb=0,cX=0;
X(L.Ec(1),75,O,O[3],63);r(L.Ec(1),12,O);V(L.Ec(1),270,[200,200,200,20],10);for(var Y=0;Y<10;Y++){cb+=10+Math.random()*40;
cX=Math.random()*M(250)+M(80);var e$=L.Ec(1).tD(cb,cX);_(e$,[110,110,110,35])}cb=5;cX=100;for(var Y=0;
Y<12;Y++){cb+=30;D(L.Ec(1),cb,cX,[90,90,90,40])}var fz=[150,40,23,100];c(L.Ec(1),70,fz,1,3,3);var eC=[30,100,60,40];
V(L.Ec(-.9),180,[255,255,255,20]);r(L.Ec(-.9),140,eC,15);var hw=[170,80,25,15];c(L.Ec(-.9),120,hw,1,4,4);
var az=[110,240,190,200];V(L.Ec(-.6),3,az);az[3]=100;V(L.Ec(-.6),7,az);var av=[230,120,40,85];V(L.Ec(-.73),9,av);
var ia=[60,60,190,50];r(L.Ec(.3),28,ia,6);ia[3]=25;r(L.Ec(.34),20,ia,3)};z[2]=function m(){var O=[255,255,255,255],cX=0,e$=0;
r(L.Ec(1),13,O);X(L.Ec(1),150,O,O[3],137);var cb=[120,80,35,20];r(L.Ec(1.4),260,cb,10);for(var Y=0;Y<40;
Y++){cX+=5+Math.random()*30;e$=Math.random()*M(300);_(L.Ec(1).tD(cX,e$),[110,110,110,20])}var fz=[10,30,255,30];
r(L.Ec(1),70,fz,50);var eC=[15,90,170,15];r(L.Ec(1.5),60,eC);var hw=[220,220,20,50];r(L.Ec(-1.15),8,hw,2);
var O=[255,255,255,40];V(L.Ec(-1.18),6,O);V(L.Ec(-1.18),4,O);hw=[110,110,10,8];K(L.Ec(-1.2),32,t(hw),-hw[3],20,3);
var az=[5,0,16,255];for(var Y=0;Y<4;Y++){r(L.Ec(-1.36),10,az,3)}var av=[90,200,150,20],ia=av.slice(0);
ia[3]*=2;r(L.Ec(-1.32),7,ia,3);r(L.Ec(-1.36),7,ia,3);r(L.Ec(-1.4),7,ia,3);var O=[230,230,230,100];V(L.Ec(-1.36),2,O);
O[3]=3;r(L.Ec(-.55),10,O);hw=[120,100,10,18];r(L.Ec(-.55),160,hw,8);r(L.Ec(-.55),80,hw,4);av[3]=3;ia[3]=6;
K(L.Ec(-.49),13,t(ia),-ia[3],13,2);K(L.Ec(-.55),13,t(ia),-ia[3],13,2);av[3]=20;r(L.Ec(.15),25,av,3);
hw[3]=100;V(L.Ec(-.52),3,hw);hw=[200,200,50,40];r(L.Ec(.27),1,hw,4);var iJ=[150,40,23,30];K(L.Ec(1),80,t(iJ),-iJ[3],2,1)};
return z[B[0]]()};e.GF={};e.GF.BF=function(b){var h=b.length,g1=b[0].length,G=new Array(g1);for(var Y=0;
Y<g1;Y++)G[Y]=new Array(h);for(var Y=0;Y<g1;Y++)for(var H=0;H<h;H++)G[Y][H]=b[H][Y];return G};e.GF.SX=function(b,h){var G=b.length,g1=b[0].length,H=new Array(G);
for(var Y=0;Y<G;Y++)H[Y]=new Array(g1);for(var Y=0;Y<G;Y++)for(var B=0;B<g1;B++)H[Y][B]=b[Y][B]-h[Y][B];
return H};e.GF.add=function(b,h){var G=b.length,g1=b[0].length,H=new Array(G);for(var Y=0;Y<G;Y++)H[Y]=new Array(g1);
for(var Y=0;Y<G;Y++)for(var B=0;B<g1;B++)H[Y][B]=b[Y][B]+h[Y][B];return H};e.GF.multiply=function(b,h){var G=b.length,H=b[0].length,g1=h[0].length;
if(H!=h.length)throw"e";var B=new Array(G);for(var Y=0;Y<G;Y++)B[Y]=new Array(g1);if((H&1)!=0)for(var Y=0;
Y<G;Y++){var j=b[Y],s=B[Y];for(var q=0;q<g1;q++){var Q=0;for(var a=0;a<H;a++)Q+=j[a]*h[a][q];s[q]=Q}}else for(var Y=0;
Y<G;Y++){var j=b[Y],s=B[Y];for(var q=0;q<g1;q++){var Q=0;for(var a=0;a<H;a+=2)Q+=j[a]*h[a][q]+j[a+1]*h[a+1][q];
s[q]=Q}}return B};e.GF.hS=function(b,h){var G=b.length,g1=b[0].length,H=new Array(G);for(var Y=0;Y<G;
Y++){var B=0;for(var j=0;j<g1;j++)B+=b[Y][j]*h[j];H[Y]=B}return H};e.GF.xt=function(b,h){var G=[];for(var Y=0;
Y<b;Y++){G.push([]);for(var H=0;H<h;H++)G[Y].push(0)}return G};e.GF.az7=function(b){for(var Y=0;Y<b.length;
Y++)console.log(JSON.stringify(b[Y]))};e.GF.aj8=function(b){var h=[];for(var Y=0;Y<b.length;Y++)h.push(b[Y].join(","));
return"["+h.join(";")+"]"};e.GF.$T=function(b,h){var G=b.length;for(var H=0;H<G;H++){var B=0,j=Number.NEGATIVE_INFINITY;
for(var Y=H;Y<G;Y++)if(Math.abs(b[Y][H])>j){B=Y;j=Math.abs(b[Y][H])}e.GF.awv(b,H,B);for(var Y=H+1;Y<G;
Y++){if(b[H][H]==0)return 1;var s=b[Y][H]/b[H][H];for(var q=H;q<G+1;q++)b[Y][q]-=b[H][q]*s}}for(var Y=G-1;
Y>=0;Y--){if(b[Y][Y]==0)return 1;var Q=b[Y][G]/b[Y][Y];h[Y]=Q;for(var q=Y-1;q>=0;q--){b[q][G]-=b[q][Y]*Q;
b[q][Y]=0}}return 0};e.GF.awv=function(b,h,G){var H=b[h];b[h]=b[G];b[G]=H};e.GF.atg=function(b){var h=b.length,G=e.GF.xt(h,h);
for(var Y=0;Y<h;Y++)G[Y][Y]=b[Y];return G};e.GF.a9W=function(b){var h=b.length,G=b[0].length,H=new Array(h);
for(var Y=0;Y<h;Y++){H[Y]=0;for(var B=0;B<G;B++)H[Y]+=b[Y][B];H[Y]/=G}return H};e.GF.YO=function(b){var h=0;
for(var Y=0;Y<b.length;Y++)h+=b[Y]*b[Y];return Math.sqrt(h)};e.G4={};e.G4.Jm=function(b){var h=~~(b+.5);
return h<0?0:h>255?255:h};e.G4.transform=function(b,h,G){var H=e.G4.Jm,B=b.$.length;for(var Y=0;Y<B;
Y++){var j=b.$[Y],s=b.B[Y],q=b.J[Y];h.$[Y]=H(G[0]*j+G[1]*s+G[2]*q+G[3]*255);h.B[Y]=H(G[4]*j+G[5]*s+G[6]*q+G[7]*255);
h.J[Y]=H(G[8]*j+G[9]*s+G[10]*q+G[11]*255)}};e.G4.avk=function(b,h,G){var H=e.G4.Jm,B=b.length;for(var Y=0;
Y<B;Y+=4){var j=b[Y],s=b[Y+1],q=b[Y+2];h[Y]=H(G[0]*j+G[1]*s+G[2]*q+G[3]*255);h[Y+1]=H(G[4]*j+G[5]*s+G[6]*q+G[7]*255);
h[Y+2]=H(G[8]*j+G[9]*s+G[10]*q+G[11]*255)}};e.G4.aEO=function(b){var h=b[0]+b[1]+b[2],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(h==1){var H=b.indexOf(1);G[H]=G[H+4]=G[H+8]=1}else{G[0]=b[0];G[5]=b[1];G[10]=b[2]}return G};e.G4.ow=function(b,h,G){return[1,0,0,b,0,1,0,h,0,0,1,G,0,0,0,1]};
e.G4.Cu=function(b,h,G){return[b,0,0,0,0,h,0,0,0,0,G,0,0,0,0,1]};e.G4.azD=function(b){return[b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]]};
e.G4.kJ=function(b){return[b[0],b[1],b[2],0,b[3],b[4],b[5],0,b[6],b[7],b[8],0,0,0,0,1]};e.G4.m9=function(b,h){return[b[0]*h[0]+b[1]*h[1]+b[2]*h[2]+b[3]*h[3],b[4]*h[0]+b[5]*h[1]+b[6]*h[2]+b[7]*h[3],b[8]*h[0]+b[9]*h[1]+b[10]*h[2]+b[11]*h[3],b[12]*h[0]+b[13]*h[1]+b[14]*h[2]+b[15]*h[3]]};
e.G4.BF=function(b){var h=[];h[0]=b[0];h[1]=b[4];h[2]=b[8];h[3]=b[12];h[4]=b[1];h[5]=b[5];h[6]=b[9];
h[7]=b[13];h[8]=b[2];h[9]=b[6];h[10]=b[10];h[11]=b[14];h[12]=b[3];h[13]=b[7];h[14]=b[11];h[15]=b[15];
return h};e.G4.add=function(b,h){var G=b.slice(0);for(var Y=0;Y<16;Y++)G[Y]+=h[Y];return G};e.G4.multiply=function(b,h){var G=[];
G[0]=b[0]*h[0]+b[1]*h[4]+b[2]*h[8]+b[3]*h[12];G[1]=b[0]*h[1]+b[1]*h[5]+b[2]*h[9]+b[3]*h[13];G[2]=b[0]*h[2]+b[1]*h[6]+b[2]*h[10]+b[3]*h[14];
G[3]=b[0]*h[3]+b[1]*h[7]+b[2]*h[11]+b[3]*h[15];G[4]=b[4]*h[0]+b[5]*h[4]+b[6]*h[8]+b[7]*h[12];G[5]=b[4]*h[1]+b[5]*h[5]+b[6]*h[9]+b[7]*h[13];
G[6]=b[4]*h[2]+b[5]*h[6]+b[6]*h[10]+b[7]*h[14];G[7]=b[4]*h[3]+b[5]*h[7]+b[6]*h[11]+b[7]*h[15];G[8]=b[8]*h[0]+b[9]*h[4]+b[10]*h[8]+b[11]*h[12];
G[9]=b[8]*h[1]+b[9]*h[5]+b[10]*h[9]+b[11]*h[13];G[10]=b[8]*h[2]+b[9]*h[6]+b[10]*h[10]+b[11]*h[14];G[11]=b[8]*h[3]+b[9]*h[7]+b[10]*h[11]+b[11]*h[15];
G[12]=b[12]*h[0]+b[13]*h[4]+b[14]*h[8]+b[15]*h[12];G[13]=b[12]*h[1]+b[13]*h[5]+b[14]*h[9]+b[15]*h[13];
G[14]=b[12]*h[2]+b[13]*h[6]+b[14]*h[10]+b[15]*h[14];G[15]=b[12]*h[3]+b[13]*h[7]+b[14]*h[11]+b[15]*h[15];
return G};e.G4.Q6=function(b){var h=[];h[0]=b[5]*b[10]*b[15]-b[5]*b[14]*b[11]-b[6]*b[9]*b[15]+b[6]*b[13]*b[11]+b[7]*b[9]*b[14]-b[7]*b[13]*b[10];
h[1]=-b[1]*b[10]*b[15]+b[1]*b[14]*b[11]+b[2]*b[9]*b[15]-b[2]*b[13]*b[11]-b[3]*b[9]*b[14]+b[3]*b[13]*b[10];
h[2]=b[1]*b[6]*b[15]-b[1]*b[14]*b[7]-b[2]*b[5]*b[15]+b[2]*b[13]*b[7]+b[3]*b[5]*b[14]-b[3]*b[13]*b[6];
h[3]=-b[1]*b[6]*b[11]+b[1]*b[10]*b[7]+b[2]*b[5]*b[11]-b[2]*b[9]*b[7]-b[3]*b[5]*b[10]+b[3]*b[9]*b[6];
h[4]=-b[4]*b[10]*b[15]+b[4]*b[14]*b[11]+b[6]*b[8]*b[15]-b[6]*b[12]*b[11]-b[7]*b[8]*b[14]+b[7]*b[12]*b[10];
h[5]=b[0]*b[10]*b[15]-b[0]*b[14]*b[11]-b[2]*b[8]*b[15]+b[2]*b[12]*b[11]+b[3]*b[8]*b[14]-b[3]*b[12]*b[10];
h[6]=-b[0]*b[6]*b[15]+b[0]*b[14]*b[7]+b[2]*b[4]*b[15]-b[2]*b[12]*b[7]-b[3]*b[4]*b[14]+b[3]*b[12]*b[6];
h[7]=b[0]*b[6]*b[11]-b[0]*b[10]*b[7]-b[2]*b[4]*b[11]+b[2]*b[8]*b[7]+b[3]*b[4]*b[10]-b[3]*b[8]*b[6];h[8]=b[4]*b[9]*b[15]-b[4]*b[13]*b[11]-b[5]*b[8]*b[15]+b[5]*b[12]*b[11]+b[7]*b[8]*b[13]-b[7]*b[12]*b[9];
h[9]=-b[0]*b[9]*b[15]+b[0]*b[13]*b[11]+b[1]*b[8]*b[15]-b[1]*b[12]*b[11]-b[3]*b[8]*b[13]+b[3]*b[12]*b[9];
h[10]=b[0]*b[5]*b[15]-b[0]*b[13]*b[7]-b[1]*b[4]*b[15]+b[1]*b[12]*b[7]+b[3]*b[4]*b[13]-b[3]*b[12]*b[5];
h[11]=-b[0]*b[5]*b[11]+b[0]*b[9]*b[7]+b[1]*b[4]*b[11]-b[1]*b[8]*b[7]-b[3]*b[4]*b[9]+b[3]*b[8]*b[5];h[12]=-b[4]*b[9]*b[14]+b[4]*b[13]*b[10]+b[5]*b[8]*b[14]-b[5]*b[12]*b[10]-b[6]*b[8]*b[13]+b[6]*b[12]*b[9];
h[13]=b[0]*b[9]*b[14]-b[0]*b[13]*b[10]-b[1]*b[8]*b[14]+b[1]*b[12]*b[10]+b[2]*b[8]*b[13]-b[2]*b[12]*b[9];
h[14]=-b[0]*b[5]*b[14]+b[0]*b[13]*b[6]+b[1]*b[4]*b[14]-b[1]*b[12]*b[6]-b[2]*b[4]*b[13]+b[2]*b[12]*b[5];
h[15]=b[0]*b[5]*b[10]-b[0]*b[9]*b[6]-b[1]*b[4]*b[10]+b[1]*b[8]*b[6]+b[2]*b[4]*b[9]-b[2]*b[8]*b[5];var G=b[0]*h[0]+b[1]*h[4]+b[2]*h[8]+b[3]*h[12];
for(var Y=0;Y<16;Y++)h[Y]/=G;return h};e.G4.abq=function(b){var h=[],G=b[5]*b[10]*b[15]-b[5]*b[14]*b[11]-b[6]*b[9]*b[15]+b[6]*b[13]*b[11]+b[7]*b[9]*b[14]-b[7]*b[13]*b[10],H=-b[4]*b[10]*b[15]+b[4]*b[14]*b[11]+b[6]*b[8]*b[15]-b[6]*b[12]*b[11]-b[7]*b[8]*b[14]+b[7]*b[12]*b[10],B=b[4]*b[9]*b[15]-b[4]*b[13]*b[11]-b[5]*b[8]*b[15]+b[5]*b[12]*b[11]+b[7]*b[8]*b[13]-b[7]*b[12]*b[9],j=-b[4]*b[9]*b[14]+b[4]*b[13]*b[10]+b[5]*b[8]*b[14]-b[5]*b[12]*b[10]-b[6]*b[8]*b[13]+b[6]*b[12]*b[9];
return b[0]*G+b[1]*H+b[2]*B+b[3]*j};e.G4.iH=function(b,h,G,H){var B=Math.sin(H),j=Math.cos(H),s=1/Math.sqrt(b*b+h*h+G*G);
b*=s;h*=s;G*=s;return e.G4.kJ([b*b*(1-j)+j,b*h*(1-j)-G*B,b*G*(1-j)+h*B,b*h*(1-j)+G*B,h*h*(1-j)+j,h*G*(1-j)-b*B,b*G*(1-j)-h*B,h*G*(1-j)+b*B,G*G*(1-j)+j])};
e.G4.hu=e.G4.kJ([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
e.G4.a6e=e.G4.kJ([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
e.G4.aDT=e.G4.Q6(e.G4.hu);e.i1={};e.i1.rb=new Uint32Array(1);e.i1.am8=function(b,h,G,H,B,j){var s=new Uint32Array(b),q=0,Q=e.i1.rb;
if(Q.length<h*4)e.i1.rb=Q=new Uint32Array(h*4);var a=new Float64Array(Q.buffer);for(var Y=0;Y<h;Y+=2){var l=B[Y],U=B[Y+1],N=j[Y],R=j[Y+1];
Q[q]=U;a[q+2>>1]=N;Q[q+1]=s[l];s[l]=q+1;q+=4;Q[q]=l;a[q+2>>1]=R;Q[q+1]=s[U];s[U]=q+1;q+=4}return{Zl:Q,asE:a,agh:s}};
e.i1.$T=function(b,h,G,H,B,j,s){var q=1,Q=e.i1.am8(b,h,G,H,B,j),a=Q.Zl,l=Q.asE,U=Q.agh,N=new Uint32Array(b),R=new e.i1.rh(b),g=1,Z=0;
R.push(G);R.push(H);var S=new e.i1.rh(b),i=new Uint8Array(b),y=new Uint32Array(b);i[G]=1;i[H]=2;var o=new Uint32Array(b),v=new Uint32Array(b);
v[G]=v[H]=0;o[G]=o[H]=1;while(!0){var W=-1,A=0,r=1e30;while(!R.mP()&&W==-1){var d=R.top(),$=i[d],I=U[d]-1;
while(I!=-1){var k=a[I],_=i[k],D=I^$-1<<2;if(l[D+2>>1]!=0){if(_==0){e.i1.c$(d,I,k,i,y,v,o);R.push(k)}else if(_==$&&o[k]<=o[d]&&v[k]>v[d])e.i1.c$(d,I,k,i,y,v,o);
else if(_!=$){W=D}}I=a[I+1]-1}if(W!=-1)break;R.pop()}if(W==-1){break}g++;var F=W;while(F!=-1){N[A]=F;
A++;F=y[a[F^4]]-1}var K=A>>1;for(var Y=0;Y<K;Y++){var V=N[Y];N[Y]=N[A-Y-1];N[A-Y-1]=V}F=y[a[W]]-1;while(F!=-1){N[A]=F^4;
A++;F=y[a[F^4]]-1}for(var Y=0;Y<A;Y++)r=Math.min(r,l[N[Y]+2>>1]);Z+=r;if(Z>=s)return{Oo:null,Mt:Z};for(var Y=0;
Y<A;Y++){var c=N[Y],x=c^4,d=a[x],k=a[c];l[c+2>>1]-=r;l[x+2>>1]+=r;if(l[c+2>>1]==0&&i[d]==i[k]){if(i[d]==1){y[k]=0;
S.push(k)}if(i[d]==2){y[d]=0;S.push(d)}}}while(!S.mP()){var d=S.pop(),$=i[d],I=U[d]-1,X=$==1?4:0,M=0,f=0,t=1e9;
while(I!=-1){var k=a[I],n=I^4,D=I^X;if(i[k]==$&&l[D+2>>1]>0&&e.i1.atF(k,G,H,y,a,g,o,v)+1<t){M=k;f=n;
t=v[k]+1}I=a[I+1]-1}if(f!=0){e.i1.c$(M,f,d,i,y,v,o);continue}I=U[d]-1;while(I!=-1){var k=a[I],D=I^X;
if(i[k]==$){if(l[D+2>>1]>0){R.push(k)}if(y[k]==I+1){y[k]=0;S.push(k)}}I=a[I+1]-1}i[d]=0;R.remove(d)}}var L=[];
for(var Y=0;Y<h;Y+=2){var d=B[Y],k=B[Y+1];if(i[d]==1&&i[k]!=1){L.push(Y>>1)}if(i[k]==1&&i[d]!=1){L.push(h+Y>>1)}}return{Oo:L,Mt:Z}};
e.i1.c$=function(b,h,G,H,B,j,s){H[G]=H[b];B[G]=h+1;j[G]=j[b]+1;s[G]=s[b]};e.i1.atF=function(b,h,G,H,B,j,s,q){var Q=b,a=H[b]-1,l=0;
while(a!=-1&&s[b]!=j){b=B[a^4];a=H[b]-1;l++}if(a==-1&&b!=h&&b!=G)return 1e9;var U=q[b]+l;l=0;a=H[Q]-1;
while(Q!=b){q[Q]=U-l;l++;s[Q]=j;Q=B[a^4];a=H[Q]-1}return U};e.i1.a1V=function(b,h,G,H,B,j){var s=e.i1.am8(b,h,G,H,B,j),q=s.Zl,Q=s.asE,a=s.agh,l=0,U=0,N=new Uint32Array(b*2),R=new e.i1.aDU(b),S=0;
while(!0){R.reset();R.push(G);for(var Y=0;Y<b;Y++)N[Y<<1]=0;while(!R.mP()){var g=R.pop(),i=a[g]-1;while(i!=-1){S=q[i];
if(N[S<<1]==0&&Q[i+2>>1]>0&&S!=G){N[S<<1]=g+1;N[(S<<1)+1]=i;R.push(S)}i=q[i+1]-1}if(N[H<<1]!=0){break}}if(N[H<<1]==0){break}var y=1e30;
S=H;while(!0){var o=N[S<<1]-1;if(o==-1)break;var v=N[(S<<1)+1];y=Math.min(y,Q[v+2>>1]);S=o}S=H;while(!0){var o=N[S<<1]-1;
if(o==-1)break;var v=N[(S<<1)+1],Z=v^4;Q[v+2>>1]-=y;Q[Z+2>>1]+=y;S=o}l+=y}var W=[];for(var Y=0;Y<h;Y+=2){var o=B[Y],S=B[Y+1];
if((N[o<<1]!=0||o==G)&&N[S<<1]==0&&S!=G){W.push(Y>>1)}if((N[S<<1]!=0||S==G)&&N[o<<1]==0&&o!=G){W.push(h+Y>>1)}}return{Oo:W,Mt:l}};
e.i1.aDU=function(b){b|=b>>1;b|=b>>2;b|=b>>4;b|=b>>8;b|=b>>16;this.ye=new Uint32Array(b+1);this.rD=b;
this.qd=0;this.dW=0};e.i1.aDU.prototype={push:function(b){var h=this.dW;this.ye[h]=b;this.dW=h+1&this.rD},pop:function(){var b=this.qd,h=this.ye[b];
this.qd=b+1&this.rD;return h},mP:function(){return this.qd==this.dW},reset:function(){this.qd=0;this.dW=0}};
e.i1.rh=function(b){b|=b>>1;b|=b>>2;b|=b>>4;b|=b>>8;b|=b>>16;this.ye=new Uint32Array(b+1);this.BH=new Uint32Array(b+1);
this.rD=b;this.qd=0;this.dW=0};e.i1.rh.prototype={top:function(){return this.ye[this.qd]},a7h:function(){return this.ye[this.dW]},push:function(b){if(this.BH[b]!=0)return;
this.BH[b]=this.dW+1;var h=this.dW;this.ye[h]=b;this.dW=h+1&this.rD},pop:function(){var b=this.qd,h=this.ye[b];
this.BH[h]=0;this.qd=b+1&this.rD;return h},mP:function(){return this.qd==this.dW},remove:function(b){var h=this.BH[b]-1;
if(h==-1)return;this.BH[b]=0;if(h==this.qd){this.pop();return}var G=this.pop();this.ye[h]=G;this.BH[G]=h+1},Zh:function(Y){return Y+this.rD+1&this.rD}};
e.i1.aaa=function(b,h,G){var H=e.i1.lp(b,h,G);if(h<H-1)e.i1.aaa(b,h,H-1);if(H<G)e.i1.aaa(b,H,G)};e.i1.lp=function(b,h,G){var H=b[h+G>>>1];
while(h<=G){while(b[h]<H)h++;while(b[G]>H)G--;if(h<=G){e.i1.WW(b,h,G);h++;G--}}return h};e.i1.WW=function(b,h,G){var H=b[h];
b[h]=b[G];b[G]=H};e.WP=function(){var b,h;function G(s,q,g1){var Q=g1-1,a=q+g1;b[g1-2]=s[a-2];h[0]=s[a-1];
var l=Math.max;for(var Y=1;Y<Q;Y++){b[g1-2-Y]=l(b[g1-1-Y],s[a-2-Y]);h[Y]=l(h[Y-1],s[a-1+Y])}for(var Y=0;
Y<Q;Y++)s[q+Y]=l(b[Y],h[Y])}function H(s,q,g1){var Q=g1-1,a=Math.ceil(q/Q)*Q;for(var l=0;l<a;l+=Q)G(s,l,g1)}function B(s,q,Q,a,g1,l){q.set(s);
if(g1==1)return;b=e.U(g1-1);h=e.U(g1-1);var U=g1>>>1,N=e.U(Math.ceil(Math.max(Q,a)/(g1-1))*(g1-1)+(g1-2)),R=new Uint8Array(N.buffer,0,Q);
if(!l)e.Q6(q);for(var S=0;S<a;S++){N.fill(0);N.set(new Uint8Array(q.buffer,S*Q,Q),U);H(N,Q,g1);q.set(R,S*Q)}for(var g=0;
g<Q;g++){N.fill(0);for(var S=0;S<a;S++)N[S+U]=q[S*Q+g];H(N,a,g1);for(var S=0;S<a;S++)q[S*Q+g]=N[S]}if(!l)e.Q6(q)}function j(s,q,Q,a,g1,l){var U=e.U(Q*a);
for(var N=0;N<4;N++){e.uA(s,U,N);if(N==3)e.Q6(U);B(U,U,Q,a,g1,l);if(N==3)e.Q6(U);e.aj(U,q,N)}}return{EP:B,aEd:j}}();
e.Bs={};e.Bs.a3x=function(b){for(var Y=0;Y<b.length;Y++)e.Bs.u7(b,Y)};e.Bs.u7=function(b,Y){b[Y].v.keyShapeInvalidated={t:"bool",v:!0}};
e.Bs.as1=function(b){for(var Y=0;Y<b.length;Y++)b[Y].v.keyOriginIndex.v=Y};e.Bs.TI=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
e.Bs.KR=function(b){b=b.v;var h={Rctn:2,Ln:4,Elps:5},G=h[b.classID],H=b.topLeft?e.Bs.apF(b):null,B=null,j=0,s=[!1,!1,0,0,0];
if(G==4){var q=b.Strt.v,Q=b.End.v;B=[q.Hrzn.v.val,q.Vrtc.v.val,Q.Hrzn.v.val,Q.Vrtc.v.val];j=b.Wdth.v.val;
for(var Y=0;Y<2;Y++){var a=b[Y==0?"StrA":"EndA"];if(a==null)continue;a=a.v;s[Y]=a.On.v;s[2]=a.Wdth.v;
s[3]=a.Lngt.v;s[4]=a.Cncv.v.val}}if(G==null)return null;return e.Bs.iq(G,G==4?null:e.Bs.sj(b),H,B,j,s)};
e.Bs.AS=function(b,h,G,H,B,j,s){var q={classID:b,unitValueQuadVersion:{t:"long",v:1}};if(h)e.Bs.wu(q,["Left","Top","Rght","Btom"],h);
if(G)e.Bs.wu(q,["topLeft","topRight","bottomRight","bottomLeft"],G);if(b=="Ln"){q.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:H[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:H[1]}}}},q.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:H[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:H[3]}}}},q.Wdth={t:"UntF",v:{type:"#Pxl",val:B}};
for(var Y=0;Y<2;Y++){var Q=Y==0?"StrA":"EndA";q[Q]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:s[Y]},Wdth:{t:"doub",v:s[2]},Lngt:{t:"doub",v:s[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:s[4]}}}}}}if(j)q.Nm={t:"TEXT",v:j};
return{t:"Objc",v:q}};e.Bs.aqW=function(b,h){var G=e.Bs.qo(b),H=b[2]-b[0],B=b[3]-b[1],j=Math.sqrt(H*H+B*B),s=[0,0,j,0,j,h,0,h],q=new eq;
q.rotate(-G);q.translate(b[0],b[1]);e.N.h(s,q,s);return s};e.Bs.iq=function(b,h,G,H,B,j){var s=e.Bs.TI(),q=s.v,Q;
delete q.keyShapeInvalidated;q.keyOriginType={t:"long",v:b};q.keyOriginResolution={t:"doub",v:75};if(b==4){q.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:H[0]},Vrtc:{t:"doub",v:H[1]}}};
q.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:H[2]},Vrtc:{t:"doub",v:H[3]}}};Q=e.Bs.aqW(H,B);
var a=e.N.MP(Q);h=[a.x,a.y,a.x+a.j,a.y+a._];q.keyOriginLineWeight={t:"doub",v:B};if(j)e.Bs.aD9(q,j)}else Q=[h[0],h[1],h[2],h[1],h[2],h[3],h[0],h[3]];
q.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};e.Bs.t3(q,"keyOriginBoxCorners",Q);var l={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
q.keyOriginShapeBBox={t:"Objc",v:l};e.Bs.aCV(q,h);if(G!=null){var U={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
q.keyOriginRRectRadii={t:"Objc",v:U};e.Bs.Zz(q,G)}return s};e.Bs.h=function(b,h,G,H){var B=e.t.aEK(h),j=e.t.a1j(h),s=e.t.lt(h),q=s.G*s.tW-s.J*s.YW;
for(var Y=0;Y<b.length;Y++){var Q=b[Y].v;if(!e.Bs.bM(Q))continue;if(G.length!=0&&G.indexOf(Y)==-1)continue;
var a=Q.keyOriginType.v,l=h;if(q<0&&a==2){var U=e.Bs.Rg(Q),N=0;N=U[0];U[0]=U[1];U[1]=N;N=U[2];U[2]=U[3];
U[3]=N;e.Bs.Zz(Q,U);var R=e.Bs.gH(Q,"keyOriginBoxCorners"),S=e.N.MP(R),g=S.x+S.j/2,i=new eq;i.translate(-g,0);
i.scale(-1,1);i.translate(g,0);l=e.t.Z$(l,e.t.UE(i))}var y=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var o=0;o<y.length;o++){var R=e.Bs.gH(Q,y[o]);if(R==null)continue;e.t.h(l,R);e.Bs.t3(Q,y[o],R);var S=e.N.MP(R);
e.Bs.aCV(Q,[S.x,S.y,S.x+S.j,S.y+S._]);var v=new eq;v.rotate(-e.Bs.qo(R));var Z={classID:"Trnf"};Q.Trnf={t:"Objc",v:Z};
var W="xx xy yx yy tx ty".split(" "),d=[v.G,v.J,v.YW,v.tW,v.Kv,v.d0];for(var $=0;$<6;$++)Z[W[$]]={t:"doub",v:d[$]}}if(a==2&&H){var U=e.Bs.Rg(Q);
for(var o=0;o<4;o++)U[o]=Math.round(U[o]*h[0]);e.Bs.Zz(Q,U)}var R=e.Bs.gH(Q,"keyOriginBoxCorners"),I=R[2]-R[0],k=R[3]-R[1],_=Math.sqrt(I*I+k*k);
I/=_;k/=_;var D=R[6]-R[0],A=R[7]-R[1],F=Math.sqrt(D*D+A*A);D/=F;A/=F;if(a==4){Q.keyOriginLineWeight.v=F;
var K=e.Bs.sT(Q);e.t.h(h,K);e.Bs.a1N(Q,K)}var V=I*D+k*A;if(Math.abs(V)>.001){e.Bs.u7(b,Y)}}};e.Bs.bM=function(b){var h=b.keyShapeInvalidated,G=b.keyOriginType;
return(h==null||!h.v)&&G!=null&&G.v!=9};e.Bs.avs=function(b){var h=b.keyOriginType.v,G=e.Bs.QT(b),H=G[0],B=G[1],j=G[2],s=G[3],q=new eq,Q=b.keyOriginPolyCornerRadius,R;
Q=Q?Q.v:0;var a=e.Bs.gH(b,h==7||h==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),l=e.Bs.aAE(a),U=l[2],N=l[3];
H=-U/2;j=U/2;B=-N/2;s=N/2;q.rotate(-e.Bs.qo(a));q.Kv=l[0];q.d0=l[1];if(h==1||h==2){var S=h==1?0:e.Bs.Rg(b);
R=e.n.NT.Rect(H,B,j-H,s-B,S)}else if(h==4){var g=e.Bs.sT(b),i=e.Bs.aq4(b);q=new eq;if(i==null)R=e.n.NT.YX(g[0],g[1],g[2],g[3],b.keyOriginLineWeight.v);
else R=e.n.NT.OO(g[0],g[1],g[2],g[3],b.keyOriginLineWeight.v,i)}else if(h==5){R=e.n.NT.yT(H,B,j-H,s-B)}else if(h==7||h==8){var y=h==7?3:b.keyOriginPolySides.v;
R=e.n.NT.hD(0,0,100,Math.PI/y-Math.PI/2,y,Q,j,s)}e.n.Gl(R,q);return R};e.Bs.CG=function(b,h){var G=h.d;
for(var Y=0;Y<b.length;Y++){var H=b[Y].v;if(!e.Bs.bM(H))continue;var B=e.Bs.avs(H),j=e.n.Xd(G,Y),s=e.n.LN(G,Y);
B[2].Vj=G[j].Vj;var q=G;G=G.slice(0,j);for(var Q=2;Q<B.length;Q++)G.push(B[Q]);for(var Q=j+s;Q<q.length;
Q++)G.push(q[Q])}h.d=G;h.GD=!0};e.Bs.Kt=function(b){var h=1e9,G=-h,H=1e9,B=-H,j=[],s=b.wV(),q=s[0],Q=s[1];
for(var a=0;a<Q.length;a++){var l=q[Q[a]],U=l.add.vogk;if(U==null)continue;var N=l.add.vmsk.T;for(var R=0;
R<U.length;R++){var S=U[R].v,y=0;if(!e.Bs.bM(S))continue;if(Q.length==1&&N.length!=0&&N.indexOf(R)==-1)continue;
var g=S.keyOriginType.v;if(g==9)continue;var i=e.Bs.QT(S);h=Math.min(h,i[0]);H=Math.min(H,i[1]);G=Math.max(G,i[2]);
B=Math.max(B,i[3]);var o=e.Bs.gH(S,"keyOriginBoxCorners");if(o){var v=e.Bs.aAE(o),Z=v[2],W=v[3];i[2]=i[0]+Z;
i[3]=i[1]+W;y=e.Bs.qo(o)}var d=[g,i,y];j.push(d);var $=S.keyOriginPolyCornerRadius;if(g==2)d.push(e.Bs.Rg(S));
if(g==7||g==8)d.push($?$.v:0);if(g==8)d.push(S.keyOriginPolySides.v)}}return j.length==1?j[0]:[0,h<G?[h,H,G,B]:null,0]};
e.Bs.qo=function(b){var h=b[2]-b[0],G=b[3]-b[1];return-Math.atan2(-G,h)};e.Bs.ajo=function(b){var h=e.Bs.QT(b);
return e.Bs.qo(h)};e.Bs.aCa=function(b,h,G){var H=e.Bs.Kt(b),B=-1;for(var Y=0;Y<h.length;Y++)if(JSON.stringify(h[Y])!=JSON.stringify(H[Y]))B=Y;
if(B==1||B==2){}var j=b.wV(),s=j[0],q=j[1];for(var Q=0;Q<q.length;Q++){var a=s[q[Q]],l=a.add.vogk;if(l==null)continue;
var U=a.add.vmsk.T;for(var N=0;N<l.length;N++){var R=l[N].v;if(!e.Bs.bM(R))continue;if(q.length==1&&U.length!=0&&U.indexOf(N)==-1)continue;
var S=R.keyOriginType.v;if(B==1||B==2){e.Bs.h(l,e.Bs.acP(B,R,H,h),U,!1);break}if(B==3)if(S==2)e.Bs.Zz(R,h[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:h[3]};if(B==4)R.keyOriginPolySides.v=h[4];if(G)e.Bs.u7(l,N)}}};
e.Bs.acP=function(b,h,G,H){var B=H[1],j=G[1],s=(B[2]-B[0])/(j[2]-j[0]),q=(B[3]-B[1])/(j[3]-j[1]),Q=new eq;
if(b==1){if(Math.max(Math.abs(s-1),Math.abs(q-1))>1e-8){var a=B[0],l=B[1];if(H[0]!=0){var U=e.Bs.gH(h,"keyOriginBoxCorners");
a=U[0];l=U[1]}Q.translate(-a,-l);Q.rotate(H[2]);Q.scale(s,q);Q.rotate(-H[2]);Q.translate(a,l)}else{Q.translate(-j[0],-j[1]);
Q.translate(B[0],B[1])}}else{if(H[0]!=0)B=e.Bs.QT(h);var a=(B[0]+B[2])/2,l=(B[1]+B[3])/2;Q.translate(-a,-l);
if(G[0]!=0)Q.rotate(G[2]);Q.rotate(-H[2]);Q.translate(a,l)}return e.t.UE(Q)};e.Bs.aAE=function(b){var h=b[0],G=b[1],H=b[2],B=b[3],j=b[4],s=b[5],q=b[6],Q=b[7],a=H-h,l=B-G,U=Math.sqrt(a*a+l*l),a=j-H,l=s-B,N=Math.sqrt(a*a+l*l);
return[(h+j)/2,(G+s)/2,U,N]};e.Bs.gH=function(b,h){var G=b[h];if(G==null)return null;var H=[];G=G.v;
for(var B=0;B<4;B++){var j=G["rectangleCorner"+["A","B","C","D"][B]].v;H.push(j.Hrzn.v,j.Vrtc.v)}return H};
e.Bs.t3=function(b,h,G){var H=b[h];if(H==null)return null;H=H.v;for(var B=0;B<4;B++){var j="rectangleCorner"+["A","B","C","D"][B];
H[j]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:G[2*B]},Vrtc:{t:"doub",v:G[2*B+1]}}}}};e.Bs.QT=function(b){return e.Bs.sj(b.keyOriginShapeBBox.v)};
e.Bs.sj=function(b){var h=b.classID,G=b.Left.v,H=b.Rght.v,B=b.Top.v,j=b.Btom.v;if(G.val!=null){G=G.val;
H=H.val;B=B.val;j=j.val}return[G,B,H,j]};e.Bs.aCV=function(b,h){e.Bs.wu(b.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],h)};
e.Bs.Rg=function(b){var h=b.keyOriginRRectRadii;if(h==null)return[0,0,0,0];return e.Bs.apF(h.v)};e.Bs.apF=function(b){var h=[],G=["topLeft","topRight","bottomRight","bottomLeft"];
for(var H=0;H<4;H++)h.push(b[G[H]].v.val);return h};e.Bs.Zz=function(b,h){e.Bs.wu(b.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],h)};
e.Bs.wu=function(b,h,G){var H=b.classID;if(H=="unitRect"||H=="radii"||H=="Rctn"){for(var Y=0;Y<4;Y++)if(G[Y]!=null)b[h[Y]]={t:"UntF",v:{type:"#Pxl",val:G[Y]}}}else{for(var Y=0;
Y<4;Y++)if(G[Y]!=null)b[h[Y]]={t:"doub",v:G[Y]}}};e.Bs.sT=function(b){var h=b.keyOriginLineStart.v,G=b.keyOriginLineEnd.v;
return[h.Hrzn.v,h.Vrtc.v,G.Hrzn.v,G.Vrtc.v]};e.Bs.a1N=function(b,h){var G=b.keyOriginLineStart.v,H=b.keyOriginLineEnd.v;
G.Hrzn.v=h[0];G.Vrtc.v=h[1];H.Hrzn.v=h[2];H.Vrtc.v=h[3]};e.Bs.aq4=function(b){var h=[],G=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var Y=0;Y<5;Y++){var H=b["keyOriginLineArr"+G[Y]];if(H==null)return null;h[Y]=H.v}return h};e.Bs.aD9=function(b,h){b.keyOriginLineArrowSt={t:"bool",v:h[0]};
b.keyOriginLineArrowEnd={t:"bool",v:h[1]};b.keyOriginLineArrWdth={t:"doub",v:h[2]};b.keyOriginLineArrLngth={t:"doub",v:h[3]};
b.keyOriginLineArrConc={t:"long",v:h[4]}};e.Bs.a6j=function(b){function h(Z,W){return Math.abs(Z-W)<.5}function G(Z,W){return h(Z.x,W.x)&&h(Z.y,W.y)}function H(Z,W,d,$,I,k,_){for(var Y=0;
Y<_;Y++){var D=Z[W+(d+Y)%_],A=$[I+(k+Y)%_];if(!(G(D.v,A.v)&&G(D.o$,A.o$)&&G(D.PY,A.PY)))return!1}return!0}var B=[];
for(var j=0;j<b.length;j++){var s=b[j],Q=null;if(s.type!=0&&s.type!=3||s.Vj==-1)continue;var q=j;if(s.length==4||s.length==8){var a=e.n.a1X(b.slice(0,2).concat(b.slice(q,q+s.length+1)));
q=2;if(s.length==4){var l=e.n.Wl(a,q+1,4),U=l.x,N=l.y,R=U+l.j,S=N+l._;if(l.X()>4){if(e.n.wm(a.slice(q-2,q+5)))Q=e.Bs.iq(2,[U,N,R,S],[0,0,0,0]);
else{var g=-1;for(var Y=0;Y<4;Y++)if(h(a[q+1+Y].v.y,S))g=Y;if(g!=-1){var i=e.n.NT.yT(U,N,R-U,S-N),y=H(a,q+1,g,i,3,0,4);
if(y)Q=e.Bs.iq(5,[U,N,R,S])}}}}if(s.length==8){var l=e.n.Wl(a,q+1,8),U=l.x,N=l.y,R=U+l.j,S=N+l._;if(l.X()>4){var g=-1;
for(var Y=0;Y<8;Y++)if(h(a[q+1+(Y+1&7)].v.y,N)&&h(a[q+1+(Y+2&7)].v.y,N))g=Y;if(g!=-1){var o=Math.abs(a[q+1+g].v.y-N),v=[o,o,o,o];
if(o>.5){var i=e.n.NT.Rect(U,N,R-U,S-N,v),y=H(a,q+1,g,i,3,0,8);if(y)Q=e.Bs.iq(2,[U,N,R,S],v)}}}}}B.push(Q?Q:e.Bs.TI())}return B};
e.N={};e.N.clone=function(b){return{Gc:b.Gc.slice(0),m:b.m.slice(0)}};e.N.asS=function(b){if(b.length<6)return!0;
var h=b.length-4;for(var Y=0;Y<h;Y+=2)if(!e.N._4(b[Y],b[Y+1],b[Y+2],b[Y+3],b[Y+4],b[Y+5]))return!1;if(!e.N._4(b[h],b[h+1],b[h+2],b[h+3],b[0],b[1]))return!1;
if(!e.N._4(b[h+2],b[h+3],b[0],b[1],b[2],b[3]))return!1;return!0};e.N._4=function(b,h,G,H,B,j){return(h-H)*(B-G)+(G-b)*(j-H)>=0};
e.N.aw2=function(b,h){function G(t,n,I){var d=n[0]-t[0],$=n[1]-t[1],L=e.N.yH(I[0],I[1],-$,d,t[0],t[1],d,$);
return[I[0]-$*L,I[1]+d*L]}function H(t,n){var d=t[0]-n[0],$=t[1]-n[1];return Math.sqrt(d*d+$*$)}b=e.N.a80(b);
var B=[0,0,0,0],j=b.length,s=[0,0,0,0],q=Math.PI/2,Q=Math.atan2(-1,0),R=1e9,S,g=0;function a(){for(var Y=0;
Y<4;Y++){var y=B[Y],o=(y+2)%j,t=b[o]-b[y],n=b[o+1]-b[y+1],L=Math.atan2(n,t),P=Q+Y*q;if(L<P)P-=2*Math.PI;
s[Y]=L-P}}for(var Y=0;Y<j;Y+=2){var l=b[Y],U=b[Y+1];if(l<b[B[0]])B[0]=Y;if(U<b[B[1]+1])B[1]=Y;if(l>b[B[2]])B[2]=Y;
if(U>b[B[3]+1])B[3]=Y}a();var N=e.N.MP(b).X();while(g<j/2){var i=0;for(var Y=0;Y<4;Y++)if(s[Y]<s[i])i=Y;
var y=B[i],o=(y+2)%j,v=B[i+2&3],Z=B[i+3&3],W=B[i+1&3],l=b[y],d=b[o]-l,U=b[y+1],$=b[o+1]-U,I=b.slice(y,y+2),k=b.slice(o,o+2),_=b.slice(v,v+2),D=b.slice(Z,Z+2),A=b.slice(W,W+2),F=G(I,k,_),K=G(D,[D[0]-$,D[1]+d],A),V=H(F,_),r=H(K,A);
if(r*V<R){R=r*V;var c=G(I,k,D);S=[c[0],c[1],d,$,r,V]}Q+=s[i];B[i]=o;a();g++}var l=S[0],U=S[1],d=S[2],$=S[3],r=S[4],V=S[5],x=Math.sqrt(d*d+$*$);
d/=x;$/=x;var X=l+d*r,M=U+$*r,f=[l,U,X,M,X-$*V,M+d*V,l-$*V,U+d*V];while(f[0]>f[2]||Math.abs((f[3]-f[1])/(f[2]-f[0]))>1){f.push(f.shift(),f.shift())}return f};
e.N.a80=function(b){var h=0;for(var Y=0;Y<b.length;Y+=2)if(b[Y]<b[h])h=Y;var G=[h];while(!0){var H=G[G.length-1],B=b[H],j=b[H+1],s=G.length==1?G[0]:G[G.length-2],q=b[s],Q=b[s+1],N=0,R=1e9,S=0;
if(G.length==1)Q+=20;var a=q-B,l=Q-j,U=Math.sqrt(a*a+l*l);a/=U;l/=U;for(var Y=0;Y<b.length;Y+=2){if(Y==s||Y==H)continue;
var g=b[Y],i=b[Y+1],y=g-B,o=i-j,v=Math.sqrt(y*y+o*o);y/=v;o/=v;var Z=a*y+l*o;if(Z<R||Z==R&&v>S){R=Z;
N=Y;S=v}}if(N==G[0])break;G.push(N)}var W=[];for(var Y=0;Y<G.length;Y++)W.push(b[G[Y]],b[G[Y]+1]);return W};
e.N.UC=function(b){var h={},G=0,H={M:2,L:2,Q:4,C:6},B="",j="",s={m:[],Gc:[]};for(var Y=0;Y<b.Gc.length;
Y++){var q=b.Gc[Y];if(q[0]=="#")B=q;else if(q[0]=="X"){var Q=B+j;if(h[Q]==null)h[Q]={m:[],Gc:[]};e.N.concat(h[Q],s);
B="";j="";s={m:[],Gc:[]}}else if(q[0]=="O"&&q[1]=="-")j=q;else if(q=="OX"){if(j!="")j+="-1"}else{s.Gc.push(q);
var a=H[q];if(a==null)a=0;for(var l=0;l<a;l++)s.m.push(b.m[G+l]);G+=a}}return h};e.N.a0G=function(b,h,G){var H=b[h]-b[G-2],B=b[h+1]-b[G-1];
return H*H+B*B<1e-4};e.N.zv=function(b,h,G){b=e.N.N5(b);var H=b.m,B=b.Gc,j=0,s="",q=0,Q=0,j=0,U=null;
for(var Y=0;Y<B.length;Y++){var a=B[Y];if(a=="M"){q=H[j];Q=H[j+1];j+=2;s=a}if(a=="C"){if(s=="Z"){B.splice(Y,0,"M");
H.splice(j,0,q,Q);Y--;continue}j+=6;s=a}if(a=="Z"){s=a}}var l=[];j=0;for(var Y=0;Y<B.length;Y++){var a=B[Y];
if(a=="M"){U={n3:j,Ho:0,q_:!1};l.push(U);j+=2}if(a=="C"){U.Ho++;j+=6}if(a=="Z"&&U!=null){U.q_=!0}}var N=[];
for(var Y=0;Y<l.length;Y++)if(l[Y].Ho!=0)N.push(l[Y]);l=N;for(var Y=0;Y<l.length;Y++){var R=l[Y],S=R.n3,g=S+2+R.Ho*6,y=0;
R.rc=e.N.MP(H,S,g);var i=e.N.a0G(H,S,g);for(var o=0;o<R.Ho;o++){var v=S+o*6,Z=v+6;y+=(H[Z]-H[v])*(H[Z+1]+H[v+1])}if(R.Ho==2){var W=function(p,m,O){var cb=1-O;
return cb*cb*cb*p[m]+3*cb*cb*O*p[m+2]+3*cb*O*O*p[m+4]+O*O*O*p[m+6]},d=H[S],$=H[S+1],I=H[S+6],k=H[S+7],_=H[S+6],D=H[S+7],A=W(H,S,.5),F=W(H,S+1,.5),K=W(H,S+6,.5),V=W(H,S+7,.5);
y=(A-d)*(F-$)+(I-A)*(k-F)+(K-I)*(V-k)+(_-K)*(D-V)}if(!i)y+=(H[S]-H[g-2])*(H[S+1]+H[g-1]);R.i$=y<=0}for(var Y=0;
Y<l.length-1;Y++)for(var v=Y+1;v<l.length;v++){var r=l[Y],c=l[v];if(c.rc.ku(r.rc)){l[Y]=c;l[v]=r}}var x=l.length==0?!0:l[0].i$,X=[{type:6},{type:8,all:0}];
for(var Y=0;Y<l.length;Y++){var R=l[Y],S=R.n3,g=S+2+R.Ho*6,i=e.N.a0G(H,S,g);if(R.Ho==1)i=!1;var M=R.q_||i?0:3,f=R.i$==x&&!h?1:0;
if(!h&&Y!=0){if(l[Y-1].rc.ku(R.rc)&&l[Y-1].i$!=R.i$)f=0;for(var v=0;v<l.length;v++)if(v!=Y&&l[v].rc.ku(R.rc))f=0}X.push({type:M,length:R.Ho+(i?0:1),Vj:G?0:f,ts:2});
for(var v=0;v<R.Ho;v++){var j=S+v*6,t=new cJ(H[j],H[j+1]),n=new cJ(H[j+2],H[j+3]),L;if(v==0){if(i){L=new cJ(H[g-4],H[g-3]);
if(cJ.o0(L,t)<1e-5)L=t.clone()}else L=t.clone()}else L=new cJ(H[j-2],H[j-1]);X.push({type:M+2,o$:L,v:t,PY:n})}if(!i){var P=new cJ(H[g-2],H[g-1]);
X.push({type:M+2,o$:new cJ(H[g-4],H[g-3]),v:P,PY:P.clone()})}}for(var v=0;v<X.length;v++){var z=X[v];
if(z.type>5||z.type==0||z.type==3)continue;var T=z.o$.TW(z.v)||z.PY.TW(z.PY);if(!T){var r=z.o$.x*(z.v.y-z.PY.y)+z.v.x*(z.PY.y-z.o$.y)+z.PY.x*(z.o$.y-z.v.y);
if(Math.abs(r)<1e-6)T=!0}if(T)z.type--}return X};e.N.ES=function(b,h){var G=e.n.bF(b),H=[];for(var Y=2;
Y<b.length;Y++){var B=b[Y].Vj;if(B!=null){if(B==2||B==0||B==3||B==-1)H.push(B)}}var j=H.length!=0;if((j||h)&&b.length<2e3&&1<G&&G<200)b=e.n.ry(b);
var s=e.N.nT(b);return{Js:s,eQ:j?1:0}};e.N.nT=function(){function b(H,B,j,s){if(s!=2&&H.PY.TW(H.v)&&B.o$.TW(B.v)){j.m.push(B.v.x,B.v.y);
j.Gc.push("L")}else{var q=H.v,Q=H.PY,a=B.o$,l=B.v,U=3/2*Q.x-1/2*q.x,N=3/2*Q.y-1/2*q.y,R=3/2*a.x-1/2*l.x,S=3/2*a.y-1/2*l.y,g=R-U,i=S-N;
if(s==0&&g*g+i*i<.001){j.m.push((U+R)*.5,(N+S)*.5,l.x,l.y);j.Gc.push("Q")}else{j.m.push(Q.x,Q.y,a.x,a.y,l.x,l.y);
j.Gc.push("C")}}}function h(H,B,Y,j,s,q){var Q=B[Y];H.m.push(Q.v.x,Q.v.y);H.Gc.push("M");for(var a=Y;
a<Y+j-1;a++)b(B[a],B[a+1],H,q);if(!s)b(B[a],B[Y],H,q)}function G(H,B){if(B==null)B=0;var j={m:[],Gc:[]};
for(var Y=0;Y<H.length;Y++){if(H[Y].type>5)continue;var s=H[Y].length;if(s==0)continue;if(Y==H.length-1)break;
var q=H[Y].type==3;h(j,H,Y+1,s,q,B);if(!q)j.Gc.push("Z");Y+=s}return j}return G}();e.N.a0q=function(b){var h=b.m,G=[],H,B=0;
for(var Y=0;Y<b.Gc.length;Y++){var j=b.Gc[Y];if(j=="C"){H.push(h[B++],h[B++],h[B++],h[B++],h[B++],h[B++])}else if(j=="Z"){}else{H=[];
if(j!="M"){H.push(j);Y++}H.push(h[B++],h[B++]);G.push(H)}}return G};e.N._X=function(b,h,G,H){if(H==null)H=1e9;
var B=1e9,j=0;for(var Y=0;Y<b.length;Y+=2){var s=h-b[Y],q=G-b[Y+1],Q=s*s+q*q;if(Q<B){B=Q;j=Y>>>1}}return B<H*H?j:-1};
e.N.auw=function(b,h,G,H){for(var Y=0;Y<b.length;Y+=2){var B=b[Y],j=b[Y+1],s=h[Y],q=h[Y+1];G[Y]=B+(s-B)*H;
G[Y+1]=j+(q-j)*H}};e.N.h=function(b,h,G){for(var Y=0;Y<b.length;Y+=2){var H=b[Y],B=b[Y+1];G[Y]=H*h.G+B*h.YW+h.Kv;
G[Y+1]=H*h.J+B*h.tW+h.d0}};e.N.MP=function(b,h,G){if(h==null)h=0;if(G==null)G=b.length;var H=99999999999,B=-H,j=99999999999,s=-j;
for(var Y=h;Y<G;Y+=2){var q=b[Y],Q=b[Y+1];H=Math.min(H,q);j=Math.min(j,Q);B=Math.max(B,q);s=Math.max(s,Q)}return new io(H,j,B-H,s-j)};
e.N.afF=function(b,h){var G=Math.max(h.x,Math.min(h.x+h.j,b.x)),H=Math.max(h.y,Math.min(h.y+h._,b.y)),B=b.x-G,j=b.y-H;
return Math.sqrt(B*B+j*j)};e.N.lZ=function(b,h){var G=Math.floor,H=Math.ceil;if(h){G=Math.ceil;H=Math.floor}var B=G(b.x),j=H(b.x+b.j),s=G(b.y),q=H(b.y+b._);
return new io(B,s,j-B,q-s)};e.N.sm=function(b,h){return e.N.lZ(e.N.MP(b),h)};e.N.Q0=function(b,h){var G=b.x,H=b.y,B=b.x+b.j,j=b.y+b._,s=[G,H,B,H,B,j,G,j];
if(h){var q=h.clone();q.Q6();e.N.h(s,q,s)}return{Gc:["M","L","L","L","Z"],m:s}};e.N.concat=function(b,h,G){if(G==null)G=new eq;
for(var Y=0;Y<h.m.length;Y+=2){var H=h.m[Y],B=h.m[Y+1];b.m.push(H*G.G+B*G.YW+G.Kv);b.m.push(H*G.J+B*G.tW+G.d0)}for(var Y=0;
Y<h.Gc.length;Y++)b.Gc.push(h.Gc[Y])};e.N.reverse=function(b){var h=b.Gc.slice(1),G=h.pop();if(G!="Z")h.push(G);
h.reverse();h=["M"].concat(h);if(G=="Z")h.push("Z");var H=[],B=b.m.length;for(var j=0;j<B;j+=2){H[j]=b.m[B-2-j];
H[j+1]=b.m[B-2-j+1]}return{m:H,Gc:h}};e.N.agF=function(b,h,G,H,B){function j(N,R,S){return new cJ(N.x*(1-S)+R.x*S,N.y*(1-S)+R.y*S)}var s=j(b,h,B),q=j(G,H,B),Q=j(h,G,B),a=j(s,Q,B),l=j(Q,q,B),U=j(a,l,B);
return[s,a,U,l,q]};e.N.N5=function(b){var h=b.m,G=[],H=[],B=0,j=0,s=0,q=0,Q=0,a=0,l=0,U=0,N=0,R=0,S=0;
for(var Y=0;Y<b.Gc.length;Y++){var g=b.Gc[Y];if(g=="M"){j=h[B];s=h[B+1];B+=2;H.push(g);G.push(j,s);R=j;
S=s}else if(g=="C"){q=h[B];Q=h[B+1];a=h[B+2];l=h[B+3];U=h[B+4];N=h[B+5];B+=6;H.push(g);G.push(q,Q,a,l,U,N);
j=U;s=N}else if(g=="Q"){q=h[B];Q=h[B+1];a=h[B+2];l=h[B+3];B+=4;var i=q-j,y=Q-s,o=a-q,v=l-Q;H.push("C");
G.push(j+2/3*i,s+2/3*y,q+1/3*o,Q+1/3*v,a,l);j=a;s=l}else if(g=="L"){q=h[B];Q=h[B+1];B+=2;if(q!=j||Q!=s){H.push("C");
G.push(j,s,q,Q,q,Q);j=q;s=Q}}else{if(g=="Z"){j=R;s=S}H.push(g)}}return{Gc:H,m:G}};e.N.aoU=function(b){var h=b.m,G=[],H=[],B=0;
for(var Y=0;Y<b.Gc.length;Y++){var j=b.Gc[Y];if(j=="Q"){var s=h[B-2],q=h[B-1],Q=h[B],a=h[B+1],l=h[B+2],U=h[B+3];
B+=4;var N=Q-s,R=a-q,S=l-Q,g=U-a;H.push("C");G.push(s+2/3*N,q+2/3*R,Q+1/3*S,a+1/3*g,l,U)}else{var i=0;
if(j=="M"||j=="L")i=2;else if(j=="C")i=6;for(var y=0;y<i;y++)G.push(h[B+y]);B+=i;H.push(j)}}return{Gc:H,m:G}};
e.N.cf=function(b,h){var G=b.m,H=[],B=[],j=0,s=0,q=0,Q=0,a=0,l=0,U=0,N=0,R=0;for(var Y=0;Y<b.Gc.length;
Y++){var S=b.Gc[Y];if(S=="M"){s=G[j];q=G[j+1];j+=2;B.push(S);H.push(s,q)}else if(S=="C"){Q=G[j];a=G[j+1];
l=G[j+2];U=G[j+3];N=G[j+4];R=G[j+5];j+=6;e.N.xI(s,q,Q,a,l,U,N,R,h,B,H,0);s=N;q=R}else B.push(S)}return{Gc:B,m:H}};
e.N.xI=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=Math.sqrt((s-b)*(s-b)+(q-h)*(q-h)),R=Math.sqrt((s-B)*(s-B)+(q-j)*(q-j))+Math.sqrt((B-G)*(B-G)+(j-H)*(j-H))+Math.sqrt((G-b)*(G-b)+(H-h)*(H-h)),S=(N+R)/2;
if(S<=Q){a.push("C");l.push(G,H,B,j,s,q)}else{var g=0,i=0,y=0,o=0,v=0,Z=0,W=0,d=0,$=0,I=0,k=0,_=0,D=0;
i=(b+G)/2;y=(h+H)/2;o=(G+B)/2;v=(H+j)/2;Z=(B+s)/2;W=(j+q)/2;d=(i+o)/2;$=(y+v)/2;I=(o+Z)/2;k=(v+W)/2;
_=(d+I)/2;D=($+k)/2;e.N.xI(b,h,i,y,d,$,_,D,Q,a,l,U+1);e.N.xI(_,D,I,k,Z,W,s,q,Q,a,l,U+1)}};e.N.yS=function(b,h,G,H,B){var j=Date.now(),s=e.N.aAR(b,h,G);
if(B){console.log("trace polygons",Date.now()-j);j=Date.now()}var q=[];for(var Y=0;Y<s.length;Y++){var Q=s[Y],a=Q[0],l=["M"],U=b[a[1]*h+a[0]];
if(a.length>8)a=e.N.a4R(a,H,Q[1]);if(a.length<=4)continue;for(var N=2;N<a.length;N+=2)l.push("L");l.push("Z");
q.push({path:{m:a,Gc:l},color:U,parent:-1,rc:e.N.MP(a)})}if(B){console.log("simplify polygons",Date.now()-j);
j=Date.now()}for(var Y=1;Y<q.length;Y++){var R=q[Y],S=R.path.m,g=S[0],i=S[1],y=S[2],o=S[3],v=y-g,Z=o-i,W=g+.5*v-.001*Z,d=i+.5*Z+.001*v;
for(var N=Y-1;N>=0;N--){var $=q[N];if(!$.rc.ku(R.rc))continue;if(!b0.Xh($.path.m,W,d))continue;R.parent=N;
break}}if(B){console.log("checking parents",Date.now()-j);j=Date.now()}return q};e.N.aAR=function(b,h,G){var H=h*G,B=new Uint16Array(h*G),s=0;
for(var Y=0;Y<H;Y++)B[Y]=b[Y];var j=new Uint8Array(h*G);j[1*h+1]=j[(G-1)*h+1]=j[1*h+h-1]=j[(G-1)*h+h-1]=1;
for(var q=1;q<G;q++)for(var Q=1;Q<h;Q++){var Y=q*h+Q,a=B[Y-h-1],l=B[Y-h],U=B[Y-1],N=B[Y],R=a==N&&l==U&&a!=l,S=0;
if(N<U){s=N;N=U;U=s}if(U<l){s=U;U=l;l=s}if(l<a){s=l;l=a;a=s}if(N<U){s=N;N=U;U=s}if(U<l){s=U;U=l;l=s}if(N<U){s=N;
N=U;U=s}if(a!=l)S++;if(l!=U)S++;if(U!=N)S++;if(N!=a)S++;if(S>=3||R)j[Y]=1}var g=[];for(var q=1;q<G;q++)for(var Q=1;
Q<h;Q++){var Y=q*h+Q;if(B[Y]!=B[Y-1]){var i=e.N.aAU(B,h,G,Q,q),y=[];for(var o=0;o<i.length;o+=2)if(j[i[o+1]*h+i[o]]==1)y.push(o>>>1);
g.push([i,y]);e.N._D(B,h,G,Q,q)}}return g};e.N._D=function(b,h,G,H,B){var j=[B*h+H],s=b[B*h+H];b[B*h+H]=65535;
while(j.length!=0){var Y=j.pop();b[Y]=0;if(b[Y+h]==s){j.push(Y+h);b[Y+h]=65535}if(b[Y-h]==s){j.push(Y-h);
b[Y-h]=65535}if(b[Y-1]==s){j.push(Y-1);b[Y-1]=65535}if(b[Y+1]==s){j.push(Y+1);b[Y+1]=65535}}};e.N.aAU=function(b,h,G,H,B){var j=[0,-1,1,0,0,1,-1,0],l=1;
function s(N,R,l){var Y=a*h+Q,S=0;if(l==0)S=Y-h;else if(l==1)S=Y;else if(l==2)S=Y-1;else if(l==3)S=Y-h-1;
return b[S]}var q=[],Q=H,a=B,U=s(Q,a,l);do{q.push(Q,a);Q+=j[l*2];a+=j[l*2+1];if(s(Q,a,l)!=U)l=l+1&3;
else if(s(Q,a,l+3&3)!=U)l=l;else if(s(Q,a,l+2&3)!=U)l=l+3&3}while(Q!=H||a!=B);return q};e.N.a4R=function(b,h,G){if(h==null||h==0)return b;
var H=b.length-2;if(G&&G.length!=0){var B=G[0]*2,j=G[G.length-1]*2,s=B==0?H:B-2,q=b.slice(j);for(var Y=0;
Y<B;Y++)q.push(b[Y]);if(B==j)q.push(.9*b[B]+.1*b[s],.9*b[B+1]+.1*b[s+1]);else q.push(b[B],b[B+1]);q=e.N.Oc(q,h);
q.pop();q.pop();for(var Y=0;Y<G.length-1;Y++){var Q=b.slice(G[Y]*2,G[Y+1]*2+2);Q=e.N.Oc(Q,h);for(var a=0;
a<Q.length-2;a++)q.push(Q[a])}return q}var l=b.slice(0);l.push(.9*b[0]+.1*b[H],.9*b[1]+.1*b[H+1]);l=e.N.Oc(l,h);
l.pop();l.pop();return l};e.N.Oc=function(b,h){var G=b.length-2,H=b[0],B=b[1],j=b[G],s=b[G+1],q=j-H,Q=s-B,a=1/Math.sqrt(q*q+Q*Q),l=j*B-s*H,U=-1,N=-1,R=0;
for(var Y=2;Y<G;Y+=2){var S=b[Y],g=b[Y+1],i=g*g*1e6+S*S,y=Math.abs(Q*S-q*g+l)*a;if(y>N||y==N&&i>R){N=y;
U=Y;R=i}}if(N<h)return[H,B,j,s];var o=e.N.Oc(b.slice(0,U+2),h),v=e.N.Oc(b.slice(U),h);for(var Y=2;Y<v.length;
Y++)o.push(v[Y]);return o};e.N.a6p=function(){var b=function(H,B,j,s,q,Q){return(B-s)*(q-j)+(j-H)*(Q-s)>=0},h=function(H,B,j,s,q,Q,a,l){var U=a-j,N=l-s,R=q-j,S=Q-s,g=H-j,i=B-s,y=U*U+N*N,o=U*R+N*S,v=U*g+N*i,Z=R*R+S*S,W=R*g+S*i,d=1/(y*Z-o*o),$=(Z*v-o*W)*d,I=(y*W-o*v)*d;
return $>=0&&I>=0&&$+I<1},G=function(H){var g1=H.length>>>1,Y=0;if(g1<3)return[];var B=[],j=[];for(var Y=0;
Y<g1;Y++)j.push(Y);var s=g1;while(s>3){var q=j[(Y+0)%s],Q=j[(Y+1)%s],a=j[(Y+2)%s],l=H[2*q],U=H[2*q+1],N=H[2*Q],R=H[2*Q+1],S=H[2*a],g=H[2*a+1],i=!1;
if(b(l,U,N,R,S,g)){i=!0;for(var y=0;y<s;y++){var o=j[y];if(o==q||o==Q||o==a)continue;if(h(H[2*o],H[2*o+1],l,U,N,R,S,g)){i=!1;
break}}}if(i){B.push(q,Q,a);j.splice((Y+1)%s,1);s--;Y=0}else if(Y++>3*s)break}B.push(j[0],j[1],j[2]);
return B};return G}();e.N.a5X=function(b,h){var G={},H={Gc:[],m:[]};for(var Y=0;Y<h.length;Y+=3){var B=h[Y]*2,j=h[Y+1]*2,s=h[Y+2]*2;
e.N.GT(b,B,j,H,G);e.N.GT(b,B,s,H,G);e.N.GT(b,j,s,H,G)}return H};e.N.GT=function(b,h,G,H,B){if(h>G){var j=G;
G=h;h=j}if(B[h+","+G])return;B[h+","+G]=!0;H.Gc.push("M","L");H.m.push(b[h],b[h+1],b[G],b[G+1])};e.N.aq9=function(b,h){var G=[],H=b.length;
for(var Y=0;Y<H;Y+=2){var B=b[Y],j=b[Y+1],s=b[(Y+2)%H],q=b[(Y+3)%H];if(q<j){var Q=j;j=q;q=Q}if(j<h&&h<q){var a=(h-j)/(q-j);
G.push(B+a*(s-B))}}G.sort(function(l,U){return l-U});return G};e.N.a70=function(b,h,G,H,B,j,s){var q=b-G,Q=h-H,a=B-G,l=j-H,U=1/Math.sqrt(q*q+Q*Q),N=1/Math.sqrt(a*a+l*l),R=q*U,S=Q*U,g=a*N,i=l*N,y=S*s,o=-R*s,v=-i*s,Z=g*s,W=e.N.yH(y,o,R,S,v,Z,g,i),d=y+R*W,$=o+S*W,W=e.N.yH(0,0,R,S,d,$,-S,R),I=R*W,k=S*W;
return[Math.sqrt(I*I+k*k),R,S,g,i]};e.N.ac3=function(b,h,G,H,B,j,s){var q=e.N.a70(b,h,G,H,B,j,s),Q=q[0],a=q[1],l=q[2],U=q[3],N=q[4],R=Math.atan2(a*N-l*U,a*U+l*N);
if(R<0){R=R*-1}var S=Math.PI-R,g=4/3*Math.tan(S/4),i=G+Q*a,y=H+Q*l,o=G+Q*U,v=H+Q*N,Z=i+g*s*-a,W=y+g*s*-l,d=o+g*s*-U,$=v+g*s*-N;
return[0,0,i,y,Z,W,d,$,o,v]};e.N.yH=function(b,h,G,H,B,j,s,q){var Q=s*(h-j)-q*(b-B),a=q*G-s*H;if(a==0)return 0;
return Q/a};e.N.su=function(b,h,G,H,B,j){return b*(H-j)+G*(j-h)+B*(h-H)};e.N.azY=function(b){function h(K,V,r,c,M,f,t,n,L){var P=e.N.yH(K,V,r,c,M,f,t,n);
L.push(K+r*P,V+c*P)}var G=[],H=b.length,B=[];for(var Y=0;Y<H;Y+=2){var j=Y==0?H-2:Y-2,s=Y==H-2?0:Y+2,q=b[Y],Q=b[Y+1],a=q-b[j],l=Q-b[j+1],U=b[s]-q,N=b[s+1]-Q,R=Math.sqrt(a*a+l*l),S=Math.sqrt(U*U+N*N);
B.push(S);var g=R/(R+S),i=q-a*.5,y=Q-l*.5,o=q+U*.5,v=Q+N*.5,Z=(b[s]+b[j])*.5,W=(b[s+1]+b[j+1])*.5,d=i+g*(o-i),$=y+g*(v-y),I=q-d,k=Q-$,_=(U*-a+N*-l)/(R*S),D=(g-.5)*7,A=1+D*g,F=1-D*(1-g);
G.push(i+I*A,y+k*A,o+I*F,v+k*F)}return G};e.Cg=function(){};e.Cg.XS=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=new Int32Array(q),g1=0;
for(var Y=0;Y<q;Y++)if(h[Y]!=0){Q[Y]=g1;g1++}else if(b[(Y<<2)+3]<200){Q[Y]=-2}else Q[Y]=-1;if(g1==0)return;
var a=new e.Vr(g1,g1),l=new Array(3*g1),U=new Array(3*g1);for(var Y=0;Y<U.length;Y++)U[Y]=l[Y]=0;var N=1/255,R=[-j,-1,1,j],S=[],g=[];
for(var i=0;i<s;i++)for(var y=0;y<j;y++){var o=i*j+y,v=o<<2,Y=Q[o],Z=Y*3,W=0,d=0,$=0;if(Y==-1||Y==-2)continue;
for(var I=0;I<4;I++){if(I==2){d=$;S[$]=0;g[$]=Y;$++}var k=o+R[I],_=k<<2,D=Q[k];if(I==0&&i==0||I==1&&y==0||I==2&&y==j-1||I==3&&i==s-1||D==-2)continue;
W++;if(D==-1){l[Z+0]+=b[_+0];l[Z+1]+=b[_+1];l[Z+2]+=b[_+2]}else{S[$]=-1;g[$]=D;$++;if(h[o]==h[k]){l[Z+0]+=b[v+0]-b[_+0];
l[Z+1]+=b[v+1]-b[_+1];l[Z+2]+=b[v+2]-b[_+2]}}}S[d]=W;a.N8(S,g,$)}for(var Y=0;Y<q;Y++)if(Q[Y]!=-1){var A=Y<<2,F=Q[Y],K=F*3;
U[K]=b[A+0];U[K+1]=b[A+1];U[K+2]=b[A+2]}var V=Date.now();a.ahu(U,l,H,B);console.log(Date.now()-V);for(var Y=0;
Y<q;Y++){var F=Q[Y],r=F*3,A=Y<<2;if(F==-1||b[A+3]!=255)continue;b[A+0]=~~(.5+Math.max(0,Math.min(255,U[r+0])));
b[A+1]=~~(.5+Math.max(0,Math.min(255,U[r+1])));b[A+2]=~~(.5+Math.max(0,Math.min(255,U[r+2])))}};e.rect={};
e.rect.a0S=function(b,h){var G=[b],H=[];for(var Y=0;Y<h.length;Y++){var B=h[Y],j=!1;for(var s=Y+1;s<h.length;
s++){var q=h[s];if(q[0]<=B[0]&&q[1]<=B[1]&&B[2]<=q[2]&&B[3]<=q[3]){j=!0;break}}if(!j)H.push(B)}h=H;for(var Y=0;
Y<h.length;Y++){var B=h[Y];for(var s=0;s<G.length;s++){var q=G[s],Q=Math.max(B[0],q[0]),a=Math.min(B[2],q[2]),l=Math.max(B[1],q[1]),U=Math.min(B[3],q[3]);
if(Q<a&&l<U){var N=[];if(q[1]<B[1]){var R=q.slice(0);R[3]=B[1];N.push(R)}if(q[0]<B[0]){var S=q.slice(0);
S[1]=l;S[2]=B[0];N.push(S)}if(B[2]<q[2]){var g=q.slice(0);g[1]=l;g[0]=B[2];N.push(g)}if(B[3]<q[3]){var i=[Q,U,a,q[3]];
N.push(i)}if(N.length!=0){G[s]=N[0];for(var y=1;y<N.length;y++)G.push(N[y])}}}G.push(B);G=e.rect.anu(G)}G.sort(function(B,q){return B[1]!=q[1]?B[1]-q[1]:B[0]-q[0]});
for(var Y=1;Y<G.length;Y++){var B=G[Y-1],q=G[Y];if(B[0]==q[0]&&B[1]==q[1]&&B[2]==q[2]&&B[3]==q[3]){G.splice(B[4]==null?Y-1:Y,1);
Y--}}return G};e.rect.anu=function(b){b=b.slice(0);for(var Y=0;Y<b.length;Y++){var h=b[Y],G=null;if(h[4]!=null)continue;
for(var H=0;H<b.length;H++){var B=b[H];if(Y==H||B[4]!=null)continue;var j=h[0]==B[0],s=h[1]==B[1],q=h[2]==B[2],Q=h[3]==B[3];
if(s&&Q&&(h[2]==B[0]||h[0]==B[2])){G=[Math.min(h[0],B[0]),h[1],Math.max(h[2],B[2]),h[3]]}if(j&&q&&(h[3]==B[1]||h[1]==B[3])){G=[h[0],Math.min(h[1],B[1]),h[2],Math.max(h[3],B[3])]}if(G){b[Y]=G;
b.splice(H,1);break}}if(G){Y--}}return b};e.rect.Bw=function(b){var h=new io;for(var Y=0;Y<b.length;
Y++)h=h.gJ(b[Y]);return h};e.rect.aic=function(b,h){var G=e.rect.Bw,H=new UnionFind(b.length),d=1e3,$=1e3;
for(var Y=0;Y<b.length;Y++)for(var B=Y+1;B<b.length;B++){if(!h)continue;var j=b[Y],s=b[B],U=1e9,N=1e9;
if(j.XR(s)){H.link(Y,B);continue}var q=j.x+j.j,Q=j.y+j._,a=s.x+s.j,l=s.y+s._;if((q<s.x||a<j.x)&&(Q<s.y||l<j.y))continue;
if(!(Q<s.y||l<j.y))U=Math.min(Math.abs(q-s.x),Math.abs(j.x-a));if(!(q<s.x||a<j.x))N=Math.min(Math.abs(Q-s.y),Math.abs(j.y-l));
var R=Math.min(U,N),S=Math.min(j.j,j._,s.j,s._);if(R<.3*S)H.link(Y,B)}var g=[],i={};for(var Y=0;Y<b.length;
Y++){var y=H.find(Y),o=b[Y];if(i[y]==null){i[y]=g.length;g.push([])}g[i[y]].push(o)}var v=[],Z=[];for(var Y=0;
Y<g.length;Y++){v.push(G(g[Y]));var W=G(g[Y]);W.Zh=Y;Z.push(W)}Z.sort(function(c,x){return Math.max(x._,x.j)-Math.max(c._,c.j)});
var I=new NETXUS.RectanglePacker(d,$);while(!0){var k=!1;I.reset(d,$);for(var Y=0;Y<Z.length;Y++){var _=I.findCoords(Z[Y].j,Z[Y]._);
if(_){Z[Y].x=_.x;Z[Y].y=_.y}else{d=Math.floor(d*1.1);$=Math.floor($*1.1);k=!0;break}}if(k)continue;break}for(var Y=0;
Y<g.length;Y++){var D=Z[Y],A=D.Zh,F=v[A],K=g[A],V=D.x-F.x,r=D.y-F.y;for(var B=0;B<K.length;B++)K[B].offset(V,r)}};
e.rect.alY=function(b){var h=[],G=[],H=function(W,d){return W-d};for(var Y=0;Y<b.length;Y++){var B=b[Y];
if(h.indexOf(B[0])==-1)h.push(B[0]);if(h.indexOf(B[2])==-1)h.push(B[2]);if(G.indexOf(B[1])==-1)G.push(B[1]);
if(G.indexOf(B[3])==-1)G.push(B[3])}h.sort(H);G.sort(H);h.push(h[h.length-1]+1);G.push(G[G.length-1]+1);
var j=[],s=h.length-1,q=G.length-1;for(var Q=0;Q<q;Q++){var a=[];j.push(a);for(var l=0;l<s;l++){var U=h[l],N=h[l+1],R=G[Q],S=G[Q+1],g=(U+N)/2,i=(R+S)/2,y=-1,o=-1;
for(var Y=0;Y<b.length;Y++){var B=b[Y];if(B[0]==U&&B[1]==R)y=Y;if(B[0]<g&&g<B[2]&&B[1]<i&&i<B[3])o=Y}if(y!=-1){var B=b[y],v=1,Z=1;
while(h[l+v]<B[2])v++;while(G[Q+Z]<B[3])Z++;a.push([y,B[2]-B[0],B[3]-B[1],v,Z])}else if(o!=-1)continue;
else a.push([-1,N-U,S-R,1,1])}}return[h.pop(),G.pop(),j]};e.rect.a23=function(b,h,G){var H=e.rect.alY(b),B=["<table id=\"Table_01\" width=\""+H[0]+"\" height=\""+H[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],j=H[2];
for(var Y=0;Y<j.length;Y++){var s=j[Y];B.push("\t<tr>");for(var q=0;q<s.length;q++){var Q=s[q],a=null,l="",U="",N=Q[3],R=Q[4],i="";
if(Q[0]!=-1){var S=Q[0],g=b[S];if(g.length==5){a=G[g[4]].v;l=a.url.v}U="src=\""+h[S]+"\""}if(N!=1)i+=" colspan=\""+N+"\"";
if(R!=1)i+=" rowspan=\""+R+"\"";B.push("\t\t<td"+i+">");if(l!="")B.push("\t\t\t<a href=\""+l+"\" target=\""+a.null.v+"\">");
B.push((l==""?"":"\t")+"\t\t\t<img "+U+" width=\""+Q[1]+"\" height=\""+Q[2]+"\" alt=\""+(a?a.altTag.v:"")+"\"></td>"+(l==""?"":"</a>"))}if(Y==j.length-1){B.pop();
B.pop();B.push("\t\t<td></td>")}B.push("\t</tr>")}B.push("</table>");return B.join("\n")};e.VJ=function(){};
e.VJ.GC=Math.floor(16*window.devicePixelRatio);e.VJ.oU={};e.VJ.gT=0;e.VJ.LO=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
e.VJ.anF=["px","in","cm","mm","%"];e.VJ.nB=function(b,h,G,H){var B=[1,h,h/2.54,h/25.4,G/100][H];return b*B};
e.VJ.a7Z=function(b,h,G,H){var B=[1,h,h/2.54,h/25.4,G/100][H];return b/B};e.VJ.x3=function(b,h,G,H,B){var j=G.x$.Bl,s=[1,h,h/2.54,h/25.4,H/100][j],q=[2,3,2,1,2][j];
b=b/s;var Q=Math.round(b),a=j==0&&Math.abs(b-Q)<1e-6?Q+"":b.toFixed(q);if(B)a+=" "+e.VJ.anF[j];return a};
e.VJ.asm=function(b,h,G,H){var B=G.x$.Bl,j=[1,h,h/2.54,h/25.4,H/100][B];b=parseFloat(b)*j;return b};
e.VJ.aaA=function(b,h){var G=b+","+h;if(e.VJ.oU.clr==G)return;var H=Math.round(e.VJ.GC*.5);e.VJ.gT=H;
var B=e.tM(H,H);B.save();B.font=H*1.5+"px monospace";var j="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var Y=0;
Y<j.length;Y++){B.fillStyle="#"+e.Z0(h);B.fillRect(0,0,H,H);B.fillStyle="#"+e.Z0(b);B.fillText(j[Y],0,H);
e.VJ.oU[j[Y]]=new Uint8Array(B.getImageData(0,0,H,H).data.buffer)}e.VJ.oU.clr=G;B.restore()};e.VJ.apq=function(b,h,G,H){var B=0,j=0,s=4*e.VJ.GC;
for(var Y=9;Y>=0;Y--){var q=Math.pow(10,Y);if(5*q*b<=s){B=5*q;j=10;break}if(2*q*b<=s){B=2*q;j=4;break}if(1*q*b<=s){B=1*q;
j=H;break}}if(B==0){B=1;j=H}var Q=Math.ceil(B*b),a=e.U(Q*e.VJ.GC*4);e.Zi(a,4278190080|G);for(var Y=0;
Y<e.VJ.GC;Y++)e.VJ.a1(a,4*Y*Q,h);for(var Y=0;Y<Q;Y++)e.VJ.a1(a,4*((e.VJ.GC-1)*Q+Y),h);if(B==2)j=2;if(B==5)j=5;
if(B>1||B==1&&Q>20)for(var Y=1;Y<j;Y++)e.VJ.aBz(a,Y*(Q/j),Q,(Y&1)==1?.8:.7,h);return{jb:a,step:B}};e.VJ.aBz=function(b,h,G,H,B){var h=Math.round(h);
for(var j=Math.round(e.VJ.GC*H);j<e.VJ.GC-1;j++)e.VJ.a1(b,4*(j*G+h),B)};e.VJ.a1=function(b,h,G){b[h+0]=G>>16&255;
b[h+1]=G>>8&255;b[h+2]=G&255};e.VJ.ajI=function(b,h,G,H,B,j,s,q){var Q=b.q5.j,a=b.q5._,l=e.VJ.GC,U=h&255,N=h>>8&255,R=h>>16&255;
h=Math.round(U*.6)<<16|Math.round(N*.6)<<8|Math.round(R*.6);e.VJ.aaA(Math.round(U*.8)<<16|Math.round(N*.8)<<8|Math.round(R*.8),G);
var S=b.D,g=b.f,i=b.ej;for(var y=0;y<2;y++){var o=y==0?j:s;b.D=o[0];b.f=o[1];b.ej=0;var v=this.apq(b.D,h,G,q),Z=b.Fj(0,0),W=b.Fj(Q,a),d=Math.floor(Z.x/v.step)*v.step,$=Math.ceil(W.x/v.step)*v.step,I=Math.floor(Z.y/v.step)*v.step,k=Math.ceil(W.y/v.step)*v.step,_=b.yF(d,I),D=b.yF($,I),A=v.step*b.D,F=Math.ceil(A);
if(y==1){var K=v.jb;v.jb=e.U(K.length*4);e.t.BF(K,v.jb,F,l)}var V=y==0?b.jH.data:b.WL.data,r=new io(0,0,[Q,l][y],[l,a][y]),c=new io(0,0,[F,l][y],[l,F][y]),x=new io([0,Math.round(l*.2)][y],[Math.round(l*.08),0][y],e.VJ.gT,e.VJ.gT),X=(y==0?$-d:k-I)/v.step;
for(var Y=0;Y<X;Y++){if(y==0)c.x=Math.round(_.x+Y*A);else c.y=Math.round(_.y+Y*A);e.JE(v.jb,c,V,r,c);
var M=(y==0?d+Y*v.step:Math.abs(I+Y*v.step)).toString(10);for(var f=0;f<M.length;f++){if(y==0)x.x=c.x+3+f*Math.round(e.VJ.gT*.8);
else x.y=c.y+3+f*Math.round(e.VJ.gT*1.15);var t=e.VJ.oU[M[f]];e.JE(t,x,V,r,x)}}}b.D=S;b.f=g;b.ej=i;var n=Math.floor(l*.6),L=new Uint32Array(b.jH.data.buffer),P=new Uint32Array(b.WL.data.buffer),z=U<128?4278190080:4294967295;
if(0<H&&H<Q)for(var Y=0;Y<n;Y++)L[Y*Q+H]=z;if(0<B&&B<a)for(var Y=0;Y<n;Y++)P[B*l+Y]=z};e.scale={};e.scale.cj=document.createElement("canvas");
e.scale.ZI=e.scale.cj.getContext("2d");e.scale.a7=function(b,h,G){var H=e.scale.cj,B=e.scale.ZI;H.width=h;
H.height=G;var j=new ImageData(new Uint8ClampedArray(b.buffer),h,G);B.putImageData(j,0,0);return B.createPattern(B.canvas,"repeat")};
e.scale.a8q=function(b,h,G,H,B,j,s,q,Q){var a=e.scale.akL(b,G,H,B,j,s,q,Q);if(h)h.set(a);return new Uint8Array(a.buffer)};
e.scale.akL=function(b,h,G,H,B,j,s,q){var Q=e.tM(h,G);Q.save();Q.rect(0,0,h,G);Q.translate(j,s);Q.scale(H,B);
if(q!=null)Q.rotate(-q);Q.fillStyle=b;Q.fill();Q.restore();return new Uint8Array(Q.getImageData(0,0,h,G).data.buffer)};
e.scale.h=function(b,h,G,H,B){var j=G.J==0&&G.YW==0,s=B.j,q=B._,Q=e.N.Q0(h,G).m,a=e.N.sm(Q,j).D4(B),l=a.x,U=a.y,N=l+a.j,R=U+a._,S=~~h.x,g=~~h.y,i=~~h.j,y=~~h._;
if(j)for(var o=U;o<R;o++){var v=G.tW*(o+.5)+G.d0-g,Z=~~v*i;for(var W=l;W<N;W++){var d=G.G*(W+.5)+G.Kv-S;
H[o*s+W]=b[Z+~~d]}}else for(var o=U;o<R;o++)for(var W=l;W<N;W++){var $=W+.5,I=o+.5,d=G.G*$+G.YW*I+G.Kv-S,v=G.J*$+G.tW*I+G.d0-g;
if(0<=d&&0<=v&&d<i&&v<y)H[o*s+W]=b[~~v*i+~~d]}};e.scale.aBd=function(b,h,G,H,B,j){var s=new Uint32Array(b.buffer),q=new Uint32Array(H.buffer),Q=B.j,a=B._,l=e.N.Q0(h,G).m,U=j?B:e.N.sm(l).D4(B),N=U.x,R=U.y,S=N+U.j,g=R+U._,i=~~h.x,y=~~h.y,o=~~h.j,v=~~h._;
for(var Z=R;Z<g;Z++)for(var W=N;W<S;W++){var d=W+.5,$=Z+.5,I=G.G*d+G.YW*$+G.Kv-i,k=G.J*d+G.tW*$+G.d0-y;
if(j){I=((o<<10)+I)%o;k=((v<<10)+k)%v}if(0<=I&&0<=k&&I<o&&k<v)q[Z*Q+W]=s[~~k*o+~~I]}};e.scale.HD=function(b,h,G,H,B,j,s){if(s<1)e.scale.a4L(b,h,G,H,B,j,Math.round(1/s));
else e.scale.a2D(b,h,G,H,B,j,s)};e.scale.Ij=function(b,h,G,H,B,j,s,q){if(q)q=q.D4(new io(0,0,h,G));b=new Uint32Array(b.buffer);
H=new Uint32Array(H.buffer);if(s<1)e.scale.axV(b,h,G,H,B,j,Math.round(1/s),q);else e.scale.a2O(b,h,G,H,B,j,s)};
e.scale.a2D=function(b,h,G,H,B,j,s){for(var q=0;q<G;q++)for(var Q=0;Q<h;Q++){var a=b[q*h+Q],l=Math.min(s,B-Q*s),U=Math.min(s,j-q*s);
for(var Y=0;Y<U;Y++)for(var N=0;N<l;N++)H[(s*q+Y)*B+s*Q+N]=a}};e.scale.a4L=function(b,h,G,H,B,j,s){for(var q=0;
q<j;q++)for(var Q=0;Q<B;Q++){var a=0,l=Math.min(s,h-Q*s),U=Math.min(s,G-q*s);for(var Y=0;Y<U;Y++)for(var N=0;
N<l;N++)a+=b[(s*q+Y)*h+(s*Q+N)];H[q*B+Q]=Math.round(a/(l*U))}};e.scale.a2O=function(b,h,G,H,B,j,s){for(var q=0;
q<G;q++)for(var Q=0;Q<h;Q++){var a=b[q*h+Q],l=Math.min(s,B-Q*s),U=Math.min(s,j-q*s);for(var Y=0;Y<U;
Y++)for(var N=0;N<l;N++)H[(s*q+Y)*B+s*Q+N]=a}};e.scale.az1=function(b,h,G){return(b>>>G&255)+(h>>>G&255)>>>1};
e.scale.PT=function(b,h){var G=e.scale.az1;return G(b,h,24)<<24|G(b,h,16)<<16|G(b,h,8)<<8|G(b,h,0)};
e.scale.a3Q=function(b,h,G,H,B,j){var s=new Uint32Array(b.buffer),q=new Uint32Array(H.buffer);for(var Q=0;
Q<G;Q++){for(var a=0;a<h;a++){var l=Q*h+a,U=s[l],N=U,R=U,S=U;if(a<h-1)N=e.scale.PT(U,s[l+1]);if(Q<G-1)R=e.scale.PT(U,s[l+h]);
if(a<h-1&&Q<G-1)S=e.scale.PT(U,s[l+h+1]);var g=(Q*B+a)*2;q[g]=U;q[g+1]=N;q[g+B]=R;q[g+B+1]=S}}if((B&1)==1)for(var Q=0;
Q<j;Q++)q[Q*B+B-1]=q[Q*B+B-2];var i=B*(j-1);if((j&1)==1)for(var a=0;a<B;a++)q[i+a]=q[i-B+a]};e.scale.axV=function(b,h,G,H,B,j,s,q){var Q=0,a=B,l=0,U=j;
if(q){Q=Math.floor(q.x/s);a=Math.ceil((q.x+q.j)/s);l=Math.floor(q.y/s);U=Math.ceil((q.y+q._)/s)}for(var N=l;
N<U;N++)for(var R=Q;R<a;R++){var S=0,g=0,i=0,y=0,o=Math.min(s,h-R*s),v=Math.min(s,G-N*s);for(var Y=0;
Y<v;Y++)for(var Z=0;Z<o;Z++){var W=b[(s*N+Y)*h+s*R+Z],d=W>>>24;S+=d;g+=d*(W>>>16&255);i+=d*(W>>>8&255);
y+=d*(W&255)}if(S!=0){var $=1/S;H[N*B+R]=S/(o*v)<<24|g*$<<16|i*$<<8|y*$}else H[N*B+R]=0}};e.e=function(){function b(q,Q,Y){return(128&q[Y-Q-1]&q[Y-Q]&q[Y-2]&q[Y-1]&q[Y+1]&q[Y+Q-1]&q[Y+Q])==0}function h(q,Q,Y){return(128&q[Y-Q-Q]&q[Y-Q+1]&q[Y+2]&q[Y+Q+1]&q[Y+Q+Q])==0}function G(q,Q,Y){return(q[Y-Q]&q[Y-1]&q[Y+1]&q[Y+Q]&128)==0}function H(q,Y){return(q[Y]&128)!=0}function B(q,Q,a,l){var Y=0,U=a.j,N=a._;
if(l)for(var R=0;R<N;R++)for(var S=0;S<U;S++){if(H(q,Y)&&(S<2||R<2||S>U-3||R>N-3||((q[Y-1]&128)==0||Q[Y-1]!=0)&&b(q,U,Y)||h(q,U,Y)))Q[Y]=255;
Y++}else for(var R=0;R<N;R++)for(var S=0;S<U;S++){if(H(q,Y)&&(S==0||R==0||S==U-1||R==N-1||G(q,U,Y)))Q[Y]=255;
Y++}}function j(q,Q,a,l,U){var N=a.j,R=a._,S=new Uint8Array(Q.buffer),g=new Uint32Array(Q.buffer);if(U)for(var i=2;
i<R-2;i++)for(var y=2;y<N-2;y++){var Y=i*N+y;if(H(q,Y)&&(((q[Y-1]&128)==0||g[Y-1]!=0)&&b(q,N,Y)||h(q,N,Y)))g[Y]=l[(y+i&4)>>>2]}else for(var i=1;
i<R-1;i++)for(var y=1;y<N-1;y++){var Y=i*N+y;if(H(q,Y)&&G(q,N,Y)){g[Y]=l[(y+i&4)>>>2]}}}function s(q,Q,a,l,U){var N=a.j,R=a._,S=new Uint8Array(Q.buffer),g=new Uint32Array(Q.buffer),Y=0;
if(l==1)for(var i=0;i<R;i++)for(var y=0;y<N;y++,Y++){var o=q[Y];g[Y]=255-o>>>1<<24|255}else for(var i=0;
i<R;i++)for(var y=0;y<N;y++,Y++){var o=q[Y];g[Y]=255<<24|(o<<16|o<<8|o)}}return{akQ:B,amG:j,ai9:s}}();
e.ym={};e.ym.Ai=function(b,h,G){var H,B;if(G==0){H=b.rect.clone();B=e.ym.a9Z}if(G==1){H=b.rect.gJ(h.rect);
B=e.ym.gJ}if(G==2){H=h.rect.clone();B=e.ym.a1t}if(G==3){H=b.rect.D4(h.rect);B=e.ym.D4}if(G==4){H=b.rect.gJ(h.rect);
B=e.ym.a0l}if(H.Zx())return null;var j=e.U(H.X());e.wX(h.channel,h.rect,j,H);var s=e.U(H.X());e.wX(b.channel,b.rect,s,H);
B(s,j,j);var q=e.VM(j,H);if(q.Zx())return null;if(!q.TW(H)){var Q=e.U(q.X());e.wX(j,H,Q,q);j=Q;H=q}return{channel:j,rect:H}};
e.ym.a9Z=function(b,h,G){for(var Y=0;Y<b.length;Y++)G[Y]=b[Y]};e.ym.gJ=function(b,h,G){for(var Y=0;Y<b.length;
Y++)G[Y]=Math.min(b[Y]+h[Y],255)};e.ym.a1t=function(b,h,G){for(var Y=0;Y<b.length;Y++)G[Y]=Math.max(h[Y]-b[Y],0)};
e.ym.D4=function(b,h,G){var H=1/255;for(var Y=0;Y<b.length;Y++)G[Y]=b[Y]*h[Y]*H};e.ym.a0l=function(b,h,G){var H=1/255;
for(var Y=0;Y<b.length;Y++)G[Y]=Math.min(b[Y]+h[Y],255)-b[Y]*h[Y]*H};e.Vr=function(b,h){this.p=[];this.nL=[0];
this.jv=[];this.U3=[];this.sW=[0];this.fC=[];this.Yz=[];this.rows=b;this.cols=h};e.Vr.prototype.clone=function(){var b=this,h=b.rows,G=b.cols,H=new e.Vr(h,G);
H.p=b.p.slice(0);H.nL=b.nL.slice(0);H.jv=b.jv.slice(0);H.U3=b.U3.slice(0);H.sW=b.sW.slice(0);H.fC=b.fC.slice(0);
H.Yz=b.Yz.slice(0);return H};e.Vr.prototype.N8=function(b,h,G){var H=this.nL.length-1;for(var Y=0;Y<G;
Y++){var B=b[Y],j=h[Y];this.p.push(B);this.jv.push(j);if(j==H){this.Yz.push(B==0?0:1/B)}else{this.U3.push(B);
this.fC.push(j)}}this.nL.push(this.p.length);this.sW.push(this.U3.length)};e.Vr.prototype.hS=function(b,h){var G=this,H=G.rows,B=G.p,j=G.jv;
if(h==null)h=new Array(H);for(var Y=0;Y<H;Y++){var s=G.nL[Y],q=G.nL[Y+1],Q=0;while((q-s&3)!=0){Q+=B[s]*b[j[s]];
s++}for(var a=s;a<q;a+=4)Q+=B[a]*b[j[a]]+B[a+1]*b[j[a+1]]+B[a+2]*b[j[a+2]]+B[a+3]*b[j[a+3]];h[Y]=Q}return h};
e.Vr.prototype.multiply=function(b){return this.WJ(b.BF())};e.Vr.prototype.WJ=function(b){var h=this,G=h.rows,H=h.cols,B=b.rows,j=new e.Vr(G,B),s=h.jv,q=b.jv;
for(var Y=0;Y<G;Y++){var Q=[],a=[],l=h.nL[Y],U=h.nL[Y+1];for(var N=0;N<B;N++){var R=b.nL[N],S=b.nL[N+1],g=0,i=l,y=R;
while(i<U&&y<S){var o=Math.max(s[i],q[y]);while(i<U&&s[i]<o)i++;while(y<S&&q[y]<o)y++;if(i<U&&y<S&&s[i]==q[y])g+=h.p[i++]*b.p[y++]}if(g!=0){Q.push(g);
a.push(N)}}j.N8(Q,a,Q.length)}return j};e.Vr.prototype.BF=function(){var b=this.rows,h=this.cols,G=[];
for(var Y=0;Y<h;Y++)G.push([[],[]]);var H=this.p,B=this.nL,j=this.jv;for(var Y=0;Y<b;Y++){var s=B[Y],q=B[Y+1];
for(var Q=s;Q<q;Q++){var a=G[j[Q]];a[0].push(H[Q]);a[1].push(Y)}}var l=new e.Vr(h,b);for(var Y=0;Y<h;
Y++)l.N8(G[Y][0],G[Y][1],G[Y][1].length);return l};e.Vr.prototype.b6=function(){var b=this.rows,h=this.cols,G=new Array(b),H=this.p,B=this.nL,j=this.jv;
for(var Y=0;Y<b;Y++){var s=G[Y]=new Array(h);for(var q=0;q<h;q++)s[q]=0;var Q=B[Y],a=B[Y+1];for(var l=Q;
l<a;l++)s[j[l]]=H[l]}return G};e.Vr.prototype._Q=function(b,h,G,H,B){function j($,h,I,k){var _=$.length;
for(var Y=0;Y<_;Y++)k[Y]=$[Y]-h[Y]*I}function s($,h,I,k){var _=$.length,D=0;while((_-D&3)!=0){k[D]=$[D]+h[D]*I;
D++}for(var Y=D;Y<_;Y+=4){k[Y]=$[Y]+h[Y]*I;k[Y+1]=$[Y+1]+h[Y+1]*I;k[Y+2]=$[Y+2]+h[Y+2]*I;k[Y+3]=$[Y+3]+h[Y+3]*I}}function q($,h,I){var k=$.length;
for(var Y=0;Y<k;Y++)I[Y]=$[Y]*h[Y]}function Q($,h){var I=$.length,k=0,_=0;while((I-k&3)!=0){_+=$[k]*h[k];
k++}for(var Y=k;Y<I;Y+=4)_+=$[Y]*h[Y]+$[Y+1]*h[Y+1]+$[Y+2]*h[Y+2]+$[Y+3]*h[Y+3];return _}var a=H!=null?2:1,l=Date.now(),U=0,N=this,R=b.slice(0),S=b.slice(0);
N.hS(b,S);j(h,S,1,R);var g=this.Yz;if(a==0){g=R.slice(0);g.fill(1)}var i=R.slice(0);q(g,R,i);var y=i.slice(0),o=Q(R,i);
while(!0){N.hS(y,S);var v=o/Q(y,S);s(b,y,v,b);j(R,S,v,R);if((U&7)==0&&Math.sqrt(Q(R,R))<G)break;if(a<=1)q(g,R,i);
else{var Z=R.slice(0);H.af_(Z,R);B.aiX(i,Z)}var W=Q(R,i),d=W/o;s(i,y,d,y);o=W;U++}};e.Vr.prototype.acD=function(b,h,G,H){var B=Date.now(),j=1.96,q=0;
if(G==null)G=5e-6;if(H==null)H=1e9;var s=1-j,g1=this.rows,Q=this.U3,a=this.sW,l=this.fC,U=this.Yz;while(!0){var N=0;
for(var Y=0;Y<g1;Y++){var R=h[Y],S=a[Y],g=a[Y+1];if(g-S==4)R-=Q[S]*b[l[S]]+Q[S+1]*b[l[S+1]]+Q[S+2]*b[l[S+2]]+Q[S+3]*b[l[S+3]];
else for(var i=S;i<g;i++)R-=Q[i]*b[l[i]];var y=b[Y]*s+U[Y]*R*j,o=y-b[Y];N+=o*o;b[Y]=y}if(N/g1<G||Date.now()>B+H)break}};
e.Vr.prototype.ahu=function(b,h,G,H){var B=Date.now(),j=1.96,q=0;if(G==null)G=5e-5;if(H==null)H=1e9;
var s=1-j,g1=this.rows,Q=this.U3,a=this.sW,l=this.fC,U=this.Yz;while(!0){var N=0;for(var Y=0;Y<g1;Y++){var R=Y*3,S=h[R],g=h[R+1],i=h[R+2],y=a[Y],o=a[Y+1];
for(var v=y;v<o;v++){var Z=Q[v],W=l[v]*3;S-=Z*b[W+0];g-=Z*b[W+1];i-=Z*b[W+2]}var d=U[Y]*j,$=b[R+0]*s+S*d,I=b[R+1]*s+g*d,k=b[R+2]*s+i*d,_=$-b[R+0],D=I-b[R+1],A=k-b[R+2];
N+=.4*_*_+.5*D*D+.1*A*A;b[R+0]=$;b[R+1]=I;b[R+2]=k}if(N/g1<G||Date.now()>B+H)break}};e.S_={};e.S_.$O=function(b,h,G){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:b},Vrtc:{t:"doub",v:h},Cnty:{t:"bool",v:G}}}};
e.S_.h=function(b,h){for(var Y=0;Y<b.length;Y++){var G=b[Y].v,H=h.At(new cJ(G.Hrzn.v,G.Vrtc.v));G.Hrzn.v=Math.round(H.x);
G.Vrtc.v=Math.round(H.y)}};e.S_.a56=function(b,h,G){var g1=b.length-1,H=e.GF.xt(g1+1,g1+2);for(var Y=1;
Y<g1;Y++){H[Y][Y-1]=1/(b[Y]-b[Y-1]);H[Y][Y]=2*(1/(b[Y]-b[Y-1])+1/(b[Y+1]-b[Y]));H[Y][Y+1]=1/(b[Y+1]-b[Y]);
H[Y][g1+1]=3*((h[Y]-h[Y-1])/((b[Y]-b[Y-1])*(b[Y]-b[Y-1]))+(h[Y+1]-h[Y])/((b[Y+1]-b[Y])*(b[Y+1]-b[Y])))}H[0][0]=2/(b[1]-b[0]);
H[0][1]=1/(b[1]-b[0]);H[0][g1+1]=3*(h[1]-h[0])/((b[1]-b[0])*(b[1]-b[0]));H[g1][g1-1]=1/(b[g1]-b[g1-1]);
H[g1][g1]=2/(b[g1]-b[g1-1]);H[g1][g1+1]=3*(h[g1]-h[g1-1])/((b[g1]-b[g1-1])*(b[g1]-b[g1-1]));e.GF.$T(H,G)};
e.S_.aq0=function(b,h,G,H){if(b<=h[0])return G[0];if(b>=h[h.length-1])return G[h.length-1];var Y=1;while(h[Y]<b)Y++;
var B=h[Y],j=h[Y-1],s=G[Y],q=G[Y-1],Q=(b-j)/(B-j),a=H[Y-1]*(B-j)-(s-q),l=-H[Y]*(B-j)+(s-q),U=(1-Q)*q+Q*s+Q*(1-Q)*(a*(1-Q)+l*Q);
return U};e.S_.a1J=function(b,h,G,H){var B={aX:[b[0]],Xt:[h[0]],DZ:[]};H[0]=B;for(var Y=1;Y<b.length-1;
Y++){B.aX.push(b[Y]);B.Xt.push(h[Y]);if(G[Y]==!1){e.S_.a56(B.aX,B.Xt,B.DZ);B={aX:[b[Y]],Xt:[h[Y]],DZ:[]}}H[Y]=B}B.aX.push(b[Y]);
B.Xt.push(h[Y]);e.S_.a56(B.aX,B.Xt,B.DZ);H[Y]=B};e.S_.aff=function(b,h,G,H){if(b<=h[0])return G[0];if(b>=h[h.length-1])return G[h.length-1];
var Y=1;while(h[Y]<b)Y++;var B=H[Y-1];return e.S_.aq0(b,B.aX,B.Xt,B.DZ)};e.S_.aqd=function(b){var h={aX:[],Xt:[],JW:[]};
for(var Y=0;Y<b.length;Y++){h.aX[Y]=b[Y].v.Hrzn.v;h.Xt[Y]=b[Y].v.Vrtc.v;h.JW[Y]=b[Y].v.Cnty?b[Y].v.Cnty.v:!0}return h};
e.S_.i7=function(b,g1,h){var G=0,H=255;if(h){G=-1e9;H=1e9}var B=e.S_.aqd(b),j=[];e.S_.a1J(B.aX,B.Xt,B.JW,j);
var s=[];for(var Y=0;Y<g1;Y++)s[Y]=1/255*Math.max(G,Math.min(H,e.S_.aff(Y*(255/(g1-1)),B.aX,B.Xt,j)));
return s};e.S_.aA8=function(b,g1,h){var G=Math.round(b.length/20),H=g1-b.length,B=h?(b[G]-b[0])/G:0,j=h?b[0]-H*B:b[b.length-1],s=[];
for(var Y=0;Y<H;Y++)s.push(j+Y*B);return h?s.concat(b):b.concat(s)};e.S_.tL=function(b,g1,h){var G=e.S_.aqd(b),H=[];
e.S_.a1J(G.aX,G.Xt,G.JW,H);var B=new Uint8Array(g1),j=g1/256;for(var Y=0;Y<g1;Y++)B[Y]=Math.max(0,Math.min(g1-1,e.S_.aff(Y*j,G.aX,G.Xt,H)));
if(h){B[0]=0;if(B[1]>100)B[1]=.4*B[1];if(B[2]>150)B[1]=.7*B[2]}return B};e.S_.aax=function(b,h){var G=new Uint8Array(b.length);
for(var Y=0;Y<b.length;Y++)G[Y]=h[b[Y]];return G};e.S_.DB=function(b,h,G){var H=document.createElement("canvas");
H.width=h;H.height=G;var B=H.getContext("2d"),j=e.S_.tL(b,256);B.scale(h/255,G/255);B.fillStyle="#fff";
B.fillRect(0,0,255,255);B.fillStyle="#333";B.beginPath();B.moveTo(0,255);for(var Y=0;Y<j.length;Y++)B.lineTo(Y,255-j[Y]);
B.lineTo(255,255);B.closePath();B.fill();return H.toDataURL()};e.style={};e.style.stroke=function(b,h,G,H){var B=G.j,j=G._,s=e.style.ip(b,B,j);
e.style.$v(h,G,s,G,H)};e.style.$v=function(b,h,G,H,B){var j=h.D4(H),s=j.j,q=j._;B+=.5;var Q=j.x-h.x,a=j.y-h.y,l=h.j,U=j.x-H.x,N=j.y-H.y,R=H.j;
for(var S=0;S<q;S++){var g=(S+N)*R+U,i=(S+a)*l+Q;for(var y=0;y<s;y++){var o=Math.max(0,Math.min(1,B-G[g+y]));
b[i+y]=Math.round(o*255)}}};e.style.aEC=function(b,h,G,H){for(var B=0;B<G;B++)for(var j=0;j<h;j++){var s=B*h+j,q=0,Q=0,a=b[s];
if(j==0||B==0){q=b[s+1]-a;Q=b[s+h]-a}else if(j==G-1||B==h-1){q=a-b[s-1];Q=a-b[s-h]}else{q=b[s+1]-b[s-1];
Q=b[s+h]-b[s-h]}if(q!=0||Q!=0){var l=1/Math.sqrt(q*q+Q*Q);q*=l;Q*=l}H[s+s]=q;H[s+s+1]=Q}};e.style.ip=function(b,h,G){var H=h*G,B=new ArrayBuffer((H+h*4)*4),j=new Float32Array(B,0,H),s=new Uint16Array(B,0,H<<1),q=new Int32Array(B,H*4,h),Q=new Int32Array(B,(H+h)*4,h),a=new Int32Array(B,(H+h*2)*4,h),l=new Int32Array(B,(H+h*3)*4,h),U=1/255;
for(let Y=0;Y<h;++Y){let N=-G-h,R=0,S=Y,g=0;for(;g<G;++g,S+=h){if(b[S]>128)N=g,R=b[S];s[S<<1]=g-N;s[(S<<1)+1]=R}N=s[S+=S-h-h],R=s[S+1];
for(;g>1;--g){if(s[S-=h+h]>N)s[S]=++N,s[S+1]=R;else N=s[S],R=s[S+1]}}for(let i=0;i<H;i+=h){var y=i+h,o=s[i<<1]*s[i<<1],v=0;
let Z=q[0]=i,W=Q[0]=i,d=o,$=d;for(let S=i+1;S<y;++S){var I=s[S<<1]*s[S<<1];while(v&&$>(W-S)*(W-S)+I){W=Q[--v],Z=q[v],d=s[Z<<1]*s[Z<<1],$=(W-Z)*(W-Z)+d}if(v||$<=(W-S)*(W-S)+I){var k=S-Z,_=i+Math.floor((k*(S+Z-i-i)+I-d)/(k<<1))+1;
if(_<y){W=Q[++v]=_,Z=q[v]=S,d=I,$=(W-Z)*(W-Z)+d}}else W=i,Z=q[0]=S,d=I,$=(W-Z)*(W-Z)+d}for(let Y=0;Y<v;
++Y){var D=q[Y]<<1;a[Y]=s[D]*s[D];l[Y]=s[D+1]}let A=.5-s[(q[v]<<1)+1]*U;for(let S=y-1;S>=i;--S){j[S]=Math.max(0,Math.sqrt((S-Z)*(S-Z)+d)+A);
if(v&&S==W){W=Q[--v],Z=q[v],d=a[v],A=.5-l[v]*U}}}return j};e.style.acK=function(b,h,G){var H=new Float64Array(h*G),B=0,j=h*G;
for(var Y=0;Y<j;Y++)B|=b[Y];if(B==0){H.fill(1e9);return}var s=e.style.tp(b,h,G);for(var q=0;q<G;q++)for(var Q=0;
Q<h;Q++){var Y=q*h+Q,a=s[Y*2],l=s[Y*2+1];if(a==0&&l==0){H[Y]=0;continue}var U=Math.sqrt(a*a+l*l),N=b[(q+l)*h+Q+a]*(1/255);
H[Y]=U+.5-N}return H};e.style.akE=function(b,h,G){return(.5-G)*b};e.style.tp=function(b,h,G,H){var B=new Int16Array(h*G*2);
e.style.alS(b,B,h,G,128);return B};e.style.alS=function(b,h,G,H,B){var j=new Int32Array(G*H);e.style.apc(b,j,G,H,B);
e.style.ahT(j,h,G,H)};e.style.apc=function(b,h,G,H,B){var j=new Int32Array(H);for(var s=0;s<G;s++){var q=G+H;
for(var Q=H-1;Q>=0;Q--){if(b[Q*G+s]>B)q=0;else q++;j[Q]=q}q=G+H;for(var Q=0;Q<H;Q++){if(b[Q*G+s]>B)q=0;
else q++;h[Q*G+s]=q<j[Q]?-q:j[Q]}}};e.style.ahT=function(b,h,G,H){var B=(G+H)*(G+H),j=new Float64Array(G),s=new Uint16Array(G);
for(var q=0;q<H;q++){var Q=q*G,a=0;s[0]=0;j[0]=-B;j[1]=+B;for(var l=1;l<G;l++){var U=b[l+Q]*b[l+Q]+l*l,N=(U-(b[s[a]+Q]*b[s[a]+Q]+s[a]*s[a]))/(2*l-2*s[a]);
while(N<=j[a]){a--;N=(U-(b[s[a]+Q]*b[s[a]+Q]+s[a]*s[a]))/(2*l-2*s[a])}a++;s[a]=l;j[a]=N;j[a+1]=B}a=0;
for(var l=0;l<G;l++){while(j[a+1]<l)a++;var R=s[a]-l,S=b[s[a]+Q],Y=q*G+l<<1;h[Y]=R;h[Y+1]=S}}};e.style.WB=function(b,h,G){if(G)for(var Y=0;
Y<b.length;Y++){var H=b[Y];if(H>0)b[Y]=Math.max(0,Math.min(255,H+h*2*(e.style.v0(Y)-128)))}else for(var Y=0;
Y<b.length;Y++){var H=b[Y];if(H>0)b[Y]=Math.max(0,Math.min(255,H+Math.min(H*3,h*2*(e.style.v0(Y)-128))))}};
e.style.v0=function(b){b=b^61^b>>16;b=b+(b<<3);b=b^b>>4;b=b*668265261;b=b^b>>15;return b&255};e.lU={};
e.lU.P1=function(b,h,G){var H=b.canvas;if(H.width!=h||H.height!=G){H.width=h;H.height=G}};e.lU.Mu=function(b,h,G,H,B,j){e.lU.P1(b,h,G);
if(j==null)j=!1;var s=B.channel,q=B.rect,Q=!B.isEnabled;if(h*G==0)return;var a=b.createImageData(h,G),l=a.data,U=1/h,N=1/G;
for(var Y=0;Y<G;Y++)for(var R=0;R<h;R++){var S=Y*h+R,g=S*4,i=Math.round(H.x+R*U*H.j),y=Math.round(H.y+Y*N*H._),o=0;
if(i<q.x||i>=q.x+q.j||y<q.y||y>=q.y+q._)o=B.color;else o=s[(y-q.y)*q.j+(i-q.x)];o=255*(255-B.Hs)+o*B.Hs>>>8;
if(j)o=170+Math.round(.4*(o-170));l[g]=o;l[g+1]=o;l[g+2]=o;l[g+3]=255}b.putImageData(a,0,0);if(Q)e.lU.ai3(b,h,G)};
e.lU.acQ=[];e.lU.a5F=function(b,h,G,H){var B,j,s;B=Math.ceil(Math.max(h,G)*.35);j=h-B;s=G-B;var q=e.lU.acQ[B];
if(q==null){var Q=e.tM(B,B);Q.fillStyle="#eeeeee";Q.fillRect(0,0,B,B);var a=Math.round(B*.27),l=Q.lineWidth=Math.max(1,Math.round(B*.12)),U=l/2;
Q.strokeRect(1+U,1+U,B-l-2,B-l-2);Q.strokeRect(a+U,a+U,B-a-a-l,B-a-a-l);q=e.lU.acQ[B]=Q.getImageData(0,0,B,B)}b.putImageData(q,j,s)};
e.lU.aaU=[];e.lU.aib=function(b,h,G){var H,B,j;H=Math.ceil(Math.max(h,G)*.35);B=h-H;j=G-H;var s=e.lU.aaU[H];
if(s==null){var q=e.tM(H,H);q.fillStyle="#eeeeee";q.fillRect(0,0,H,H);q.lineWidth=1;q.strokeRect(2.5,2.5,H-5,H-5);
var Q=q.createImageData(3,3);e.Zi(Q.data,4278190080);Q.data[4*4]=Q.data[4*4+1]=Q.data[4*4+2]=238;q.putImageData(Q,1,1);
q.putImageData(Q,H-4,1);q.putImageData(Q,1,H-4);q.putImageData(Q,H-4,H-4);s=e.lU.aaU[H]=q.getImageData(0,0,H,H)}b.putImageData(s,B,j)};
e.lU.avA=function(b,h,G,H,B){e.lU.P1(b,h,G);var j=h/H.j;if(h*G==0)return;b.fillStyle="#999999";b.setTransform(1,0,0,1,0,0);
b.clearRect(0,0,h,G);var s=e.lU.aCj;if(s==null)s=e.lU.aCj=dE.QA.Az(!0,!0);s.strokeStyleLineWidth.v.val=1/j;
b.fillStyle="#ffffff";b.scale(j,j);e.n.vs(B.d,b,0,0);e.n.vs(B.d,b,0,0,s)};e.lU.aB9=function(b,h,G,H,B){e.lU.P1(b,h,G);
if(h*G==0)return;b.setTransform(1,0,0,1,0,0);b.fillStyle="white";b.fillRect(0,0,h,G);var j=B.o,s;if(j.add.SoLd)s=E.Y.DM(j.add.SoLd.nonAffineTransform);
else if(j.add.vmsk)s=j.add.vmsk.me();else if(j.add.TySh){if(j.Z5.fc==null)return;s=e.N.Q0(j.Z5.fc).m;
e.N.h(s,j.add.TySh.h,s)}var q=e.N.MP(s),Q=Math.min(h/q.j,G/q._),a=q.j*Q,l=q._*Q;b.translate(-q.x*Q+(h-a)*.5,-q.y*Q+(G-l)*.5);
b.scale(Q,Q);B.tq(H,b,null,null)};e.lU.af5=null;e.lU.$s=function(b,h,G,H,B,j,s,q,Q){e.lU.P1(b,h,G);if(h*G==0)return;
var a=Math.max(h,G),l=e.lU.af5;if(l==null||l.width<a||l.height<a){e.lU.af5=l=b.createImageData(a,a)}a=l.width;
var U=l.data,N=H.j/h,R=H._/G,S=j.x,g=j.x+j.j,i=j.y,y=j.y+j._;for(var Y=0;Y<G;Y++)for(var o=0;o<h;o++){var v=Y*a+o,Z=v*4,W=~~(H.x+o*N),d=~~(H.y+Y*R),$=e.aE4(Y,o,2);
if(W<S||W>=g||d<i||d>=y||Q){U[Z]=$;U[Z+1]=$;U[Z+2]=$;U[Z+3]=255}else{var I=(d-j.y)*j.j+(W-j.x)<<2,k=B[I+3]*(1/255);
U[Z]=B[I+0]*k+$*(1-k);U[Z+1]=B[I+1]*k+$*(1-k);U[Z+2]=B[I+2]*k+$*(1-k);U[Z+3]=255}}if(q!=null)for(var Y=0;
Y<U.length;Y+=4)U[Y]=U[Y+1]=U[Y+2]=U[Y+q];b.putImageData(l,0,0);if(s)e.lU.ai3(b,h,G)};e.lU.amF=function(b,h,G,H){e.lU.P1(b,h,G);
b.fillStyle=e.lU.an(H.Clr.v);b.fillRect(0,0,h,G);e.lU.Vf(b,h,G)};e.lU.aBv=null;e.lU.a5g=function(b,h,G,H){e.lU.P1(b,h,G);
var B=b.canvas.width,j=b.canvas.height,s=e.lU.aBv;if(s==null||s.width!=B||s.height!=j){b.fillStyle="#ffffff";
b.fillRect(0,0,h,G);b.fillStyle="#000000";b.font=""+G*.7+"px serif";b.fillText("T",(h-G*.43)/2,G*.75);
b.fillText("T",(h-G*.43)/2,G*.75);e.lU.aBv=b.getImageData(0,0,B,j)}else b.putImageData(s,0,0)};e.lU.adw=function(b,h,G){e.lU.P1(b,h,G);
b.clearRect(0,0,h,G);b.font=G*.7+"px serif";b.fillText(":(",(h-G*.43)/2,G*.7)};e.lU.afB=function(b,h,G,H){e.lU.P1(b,h,G);
var B=eZ.get(H),j=b.canvas.width,s=e.lU.abn[j+B];if(s==null){var q=PIMG["adj/"+B],Q=aT.te(q),a=UPNG.decode(Q.buffer),l=new Uint8Array(UPNG.toRGBA8(a)[0]),U=new io(0,0,160,160),N=0,R=j-N*2,S=E.Y.Mp([l,U],new eq(R/160,0,0,R/160,0,0)),g=new io(0,0,j,j),i=e.U(g.X()*4);
e.z.Nm("norm",S.buffer,S.rect,i,g,S.rect,1);s=e.lU.abn[j+B]=new ImageData(new Uint8ClampedArray(i.buffer),j,j)}b.putImageData(s,0,0)};
e.lU.abn={};e.lU.a7J=function(b,h,G,H){e.lU.P1(b,h,G);var B=b.canvas.width,j=b.canvas.height,s=b.getImageData(0,0,B,j);
e.F.qU(H.Grad.v,new Uint8Array(s.data.buffer),new io(0,0,B,j),[1/B,0,0,1/j],B/2,j/2,!1,0,16711680,65280);
b.putImageData(s,0,0);e.lU.Vf(b,h,G)};e.lU.a4A=function(b,h,G,H,B){e.lU.P1(b,h,G);var j=b,s=eQ.E1(H.Ptrn.v,B.add.Patt);
if(s==null)return;var q=s.yr[1];e.lU.$s(b,h,G,q,s.yr[0],q,!1);e.lU.Vf(j,h,G)};e.lU.ai3=function(b,h,G){b.strokeStyle="#bb0000";
b.lineWidth=3;b.beginPath();b.moveTo(h*.15,G*.15);b.lineTo(h*.85,G*.85);b.moveTo(h*.85,G*.15);b.lineTo(h*.15,G*.85);
b.closePath();b.stroke()};e.lU.Vf=function(b,h,G){b.fillStyle="#eeeeee";b.fillRect(0,G*.75,h,G*.25);
b.beginPath();b.moveTo(0,G*.75);b.lineTo(h,G*.75);b.moveTo(h*.1,G*.875);b.lineTo(h*.9,G*.875);b.moveTo(h*.65,G*.825);
b.lineTo(h*.65,G*.95);b.closePath();b.stroke()};e.lU.an=function(b){var h=e.F.an(b),G=Math.round(h.$)<<16|Math.round(h.B)<<8|Math.round(h.J);
return"#"+e.Z0(G)};e.n={};e.n.hq=function(b,h,G){var H=[],B=-1;for(var Y=0;Y<b.length;Y++){var j=b[Y];
if((j.type==0||j.type==3)&&j.Vj!=-1)B++;if(j.type>5||j.type==0||j.type==3)continue;if(h!=null&&h.indexOf(B)==-1)continue;
if(G!=null&&G.indexOf(Y)==-1)continue;H.push(j.o$.x);H.push(j.o$.y);H.push(j.v.x);H.push(j.v.y);H.push(j.PY.x);
H.push(j.PY.y)}return H};e.n.cI=function(b,h,G,H){var B=0,j=-1;for(var Y=0;Y<h.length;Y++){var s=h[Y];
if((s.type==0||s.type==3)&&s.Vj!=-1)j++;if(s.type>5||s.type==0||s.type==3)continue;if(G!=null&&G.indexOf(j)==-1)continue;
if(H!=null&&H.indexOf(Y)==-1)continue;s.o$.ve(b[B],b[B+1]);s.v.ve(b[B+2],b[B+3]);s.PY.ve(b[B+4],b[B+5]);
B+=6}};e.n.Gl=function(b,h,G,H){var B=e.n.hq(b,G,H);e.N.h(B,h,B);e.n.cI(B,b,G,H)};e.n.a18=function(b,h,G,H){var B=e.n.hq(b,G,H);
e.t.h(h,B);e.n.cI(B,b,G,H)};e.n.aBI=function(b,h,G,H){if(H==null){var B=e.n.a5k(b,40,G);for(var Y=0;
Y<B.length;Y++)b[Y]=B[Y]}var j=e.n.hq(b,G,H);e.ac.h(h,j,e.N.MP(j));e.n.cI(j,b,G,H)};e.n.a5k=function(b,h,G){var H=[],B=-1;
for(var Y=0;Y<b.length;Y++){var j=b[Y],s=j.length;if(j.type>5){H.push(JSON.parse(JSON.stringify(j)));
continue}j=JSON.parse(JSON.stringify(j));H.push(j);if(j.Vj!=-1)B++;if(G&&G.indexOf(B)==-1){H=H.concat(b.slice(Y+1,Y+1+s))}else{var q=e.n.a7k(b,Y+1,s);
q=e.N.cf(q,h);var Q=e.n.a7t(q);j.length=Q.length;for(var a=0;a<Q.length;a++)H.push(Q[a])}Y+=s}return H};
e.n.a7k=function(b,h,G){var H={Gc:["M"],m:[]},B=b[h],j=b[h+G-1];H.m.push(B.v.x,B.v.y);for(var Y=1;Y<G;
Y++){var s=b[h+Y-1],q=b[h+Y];H.Gc.push("C");H.m.push(s.PY.x,s.PY.y,q.o$.x,q.o$.y,q.v.x,q.v.y)}H.Gc.push("C");
H.m.push(j.PY.x,j.PY.y,B.o$.x,B.o$.y,B.v.x,B.v.y);return H};e.n.a7t=function(b){var h=[],G=b.Gc,H=b.m,B=0,g1=H.length;
h.push({type:2,o$:new cJ(H[g1-4],H[g1-3]),v:new cJ(H[0],H[1]),PY:new cJ(H[2],H[3])});for(var Y=0;Y<G.length-2;
Y++){var j=Y*6+4;h.push({type:2,o$:new cJ(H[j],H[j+1]),v:new cJ(H[j+2],H[j+3]),PY:new cJ(H[j+4],H[j+5])})}return h};
e.n.a90=function(b){for(var Y=0;Y<b.length;Y++){if(b[Y].type>5)continue;var h=b[Y].length;if(!(h==4||h==6||h==8)){Y+=h;
continue}for(var G=0;G<h;G++){var H=b[Y+1+G],B=b[Y+1+(G+1)%h],j=Math.min(H.v.x,B.v.x),s=Math.min(H.v.y,B.v.y),q=0,Q=0;
if(H.v.x<B.v.x){q=H.v.y-s;Q=q-(B.v.x-j)}else{q=B.v.y-s;Q=q-(H.v.x-j)}if(Math.abs(Q)<.2*q)return q}}return-1};
e.n.d4=function(b,h,G){function H(N,R){var S=Math.min(N.x,R.x),g=Math.min(N.y,R.y),i=Math.max(N.x+N.j,R.x+R.j),y=Math.max(N.y+N._,R.y+R._);
return new io(S,g,i-S,y-g)}var B=null,j=-1,s=!e.n.eL(b);for(var Y=0;Y<b.length;Y++){var q=b[Y];if(q.type>5)continue;
if((q.type==0||q.type==3)&&q.Vj!=-1)j++;if(h!=null&&h.indexOf(j)==-1)continue;if(Y==b.length-1)break;
var Q=q.type==3,a=q.length,l=q.Vj,U=e.n.Wl(b,Y+1,a,Q);if(B==null)B=U;else if(G)B=H(B,U);else if(s){if(h!=null||l==0||l==-1||l==2)B=H(B,U);
else if(l==1)B=B;else if(l==3){B=U;s=!1}}else{if(h!=null||l==0||l==-1||l==1)B=H(B,U);else if(l==2)B=B;
else if(l==3)B=B.D4(U)}Y+=a}if(B==null||B.j<0||B._<0)B=new io(0,0,0,0);return B};e.n.a7a=new Float64Array(4);
e.n.Wl=function(b,Y,h,G){var H=e.n.a7a;H[0]=1e30;H[1]=1e30;H[2]=-1e30;H[3]=-1e30;var B=b[Y+h-1];if(!G)e.n.acB(B.v.x,B.v.y,B.PY.x,B.PY.y,b[Y].o$.x,b[Y].o$.y,b[Y].v.x,b[Y].v.y,H);
for(var j=Y;j<Y+h-1;j++){var s=b[j],q=b[j+1];e.n.acB(s.v.x,s.v.y,s.PY.x,s.PY.y,q.o$.x,q.o$.y,q.v.x,q.v.y,H)}return new io(H[0],H[1],H[2]-H[0],H[3]-H[1])};
e.n.acB=function(b,h,G,H,B,j,s,q,Q){if(b==G&&h==H&&B==s&&j==q){Q[0]=Math.min(Q[0],Math.min(b,s));Q[1]=Math.min(Q[1],Math.min(h,q));
Q[2]=Math.max(Q[2],Math.max(b,s));Q[3]=Math.max(Q[3],Math.max(h,q));return}var a=b,l=h,U=b,N=h,R=40,S=1/(R-1);
for(var g=0;g<R;g++){var i=g*S,y=1-i,o=y*y*y,v=3*y*y*i,Z=3*y*i*i,W=i*i*i,d=o*b+v*G+Z*B+W*s,$=o*h+v*H+Z*j+W*q;
if(d<a)a=d;else if(d>U)U=d;if($<l)l=$;else if($>N)N=$}if(a<Q[0])Q[0]=a;if(l<Q[1])Q[1]=l;if(U>Q[2])Q[2]=U;
if(N>Q[3])Q[3]=N};e.n.aeA=function(b,h){var G=b.length-3,H=h%G,B=Math.floor(H);if(h<0||B>=G)return null;
var j=b[3+B],s=b[3+(B+1)%G],q=j.v,Q=j.PY,a=s.o$,l=s.v,U=H-B,N=1-U,R=N*N*N*q.x+3*N*N*U*Q.x+3*N*U*U*a.x+U*U*U*l.x,S=N*N*N*q.y+3*N*N*U*Q.y+3*N*U*U*a.y+U*U*U*l.y;
return new cJ(R,S)};e.n.kM=function(b,h){var G=e.N.ES(b),H=G.Js;G.Js=Typr.U.pathToSVG({crds:H.m,cmds:H.Gc},h==null?2:h);
return G};e.n.ry=function(b){e.n.Yd();var h,G=e.n.pt(b),H=[];for(var Y=0;Y<G.length;Y++){var B=G[Y][0],j=G[Y][1];
if(Math.abs(B.area)<1e-5)H.push(B);else if(h==null)h=B;else{if(!B.closed)B.closed=!0;h=h[j](B);h.remove()}}if(h==null)h=new paper.CompoundPath(H);
else{if(h.segments)h=new paper.CompoundPath(h);for(var Y=0;Y<H.length;Y++){h.addChild(H[Y])}}var s=b.slice(0,2);
s=s.concat(e.n.pj(h));e.n.$n(G);e.n.$n([[h]]);if(s[2])s[2].Vj=1;for(var Y=3;Y<s.length;Y++)if(s[Y].Vj!=null)s[Y].Vj=-1;
return s};e.n.Yd=function(){if(e.n.a1d==null){var b=document.createElement("canvas");paper.setup(b);
e.n.a1d=!0}};e.n.aA$=function(b,h){e.n.Yd();var G=[],H=e.n.pt(b),B=new paper.Path.Rectangle(new paper.Rectangle(h.x,h.y,h.j,h._));
B.remove();B.fillColor=new paper.Color(1,0,0);for(var Y=0;Y<H.length;Y++){if(B.intersects(H[Y][0])||B.contains(H[Y][0].children[0].segments[0].point))G.push(Y)}e.n.$n(H);
return G};e.n.cE=function(b,h,G,H){e.n.Yd();var B=G?{curves:!0,tolerance:H}:null,j=new paper.Point(h.x,h.y),s=e.n.pt(b);
e.n.$n(s);for(var Y=s.length-1;Y>=0;Y--){var q=s[Y][0],Q=q.hitTest(j,B);if(Q!=null)return{V9:Y,Fs:G?Q.location.index:null,EG:G?Q.location.time:0}}return{V9:-1}};
e.n.h$=function(b,h,G,H){var B=[[],[],[]];for(var Y=0;Y<b.length;Y++){var j=b[Y];if(j.type>5||j.type==0||j.type==3)continue;
var s=h.G_(j.v),q=h.G_(j.o$),Q=h.G_(j.PY);if(G&&G.indexOf(Y)==-1){if(H){if(G.indexOf(Y-1)==-1)q=!1;if(G.indexOf(Y+1)==-1)Q=!1}else q=Q=!1}if(s)B[0].push(Y);
if(q)B[1].push(Y);if(Q)B[2].push(Y)}B[3]=B[0].length+B[1].length+B[2].length;return B};e.n.a4U=function(b,h,G){var H=b[h];
for(var B=h+1;B<G;B++)b[B-1]=b[B];b[G-1]=H};e.n.ap_=function(b,h,G,H){var Y,B,j,s=0;b=b.slice(0);h.sort(function(S,g){return S-g});
j=-1;for(Y=2;Y<b.length;){var q=b[Y],Q=q.length;if(q.Vj!=-1)j++;var a=s;while(a<h.length&&h[a]<Y+1+Q)a++;
if(s!=a){var l=h.slice(s,a);s=a;for(B=0;B<Q;B++)if(l.indexOf(Y+1+B)!=-1)b[Y+1+B]=null;if(q.type==0){var U=l[0]-(Y+1);
while(U!=0){e.n.a4U(b,Y+1,Y+1+Q);U--}}var N=q;N.length=0;B=0;while(B<Q&&b[Y+1+B]==null)B++;while(B<Q){var R=b[Y+1+B];
if(R!=null)N.length++;else if(B<Q+1&&b[Y+1+B+1]&&H){N=b[Y+1+B]={type:0,Vj:-1,length:0,$V:0,$S:0,ts:1}}B++}if(H)for(B=-1;
B<Q;B++)if(b[Y+1+B]&&b[Y+1+B].type<3)b[Y+1+B].type+=3;e.Bs.u7(G,j)}Y+=1+Q}for(Y=0;Y<b.length;Y++)if(b[Y]==null){b.splice(Y,1);
Y--}j=0;for(Y=2;Y<b.length;Y++){var q=b[Y];if(q.length==0){if(b[Y+1]&&b[Y+1].Vj==-1)b[Y+1].Vj=q.Vj;else if(q.Vj!=-1)G.splice(j,1);
b.splice(Y,1);Y--}else if(q.length!=null&&q.Vj!=-1)j++}return b};e.n.avX=function(b,h){var G=b.slice(0,2),H=-1;
for(var Y=2;Y<b.length;Y++){if((b[Y].type==0||b[Y].type==3)&&b[Y].Vj!=-1)H++;if(h.indexOf(H)==-1)G.push(b[Y])}return G};
e.n.awE=function(b,h){var G=b.slice(0,2),H=-1;for(var Y=2;Y<b.length;Y++){if((b[Y].type==0||b[Y].type==3)&&b[Y].Vj!=-1)H++;
if(h.indexOf(H)!=-1)G.push(b[Y])}return G};e.n.ahg=function(b){var h=0;for(var Y=0;Y<b.length;Y++)if(b[Y].type==0||b[Y].type==3)h=Y;
return b[h]};e.n.bF=function(b){var h=-1;for(var Y=0;Y<b.length;Y++)if((b[Y].type==0||b[Y].type==3)&&b[Y].Vj!=-1)h++;
return h+1};e.n.Xd=function(b,h,G){var H=-1;for(var Y=0;Y<b.length;Y++)if((b[Y].type==0||b[Y].type==3)&&(G||b[Y].Vj!=-1)){H++;
if(H==h)return Y}return-1};e.n.RZ=function(b,h,G){var H=-1;for(var Y=0;Y<b.length;Y++)if((b[Y].type==0||b[Y].type==3)&&(G||b[Y].Vj!=-1)){if(Y>=h)return H;
H++}return H};e.n.LN=function(b,h){var G=-1,H=0;for(var Y=0;Y<b.length;Y++){if((b[Y].type==0||b[Y].type==3)&&b[Y].Vj!=-1)G++;
if(G==h)H++}return H};e.n.aod=function(b){var h=180;for(var Y=0;Y<b.length;Y++){if(b[Y].type!=0&&b[Y].type!=3)continue;
var G=b[Y].length;if(G<3)continue;for(var H=0;H<G;H++){var B=b[Y+1+(H-1+G)%G],j=b[Y+1+H],s=b[Y+1+(H+1)%G],q=j.v,Q=j.o$.TW(q)?B.PY:j.o$,a=j.PY.TW(q)?s.o$:j.PY;
if(q.TW(Q)||q.TW(a))continue;var l=Q.x-q.x,U=Q.y-q.y,N=a.x-q.x,R=a.y-q.y,Q=Math.atan2(Q.y-q.y,Q.x-q.x)*180/Math.PI,a=Math.atan2(a.y-q.y,a.x-q.x)*180/Math.PI,S=Math.abs(a-Q)%360,g=S>180?360-S:S;
if(g<h)h=g}}return h*Math.PI/180};e.n.pj=function(b){var h=b.segments?[b]:b.children,G=[];for(var Y=0;
Y<h.length;Y++){var H=h[Y],B=H.segments,j=H.closed?0:3,s=G.length,q=null;if(B.length<=1)continue;G.push({type:j,length:B.length,Vj:0,ts:2});
for(var Q=0;Q<B.length;Q++){var a=B[Q],l=new cJ(a.handleIn.x,a.handleIn.y),U=new cJ(a.handleOut.x,a.handleOut.y),N=new cJ(a.point.x,a.point.y),R={type:j+1,o$:N.add(l),v:N,PY:N.add(U)};
if(q==null)q=R;G.push(R);if(Q+1==B.length&&cJ.o0(q.v,R.v)<1e-5){G.pop();G[s].length--;q.o$=R.o$;if(j==3)for(var S=s;
S<G.length;S++)G[S].type-=3}}}return G};e.n.pt=function(b){e.n.Yd();var h=[],G,H=new paper.Color(1,0,0);
function B(R,q){R.remove();R.closed=!q;R.fillRule="evenodd"}for(var Y=0;Y<b.length;Y++){if(b[Y].type>5)continue;
var j=b[Y].length,s;if(Y==b.length-1)break;var q=b[Y].type==3;if(Y==2){if(!e.n.Pi(b))s="subtract";else s="unite"}else{if(b[Y].Vj==0)s="exclude";
if(b[Y].Vj==1)s="unite";if(b[Y].Vj==2)s="subtract";if(b[Y].Vj==3)s="intersect"}if(b[Y].Vj!=-1){G=new paper.CompoundPath;
h.push([G,s]);G.fillRule="evenodd";G.fillColor=H}var Q=[];for(var a=0;a<j;a++){var l=b[Y+1+a],U=l.o$.SX(l.v),N=l.PY.SX(l.v);
Q.push([[l.v.x,l.v.y],[U.x,U.y],[N.x,N.y]])}var R=new paper.Path(Q);B(R,q);G.addChild(R);Y+=j}return h};
e.n.$n=function(b){for(var Y=0;Y<b.length;Y++)b[Y][0].remove()};e.n.uC=function(b){for(var Y=0;Y<b.length;
Y++){var h=b[Y];if(h.v==null)continue;if(!h.v.TW(h.o$)||!h.v.TW(h.PY))return!1}return!0};e.n.aw$=function(b){if(b.length<=5)return 0;
var h=0,G=b.length-3-1;for(var Y=0;Y<G;Y++){var H=b[3+Y],B=b[3+Y+1];if(H.type==0||B.type==0)return 0;
h+=(B.v.x-H.v.x)*(H.v.y+B.v.y)}h+=(b[3].v.x-b[3+G].v.x)*(b[3+G].v.y+b[3+1].v.y);return-h*.5};e.n.eL=function(b){var h=b[2],G=!1;
if(b.length==2)G=b[1].all==0;else if(b[1].all==1){if(h.Vj==1||h.Vj==3)G=!0;else G=!1}else{if(h.Vj==1||h.Vj==3||h.Vj==0)G=!0;
else G=!1}return G};e.n.Pi=function(b){var h=e.n.eL(b);for(var Y=3;Y<b.length;Y++)if(b[Y].Vj==3)h=!0;
return h};e.n.ayM=0;e.n.aeU=0;e.n.aCp=0;e.n.azf=function(b,h,G,H){if(G.Zx())return;var B=G.X(),y=16384;
e.n.ayM+=B;if(B>e.n.aeU){e.n.aeU=B}var j=G.j,s=G._;if(H==null&&e.n.uC(b)&&b[2]&&b[2].Vj!=2){var q=!0;
for(var Y=2;Y<b.length;)if(b[Y].length==2)Y+=3;else{q=!1;break}if(q){return}if(e.n.wm(b)){h.fill(255);
var Q=e.n.d4(b);if(Q.X()!=B){var a=1-(Q.x-G.x),l=1-(Q.y-G.y),U=1-(G.x+G.j-(Q.x+Q.j)),N=1-(G.y+G._-(Q.y+Q._)),R=~~(a*255),S=~~(U*255),g=~~(l*255),i=~~(N*255);
h.fill(g,0,j);h[0]=~~(a*l*255);h[j-1]=~~(U*l*255);for(var Y=j;Y<B;Y+=j){h[Y]=R;h[Y+j-1]=S}h.fill(i,(s-1)*j,s*j);
h[B-j]=~~(a*N*255);h[B-1]=~~(U*N*255)}return}}var o=Math.ceil(j/y),v=Math.ceil(s/y),Z=Math.ceil(j/o),W=Math.ceil(s/v),d=Date.now();
for(var $=0;$<v;$++)for(var I=0;I<o;I++){var k=I*Z,_=$*W,D=Z,A=W,F=e.tM(D,A);if(!e.n.eL(b))F.fillRect(0,0,D,A);
e.n.vs(b,F,-G.x-k,-G.y-_,H);var K=new Uint8Array(F.getImageData(0,0,D,A).data.buffer);if(D==j&&A==s)e.uA(K,h,3);
else e.Ce(K,new io(k,_,D,A),h,new io(0,0,j,s))}};e.n.ajT=function(b){var h=!1,G=!1,H=0,B=!1;for(var Y=0;
Y<b.length;Y++){var j=b[Y].Vj;if(j!=null){H++;if(j==-1)h=!0;if(j==1||j==2||j==3)G=!0;if(b[Y].type==0)B=!0}}if(!h&&H<20&&B&&G)b=e.n.ry(b);
return b};e.n.vs=function(b,h,G,H,B,j){if(B!=null){b=e.n.ajT(b)}for(var Y=0;Y<b.length;Y++){if(b[Y].type>5)continue;
var s=b[Y].length;if(s==0)continue;if(Y==b.length-1)break;var q=b[Y].type==3,Q=b[Y].Vj;if(Q!=-1&&B==null){var a=["xor","source-over","destination-out","source-in"][Q];
h.globalCompositeOperation=a}if(b[Y].Vj!=-1){h.beginPath();if(B)e.n.bl(dE.QA.Lo(B),h)}e.n.akh(h,b,Y+1,s,G,H,q);
if(q){}else h.closePath();if(b[Y+1+s]==null||b[Y+1+s].Vj!=-1){if(B){if(j)h.clip();h.stroke()}else h.fill(Q==-1?"nonzero":"evenodd")}Y+=s}h.globalCompositeOperation="source-over";
h.setLineDash([])};e.n.bl=function(b,h){var G=b.nx;h.setLineDash(b.t7);h.lineCap=["butt","round","square"][b.vB];
h.lineJoin=["miter","round","bevel"][b.VV];h.lineWidth=b.fJ==1?G:G*2;h.miterLimit=b.dE};e.n.akh=function(b,h,Y,G,H,B,j){var s=h[Y],q=null;
b.moveTo(s.v.x+H,s.v.y+B);for(var Q=Y;Q<Y+G-1;Q++){s=h[Q];q=h[Q+1];b.bezierCurveTo(s.PY.x+H,s.PY.y+B,q.o$.x+H,q.o$.y+B,q.v.x+H,q.v.y+B)}if(!j){s=h[Q];
q=h[Y];b.bezierCurveTo(s.PY.x+H,s.PY.y+B,q.o$.x+H,q.o$.y+B,q.v.x+H,q.v.y+B)}};e.n.aBu=function(b,h){var G=[],H=h?4:1;
for(var Y=0;Y<b.length;Y+=2){var B=new cJ(b[Y],b[Y+1]);G.push({type:H,o$:B.clone(),v:B.clone(),PY:B.clone()})}return G};
e.n.alL=function(b,h,G){var H=(1-(G!=null?G:25)*.01)*10;if(H>0){for(var Y=0;Y<h.length;Y++){var B=h[Y],j=e.n.Xd(b,B),s=e.n.LN(b,B),q=b.slice(j,j+s);
e.n.Yd();var Q=new paper.Path;Q.remove();Q.closed=!0;for(var a=1;a<q.length;a++)Q.add(new paper.Point(q[a].v.x,q[a].v.y));
var l=Q.simplify(H);if(l)b.splice(j,s,...e.n.pj(Q))}}return b};e.n.Dn=function(b,h,G){var H=e.N.MP(b),B=Math.sqrt(Math.sqrt(H.X()))*.2,j=.2;
b=b.slice(0);var s=b.length,q=h?0:2;for(var Q=0;Q<5;Q++)for(var Y=q;Y<b.length-q;Y+=2){var a=(Y-2+s)%s,l=(Y+2)%s,U=b[Y],N=b[Y+1],R=(b[a]+b[l])*.5,S=(b[a+1]+b[l+1])*.5;
b[Y]=U+(R-U)*j;b[Y+1]=N+(S-N)*j}if(G)return e.n.NT.uq(b,null,!h);e.n.Yd();var g=new paper.Path;g.remove();
g.closed=h;for(var Y=0;Y<b.length;Y+=2)g.add(new paper.Point(b[Y],b[Y+1]));g.simplify(B);var i=[{type:6},{type:8,all:0}];
i=i.concat(e.n.pj(g));return i};e.n.qF=function(b,h,G){var H=b[h].length,B=b[h].type,j=0,s=b.slice(h+1,h+1+H);
for(var Y=0;Y<H;Y++){var q=G[(Y-1+H)%H],Q=G[(Y+1+H)%H],a=G[Y];if(a!=0){var l=s[(Y-1+H)%H].v,U=s[(Y+0+H)%H].v,N=s[(Y+1+H)%H].v,R=cJ.o0(U,l),S=cJ.o0(U,N),g=e.N.a70(l.x,l.y,U.x,U.y,N.x,N.y,a)[0],i=Math.min(g,q==0?R:R/2,Q==0?S:S/2);
a*=i/g;var y=e.N.ac3(l.x,l.y,U.x,U.y,N.x,N.y,a),o={type:B+1,o$:new cJ(y[2],y[3]),v:new cJ(y[2],y[3]),PY:new cJ(y[4],y[5])},v={type:B+1,o$:new cJ(y[6],y[7]),v:new cJ(y[8],y[9]),PY:new cJ(y[8],y[9])};
b.splice(h+j+1,1,o,v);j++;b[h].length++}j++}};e.n.uC=function(b){for(var Y=0;Y<b.length;Y++){var h=b[Y],G=h.type;
if(G==1||G==2||G==4||G==5)if(!h.v.TW(h.o$)||!h.v.TW(h.PY))return!1}return!0};e.n.wm=function(b){if(b.length!=7||b[2].length!=4||!e.n.uC(b))return!1;
for(var Y=0;Y<4;Y++){var h=!0;for(var G=0;G<4;G++){var H=b[3+(Y+G&3)],B=b[3+(Y+G+1&3)];if(H.v.x!=B.v.x&&H.v.y!=B.v.y)h=!1}if(h)return!0}return!1};
e.n.amR=function(b){if(b.length<6)return 0;var h=b.length-2,G=0;for(var Y=0;Y<h;Y+=2)G+=(b[Y+2]-b[Y])*(b[Y+1]+b[Y+3]);
G+=(b[0]-b[h])*(b[h+1]+b[1]);return-G*.5};e.n.a1X=function(b){b=C.cW.O6(b);var h=e.n.bF(b);for(var G=0;
G<h;G++){var H=e.n.Xd(b,G)+1,B=b[H-1].length,j=[];for(var Y=0;Y<B;Y++){var s=b[H+Y].v;j.push(s.x,s.y)}var q=e.n.amR(j);
if(q<0)e.n.alb(b,H-1)}return b};e.n.alb=function(b,h){var G=h+1,H=b[h].length,B=[];for(var Y=0;Y<H;Y++){var j=b[G+Y],s=j.o$;
j.o$=j.PY;j.PY=s;B.push(j)}for(var Y=0;Y<H;Y++)b[G+Y]=B[H-1-Y]};e.n.NT={};e.n.NT.uq=function(b,h,G){var H=[{type:6},{type:8,all:0}],B=null;
H.push({type:G?3:0,Vj:1,length:0,$V:0,$S:0,ts:1});if(h==0||h==null)B=null;else if(h instanceof Array)B=h;
else{B=[];for(var Y=0;Y<b.length;Y+=2)B.push(h)}H=H.concat(e.n.aBu(b,G));H[2].length=H.length-3;if(B)e.n.qF(H,2,B);
return H};e.n.NT.ahF=function(b,h,G,H,B){var j=[],s=[],q=.553,Q=1,a=-1;j.push({type:1,o$:new cJ(0,q),v:new cJ(0,0),PY:new cJ(0,-q)});
B+=2;for(var Y=0;Y<B;Y++){var l={type:1};if(Y==0){l.v=new cJ(1,-1);l.o$=new cJ(1-q,-1);l.PY=new cJ(1+q,-1)}else{var U=-(Y+2)*Math.PI/2,N=1+((Y&1)==1?Y-1:Y),R=Math.sin(U),S=Math.cos(U);
Q+=N*(R-S);a+=N*(S+R);l.v=new cJ(Q,a);l.o$=new cJ(Q+N*S*q,a-N*R*q);if((Y&1)==1)N+=2;l.PY=new cJ(Q-N*S*q,a+N*R*q)}var g={type:1,o$:new cJ(-l.PY.x,-l.PY.y),v:new cJ(-l.v.x,-l.v.y),PY:new cJ(-l.o$.x,-l.o$.y)};
j.push(l);if(Y<B-2)s.push(g)}s.reverse();j=j.concat(s);var i=[{type:6},{type:8,all:0}];i.push({type:0,Vj:1,length:j.length,$V:0,$S:0,ts:1});
i=i.concat(j);var y=new eq(G/B,0,0,G/B,0,0);y.rotate(H);y.translate(b,h);e.n.Gl(i,y);return i};e.n.NT.Rect=function(b,h,G,H,B){var j=[b,h,b+G,h,b+G,h+H,b,h+H];
return e.n.NT.uq(j,B)};e.n.NT.hD=function(b,h,G,H,B,j,s,q){var Q=[],a=2*Math.PI/B;for(var Y=0;Y<B;Y++)Q.push(Math.cos(Y*a-H),Math.sin(Y*a-H));
if(s!=null){var l=e.N.MP(Q),U=l.j,N=l._,R=s/(U/2),S=q/(N/2);for(var Y=0;Y<Q.length;Y+=2){Q[Y]=(Q[Y]-(l.x+U/2))*R;
Q[Y+1]=(Q[Y+1]-(l.y+N/2))*S}G=1}var g=new eq(G,0,0,G,0,0);g.translate(b,h);e.N.h(Q,g,Q);return e.n.NT.uq(Q,j)};
e.n.NT.an8=function(b,h,G,H,B,j,s){var q=[],Q=Math.PI/B;for(var Y=0;Y<B*2;Y++){var a=(Y&1)==0?1:s;q.push(a*Math.cos(Y*Q),a*Math.sin(Y*Q))}var l=new eq(G,0,0,G,0,0);
l.rotate(H);l.translate(b,h);e.N.h(q,l,q);return e.n.NT.uq(q,j)};e.n.NT.YX=function(b,h,G,H,B){return e.n.NT.wT(0,b,h,G,H,B)};
e.n.NT.a3r=function(b,h,G,H,B,j){return e.n.NT.wT(1,b,h,G,H,B,j)};e.n.NT.OO=function(b,h,G,H,B,j){return e.n.NT.wT(2,b,h,G,H,B,j)};
e.n.NT.wT=function(b,h,G,H,B,j,s){var q=Math.sqrt((H-h)*(H-h)+(B-G)*(B-G)),Q;j/=2;if(b==0)Q=[-j,0,j,0,j,q,-j,q];
if(b==1){var a=j*2*s*1.3/1.5,l=j*s;Q=[-j,0,j,0,j,q-a,l,q-a,0,q,-l,q-a,-j,q-a]}if(b==2){var a=s[3],l=s[2]/2,U=a*(2/3)*s[4]/100,N=a-U,R=a;
Q=[];if(s[0])Q.push(-j,N,-l,R,0,0,l,R,j,N);else if(j==0)Q.push(0,0);else Q.push(-j,0,j,0);if(s[1])Q.push(j,q-N,l,q-R,0,q,-l,q-R,-j,q-N);
else if(j==0)Q.push(0,q);else Q.push(j,q,-j,q)}var S=new eq(1,0,0,1,0,0);S.rotate(Math.atan2(-B+G,H-h)+Math.PI/2);
S.translate(h,G);e.N.h(Q,S,Q);return e.n.NT.uq(Q,0)};e.n.NT.yT=function(b,h,G,H){var B=[{type:6},{type:8,all:0}],U=.553;
B.push({type:0,Vj:1,length:4,$V:0,$S:0,ts:1});var j=b,s=h,q=b+G,Q=h+H,b=(j+q)/2,h=(s+Q)/2,a=(j-q)/2,l=(s-Q)/2;
B.push({type:1,o$:new cJ(b-U*a,h-l),v:new cJ(b,h-l),PY:new cJ(b+U*a,h-l)});B.push({type:1,o$:new cJ(b+a,h-U*l),v:new cJ(b+a,h),PY:new cJ(b+a,h+U*l)});
B.push({type:1,o$:new cJ(b+U*a,h+l),v:new cJ(b,h+l),PY:new cJ(b-U*a,h+l)});B.push({type:1,o$:new cJ(b-a,h+U*l),v:new cJ(b-a,h),PY:new cJ(b-a,h-U*l)});
return B};e.n.NT.aee=function(b,h,G,H,B){var j=[{type:6},{type:8,all:0}];j.push({type:3,Vj:1,length:5,$V:0,$S:0,ts:1});
var s=(B-H)/4;for(var Y=0;Y<5;Y++){var q=Y*s,Q=Math.cos(q),a=Math.sin(q),l=.553*(s/(Math.PI/2)),U=a*l,N=-Q*l,R=new cJ(Q,a);
j.push({type:4,o$:Y==0?R.clone():new cJ(Q+U,a+N),v:R,PY:Y==4?R.clone():new cJ(Q-U,a-N)})}var S=new eq;
S.rotate(-H);S.scale(G,G);S.translate(b,h);e.n.Gl(j,S);return j};e.hC={};e.hC.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
e.hC.aum={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
e.hC.lv=function(b){var h=b.warpStyle.v.warpStyle;if(h=="warpNone")return!0;else if(h=="warpCylinder")return!1;
else if(h=="warpCustom"){var G=!1,H=e.hC.aA6(b);for(var Y=0;Y<4;Y++)for(var B=0;B<4;B++){var j=H[Y*2]-H[(B*4+Y)*2],s=H[Y*4*2+1]-H[(Y*4+B)*2+1];
if(j*j>1||s*s>1)G=!0}return!G}else return b.warpValue.v==0&&b.warpPerspective.v==0&&b.warpPerspectiveOther.v==0};
e.hC.aD1=function(b){var h=JSON.parse(JSON.stringify(b));h.v.classID="quiltWarp";h.v.deformNumRows={t:"long",v:4};
h.v.deformNumCols={t:"long",v:4};if(h.v.customEnvelopeWarp)e.hC.aim(h.v,[[0,1],[0,1]]);return h};e.hC.ahl=function(b){var h;
if(e.hC.MM(b.v)==16)h=JSON.parse(JSON.stringify(b));else h={t:"Objc",v:e.hC.U(e.hC.Ki(b.v))};h.v.classID="warp";
delete h.v.deformNumRows;delete h.v.deformNumCols;var G=h.v.customEnvelopeWarp;if(G){delete G.v.quiltSliceX;
delete G.v.quiltSliceY}return h};e.hC.MM=function(b){return b.deformNumRows.v*b.deformNumCols.v};e.hC.U=function(b){var h={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(b){h.classID="quiltWarp";h.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:b.y}},Left:{t:"UntF",v:{type:"#Pxl",val:b.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:b.y+b._}},Rght:{t:"UntF",v:{type:"#Pxl",val:b.x+b.j}}}};
h.uOrder={t:"long",v:4};h.vOrder={t:"long",v:4};h.deformNumRows={t:"long",v:4};h.deformNumCols={t:"long",v:4}}return h};
e.hC.a5y=function(b,h,G){for(var Y=0;Y<b.length;Y+=2){var H=b[Y],B=b[Y+1],j=(1-h)/2,s=1-j,q=j+H*(s-j);
B=.5+(B-.5)*q*2;var Q=(1-G)/2,a=1-Q,l=Q+B*(a-Q);H=.5+(H-.5)*l*2;b[Y]=H;b[Y+1]=B}};e.hC.ON=function(b,h){return{id:b,type:"UnFl",uID:"#Pxl",arr:h}};
e.hC.aim=function(b,h){var G=e.hC.Ki(b);function H(j,s){j=j.slice(0);var q=j.length,Y;for(Y=0;Y<q;Y++)j[Y]*=s;
j[0]-=.6;j[q-1]+=.6;return j}var B=b.customEnvelopeWarp.v;B.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[e.hC.ON("quiltSliceX",H(h[0],G.j))]}};
B.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[e.hC.ON("quiltSliceY",H(h[1],G._))]}}};e.hC.adL=function(b){var h=e.hC.Ki(b);
function G(s,q){s=s.slice(0);var j=s.length,Y,Q=1e9,a=-Q;for(Y=0;Y<j;Y++){if(s[Y]<Q)Q=s[Y];if(s[Y]>a)a=s[Y]}for(Y=0;
Y<j;Y++)s[Y]=(s[Y]-Q)/(a-Q);s[0]=0;s[j-1]=1;return s}var H=b.customEnvelopeWarp.v,B=[],j=["X","Y"];for(var Y=0;
Y<2;Y++)B.push(G(H["quiltSlice"+(Y==0?"X":"Y")].v.arr[0].arr.slice(0),Y==0?h.j:h._));return B};e.hC.ahw=function(b,h){var G=[],H=[];
for(var Y=0;Y<h.length;Y+=2){G.push(h[Y]);H.push(h[Y+1])}b.customEnvelopeWarp.v.meshPoints.v.arr=[e.hC.ON("Hrzn",G),e.hC.ON("Vrtc",H)]};
e.hC.aA6=function(b){var h=[],G=b.customEnvelopeWarp.v.meshPoints.v.arr,H=G[0].arr,B=G[1].arr;for(var Y=0;
Y<H.length;Y++)h.push(H[Y],B[Y]);return h};e.hC.kB=function(b,h){var G,H=b.warpStyle.v.warpStyle;if(H=="warpCustom")G=[b.deformNumCols.v,b.deformNumRows.v,e.hC.adL(b),e.hC.aA6(b)];
else{if(h==null)h=e.hC.Ki(b);if(h.Zx())h.j=h._=1;if(H=="warpCylinder"){var B=E.Y.DM(b.warpValues);G=e.hC.hC(H,B)}else{var j="warpPerspective";
G=e.hC.hC(H,b.warpValue.v/100,b.warpRotate.v.Ornt=="Hrzn",b[j].v/100,b[j+"Other"].v/100,h.j/h._)}e.hC.avR(G[3],h)}return G};
e.hC.avR=function(b,h){for(var Y=0;Y<b.length;Y+=2){b[Y]=h.x+b[Y]*h.j;b[Y+1]=h.y+b[Y+1]*h._}};e.hC.akS=function(b){var h=Math.sin(b*Math.PI/2),G=Math.pow(b,1/3.5),H=(1-b)*h+b*G;
H=Math.pow(H,1.045);var B=.1725+.0573*H,j=1-(.96*h+.04*G);j=Math.pow(j,1.27);var s=1/129+(.167684-1/129)*j;
return[B,s]};e.hC.Sd=function(b,h){b.warpStyle.v.warpStyle="warpCustom";b.deformNumCols.v=h[0];b.deformNumRows.v=h[1];
var G="customEnvelopeWarp";if(b[G]==null)b[G]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
e.hC.aim(b,h[2]);e.hC.ahw(b,h[3])};e.hC.Ki=function(b){var h=b.bounds.v,G=h.Left.v.val,H=h.Rght.v.val,B=h.Top.v.val,j=h.Btom.v.val;
if(G==null){G=h.Left.v,H=h.Rght.v;B=h.Top.v,j=h.Btom.v}return new io(G,B,H-G,j-B)};e.hC.hC=function(b,h,G,H,B,j){if(b=="warpCylinder"){var s=h,q=s[0],Q=s[1],a=s[2],l=s[3],U=s[4],N=s[5],R=s[6],S=[];
for(var g=0;g<4;g++)for(var i=0;i<13;i++)S.push(i/12,g/3);var y=a-q,o=Q-l,v=U*.5*(y/o),Z=N*.5*(y/o),W=e.hC.akS(R),d=[0,0,0,0,0,W[0],.5],$=[0,0,0,0,v*.42,v,v],I=[0,0,0,0,Z*.42,Z,Z];
for(var g=0;g<4;g++)for(var i=0;i<7;i++){var Y=g*13+i;S[Y*2]=d[i];var k=$[i],_=1+I[i],D=g/3;S[Y*2+1]=k*(1-D)+_*D}for(var g=0;
g<4;g++)for(var i=0;i<6;i++){var Y=g*13+i,A=g*13+12-i;S[A*2]=1-S[Y*2];S[A*2+1]=S[Y*2+1]}var D=W[1];return[13,4,[[0,D,.5,1-D,1],[0,1]],S]}var F=e.ac.U(0,0,1,1);
if(b!="warpNone"){if(!G)j=1/j;e.hC.a3w(F,b,h,H,B,j);var K=F.slice(0);if(!G)for(var g=0;g<4;g++)for(var i=0;
i<4;i++){F[(g*4+i)*2]=K[(i*4+g)*2+1];F[(g*4+i)*2+1]=K[(i*4+g)*2]}if(h==0)e.hC.a5y(F,H,B);else{var V=new eq;
V.translate(-.5,-.5);e.N.h(F,V,F);e.hC.aiE(F,B,H);V.Q6();e.N.h(F,V,F)}}return[4,4,[[0,1],[0,1]],F]};
e.hC.a3w=function(b,h,G,H,B,j){var s=new io(0,0,j,1);for(var Y=0;Y<b.length;Y+=2)b[Y]*=j;for(var Y=0;
Y<4;Y++){for(var q=0;q<4;q++){var Q=2*(4*Y+q),a=b[Q]-s.x,l=b[Q+1]-s.y,U=a,N=l;if(G!=0){var R=s.j/2,S=s._/2;
U-=R;N-=S;var g=U,i=U,y=-S,o=S,v=Math.abs(G),Z=Math.tan((1-v)*Math.PI/2),W=Math.sqrt(Z*Z+1),d=Math.atan2(1,Z),$=U/R*d,I=R*W,k=R*W+s._,_=Math.cos(d),D=Math.sin(d),A=e.hC.a6J(_,D),F=e.hC.awZ(_,D),K=-Z*R+A*I;
if(h=="warpArc"){g=Math.sin($)*k;y=Z*R-Math.cos(d)*k+S;i=Math.sin($)*I;o=Z*R-Math.cos(d)*I+S;if(q==1||q==2){g=q==1?-F*k:F*k;
i=q==1?-F*I:F*I;y=Z*R+S-A*k;o=Z*R+S-A*I}if(G<0){var V=g;g=i;i=V;V=y;y=-o;o=-V}}if(h=="warpArcLower"){if(q==1||q==2){i=q==1?-F*I:F*I;
o=G<0?S-K:S+K}}if(h=="warpArcUpper"||h=="warpArch"||h=="warpBulge"){if(q==1||q==2){g=q==1?-F*I:F*I;y=G<0?-S+K:-S-K}if(h=="warpArch"){i=g;
o=y+2*S}if(h=="warpBulge"){i=g;o=-y}}if(h=="warpFish"||h=="warpFlag"||h=="warpWave"){var r=q;if(h=="warpFlag")r=3-q;
if(r==1){y-=G*4*S;o+=G*4*S}if(r==2){y+=G*4*S;o-=G*4*S}if(h=="warpFlag"||h=="warpWave")y=o-2*S}if(h=="warpRise"){if(q<2)y=-S+G*S*4;
o=y+2*S}var c=(N+S)/s._;U=g+c*(i-g);N=y+c*(o-y);if(h=="warpWave"){if(Y==0)N=-S;if(Y==3)N=S;if(Y==1||Y==2)N=2*S*(Y/3-.5)*(1/3)+N*(2/3)}if(h=="warpFisheye"){if((Y==1||Y==2)&&(q==1||q==2)){U=U+4*U*G;
N=N+4*N*G}}if(h=="warpInflate"){var x=2/3;if((Y==1||Y==2)&&(q==1||q==2)){U=U+.5*U*G;N=N+.5*N*G}else if(Y==1||Y==2)U=U+x*U*G;
else if(q==1||q==2)N=N+x*N*G}if(h=="warpSqueeze"){var x=2/3;if((Y==1||Y==2)&&(q==1||q==2)){if(G>0)U=U-x*U*G;
else N=N+x*N*G}else if(Y==1||Y==2)U=U-x*U*G;else if(q==1||q==2)N=N+x*N*G}if(h=="warpTwist"){if((Y==1||Y==2)&&(q==1||q==2)){var X=G*Math.PI/2,W=1+Math.abs(G)*2,M=U*Math.cos(X)-N*Math.sin(X),f=U*Math.sin(X)+N*Math.cos(X);
U=M*W;N=f*W}}if(h=="warpShellLower"||h=="warpShellUpper"){if(h=="warpShellUpper"){Y=3-Y;N=-N}if(Y>2||Y==2&&(q==0||q==3)){if(G>0){var t=I+Y/3*2*S;
U=Math.sin($)*t;N=-Z*R-S+Math.cos($)*t;if(q==1||q==2){U=q==1?-F*t:F*t;N=-Z*R-S+A*t}}else{if((q==1||q==2)&&Y==3){U=q==1?-F*I:F*I;
N=Z*R-A*I+S}else if(Y==2){N=S-S*(2/3)*Math.cos($);U=U+S*(2/3)*Math.sin($)}}}if(h=="warpShellUpper"){Y=3-Y;
N=-N}}U+=R;N+=S}a=U,l=N;b[Q]=a+s.x;b[Q+1]=l+s.y}}for(var Y=0;Y<b.length;Y+=2)b[Y]/=j};e.hC.aiE=function(b,h,G){var H=[];
for(var B=0;B<4;B++)H.push(1-G+B/3*2*G);var j=[];for(var B=0;B<4;B++)j.push(1-h+B/3*2*h);var s=[0,0,0,0],q=[0,0,0,0];
for(var Y=0;Y<4;Y++)for(var B=0;B<4;B++){var Q=2*(4*Y+B),a=b[Q],l=b[Q+1];s[B]+=a/4;q[B]+=l/4}for(var Y=0;
Y<4;Y++)for(var B=0;B<4;B++){var U=H[B],Q=2*(4*Y+B),a=b[Q],l=b[Q+1],N=s[B],R=q[B];b[Q]=N+U*(a-N);b[Q+1]=R+U*(l-R)}var S=b.slice(0);
for(var Y=0;Y<4;Y++)for(var B=1;B<3;B++){var Q=2*(4*Y+B),a=b[Q],l=b[Q+1],g=Q+(B==1?-2:2),i=b[g],y=b[g+1];
b[Q]=a-i;b[Q+1]=l-y}var o=b[0],v=b[1],Z=b[8],W=b[9],d=b[16],$=b[17],I=b[24],k=b[25],_=b[6],D=b[7],A=b[14],F=b[15],K=b[22],V=b[23],r=b[30],c=b[31],x=_-o,X=D-v,M=A-Z,f=F-W,t=K-d,n=V-$,L=r-I,P=c-k;
for(var Y=0;Y<4;Y++){var z=2*Y*4,T=0,p=0,m=Y==1?.33:.66,O=1-m;if(Y==0){T=x;p=X}if(Y==1){T=O*x+m*-L;p=O*X+m*-P}if(Y==2){T=O*x+m*-L;
p=O*X+m*-P}if(Y==3){T=-L;p=-P}b[z]=b[z]+T/2;b[z+1]=b[z+1]+p/2;b[z+6]=b[z+6]-T/2;b[z+7]=b[z+7]-p/2}for(var Y=0;
Y<4;Y++)for(var B=1;B<3;B++){var Q=2*(4*Y+B),a=b[Q],l=b[Q+1],g=Q+(B==1?-2:2),i=b[g],y=b[g+1],U=2*Y/3;
b[Q]=i+U*a;b[Q+1]=y+U*l}for(var Y=1;Y<3;Y++)for(var B=1;B<3;B++){var Q=2*(4*Y+B),a=b[Q],l=b[Q+1],cb=Y==1?-8:-16,cX=Y==1?16:8,e$=b[Q+cb],fz=b[Q+cb+1],eC=b[Q+cX],hw=b[Q+cX+1],U=Y/3;
a=(1-U)*e$+U*eC;l=(1-U)*fz+U*hw;b[Q]=a;b[Q+1]=l}e.N.auw(S,b,b,h)};e.hC.a6J=function(b,h){return(4-b)*(1/3)};
e.hC.awZ=function(b,h){return(1-b)*(3-b)/(3*h)};e.x6={};e.x6.a3s=function(b,h,G,H,B,j,s,q,Q,a){for(var l=0;
l<q;l++)for(var U=0;U<s;U++){var N=3*(l*s+U),R=l+j,S=U+B,g=b[R*h+S];H[N]=g;H[N+1]=g;H[N+2]=g}};e.x6.HD=function(b,h,G,H,B,j,s,q,Q,a){var l=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],U=1/Q,N=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var S=0;S<q;S++){for(var g=0;g<s;g++){var i=3*(S*s+g),y=S+j,o=g+B;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var Y=0;Y<16;Y+=2){var v=o+N[Y],Z=y+N[Y+1],W=v-Q*~~(v*U),d=Z-Q*~~(Z*U),$=a[d*Q+W];R[$]+=b[Z*h+v];
R[$+3]++}var v=o,Z=y,W=v-Q*~~(v*U),d=Z-Q*~~(Z*U),$=a[d*Q+W];R[$]=b[y*h+o];R[$+3]=1;H[i]=R[0]*l[R[3]];
H[i+1]=R[1]*l[R[4]];H[i+2]=R[2]*l[R[5]]}}};e.x6.ahd=function(b,h,G){for(var Y=0;Y<G;Y+=2)b[h+Y]=b[h+Y+1];
h=h+G;for(var Y=0;Y<G;Y+=2)b[h+Y+1]=b[h+Y]};e.x6.adK=function(b,h,G,H){for(var Y=0;Y<H;Y+=2){var B=h+Y*G;
b[B]=b[B+G];b[B+G+1]=b[B+1]}};e.x6.axT=function(b,h,G,H,B,j){var s=H[B],q=H[B+1],Q=H[j],a=H[j+1],l=q+Q>>>1;
b[h]=b[h+3]=b[G]=b[G+3]=s;b[h+1]=l;b[h+4]=q;b[G+1]=Q;b[G+4]=l;b[h+2]=b[h+5]=b[G+2]=b[G+5]=a};e.x6.a4q=function(b,h,G,H,B,j){var s=j*3;
for(var Y=0;Y<j;Y+=2){var q=h+Y,Q=B+Y*3;e.x6.axT(H,Q,Q+s,b,q,q+G)}};e.x6.ard=function(b,h,G,H,B,j,s){var q=j*3;
for(var Y=0;Y<s;Y+=2){var Q=h+Y*G,a=B+Y*j*3;e.x6.axT(H,a,a+q,b,Q,Q+G)}};e.x6.akp=function(b,Y,h){var G=b[Y-h-h],H=b[Y-h],B=b[Y-2],j=b[Y-1],s=b[Y],q=b[Y+1],Q=b[Y+2],a=b[Y+h],l=b[Y+h+h],U=Math.abs(H-a),N=Math.abs(j-q),R=Math.abs(s-G)*2+U,S=Math.abs(s-Q)*2+N,g=Math.abs(s-B)*2+N,i=Math.abs(s-l)*2+U,y=Math.min(R,Math.min(S,Math.min(g,i)));
if(y==R)return H*3+a+s-G>>2;if(y==S)return q*3+j+s-Q>>2;if(y==g)return j*3+q+s-B>>2;return a*3+H+s-l>>2};
e.x6.iW=function(b,h,G,H,B){if(b<h&&h<G||b>h&&h>G)return~~(.5+H+(B-H)*(h-b)/(G-b));else return(H+B>>1)+(h+h-b-G>>2)};
e.x6.auy=function(b,h,Y,G){var H=h[Y-G-1],B=h[Y-G+1],j=h[Y],s=h[Y+G-1],q=h[Y+G+1],Q=b[Y-G-1],a=b[Y-G+1],l=b[Y],U=b[Y+G-1],N=b[Y+G+1],R=Math.abs(a-U)+Math.abs(b[Y-G-G+2]-l)+Math.abs(l-b[Y+G+G-2])+Math.abs(B-j)+Math.abs(j-s),S=Math.abs(Q-N)+Math.abs(b[Y-G-G-2]-l)+Math.abs(l-b[Y+G+G+2])+Math.abs(H-j)+Math.abs(j-q);
if(R<S)return e.x6.iW(B,j,s,a,U);else return e.x6.iW(H,j,q,Q,N)};e.x6.SV=function(b,h,G,H,B,j){b[h+0]=G[B];
b[h+1]=H[B];b[h+2]=e.x6.auy(G,H,B,j)};e.x6.EO=function(b,h,G,H,B,j){var s=H[B];b[h+0]=e.x6.iW(H[B-1],s,H[B+1],G[B-1],G[B+1]);
b[h+1]=s;b[h+2]=e.x6.iW(H[B-j],s,H[B+j],G[B-j],G[B+j])};e.x6.ZG=function(b,h,G,H,B,j){var s=H[B];b[h+0]=e.x6.iW(H[B-j],s,H[B+j],G[B-j],G[B+j]);
b[h+1]=s;b[h+2]=e.x6.iW(H[B-1],s,H[B+1],G[B-1],G[B+1])};e.x6.gW=function(b,h,G,H,B,j){b[h+0]=e.x6.auy(G,H,B,j);
b[h+1]=H[B];b[h+2]=G[B]};e.x6.aBs=function(b,h,G,H,B,j,s,q,Q){var a=Date.now(),l=2,U=h-2,N=2;if((B&1)==1){l++;
U--}var R=G-2;if((j&1)==1){N++;R--}if(Q==1||Q==3){l++;U--}var S=b.slice(0);e.x6.ahd(S,0,h);e.x6.adK(S,0,h,G);
e.x6.adK(S,h-2,h,G);e.x6.ahd(S,(G-2)*h,h);for(var g=N;g<R;g+=2)for(var i=l;i<U;i+=2){var Y=g*h+i,y=e.x6.akp(S,Y,h),o=e.x6.akp(S,Y+h+1,h);
S[Y]=Math.max(0,y);S[Y+h+1]=Math.max(0,o)}var v=s,Z=q;if(j+q==G){Z-=2;e.x6.a4q(b,(G-2)*h+B,h,H,(q-2)*s*3,s)}if(B+s==h){v-=2;
e.x6.ard(b,j*h+B+s-2,h,H,(s-2)*3,s,q)}if(Q==0)for(var g=0;g<Z;g+=2)for(var i=0;i<v;i+=2){var W=(g+j)*h+i+B,d=(g*s+i)*3;
e.x6.SV(H,d,b,S,W,h);e.x6.EO(H,d+3,b,S,W+1,h);W+=h;d+=3*s;e.x6.ZG(H,d,b,S,W,h);e.x6.gW(H,d+3,b,S,W+1,h)}else if(Q==1)for(var g=0;
g<Z;g+=2)for(var i=0;i<v;i+=2){var W=(g+j)*h+i+B,d=(g*s+i)*3;e.x6.EO(H,d,b,S,W,h);e.x6.SV(H,d+3,b,S,W+1,h);
W+=h;d+=3*s;e.x6.gW(H,d,b,S,W,h);e.x6.ZG(H,d+3,b,S,W+1,h)}else if(Q==2)for(var g=0;g<Z;g+=2)for(var i=0;
i<v;i+=2){var W=(g+j)*h+i+B,d=(g*s+i)*3;e.x6.gW(H,d,b,S,W,h);e.x6.ZG(H,d+3,b,S,W+1,h);W+=h;d+=3*s;e.x6.EO(H,d,b,S,W,h);
e.x6.SV(H,d+3,b,S,W+1,h)}else if(Q==3)for(var g=0;g<Z;g+=2)for(var i=0;i<v;i+=2){var W=(g+j)*h+i+B,d=(g*s+i)*3;
e.x6.ZG(H,d,b,S,W,h);e.x6.gW(H,d+3,b,S,W+1,h);W+=h;d+=3*s;e.x6.SV(H,d,b,S,W,h);e.x6.EO(H,d+3,b,S,W+1,h)}};
e.raw={};e.raw.afc=function(b){var h=Date.now(),G=b.width,H=b.height,B=0,j=0,s=G,q=H;if(b.t50829){var Q=b.t50829;
B=Q[1];j=Q[0];s=Q[3];q=Q[2]}if(b.t50720&&b.t50720[0]*1.2>G){if(b.t50719){var a=b.t50719;B+=a[0]>>1<<1;
j+=a[1]>>1<<1}if(b.t50720){var l=b.t50720;s=B+l[0];q=j+l[1]}}var U=s-B,N=q-j,R=e.raw.a48(b),S=b.t33422,g=b.t33421;
if(g){var l=g[0],i=S.slice(0);for(var y=0;y<l;y++)for(var o=0;o<l;o++){var v=(o+(B&1))%l,Z=(y+(j&1))%l;
i[y*l+o]=S[Z*l+v]}S=i}if(b.t277[0]==1&&S)e.raw.azX(R,G,H,b,S);e.raw.jJ(2,b,R,G,H);var W=new Float32Array(U*N*3);
if(b.t277[0]==1){if(g==null){e.x6.a3s(R,G,H,W,B,j,U,N)}else if(g.length!=2||g[0]!=2||g[1]!=2){console.log("Unknown CFA pattern size",g);
e.x6.HD(R,G,H,W,B,j,U,N,g[0],S)}else{var d=b.t33422.join(","),$=0;if(d=="0,1,1,2")$=0;else if(d=="1,0,2,1")$=1;
else if(d=="2,1,1,0")$=2;else if(d=="1,2,0,1")$=3;else throw"Unknown CFA pattern "+d;if((U&1)!=0||(N&1)!=0)throw"e";
e.x6.aBs(R,G,H,W,B,j,U,N,$)}}else{for(var y=0;y<N;y++)for(var o=0;o<U;o++){var I=((y+j)*G+o+B)*3,k=(y*U+o)*3;
W[k+0]=R[I+0];W[k+1]=R[I+1];W[k+2]=R[I+2]}}var _=W,D=W.length,A=e.raw.wW(b),F=1/A;for(var Y=0;Y<D;Y+=3){W[Y]=_[Y]*F;
W[Y+1]=_[Y+1]*F;W[Y+2]=_[Y+2]*F}e.raw.jJ(3,b,W,U,N);var K=b._h,V=U,r=N;if(K==1||K==9){}else{var c=e.raw.avp(K,U,N),k=0;
V=c[0];r=c[1];var x=W.slice(0);for(var y=0;y<r;y++)for(var o=0;o<V;o++){var X=c[2]*o+c[3]*y+c[4],M=c[5]*o+c[6]*y+c[7],I=(M*U+X)*3;
W[k]=x[I];W[k+1]=x[I+1];W[k+2]=x[I+2];k+=3}}return{Ur:W,dS:V,l_:r}};e.raw.avp=function(b,h,G){var H=h,B=G;
if(!1){}else if(b==2)return[h,G,-1,0,h-1,0,1,0];else if(b==3)return[h,G,-1,0,h-1,0,-1,G-1];else if(b==4)return[h,G,1,0,0,0,-1,G-1];
else if(b==5)return[G,h,0,1,0,1,0,0];else if(b==6)return[G,h,0,1,0,-1,0,G-1];else if(b==7)return[G,h,0,-1,h-1,-1,0,G-1];
else if(b==8)return[G,h,0,-1,h-1,1,0,0];else throw"unknown orientation "+b};e.raw.azX=function(b,h,G,H,B){var j=Date.now(),F=0,r=0;
if(e.raw.wW(H)>4e4){for(var Y=0;Y<b.length;Y++)b[Y]>>=1;var s=["t50714","t50715","t50712","t50717"];
for(var Y=0;Y<s.length;Y++){var q=H[s[Y]];if(q)for(var Q=0;Q<q.length;Q++)q[Q]>>>=1}console.log("remapping to lower bit depth")}var a=~~Math.sqrt(B.length),l=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],U=[];
for(var N=0;N<a;N++)for(var R=0;R<a;R++){var Y=N*a+R,S=B[Y],g=4,i=4,y=8,o=0,v=0;for(var Q=0;Q<18;Q+=2){var Z=(a+R+l[Q])%a,W=(a+N+l[Q+1])%a,d=B[W*a+Z];
if(d==S){}else if(g==4){g=d;o=Q}else if(i==4&&d!=g){i=d;v=Q;break}}if(i<g){var $=i;i=g;g=$;$=v;v=o;o=$}if(g<S){var $=g;
g=S;S=$;$=o;o=y;y=$}if(i<g){var $=i;i=g;g=$;$=v;v=o;o=$}U[Y*3]=l[y+1]*h+l[y];U[Y*3+1]=l[o+1]*h+l[o];
U[Y*3+2]=l[v+1]*h+l[v]}var I=~~(.996*e.raw.wW(H)),k=~~(.992*e.raw.wW(H)),_=H.t50728;if(_==null||_[0]==0)_=[1,1,1];
var D=[],A=[0,0,0];for(var N=1;N<G-1;N++)for(var R=1;R<h-1;R++){var Y=N*h+R,K=N%a*a+R%a,S=b[Y+U[K*3+0]],g=b[Y+U[K*3+1]],i=b[Y+U[K*3+2]],V=Math.max(S,g,i);
if(V>I)D.push(Y);else if(V>k){A[0]+=S;A[1]+=g;A[2]+=i;F++}}if(D.length==0)return;if(F/(h*G)<1e-5){console.log("not enough semi-saturated pixels",F);
A=_}if(A[1]<A[r])r=1;if(A[2]<A[r])r=2;var c=[A[0]/A[r],A[1]/A[r],A[2]/A[r]],x=b.slice(0);for(var X=0;
X<D.length;X++){var Y=D[X],N=~~(Y/h),R=Y-N*h,K=N%a*a+R%a,M=Math.min(65535,~~(b[Y+U[K*3+r]]*c[B[K]]));
if(M>x[Y])x[Y]=M}b.set(x)};e.raw.sa=function(b,h,G,H){var B=Math.round(b.length/3),j=fp.Hi(H[0],H[1]),s=e.raw.ao1(G,j),q=e.G4.multiply(e.G4.hu,s),Q=Math.pow(2,G.t50730?G.t50730[0]:0);
q=e.G4.multiply(q,e.G4.Cu(Q,Q,Q));var a=e.raw.sa.auB;if(a==null){a=e.raw.sa.auB=new Float64Array(8e3);
for(var Y=0;Y<8e3;Y++)a[Y]=e.Ea(Y*(1/1e3))}for(var Y=0;Y<B;Y++){var l=Y<<2,U=l-Y,N=b[U],R=b[U+1],S=b[U+2],g=q[0]*N+q[1]*R+q[2]*S,i=q[4]*N+q[5]*R+q[6]*S,y=q[8]*N+q[9]*R+q[10]*S;
if(g<0)g=0;if(i<0)i=0;if(y<0)y=0;h[U]=a[~~(g*1e3)];h[U+1]=a[~~(i*1e3)];h[U+2]=a[~~(y*1e3)]}};e.raw.a48=function(b){var h=b.width,G=b.height,H=h*G*b.t277,B=new Uint16Array(H),j=null,s=0;
e.raw.agU(b,B);e.raw.jJ(1,b,B,h,G);if(b.t50712){j=b.t50712;s=j.length-1;if(j[s]>65535)throw"too big values"}var q=e.raw.a2r(b),Q=e.raw.aAi(b);
if(j==null)for(var Y=0;Y<H;Y++)B[Y]=Math.max(0,B[Y]-q);else for(var Y=0;Y<H;Y++){var a=B[Y];if(a>s)a=s;
a=j[a];B[Y]=Math.max(0,a-q)}return B};e.raw.a2r=function(b){var h=b.t50714,G=h?h[0]:0,H=b.t50715,B=b.t50716;
if(H)G+=H[0][0]/H[0][1];if(B)G+=B[0][0]/B[0][1];return Math.round(G)};e.raw.aAi=function(b){var h=null,G=0;
if(b.t50712){h=b.t50712;G=h.length-1}var H=b.t50717?b.t50717[0]:(1<<b.t258[0])-1;if(h)H=Math.min(H,h[G]);
return H};e.raw.wW=function(b){var h=e.raw.a2r(b),G=e.raw.aAi(b);return G-h};e.raw.agU=function(b,h){var G=h.length,H=b.data,B=b.t258[0];
if(B!=16&&B!=14&&B!=12&&B!=10&&B!=8)throw"Unsupported Bits Per Sample:"+B;B=Math.round(H.length*8/G);
if(B==16&&b.isLE){e.MI(H,h);return}for(var Y=0;Y<G;Y+=2){var j=0,s=0,q=0;if(B==16){j=Y<<1;s=H[j]<<8|H[j+1];
q=H[j+2]<<8|H[j+3]}else if(B==14){var Q=Y*14,a=Q>>>3,l=H[a]<<24|H[a+1]<<16|H[a+2]<<8|H[a+3];if((Q&7)==0){s=l>>>18;
q=l>>>4&16383}else{s=l>>>14&16383;q=l&16383}}else if(B==12){j=Y+(Y>>>1);s=H[j]<<4|H[j+1]>>4;q=(H[j+1]&15)<<8|H[j+2]}else if(B==10){var Q=Y*10,a=Q>>>3;
if((Q&7)==0){s=(H[a]<<2|H[a+1]>>6)&1023;q=(H[a+1]<<4|H[a+2]>>4)&1023}else{s=(H[a]<<6|H[a+1]>>2)&1023;
q=(H[a+1]<<8|H[a+2]>>0)&1023}}else if(B==8){j=Y;s=H[j];q=H[j+1]}h[Y]=s;h[Y+1]=q}};e.raw.a5n=function(b,h,G,H,B,j,s){var q=b-.499999,Q=h-.499999,a=~~q,l=~~Q,U=q-a,N=Q-l,R=(1-N)*(1-U),S=(1-N)*U,g=N*(1-U),i=N*U,y=(l*H+a)*3,o=((l+1)*H+a)*3,v=R*G[y]+S*G[y+3]+g*G[o]+i*G[o+3],Z=R*G[y+1]+S*G[y+4]+g*G[o+1]+i*G[o+4],W=R*G[y+2]+S*G[y+5]+g*G[o+2]+i*G[o+5];
j[s]=v;j[s+1]=Z;j[s+2]=W};e.raw.jJ=function(b,h,G,H,B){var j=h["t"+[51008,51009,51022][b-1]],l=0;if(j==null)return;
var s=H*B,q=J.C,Q=J.Oj,a=new Uint8Array(j),fR=J.C(a,l);l+=4;for(var U=0;U<fR;U++){var N=q(a,l);l+=4;
var R=q(a,l);l+=4;var S=q(a,l);l+=4;var g=q(a,l);l+=4;if(!1){}else if(N==1&&b==3){var i=l,y=q(a,i);i+=4;
var o=Q(a,i);i+=8;var v=Q(a,i);i+=8;var Z=Q(a,i);i+=8;var W=Q(a,i);i+=8;var d=Q(a,i);i+=8;var $=Q(a,i);
i+=8;i+=(y-1)*8*6;var I=Q(a,i);i+=8;var k=Q(a,i);i+=8;var _=I*H,D=k*B,A=Math.max(_,H-_),F=Math.max(D,B-D),K=Math.sqrt(A*A+F*F),V=1/K,r=G.slice(0);
for(var c=0;c<B;c++)for(var x=0;x<H;x++){var X=(x+.5-_)*V,M=(c+.5-D)*V,f=X*X+M*M,t=o+v*f+Z*(f*f)+W*(f*f)*f,n=d*(2*X*M)+$*(f+2*X*X),L=$*(2*X*M)+d*(f+2*M*M),P=Math.min(_+K*(t*X+n),H-1),z=Math.min(D+K*(t*M+L),B-1),T=(c*H+x)*3;
e.raw.a5n(P,z,r,H,B,G,T)}}else if(N==3&&b==3){var i=l,p=Q(a,i);i+=8;var m=Q(a,i);i+=8;var O=Q(a,i);i+=8;
var cb=Q(a,i);i+=8;var cX=Q(a,i);i+=8;var I=Q(a,i);i+=8;var k=Q(a,i);i+=8;var _=I*H,D=k*B,A=Math.max(_,H-_),F=Math.max(D,B-D),K=Math.sqrt(A*A+F*F),V=1/K;
for(var c=0;c<B;c++)for(var x=0;x<H;x++){var X=(x+.5-_)*V,M=(c+.5-D)*V,f=X*X+M*M,e$=1+(p+(m+(O+(cb+cX*f)*f)*f)*f)*f,T=(c*H+x)*3;
G[T]=e$*G[T];G[T+1]=e$*G[T+1];G[T+2]=e$*G[T+2]}}else if(N==4&&b==1){var i=l,fz=q(a,i);i+=4;var eC=q(a,i);
i+=4;for(var Y=0;Y<s;Y++)if(G[Y]==fz)G[Y]=G[Y-2]+G[Y+2]>>1}else if(N==5&&b==1){var i=l,hw=q(a,i);i+=4;
var az=q(a,i);i+=4;var av=q(a,i);i+=4;for(var Y=0;Y<az;Y++){var ia=q(a,i);i+=4;var iJ=q(a,i);i+=4;var Y=ia*H+iJ;
G[Y]=G[Y-2]+G[Y+2]>>1}}else if(N==7&&b==1){var i=l,cx=J.b0(a,i);i+=16;var hP=q(a,i);i+=4;var iS=q(a,i);
i+=4;var e4=q(a,i),cc=q(a,i+4);i+=8;var aO=q(a,i);i+=4;var bZ=new Uint16Array(aO);for(var Y=0;Y<aO;Y++)bZ[Y]=J.JQ(a,i+2*Y);
var d_=cx.j,ee=cx._;for(var c=0;c<ee;c+=e4)for(var x=0;x<d_;x+=cc){var Y=(cx.y+c)*H+(cx.x+x);G[Y]=bZ[G[Y]]}}else if(N==8&&b==2){var i=l,cx=J.b0(a,i);
i+=16;var hP=q(a,i);i+=4;var iS=q(a,i);i+=4;var e4=q(a,i),cc=q(a,i+4);i+=8;var b4=q(a,i);i+=4;var hA=[];
for(var Y=0;Y<=b4;Y++)hA[Y]=J.Oj(a,i+Y*8);var f$=cx.x,e_=cx.x+cx.j,fJ=cx.y,dV=cx.y+cx._,ix=h.t50717[0],b9=1/ix;
for(var hV=0;hV<iS;hV++)for(var c=fJ;c<dV;c+=e4){var T=3*c*H+hP+hV;for(var x=f$;x<e_;x+=cc){var Y=T+3*x,gq=G[Y]*b9,eH=hA[b4];
for(var eP=b4;eP>0;eP--)eH=eH*gq+hA[eP-1];G[Y]=Math.max(0,Math.min(65535,~~(eH*ix)))}}}else if(N==9&&b==2){var i=l,cx=J.b0(a,i),fa=!0;
i+=16;var hP=q(a,i);i+=4;var iS=q(a,i);i+=4;var e4=q(a,i),cc=q(a,i+4);i+=8;var c2=q(a,i),bL=q(a,i+4);
i+=8;var dg=Q(a,i),cN=Q(a,i+8);i+=16;var dH=Q(a,i),kM=Q(a,i+8);i+=16;var a_=q(a,i);i+=4;if(a_!=1)throw"more than one map plane";
var g4=c2*bL,iY=new Float32Array(g4);for(var eP=0;eP<g4;eP++)iY[eP]=J.N$(a,i+eP*4);for(var eP=0;eP<g4;
eP++)if(iY[eP]!=1)fa=!1;if(!fa){var d_=cx.j,ee=cx._,ka=.9999*(bL-1)/d_,b1=.9999*(c2-1)/ee;for(var c=0;
c<ee;c+=e4)for(var x=0;x<d_;x+=cc){var Y=(cx.y+c)*H+(cx.x+x),bg=x*ka,cl=c*b1,c0=Math.floor(bg),c_=Math.floor(cl),cA=bg-c0,aw=cl-c_,T=c_*bL+c0,kq=iY[T]*(1-cA)+iY[T+1]*cA,f4=iY[T+bL]*(1-cA)+iY[T+1+bL]*cA,gF=kq*(1-aw)+f4*aw;
G[Y]=Math.max(0,Math.min(65535,~~(G[Y]*gF+.5)))}}}else console.log("Unknown opcode "+N+" in OpcodeList"+b+". Length: "+g);
l+=g}};e.raw.ao1=function(b,h){var G=fp.pX(h),H=e.raw.a2q(b,h),B=e.G4.Q6(H),j=fp.aC4(G,fp.pX(fp.ayr)),s=e.G4.multiply(j,B);
return s};e.raw.ah4=function(b){var h=b.t50728,B=1;if(h==null||h[0]==0)h=[1,1,1];var G=h.slice(0);G.push(0);
var H={x:.34567,y:.3585};do{var j=e.G4.Q6(e.raw.a2q(b,H)),s=e.G4.m9(j,G),q=fp.afC(s);B=Math.abs(H.x-q.x)+Math.abs(H.y-q.y);
H=q}while(B>1e-7);return H};e.raw.a2q=function(b,h){var G=fp.ab_(h),H=e.raw.anW,B=b.t50778?b.t50778[0]:0,j=b.t50779?b.t50779[0]:0,s=b.t50723,q=b.t50724;
if(s&&s.length==3)s=null;if(q&&q.length==3)q=null;var Q=H(b.t50721,b.t50722,B,j,G.YM),a=H(s,q,B,j,G.YM);
Q=Q||[1,0,0,0,1,0,0,0,1];a=a||[1,0,0,0,1,0,0,0,1];var l=b.t50727?[b.t50727[0],0,0,0,b.t50727[1],0,0,0,b.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return e.G4.multiply(e.G4.kJ(l),e.G4.multiply(e.G4.kJ(a),e.G4.kJ(Q)))};e.raw.anW=function(b,h,G,H,B){if(!b&&!h){return null}else if(b&&!h){return b}else if(B<G){return b}else if(B>H){return h}else{var j=(1/B-1/H)/(1/G-1/H),s=1-j,q=[];
for(var Y=0;Y<9;Y++)q[Y]=b[Y]*j+h[Y]*s;return q}};var fp={};fp.ayr={x:.34567,y:.3585};fp.awD=[{$:0,jn:.18006,ZV:.26352,$G:-.24341},{$:10,jn:.18066,ZV:.26589,$G:-.25479},{$:20,jn:.18133,ZV:.26846,$G:-.26876},{$:30,jn:.18208,ZV:.27119,$G:-.28539},{$:40,jn:.18293,ZV:.27407,$G:-.3047},{$:50,jn:.18388,ZV:.27709,$G:-.32675},{$:60,jn:.18494,ZV:.28021,$G:-.35156},{$:70,jn:.18611,ZV:.28342,$G:-.37915},{$:80,jn:.1874,ZV:.28668,$G:-.40955},{$:90,jn:.1888,ZV:.28997,$G:-.44278},{$:100,jn:.19032,ZV:.29326,$G:-.47888},{$:125,jn:.19462,ZV:.30141,$G:-.58204},{$:150,jn:.19962,ZV:.30921,$G:-.70471},{$:175,jn:.20525,ZV:.31647,$G:-.84901},{$:200,jn:.21142,ZV:.32312,$G:-1.0182},{$:225,jn:.21807,ZV:.32909,$G:-1.2168},{$:250,jn:.22511,ZV:.33439,$G:-1.4512},{$:275,jn:.23247,ZV:.33904,$G:-1.7298},{$:300,jn:.2401,ZV:.34308,$G:-2.0637},{$:325,jn:.24792,ZV:.34655,$G:-2.4681},{$:350,jn:.25591,ZV:.34951,$G:-2.9641},{$:375,jn:.264,ZV:.352,$G:-3.5814},{$:400,jn:.27218,ZV:.35407,$G:-4.3633},{$:425,jn:.28039,ZV:.35577,$G:-5.3762},{$:450,jn:.28863,ZV:.35714,$G:-6.7262},{$:475,jn:.29685,ZV:.35823,$G:-8.5955},{$:500,jn:.30505,ZV:.35907,$G:-11.324},{$:525,jn:.3132,ZV:.35968,$G:-15.628},{$:550,jn:.32129,ZV:.36011,$G:-23.325},{$:575,jn:.32931,ZV:.36038,$G:-40.77},{$:600,jn:.33724,ZV:.36051,$G:-116.45}];
fp.ab_=function(b){var h=fp.awD,G=2*b.x/(1.5-b.x+6*b.y),H=3*b.y/(1.5-b.x+6*b.y),B=0,j=0,s=0;for(;s<31;
s++){B=H-h[s].ZV-h[s].$G*(G-h[s].jn);if(s>0&&B<0){break}j=B}while(s>=h.length)s--;B/=Math.sqrt(1+h[s].$G*h[s].$G);
j/=Math.sqrt(1+h[s-1].$G*h[s-1].$G);var q=j/(j-B),Q=1e6/((h[s].$-h[s-1].$)*q+h[s-1].$),a=G-((h[s].jn-h[s-1].jn)*q+h[s-1].jn),l=H-((h[s].ZV-h[s-1].ZV)*q+h[s-1].ZV),U=Math.sqrt(1+h[s].$G*h[s].$G),N=1/U,R=h[s].$G/U,S=Math.sqrt(1+h[s-1].$G*h[s-1].$G),g=1/S,i=h[s-1].$G/S,y=(N-g)*q+g,o=(R-i)*q+i,v=Math.sqrt(y*y+o*o);
y/=v;o/=v;var Z=(a*y+l*o)*-3e3;return{YM:Q,D2:Z}};fp.Hi=function(b,h){var G=fp.awD,H=1e6/b,B=1;for(;
B<31;B++){if(H<G[B].$){break}}var j=(G[B].$-H)/(G[B].$-G[B-1].$),s=(G[B-1].jn-G[B].jn)*j+G[B].jn,q=(G[B-1].ZV-G[B].ZV)*j+G[B].ZV,Q=Math.sqrt(1+G[B].$G*G[B].$G),a=1/Q,l=G[B].$G/Q,U=Math.sqrt(1+G[B-1].$G*G[B-1].$G),N=1/U,R=G[B-1].$G/U,S=(N-a)*j+a,g=(R-l)*j+l,i=Math.sqrt(S*S+g*g);
S/=i;g/=i;s+=S*h/-3e3;q+=g*h/-3e3;return{x:1.5*s/(s-4*q+2),y:q/(s-4*q+2)}};fp.afC=function(b){var h=b[0]+b[1]+b[2];
return{x:b[0]/h,y:b[1]/h}};fp.pX=function(b){return{x:b.x/b.y,y:1,xM:(1-b.x-b.y)/b.y}};fp.aC4=function(b,h){var G=e.G4.kJ([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),H=[b.x,b.y,b.xM,0],B=[h.x,h.y,h.xM,0];
H=e.G4.m9(G,H);B=e.G4.m9(G,B);var j=B[0]/H[0],s=B[1]/H[1],q=B[2]/H[2],Q=e.G4.kJ([j,0,0,0,s,0,0,0,q]),a=e.G4.Q6(G);
return e.G4.multiply(e.G4.multiply(a,Q),G)};e.raw.YO={};e.raw.Xm=function(b){b*=8;var h=[8,10,12,14,16];
for(var G in CAMS){var H=CAMS[G];if(H.length==4)continue;var B=H[4],j=H[5];for(var Y=0;Y<h.length;Y++)if(B*j*h[Y]==b)return[G,h[Y]]}var s=[[4e3,3e3]];
for(var Y=0;Y<s.length;Y++){var H=s[Y],B=H[0],j=H[1];for(var Y=0;Y<h.length;Y++)if(B*j*h[Y]==b)return[H,h[Y]]}return null};
e.raw.abu=function(b){var b=new Uint8Array(b);for(var Y=0;Y<b.length;Y+=2){var h=b[Y];b[Y]=b[Y+1];b[Y+1]=h}var G=e.raw.Xm(b.length),H=CAMS[G[0]];
if(H==null)H=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,G[0][0],G[0][1]];var B=H[4],j=H[5],s=Math.max(H[2],116),q={data:b,_h:1,width:B,height:j,t256:[B],t257:[j],t258:[G[1]],t277:[1],t33421:[2,2],t33422:e.raw.Kj[H[1]],t50706:[1,2,0,0],t50714:[s,s,s,s],t50717:[H[3]],t50721:H[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Y=0;Y<9;Y++)q.t50721[Y]/=1e4;return q};e.raw.aAh=function(b){if(b==null||b.length==0||typeof b[0]=="number")return b;
var h=[];for(var Y=0;Y<b.length;Y++)h[Y]=b[Y][1]==0?0:b[Y][0]/b[Y][1];return h};e.raw.Kj=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
e.raw.normalize=function(b,h){if(b.t50706!=null||b.t271[0].startsWith("Hasselblad")){var G=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Y=0;Y<G.length;Y++)if(b["t"+G[Y]]!=null)b["t"+G[Y]]=e.raw.aAh(b["t"+G[Y]]);if(b.t271&&b.t271[0].startsWith("Hasselblad")){b.t50706=[1,2,0,0];
b.t33422=e.raw.Kj[1];b.t50723=[1,0,0,0,1,0,0,0,1];b.t50778=[17];if(!b.isLE)for(var Y=0;Y<b.data.length;
Y+=2){var H=b.data[Y];b.data[Y]=b.data[Y+1];b.data[Y+1]=H}}if(b.t272&&b.t272[0]=="HERO10 Black"){b.t50728=[.469725,1,.739884];
if(!b.t305[0].startsWith("Adobe")){var B=new Uint16Array(b.data.buffer);for(var Y=0;Y<B.length;Y++)B[Y]>>>=2}}return}var j=b.t258[0],s=b.exifIFD,h=new Uint8Array(h);
b.t50706=[1,2,0,0];var q=b.t271[0].trim(),Q=b.t272[0].trim();if(b.t50708==null)b.t50708=[q+" "+Q];var a=(q+":"+Q).toLowerCase(),l=CAMS[a];
if(a=="panasonic:dmc-lx2")l[3]=1<<16;if(l==null){alert("Unknown camera:"+a);if(a.startsWith("canon"))l=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(l!=null){var U=l[2];
b.t50714=[U,U,U,U];if(b.t272=="Canon EOS REBEL T3")l[3]=13584;b.t50717=[l[3]];b.t50721=l[0].slice(0);
for(var Y=0;Y<9;Y++)b.t50721[Y]=b.t50721[Y]*(1/1e4)}b.t50723=[1,0,0,0,1,0,0,0,1];if(b.t50728==null)b.t50728=[.35,1,.6];
b.t50778=[17];if(q.startsWith("OLYMPUS")||q.startsWith("OM Digital Solutions")){b.t33422=[2,1,1,0];var N=s.t41730,i;
if(N)b.t33422=[N[4],N[5],N[6],N[7]];var R=b.t50341;if(R==null)R=s.t36864;var S=e.raw.a2_(R.buffer,b);
b.data=new Uint8Array(S.buffer);if((b.height&1)==1)b.t50829=[0,0,b.height-1,b.width];var g=s.makerNote,y=g.t8256;
if(y)i=y.t256;else i=g.t12288.t256;b.t50728=[256/i[0],1,256/i[1]]}else if(b.t271[0].startsWith("SONY")){var o=UTIF["_bin"+(b.isLE?"LE":"BE")],v=b.t28688,_;
if(JSON.stringify(v)!="[8000,10400,12900,14100]")console.log(v);if(v&&v.join("")!="0000"){var Z=[0,0,0,0,0,4095],W=new Uint16Array(16385);
for(var Y=0;Y<4;Y++){var d=v[Y]>>>2;Z[Y+1]=d;if(d>4095)throw"e"}for(var Y=0;Y<16385;Y++)W[Y]=Y;for(var Y=0;
Y<5;Y++)for(var $=Z[Y]+1;$<=Z[Y+1];$++)W[$]=W[$-1]+(1<<Y);var I=h.length*8<b.width*b.height*j;if(I)b.t50712=W}else console.log("no curve");
var k=b.dngPrvt;if(k){var D=k.t29184[0],A=k.t29185[0],F=(b.isLE?J.FZ:J.C)(k.t29217,0),K=new Uint32Array(h.slice(D,D+(A&4294967292)).buffer),V=new Uint32Array(A>>>2);
e.raw.amb(K,V,A>>>2,F);var r=new Uint8Array(D+A);r.set(new Uint8Array(V.buffer),D);var c=[];UTIF._readIFD(o,r,D,c,0,!1);
var x=c.pop(),X=x.t29458;b.t50728=[X[1]/X[0],1,X[1]/X[3]];b.t50730=[.5];var M=x.t29891;b.t50829=[M[1],M[0],M[3],M[2]]}else if(s.makerNote&&s.makerNote.t8208){var _=s.makerNote,f=_.t8208,t=f.length,n=0,L=new Uint8Array(256);
for(var Y=249;Y<256;Y++)L[Y]=Y;for(var Y=0;Y<249;Y++)L[Y*Y*Y%249]=Y;for(var Y=0;Y<t;Y++)f[Y]=L[f[Y]];
if(t==6604)n=612;else throw"e";var X=[];for(var Y=0;Y<3;Y++)X.push(J.eR(f,n+Y*2));console.log(X);b.t50728=[X[1]/X[0],1,X[1]/X[2]]}else console.log("no white balance");
if(b.width*b.height*1.5==b.t279[0]){U=U>>>2;b.t50714=[U,U,U,U];b.t50717=[l[3]>>>2]}}else if(b.t271[0].startsWith("Canon")){var h=b.data,P=h.slice(0),z=b.t50752,T=[],m=0;
if(z==null||z[0]==0&&z[1]==0)T.push(b.width);else{for(var Y=0;Y<z[0];Y++)T.push(z[1]);T.push(z[2])}var p=b.width*2,O=b.t50885&&b.t50885[0]==4;
if(!O)for(var cb=0;cb<T.length;cb++){var cX=T[cb],e$=2*m,fz=2*cX;for(var eC=0;eC<b.height;eC+=2){var hw=eC*p+e$,az=b.height*e$+eC*fz;
for(var Y=0;Y<fz;Y++){h[hw+Y]=P[az+Y];h[hw+Y+p]=P[az+Y+fz]}}m+=cX}else{var av=new Uint16Array(P.buffer),ia=new Uint16Array(h.buffer);
function iJ(hP,iS){ia[iS*3+0]=av[hP*3+0];ia[iS*3+1]=av[hP*3+1];ia[iS*3+2]=av[hP*3+2]}var cx=(z[0]*z[1]+z[2])/b.width;
for(var cb=0;cb<T.length;cb++){var cX=Math.round(T[cb]/cx);for(var eC=0;eC<b.height;eC++){var hP=b.height*m+(cx==3?(eC>>>3)*8+[0,4,1,5,2,6,3,7][eC&7]:eC)*cX,iS=eC*b.width+m;
for(var e4=0;e4<cX;e4++)iJ(hP+e4,iS+e4)}m+=cX}var cc=new Uint16Array(h.buffer),aO=new Uint16Array(1),bZ=new Int16Array(aO.buffer);
for(var Y=0;Y<cc.length;Y+=3){var d_=cc[Y],ee=cc[Y+1],b4=cc[Y+2];aO[0]=ee<<2;ee=bZ[0]>>2;aO[0]=b4<<2;
b4=bZ[0]>>2;cc[Y+0]=Math.max(0,b4+d_);cc[Y+1]=Math.max(0,(d_<<12)-ee*778-(b4<<11)>>12);cc[Y+2]=Math.max(0,ee+d_)}}var _=s.makerNote,hP=_.t224;
if(hP){var D=b.t50719=[hP[5],hP[6]],hA=b.t50720=[hP[7]+1-hP[5],hP[8]+1-hP[6]],f$=_.t154;if(f$){D[0]+=f$[3];
D[1]+=f$[4];hA[0]=f$[1];hA[1]=f$[2]}}if(_.t16385){var e_=_.t16385,fJ=e_.length,dV=0;if(e_ instanceof Array)e_=new Uint16Array(e_);
if(fJ==582)dV=1;else if(fJ==653)dV=2;else if(fJ==796)dV=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(fJ)!=-1)dV=4;
else if([1816,1820,1824,5120].indexOf(fJ)!=-1){dV=5;e_=new Int16Array(e_.slice(0).buffer)}else if(fJ==1273||fJ==1275)dV=6;
else if([1312,1313,1316,1506].indexOf(fJ)!=-1)dV=7;else if([1560,1592,1353,1602].indexOf(fJ)!=-1)dV=8;
else if(fJ==3656)dV=9;else if(fJ==3778||fJ==3973)dV=10;else throw"e"+fJ;var ix=e_[0],b9=[null,[25,166],[34,286],[63,196],[63],[71,ix==-4?333:ix==16||ix==17||ix==18||ix==19?329:264],[63,251],[63,ix==10?504:728],[63,326],[85,343],[105,363]],n=b9[dV][0],hV=b9[dV][1];
if(dV==4){if(e_[0]==2)hV=231;else if(e_[0]==3)hV=231;else if(e_[0]==4)hV=231;else if(e_[0]==5)hV=231;
else if(e_[0]==6)hV=231;else if(e_[0]==7)hV=231;else if(e_[0]==9)hV=231;else throw"e"}b.t50728=[e_[n+1]/e_[n],1,e_[n+1]/e_[n+3]];
var U=hV==null?1024:e_[hV];if(dV!=4)b.t50714=[U,U,U,U]}else{b.t50728=[.4,1,.6]}if(O){b.t277=[3];b.t50728=[1,1,1];
b.t50714=[0,0,0,0]}}else if(b.t271[0].startsWith("NIKON")){var _=s.makerNote,gq=b.isLE?J.eR:J.KV,cN=0,dH=0,fa,c_=0;
if(_.t61){var eH=_.t61,eP=[];for(var Y=0;Y<4;Y++)eP[Y]=eH[Y]/Math.pow(2,14-j);b.t50714=eP}if(_.t3585){var c2=_.t3585,Y=0,D=22;
while(D<c2.length&&Y!=-4){var bL=J.FZ(c2,D);D+=4;D+=14;Y=J.FZ(c2,D)-4;D+=4;if(bL==1990472198){if(c2[D]!=0)throw"Flip"}if(bL==1990472199){var dg=J.eR(c2,D);
if(dg==0)b._h=1;else if(dg==270)b._h=8;else throw"e "+dg}D+=Y}}if(_.t183){var kM=_.t183,hA=[];for(var Y=0;
Y<6;Y++)hA.push(gq(kM,16+Y*2));cN=hA[0];dH=hA[1]}if(_.t3614){var a_=_.t3614;cN=J.FZ(a_,8);dH=J.FZ(a_,12)}if(cN!=0&&Math.max(cN,dH)<Math.max(b.width,b.height)){if(cN<dH){var H=cN;
cN=dH;dH=H}var e4=b.width-cN>>>1,eC=b.height-dH>>>1;b.t50829=[eC,e4,eC+dH,e4+cN]}else b.t50829=[8,8,b.height-8,b.width-56];
var g4=_.t69;if(g4){var iY=g4[1];if((iY&1)==1)iY++;b.t50829=[iY,g4[0],iY+g4[3],g4[0]+g4[2]]}if(_.t12){var ka=e.raw.aAh(_.t12);
fa=[1/ka[0],1,1/ka[1]]}else if(_.t151){var b1=e.raw.apU(_,151),bg=b1[0],ky=b1[1],cl=b1[2];if(bg=="0100"&&ky>=80)throw"e";
else if(bg=="0102"){var c0=[];for(var Y=0;Y<4;Y++)c0.push(gq(cl,6+Y*2));fa=[c0[1]/c0[0],1,c0[1]/c0[3]]}else if(bg=="0103"&&ky>=26){var c0=[];
for(var Y=0;Y<4;Y++)c0.push(gq(cl,16+Y*2));fa=[c0[1]/c0[0],1,c0[3]/c0[2]]}else if(bg=="0204"&&ky>=564||bg=="0205"&&ky>=284){var D=bg=="0204"?6:14,c0=[];
for(var Y=0;Y<4;Y++)c0.push(gq(cl,D+Y*2));fa=[c0[1]/c0[0],1,c0[1]/c0[3]]}else throw"e"}else console.log("no white balance info");
if(Q=="NIKON D1")fa=[1,1,1];if(fa)b.t50728=fa;var kL=_.t150?_.t150:_.t140;if(kL){var cA=kL[c_++],aw=kL[c_++],gF;
if(cA==73||aw==88)c_+=2110;c_+=8;var kq=1<<j&32767,f4=gq(kL,c_);c_+=2;var W=[];if(f4>1)gF=Math.floor(kq/(f4-1));
if(cA==68&&aw==32&&gF>0){for(Y=0;Y<f4;Y++){W[Y*gF]=gq(kL,c_);c_+=2}for(Y=0;Y<kq;Y++)W[Y]=Math.floor((W[Y-Y%gF]*(gF-Y%gF)+W[Y-Y%gF+gF]*(Y%gF))/gF)}else if(cA!=70&&f4<=16385){kq=f4;
for(var Y=0;Y<f4;Y++)W[Y]=gq(kL,c_+2*Y);c_+=2*f4}var Q=b.t272[0];if(W.length!=0)b.t50712=new Uint16Array(W);
if(b.t258[0]==14&&b.t50717&&b.t50717[0]<1e4){console.log("fixing white");b.t50717[0]*=4}}}else if(q.startsWith("FujiFilm")){}else if(q.startsWith("Panasonic")){if(b.t277==null)b.t277=[1]}else alert("Unknown camera "+q)};
e.raw.amb=function(b,h,G,H){if(0==G)return;var B=new Uint32Array(128),j=new Uint8Array(B.buffer),s=127,q=0,Q=0;
for(var s=0;s<4;s++)B[s]=H=(H*15625>>>0)*3125+1>>>0;B[3]=B[3]<<1|(B[0]^B[2])>>>31;for(var s=4;s<127;
s++)B[s]=(B[s-4]^B[s-2])<<1|(B[s-3]^B[s-1])>>>31;for(var s=0;s<127;s++)B[s]=J.C(j,s*4);for(;G>0;G--){B[s&127]=B[s+1&127]^B[s+1+64&127];
var a=B[s&127],l=b[q];l^=a;h[Q]=l;q++;Q++;s++}};e.raw.a5Z=function(b,h){var G=J.lA(h,0,4),H=e.raw.ape;
for(var Y=0;Y<H.length;Y++)if(H[Y][0]==b&&G.startsWith(H[Y][1])&&(H[Y][2]==0||H[Y][2]==h.length))return H[Y];
throw"e"};e.raw.aaR=function(b){if(b.t29==null)return[];var h=e.raw.aAD,G=e.raw.alq,H=b.t29[0],B=0,s=0;
for(var Y=0;Y<H.length;Y++){var j=H.charCodeAt(Y);B=B*10+(48<=j&&j<=57?j-48:j%10)}var ky=b.t167[0];for(var Y=0;
Y<4;Y++)s^=ky>>>(Y<<3)&255;var q=h[B&255],Q=G[s&255];return[q,Q,96]};e.raw.apU=function(b,h){var G=b["t"+h],ky=G.length,H=e.raw.a5Z(h,G),B=J.lA(G,0,4),j,s=H[4];
if(s==null)j=G.slice(4);else{j=new Uint8Array(ky-s);var q=e.raw.aaR(b),Q=q[0],a=q[1],l=q[2];for(var Y=0;
Y<j.length;Y++){a=a+Q*l++&255;j[Y]=G[s++]^a}}return[B,ky,j]};e.raw.a2_=function(b,h){var G=h.t271[0],H=h.t272[0],B=h.t256[0],j=h.t257[0],s=h.t258[0],q=h.t273[0],Q=q,a=new Uint8Array(b),l,U=B-4,N=j,R=a.length-q,i=0,y=0;
function S(){var d=new Uint16Array(4096),g1=0;d[g1]=3084;for(var Y=12;Y--;)for(var $=0;$<2048>>Y;$++)d[++g1]=Y+1<<8|Y;
return d}function g(){return a[Q++]}function o(d,$){var I;if(d>25)return 0;if(d==0||y<0)return 0;if(d<0){i=0;
y=0;return 0}while(y<d){I=g();if(I==null)break;i=(i<<8)+(255&I);y+=8}I=y==0?0:i<<32-y>>>32-d;if($){y-=$[I]>>8;
I=255&$[I]}else y-=d;return I}function v(){var d=S();Q+=7;o(-1);for(var $=0;$<N;$++){var I=[new Int32Array(3),new Int32Array(3)];
for(var k=0;k<B;k++){var _=I[k&1],Y=2*(_[2]<3),D;for(D=2+Y;(65535&_[0])>>D+Y;D++);var A=o(3),F=A&3;A=A<<29>>31;
var K=o(12,d);if(K==12)K=o(16-D)>>>1;var V=o(D);_[0]=K<<D|V;var r=(_[0]^A)+_[1];_[1]=r*3+_[1]>>5;_[2]=_[0]>16?0:_[2]+1;
if(k>=U)continue;var c=l[$*B+k-2],g1=l[($-2)*B+k],x=l[($-2)*B+k-2];l[$*B+k]=($<2&&k<2?0:$<2?c:k<2?g1:c<x&&x<g1||g1<x&&x<c?Math.abs(c-x)>32||Math.abs(g1-x)>32?c+g1-x:c+g1>>1:Math.abs(c-x)>Math.abs(g1-x)?c:g1)+(r<<2|F)}}}function Z(){var d=B*s/8,$=j+1>>1,k=0,_=0;
d+=d&6>>7;var I=d*8-B*s;for(var D=0;D<j;D++){var A=D%$*2+~~(D/$);if(A==1){k=0;Q=q-(-$*d&-2048)}for(var F=0;
F<B;F++){for(k-=s;k<0;k+=8){_<<=8;for(var Y=0;Y<8;Y+=8)_|=g()<<Y}var K=_<<64-s-k>>>64-s;l[A*B+F]=K}k-=I}}function W(){var d=!G.startsWith("OLYMPUS")||!G.startsWith("OM Digi")||!G.toLowerCase().startsWith("clauss")&&!H.toLowerCase().startsWith("pix 5oo");
return d&&R<B*j}if(W()){l=new Uint16Array(U*N);v()}else{l=new Uint16Array(B*j);Z()}return l};e.raw.ape=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
e.raw.aAD=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
e.raw.alq=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
e.OU={};e.OU.OU=function(b,h,G,H,B){if(H==null)H=3;if(B==null)B=!0;var j=b.j,s=b._,q=1/j,Q=j*s,a=Date.now(),l=!1,U=e.OU.aas(G,j,s,255,128),N=e.OU.aas(G,j,s,0,128),m=0;
if(l)console.log("extract contours",Date.now()-a);a=Date.now();var R=function(c2,bL){var dg=c2<<2,cN=bL<<2;
return h[dg]+h[dg+1]+h[dg+2]-(h[cN]+h[cN+1]+h[cN+2])};U.sort(R);N.sort(R);var S=e.U(Q),g=e.U(Q),i=[],y=new Uint32Array(j*s);
y.fill(4294967295);for(var Y=0;Y<Q;Y++)if(G[Y]==0)g[Y]=255;else if(G[Y]==255)S[Y]=255;else{y[Y]=i.length;
i.push(Y)}var o=U.length,v=N.length,Z=i.length;function W(c2,bL,dg,cN){var dH=c2.length,a_=new Array(dH*2);
for(var Y=0;Y<dH;Y++){var c=c2[Y],x=~~(c*cN),X=c-x*dg,gq=c<<2;a_[Y*2]=X<<16|x;a_[Y*2+1]=bL[gq]<<16|bL[gq+1]<<8|bL[gq+2]}return a_}var d=W(U,h,j,q),$=W(N,h,j,q),I=W(i,h,j,q);
if(l)console.log("Itemize",Date.now()-a,"Unknown:",Z,o,v);a=Date.now();var k=e.style.tp(S,j,s,!0),_=e.style.tp(g,j,s,!0),D=new Array(Z),A=new Array(Z),F=new Array(Z),K=new Array(Z),V=new Array(Z);
if(l)console.log("Dist transform",Date.now()-a);a=Date.now();var r=e.OU.Mt;for(var Y=0;Y<Z;Y++){var c=i[Y],x=~~(c*q),X=c-x*j,M=k[c<<1],f=k[(c<<1)+1],t=Math.sqrt(M*M+f*f),n=_[c<<1],L=_[(c<<1)+1],P=Math.sqrt(n*n+L*L);
D[Y]=1/t;A[Y]=1/P;var z=Math.floor(e.z.v0(c*17)*o),T=Math.floor(e.z.v0(c*19)*v);F[Y]=z;K[Y]=T;V[Y]=r(I[Y*2],I[Y*2+1],d[z*2],d[z*2+1],$[T*2],$[T*2+1],D[Y],A[Y],1e9)}var p=[-j-1,-j,-j+1,-1,1,j-1,j,j+1];
while(Math.floor(Math.max(o,v)*Math.pow(.5,m))>1)m++;for(var O=0;O<H;O++){var cb=0;for(var Y=0;Y<Z;Y++){var c=i[Y],x=~~(c*q),X=c-x*j,cX=D[Y],e$=A[Y],fz=I[Y*2],eC=I[Y*2+1],az=V[Y],z=F[Y],T=K[Y],iS=1;
if(x!=0&&X!=0&&X!=j-1&&x!=s-1)for(var av=0;av<8;av++){var ia=y[c+p[av]];if(ia==4294967295)continue;var iJ=F[ia],cx=K[ia];
if(iJ==z&&cx==T)continue;var hP=r(fz,eC,d[iJ*2],d[iJ*2+1],$[cx*2],$[cx*2+1],cX,e$,az);if(hP<az){az=hP;
z=iJ;T=cx}}for(var e4=0;e4<m;e4++){var cc=~~(o*iS),aO=~~(v*iS);iS*=.5;var bZ=e.z.v0(c+O*17+e4*31),d_=e.z.v0(c+O*29+e4*63),ee=Math.max(0,z-cc),b4=Math.min(z+cc,o-1),e_=Math.max(0,T-aO),fJ=Math.min(T+aO,v-1),iJ=ee+~~(bZ*(b4-ee)),cx=e_+~~(d_*(fJ-e_)),hP=r(fz,eC,d[iJ*2],d[iJ*2+1],$[cx*2],$[cx*2+1],cX,e$,az);
if(hP<az){az=hP;z=iJ;T=cx}}V[Y]=az;F[Y]=z;K[Y]=T;cb+=az}}if(l)console.log(cb);if(l)console.log("iterations",Date.now()-a);
a=Date.now();var dV=G.slice(0);for(var Y=0;Y<Z;Y++){var ix=e.OU.alpha(I[Y*2+1],d[F[Y]*2+1],$[K[Y]*2+1]);
dV[i[Y]]=~~(.5+255*ix)}dV=e.iX.akZ(dV,h,new io(0,0,j,s),16,.01*.01);if(l)console.log("guided filter",Date.now()-a);
a=Date.now();if(B)for(var Y=0;Y<Q;Y++)if(G[Y]==255||G[Y]==0)dV[Y]=G[Y];var b9=h.slice(0);for(var Y=0;
Y<Z;Y++){var hV=i[Y],z=U[F[Y]],az=V[Y],gq=hV<<2,eH=dV[hV],eP=(eH>=250?hV:z)<<2;b9[gq]=h[eP];b9[gq+1]=h[eP+1];
b9[gq+2]=h[eP+2]}e.aj(dV,b9,3);if(l)console.log(Date.now()-a);a=Date.now();return b9};e.OU.Mt=function(b,h,G,H,B,j,s,q,Q){var a=b>>>16,l=b&65535,U=a-(G>>>16),N=l-(G&65535),R=a-(B>>>16),S=l-(B&65535),g=Math.sqrt(U*U+N*N)*s,i=Math.sqrt(R*R+S*S)*q;
if(g+i>=Q)return 1e9;var y=e.OU.atV(h,H,j);return y+g+i};e.OU.atV=function(b,h,G){var H=b>>>16,B=b>>>8&255,j=b&255,s=h>>>16,q=h>>>8&255,Q=h&255,a=G>>>16,l=G>>>8&255,U=G&255,N=e.OU.alpha(b,h,G),R=H-(N*s+(1-N)*a),S=B-(N*q+(1-N)*l),g=j-(N*Q+(1-N)*U);
return Math.sqrt(R*R+S*S+g*g)};e.OU.alpha=function(b,h,G){var H=b>>>16,B=b>>>8&255,j=b&255,s=h>>>16,q=h>>>8&255,Q=h&255,a=G>>>16,l=G>>>8&255,U=G&255,N=s-a,R=q-l,S=Q-U,g=H-a,i=B-l,y=j-U,o=N*N+R*R+S*S,v=o==0?.5:(g*N+i*R+y*S)/o;
return Math.max(0,Math.min(1,v))};e.OU.acF=function(b){};e.OU.aas=function(b,h,G,H,B){var j=[],s=h-1,q=G-1;
for(var Q=1;Q<q;Q++)for(var a=1;a<s;a++){var Y=Q*h+a;if(b[Y]==H&&(b[Y-h-1]==B||b[Y-h]==B||b[Y-h+1]==B||(b[Y-1]==B||b[Y+1]==B)||(b[Y+h-1]==B||b[Y+h]==B||b[Y+h+1]==B)))j.push(Y)}return j};
e.iX={};e.iX.a1W=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=e.iX.a0U,a=e.U(q*4),l;e.Zi(a,4294967295);
var U=G,N=b,R=h,S=H;e.aj(b,a,0);l=e.hd(a,G);l=e.hd(l.Ur,l.rect);U=l.rect;S=H>>>2;console.log(U,S);N=e.U(U.X());
e.uA(l.Ur,N,0);e.aj(h,a,0);l=e.hd(a,G);l=e.hd(l.Ur,l.rect);R=e.U(U.X());e.uA(l.Ur,R,0);var g=e.iX.aBy(N,R,U,S,B),i=g[0],y=g[1],o=new io(0,0,U.j*2,U._*2);
i=Q(i,U,o,!0);i=Q(i,o,G,!0);y=Q(y,U,o,!0);y=Q(y,o,G,!0);var v=e.U(q);for(var Y=0;Y<q;Y++)v[Y]=Math.max(0,Math.min(255,Math.floor(.5+(i[Y]*h[Y]+255*y[Y]))));
return v};e.iX.Zt=function(b,h,G,H){h.set(b);e.Zt.a6H(h,G,H)};e.iX.a0U=function(b,h,G,H){var B=G.j,j=G._,s=h.j,q=h._,Q=e.iX.LU,a=new Float32Array(B*j);
for(var l=0;l<q;l++){var U=(l+l)*B;for(var N=0;N<s;N++){if(!0||N==0||l==0||N==s-1||l==q-1)a[U]=a[U+1]=a[U+B]=a[U+B+1]=b[l*s+N];
else{a[U]=Q(N+.25,l+.25,b,s,q);a[U+1]=Q(N+.75,l+.25,b,s,q);a[U+B]=Q(N+.25,l+.75,b,s,q);a[U+B+1]=Q(N+.75,l+.75,b,s,q)}U+=2}}return a};
e.iX.LU=function(b,h,G,H,B){b-=.499999;h-=.499999;var j=Math.floor(b),s=Math.floor(h),q=s*H+j,Q=b-j,a=h-s,l=(1-a)*(1-Q),U=(1-a)*Q,N=a*(1-Q),R=a*Q;
if(G[q]==null||G[q+H+1]==null){console.log(b,h,H,B);throw"e"}return l*G[q+0]+U*G[q+1]+N*G[q+H+0]+R*G[q+H+1]};
e.iX.aBy=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=e.iX.abI,a=e.iX.U,l=e.iX.Zt,U=e.iX.we,h=Q(h,q),b=Q(b,q),N=a(q);
l(h,N,G,H);var R=a(q);l(b,R,G,H);var S=a(q);U(h,h,S);l(S,S,G,H);var g=a(q);U(h,b,g);l(g,g,G,H);var i=a(q),y=a(q);
for(var Y=0;Y<q;Y++){var o=N[Y],v=R[Y],Z=S[Y]-o*o,W=g[Y]-o*v,d=W/(Z+B),$=v-d*o;i[Y]=d;y[Y]=$}var I=a(q);
l(i,I,G,H);var k=a(q);l(y,k,G,H);return[I,k]};e.iX.akZ=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=e.iX.a0U,a=Date.now(),l=!1,U=G,N=b,R=h,S=H;
U=new io(0,0,j>>>2,s>>>2);S=H>>>2;N=e.iX.aqQ(b,j,s);R=e.iX.ar9(h,j,s);if(l)console.log(Date.now()-a);
a=Date.now();var g=e.iX.ayC(N,R,U,S,B),i=g[0],y=g[1],o=g[2],v=g[3];if(l)console.log(Date.now()-a);a=Date.now();
var Z=e.U(q);for(var W=0;W<s;W++)for(var d=0;d<j;d++){var Y=W*j+d,$=(W>>>2)*(j>>>2)+(d>>>2),I=Y<<2,k=i[$]*h[I]+y[$]*h[I+1]+o[$]*h[I+2]+v[$]*255;
Z[Y]=Math.max(0,Math.min(255,~~(.5+k)))}if(l)console.log(Date.now()-a);a=Date.now();return Z};e.iX.aqQ=function(b,h,G){var H=h>>>2,B=G>>>2,j=e.U(H*B);
for(var s=0;s<B;s++)for(var q=0;q<H;q++)j[s*H+q]=b[s*h+q<<2];return j};e.iX.ar9=function(b,h,G){var H=h>>>2,B=G>>>2,j=e.U(H*B*4);
for(var s=0;s<B;s++)for(var q=0;q<H;q++){var Q=s*H+q<<2,a=s*h+q<<4;j[Q]=b[a];j[Q+1]=b[a+1];j[Q+2]=b[a+2];
j[Q+3]=b[a+3]}return j};e.iX.ayC=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=e.iX.abI,a=e.iX.U,l=e.iX.Zt,U=e.iX.we,b=Q(b,q),N=new e.Bh(j*s);
e.gZ(h,N);var h=[Q(N.$,q),Q(N.B,q),Q(N.J,q)],R=e.iX.a5p(b,h,G,H,B),S=a(q);l(b,S,G,H);var g=a(q);U(h[0],b,g);
l(g,g,G,H);var i=a(q);U(h[1],b,i);l(i,i,G,H);var y=a(q);U(h[2],b,y);l(y,y,G,H);var o=a(q),v=a(q),Z=a(q),W=a(q);
for(var Y=0;Y<q;Y++){var d=S[Y],$=R.nR[Y],I=R.wy[Y],k=R.O0[Y],_=g[Y]-$*d,D=i[Y]-I*d,A=y[Y]-k*d;o[Y]=R.abZ[Y]*_+R.s7[Y]*D+R.b$[Y]*A;
v[Y]=R.s7[Y]*_+R.agk[Y]*D+R._y[Y]*A;Z[Y]=R.b$[Y]*_+R._y[Y]*D+R.aqy[Y]*A;W[Y]=d-o[Y]*$-v[Y]*I-Z[Y]*k}l(o,o,G,H);
l(v,v,G,H);l(Z,Z,G,H);l(W,W,G,H);return[o,v,Z,W]};e.iX.a5p=function(b,h,G,H,B){var j=G.j,s=G._,q=j*s,Q=e.iX.U,a=e.iX.Zt,l=e.iX.we,U={};
U.nR=Q(q);a(h[0],U.nR,G,H);U.wy=Q(q);a(h[1],U.wy,G,H);U.O0=Q(q);a(h[2],U.O0,G,H);var N=Q(q);l(h[0],h[0],N);
a(N,N,G,H);var R=Q(q);l(h[0],h[1],R);a(R,R,G,H);var S=Q(q);l(h[0],h[2],S);a(S,S,G,H);var g=Q(q);l(h[1],h[1],g);
a(g,g,G,H);var i=Q(q);l(h[1],h[2],i);a(i,i,G,H);var y=Q(q);l(h[2],h[2],y);a(y,y,G,H);U.abZ=N;U.s7=R;
U.b$=S;U.agk=g;U._y=i;U.aqy=y;for(var Y=0;Y<q;Y++){var o=U.nR[Y],v=U.wy[Y],Z=U.O0[Y],W=N[Y]-o*o+B,d=R[Y]-o*v,$=S[Y]-o*Z,I=g[Y]-v*v+B,k=i[Y]-v*Z,_=y[Y]-Z*Z+B,D=I*_-k*k,A=k*$-d*_,F=d*k-I*$,K=W*_-$*$,V=$*d-W*k,r=W*I-d*d,c=D*W+A*d+F*$,x=1/c;
U.abZ[Y]=D*x;U.s7[Y]=A*x;U.b$[Y]=F*x;U.agk[Y]=K*x;U._y[Y]=V*x;U.aqy[Y]=r*x}return U};e.iX.U=function(b){return new Float32Array(b)};
e.iX.abI=function(b,h){var G=new Float32Array(h);for(var Y=0;Y<h;Y++)G[Y]=b[Y]*(1/255);return G};e.iX.we=function(b,h,G){for(var Y=0;
Y<b.length;Y++)G[Y]=b[Y]*h[Y]};e.Zj={};e.Zj.nq=function(b,h,G,H){var B=b[h]-G[H],j=b[h+1]-G[H+1],s=b[h+2]-G[H+2];
return Math.sqrt(B*B+j*j+s*s)*(1/441.7)};e.Zj.getSelection=function(b,h,G){var H=h*G,B=e.U(H),j=!1,s=Math.round(G*.7),q=1,Q=new Uint32Array(12),a=e.U(12);
for(var l=0;l<s;l++)for(var U=0;U<h;U++){if(U<q||l<q||U>h-q-1||l>G-q-1){var Y=l*h+U,N=Y<<2,R=0;if(l<q)R=4;
else if(U>h-q-1)R=8;Q[R]+=b[N];Q[R+1]+=b[N+1];Q[R+2]+=b[N+2];Q[R+3]++;B[Y]=255}}for(var Y=0;Y<12;Y+=4)for(var S=0;
S<3;S++)a[Y+S]=Q[Y+S]/Q[Y+3];var g=new Float32Array(H);for(var Y=0;Y<H;Y++){var N=Y*4,i=e.Zj.nq(b,N,a,0),y=e.Zj.nq(b,N,a,4),o=e.Zj.nq(b,N,a,8),v=Math.max(i,Math.max(y,o));
g[Y]=i+y+o-v}e.Zj.th(g);var Z=Date.now(),W=new Float32Array(H),d=[],$=e.U(H);for(var Y=0;Y<3;Y++){e.uA(b,$,Y);
var I=new Uint16Array(H);d.push(I);e.Zj.a9A($,B,h,G,I)}if(j)console.log("MBD",Date.now()-Z);Z=Date.now();
for(var Y=0;Y<H;Y++)W[Y]=d[0][Y]+d[1][Y]+d[2][Y];e.Zj.th(W);for(var Y=0;Y<H;Y++)W[Y]+=.4*g[Y];var k=h>>>1,s=G>>>1,_=1/Math.sqrt(k*k+s*s);
for(var l=0;l<G;l++)for(var U=0;U<h;U++){var D=U-k,A=l-s,F=1-Math.sqrt(D*D+A*A)*_;W[l*h+U]*=F}if(j)console.log("Centeredness",Date.now()-Z);
Z=Date.now();for(var Y=0;Y<H;Y++)B[Y]=W[Y]*255;var K=Math.round(h/120),V=Math.round(K*.8);if(j)console.log(K,V);
e.WP.EP(B,B,h,G,K+K+1,!1);if(j)console.log("erosion",Date.now()-Z);Z=Date.now();for(var Y=0;Y<H;Y++)W[Y]=B[Y];
e.Zj.th(W);var r=e.U(256);for(var Y=0;Y<256;Y++)r[Y]=256/(1+Math.exp(-20*(Y/255-.5)));for(var Y=0;Y<H;
Y++){var c=~~(W[Y]*255+.5);B[Y]=r[c]}if(j)console.log("Simoid",Date.now()-Z);Z=Date.now();return B};
e.Zj.th=function(b){var h=b.length,G=0;for(var Y=0;Y<h;Y++)G=Math.max(G,b[Y]);var H=1/G;for(var Y=0;
Y<h;Y++)b[Y]=b[Y]*H};e.Zj.a9A=function(b,h,G,H,B){var j=G*H,s=b.slice(0),q=b.slice(0);for(var Y=0;Y<j;
Y++)B[Y]=h[Y]==255?0:65535;e.Zj.a1Z(b,q,s,B,G,H);e.Zj.atf(b,q,s,B,G,H);e.Zj.a1Z(b,q,s,B,G,H);e.Zj.atf(b,q,s,B,G,H);
return B};e.Zj.a1Z=function(b,h,G,H,B,j){for(var s=1;s<B;s++)e.Zj.uc(s,-1,b,h,G,H);for(var q=1;q<j;q++){e.Zj.uc(q*B,-B,b,h,G,H);
for(var s=1;s<B;s++){var Y=q*B+s;e.Zj.uc(Y,-1,b,h,G,H);e.Zj.uc(Y,-B,b,h,G,H)}}};e.Zj.atf=function(b,h,G,H,B,j){for(var s=B-2;
s>=0;s--)e.Zj.uc(B*j-B+s,1,b,h,G,H);for(var q=j-2;q>=0;q--){e.Zj.uc(q*B+B-1,B,b,h,G,H);for(var s=B-2;
s>=0;s--){var Y=q*B+s;e.Zj.uc(Y,1,b,h,G,H);e.Zj.uc(Y,B,b,h,G,H)}}};e.Zj.uc=function(Y,b,h,G,H,B){var j=Y+b,s=h[Y],q=G[j],Q=H[j];
if(q<s)q=s;else if(s<Q)Q=s;var a=q-Q;if(B[j]!=65535&&a<B[Y]){B[Y]=a;G[Y]=q;H[Y]=Q}};e.zD={};e.zD.filter=function(b,h,G,H){var B=h.j,j=h._,s=B*j,q=H[0],Q=H[1],a=H[2],l=H[3],U=H[4],N=H[5],R=H[6],S=Date.now(),g=new Float32Array(B*j*4);
e.zD.ar5(b,B,j,g);var i=Math.ceil(q*Math.sqrt(-2*Math.log(.1))),y=new ArrayBuffer(s*4),o=new Float32Array(y),v=new Float32Array(s),Z=new Float32Array(s);
for(var Y=0;Y<s;Y++){var W=Y*4;o[Y]=g[W];v[Y]=g[W+1];Z[Y]=g[W+2]}e.Zt.z_(o,h,i*1/2.4,2);e.Zt.z_(v,h,i*1/2.4,2);
e.Zt.z_(Z,h,i*1/2.4,2);for(var Y=0;Y<s;Y++){var W=Y*4;g[W]=o[Y];g[W+1]=v[Y];g[W+2]=Z[Y]}var d=new Uint8Array(y);
for(var Y=0;Y<s;Y++){var W=Y*4,$=Y*4,o=g[W],v=g[W+1],Z=g[W+2],I=Math.sqrt((o-Z)*(o-Z)+4*v*v),k=(o+Z+I)*.5,_=(o+Z-I)*.5,D=_-Z,A=v,F=D*D+A*A;
if(F!=0){var K=Math.sqrt(F),V=1/K;D*=V;A*=V}d[$]=128+127*D;d[$+1]=128+127*A}var r=1.3*Q+2,c=l*(2/10),x=b.slice();
if(cG.pl){var X=new Float32Array([1/B,1/j]),M=cG.t4(0,B,j);M.set(x);var f=cG.t4(1,B,j);f.set(d);cG.UK(M,h);
if(U){M.xo(h);cG.filter.s_({type:cG.filter.aDp,mc:X,a4_:1/a,amu:c},M.oG)}M.xo(h);cG.filter.s_({type:cG.filter.ia,e7:f.P9,mc:X,axd:r,aA0:2},M.oG);
if(U){M.xo(h);cG.filter.s_({type:cG.filter.aDw,mc:X,awM:new Float32Array(R),a4K:N},M.oG)}M.get(G)}else{if(U)e.zD.WB(1/a,c,x,B,j);
e.zD.ia(x,G,d,B,j,r);if(U)e.zD.asu(B,j,G,R,N)}var t=s*4;for(var Y=3;Y<t;Y+=4)G[Y]=b[Y]};e.zD.ia=function(b,h,G,H,B,j){var s=Math.ceil(2*j),q=-1/(2*j*j),Q=[],a=1;
for(var Y=0;Y<s+20;Y++)Q[Y]=Math.exp(Y*Y*q);var l=[0,0,0,0];for(var U=0;U<B;U++){for(var N=0;N<H;N++){var R=U*H+N,S=R*4,g=1,i=b[S],y=b[S+1],o=b[S+2],v=b[S+3],Z=(G[S]-128)*(1/127),W=(G[S+1]-128)*(1/127),d=Z,$=W,I=N==0?.51:.49,k=U==0?.51:.49;
for(var Y=0;Y<2;Y++){var _=N+I,D=U+k,A=0;while(A<s){if(_<.5||H-.5<_||D<.5||B-.5<D)break;var F=~~_,K=~~D,V=K*H+F,r=V*4,c=(G[r]-128)*(1/127),x=(G[r+1]-128)*(1/127);
if(c*d+x*$<0){c=-c;x=-x}d=c;$=x;_+=a*c;D+=a*x;if(_<.5||H-.5<_||D<.5||B-.5<D)break;var X=~~_,M=~~D,f=M*H+X<<2;
A+=a;var t=Q[~~A];e.t.agu(_,D,b,H,B,l);i+=l[0]*t;y+=l[1]*t;o+=l[2]*t;v+=l[3]*t;g+=t}d=-Z;$=-W}var n=1/g;
h[S]=~~(.5+i*n);h[S+1]=~~(.5+y*n);h[S+2]=~~(.5+o*n);h[S+3]=~~(.5+v*n)}}};e.zD.asu=function(b,h,G,H,B){for(var j=0;
j<h;j++)for(var s=0;s<b;s++){var q=j*b+s<<2,Q=1+e.zD.akM(s,j,G,b,h,H)*B;G[q]=Math.max(0,Math.min(255,G[q]*Q));
G[q+1]=Math.max(0,Math.min(255,G[q+1]*Q));G[q+2]=Math.max(0,Math.min(255,G[q+2]*Q))}};e.zD.akM=function(b,h,G,H,B,j){var s=G[(h*H+Math.max(0,b-1))*4+3],q=G[(h*H+Math.min(H-1,b+1))*4+3],Q=G[(Math.max(0,h-1)*H+b)*4+3],a=G[(Math.min(B-1,h+1)*H+b)*4+3],l=.7,U=(q-s)*(1/255),N=.7,R=(a-Q)*(1/255),S=-U*N,g=-l*R,i=l*N,y=Math.sqrt(S*S+g*g+i*i),o=1/y,v=S*o,Z=g*o,W=i*o,d=j[0]*v+j[1]*Z+j[2]*W;
return d};e.zD.WB=function(b,h,G,H,B){function j(q,a,l){return Math.max(a,Math.min(l,q))}for(var s=0;
s<B;s++)for(var q=0;q<H;q++){var Q=e.zD.asL(q+.5,s+.5,b,h);G[(s*H+q)*4+3]=Math.max(0,Math.min(255,Q*255))}};
e.zD.asL=function(b,h,G,H){function B($,I,k){return(1-k)*$+k*I}var j=(b+613)*G,s=(h+117)*G,q=~~j,Q=~~s,a=j-q,l=s-Q,U=Math.sin(11),N=Math.cos(q)*U,R=Math.cos(q+1)*U,S=Math.cos(Q)*U,g=Math.cos(Q+1)*U,g1=e.zD.hash(N,S),i=e.zD.hash(R,S),y=e.zD.hash(N,g),o=e.zD.hash(R,g),v=B(g1,i,a),Z=B(y,o,a),W=B(v,Z,l);
W=W<.5?0:1;var d=W+H*e.zD.hash(Math.cos(j)*U,Math.cos(s)*U);return d*(1/3)};e.zD.hash=function(b,h){var G=Math.sin(b*11.697096+h*73.32456)*12157.47691;
return G-Math.floor(G)};e.zD.ar5=function(b,h,G,H){var B=[-1,0,1,-2,0,2,-1,0,1],j=[-1,-2,-1,0,0,0,1,2,1],s=h-1,q=G-1,Q=h*4;
for(var a=1;a<q;a++)for(var l=1;l<s;l++){var Y=a*h+l,U=Y*4,N=e.zD.TX(b,U,Q,B),R=e.zD.TX(b,U,Q,j),S=e.zD.TX(b,U+1,Q,B),g=e.zD.TX(b,U+1,Q,j),i=e.zD.TX(b,U+2,Q,B),y=e.zD.TX(b,U+2,Q,j);
H[U]=N*N+S*S+i*i;H[U+1]=N*R+S*g+i*y;H[U+2]=R*R+g*g+y*y}e.zD.acL(H,h,G)};e.zD.TX=function(b,h,G,H){return b[h-G-4]*H[0]+b[h-G]*H[1]+b[h-G+4]*H[2]+b[h-4]*H[3]+b[h]*H[4]+b[h+4]*H[5]+b[h+G-4]*H[6]+b[h+G]*H[7]+b[h+G+4]*H[8]};
e.zD.acL=function(b,h,G){function H(Q,Y,a){var l=Y*4,U=a*4;Q[U]=Q[l];Q[U+1]=Q[l+1];Q[U+2]=Q[l+2]}var B=h-1,j=G-1;
H(b,h+1,0);H(b,2*h-2,h-1);for(var s=1;s<B;s++)H(b,h+s,s);for(var q=1;q<j;q++){H(b,q*h+1,q*h);H(b,q*h+h-2,q*h+h-1)}for(var s=1;
s<B;s++)H(b,(G-2)*h+s,(G-1)*h+s);H(b,(q-2)*h+1,(q-1)*h);H(b,(q-1)*h-2,q*h-1)};e.Ff=function(){function b(a,l,U,N){var R=new Float32Array(a*a),S=a/2;
for(var g=0;g<a;g++)for(var i=0;i<a;i++){var y=i+U-S,o=g+N-S;R[g*a+i]=Math.max(0,Math.min(1,l+.5-Math.sqrt(y*y+o*o)))}return R}var h=[],H=null;
function G(a,l,U,N){var R=Math.floor(l*10),S=h[R],g=a*8,i=g>>>1;if(S==null){S=h[R]=[];var y=new io(0,0,g,g),o=a/2/(1+.2*l),v=Math.floor(a*R*.1);
for(var Z=0;Z<2;Z++)for(var W=0;W<2;W++){var d=b(g,o,.25+W*.5,.25+Z*.5),$=0;e.Zt.z_(d,y,v);while(d[g*i+$]<.005)$++;
if($!=0)$--;var I=2*(i-$),k=new io($,$,I,I),_=new Float32Array(I*I);for(var D=0;D<I;D++)for(var A=0;
A<I;A++)_[D*I+A]=d[($+D)*g+$+A];S.push([_,k])}}var F=Math.floor(U),K=Math.floor(N),V=U-F,r=N-K,c=V<.5?1:0,x=r<.5?1:0;
S=S[x*2+c];var k=S[1].clone();k.x+=F-i;k.y+=K-i;return[S[0],k]}function B(a,l,U){if(H==null){H=new Uint8Array(4e4);
for(var Y=0;Y<4e4;Y++)H[Y]=Math.min(255,~~(.5+255*e.u0(Y*(1/255))))}var N=a.length;for(var Y=0;Y<N;Y++){var R=a[Y],S=~~(255*R);
l[Y]=H[S]<<24|U}}function j(a,l,U,N,R){var S=l.D4(N),g=Math.max(0,S.x-l.x),i=Math.max(0,S.x-N.x),y=Math.max(0,S.y-l.y),o=Math.max(0,S.y-N.y),v=S.j,Z=S._;
for(var Y=0;Y<Z;Y++){var W=(y+Y)*l.j+g,d=(o+Y)*N.j+i;for(var $=0;$<v;$++){U[d+$]+=R*a[W+$]}}}var s=-1;
function q(a,l,U,N,R){var S=Math.round(N[1]*l*U*.01),g=N[2],i=N[3],y=N[4],o=N[5],v=N[6],Z=N[7],W=N[8],d=N[9],$=N[10]?N[10]:1,t=!1;
if(g!=s){h=[];s=g}var I=Date.now(),k=new io(0,0,l,U),_=new Q(N[0]);if(R)a.fill(0);var D=new Float32Array(R?a.buffer:l*U);
for(var Y=0;Y<S;Y++){var A=_.get()*l,F=_.get()*U,K=_.get()*i,V=_.get()*g*4,r=(_.get()+v)*Math.PI*2,c=_.get()*g*4,x=(_.get()+2*v)*Math.PI*2;
A+=d*(V*Math.cos(r)+c*Math.cos(x));F+=d*(V*Math.sin(r)+c*Math.sin(x));if(W)F=F+v*U*$;var X=G(g,K,A,F%U),M=y,f=_.get();
if(Z)M=.5+.5*y*(.5+.5*Math.sin((2*v+f)*2*Math.PI));j(X[0],X[1],D,k,M)}if(t)console.log(Date.now()-I,"add floats");
I=Date.now();var n=new Uint8Array(D.buffer);B(D,new Uint32Array(n.buffer),o.J<<16|o.B<<8|o.$);if(t)console.log(Date.now()-I,"toInt");
I=Date.now();if(!R){e.z.Nm("scrn",n,k,a,k,k,1);if(t)console.log(Date.now()-I,"blendOver")}}function Q(a){this.Ku=123456789;
this.KE=987654321;this.u=4294967295;this.LW(a)}Q.prototype.LW=function(Y){this.Ku=123456789+Y&this.u;
this.KE=987654321-Y&this.u};Q.prototype.get=function(){this.KE=36969*(this.KE&65535)+(this.KE>>16)&this.u;
this.Ku=18e3*(this.Ku&65535)+(this.Ku>>16)&this.u;var a=(this.KE<<16)+(this.Ku&65535)>>>0;a/=4294967296;
return a};return{mR:q}}();e.gS={};e.gS.g2=function(b,h,G,H){var B=b[h*2],j=b[h*2+1],s=b[G*2],q=b[G*2+1],Q=b[H*2],a=b[H*2+1];
return B*q+s*a+Q*j-Q*q-s*j-B*a};e.gS.a1o=function(b,h){var G=[],H=[],B=[],j={};for(var Y=0;Y<h.length;
Y+=3){var s=~~(Y*(1/3)),q=h[Y+0],Q=h[Y+1],a=h[Y+2],l=e.gS.g2(b,q,Q,a);if(l>0){var U=Q;Q=a;a=U}var N=j[a+"-"+Q],R=j[Q+"-"+q],S=j[q+"-"+a],g=[a,N,s,null],i=[Q,R,s,g],y=[q,S,s,i];
g[3]=y;if(N)N[1]=g;if(R)R[1]=i;if(S)S[1]=y;j[a+"-"+q]=y;j[q+"-"+Q]=i;j[Q+"-"+a]=g;G[q]=i;B[Y]=i;G[Q]=g;
B[Y+1]=g;G[a]=y;B[Y+2]=y;H[s]=i}return{oD:G,kK:H,gm:B}};e.gS.aiy=function(b){var h=[],G=b.kK;for(var Y=0;
Y<G.length;Y++){var H=G[Y];h.push(H[0]);H=H[3];h.push(H[0]);H=H[3];h.push(H[0])}return h};e.gS.aso=function(b,h,G,H){var B=b[h*2],j=b[h*2+1],s=b[G*2],q=b[G*2+1],Q=b[H*2],a=b[H*2+1],l=s-B,U=q-j,N=Q-B,R=a-j,S=l*(B+s)+U*(j+q),g=N*(B+Q)+R*(j+a),i=2*(l*(a-q)-U*(Q-s));
if(Math.abs(i)<1e-5){var y=Math.min(B,s,Q),o=Math.min(j,q,a),v=(Math.max(B,s,Q)-y)*.5,Z=(Math.max(j,q,a)-o)*.5;
return[y+v,o+Z,v*v+Z*Z,1]}var W=(R*S-U*g)/i,d=(l*g-N*S)/i,v=W-B,Z=d-j;return[W,d,v*v+Z*Z,0]};e.gS.azh=function(b,h,G){var H=G[1],B=G[3],j=B[3],s=H[3],q=s[3],Q=G[2],a=H[2],l=G[0],U=H[0],N=B[0],R=s[0],S=e.gS.aso(b,U,R,N),g=b[l*2]-S[0],i=b[l*2+1]-S[1],y=g*g+i*i>S[2]&&S[3]==0&&e.gS.g2(b,R,l,N)<0&&e.gS.g2(b,N,U,R)<0;
if(y){G[0]=N;H[0]=R;G[3]=j;j[3]=s;s[3]=G;H[3]=q;q[3]=B;B[3]=H;B[2]=a;s[2]=Q;h.kK[a]=q;h.kK[Q]=j;h.oD[U]=s;
h.oD[l]=B}return y};e.gS.aoT=function(b,h,G){var H=b[h*2]-b[G*2],B=b[h*2+1]-b[G*2+1];return Math.sqrt(H*H+B*B)};
e.gS.az6=function(b,h,G){var H=G[1],B=G[3],j=B[3],s,q,Q=G[2],a,l=G[0],U=j[0],N=B[0],R;if(H){s=H[3];q=s[3];
a=H[2];R=s[0]}var S=b.length>>>1;b[2*S]=(b[2*U]+b[2*l])*.5;b[2*S+1]=(b[2*U+1]+b[2*l+1])*.5;if(!0){var g=Q,i=G,y=h.kK.length,o=[S,null,g,i],v=[N,o,y,j];
o[1]=v;var Z=[S,null,y,v];B[3]=o;j[3]=Z;j[2]=y;h.kK[g]=B;h.kK[y]=Z;h.oD[l]=B;h.oD[N]=j;h.gm.push(o,v,Z)}if(H){var W=a,d=H,$=y+1;
Z[1]=d,d[1]=Z;var I=[S,null,W,d],k=[R,I,$,q];I[1]=k;var _=[S,i,$,k];i[1]=_;s[3]=I;q[3]=_;q[2]=$;h.kK[W]=s;
h.kK[$]=q;h.oD[U]=s;h.oD[R]=q;h.gm.push(I,k,_)}h.oD[S]=i};e.gS.aDI=function(b,h){var G=0;while(!0){var H=G;
for(var Y=0;Y<h.gm.length;Y++){var B=h.gm[Y];if(B[1]==null)continue;var j=e.gS.azh(b,h,B);if(j){G++;
break}}if(H==G)break}return G!=0};e.gS.afZ=function(b,h,G,H){var B=0;for(var Y=0;Y<H;Y++){var j=null,s=0;
for(var q=0;q<h.gm.length;q++){var Q=h.gm[q],a=e.gS.aoT(b,Q[0],Q[3][3][0])*(Q[1]?1:2);if(a>s){j=Q;s=a}}if(s>G){e.gS.az6(b,h,j);
B++}}return B!=0};e.gS.a46=function(b,h){var G=[],N=0;for(var Y=0;Y<b.length;Y++)G.push(0);for(var Y=0;
Y<h.gm.length;Y++){var H=h.gm[Y],B=H[0],j=H[3][3][0],s=b[B*2],q=b[B*2+1],Q=b[j*2],a=b[j*2+1],l=s-Q,U=q-a;
G[B*2]+=-l;G[B*2+1]+=-U;G[j*2]+=l;G[j*2+1]+=U}for(var Y=0;Y<b.length;Y+=2){var R=Y>>>1,S=h.oD[R],H=S,g=!0;
do{if(H[1]==null){g=!1;break}H=H[1][3]}while(H!=S);if(g){var i=.02;b[Y]+=i*G[Y];b[Y+1]+=i*G[Y+1];N+=i*(G[Y]*G[Y]+G[Y+1]*G[Y+1])}}return N};
e.gS.aBt=function(b,h,G){var H=e.N.MP(b),B=e.gS.a1o(b,h);e.gS.aDI(b,B);for(var j=0;j<300;j++){var s=!1,q=!1;
s=e.gS.afZ(b,B,G,5);if(s)q=e.gS.aDI(b,B);var Q=e.gS.a46(b,B);if(!s&&!q&&Q<1e-4){break}}return e.gS.aiy(B)};
e.SG={};e.SG.af7=function(b){var h=b.EY,G=b.Y0,H=b.Oq,B=b.Sp,j=b.YJ,s=b.w4,q=b.SY,Q=e.GF.hS,o,v,Z=0;
function a(g1){var cb=new Array(g1);for(var Y=0;Y<g1;Y++)cb[Y]=0;return cb}var l=G.length>>>1,U=a(h.UD*2),N=a(h.UD),R=a(h.UD),S=Date.now();
for(var Y=0;Y<b.I5.length;Y++){var g=h.av7+Y,i=h.Ps*(s[Y*2]+q[Y*2]),y=h.Ps*(s[Y*2+1]+q[Y*2+1]);U[g*2]=i;
U[g*2+1]=y;N[g]=i;R[g]=y}h.atG._Q(B,h.aqt.hS(U),.01,o,v);for(var Y=0;Y<h.aAb.gm.length;Y++){var W=h.aAb.gm[Y],d=W[3][3][0],$=W[0],I=W[3][0],k=W[1]?W[1][3][0]:I;
if(W[1]&&d>$)continue;var _=G[d*2],D=G[d*2+1],A=G[$*2],F=G[$*2+1],K=B[d*2],V=B[d*2+1],r=B[$*2],c=B[$*2+1],x=B[I*2],X=B[I*2+1],M=B[k*2],f=B[k*2+1],t=[K,V,r,c,x,X];
if(W[1])t.push(M,f);var n=Q(h.aey[Z],t),L=n[0],P=n[1],z=1/Math.sqrt(L*L+P*P);L*=z;P*=z;var T=A-_,p=F-D;
N[Z]=L*T+P*p;R[Z]=-P*T+L*p;Z++}var m=new Array(l),O=new Array(l);for(var Y=0;Y<l;Y++){m[Y]=j[Y*2];O[Y]=j[Y*2+1]}h.aBW._Q(m,h.a8d.hS(N),.5);
h.aBW._Q(O,h.a8d.hS(R),.5);for(var Y=0;Y<l;Y++){j[Y*2]=m[Y];j[Y*2+1]=O[Y]}};e.SG.apT=function(b){var h=b.Y0,G=b.Oq,H=b.I5,B=e.GF.multiply,j=Date.now(),s=e.gS.a1o(h,G),q=h.length>>>1,Q=0,S=0,P=1e3;
for(var Y=0;Y<s.gm.length;Y++)Q+=s.gm[Y][1]?.5:1;var a=Q+H.length,l=[],U=new e.Vr(a*2,q*2),N=new e.Vr(a,q),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],g=[],i=[];
for(var Y=0;Y<s.gm.length;Y++){var y=s.gm[Y],o=y[3][3][0],v=y[0],Z=y[3][0],W=y[1]?y[1][3][0]:Z;if(y[1]&&o>v)continue;
var d=h[o*2],$=h[o*2+1],I=h[v*2],k=h[v*2+1],_=h[Z*2],D=h[Z*2+1],A=h[W*2],F=h[W*2+1],K=[[d,$,1,0],[$,-d,0,1],[I,k,1,0],[k,-I,0,1],[_,D,1,0],[D,-_,0,1]];
if(y[1])K.push([A,F,1,0],[F,-A,0,1]);var V=e.GF.BF(K),r=B(linear.invert(B(V,K)),V);r.pop();r.pop();l.push(r);
var c=I-d,x=k-$,X=R[y[1]?1:0];X=e.GF.SX(X,B([[c,x],[x,-c]],r));var M=[o*2,o*2+1,v*2,v*2+1,Z*2,Z*2+1,W*2,W*2+1],f=y[1]?8:6,t=[];
for(var n=0;n<f;n++)t.push([M[n],X[0][n],X[1][n]]);t.sort(function(cb,cX){return cb[0]-cX[0]});for(var L=0;
L<2;L++){for(var n=0;n<f;n++){g[n]=t[n][0];i[n]=t[n][1+L]}U.N8(i,g,f)}if(o<v)N.N8([-1,1],[o,v],2);else N.N8([1,-1],[v,o],2);
S++}for(var Y=0;Y<H.length;Y++){var z=H[Y];U.N8([P],[z*2],1);U.N8([P],[z*2+1],1);N.N8([P],[z],1)}var T=U.BF(),p=T.WJ(T),m=N.BF(),O=m.WJ(m);
return{av7:Q,UD:a,aqt:T,atG:p,a8d:m,aBW:O,aAb:s,aey:l,Ps:P}};e.SG.aAT=function(b,h,G,H,B){var j=new io(0,0,h,G),s=e.U(j.X());
e.uA(b,s,3);e.round(s,70);var q=e.VM(s,j),Q=[.1,.065,.035][H]*Math.max(q.j,q._),a=B+1,l=h+a*2,U=G+a*2,N=new io(-a,-a,l,U),R=e.U(N.X());
e.wX(s,j,R,N);var S=R.slice(0);for(var g=0;g<B;g++){for(var i=1;i<U-1;i++){for(var y=1;y<l-1;y++){var Y=i*l+y;
S[Y]=R[Y-l]|R[Y-1]|R[Y]|R[Y+1]|R[Y+l]}}var o=S;S=R;R=o}var v=b0.iG(R,l,U,Math.round(q.X()*5e-4)),Z=b0.wV(v),W=new eq(1,0,0,1,-a,-a);
for(var Y=0;Y<Z.length;Y++){var d=Z[Y];e.N.h(d.path.m,W,d.path.m);d.Y0=e.SG.a7E(d.path);d.Oq=e.N.a6p(d.Y0);
d.Oq=e.gS.aBt(d.Y0,d.Oq,Q)}return Z};e.SG.a7E=function(b){var h=[],G=b.m,H=b.Gc.length-1,B=0,j=0;for(var s=0;
s<H;s++){var Y=s*6,q=G[Y+6]-G[Y+0],Q=G[Y+7]-G[Y+1],a=Math.ceil(Math.sqrt(q*q+Q*Q));for(var l=0;l<a;l++){var U=l/a,N=1-U,R=N*N*N*G[Y+0]+3*N*N*U*G[Y+2]+3*N*U*U*G[Y+4]+U*U*U*G[Y+6],S=N*N*N*G[Y+1]+3*N*N*U*G[Y+3]+3*N*U*U*G[Y+5]+U*U*U*G[Y+7];
h.push(R,S);B=R;j=S}}h=e.N.a4R(h,1);var g=[],i=h.length;for(var Y=0;Y<i;Y+=2){var S=h.pop(),R=h.pop();
g.push(R,S)}return g};e.SG.al6=function(b,h,G,H){function B(I,k,_,D,A){var F=A[I*2]-A[k*2],K=A[I*2+1]-A[k*2+1],V=Math.sqrt(F*F+K*K);
if(_[I].indexOf(k)==-1){_[I].push(k);D[I].push(V)}if(_[k].indexOf(I)==-1){_[k].push(I);D[k].push(V)}}var j=b.length>>>1,s=new Array(j);
if(G.length==0){s.fill(0);return s}var q=new Array(j),Q=new Array(j);for(var Y=0;Y<j;Y++){q[Y]=[];Q[Y]=[]}for(var Y=0;
Y<h.length;Y+=3){B(h[Y],h[Y+1],q,Q,b);B(h[Y],h[Y+2],q,Q,b);B(h[Y+1],h[Y+2],q,Q,b)}var a=new Float64Array(j*2),l=new Uint32Array(j*2);
a.fill(1e9);var U=new Uint8Array(j);for(var N=0;N<G.length;N++){U.fill(0);var R=["---",[0,G[N]]];while(R.length!=1){var S=e.axW.a_(R),g=S[0],i=S[1];
if(U[i]==1)continue;var y=i<<1;if(g<a[y]){a[y+1]=a[y];l[y+1]=l[y];a[y]=g;l[y]=N}else if(g<a[y+1]){a[y+1]=g;
l[y+1]=N}U[i]=1;var o=q[i],v=Q[i];for(var Y=0;Y<o.length;Y++){var Z=o[Y];if(U[Z]!=1){e.axW.D1(R,[g+v[Y],Z])}}}}for(var Y=0;
Y<j;Y++){var y=Y<<1,W=a[y],d=a[y+1],$=1/(W+d);s[Y]=(1-W*$)*H[l[y]]+(1-d*$)*H[l[y+1]]}return s};e.SG.aCt=function(b){var h={Gc:[],m:[]},G=[b];
while(G.length!=0){var H=G.pop(),B=H.rc;if(H.ay6 instanceof Array||H.ax5 instanceof Array){h.Gc.push("M","L","L","L","Z");
h.m.push(B[0],B[1],B[2],B[1],B[2],B[3],B[0],B[3])}else G.push(H.ay6,H.ax5)}return h};e.SG.gU=function(b,h,G,H,B,j,s,q,Q,a,l){var U=Math.round(a.length/3),N=new Array(U);
for(var Y=0;Y<U;Y++)N[Y]=Y;N.sort(function(S,g){return Q[a[S*3]]-Q[a[g*3]]});for(var Y=0;Y<U;Y++){var R=N[Y]*3;
e.SG.a22(a[R]*2,a[R+1]*2,a[R+2]*2,s,q,b,h,G,H,B,j,l)}};e.SG.a22=function(b,h,G,H,B,j,s,q,Q,a,l,U){var N=[b,h,G,1.2,1.2,1.2,0],R=[0,0,0,0],S=B[b],g=B[b+1],i=B[h],y=B[h+1],o=B[G],v=B[G+1],Z=i-S,W=y-g,d=o-S,$=v-g,I=Z*$-d*W+1e-9,k=1/I,_=Math.max(0,Math.min(s-1,H[b])),D=Math.max(0,Math.min(s-1,H[h])),A=Math.max(0,Math.min(s-1,H[G])),F=Math.max(0,Math.min(q-1,H[b+1])),K=Math.max(0,Math.min(q-1,H[h+1])),V=Math.max(0,Math.min(q-1,H[G+1])),r=S<i?S<o?b:G:i<o?h:G,c=B[r+1]+.5,x=Math.max(0,Math.floor(Math.min(S,i,o))),X=Math.min(a,Math.ceil(Math.max(S,i,o))),M=Math.max(0,Math.floor(Math.min(g,y,v))),f=Math.min(l,Math.ceil(Math.max(g,y,v))),t=1e9;
for(var n=M;n<f;n++){var L=n>c&&t!=1e9?t:x;t=1e9;for(var P=L;P<X;P++){var z=P+.5-S,T=n+.5-g,p=(z*$-d*T)*k,m=(Z*T-z*W)*k;
if(p>=0&&m>=0&&p+m<=1){if(t==1e9)t=P;var O=1-p-m,cb=_*O+D*p+A*m,cX=F*O+K*p+V*m;if(U){var e$=Math.floor(.5+cX)*s+Math.floor(.5+cb),fz=e$<<2,eC=n*a+P<<2;
Q[eC]=j[fz];Q[eC+1]=j[fz+1];Q[eC+2]=j[fz+2];Q[eC+3]=j[fz+3]}else{e.t.agu(cb,cX,j,s,q,R);e.SG.a2t(R,Q,n*a+P<<2)}}else if(t!=1e9)break}}};
e.SG.a2t=function(b,h,G){if(b[3]>250){h[G]=~~(.5+b[0]);h[G+1]=~~(.5+b[1]);h[G+2]=~~(.5+b[2]);h[G+3]=~~(.5+b[3])}else{var H=h[G],B=h[G+1],j=h[G+2],s=h[G+3],q=1-b[3]*(1/255);
h[G]=~~(.5+b[0]+H*q);h[G+1]=~~(.5+b[1]+B*q);h[G+2]=~~(.5+b[2]+j*q);h[G+3]=~~(.5+b[3]+s*q)}};e.SG.a0Z=function(){var b=function(G,H,B,j){var s=j[0],q=j[1],Q=j[2],a=G[s+0],l=G[s+1],U=G[q+0],N=G[q+1],R=G[Q+0],S=G[Q+1],g=U-a,i=N-l,y=R-a,o=S-l,v=H-a,Z=B-l,W=g*o-y*i,d=1/(W+1e-9),$=(v*o-y*Z)*d,I=(g*Z-v*i)*d;
if($>=0&&I>=0&&$+I<=1){j[3]=1-$-I;j[4]=$;j[5]=I;return 1}return 0},h=function(G,H,B,j){var s=[0,0,0,0,0,0];
for(var Y=0;Y<H.length;Y+=3){s[0]=H[Y]*2;s[1]=H[Y+1]*2;s[2]=H[Y+2]*2;if(b(G,B,j,s)==1)return!0}return!1};
return{azj:b,aDL:h}}();e.Bj={};e.Bj.ao0=function(b,h,G,H){b=b.slice(0);if(H)e.aj(H,b,3);else for(var Y=0;
Y<b.length;Y+=4)b[Y+3]=0;var B=e.U(h*G*4),j=!1;e.t.HD(b,h,G,B,[G,h,0,1,0,1,0,0]);return[e.Bj.cX(b,h,G,j),e.Bj.cX(B,G,h,j)]};
e.Bj.h=function(b,h){var G=!1,H=b[0],B=b[1],j=H[1],s=H[2],q=H[3],Q=h.j,a=h._;if(s==Q&&q==a)j=j.slice(0);
else if(q!=a){var l=e.U(s*a*4);e.Bj.kj(B,a,l,G);j=e.U(s*a*4);e.t.HD(l,a,s,j,[s,a,0,1,0,1,0,0]);if(s!=Q){H=e.Bj.cX(j,s,a,G);
j=e.U(Q*a*4);e.Bj.kj(H,Q,j,G)}}else if(s!=Q){j=e.U(Q*q*4);e.Bj.kj(H,Q,j,G)}for(var Y=0;Y<j.length;Y+=4)j[Y+3]=255;
return j};e.Bj.cX=function(b,h,G,H){var B=Date.now(),j=new Uint16Array(h*G),a=1;e.Bj.aC7(b,h,G,j);var s=e.U(h*G);
e.uA(b,s,3);for(var q=0;q<G;q++)for(var Q=0;Q<h;Q++)j[q*h+Q]+=Math.floor((65535-j[q*h+Q])*s[q*h+Q]*(1/255));
var l=Math.ceil(h/a),U=new Uint32Array(a),N=new Uint32Array(a),l=Math.floor(h/a);for(var R=0;R<a;R++)N[R]=R<a-1?l:h-(a-1)*l;
for(var q=0;q<G;q++){var Y=q*h;for(var R=0;R<a;R++){var l=N[R];for(var Q=0;Q<l;Q++)U[R]+=j[Y+Q];Y+=l}}if(H){console.log(Date.now()-B,"cost");
B=Date.now()}var S=new Uint32Array(h),g=new Uint32Array(h),i=new Uint32Array(h*G);for(var Q=0;Q<h;Q++){i[(G-1)*h+Q]=j[(G-1)*h+Q]}for(var q=G-2;
q>=0;q--){var y=q*h;for(var R=0;R<a;R++){var l=N[R];i[y]=j[y]+Math.min(i[y+h],i[y+h+1]);for(var Q=1;
Q<l-1;Q++){var Y=y+Q;i[Y]=j[Y]+Math.min(i[Y+h-1],Math.min(i[Y+h],i[Y+h+1]))}y+=l-1;i[y]=j[y]+Math.min(i[y+h-1],i[y+h]);
y++}}if(H){console.log(Date.now()-B,"Building M");B=Date.now()}function o(A,F){return A<F?A:F}function v(Y,A){var F=g[Y],K=i[A],V=~~(F*K*1e-4);
return V}var Z=new Uint8Array(h*G),W=new Uint32Array(h);for(var Y=0;Y<h;Y++){S[Y]=Y;g[Y]=j[Y]}for(var q=1;
q<G;q++){var d=0,y=q*h;for(var R=0;R<a;R++){var l=N[R],Y=y;W[d]=v(d,Y);var $=W[d]+v(d+1,Y+1),I=v(d,Y+1)+v(d+1,Y);
W[d+1]=o($,I);for(var Q=2;Q<l;Q++){var Y=y+Q,k=W[d+Q-1]+v(d+Q-1,Y-1),_=W[d+Q-2]+v(d+Q-1,Y-2)+v(d+Q-2,Y-1);
W[d+Q]=o(k,_)}var Q=l-1;while(Q>=2){var Y=y+Q,k=W[d+Q-1]+v(d+Q-1,Y-1),_=W[d+Q-2]+v(d+Q-1,Y-2)+v(d+Q-2,Y-1);
if(W[d+Q]==k){Z[Y-h]=1;Q-=1}else{Z[Y-h]=0;Z[Y-h-1]=2;Q-=2}}var Y=y;if(Q==0){Z[Y-h]=1}else{if(W[d+1]==$){Z[Y+1-h]=1;
Z[Y-h]=1}else{Z[Y+1-h]=0;Z[Y-h]=2}}y+=l;d+=l}e.Bj.akC(q,h,Z,j,S,g,!0,B)}if(H){console.log(Date.now()-B,"Matching");
B=Date.now()}var D=j;return[UZIP.adler(b,0,b.length),b,h,G,a,N,U,S,g,Z,D]};e.Bj.kj=function(b,h,G,H){var B=b.slice(0),j=B.shift(),s=B.shift(),q=B.shift(),Q=B.shift(),a=B.shift(),l=B.shift(),U=B.shift(),N=B.shift(),R=B.shift().slice(0),S=B.shift(),g=B.shift(),i=Date.now(),y=Math.abs(q-h),o=Math.floor(y/a),v=new Uint32Array(a),W=0,d=1e9,I=0,k=0,_=0;
for(var Z=0;Z<a;Z++)v[Z]=Z<a-1?o:y-(a-1)*o;g.fill(0);for(var $=0;$<q;$++){W=Math.max(W,R[$]);d=Math.min(d,R[$])}for(var Z=0;
Z<a;Z++){var D=l[Z],o=v[Z];for(var A=0;A<o;A++){var F=0,K=1e9;for(var $=0;$<D;$++)if(R[k+$]<K){K=R[k+$];
F=k+$}if(h<q)R[F]=1e9;else R[F]*=1.2;if(_<q/3)I+=K;var V=N[F],r=g[V],c=r<65280?65280:r+1;if(c<65280)throw"e";
for(var x=0;x<Q;x++){var Y=x*q+V;g[Y]=c;V+=S[Y]-1}_++}k+=D}if(H){console.log(Date.now()-i,"Removing best seams");
i=Date.now()}function X(Y,f){var t=Y<<2,n=f<<2;G[t]=s[n];G[t+1]=s[n+1];G[t+2]=s[n+2];G[t+3]=s[n+3]}for(var x=0;
x<Q;x++){var M=0,Y=x*q;for(var $=0;$<h;$++,M++){if(h<q){while(g[Y+M]==65280)M++;X(x*h+$,x*q+M)}else{X(x*h+$,x*q+M);
while(g[Y+M]>=65280){g[Y+M]--;$++;X(x*h+$,x*q+M)}}}}if(H){console.log(Date.now()-i,"Shifting image pixels");
i=Date.now()}};e.Bj.akC=function(b,h,G,H,B,j){var s=0,Y=b*h;while(s<h){if(G[Y-h]==1){j[s]=j[s]+H[Y];
s++;Y++}else{var q=B[s];B[s]=B[s+1];B[s+1]=q;var Q=j[s];j[s]=j[s+1]+H[Y];j[s+1]=Q+H[Y+1];s+=2;Y+=2}}};
e.Bj.aC7=function(b,h,G,H){function B(b,Y,Q){var U=Y<<2,N=Q<<2,R=b[U]-b[N],S=b[U+1]-b[N+1],g=b[U+2]-b[N+2];
return Math.abs(R)+Math.abs(S)+Math.abs(g)}for(var j=1;j<h;j++){var s=B(b,j,j-1);H[j-1]+=s;H[j]+=s}for(var q=1;
q<G;q++){var Q=q*h,s=B(b,Q,Q-h);H[Q]+=s;H[Q-h]+=s;for(var j=1;j<h;j++){var Y=q*h+j,a=B(b,Y,Y-1),l=B(b,Y,Y-h);
H[Y-h]+=l;H[Y-1]+=a;H[Y]+=l+a}}for(var q=0;q<G;q++){H[q*h]*=2;H[q*h+h-1]*=2}for(var Y=0;Y<H.length;Y++)if(H[Y]==0)H[Y]=1};
e.jN=function(){function b(){return 1953e6+Math.floor(Math.random()*999999)}function h(K,V){var r=V[0]-K[0],c=V[1]-K[1];
return r*r+c*c}function G(K,V,r,c,x,X,M,f){var t=r-K,n=c-V,L=e.N.yH(K,V,t,n,x,X,M-x,f-X),P=[K+L*t,V+L*n],z=L>0?[[[K,V],P,!1,0,1],[[x,X],P,!1,0,5]]:[[[r,c],P,!1,0,1],[[M,f],P,!1,0,5]];
return z}function H(K,V){var r=G(K[0],K[1],K[2],K[3],K[6],K[7],K[4],K[5]),c=G(K[0],K[1],K[6],K[7],K[2],K[3],K[4],K[5]),x=[r,c],X=[r[0][1],c[0][1]];
for(var Y=0;Y<2;Y++){var M=X[1-Y],f=x[Y];if(h(f[0][0],M)<h(f[1][0],M)){var t=f[0];f[0]=f[1];f[1]=t}}var n=[b(),0,-1,0,[0,0],r[0],r[1],c[0],c[1]],L=W(n,V),P=L[1][0];
n[3]=P;n[4]=L[0][P];n[5][3]=n[6][3]=L[0].indexOf(n[5][1]);n[7][3]=n[8][3]=L[0].indexOf(n[7][1]);if((n[6][3]+1)%3!=n[7][3]){var t=n[5];
n[5]=n[7];n[7]=t;var t=n[6];n[6]=n[8];n[8]=t}for(var Y=0;Y<4;Y++)n[5+Y][4]=[1,5,7,3][Y];return n}function B(K){var V=K[5],r=K[8],c=K[6],x=V[0],X=r[0],M=c[0],f=V[1],t=r[1],n=X[0],L=X[1],P=t[0]-n,z=t[1]-L,T=e.N.yH(n,L,P,z,M[0],M[1],f[0]-M[0],f[1]-M[1]);
return[x[0],x[1],n,L,n+T*P,L+T*z,M[0],M[1]]}function j(K,V){return K[0]==V[0]&&K[1]==V[1]}function s(K){return{1:0,5:1,7:2,3:3}[K]}function q(K,V,r){var c=V[5+s(K)],x=c[1],X=c[0][0]-x[0],M=c[0][1]-x[1],f=Math.sqrt(X*X+M*M);
X/=f;M/=f;for(var t=0;t<r.length;t++){var n=r[t];if(n[0]!=V[1]&&n[1]!=V[0])continue;for(var Y=0;Y<4;
Y++){var L=n[5+Y],P=L[0];if(!j(x,L[1]))continue;var z=P[0]-x[0],T=P[1]-x[1];f=Math.sqrt(z*z+T*T);z/=f;
T/=f;var p=z*X+T*M;if(Math.abs(p-1)<1e-7)return!0}}return!1}function Q(K,V){e.t.h(K,V);return V}function a(K,V){var r=[];
for(var c=0;c<K.length;c++){var x=K[c],X=x[1];for(var M=0;M<X.length;M++){if(V&&V[c].indexOf(M)==-1)continue;
var f=X[M],t=[],n=e.t.Kt(B(f),new io(0,0,1,1));for(var Y=1;Y<=7;Y+=2){t[Y]=q(Y,f,X)}if(!t[1]){if(!t[7])r.push([Q(n,[0,0]),c,M,0]);
r.push([Q(n,[.5,0]),c,M,1])}if(!t[3]){if(!t[1])r.push([Q(n,[1,0]),c,M,2]);r.push([Q(n,[1,.5]),c,M,3])}if(!t[5]){if(!t[3])r.push([Q(n,[1,1]),c,M,4]);
r.push([Q(n,[.5,1]),c,M,5])}if(!t[7]){if(!t[5])r.push([Q(n,[0,1]),c,M,6]);r.push([Q(n,[0,.5]),c,M,7])}}}return r}function l(K){var V=K.length-2,r=0;
for(var Y=0;Y<V;Y+=2)r+=(K[Y+2]-K[Y])*(K[Y+1]+K[Y+3]);r+=(K[0]-K[V])*(K[V+1]+K[1]);return-r*.5}function U(K,V,r,c){}function N(K,Y){var V=K[Y+2&7]-K[Y&7],r=K[Y+3&7]-K[Y+1&7],c=1/Math.sqrt(V*V+r*r);
return[V*c,r*c]}function R(K){var V=K[2];K[2]=K[6];K[6]=V;var V=K[3];K[3]=K[7];K[7]=V}function S(K,V,r,c){if(c==null)c=0;
var x=V[1],X=B(V),T=null,p,cX,e$,b4,hA,z,f$;if(x==0){if(l(X)<0)R(X);var M=6,f=X[7]+X[1];for(var Y=0;
Y<6;Y+=2){var t=X[Y+1]+X[Y+3];if(t<f){f=t;M=Y}}X=X.slice(M).concat(X.slice(0,M));var n=E.w8.d2(X,r[0],r[1]),L=Math.sqrt(h(X,X.slice(2))),P=Math.sqrt(h(X.slice(4),X.slice(6))),z=(L+P)*.5;
return[X,new io(0,0,z,z/n)]}for(var Y=0;Y<K.length&&T==null;Y++){p=K[Y][1];for(var m=0;m<p.length&&T==null;
m++)if(p[m][0]==x)T=p[m]}var O=S(K,T,r,c+1),cb=O[0];O=O[1];for(var Y=0;Y<8;Y+=2){var fz=cb[Y&7],eC=cb[Y+1&7],hw=cb[Y+2&7],az=cb[Y+3&7];
for(var m=0;m<8;m+=2){var av=X[m],ia=X[m+1],iJ=X[m+2&7],cx=X[m+3&7],hP=Math.abs(e.N.su(fz,eC,hw,az,av,ia))+Math.abs(e.N.su(fz,eC,hw,az,iJ,cx));
if(hP<=30){cX=m;e$=Y}}}var iS=N(cb,e$),e4=N(X,cX),cc=iS[0]-e4[0],aO=iS[1]-e4[1],bZ=cc*cc+aO*aO;if(bZ<.001){R(X);
cX={0:6,2:4,4:2,6:0}[cX]}while(cX!=(e$+4&7)){X.unshift(X.pop());cX=cX+1&7}var n=E.w8.d2(X,r[0],r[1]),d_=e.t.Kt(cb,O);
d_=e.t.Q6(d_);var ee=[X[cX],X[cX+1],X[cX+2&7],X[cX+3&7]];e.t.h(d_,ee);var e_=e.N.MP(ee);if(e$==0||e$==4){z=e_.j;
f$=z/n;b4=e_.x;hA=e_.y+(e$==0?-f$:0)}else{f$=e_._;z=f$*n;hA=e_.y;b4=e_.x+(e$==6?-z:0)}return[X,new io(b4,hA,z,f$)]}function g(K,V){function r(P,z,T,p){var m=Q(P,[z,T]);
m.push(p);return m}var c=[];for(var x=0;x<K.length;x++){var X=K[x],M=X[1];for(var f=0;f<M.length;f++){var t=M[f],n=S(K,t,V),L=n[0],P=e.t.Kt(L,new io(0,0,1,1));
c.push(r(P,.5,0,1));c.push(r(P,1,.5,3));c.push(r(P,.5,1,5));c.push(r(P,0,.5,7));c.push(r(P,.5,.5,[n?(n[1].j/n[1]._).toFixed(2):""].join(", ")))}}return c}function i(K,V,r,c){var x=[V],X=[V];
while(!0){var M=[];for(var Y=0;Y<K.length;Y++){var f=K[Y],t=!1;for(var n=0;n<x.length;n++){if(f[1]==K[x[n]][0]||f[0]==K[x[n]][1])M.push(Y)}}var L=x.length;
for(var Y=0;Y<M.length;Y++){var P=M[Y],f=K[P];if(X.indexOf(P)!=-1)continue;X.push(P);var z=S([[10,K]],f,c);
if(z[1].XR(r))x.push(P)}if(L==x.length)break}return x}function y(K,V,r){var c=r[0],x=r[1],X=V.x-K[0],M=V.y-K[1],f=e.N.yH(K[0],K[1],X,M,x[0],x[1],c[0]-x[0],c[1]-x[1]);
return[K[0]+f*X,K[1]+f*M]}function o(K,V,r){K=JSON.parse(JSON.stringify(K));var c=K[V[1]][1][V[2]],x=V[3]>=8,X=V[3]&7;
if((X&1)==0)return K;var M=s(X);if(X==1||X==7){var f=c[5+M],t=c[5+2-M],n=c[5+(X==1?3:1)],L=c[5+(X==1?1:3)],P=f[1],z=y(P,r,t);
if(!x&&h(z,t[1])<h(L[0],t[1]))return K;f[0]=t[0]=z;n[0]=y(P,r,n)}else{var n=c[5+M],P=n[1],f=c[5+(X==3?0:2)],z=y(P,r,f);
if(!x&&h(z,f[1])>h(f[0],f[1]))return K;if(Math.sign(f[1][0]-f[0][0])!=Math.sign(f[1][0]-z[0]))return K;
n[0]=z}return K}function v(K,V,r){var c=V[0]-K[0],x=V[1]-K[1],X=e.N.yH(r[0],r[1],-x,c,K[0],K[1],c,x);
return[r[0]-x*X,r[1]+c*X]}function Z(K,V,r){var c=r[0],x=r[1],Q=v(K,V,r),X=Q[0],M=Q[1],f=v(K,r,V),t=e.N.yH(X,M,c-X,x-M,V[0],V[1],f[0]-V[0],f[1]-V[1]);
return[X+(c-X)*t,M+(x-M)*t]}function W(K,V){var r=K[5][1],c=K[7][1],x=Z(r,c,V),X=[r,c,x];X.sort(function(t,n){return t[0]-n[0]});
if(l([X[0][0],X[0][1],X[1][0],X[1][1],X[2][0],X[2][1]])<0){var M=X[1];X[1]=X[2];X[2]=M}var f=[X.indexOf(r),X.indexOf(c),X.indexOf(x)];
return[X,f]}function d(K,V,r){K=JSON.parse(JSON.stringify(K));var c=V[1],x=K[c][1][V[2]],X=V[3];if((X&1)!=1)return K;
var M=W(x,r),f=M[1][2],t=M[0][f],n=JSON.parse(JSON.stringify(x));K[c][1].push(n);n[0]=b();n[1]=x[0];
n[2]=-10+X;n[3]=f;n[4]=t;if(X==1||X==5){n[7][3]=n[8][3]=f;n[7][1]=n[8][1]=t;if(X==5){n[5][0]=n[7][0]=x[6][0];
n[8][0]=B(x).slice(4,6)}}else{n[5][3]=n[6][3]=f;n[5][1]=n[6][1]=t;if(X==3){n[5][0]=n[7][0]=x[8][0];n[6][0]=B(x).slice(4,6)}}return K}function $(K,V,r){K=JSON.parse(JSON.stringify(K));
var c=V[1],x=K[c][1][V[2]],X=x[2]+10,M=X+4&7,f=X==1||X==5,t=x[5+s(f?7:1)][1],n=x[5+s(M)][0],L=x[5+s(X)][0];
x[2]=(f?90:0)+(h(n,t)<h(L,t)?180:0);var P=H(B(x),r);for(var Y=5;Y<9;Y++)x[Y]=P[Y];return K}function I(K,V,r){var g1=K.length>>1,c,x=K[2*g1-3]-r,X=K[2*g1-2]-V,M=K[2*g1-1]-r,f=!1,t=0;
for(var Y=0;Y<g1;Y++){c=X;x=M;X=K[2*Y]-V;M=K[2*Y+1]-r;if(x==M)continue;f=M>x}for(var Y=0;Y<g1;Y++){c=X;
x=M;X=K[2*Y]-V;M=K[2*Y+1]-r;if(x<0&&M<0)continue;if(x>0&&M>0)continue;if(c<0&&X<0)continue;if(x==M&&Math.min(c,X)<=0)return!0;
if(x==M)continue;var n=c+(X-c)*-x/(M-x);if(n==0)return!0;if(n>0)t++;if(x==0&&f&&M>x)t--;if(x==0&&!f&&M<x)t--;
f=M>x}return(t&1)==1}function k(K,V,r,c,x){var X=null;for(var M=0;M<K.length;M++){var f=K[M][1];for(var t=0;
t<f.length;t++){var n=B(f[t]);if(I(n,V,r)||x&&x[0]==M&&x[1]==t&&X==null){X=[M,t];if(c){var L=S(K,f[t],c),P=e.t.Kt(L[0],L[1]),z=[V,r];
P=e.t.Q6(P);e.t.h(P,z);X.push(z)}}}}return X}function _(K,V){for(var r=0;r<K.length;r++){var c=K[r][1],x=V[r];
if(x.length==0)continue;var X=D(c,x);for(var M=0;M<c.length;M++){if(X.indexOf(c[M][0])!=-1){c.splice(M,1);
M--}}}for(var r=0;r<K.length;r++)if(K[r][1].length==0){K.splice(r,1);r--}return K}function D(K,V){var r=[];
for(var Y=0;Y<10;Y++)for(var c=0;c<K.length;c++){var x=K[c];if(V.indexOf(c)!=-1||r.indexOf(x[1])!=-1)if(r.indexOf(x[0])==-1)r.push(x[0])}return r}function A(K){var V=J.lA(K,0,K.length),r=V.split("\n").slice(1);
function c(){return parseFloat(r.shift())}function x(){var av=[c(),c()];X(1);return av}function X(g1){for(var Y=0;
Y<g1;Y++)r.shift()}var M=[],f=c();for(var t=0;t<f;t++){var n=c(),L=c(),P=[];M.push([n,P]);for(var z=0;
z<L;z++){var T=c(),p=c(),m=c(),O=c(),cb=x(),cX=[T,p,m,O,cb];P.push(cX);for(var Y=0;Y<4;Y++){var e$=x(),fz=x(),eC=c()==1,hw=c(),az=c();
cX.push([e$,fz,eC,hw,az])}}}return M}function F(K){function V(L){r.push(L[0],L[1],"")}var r=["tNaF203"];
r.push(K.length);for(var c=0;c<K.length;c++){r.push(K[c][0]);var x=K[c][1];r.push(x.length);for(var X=0;
X<x.length;X++){var M=x[X];r.push(M[0],M[1],M[2],M[3]);V(M[4]);for(var Y=0;Y<4;Y++){var f=M[5+Y];V(f[0]);
V(f[1]);r.push(f[2]?1:0,f[3],f[4])}}}var t=r.join("\n"),n=new Uint8Array(t.length);J.K$(n,0,t);return n}return{wZ:A,Qg:F,azJ:B,arA:H,eF:a,ae$:o,nK:g,av3:function(K,V){return V&&(V[3]&1)==0&&K[V[1]][1].length==1},_g:function(K,V){return V&&(V[3]&1)==1},UG:S,alK:d,asB:$,al3:_,LL:D,QS:k,$c:i}}();
e.aED=function(){var b=0,h=0,H=15,j=256;function G(l,U,N,R,S,g){var i=(S-1)*U,y=g*U;return l[y+R]-l[y+N-1]-l[i+R]+l[i+N-1]}var B=Math.round(H/8),s=[];
function q(l,U){for(var N=0;N<U.length;N++){var R=U[N],S=0,g=0,i=l[R.K_],y=i.o6,o=i.Ps,v=i.CN;for(var Z=-H;
Z<=H;Z++)for(var W=-H;W<=H;W++){var d=W+R.aEl,$=Z+R.abP;if(W*W+Z*Z>H*H||d<0||$<0||d>=o||$>=o)continue;
var I=y[$*o+d];S+=W*I;g+=Z*I}R.k3=Math.atan2(g,S)}}function Q(l,U,N,R,S){var g=~~(l+.5),i=~~(U+.5);return G(N,R,g-B,g+B,i-B,i+B)}function a(l,U,N,R,S){b=R;
h=S;if(s.length==0){var g=new e.z.Zy(16200817),v=8,Z=0;function i(cb){var _=cb[0]-cb[2],D=cb[1]-cb[3];
return _*_+D*D}function y(){var cb=0,cX=0;while(cb===0)cb=g.get();while(cX===0)cX=g.get();return Math.sqrt(-2*Math.log(cb))*Math.cos(2*Math.PI*cX)}var o=y,W=[];
while(Z!=j){var d=Math.max(-H,Math.min(H,o()*v)),$=Math.max(-H,Math.min(H,o()*v)),I=Math.max(-H,Math.min(H,o()*v)),k=Math.max(-H,Math.min(H,o()*v)),_=d-I,D=$-k,A=Math.sqrt(_*_+D*D);
if(A<3||A>12)continue;s.push(d,$,I,k);Z++}}var F=20;for(var K=0;K<U.length;K++){var V=U[K],r=l[V.K_],c=r.h8,N=r.o6,R=r.Ps,S=r.CN,x=V.aEl,X=V.abP,M=V.k3,f=Math.cos(M),t=Math.sin(M),n=new Uint8Array(j>>>3);
V.yo=n;for(var Y=0;Y<j;Y++){var L=Y*4,d=s[L+0],$=s[L+1],I=s[L+2],k=s[L+3],P=f*d-t*$,z=t*d+f*$,T=f*I-t*k,p=t*I+f*k,m=Q(x+P,X+z,c,R,S),O=Q(x+T,X+p,c,R,S);
n[Y>>>3]|=(m<O?0:1)<<(Y&7)}}}return{a3k:q,afQ:a}}();e.ahV=function(){function b(h,G){var H=[[9]],B=Date.now(),j=[];
for(var s=0;s<h.length;s++){var q=h[s],Q=q.h8,a=q.Ps,l=q.CN,R=9,v=1,V=24;if(Q==null)continue;var U=new Float32Array(a*l),N=new Uint8Array(a*l),S=R>>>1,g=S>>>1,i=Math.round(R/3);
if(i!=R/3)throw"e";var y=1/(R*R),o=1.2*(R/9);for(var Z=S+1;Z<l-S;Z+=v)for(var W=S+1;W<a-S;W+=v){var d=e.Q8(Q,a,W-g,W+g,Z-S,Z+S)-3*e.Q8(Q,a,W-g,W+g,Z-S+i,Z+S-i),$=e.Q8(Q,a,W-S,W+S,Z-g,Z+g)-3*e.Q8(Q,a,W-S+i,W+S-i,Z-g,Z+g),I=W-S+1,k=W+S-1,_=Z-S+1,D=Z+S-1,A=e.Q8(Q,a,I,W-1,_,Z-1)+e.Q8(Q,a,W+1,k,Z+1,D)-e.Q8(Q,a,W+1,k,_,Z-1)-e.Q8(Q,a,I,W-1,Z+1,D),F=($*d-.9*A*(.9*A))*(y*y);
U[Z*a+W]=Math.abs(F);N[Z*a+W]=F<0?0:1}var K=a*v;for(var Z=V;Z<l-V;Z+=v)for(var W=V;W<a-V;W+=v){var Y=Z*a+W,r=U[Y];
if(r<16)continue;if(U[Y-v]>=r||U[Y+v]>=r)continue;if(U[Y-K-v]>=r||U[Y-K]>=r||U[Y-K+v]>=r)continue;if(U[Y+K-v]>=r||U[Y+K]>=r||U[Y+K+v]>=r)continue;
j.push({x:~~(W*q.gV+.5),y:~~(Z*q.gV+.5),aEl:W,abP:Z,K_:s,P:r,aa8:N[Y],Xk:o})}}if(G!=null){j.sort(function(L,P){return P.P-L.P});
j=j.slice(0,G)}return j;var c=[];for(var Y=0;Y<j.length;Y++){var x=!0,X=j[Y];for(var M=0;M<j.length;
M++){var f=j[M];if(M!=Y&&f.P>X.P&&(f.K_==X.K_+1||f.K_==X.K_-1)){var t=X.x-f.x,n=X.y-f.y;if(t*t+n*n<5){x=!1;
break}}}if(x)c.push(X)}console.log(j.length,c.length);return c}return{amM:b}}();e.pT={};e.pT.awX=function(b){var h=b.length,G=e.pT.a3m(b,!1),B=0,j=1;
throw"e";var H=[];for(var Y=0;Y<h;Y++)H[Y]=e.pT.a0I(G[Y]);var s=b[0][1],q=e.pT.match(G[B],G[j],H[j]);
console.log(q.length);var Q=Math.max(Math.min(q.length,40),q.length*.54);Q=Math.min(Q,200);var a=q.slice(0,Q),l=e.h2.alC(G[B],G[j],a,s.j,s._),U=e.h2.aob(l,[0,0,0],1),N=s.j/2,R=s._/2,S=1/Math.max(N,R);
for(var Y=0;Y<1;Y++){var g=a[Y],i=G[B][g[0]],y=G[j][g[1]],o=e.h2.arO(U,S*(i.x-N),S*(i.y-R),S*(y.x-N),S*(y.y-R))}var v=e.h2.apm(l,s),Z=[];
for(var Y=0;Y<2;Y++){var W=v[Y],d=[W[0][0],W[0][1],W[0][2],W[1][0],W[1][1],W[1][2],W[2][0],W[2][1]],$=E.Y.nW(b[Y],null,d);
Z.push([$.buffer,$.rect])}return[e.pT.aAM(Z[0],Z[1],G[B],G[j],a,l,v,s)]};e.pT.WQ=function(b,h){var G=b.length,H=!1,B=Date.now(),j=e.pT.a3m(b,!1,1e4);
if(H)console.log("Descriptors ready",Date.now()-B);B=Date.now();for(var Y=0;Y<G;Y++){var s=b[Y][1];for(var q=0;
q<j[Y].length;q++){j[Y][q].x+=s.x;j[Y][q].y+=s.y}}if(H)console.log("shifted",Date.now()-B);B=Date.now();
var Q=[];for(var Y=0;Y<G;Y++)Q[Y]=e.pT.a0I(j[Y]);if(H)console.log("trees built",Date.now()-B);B=Date.now();
var a=[];for(var Y=0;Y<G-1;Y++)for(var q=Y+1;q<G;q++){var l=e.pT.match(j[Y],j[q],Q[q]);if(H)console.log("Matches found",Y,q,l.length);
l=l.slice(0,l.length>>>1);if(l.length<10)continue;var U=e.pT.aEr(j[Y],j[q],l,2);a.push([Y,q,l,U])}a.sort(function(k,_){return _[2].length-k[2].length});
if(H)console.log("Matches found",Date.now()-B);B=Date.now();var N=[],R=new UnionFind(G);for(var Y=0;
Y<a.length;Y++){var S=a[Y],g=R.find(S[0]),i=R.find(S[1]);if(g!=i){N.push(S);R.link(g,i)}}var y=[];for(var Y=0;
Y<G;Y++)y[Y]=[1,0,0,0,1,0,0,0];var o=[0],v=new Uint8Array(G);v[o[0]]=1;while(o.length!=0){var i=o.pop(),U=y[i],Z=[];
for(var Y=0;Y<N.length;Y++){var S=N[Y],W=S[0],d=S[1];if(W==i&&v[d]==0){y[d]=e.t.Z$(U,S[3]);o.push(d);
v[d]=1}if(d==i&&v[W]==0){y[W]=e.t.Z$(U,e.t.Q6(S[3]));o.push(W);v[W]=1}}}if(h==null){var $=[];for(var Y=0;
Y<G;Y++)$.push([y[Y][2],Y]);$.sort(function(k,_){return k[0]-_[0]});h=$[$.length>>>1][1]}var I=e.t.Q6(y[h]);
for(var Y=0;Y<G;Y++)y[Y]=e.t.Z$(y[Y],I);if(H)console.log("Transforms reordered",Date.now()-B);B=Date.now();
return y};e.pT.a3m=function(b,h,G){var H=[],B=!1;for(var Y=0;Y<b.length;Y++){var j=b[Y][0],s=b[Y][1],q=s.j,Q=s._,a=e.U(s.X());
e.Rt(j,a);var l=Date.now(),U=e.pT.a0B(a,s,!0);if(B)console.log("Pyramid built ---------------",Date.now()-l);
l=Date.now();var N=e.ahV.amM(U,G);if(B)console.log("SURF Generation",Date.now()-l);l=Date.now();if(!h){e.aED.a3k(U,N);
if(B)console.log("ORB Orientations",Date.now()-l);l=Date.now();e.aED.afQ(U,N,a,q,Q);if(B)console.log("ORB Descriptors",Date.now()-l);
l=Date.now()}H.push(N)}return H};e.pT.a0B=function(b,h,G){var H=[],B=[b,h];e.HL(B);if(G){var j=e.aov(b,h),s=j.rect,q=[j.Ur,s];
e.HL(q)}for(var Y=0;Y<B.length;Y++){var Q=B[2*Y],a=B[2*Y+1],l=a.j,U=a._,N=Math.min(l,U);if(N<30)break;
if(N<1600)H.push({o6:Q,Ps:l,CN:U,gV:1<<Y,h8:e.va(Q,l,U)});if(!G)continue;var Q=q[2*Y],a=q[2*Y+1],l=a.j,U=a._,N=Math.min(l,U);
if(N<30)break;if(N<1600)H.push({o6:Q,Ps:l,CN:U,gV:(1<<Y)*3/2,h8:e.va(Q,l,U)})}return H};e.pT.aEr=function(b,h,G,H){var B=Date.now(),j,s=0,q=0,Q=G.length,a=new Float64Array(2);
for(var l=0;l<3e3;l++){var U=~~(Math.random()*Q),N=~~(Math.random()*Q),R=~~(Math.random()*Q),S=~~(Math.random()*Q),K=0,V=0;
if(U==N||U==R||U==S||N==R||N==S||R==S)continue;var g=G[U],i=G[N],y=G[R],o=G[S],v=b[g[0]],Z=h[g[1]],W=b[i[0]],d=h[i[1]],$=b[y[0]],I=h[y[1]],k=b[o[0]],_=h[o[1]],D=[v.x,v.y,W.x,W.y,$.x,$.y,k.x,k.y],A=[Z.x,Z.y,d.x,d.y,I.x,I.y,_.x,_.y],F=e.t.aya(D,A);
if(F[0]==0&&F[1]==0&&F[3]==0&&F[4]==0)continue;var r=Q-s+2;for(var Y=0;Y<Q&&Y-K<r;Y++){var c=b[G[Y][0]],x=h[G[Y][1]];
e.t.Vc(x.x,x.y,F,a);var X=a[0]-c.x,M=a[1]-c.y,f=X*X+M*M;if(f<H){K++;V+=f}}if(K>s||K==s&&V<q){j=F;s=K;
q=V}}return j};var fR=new Uint8Array(256);for(var Y=0;Y<256;Y++){var ky=0,g1=Y;while(g1!=0){g1=g1&g1-1;
ky++}fR[Y]=ky}e.pT.av6=function(b,h,G){var H=0,B=b.length;for(var Y=0;Y<B&&H<G;Y++)H+=fR[b[Y]^h[Y]];
return H};e.pT.axG=function(b,h,G,top,H){if(H[G]==1)return;var B=e.pT.av6(b.yo,h.yo,top[0]);if(B<top[0]){if(B<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=B;top[3]=G}else{top[0]=B;top[1]=G}}H[G]=1};e.pT.a0I=function(b){var h=[],G=[],H=[[],[]],B=4;
for(var Y=0;Y<b.length;Y++)(b[Y].aa8==0?h:G).push(Y);for(var j=0;j<2;j++){var s=new Array(B),q=[],Q=j==0?h:G,a=Q.length/256,l=[];
for(var U=0;U<32;U++){var N=new Array(256),g=0;for(var R=0;R<256;R++)N[R]=[];for(var R=0;R<Q.length;
R++){var S=Q[R];N[b[S].yo[U]].push(S)}for(var R=0;R<256;R++)g+=Math.abs(N[R].length-a);l.push([g,U,N])}l.sort(function(i,y){return i[0]-y[0]});
var q=[],s=[];H[j]=[q,s];for(var Y=0;Y<B;Y++){q.push(l[Y][1]);s.push(l[Y][2])}}return H};e.pT.match=function(b,h,G){var H=[],B=new Uint16Array(h.length);
B.fill(65535);var j=new Uint8Array(h.length),top=new Uint32Array(4),s=[];for(var q=0;q<b.length;q++){var Q=b[q],a=Q.yo;
top.fill(1e6);j.fill(0);var l=G[Q.aa8];for(var U=0;U<l[1].length;U++){var N=l[1][U][a[l[0][U]]];for(var R=0;
R<N.length;R++){var S=N[R];e.pT.axG(Q,h[S],S,top,j)}}if(top[2]<50&&top[2]<top[0]*.5){var g=B[top[3]];
if(g==65535){B[top[3]]=H.length;H.push([q,top[3],top[2]])}else if(top[2]<H[g][2]){H[g]=[q,top[3],top[2]]}}}H.sort(function(i,y){return i[2]-y[2]});
return H};e.pT.aaQ=function(b){var h=new io;for(var Y=0;Y<b.length;Y++)h=h.gJ(b[Y][1]);var G=e.U(h.X()*4);
for(var Y=0;Y<b.length;Y++)e.z.Nm("norm",b[Y][0],b[Y][1],G,h,h,1);return[G,h]};e.pT.aAM=function(b,h,G,H,B,j,s,q){var Q=b[1].clone(),a=Q.clone();
Q.x=Q.y=0;var l=h[1].clone(),U=l.clone();l.x=l.y=0;l.x=Q.j;var N=Q.gJ(l),R=U.y-a.y,S=e.U(N.X()*4);e.JE(b[0],Q,S,N);
e.JE(h[0],new io(l.x,l.y+R,l.j,l._),S,N);var g=document.createElement("canvas");g.width=N.j;g.height=N._;
var i=g.getContext("2d");i.lineWidth=.5;i.putImageData(new ImageData(new Uint8ClampedArray(S.buffer),N.j,N._),0,0);
if(j){var y=j[0],o=e.GF.BF(y),v=Q.j,Z=q.j;for(var Y=0;Y<B.length;Y++){var W=B[Y],b=G[W[0]],h=H[W[1]];
i.strokeStyle="#"+"ff0000";i.beginPath();var d=e.h2.aEk(o,s[0],h,0,Z),$=e.h2.aEk(y,s[1],b,0,Z);i.moveTo(-a.x+d[0],-a.y+d[1]);
i.lineTo(-a.x+d[2],-a.y+d[3]);i.moveTo(v-U.x+$[0],-U.y+R+$[1]);i.lineTo(v-U.x+$[2],-U.y+R+$[3]);i.stroke()}}if(B){var I=B.length;
for(var Y=0;Y<I;Y++){var W=B[Y],b=G[W[0]],h=H[W[1]];i.strokeStyle="#"+"ffff00"}}var k=new Uint8Array(i.getImageData(0,0,N.j,N._).data.buffer);
if(!1){for(var _=0;_<2;_++){var D=_==0?G:H,A=_*Q.j;for(var Y=0;Y<D.length;Y++){var F=D[Y],K=~~F.x,V=~~F.y,r=(V*N.j+K+A)*4;
k[r+1]=k[r+2]=F.asK*60;k[r+0]=0;k[r+3]=255}}}return[k,N]};e.stack={};e.stack.stack=function(b,h,G){var H=b.length,B=h.length;
if(H==1){h.set(b[0]);return}if(G=="avrg"||G=="stdv"||G=="summ"||G=="vari"){var j=1/H;for(var Y=0;Y<B;
Y++){var s=0;for(var q=0;q<H;q++)s+=b[q][Y];var Q=~~(s*j+.5);if(G=="avrg"||(Y&3)==3)h[Y]=Q;else if(G=="summ")h[Y]=255*Math.pow(Math.min(255,s)*(1/255),1/2.4);
else{var a=0;for(var q=0;q<H;q++){var l=b[q][Y]-Q;a+=l*l}var U=Math.sqrt(a*j)*(1/255);if(G=="stdv")h[Y]=255*Math.pow(U,1/2.4);
else h[Y]=255*Math.pow(U*U,1/2.4)}}}else if(G=="maxx"){for(var Y=0;Y<B;Y++){var N=0;for(var q=0;q<H;
q++)N=Math.max(N,b[q][Y]);h[Y]=N}}else if(G=="minn"){for(var Y=0;Y<B;Y++){var N=255;for(var q=0;q<H;
q++)N=Math.min(N,b[q][Y]);h[Y]=N}}else if(G=="medn"||G=="rang"){var R=function(y,o){return y-o},S=new Array(H),g=0,i=0;
if((H&1)==0){i=H>>>1;g=i-1}else{g=i=H>>>1}for(var Y=0;Y<B;Y++){for(var q=0;q<H;q++)S[q]=b[q][Y];S.sort(R);
if(G=="medn")h[Y]=S[g]+S[i]>>>1;else h[Y]=(Y&3)==3?S[H-1]:S[H-1]-S[0]}}else console.log(G)};e.ZD={};
e.ZD.a5B=function(b,h,G,H){var B=Date.now(),j=new Uint32Array(h*G),s=new Uint8Array(h*G);while(!0){s.fill(0);
j.fill(0);var q=[],Q=0;for(var a=0;a<G;a++){for(var l=0;l<h;l++){var Y=a*h+l;if(s[Y]==0){var U=q.length,N=e.ZD._D(b,h,G,l,a,s,j,U);
q.push([U,l,a,N[0],N[1],b[Y]]);if(N[0]<H)Q++}}}if(Q==0)break;var R=q.length,S=new UnionFind(R),g=[];
for(var Y=0;Y<R;Y++)g.push([]);for(var Y=0;Y<R;Y++){var N=q[Y],i=N[4],y=0,o=0;if(N[3]>=H)continue;var U=N[0];
for(var v=0;v<i.length;v+=2){var Z=j[i[v+1]*h+i[v]],W=q[Z];if(W[3]>o){o=W[3];y=Z}}if(S.find(U)!=S.find(y)){S.link(U,y);
g[U].push(y);g[y].push(U)}}var d=new Uint32Array(R);d.fill(4294967295);var $=new Uint32Array(R);for(var Y=0;
Y<R;Y++){if(d[Y]!=4294967295||g[Y].length==0)continue;var I=[Y],k=[Y],_=Y,D=q[Y][3];while(k.length!=0){var A=k.pop(),F=g[A];
for(var v=0;v<F.length;v++){var K=F[v];if(I.indexOf(K)==-1){I.push(K);k.push(K);var V=q[K];if(V[3]>D){D=V[3];
_=K}}}}for(var v=0;v<I.length;v++){d[I[v]]=_;var r=q[_];$[I[v]]=b[r[2]*h+r[1]]}}for(var a=0;a<G;a++)for(var l=0;
l<h;l++){var Y=a*h+l,c=d[j[Y]];if(c!=4294967295)b[Y]=$[c]}}};e.ZD._D=function(b,h,G,H,B,j,s,q){var Q=[H,B],a=b[B*h+H],l=0,U=[];
j[B*h+H]=1;while(Q.length!=0){var N=Q.pop(),R=Q.pop(),Y=N*h+R;s[Y]=q;l++;if(N!=G-1)if(b[Y+h]==a){if(j[Y+h]==0){Q.push(R,N+1);
j[Y+h]=1}}else U.push(R,N+1);if(N!=0)if(b[Y-h]==a){if(j[Y-h]==0){Q.push(R,N-1);j[Y-h]=1}}else U.push(R,N-1);
if(R!=h-1)if(b[Y+1]==a){if(j[Y+1]==0){Q.push(R+1,N);j[Y+1]=1}}else U.push(R+1,N);if(R!=0)if(b[Y-1]==a){if(j[Y-1]==0){Q.push(R-1,N);
j[Y-1]=1}}else U.push(R-1,N)}return[l,U]};e.ZD.agi=function(b,h,G){var H=new Uint32Array(h*G);for(var Y=0;
Y<H.length;Y++)H[Y]=b[Y];var B=[];for(var j=0;j<G;j++){for(var s=0;s<h;s++){var Y=j*h+s,q=H[Y];if(q<1e3){var Q=e.ZD.avm(H,h,G,s,j,1e3+B.length);
B.push([s,j,q,Q,0])}}}for(var Y=0;Y<H.length;Y++)H[Y]-=1e3;var a=new Float32Array(h*G);a.fill(h+G);for(var j=0;
j<G;j++)for(var s=0;s<h;s++){var Y=j*h+s,q=H[Y];if(s==0||j==0||H[Y-1]!=q||H[Y-h]!=q)a[Y]=0;else{var l=Math.min(a[Y],a[Y-1]+1,a[Y-h]+1);
if(H[Y-h-1]==q)l=Math.min(l,a[Y-h-1]+1.414);a[Y]=l}}for(var j=G-1;j>=0;j--)for(var s=h-1;s>=0;s--){var Y=j*h+s,q=H[Y];
if(s==h-1||j==G-1||H[Y+1]!=q||H[Y+h]!=q)a[Y]=0;else{var l=Math.min(a[Y],a[Y+1]+1,a[Y+h]+1);if(H[Y+h+1]==q)l=Math.min(l,a[Y+h+1]+1.414);
a[Y]=l}}for(var j=0;j<G;j++)for(var s=0;s<h;s++){var Y=j*h+s,U=B[H[Y]];if(a[Y]>U[4]){U[4]=a[Y];U[0]=s;
U[1]=j}}return B};e.ZD.avm=function(b,h,G,H,B,j){var s=[H,B],q=b[B*h+H],Q=0;b[B*h+H]=4294967295;while(s.length!=0){var B=s.pop(),H=s.pop(),Y=B*h+H;
Q++;b[Y]=j;if(B<G-1&&b[Y+h]==q){s.push(H,B+1);b[Y+h]=4294967295}if(B>0&&b[Y-h]==q){s.push(H,B-1);b[Y-h]=4294967295}if(H>0&&b[Y-1]==q){s.push(H-1,B);
b[Y-1]=4294967295}if(H<h-1&&b[Y+1]==q){s.push(H+1,B);b[Y+1]=4294967295}}return Q};e.ZD.anc=function(b,h,G,H,B){var j=e.ZD.ahC(b.buffer,h,G).qy,s=Date.now(),q=[];
for(var Y=0;Y<j.length;Y++){var Q=j[Y],a=1;for(var l=0;l<a;l++)q.push(Q.YW)}var U=new Uint32Array(q),N=UPNG.quantize.getKDtree(new Uint8Array(U.buffer),H),R=[h,1,-h,-1,h+1,-h+1,-h-1,h-1,h+h,2,-h-h,-2,h+h-1,h+h+1,h+2,-h+2,-h-h+1,-h-h-1,-h-2,h-2,h+h+2,-h-h+2-h-h-2,h+h-2],S=new Uint8Array(h*G),g=b;
for(var i=0;i<G;i++)for(var y=0;y<h;y++){var Y=i*h+y<<2,o=g[Y]*(1/255),v=g[Y+1]*(1/255),Z=g[Y+2]*(1/255),W=g[Y+3]*(1/255),d=e.ZD.RN(N,o,v,Z,W,B);
if(d==null){var $=[],I=0;while(I<20){var k=i*h+y+R[I]<<2,_=g[k]*(1/255),D=g[k+1]*(1/255),A=g[k+2]*(1/255),F=g[k+3]*(1/255),K=e.ZD.RN(N,_,D,A,F,.005);
if(K!=null){if($.indexOf(K)==-1){$.push(K);K.M3=1}else K.M3++}I++}$.sort(function(W,Z){return Z.M3-W.M3});
while($.length!=0&&$[$.length-1].M3<3)$.pop();if($.length==0)d=e.ZD.RN(N,o,v,Z,W,100);else if($.length==1)d=$[0];
else if($.length==2){var V=$[0],r=$[1],c=V.est.q,x=r.est.q,X=x[0]-c[0],M=x[1]-c[1],f=x[2]-c[2],t=x[3]-c[3],n=o-c[0],L=v-c[1],P=Z-c[2],z=W-c[3],T=X*X+M*M+f*f+t*t,p=n*n+L*L+P*P+z*z,m=(n*X+L*M+P*f+z*t)/T,O=p-m*m*T;
if(O<.5)d=m<.5?V:r;else{d=e.ZD.RN(N,o,v,Z,W,100)}}else{var V=$[0],r=$[1],cb=$[2],c=V.est.q,x=r.est.q,cX=cb.est.q,e$=c[0]-cX[0],fz=c[1]-cX[1],eC=c[2]-cX[2],hw=c[3]-cX[3],az=x[0]-cX[0],av=x[1]-cX[1],ia=x[2]-cX[2],iJ=x[3]-cX[3],cx=cX[0]-o,hP=cX[1]-v,iS=cX[2]-Z,e4=cX[3]-W,cc=e$*e$+fz*fz+eC*eC+hw*hw,aO=e$*az+fz*av+eC*ia+hw*iJ,bZ=cx*e$+hP*fz+iS*eC+e4*hw,d_=e$*az+fz*av+eC*ia+hw*iJ,ee=az*az+av*av+ia*ia+iJ*iJ,b4=cx*az+hP*av+iS*ia+e4*iJ,hA=1/(aO*d_-cc*ee),m=(ee*bZ-b4*aO)*hA,f$=(b4*cc-bZ*d_)*hA,e_=1-m-f$,fJ=Math.max(m,f$,e_);
if(fJ==m)d=V;else if(fJ==f$)d=r;else d=cb}}S[Y>>2]=d.ind}return{Oq:S,qy:N[1]}};e.ZD.ahC=function(b,h,G){var H=[],B={},j=h-1,s=G-1,q=0,Q=new Uint32Array(b),a=[-h-1,-h,-h+1,-1,1,h-1,h,h+1,h+h,2,-h-h,-2,h+h-1,h+h+1,h+2,-h+2,-h-h+1,-h-h-1,-h-2,h-2,h+h+2,-h-h+2-h-h-2,h+h-2];
for(var l=1;l<s;l++)for(var U=1;U<j;U++){var N=l*h+U,R=Q[N],S=!0;for(var Y=0;Y<8;Y++)S=S&&Q[N+a[Y]]==R;
if(S){q++;var g=B[R];if(g==null){B[R]=H.length;H.push({YW:R,aM:1})}else H[g].aM++}}return{qy:H,awG:q}};
e.ZD.RN=function(b,h,G,H,B,j){var s=UPNG.quantize.getNearest(b[0],h,G,H,B);return e.ZD.avH(s,h,G,H,B)<j?s:null};
e.ZD.avH=function(b,h,G,H,B){var j=b.est.q,s=h-j[0],q=G-j[1],Q=H-j[2],a=B-j[3];return s*s+q*q+Q*Q+a*a};
(function(){e.ZD.Dn=function(q,Q,a,l,U){var N=q.zf,R=Q*a,S=q.H4,g=q.Oq,i=H(l,g,N,R),y=new UnionFind(N),$=0;
for(var o=1;o<a;o++)for(var v=1;v<Q;v++){var Y=o*Q+v,Z=g[Y],W=0;if((W=g[Y-1])!=Z&&i[W]==i[Z]&&b(S,0,Z*6,W*6)<U)y.link(Z,W);
if((W=g[Y-Q])!=Z&&i[W]==i[Z]&&b(S,0,Z*6,W*6)<U)y.link(Z,W)}var d=new Uint16Array(N);d.fill(65535);var I=new Uint16Array(N);
for(var Y=0;Y<N;Y++){var k=y.find(Y);if(d[k]==65535)d[k]=$++;I[Y]=d[k]}var _=new Uint16Array(R);for(var Y=0;
Y<R;Y++)_[Y]=I[g[Y]];return{Oq:_,zf:$}};e.ZD.zG=function(q,Q,a){var l=e.U(Q),U=q.length;for(var Y=0;
Y<U;Y++){var N=a[Y];if(N==0||N==255){var R=q[Y],S=2-(N>>>7),g=l[R]=l[R]|S;if(g==3)return R}}return-1};
function b(q,Q,a,l){var U=1/q[a+5],N=1/q[l+5],R=q[a]*U-q[l]*N,S=q[a+1]*U-q[l+1]*N,g=q[a+2]*U-q[l+2]*N,i=q[a+3]*U-q[l+3]*N,y=q[a+4]*U-q[l+4]*N,o=Math.sqrt(R*R+S*S+g*g),v=Math.sqrt(i*i+y*y);
return~~(o+Q*v+.5)}function h(q,Q){var Y=0,a=q.length;while(Y!=a&&q[Y]!=Q)Y+=2;return Y==a?-1:Y}function G(q,Y){if(Y==q.length-2){q.pop();
q.pop()}else{q[Y+1]=q.pop();q[Y]=q.pop()}}e.ZD.aE$=function(q,Q,a,l,U){var N=new Uint32Array(U*4400),R=[];
for(var Y=0;Y<U;Y++)R.push([]);for(var S=0;S<a;S++)for(var g=0;g<Q;g++){var Y=S*Q+g,i=Y<<2,y=l[Y],o=0,v=q[i]>>>4,Z=q[i+1]>>>4,W=q[i+2]>>>4;
N[y*4400+(v<<8|Z<<4|W)]++;N[y*4400+4096]++;N[y*4400+4100+(v<<4|Z)]++;N[y*4400+4360+v]++;if(g!=0&&(o=l[Y-1])!=y&&h(R[y],o)==-1){R[y].push(o,0);
R[o].push(y,0)}if(S!=0&&(o=l[Y-Q])!=y&&h(R[y],o)==-1){R[y].push(o,0);R[o].push(y,0)}}for(var Y=0;Y<U;
Y++){var W=R[Y];for(var d=0;d<W.length;d+=2)W[d+1]=s(N,Y,W[d])}return[N,R]};function H(q,Q,a,l){var U=e.U(a);
for(var Y=0;Y<l;Y++){var N=q[Y];if(N==0||N==255)U[Q[Y]]=2-(N>>>7)}return U}e.ZD.afk=function(q,Q,a,l,U,N,R){var S=Q*a,g=R[0],i=R[1],y=new UnionFind(l),o=H(U,q,l,S),v=-1,Z=!0,W=0;
for(var Y=0;Y<l;Y++)if(o[Y]==1){if(v==-1)v=Y;else y.link(Y,v)}if(v==-1){for(var Y=0;Y<S;Y++)N[Y]=U[Y]==255?255:0;
return}while(Z){while(Z){Z=!1;for(var Y=0;Y<l;Y++){if(o[Y]==0){var d=B(i[Y]);if(o[d]==1){o[Y]=o[d];Z=!0;
y.link(Y,d)}}}}Z=!0;W=0;while(Z){Z=!1;for(var Y=0;Y<l;Y++){if(o[Y]==0){var d=B(i[Y]);if(o[d]==0){var $=Y*4400,I=d*4400;
for(var k=0;k<4400;k+=2){g[$+k]+=g[I+k];g[$+k+1]+=g[I+k+1]}j(i,g,Y,d);W++;o[d]=3;Z=!0;y.link(Y,d)}}}}Z=W!=0}var _=y.find(v);
for(var Y=0;Y<l;Y++)o[Y]=y.find(Y)==_?255:0;for(var Y=0;Y<S;Y++){N[Y]=o[q[Y]]}for(var Y=0;Y<S;Y++){var d=U[Y];
if(d==0||d==255)N[Y]=d}};function B(q){var Q=0,a=0,l=q.length;for(var U=0;U<l;U+=2){var N=q[U+1];if(N>a){a=N;
Q=U}}return q[Q]}function j(q,Q,a,l){var U=q[a],N=q[l];G(U,h(U,l));G(N,h(N,a));for(var Y=0;Y<N.length;
Y+=2){var R=N[Y],S=q[R];G(S,h(S,l));if(h(S,a)==-1){S.push(a,0);U.push(R,0)}}for(var Y=0;Y<U.length;Y+=2){var R=U[Y],S=q[R],g=s(Q,a,R);
U[Y+1]=g;S[h(S,a)+1]=g}}function s(q,Q,a){var l=0,U=4096,N=Q*4400,R=a*4400;for(var S=0;S<16;S++){if(q[N+4360+S]==0||q[R+4360+S]==0)continue;
for(var g=0;g<16;g++){var i=S<<4|g;if(q[N+4100+i]==0||q[R+4100+i]==0)continue;var y=N+(i<<4),o=R+(i<<4);
for(var Y=0;Y<16;Y++)l+=Math.sqrt(q[y+Y]*q[o+Y])}}var v=l/Math.sqrt(q[N+U]*q[R+U]);return~~(999.99999*v)}}());
e.ZD.t0=function(){var b,h,G,s=0,q=0;function H(R,S,g){var i=[],y=g,o=g,v=g>>>2;for(var Z=0;Z<S;Z++)for(var W=0;
W<R;W++){var d=~~((W+.5)*y),$=~~((Z+.5)*o),I=1e9,k=Math.max(0,d-v),_=Math.min(h,d+v+1),D=Math.max(0,$-v),A=Math.min(G,$+v+1);
for(var F=D;F<A;F++)for(var K=k;K<_;K++){var V=B(K,F);if(V<I){d=K;$=F;I=V}}i.push(d,$)}return i}function B(R,S){var g=(S*h+R)*4,i=h*4,y=j(g-4,g)+j(g,g+4),o=j(g-i,g)+j(g,g+i);
return y+o}function j(R,S){var g=b[R]-b[S],i=b[R+1]-b[S+1],y=b[R+2]-b[S+2];return g*g+i*i+y*y}function Q(R,S,g,i){q++;
if(i<s)s=i;R[i].push(S,g)}function a(R){q--;while(R[s].length==0)s++}function l(R,S,g,i,y){var o=(g*h+S)*4,v=i[y+5],Z=1/v,W=b[o]*v-i[y],d=b[o+1]*v-i[y+1],$=b[o+2]*v-i[y+2],I=S*v-i[y+3],k=g*v-i[y+4],_=Math.sqrt(W*W+d*d+$*$),D=Math.sqrt(I*I+k*k);
return~~((_+R*D)*Z+.5)}function U(R,S,g,i,y){b=R;h=S;G=g;s=0;q=0;var o=h*G,v=Math.round(Math.min(h,G)/(i?i:30));
if(v==0)v=1;var Z=(y?y:30)/v,W=Math.floor(h/v),d=Math.floor(G/v),$=new Uint16Array(o);for(var Y=0;Y<o;
Y++)$[Y]=65535;var I=H(W,d,v),k=I.length>>>1;if(k>65535)throw k;var _=new Uint32Array(k*6),D=[];for(var Y=0;
Y<1e3+G;Y++)D.push([]);var A=1e3*700/(h*G),F=Math.floor(d*A);F=Math.min(d,Math.max(4,F));F=d;var _=new Uint32Array(k*6);
for(var K=0;K<d;K+=F){var V=Math.min(K+F,d);for(var r=K;r<V;r++)for(var c=0;c<W;c++){var Y=r*W+c;Q(D,I[Y*2+1]<<16|I[Y*2],Y,0)}var x=Math.min(G,V*v);
if(K+F>=d)x=G;N(_,D,$,Z,x)}b=null;return{Oq:$,zf:k,H4:_,alJ:Z}}function N(R,S,g,i,y){while(q!=0){a(S);
var o=S[s].pop(),v=S[s].pop(),Z=v>>>16,W=v&65535,Y=Z*h+W;if(g[Y]==null)throw"e";if(g[Y]==65535){var d=o*6,$=Y<<2;
g[Y]=o;R[d]+=b[$];R[d+1]+=b[$+1];R[d+2]+=b[$+2];R[d+3]+=W;R[d+4]+=Z;R[d+5]++;if(Z!=y-1&&g[Y+h]==65535)Q(S,Z+1<<16|W,o,l(i,W,Z+1,R,d));
if(Z!=0&&g[Y-h]==65535)Q(S,Z-1<<16|W,o,l(i,W,Z-1,R,d));if(W!=0&&g[Y-1]==65535)Q(S,Z<<16|W-1,o,l(i,W-1,Z,R,d));
if(W!=h-1&&g[Y+1]==65535)Q(S,Z<<16|W+1,o,l(i,W+1,Z,R,d))}}}U.cf=function(R,S,g,i,y,o){b=R;h=S;G=g;var v=i.zf=i.zf+1,Z=i.Oq,W=i.H4,d=i.H4=new Uint32Array(v*6);
d.set(W,0);var $=Z[y[1]*h+y[0]];for(var Y=0;Y<Z.length;Y++)if(Z[Y]==$)Z[Y]=65535;for(var Y=0;Y<6;Y++)d[$*6+Y]=0;
var I=[];for(var Y=0;Y<1e3+G;Y++)I.push([]);for(var Y=0;Y<y.length;Y+=2)Q(I,y[Y+1]<<16|y[Y],$,0);for(var Y=0;
Y<o.length;Y+=2)Q(I,o[Y+1]<<16|o[Y],v-1,0);N(d,I,Z,i.alJ,G);b=null};return U}();e.aF1={};e.aF1.asG=function(){var b=11,h=7,G=b>>>1,g1=h>>>1,H=2,B=2e3/H,j=[],q=null,Q="";
function s(l,U,N){var R=(l[U+0]-l[N+0])*(1/255),S=(l[U+1]-l[N+1])*(1/255),g=(l[U+2]-l[N+2])*(1/255),i=(l[U+3]-l[N+3])*(1/255),y=R*R*.125+S*S*.25+g*g*.5+i*i;
return j[~~(y*B)]}function a(l,U,N,R,S,g){var i=Date.now(),y=e.U(U*N);e.Rt(l,y);var o=UZIP.adler(y,0,U*N);
if(o!=Q){var v=e.va(y,U,N);q=e.U(U*N*4);Q=o;var Z=[1,1/9,1/25,1/49,1/81];for(var W=0;W<N;W++)for(var d=0;
d<U;d++)for(var Y=0;Y<4;Y++){var $=Math.max(1,d-Y),I=Math.min(U-1,d+Y),k=Math.max(1,W-Y),_=Math.min(N-1,W+Y),D=e.Q8(v,U,$,I,k,_);
if(isNaN(D))throw d+","+W+","+Y+","+D;q[(W*U+d)*4+Y]=D*Z[Y]}}if(cG.pl){var A=cG.t4(0,U,N);A.set(l);var F=cG.t4(1,U,N);
F.set(q);var K=cG.t4(2,U,N);cG.UK(K);cG.filter.s_({type:cG.filter.aq1,mc:new Float32Array([1/U,1/N]),a96:F.P9,aw6:S,ax9:g},A.P9);
K.get(R)}else{for(var Y=0;Y<2e3;Y++)j[Y]=Math.exp(-(Y/2e3)*H*(100+(1-S)*(1-S)*1e4));var V=g1+2;for(var W=V;
W<N-V;W++)for(var d=V;d<U-V;d++){var r=0,c=0,x=0,X=0;for(var M=0;M<b;M++)for(var f=0;f<b;f++){var t=d+f-G,n=W+M-G;
if(t==d&&n==W||t<V||n<V||t>=U-V||n>=N-V)continue;var L=s(q,(W*U+d)*4,(n*U+t)*4),P=n*U+t<<2;r+=L*l[P+0];
c+=L*l[P+1];x+=L*l[P+2];X+=L}if(X==0){continue}var z=1/X,T=(W*U+d)*4;R[T+0]=~~((1-g)*z*r+g*R[T+0]);R[T+1]=~~((1-g)*z*c+g*R[T+1]);
R[T+2]=~~((1-g)*z*x+g*R[T+2])}}}return a}();e.ai7=function(){var b=6,h=b>>>1,G=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],H=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function B(g,i){var y=!1,o=g.length,v=i[0],$=5,k=0,_=0;for(var Y=1;Y<o;Y++)v=v.gJ(i[Y]);if((v.j&1)!=0)v.j++;
if((v._&1)!=0)v._++;var Z=v.j,W=v._,d=Math.max(Z,W);while(d>>>$>8&&$<10)$++;var I=1<<$;if(Z%I!=0)k=I-Z%I;
if(W%I!=0)_=I-W%I;v.Mx(k>>>1,_>>>1);Z=v.j;W=v._;if(Z%I!=0||W%I!=0)throw"e";var D=Date.now(),A=[],F=e.U(v.X()),K=[],V=Z*W,r=new Float32Array(Z*W*2);
for(var Y=0;Y<o;Y++){var c=i[Y],x=e.U(c.X());e.Rt(g[Y],x);F.fill(0);e.wX(x,c,F,v);A.push(F.slice(0));
var X=c.x-v.x,M=c.y-v.y,f=X+c.j-2,t=M+c._;for(var n=0;n<c._;n++){var L=(n+M)*Z;for(var P=0;P<X;P++)F[L+P]=F[L+X];
for(var P=f;P<Z;P++)F[L+P]=F[L+f-1]}for(var P=0;P<Z;P++){for(var n=0;n<M;n++)F[n*Z+P]=F[M*Z+P];for(var n=t;
n<W;n++)F[n*Z+P]=F[(t-1)*Z+P]}var z=new Float32Array(Z*W*2);K.push(z);for(var T=0;T<V;T++)z[T*2]=F[T]*(1/255);
Q(z,r,Z,W,$);j(z,Z,W,$)}if(y)console.log("to gray, decompose",Date.now()-D);D=Date.now();var p=e.U(Z*W);
for(var n=0;n<W;n++)for(var P=0;P<Z;P++){var m=0,O=0,cb=n*Z+P<<1;for(var Y=0;Y<o;Y++){var cX=K[Y],e$=cX[cb],fz=cX[cb+1],eC=e$*e$+fz*fz;
if(eC>O){O=eC;m=Y}}p[cb>>>1]=m}if(y)console.log("max abs value",Date.now()-D);D=Date.now();s(p,Z,W,$);
q(p,Z,W);if(y)console.log("denoise",Date.now()-D);D=Date.now();var hw=r.slice(0);for(var n=0;n<W;n++)for(var P=0;
P<Z;P++){var Y=n*Z+P,cb=Y<<1,az=K[p[Y]];hw[cb]=az[cb];hw[cb+1]=az[cb+1]}a(hw,r,Z,W,$);if(y)console.log("compose",Date.now()-D);
D=Date.now();for(var T=0;T<V;T++){var eC=hw[T*2]*255,m=0,O=1e9;for(var Y=0;Y<o;Y++){var av=Math.abs(A[Y][T]-eC);
if(av<O){O=av;m=Y}A[Y][T]=0}A[m][T]=255}if(y)console.log("toRGB",Date.now()-D);D=Date.now();return[A,v]}function j(g,i,y,o){var v=i>>>o,Z=y>>>o,W=1e-4;
for(var d=0;d<y;d++)for(var $=0;$<i;$++){if($<v&&d<Z)continue;var I=(d*i+$)*2,k=g[I],_=g[I+1],D=k*k+_*_;
if(D<W)k=_=0;else{var A=(D-W)/D;k*=A;_*=A}g[I]=k;g[I+1]=_}}function s(g,i,y,o){for(var v=0;v<o;v++){var Z=i>>>v,W=y>>>v,d=Z>>>1,$=W>>>1;
for(var I=0;I<$;I++)for(var k=0;k<d;k++){var _=I*i+d+k,D=(I+$)*i+d+k,A=(I+$)*i+k,F=g[_],K=g[D],V=g[A];
if(F==K==V){}else if(F==K)g[A]=F;else if(K==V)g[_]=K;else if(F==V)g[D]=F}}}function q(g,i,y){for(var o=1;
o<y-1;o++)for(var v=1;v<i-1;v++){var Y=o*i+v,Z=g[Y-i],W=g[Y-1],d=g[Y],$=g[Y+1],I=g[Y+i],k=Z==W&&Z==$||Z==$&&$==I||$==I&&W==I||Z==W&&I==W;
if(k)g[Y]=Z==W?Z:W==$?W:Z;else if(d>Z&&d>W&&d>$&&d>I)g[Y]=Z+W+$+I>>>2;else if(d<Z&&d<W&&d<$&&d<I)g[Y]=Z+W+$+I>>>2}}function Q(g,i,y,o,v){for(var Y=0;
Y<v;Y++){var Z=y>>>Y,W=o>>>Y;l(g,i,y,o,Z,W)}}function a(g,i,y,o,v){for(var Y=v-1;Y>=0;Y--){var Z=y>>Y,W=o>>Y;
U(g,i,y,o,Z,W)}}function l(g,i,y,o,v,Z){R(g,i,y,o,v,Z,!0);R(i,g,y,o,v,Z,!1)}function U(g,i,y,o,v,Z){S(g,i,y,o,v,Z,!0);
S(i,g,y,o,v,Z,!1)}function N(g,i,y,o,v,Z){var W=y*o+i<<1;g[W]=v;g[W+1]=Z}function R(g,i,y,o,v,Z,W){var ky=W?v:Z,d=W?Z:v,$=d>>>1;
for(var I=0;I<ky;I++){for(var k=0;k<d;k+=2){var _=0,D=0,A=0,F=0,K=k>>>1;for(var V=0;V<6;V++){var r=k+V-3;
if(r<0)r=d+r;if(r>=d)r=r-d;var c=(W?r*y+I:I*y+r)<<1,x=g[c],X=g[c+1],M=G[V],f=H[V];_+=x*M[0]-X*M[1];D+=X*M[0]+x*M[1];
A+=x*f[0]-X*f[1];F+=X*f[0]+x*f[1]}if(W){N(i,I,K,y,_,D);N(i,I,K+$,y,A,F)}else{N(i,K,I,y,_,D);N(i,K+$,I,y,A,F)}}}}function S(g,i,y,o,v,Z,W){var ky=W?v:Z,d=W?Z:v,$=d>>>1,I,k,_,D;
for(var A=0;A<ky;A++){for(var F=0;F<d;F++){var K=0,V=0;for(var r=F+3&1;r<6;r+=2){var c=F-r+3>>1;if(c<0)c=$+c;
if(c>=$)c=c-$;if(W){I=A;k=c;_=A;D=c+$}else{k=A;I=c;D=A;_=c+$}var x=k*y+I<<1,X=D*y+_<<1,M=g[x],f=g[x+1],t=g[X],n=g[X+1],L=G[r],P=H[r];
K+=M*L[0]+t*P[0];K+=f*L[1]+n*P[1];V+=f*L[0]+n*P[0];V-=M*L[1]+t*P[1]}if(W)N(i,A,F,y,K,V);else N(i,F,A,y,K,V)}}}return{EP:B}}();
e.a5x=function(){var b=Math.floor(12e3/8),h=UPNG.quantize.findNearest,G,H,B,j;function s(N,R,S,g){var i=[N,new io(0,0,R,S)],o;
e.tT(i);var y=Date.now(),v=R+S>>>1;for(var Y=v<1e3?2:4;Y>=0;Y-=2){var Z=i[Y+1],H=Z.j,B=Z._;if(o==null){o=new Uint8Array(H*B);
h(i[Y],o,g)}q(i[Y],H,B,g,o);if(Y!=0){var W=i[Y-1],d=W.j,$=W._,I=new Uint8Array(d*$);for(var k=0;k<$;
k++)for(var _=0;_<d;_++)I[k*d+_]=o[(k>>>1)*H+(_>>>1)];o=I}}return o}function q(N,R,S,g,i){G=N;H=R;B=S;
j=g;var y=j.length>>>2,o=[-1,-H,1,H],v=[-1,-H,-H+1,2,H+1,H],Z=[-1,-H,1,H+1,H+H,H-1],W=8,d=H+B>>>1,$=1e9;
while(d>512){W>>=1;d>>=1}W=Math.max(1,Math.min(4,W));for(var I=0;I<W;I++){var k=0;for(var _=0;_<B;_++)for(var D=0;
D<H;D++){if(l(i,D,_)<2)continue;var A=_*H+D,F=i[A],K=1e9,V=0,r=D==0||_==0||D>H-3||_>B-3;if(r){K=1e9;
for(var Y=0;Y<y;Y++){i[A]=Y;var c=U(i,D,_,2);if(c<K){K=c;V=Y}}i[A]=V;if(V==F&&D+1<H&&i[A+1]==F){K=1e9;
for(var Y=0;Y<y;Y++){i[A]=i[A+1]=Y;var c=U(i,D,_,2)+U(i,D+1,_,2);if(c<K){K=c;V=Y}}i[A]=i[A+1]=V}if(V==F&&_+1<B&&i[A+H]==F){K=1e9;
for(var Y=0;Y<y;Y++){i[A]=i[A+H]=Y;var c=U(i,D,_,2)+U(i,D,_+1,2);if(c<K){K=c;V=Y}}i[A]=i[A+H]=V}}else{K=1e9;
V=-1;for(var Y=0;Y<4;Y++){var x=i[A+o[Y]];if(x==V)continue;i[A]=x;var c=U(i,D,_,2);if(c<K){K=c;V=x}}i[A]=V;
if(V==F&&D+1<H&&i[A+1]==F){K=1e9;V=-1;for(var Y=0;Y<6;Y++){var x=i[A+v[Y]];if(x==V)continue;i[A]=i[A+1]=x;
var c=U(i,D,_,2)+U(i,D+1,_,2);if(c<K){K=c;V=x}}i[A]=i[A+1]=V}if(V==F&&_+1<B&&i[A+H]==F){K=1e9;V=-1;for(var Y=0;
Y<6;Y++){var x=i[A+Z[Y]];if(x==V)continue;i[A]=i[A+H]=x;var c=U(i,D,_,2)+U(i,D,_+1,2);if(c<K){K=c;V=x}}i[A]=i[A+H]=V}}k+=K}}}function Q(N){var R=0;
for(var S=0;S<B;S++)for(var g=0;g<H;g++)R+=U(N,g,S,1);return R/(H*B)}function a(N,R,S){var Y=S*H+R,g=Y*4,i=N[Y]*4,y=G[g]-j[i],o=G[g+1]-j[i+1],v=G[g+2]-j[i+2],Z=G[g+3]-j[i+3];
return y*y+o*o+v*v+Z*Z}function l(N,R,S){if(R<0||R>=H||S<0||S>=B)throw"e";var Y=S*H+R,g=N[Y],i=0;if(S>0&&g!=N[Y-H])i+=2;
if(R>0&&g!=N[Y-1])i+=2;if(R<H-1&&g!=N[Y+1])i+=2;if(S<B-1&&g!=N[Y+H])i+=2;if(S>0&&R>0&&g!=N[Y-H-1])i++;
if(S<B-1&&R>0&&g!=N[Y+H-1])i++;if(S>0&&R<H-1&&g!=N[Y-H+1])i++;if(S<B-1&&R<H-1&&g!=N[Y+H+1])i++;return i}function U(N,R,S,g){return a(N,R,S)+l(N,R,S)*g*b}return s}();
var b0=function(){function b(){this.X=0;this.Ho=0;this.M9={};this.I1=[];this.S4=1e5;this.n$=1e5;this.aH=-1;
this.eD=-1;this.color=0}function h(g1){this.LG=g1;this.cy=new Array(g1);this.YW=new Array(g1*6);this.az8=0;
this.$F=new Array(g1*2);this.alpha=new Array(g1);this.vv=new Array(g1);this.TT=new Array(g1)}function G(B,j,s,q){function Q(i,y,B,j){return B[j*y+i]}function a(Y){var $=B.length;
while(Y<$&&B[Y]==0)Y++;return Y<$?Y:-1}function l(i,y,$){for(var Y=2;Y<5;Y++){var I=0;for(var k=-Y+1;
k<=Y-1;k++){I+=Q(i+k,y+Y-1,B,j)==$?1:-1;I+=Q(i+Y-1,y+k-1,B,j)==$?1:-1;I+=Q(i+k-1,y-Y,B,j)==$?1:-1;I+=Q(i-Y,y+k,B,j)==$?1:-1}if(I>0)return 1;
else if(I<0)return 0}return 0}function U($,S){var g=new b,i=$,y=S,I=0,k=1,_;g.color=B[S*j+$];g.sign=Q($,S,B,j)==g.color?"+":"-";
while(1){g.I1.push(i,y);if(i>g.aH)g.aH=i;if(i<g.S4)g.S4=i;if(y>g.eD)g.eD=y;if(y<g.n$)g.n$=y;g.Ho++;i+=I;
y+=k;g.X-=i*k;if(i==$&&y==S)break;var D=Q(i+(I+k-1>>1),y+(k-I-1>>1),B,j)==g.color,A=Q(i+(I-k-1>>1),y+(k+I-1>>1),B,j)==g.color;
if(A&&!D){if(q.qb=="right"||q.qb=="black"&&g.sign=="+"||q.qb=="white"&&g.sign=="-"||q.qb=="majority"&&l(i,y,g.color)||q.qb=="minority"&&!l(i,y,g.color)){_=I;
I=-k;k=_}else{_=I;I=k;k=-_}}else if(A){_=I;I=-k;k=_}else if(!D){_=I;I=k;k=-_}}return g}var N=0,R=[];
while(!0){var N=a(N);if(N==-1)break;var S=Math.floor(N/j),g=U(N-S*j,S);for(var Y=0;Y<g.I1.length-2;Y+=2){var i=g.I1[Y],y=g.I1[Y+1],o=y*j+i;
if(i==g.I1[Y+2]&&y+1==g.I1[Y+3]&&B[o]!=0)b0.fill(o,B,j,0)}if(g.X>q.akU)R.push(g)}for(var Y=0;Y<R.length;
Y++)R[Y].parent=-1;var v=Date.now();for(var Y=1;Y<R.length;Y++){var Z=R[Y];for(var W=Y-1;W>=0;W--){var d=R[W];
if(Z.S4<d.S4||Z.aH>d.aH||Z.n$<d.n$||Z.eD>d.eD)continue;if(!b0.Xh(d.I1,Z.I1[0]+.5,Z.I1[1]+.5))continue;
Z.parent=W;break}}return R}function H(B,j){function s(I,k,_,D,A){this.x=I;this.y=k;this.vy=_;this.gy=D;
this.Fi=A}function q(I,g1){return(g1+I)%g1}function Q(I,k,_,D){return I*D-_*k}function a(I,k,_,D){return I*_+k*D}function l(I,k,_){if(I<=_)return I<=k&&k<_;
else return I<=k||k<_}function U(I,k,_){var D=0;D+=k*I[0]*k;D+=k*I[1]*_;D+=k*I[2];D+=_*I[3]*k;D+=_*I[4]*_;
D+=_*I[5];D+=I[6]*k;D+=I[7]*_;D+=I[8];return D}function N(I,k,_){return k+I*(_-k)}function R(I,k,_,D){var A=Math.sign(_-I),F=-Math.sign(D-k);
return A*(_-I)-F*(D-k)}function S(I,k){return Math.sqrt(I*I+k*k)}function g(I,k,_,D,A){var F=1-I;return F*F*F*k+3*(F*F*I)*_+3*(I*I*F)*D+I*I*I*A}function i(I,k,_,D,A,F,K,V){var r=Q(I,k,K,V),c=Q(_,D,K,V),x=Q(A,F,K,V),X=r-2*c+x,M=-2*r+2*c,f=r,t=M*M-4*X*f;
if(X==0||t<0)return-1;var n=Math.sqrt(t),L=(-M+n)/(2*X),P=(-M-n)/(2*X);if(L>=0&&L<=1)return L;else if(P>=0&&P<=1)return P;
else return-1}function y($){var Y,I,k;$.ea=$.I1[0];$.ar7=$.I1[1];$.dF=[];var _=$.dF;_.push(new s(0,0,0,0,0));
for(Y=0;Y<$.Ho;Y++){I=$.I1[Y<<1]-$.ea;k=$.I1[(Y<<1)+1]-$.ar7;_.push(new s(_[Y].x+I,_[Y].y+k,_[Y].vy+I*k,_[Y].gy+I*I,_[Y].Fi+k*k))}}function o($){var g1=$.Ho,I=$.I1,k,_=new Array(g1),D=new Array(g1),A=new Array(4),F,K,V,r,c,x,X,M,f,t,n,Y,L,P,z,T,p,m,O=0;
$.hv=new Array(g1);for(Y=g1-1;Y>=0;Y--){if(I[Y<<1]!=I[O<<1]&&I[(Y<<1)+1]!=I[(O<<1)+1])O=Y+1;D[Y]=O}for(Y=g1-1;
Y>=0;Y--){var cb=q(Y+1,g1)<<1;A[0]=A[1]=A[2]=A[3]=0;k=(3+3*(I[cb]-I[Y<<1])+(I[cb+1]-I[(Y<<1)+1]))/2;
A[k]++;F=0;K=0;V=0;r=0;O=D[Y];P=Y;while(1){n=0;k=(3+3*Math.sign(I[O*2]-I[P*2])+Math.sign(I[O*2+1]-I[P*2+1]))/2;
A[k]++;if(A[0]&&A[1]&&A[2]&&A[3]){_[Y]=P;n=1;break}f=I[O*2]-I[Y*2];t=I[O*2+1]-I[Y*2+1];if(Q(F,K,f,t)<0||Q(V,r,f,t)>0){break}if(Math.abs(f)<=1&&Math.abs(t)<=1){}else{c=f+(t>=0&&(t>0||f<0)?1:-1);
x=t+(f<=0&&(f<0||t<0)?1:-1);if(Q(F,K,c,x)>=0){F=c;K=x}c=f+(t<=0&&(t<0||f<0)?1:-1);x=t+(f>=0&&(f>0||t<0)?1:-1);
if(Q(V,r,c,x)<=0){V=c;r=x}}P=O;O=D[P];if(!l(O,Y,P)){break}}if(n==0){X=Math.sign(I[O*2]-I[P*2]);M=Math.sign(I[O*2+1]-I[P*2+1]);
f=I[P*2]-I[Y*2];t=I[P*2+1]-I[Y*2+1];z=Q(F,K,f,t);T=Q(F,K,X,M);p=Q(V,r,f,t);m=Q(V,r,X,M);L=1e7;if(T<0){L=Math.floor(z/-T)}if(m>0){L=Math.min(L,Math.floor(-p/m))}_[Y]=q(P+L,g1)}}L=_[g1-1];
$.hv[g1-1]=L;for(Y=g1-2;Y>=0;Y--){if(l(Y+1,_[Y],L)){L=_[Y]}$.hv[Y]=L}for(Y=g1-1;l(q(Y+1,g1),L,$.hv[Y]);
Y--){$.hv[Y]=L}}function v($){function I($,Y,k){var g1=$.Ho,f=$.I1,t=$.dF,n,L,P,z,T,D,p,m,M,O,cb,cX,e$,fz,eC=0;
if(k>=g1){k-=g1;eC=1}if(eC==0){n=t[k+1].x-t[Y].x;L=t[k+1].y-t[Y].y;z=t[k+1].gy-t[Y].gy;P=t[k+1].vy-t[Y].vy;
T=t[k+1].Fi-t[Y].Fi;D=k+1-Y}else{n=t[k+1].x-t[Y].x+t[g1].x;L=t[k+1].y-t[Y].y+t[g1].y;z=t[k+1].gy-t[Y].gy+t[g1].gy;
P=t[k+1].vy-t[Y].vy+t[g1].vy;T=t[k+1].Fi-t[Y].Fi+t[g1].Fi;D=k+1-Y+g1}cb=(f[Y<<1]+f[k<<1])/2-f[0];cX=(f[(Y<<1)+1]+f[(k<<1)+1])/2-f[1];
fz=f[k<<1]-f[Y<<1];e$=-(f[(k<<1)+1]-f[(Y<<1)+1]);p=(z-2*n*cb)/D+cb*cb;m=(P-n*cX-L*cb)/D+cb*cX;M=(T-2*L*cX)/D+cX*cX;
O=e$*e$*p+2*e$*fz*m+fz*fz*M;return Math.sqrt(O)}var Y,k,_,D,g1=$.Ho,A=new Array(g1+1),F=new Array(g1+1),K=new Array(g1),V=new Array(g1+1),r=new Array(g1+1),c=new Array(g1+1),x,X,M;
for(Y=0;Y<g1;Y++){M=q($.hv[q(Y-1,g1)]-1,g1);if(M==Y){M=q(Y+1,g1)}if(M<Y){K[Y]=g1}else{K[Y]=M}}k=1;for(Y=0;
Y<g1;Y++){while(k<=K[Y]){V[k]=Y;k++}}Y=0;for(k=0;Y<g1;k++){r[k]=Y;Y=K[Y]}r[k]=g1;_=k;Y=g1;for(k=_;k>0;
k--){c[k]=Y;Y=V[Y]}c[0]=0;A[0]=0;for(k=1;k<=_;k++){for(Y=c[k];Y<=r[k];Y++){X=-1;for(D=r[k-1];D>=V[Y];
D--){x=I($,D,Y)+A[D];if(X<0||x<X){F[Y]=D;X=x}}A[Y]=X}}$.aAJ=_;$.anB=new Array(_);for(Y=g1,k=_-1;Y>0;
k--){Y=F[Y];$.anB[k]=Y}}function Z($){function I($,Y,x,K,V,hw){var g1=$.Ho,az=$.dF,av=0,M;while(x>=g1){x-=g1;
av+=1}while(Y>=g1){Y-=g1;av-=1}while(x<0){x+=g1;av-=1}while(Y<0){Y+=g1;av+=1}var ia=az[x+1].x-az[Y].x+av*az[g1].x,iJ=az[x+1].y-az[Y].y+av*az[g1].y,cx=az[x+1].gy-az[Y].gy+av*az[g1].gy,hP=az[x+1].vy-az[Y].vy+av*az[g1].vy,iS=az[x+1].Fi-az[Y].Fi+av*az[g1].Fi,X=x+1-Y+av*g1;
K[hw]=ia/X;K[hw+1]=iJ/X;var e4=(cx-ia*ia/X)/X,cc=(hP-ia*iJ/X)/X,aO=(iS-iJ*iJ/X)/X,bZ=(e4+aO+Math.sqrt((e4-aO)*(e4-aO)+4*cc*cc))/2;
e4-=bZ;aO-=bZ;if(Math.abs(e4)>=Math.abs(aO)){M=Math.sqrt(e4*e4+cc*cc);if(M!=0){V[hw]=-cc/M;V[hw+1]=e4/M}}else{M=Math.sqrt(aO*aO+cc*cc);
if(M!=0){V[hw]=-aO/M;V[hw+1]=cc/M}}if(M==0){V[hw]=V[hw+1]=0}}var k=$.aAJ,_=$.anB,g1=$.Ho,D=$.I1,A=$.ea,F=$.ar7,K=new Array(k*2),V=new Array(k*2),r=new Array(k),c=new Array(3),Y,x,X,M,L,P,z,T,p,m,O;
$.M9=new h(k);for(Y=0;Y<k;Y++){x=_[q(Y+1,k)];x=q(x-_[Y],g1)+_[Y];K[Y<<1]=0;K[(Y<<1)+1]=0;V[Y<<1]=0;V[(Y<<1)+1]=0;
I($,_[Y],x,K,V,Y<<1)}for(Y=0;Y<k;Y++){r[Y]=[0,0,0,0,0,0,0,0,0];var f=V[Y<<1]*V[Y<<1]+V[(Y<<1)+1]*V[(Y<<1)+1],t=1/f;
if(f!=0){c[0]=V[(Y<<1)+1];c[1]=-V[Y<<1];c[2]=-c[1]*K[(Y<<1)+1]-c[0]*K[Y<<1];for(M=0;M<3;M++){r[Y][M*3+0]=c[M]*c[0]*t;
r[Y][M*3+1]=c[M]*c[1]*t;r[Y][M*3+2]=c[M]*c[2]*t}}}var n=[0,0,0,0,0,0,0,0,0];for(Y=0;Y<k;Y++){n[0]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=0;
var cb=D[_[Y]<<1]-A,cX=D[(_[Y]<<1)+1]-F,e$=0,fz=0;x=q(Y-1,k);for(M=0;M<9;M+=3){n[M+0]=r[x][M+0]+r[Y][M+0];
n[M+1]=r[x][M+1]+r[Y][M+1];n[M+2]=r[x][M+2]+r[Y][M+2]}while(1){var eC=n[0]*n[4]-n[1]*n[3];if(eC!=0){e$=(-n[2]*n[4]+n[5]*n[0])/eC;
fz=(n[2]*n[3]-n[5]*n[0])/eC;break}if(n[0]>n[4]){c[0]=-n[1];c[1]=n[0]}else if(n[4]){c[0]=-n[4];c[1]=n[3]}else{c[0]=1;
c[1]=0}var f=c[0]*c[0]+c[1]*c[1],t=1/f;c[2]=-c[1]*cX-c[0]*cb;for(M=0;M<3;M++){n[M*3+0]+=c[M]*c[0]*t;
n[M*3+1]+=c[M]*c[1]*t;n[M*3+2]+=c[M]*c[2]*t}}L=Math.abs(e$-cb);P=Math.abs(fz-cX);if(L<=.5&&P<=.5){$.M9.$F[Y<<1]=e$+A;
$.M9.$F[(Y<<1)+1]=fz+F;continue}z=U(n,cb,cX);p=cb;m=cX;if(n[0]!=0){for(O=0;O<2;O++){fz=cX-.5+O;e$=-(n[1]*fz+n[2])/n[0];
L=Math.abs(e$-cb);T=U(n,e$,fz);if(L<=.5&&T<z){z=T;p=e$;m=fz}}}if(n[4]!=0){for(O=0;O<2;O++){e$=cb-.5+O;
fz=-(n[3]*e$+n[5])/n[4];P=Math.abs(fz-cX);T=U(n,e$,fz);if(P<=.5&&T<z){z=T;p=e$;m=fz}}}for(M=0;M<2;M++){for(X=0;
X<2;X++){e$=cb-.5+M;fz=cX-.5+X;T=U(n,e$,fz);if(T<z){z=T;p=e$;m=fz}}}$.M9.$F[Y<<1]=p+A;$.M9.$F[(Y<<1)+1]=m+F}}function W($){var I=$.M9.LG,k=$.M9,Y,_,D,A,F,K,V,r,c;
for(Y=0;Y<I;Y++){_=q(Y+1,I);D=q(Y+2,I);var x=k.$F[Y<<1],X=k.$F[(Y<<1)+1],M=k.$F[D<<1],f=k.$F[(D<<1)+1],t=k.$F[_<<1],n=k.$F[(_<<1)+1],L=N(.5,M,t),P=N(.5,f,n);
F=R(x,X,M,f);if(F!=0){A=Q(t-x,n-X,M-x,f-X)/F;A=Math.abs(A);K=A>1?1-1/A:0;K=K*(1/.75)}else{K=4/3}k.vv[_]=K;
var z=3*_<<1;if(K>=j.a7_){k.cy[_]=0;k.YW[z+0]=k.YW[z+1]=0;k.YW[z+2]=t;k.YW[z+3]=n;k.YW[z+4]=L;k.YW[z+5]=P}else{if(K<.55){K=.55}else if(K>1){K=1}var T=.5+.5*K;
k.cy[_]=1;k.YW[z]=N(T,x,t);k.YW[z+1]=N(T,X,n);k.YW[z+2]=N(T,M,t);k.YW[z+3]=N(T,f,n);k.YW[z+4]=L;k.YW[z+5]=P}k.alpha[_]=K;
k.TT[_]=.5}k.aoF=1}function d($){function I(){this.tj=0;this.la=0;this.sU=0;this.c4=0;this.IY=0;this.$G=0;
this.Xk=0;this.alpha=0}function k($,Y,x,ee,b4,p,m){var D=$.M9.LG,hA=$.M9.YW,f$=$.M9.$F;if(Y==x)return 1;
var e_=Y,t=q(Y+1,D),fJ=q(e_+1,D),hP=f$[Y<<1],iS=f$[(Y<<1)+1],dV=f$[t<<1],ix=f$[(t<<1)+1],b9=p[fJ];if(b9==0)return 1;
var hV=S(hP-dV,iS-ix);for(e_=fJ;e_!=x;e_=fJ){var fJ=q(e_+1,D),gq=q(e_+2,D),eH=f$[fJ<<1],eP=f$[(fJ<<1)+1],c2=f$[gq<<1],bL=f$[(gq<<1)+1];
if(p[fJ]!=b9)return 1;if(Math.sign(Q(dV-hP,ix-iS,c2-eH,bL-eP))!=b9)return 1;if(a(dV-hP,ix-iS,c2-eH,bL-eP)<hV*S(eH-c2,eP-bL)*-.999847695156)return 1}var dg=q(Y,D)*3+2<<1,cN=q(Y+1,D)<<1,dH=q(x,D)<<1,kM=q(x,D)*3+2<<1,hw=hA[dg],az=hA[dg+1],a_=f$[cN],g4=f$[cN+1],iY=f$[dH],fa=f$[dH+1],ka=hA[kM],b1=hA[kM+1],O=f$[0],cb=f$[1];
dg=x*3+2<<1;var bg=hA[dg],cl=hA[dg+1],n=m[x]-m[Y];n-=Q(bg-O,cl-cb,bg-O,cl-cb)/2;if(Y>=x){n+=m[D]}var c0=a_-hw,kL=g4-az,c_=iY-hw,cA=fa-az,aw=ka-hw,kq=b1-az,f4=Q(c0,kL,c_,cA),gF=Q(c0,kL,aw,kq),fm=Q(c_,cA,aw,kq),aP=f4+fm-gF;
if(gF==f4)return 1;var T=fm/(fm-aP),z=gF/(gF-f4),hh=gF*T/2;if(hh==0)return 1;var gW=n/hh,L=2-Math.sqrt(4-gW/.3);
ee.la=N(T*L,hw,a_);ee.sU=N(T*L,az,g4);ee.c4=N(z*L,ka,iY);ee.IY=N(z*L,b1,fa);ee.alpha=L;ee.$G=T;ee.Xk=z;
a_=ee.la;g4=ee.sU;iY=ee.c4;fa=ee.IY;ee.tj=0;for(e_=q(Y+1,D);e_!=x;e_=fJ){fJ=q(e_+1,D);var cg=f$[e_<<1],f0=f$[(e_<<1)+1],eH=f$[fJ<<1],eP=f$[(fJ<<1)+1];
T=i(a_-hw,g4-az,iY-a_,fa-g4,ka-iY,b1-fa,eH-cg,eP-f0);if(T<-.5)return 1;var hk=g(T,hw,a_,iY,ka),aQ=g(T,az,g4,fa,b1),hV=S(eH-cg,eP-f0);
if(hV==0)return 1;var fj=Q(eH-cg,eP-f0,hk-cg,aQ-f0)/hV;if(Math.abs(fj)>b4)return 1;if(a(eH-cg,eP-f0,hk-cg,aQ-f0)<0||a(cg-eH,f0-eP,hk-eH,aQ-eP)<0){return 1}ee.tj+=fj*fj}for(e_=Y;
e_!=x;e_=fJ){fJ=q(e_+1,D);var dg=e_*3+2<<1,cN=fJ*3+2<<1,fd=hA[dg],iu=hA[dg+1],en=hA[cN],hl=hA[cN+1];
T=i(a_-hw,g4-az,iY-a_,fa-g4,ka-iY,b1-fa,en-fd,hl-iu);if(T<-.5)return 1;var hk=g(T,hw,a_,iY,ka),aQ=g(T,az,g4,fa,b1),hV=S(en-fd,hl-iu);
if(hV==0)return 1;var fj=Q(en-fd,hl-iu,hk-fd,aQ-iu)/hV,ed=Q(en-fd,hl-iu,f$[fJ<<1]-fd,f$[(fJ<<1)+1]-iu)/hV;
ed*=.75*$.M9.alpha[fJ];if(ed<0){fj=-fj;ed=-ed}if(fj<ed-b4)return 1;if(fj<ed){ee.tj+=(fj-ed)*(fj-ed)}}return 0}var _=$.M9,D=_.LG,A=_.$F,F=new Array(D+1),K=new Array(D+1),V=new Array(D+1),r=new Array(D+1),c,Y,x,X,M=new I,f,t,n,L,P,z,T,p=new Array(D),m=new Array(D+1);
for(Y=0;Y<D;Y++){if(_.cy[Y]=="CURVE"){var O=A[q(Y-1,D)<<1],cb=A[(q(Y-1,D)<<1)+1],cX=A[Y<<1],e$=A[(Y<<1)+1],fz=A[q(Y+1,D)<<1],eC=A[(q(Y+1,D)<<1)+1];
p[Y]=Math.sign(Q(cX-O,e$-cb,fz-cX,eC-e$))}else{p[Y]=0}}n=0;m[0]=0;var hw=_.$F[0],az=_.$F[1];for(Y=0;
Y<D;Y++){t=q(Y+1,D);if(_.cy[t]=="CURVE"){L=_.alpha[t];var av=Y*3+2<<1,ia=t*3+2<<1,iJ=_.YW[av],cx=_.YW[av+1],hP=A[t<<1],iS=A[(t<<1)+1],e4=_.YW[ia],cc=_.YW[ia+1];
n+=.3*L*(4-L)*Q(hP-iJ,iS-cx,e4-iJ,cc-cx)/2;n+=Q(iJ-hw,cx-az,e4-hw,cc-az)/2}m[Y+1]=n}F[0]=-1;K[0]=0;V[0]=0;
for(x=1;x<=D;x++){F[x]=x-1;K[x]=K[x-1];V[x]=V[x-1]+1;for(Y=x-2;Y>=0;Y--){X=k($,Y,q(x,D),M,j.aBj,p,m);
if(X){break}if(V[x]>V[Y]+1||V[x]==V[Y]+1&&K[x]>K[Y]+M.tj){F[x]=Y;K[x]=K[Y]+M.tj;V[x]=V[Y]+1;r[x]=M;M=new I}}}c=V[D];
P=new h(c);z=new Array(c);T=new Array(c);x=D;for(Y=c-1;Y>=0;Y--){var aO=q(x,D),bZ=Y*3+0<<1,d_=aO*3+0<<1;
if(F[x]==x-1){P.cy[Y]=_.cy[aO];P.YW[bZ]=_.YW[d_];P.YW[bZ+1]=_.YW[d_+1];P.YW[bZ+2]=_.YW[d_+2];P.YW[bZ+3]=_.YW[d_+3];
P.YW[bZ+4]=_.YW[d_+4];P.YW[bZ+5]=_.YW[d_+5];P.$F[Y<<1]=_.$F[aO<<1];P.$F[(Y<<1)+1]=_.$F[(aO<<1)+1];P.alpha[Y]=_.alpha[aO];
P.vv[Y]=_.vv[aO];P.TT[Y]=_.TT[aO];z[Y]=T[Y]=1}else{P.cy[Y]="CURVE";P.YW[bZ]=r[x].la;P.YW[bZ+1]=r[x].sU;
P.YW[bZ+2]=r[x].c4;P.YW[bZ+3]=r[x].IY;P.YW[bZ+4]=_.YW[d_+4];P.YW[bZ+5]=_.YW[d_+5];P.$F[Y<<1]=N(r[x].Xk,_.YW[d_+4],A[aO<<1]);
P.$F[(Y<<1)+1]=N(r[x].Xk,_.YW[d_+5],A[(aO<<1)+1]);P.alpha[Y]=r[x].alpha;P.vv[Y]=r[x].alpha;z[Y]=r[x].Xk;
T[Y]=r[x].$G}x=F[x]}for(Y=0;Y<c;Y++){t=q(Y+1,c);P.TT[Y]=z[Y]/(z[Y]+T[t])}P.aoF=1;$.M9=P}for(var Y=0;
Y<B.length;Y++){var $=B[Y];y($);o($);v($);Z($);W($);if(j.a6T)d($)}}return{amQ:G,al2:H}}();b0.iG=function(b,h,G,H){var B={qb:"minority",akU:H,a6T:!0,a7_:1,aBj:.2},j=b0.amQ(b,h,G,B);
b0.al2(j,B);return j};b0.wV=function(b){var h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G.M9,B=["M"],j=[H.YW[(H.LG-1)*6+4],H.YW[(H.LG-1)*6+5]];
for(var s=0;s<H.LG;s++){var q=s*6;if(H.cy[s]==1){B.push("C");for(var Q=0;Q<6;Q++)j.push(H.YW[q+Q])}else if(H.cy[s]==0){B.push("L");
for(var Q=2;Q<4;Q++)j.push(H.YW[q+Q])}}B.push("Z");h.push({parent:G.parent,color:G.color,path:{m:j,Gc:B}})}return h};
b0.Xh=function(b,h,G){var g1=b.length>>1,H,B=b[2*g1-3]-G,j=b[2*g1-2]-h,s=b[2*g1-1]-G,q=s>B,Q=0;for(var Y=0;
Y<g1;Y++){H=j;B=s;j=b[2*Y]-h;s=b[2*Y+1]-G;if(B==s)continue;q=s>B}for(var Y=0;Y<g1;Y++){H=j;B=s;j=b[2*Y]-h;
s=b[2*Y+1]-G;if(B<0&&s<0)continue;if(B>0&&s>0)continue;if(H<0&&j<0)continue;if(B==s&&Math.min(H,j)<=0)return!0;
if(B==s)continue;var a=H+(j-H)*-B/(s-B);if(a==0)return!0;if(a>0)Q++;if(B==0&&q&&s>B)Q--;if(B==0&&!q&&s<B)Q--;
q=s>B}return(Q&1)==1};b0.fill=function(b,h,G,H){var B=h[b],j=[b],s=0;while(s<j.length){var q=j[s];s++;
h[q]=H;if(h[q-G]==B){j.push(q-G);h[q-G]=254}if(h[q-1]==B){j.push(q-1);h[q-1]=254}if(h[q+1]==B){j.push(q+1);
h[q+1]=254}if(h[q+G]==B){j.push(q+G);h[q+G]=254}}};var kr=function(){function b(q){return Math.max(0,Math.min(1,q))}function h(q,Q){var a=Q<0?-Q:Q;
if(q>1)q=.99;q=q*.99;var l=Math.pow(a/5,.16),U=Math.pow(2,a<1?a:1+(a-1)*.8);if(Q<0)U=1/U;q=l*(1-Math.pow(1-q,U))+(1-l)*q;
return q}function G(q,Q){var a=Q/100;q=q*.99;q=a*(.5-.5*Math.cos(q*Math.PI))+(1-a)*q;return q}var H=e.G4.iH(1,1,1,-.3),B=e.G4.Q6(H);
function j(q,Q,a,l,U,N,R){var S=q[a],g=q[a+1],i=q[a+2],y=e.G4.m9(H,[S,g,i,1]);S=y[0];g=y[1];i=y[2];S=h(S,l);
g=h(g,l);i=h(i,l);var y=e.G4.m9(B,[S,g,i,1]);S=y[0];g=y[1];i=y[2];S=b(S);g=b(g);i=b(i);S=G(S,U);g=G(g,U);
i=G(i,U);var o=br.a2w(S,g,i,N);S=o[0];g=o[1];i=o[2];S=b(S);g=b(g);i=b(i);if(R){var v=new Uint8Array(4);
v[0]=~~(.5+S*255);v[1]=~~(.5+g*255);v[2]=~~(.5+i*255);eZ.BN(R,v,v,new io(0,0,1,1));S=v[0]/255;g=v[1]/255;
i=v[2]/255}Q[a]=S;Q[a+1]=g;Q[a+2]=i}function s(q,Q,a,l,U,N){var R=U.Temp?U.Temp.v:0,S=U.Tint?U.Tint.v:0,g=U.Ex12?U.Ex12.v:0,i=U.Cr12?U.Cr12.v:0,y=U.Vibr?U.Vibr.v:0,o=U.Strt?U.Strt.v:0,v=br.Kt(R,S),Z=null;
g+=v.aoa;if(y!=0||o!=0)Z=eZ.q9("vibA",{Strt:U.Strt,vibrance:U.Vibr});var W=Date.now();if(N){var d=Math.pow(2,g),$=q.length;
g=0;var I=new Float32Array(4e3);for(var Y=0;Y<4e3;Y++){var k=Y*(1/1e3);k=e.u0(k);k*=d;k=e.Ea(k);k=b(k);
I[Y]=k}for(var Y=0;Y<$;Y+=3){l[Y]=I[~~(q[Y]*1e3)];l[Y+1]=I[~~(q[Y+1]*1e3)];l[Y+2]=I[~~(q[Y+2]*1e3)]}console.log(Date.now()-W,"Exposure normalizing");
W=Date.now()}else l.set(q);if(g!=0||i!=0||R!=0||S!=0||Z){var _=17,D=1/(_-1),A=_*_*_,F=new Array(A*3);
for(var K=0;K<_;K++)for(var V=0;V<_;V++)for(var r=0;r<_;r++){var Y=K*_*_+V*_+r,c=Y*3;F[c]=K*D;F[c+1]=V*D;
F[c+2]=r*D}for(var Y=0;Y<A;Y++)j(F,F,Y*3,g,i,v,Z);console.log(Date.now()-W,"making LUT");W=Date.now();
ICC.U.applyLUTFloat(F,_,l,l);console.log(Date.now()-W,"applying LUT");W=Date.now()}}return s}();function hH(){}hH.wZ=function(b,h){var G=new Uint8Array(b),H=0,B=h.split("/").pop().split(".")[0];
function j(i){for(var Y=0;Y<i.length;Y++)i[Y].v.Nm.v=B+"/"+i[Y].v.Nm.v.split("/").pop()}var s={t8:[],oJ:[],list:[]},q=J.JQ(G,H);
H+=2;if(q<=2){s=hH.aiP(G);j(s.list);return s}var Q=J.JQ(G,H);H+=2;var a=J.lA(G,H,8);H+=8;var l=J.C(G,H);
H+=4;if(l>0)s.t8=hH.aBF(G,H,l,Q,q);H+=l;var U=J.lA(G,H,8);H+=8;var N=J.C(G,H);H+=4;if(N>0)s.oJ=jx.gY(G,H,N);
H+=N;var R=J.lA(G,H,8);H+=8;var S=J.C(G,H);H+=4;if(S>0){var g={};jg.m0(G,g,H+4);s.list=g.Brsh.v}H+=S;
var i=s.list;for(var Y=0;Y<i.length;Y++){f7.YO.check(i[Y].v)}j(i);return s};hH.WK=function(b,h){b.v.Nm.v=h};
hH.aiP=function(b){var h={t8:[],oJ:[],list:[]},G=0,H=J.JQ(b,G);G+=2;var B=J.JQ(b,G);G+=2;for(var Y=0;
Y<B;Y++){var j=J.JQ(b,G);G+=2;var s=J.C(b,G);G+=4;var q=G;if(j==2){var Q={};h.t8.push(Q);var a=J.C(b,q);
q+=4;var l=J.JQ(b,q);q+=2;if(H==2){var U=J.i2(b,q);q+=4+U.length*2+2}Q.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";
q++;q+=8;Q.O2=J.b0(b,q);q+=16;var N=J.JQ(b,q);q+=2;var R=b[q];q++;var S=fU.N3(!1,N,b,Q.O2.j,Q.O2._,q,R);
hH.a9U(Q,S);var g=f7.C3(Q.id),i=g.Brsh.v;i.Dmtr.v.val=Q.O2.j;i.Spcn.v.val=l;h.list.push({t:"Objc",v:g})}G+=s}return h};
hH.OL=function(b){var h=new e6,G=0,H=0;J.kC(h,G,6);G+=2;J.kC(h,G,2);G+=2;var B={},j=[],s={},q=[];for(var Y=0;
Y<b.list.length;Y++){var Q=b.list[Y].v,a=Q.Brsh.v;if(a.classID=="sampledBrush")B[a.sampledData.v]=!0;
if(Q.Txtr)s[Q.Txtr.v.Idnt.v]=!0}for(var Y=0;Y<b.t8.length;Y++)if(B[b.t8[Y].id])j.push(b.t8[Y]);for(var Y=0;
Y<b.oJ.length;Y++)if(B[b.oJ[Y].id])q.push(b.oJ[Y]);J.gI(h,G,"8BIMsamp");G+=8;G+=4;H=G;G=hH.aFf(h,G,j);
J.I4(h,H-4,G-H);J.gI(h,G,"8BIMpatt");G+=8;G+=4;H=G;G=jx.rl(h,G,q);J.I4(h,H-4,G-H);var l=JSON.parse(JSON.stringify(b.list));
for(var Y=0;Y<l.length;Y++)l[Y].v.Nm.v=l[Y].v.Nm.v.split("/").pop();var U={classID:"null",Brsh:{t:"VlLs",v:l}};
J.gI(h,G,"8BIMdesc");G+=8;G+=4;H=G;J.I4(h,G,16);G+=4;G+=jg.MU(h,U,G);J.I4(h,H-4,G-H);return h.data.slice(0,G).buffer};
hH.aBF=function(b,h,G,H,B){var j=J.C,s=J.b0,q=h+G,Q=[];while(h<q){var a={};Q.push(a);var l=j(b,h);h+=4;
var U=h,N=J._i(b,h);h+=N.length;a.id=N.yD;if(H==1){h+=9;a.O2=s(b,h);h+=16}else{h+=7;var R=j(b,h);h+=4;
a.O2=s(b,h);h+=16;var S=j(b,h);h+=4;h+=S*4;var g=j(b,h);h+=4;var i=j(b,h);h+=4;var y=s(b,h);h+=16}var o=J.JQ(b,h);
h+=2;var v=b[h];h+=1;var Z=fU.N3(!1,o,b,a.O2.j,a.O2._,h,v);hH.a9U(a,Z);if(l%4!=0)l+=4-l%4;h=U+l}return Q};
hH.a9U=function(b,h){var G=b.O2.clone();G.x=G.y=0;b.yr=[h,G]};hH.aFf=function(b,h,G){var H=J.I4,B=J.Rx;
for(var Y=0;Y<G.length;Y++){var j=G[Y],s=h+4,Q=56,l=1;h+=4;J.qn(b,h,j.id);h+=j.id.length+2;b.yC(h,1);
b.data[h]=1;h+=3;H(b,h,3);h+=4;var q=h;h+=4;B(b,h,j.O2);h+=16;H(b,h,Q);h+=4;h+=Q*4;H(b,h-4,1);var a=h;
h+=4;H(b,h,8);h+=4;B(b,h,j.O2);h+=16;J.kC(b,h,8);h+=2;b.yC(h,1);b.data[h]=l;h++;var U=j.yr[0];b.yC(h,j.O2.X()*2);
h=fU.Ye(!1,U,b.data,j.O2.j,j.O2._,h,l);b.yC(h,8);h+=8;var N=h-s;H(b,s-4,N);H(b,q,N-49);H(b,a,N-305);
if(N%4!=0)h+=4-N%4}return h};function hc(){}hc.wZ=function(b,h){var G=new Uint8Array(b),H=[],B=0,j=J.JQ(G,B);
B+=2;if(j!=4){throw"Unknown version of curves: "+j}var s=J.JQ(G,B);B+=2;for(var Y=0;Y<s;Y++){var q=hc.a7l(G,B);
B+=2+2*q.length;H.push(q)}if(B!=G.length){var Q=J.lA(G,B,4);B+=4;var a=J.JQ(G,B);B+=2;var l=J.JQ(G,B);
B+=2;if(l!=0)throw"extra curves for channels"}var U=hc.awx(H,0);U.presetKind={t:"long",v:3};U.presetFileName={t:"TEXT",v:h.split("/").pop().split(".")[0]};
return[U]};hc.SQ=function(b,h,G){var H=h,B=[],j=b[h];h+=3;var s=J.C(b,h);h+=4;for(var Y=0;Y<4;Y++){var q=s>>>Y&1;
if(q){if(j==0){var Q=hc.a7l(b,h);h+=2+2*Q.length}else{var Q=hc.atN(b,h);h+=256}B.push(Q)}else B.push(j==0?[0,0,255,255]:hc.aa6())}var a=hc.awx(B,j);
return a};hc.awx=function(b,h){var G=gY.Az("curv");for(var Y=0;Y<4;Y++){if(h==0){var H=b[Y],B=[];for(var j=0;
j<H.length;j+=2)B.push(e.S_.$O(H[j],H[j+1],!0));hc.r8(G,Y,B)}else hc.r8(G,Y,b[Y])}return G};hc.yc=function(b,h,G){var H=[];
for(var Y=0;Y<4;Y++){var B=hc.CC(G,Y);if(B.length==256)H.push(B);else{var j=[];for(var s=0;s<B.length;
s++)j.push(B[s].v.Hrzn.v,B[s].v.Vrtc.v);H.push(j)}}var q=h,Q=H[0].length==256?1:0;b.yC(h,3);b.data[h]=Q;
b.data[h+1]=0;b.data[h+2]=1;h+=3;J.I4(b,h,15);h+=4;for(var Y=0;Y<4;Y++){var a=H[Y];if(Q==0){hc.a7f(b,h,a);
h+=2+2*a.length}else{hc.axA(b,h,a);h+=256}}return h-q};hc.aa6=function(){var b=[];for(var Y=0;Y<256;
Y++)b.push(Y);return b};hc.r8=function(b,h,G){var H=b3.Se("CrvA",h);if(G.length<256)H.Crv={t:"VlLs",v:G};
else{H.Mpng={t:"VlLs",v:[]};for(var Y=0;Y<256;Y++)H.Mpng.v[Y]={t:"long",v:G[Y]}}H={t:"Objc",v:H};var B=b.Adjs.v,j=b3.Yq(B,h);
if(j==-1)B.push(H);else B[j]=H};hc.CC=function(b,h){var G=b.Adjs.v,H=b3.Yq(G,h);if(H==-1){if(G.length==0||G[0].v.Crv)return[e.S_.$O(0,0,!0),e.S_.$O(255,255,!0)];
if(G[0].v.autoMachineLearning||G[0].v.AuCo)return[e.S_.$O(0,0,!0),e.S_.$O(128,160,!0),e.S_.$O(255,255,!0)];
var B=[];for(var Y=0;Y<256;Y++)B.push(Y);return B}var j=G[H].v;if(j.Crv)return j.Crv.v;if(j.Mpng){var B=[];
for(var Y=0;Y<256;Y++)B.push(j.Mpng.v[Y].v);return B}return[e.S_.$O(0,0,!0),e.S_.$O(255,255,!0)]};hc.a7l=function(b,h){var G=[],H=J.JQ(b,h);
h+=2;for(var B=0;B<H;B++){var j=J.JQ(b,h);h+=2;var s=J.JQ(b,h);h+=2;G.push(s,j)}return G};hc.a7f=function(b,h,G){var H=G.length/2;
J.kC(b,h,H);h+=2;for(var B=0;B<H;B++){J.kC(b,h,G[B*2+1]);h+=2;J.kC(b,h,G[B*2+0]);h+=2}};hc.atN=function(b,h){var G=[];
for(var Y=0;Y<256;Y++)G.push(b[h+Y]);return G};hc.axA=function(b,h,G){b.yC(h,256);for(var Y=0;Y<256;
Y++)b.data[h+Y]=G[Y]};function bV(){}bV.SQ=function(b,h,G){var H={},B=J.JQ(b,h);h+=2;H.Ak=b[h]==1;h++;
h++;H.H$=[J.KV(b,h),J.KV(b,h+2),J.KV(b,h+4)];h+=6;H.jK=[J.KV(b,h),J.KV(b,h+2),J.KV(b,h+4)];h+=6;H.hn=[];
for(var Y=0;Y<6;Y++){var j={};j.OR=[J.KV(b,h),J.KV(b,h+2),J.KV(b,h+4),J.KV(b,h+6)];h+=8;j.Sy=[J.KV(b,h),J.KV(b,h+2),J.KV(b,h+4)];
h+=6;H.hn.push(j)}var s=gY.Az("hue2"),q=H;if(s.Clrz==null)s.Clrz={t:"bool",v:!1};s.Clrz.v=q.Ak;for(var Y=0;
Y<7;Y++){var Q=Y==0?q.Ak?q.H$:q.jK:q.hn[Y-1];bV.r8(s,Y,Q)}return s};bV.agy=function(b){return{classID:"Hst2",H:{t:"long",v:b[0]},Strt:{t:"long",v:b[1]},Lght:{t:"long",v:b[2]}}};
bV.Yq=function(b,h){for(var Y=0;Y<b.length;Y++){var G=b[Y].v.LclR;if(h==0&&G==null||G!=null&&G.v==h)return Y}return-1};
bV.r8=function(b,h,G){var H=h==0?G:G.Sy,B=bV.agy(H);if(h!=0){var j=G.OR;B.LclR={t:"long",v:h},B.BgnR={t:"long",v:j[0]};
B.BgnS={t:"long",v:j[1]};B.EndS={t:"long",v:j[2]};B.EndR={t:"long",v:j[3]}}B={t:"Objc",v:B};var s=b.Adjs.v,q=bV.Yq(s,h);
if(q==-1)s.push(B);else s[q]=B};bV.CC=function(b,h){var G=b.Adjs.v,H=bV.Yq(G,h);if(H==-1){if(h==0)return[0,0,0];
else return[{OR:[315,345,15,45],Sy:[0,0,0]},{OR:[15,45,75,105],Sy:[0,0,0]},{OR:[75,105,135,165],Sy:[0,0,0]},{OR:[135,165,195,225],Sy:[0,0,0]},{OR:[195,225,255,285],Sy:[0,0,0]},{OR:[255,285,315,345],Sy:[0,0,0]}][h-1]}var B=G[H].v,j=[B.H.v,B.Strt.v,B.Lght.v];
if(h==0)return j;return{Sy:j,OR:[B.BgnR.v,B.BgnS.v,B.EndS.v,B.EndR.v]}};bV.yc=function(b,h,G){var H={Ak:G.Clrz?G.Clrz.v:!1,hn:[]};
H.H$=H.jK=bV.CC(G,0);for(var Y=1;Y<7;Y++)H.hn.push(bV.CC(G,Y));var B=2+2+12+6*14,j=b.data;b.yC(h,B);
J.JL(j,h,2);h+=2;j[h]=H.Ak?1:0;h++;h++;J.xp(j,h+0,H.H$[0]);J.xp(j,h+2,H.H$[1]);J.xp(j,h+4,H.H$[2]);h+=6;
J.xp(j,h+0,H.jK[0]);J.xp(j,h+2,H.jK[1]);J.xp(j,h+4,H.jK[2]);h+=6;for(var Y=0;Y<6;Y++){var s=H.hn[Y].OR,q=H.hn[Y].Sy;
J.xp(j,h+0,s[0]);J.xp(j,h+2,s[1]);J.xp(j,h+4,s[2]);J.xp(j,h+6,s[3]);h+=8;J.xp(j,h+0,q[0]);J.xp(j,h+2,q[1]);
J.xp(j,h+4,q[2]);h+=6}return B};function b3(){}b3.wZ=function(b){var h=new Uint8Array(b),G=2,H=[];for(var Y=0;
Y<29;Y++){var B=[];H.push(B);for(var j=0;j<5;j++)B.push(J.JQ(h,G+Y*10+j*2))}G+=29*10;if(G<h.length){var s=J.lA(h,G,4);
G+=4;var q=J.JQ(h,G);G+=2;var Q=J.JQ(h,G);G+=2;var a=Q-29;for(var Y=0;Y<a;Y++){var B=[];H.push(B);for(var j=0;
j<5;j++)B.push(J.JQ(h,G+Y*10+j*2))}}var l=gY.Az("levl");for(var Y=0;Y<4;Y++)b3.r8(l,Y,H[Y]);return l};
b3.Se=function(b,Y){var h=["Cmps","Rd","Grn","Bl"],G={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:h[Y]}}]};
return{classID:b,Chnl:G}};b3.Yq=function(b,h){var G={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Y=0;Y<b.length;
Y++){var H=b[Y].v,B=G[H.Chnl.v[0].v.enum];if(B==h)return Y}return-1};b3.r8=function(b,h,G){var H=b3.Se("LvlA",h);
H.Inpt={t:"VlLs",v:[{t:"long",v:G[0]},{t:"long",v:G[1]}]};H.Otpt={t:"VlLs",v:[{t:"long",v:G[2]},{t:"long",v:G[3]}]};
H.Gmm={t:"doub",v:G[4]/100};H={t:"Objc",v:H};var B=b.Adjs.v,j=b3.Yq(B,h);if(j==-1)B.push(H);else B[j]=H};
b3.CC=function(b,h){var G=[0,255,0,255,100],H=b.Adjs.v,B=b3.Yq(H,h);if(B==-1)return G;var j=H[B].v;if(j.Inpt){G[0]=j.Inpt.v[0].v;
G[1]=j.Inpt.v[1].v}if(j.Otpt){G[2]=j.Otpt.v[0].v;G[3]=j.Otpt.v[1].v}if(j.Gmm){G[4]=Math.round(j.Gmm.v*100)}return G};
b3.OL=function(b,h){var G=[],H=0;for(var Y=0;Y<4;Y++)G.push(b3.CC(h,Y));while(G.length<29)G.push([0,255,0,255,100]);
b.yC(0,2+10*29);J.JL(b.data,H,2);H+=2;for(var Y=0;Y<29;Y++){var B=G[Y];for(var j=0;j<5;j++)J.JL(b.data,H+Y*10+j*2,B[j])}H+=29*10;
if(G.length==29)return H;b.yC(H,8+10*(G.length-29));J.K$(b.data,H,"Lvls");H+=4;J.JL(b.data,H,3);H+=2;
J.JL(b.data,H,G.length);H+=2;var s=G.length-29;for(var Y=0;Y<s;Y++){var B=G[29+Y];for(var j=0;j<5;j++)J.JL(b.data,H+Y*10+j*2,B[j])}H+=10*s;
return H};function aM(){}aM.wZ=function(b,h){var G=new Uint8Array(b),H=2,B=h.split("/").pop().split(".")[0],j={NL:[],QW:[]},s=J.lA(G,H,4);
H+=4;var q=J.JQ(G,H);H+=2;var Q=J.C(G,H);H+=4;j.NL=jx.gY(G,H,Q);H+=Q;var a=J.C(G,H);H+=4;for(var Y=0;
Y<a;Y++){var l=J.C(G,H);H+=4;var U=H,N={es:{},Zv:{}};j.QW.push(N);H+=4;H+=jg.m0(G,N.es,H);N.es.Nm.v=B+"/"+N.es.Nm.v.split("=").pop();
H+=4;H+=jg.m0(G,N.Zv,H);H=U+l;var R=N.Zv.blendOptions,S=N.Zv.Lefx;if(R&&Object.keys(R.v).length>1){}if(S){if(S.v.masterFXSwitch==null)S.v.masterFXSwitch={t:"bool",v:!0};
he.KP(S.v)}}return j};aM.WK=function(b,h){b.es.Nm.v=h};aM.OL=function(b){var h=new e6,G=0;J.kC(h,G,2);
G+=2;J.gI(h,G,"8BSL");G+=4;J.kC(h,G,3);G+=2;var H=G;G+=4;G=jx.rl(h,G,b.NL);J.I4(h,H,G-H-4);var B=b.QW.length;
J.I4(h,G,B);G+=4;for(var Y=0;Y<B;Y++){G+=4;var j=G,s=b.QW[Y];J.I4(h,G,16);G+=4;var q=s.es.Nm.v;s.es.Nm.v=s.es.Nm.v.split("/").pop();
G+=jg.MU(h,s.es,G);s.es.Nm.v=q;var Q=s.Zv.Lefx;if(Q){s.Zv.Lefx=JSON.parse(JSON.stringify(Q));he.E3(s.Zv.Lefx.v)}J.I4(h,G,16);
G+=4;G+=jg.MU(h,s.Zv,G);if(Q)s.Zv.Lefx=Q;J.I4(h,j-4,G-j)}return h.data.slice(0,G).buffer};function dK(){}dK.SQ=function(b,h,G){var H=J.JQ(b,h);
h+=2;var B={};B.$U=J.JQ(b,h)==1;h+=2;B.EX=[];for(var Y=0;Y<10;Y++){var j=[];B.EX.push(j);for(var s=0;
s<4;s++)j.push(J.KV(b,h+s*2));h+=8}var q=gY.Az("selc");q.Mthd.v.CrcM=B.$U?"Absl":"Rltv";for(var Y=1;
Y<10;Y++)dK.r8(q,Y-1,B.EX[Y]);return q};dK.Hh="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
dK.Se=function(b,Y){var h=["Cmps","Rd","Grn","Bl"],G={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:h[Y]}}]};
return{classID:b,Chnl:G}};dK.Yq=function(b,h){var G=dK.Hh;for(var Y=0;Y<b.length;Y++){var H=b[Y].v,B=G.indexOf(H.Clrs.v.Clrs);
if(B==h)return Y}return-1};dK.r8=function(b,h,G){var H=["Cyn","Mgnt","Ylw","Blck"],B={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:dK.Hh[h]}}};
for(var j=0;j<4;j++)B[H[j]]={t:"UntF",v:{type:"#Prc",val:G[j]}};B={t:"Objc",v:B};var s=b.ClrC.v,q=dK.Yq(s,h);
if(q==-1)s.push(B);else s[q]=B};dK.CC=function(b,h){var G=[0,0,0,0],H=b.ClrC.v,B=dK.Yq(H,h);if(B==-1)return G;
var j=["Cyn","Mgnt","Ylw","Blck"];for(var Y=0;Y<4;Y++)if(H[B].v[j[Y]])G[Y]=H[B].v[j[Y]].v.val;return G};
dK.yc=function(b,h,G){var H={$U:G.Mthd.v.CrcM=="Absl",EX:[[0,0,0,0]]};for(var Y=0;Y<9;Y++)H.EX.push(dK.CC(G,Y));
b.yC(h,84);J.JL(b.data,h,1);h+=2;J.JL(b.data,h,H.$U?1:0);h+=2;for(var Y=0;Y<10;Y++){var B=H.EX[Y];for(var j=0;
j<4;j++)J.xp(b.data,h+j*2,B[j]);h+=8}return 84};function e3(){}e3.Az=function(){return{rc:new io(0,0,50,50),es:"",Mn:"play",d:e.n.NT.uq([.1,.1,.9,.5,.1,.9],0)}};
e3.wZ=function(b,h){b=new Uint8Array(b);var G=0,H=[],B=h.split("/").pop().split(".")[0],j=Date.now(),s=J.lA(b,0,4);
G+=4;var q=J.C(b,G);G+=4;var Q=J.C(b,G);G+=4;for(var Y=0;Y<Q;Y++){var a=J.i2(b,G);G+=a.length*2+4+2;
if((a.length&1)==0)G+=2;G=e3.a4S(b,G,a,H);H[Y].Mn=B+"/"+H[Y].Mn}return H};e3.a4S=function(b,h,G,H){var B=J.C(b,h);
h+=4;var j=J.C(b,h);h+=4;var s=h,q=J._i(b,s).yD;s+=q.length+1;var Q=J.b0(b,s);s+=16;var a=e3.qT(b,s,j-(s-h)),l=e.n.hq(a),U=e.N.MP(l),N=1/U.j,R=1/U._;
e.n.Gl(a,new eq(N,0,0,R,-U.x*N,-U.y*R));H.push({Mn:G,es:q,d:a,rc:Q});h+=j;return h};e3.WK=function(b,h){b.Mn=h};
e3.OL=function(b){var h=new e6,G=0;J.gI(h,G,"cush");G+=4;J.I4(h,G,2);G+=4;J.I4(h,G,b.length);G+=4;for(var Y=0;
Y<b.length;Y++){var H=b[Y],B=H.Mn.split("/").pop()+"\0";J.fZ(h,G,B);G+=4+B.length*2;if((B.length&1)==1)G+=2;
J.I4(h,G,1);G+=4;G+=4;var j=G;J.qn(h,G,H.es);G+=H.es.length+1;J.Rx(h,G,H.rc);G+=16;h.yC(G,H.d.length*26);
e3.Ok(h.data,G,H.d,1,1);G+=H.d.length*26;var s=G-j;if((s&3)!=0)s+=4-(s&3);J.I4(h,j-4,s);G=j+s}return h.data.slice(0,G).buffer};
e3.asl=function(b){var h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G.type,B={type:H};h.push(B);if(H==6){}else if(H==8)B.all=G.all;
else if(H==0||H==3){B.length=G.length;B.frule=G.Vj;B.third=G.ts;B.prmA=G.$V;B.prmB=G.$S}else{B.c=[G.o$.x,G.o$.y,G.v.x,G.v.y,G.PY.x,G.PY.y]}}return h};
e3.aeq=function(b){var h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G.type,B={type:H};h.push(B);if(H==6){}else if(H==8)B.all=G.all;
else if(H==0||H==3){B.length=G.length;B.Vj=G.frule;B.ts=G.third;B.$V=G.prmA;B.$S=G.prmB}else{var j=G.c;
B.o$=new cJ(j[0],j[1]);B.v=new cJ(j[2],j[3]);B.PY=new cJ(j[4],j[5])}}return h};e3.qT=function(b,h,G,H,B){if(H==null)H=1;
if(B==null)B=1;function j(g,i,y){var o=J.azt(g,i)*y,v=Math.round(o);return Math.abs(o-v)<1e-6?v:o}var s=J.KV,q=[],Q=Math.floor(G/26);
for(var Y=0;Y<Q;Y++){var a=h+Y*26,l={},U=0;q.push(l);l.type=s(b,a);a+=2;if(l.type==6){U=24}if(l.type==8){l.all=s(b,a);
a+=2;U=22}if(l.type==0||l.type==3){l.length=s(b,a);a+=2;l.Vj=s(b,a);a+=2;l.ts=s(b,a);a+=2;l.$V=J.C(b,a);
a+=4;l.$S=J.C(b,a);a+=4;U=10}if(l.type==1||l.type==2||l.type==4||l.type==5){var N,R;R=j(b,a,B);a+=4;
N=j(b,a,H);a+=4;l.o$=new cJ(N,R);R=j(b,a,B);a+=4;N=j(b,a,H);a+=4;l.v=new cJ(N,R);R=j(b,a,B);a+=4;N=j(b,a,H);
a+=4;l.PY=new cJ(N,R);U=0}for(var S=0;S<U;S++)if(b[a+S]!=0){console.log("Unexpected non-zero byte!",l,S,b[a+S])}}return q};
e3.Ok=function(b,h,G,H,B){var j=J.xp,s=J.atK,q=G.length;for(var Y=0;Y<q;Y++){var Q=h+Y*26,a=G[Y];j(b,Q,a.type);
Q+=2;if(a.type==6){}if(a.type==8)j(b,Q,a.all);if(a.type==0||a.type==3){j(b,Q,a.length);Q+=2;j(b,Q,a.Vj);
Q+=2;j(b,Q,a.ts);Q+=2}if(a.type==1||a.type==2||a.type==4||a.type==5){s(b,Q,a.o$.y/B);Q+=4;s(b,Q,a.o$.x/H);
Q+=4;s(b,Q,a.v.y/B);Q+=4;s(b,Q,a.v.x/H);Q+=4;s(b,Q,a.PY.y/B);Q+=4;s(b,Q,a.PY.x/H);Q+=4}}};function ja(){}ja.wZ=function(b,h){var G=new Uint8Array(b),H=[],B=0;
if(J.lA(G,0,4)=="ASEF")H=ja.ayy(G);else{B=ja.a1O(G,B,H);if(B+3<G.length){H=[];B=ja.a1O(G,B,H)}}var j=h.split("/").pop().split(".")[0];
for(var Y=0;Y<H.length;Y++){if(H[Y].iZ==null)H[Y].iZ="clr"+Y;H[Y].iZ=j+"/"+H[Y].iZ.split("/").pop().split("=").pop()}return H};
ja.ayy=function(b){var h=[],G=8,H=J.C(b,G),B,j=null,s,q,Q,a;G+=4;for(var l=0;l<H;l++){var U=J.JQ(b,G);
G+=2;var N=J.C(b,G);G+=4;var R=G+N;if(U==49153||U==1){var S=J.JQ(b,G);G+=2;var g=J.Ss(b,G,S-1);G+=S*2;
if(U==1)B=g;else j=g}if(U==1){var i=J.lA(b,G,4);G+=4;s=J.N$(b,G);G+=4;q=J.N$(b,G);G+=4;Q=J.N$(b,G);G+=4;
if(i=="RGB "){}else if(i=="CMYK"){a=J.N$(b,G);G+=4;var y=UDOC.C.cmykToRgb([s,q,Q,a]);s=y[0];q=y[1];Q=y[2]}else alert("Unknown color space: "+i);
h.push({$:s*255,B:q*255,J:Q*255,iZ:(j?j+" : ":"")+B})}G=R}return h};ja.a1O=function(b,h,G){var H=J.JQ,B=J.KV,j=H(b,h);
h+=2;var s=H(b,h);h+=2;for(var Y=0;Y<s;Y++){var q=ja.ur(b,h);h+=10;if(j==2){q.iZ=J.i2(b,h);h+=4+q.iZ.length*2+2}G.push(q)}return h};
ja.ur=function(b,h){var G=J.JQ,H=J.KV,B=G(b,h),R=null;h+=2;var j=G(b,h);h+=2;var s=G(b,h);h+=2;var q=G(b,h);
h+=2;var Q=G(b,h);h+=2;var a=1/65535,l=255/65535,U=100/65535,N=255/1e4;if(B==0)R={$:j*l,B:s*l,J:q*l};
else if(B==1){R=e.LM(j*a,s*a,q*a);R.$*=255;R.B*=255;R.J*=255}else if(B==2)R=e.F.an({classID:"CMYC",Cyn:{t:"doub",v:100-j*U},Mgnt:{t:"doub",v:100-s*U},Ylw:{t:"doub",v:100-q*U},Blck:{t:"doub",v:100-Q*U}});
else if(B==7){var S=e.g1(j/100,H(b,h-6)/100,H(b,h-4)/100);R=S}else if(B==8){R={$:255-j*N,B:255-s*N,J:255-q*N}}else if(B==18){var g=255*j/16384;
R={$:g,B:g,J:g}}else{throw B}return R};ja.OL=function(b){var h=new e6,G=0,H=J.kC;H(h,G,2);G+=2;H(h,G,b.length);
G+=2;for(var Y=0;Y<b.length;Y++){var B=b[Y];h.yC(G,10);ja._K(h.data,G,B);G+=10;var j=(B.iZ?B.iZ:"")+"\0";
J.fZ(h,G,j);G+=4+j.length*2}return h.data.slice(0,G).buffer};ja.WK=function(b,h){b.iZ=h};ja._K=function(b,h,G){var H=65535/255,B=J.JL;
B(b,h,0);B(b,h+2,Math.round(G.$*H));B(b,h+4,Math.round(G.B*H));B(b,h+6,Math.round(G.J*H));B(b,h+8,0)};
function aY(){}aY.wZ=function(b){var h=new Uint8Array(b),G=4,H={};H.VH=J.i2(h,G);G+=4+H.VH.length*2+2;
H.exp=h[G++]==1;H.q5=[];var B=J.C(h,G);G+=4;for(var Y=0;Y<B;Y++){var j={};H.q5.push(j);j.V9=J.JQ(h,G);
G+=2;j.shift=h[G++]==1;j.asO=h[G++]==1;j.color=J.JQ(h,G);G+=2;j.VH=J.i2(h,G);G+=4+j.VH.length*2+2;j.exp=h[G++]==1;
j.q5=[];var s=J.C(h,G);G+=4;for(var q=0;q<s;q++){var Q={};j.q5.push(Q);Q.exp=h[G++]==1;Q.H=h[G++]==1;
Q.aoG=h[G++]==1;Q.a7p=h[G++];var a=J.lA(h,G,4);G+=4;if(a=="TEXT"){Q.f6=aY.af0(h,G);G+=4+Q.f6.length}else if(a=="long"){Q.f6=J.lA(h,G,4);
G+=4}else throw"e";Q.s0=aY.af0(h,G);G+=4+Q.s0.length;var l=J.dj(h,G);G+=4;if(l==-1){Q.yo={};var U=jg.m0(h,Q.yo,G);
G+=U}}}console.log(H);var N=new Uint8Array(aY.OL(H));for(var Y=0;Y<N.length;Y++)if(N[Y]!=h[Y]&&J.lA(h,Y+1,4)!="None"){console.log(h.length,N.length);
var R=4*(Y>>>2)-16;console.log(J.Ky(h,R,64));console.log(J.Ky(N,R,64));console.log(h.slice(R,R+64));
console.log(N.slice(R,R+64));throw"i"}return[H]};aY.af0=function(b,h){var G=J.C(b,h);return J.lA(b,h+4,G)};
aY.au2=function(b,h,G){J.I4(b,h,G.length);J.gI(b,h+4,G)};aY.OL=function(b){var h=new e6,G=0;J.I4(h,G,16);
G+=4;J.fZ(h,G,b.VH+"\0");G+=4+b.VH.length*2+2;h.yC(G,1);h.data[G++]=b.exp?1:0;var H=b.q5.length;J.I4(h,G,H);
G+=4;for(var Y=0;Y<H;Y++){var B=b.q5[Y];J.kC(h,G,B.V9);G+=2;h.yC(G,2);h.data[G++]=B.shift?1:0;h.data[G++]=B.asO?1:0;
J.kC(h,G,B.color);G+=2;J.fZ(h,G,B.VH+"\0");G+=4+B.VH.length*2+2;h.yC(G,1);h.data[G++]=B.exp?1:0;var j=B.q5.length;
J.I4(h,G,j);G+=4;for(var s=0;s<j;s++){var q=B.q5[s];h.yC(G,4);h.data[G++]=q.exp?1:0;h.data[G++]=q.H?1:0;
h.data[G++]=q.aoG?1:0;h.data[G++]=q.a7p;var Q="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(q.f6)!=-1;
J.gI(h,G,Q?"long":"TEXT");G+=4;if(!Q){aY.au2(h,G,q.f6);G+=4+q.f6.length}else{J.gI(h,G,q.f6);G+=4}aY.au2(h,G,q.s0);
G+=4+q.s0.length;J.v6(h,G,q.yo?-1:0);G+=4;if(q.yo){var a=jg.MU(h,q.yo,G);G+=a}}}return h.data.slice(0,G).buffer};
function ic(){}ic.wZ=function(b){var h=new Uint8Array(b),G=0,H=J.C(h,G),Q;G+=4;var B=J.lA(h,G,8);G+=8;
var j=J.FZ(h,G);G+=4;var s=J.FZ(h,G);G+=4;var q=J.FZ(h,G);G+=4;console.log(j,s,q);if(H==2){Q=new Float32Array(b,32,b.byteLength-32>>>2)}else if(H==3||H==4){Q=new Float32Array(s*q*2);
var a=0,l=0,U=!0;G=H==3?32:16+8+40;while(G<h.length){var N=J.FZ(h,G);G+=4;if(U)l+=N;else{for(var Y=0;
Y<N;Y++){Q[a+l+Y<<1]=J.B$(h,G);Q[(a+l+Y<<1)+1]=J.B$(h,G+4);G+=8}l+=N}U=!U;if(N!=0&&l==s){a+=s;l=0;U=!0;
if(a==s*q)break}}}else throw"unknown Mesh version: "+H;return{Ps:s,CN:q,map:Q}};ic.Qg=function(b){var h=b.Ps,G=b.CN,H=b.map,B=new Uint8Array(32+G*h*8+G*8),j=0,s=0;
J.N2(B,j,3);j+=4;J.K$(B,j,"yfqLhseM");j+=8;J.h0(B,j,2);j+=4;J.h0(B,j,h);j+=4;J.h0(B,j,G);j+=4;J.h0(B,j,0);
j+=4;J.h0(B,j,1);j+=4;for(var q=0;q<G;q++){J.h0(B,j,0);j+=4;J.h0(B,j,h);j+=4;for(var Q=0;Q<h;Q++){J.ze(B,j,H[s]);
J.ze(B,j+4,H[s+1]);s+=2;j+=8}}return B.buffer};function h3(){}h3.wZ=function(b){var h=new Uint8Array(b),G=0,H=J.lA(h,G,4);
G+=4;var B=J.JQ(h,G);G+=2;var j=J.C(h,G);G+=4;var s=[];for(var Y=0;Y<j;Y++){var q=J.C(h,G);G+=4;var Q={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
s.push(Q);var a=J.i2(h,G);Q.Nm.v=a;G+=4+a.length*2+2;var l=J.JQ(h,G);G+=2;var U=J.JQ(h,G);G+=2;for(var N=0;
N<U;N++){var R=e.S_.$O(0,0,!0);R.v.Vrtc.v=J.JQ(h,G);G+=2;R.v.Hrzn.v=J.JQ(h,G);G+=2;Q.Crv.v.push(R)}if(q==1){}else if(q==2){for(var N=0;
N<U;N++){Q.Crv.v[N].v.Cnty.v=h[G]==1;G+=1}}else throw"error";var S=J.C(h,G);G+=4;var g=J.C(h,G);G+=4}return s};
h3.WK=function(b,h){b.Nm.v=h};h3.OL=function(b){var h=new e6,G=0;J.gI(h,G,"8BFS");G+=4;J.kC(h,G,1);G+=2;
J.I4(h,G,b.length);G+=4;for(var Y=0;Y<b.length;Y++){J.I4(h,G,2);G+=4;var H=b[Y];J.fZ(h,G,H.Nm.v+"\0");
G+=4+H.Nm.v.length*2+2;J.kC(h,G,2);G+=2;var B=H.Crv.v.length;J.kC(h,G,B);G+=2;for(var j=0;j<B;j++){var s=H.Crv.v[j];
J.kC(h,G,s.v.Vrtc.v);G+=2;J.kC(h,G,s.v.Hrzn.v);G+=2}h.yC(G,B);for(var j=0;j<B;j++){h.data[G]=H.Crv.v[j].v.Cnty.v;
G++}J.I4(h,G,0);G+=4;J.I4(h,G,0);G+=4}return h.data.slice(0,G).buffer};function jx(){}jx.wZ=function(b,h){var G=new Uint8Array(b),H=4,B=h.split("/").pop().split(".")[0],j=J.JQ(G,H);
H+=2;var s=J.C(G,H);H+=4;var q=[];for(var Y=0;Y<s;Y++){var Q={};q.push(Q);H=jx.azA(G,H,Q);Q.name=B+"/"+Q.name.split("=").pop()}return q};
jx.WK=function(b,h){b.name=h};jx.OL=function(b){var h=new e6,G=0;J.gI(h,G,"8BPT");G+=4;J.kC(h,G,1);G+=2;
J.I4(h,G,b.length);G+=4;for(var Y=0;Y<b.length;Y++){var H=b[Y],B=H.name;H.name=H.name.split("/").pop();
G=jx.aAQ(h,G,H);H.name=B}return h.data.slice(0,G).buffer};jx.gY=function(b,h,G){var H=h+G,B=[];while(h<H){var j={},s=J.C(b,h);
h+=4;var q=h;h=jx.azA(b,h,j);if(!j.yr[1].Zx())B.push(j);if(s%4!=0)s+=4-s%4;h=q+s}return B};jx.rl=function(b,h,G){for(var Y=0;
Y<G.length;Y++){var H=G[Y];h+=4;var B=h;h=jx.aAQ(b,h,H);var j=h-B;J.I4(b,B-4,j);if(j%4!=0)B+=4-j%4;h=B+j}return h};
jx.azA=function(b,h,G){var H=J.C(b,h);h+=4;if(H!=1)alert("Unknown version of pattern");var B=J.C(b,h);
h+=4;if(B!=1&&B!=2&&B!=3)console.log("Unsupported mode of pattern: "+B);var j=J.JQ(b,h);h+=2;var s=J.JQ(b,h);
h+=2;var q=new io(0,0,s,j);G.name=J.i2(b,h);h+=4+2*G.name.length+2;var Q=b[h];h++;G.id=J.lA(b,h,Q);h+=G.id.length;
var a=-1;if(B==2){a=h;h+=3*256+4}var l=new e.Bh(s*j);h=jx.a8b(b,h,l);if(B==2){for(var Y=0;Y<l.$.length;
Y++){var U=3*l.$[Y];l.$[Y]=b[a+U+0];l.B[Y]=b[a+U+1];l.J[Y]=b[a+U+2]}}var N=e.U(q.X()*4);e.bh(l,N);G.yr=[N,q];
return h};jx.aAQ=function(b,h,G){var H=G.yr[0],B=G.yr[1];J.I4(b,h,1);h+=4;J.I4(b,h,3);h+=4;J.kC(b,h,B._);
h+=2;J.kC(b,h,B.j);h+=2;J.fZ(b,h,G.name+"\0");h+=4+2*G.name.length+2;J.j1(b,h,G.id.length);h++;J.gI(b,h,G.id);
h+=G.id.length;var j=new e.Bh(B.X());e.gZ(H,j);h=jx.a9q(b,h,j,B);return h};jx.a8b=function(b,h,G){var H=h,B={O2:null,M:[],aen:null,AN:null},j=J.C(b,h);
h+=4;var s=J.C(b,h);h+=4;B.O2=J.b0(b,h);h+=16;var q=J.C(b,h);h+=4;for(var Y=0;Y<q+2;Y++){var Q=J.C(b,h);
h+=4;if(Q==0)continue;var a=J.C(b,h);h+=4;if(a==0)continue;var l=J.C(b,h);h+=4;var U=J.b0(b,h);h+=16;
var N=J.JQ(b,h);h+=2;var R=b[h];h++;var S=fU.N3(!1,l,b,U.j,U._,h,R);if(Y<q)B.M.push(S);if(Y==q)B.aen=S;
if(Y==q+1)B.AN=S;h+=a-23}if(!B.O2.Zx()){if(B.M[0])G.$=B.M[0];if(B.M[1])G.B=B.M[1];else G.B=B.M[0].slice(0);
if(B.M[2])G.J=B.M[2];else G.J=B.M[0].slice(0);if(B.AN)G.G=B.AN;else G.G.fill(255)}return h};jx.a9q=function(b,h,G,H){var B=h,j={O2:H,M:[G.$,G.B,G.J],aen:null,AN:G.G};
J.I4(b,h,3);h+=4;J.I4(b,h,0);h+=4;J.Rx(b,h,H);h+=16;J.I4(b,h,24);h+=4;for(var Y=0;Y<24+2;Y++){var s=h,q=Y<3||Y==25?1:0;
J.I4(b,h,q);h+=4;if(q==0)continue;J.I4(b,h,0);h+=4;J.I4(b,h,8);h+=4;J.Rx(b,h,H);h+=16;J.kC(b,h,8);h+=2;
J.j1(b,h,1,1);h++;var Q=Y<3?j.M[Y]:j.AN;b.yC(h,H.X()+2);h=fU.Ye(!1,Q,b.data,H.j,H._,h,1);J.I4(b,s+4,h-s-8)}J.I4(b,B+4,h-B-8);
return h};function dU(){}dU.wZ=function(b,h){var G=new Uint8Array(b),B=0;if(G[0]==71)return dU.ajm(G);
var H=h.split("/").pop().split(".")[0],j=J.lA(G,B,4);B+=4;var s=J.JQ(G,B);B+=2;var q=[];if(s<=3){var Q=J.JQ(G,B);
B+=2;for(var Y=0;Y<Q;Y++){var a=G[B++],l=J.lA(G,B,a);B+=a;var U=dU.arn(G,B,l),N=U[0];B=U[1];q.push(N)}}else{var U={},R=jg.m0(G,U,B+4),S=U.GrdL.v;
for(var Y=0;Y<S.length;Y++)q[Y]=S[Y].v.Grad.v}for(var Y=0;Y<q.length;Y++){var g=q[Y].Nm.v.split("/").pop().split("=").pop();
q[Y].Nm.v=H+"/"+g}return q};dU.WK=function(b,h){b.Nm.v=h};dU.OL=function(b){var h=new e6,G=0;J.gI(h,G,"8BGR");
G+=4;J.kC(h,G,5);G+=2;J.I4(h,G,16);G+=4;var H={classID:"null",GrdL:{t:"VlLs",v:[]}},B=H.GrdL.v;for(var Y=0;
Y<b.length;Y++){var j=JSON.parse(JSON.stringify(b[Y]));j.Nm.v=j.Nm.v.split("/").pop();B[Y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:j}}}}G+=jg.MU(h,H,G);
return h.data.slice(0,G).buffer};dU.arn=function(b,h,G){var H={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:G},Trns:{t:"VlLs",v:[]}},B=J.JQ(b,h);
h+=2;if(B==0)throw"e";for(var Y=0;Y<B;Y++){var j=J.C(b,h),s=J.C(b,h+4),q=ja.ur(b,h+8),Q={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:q.$},Grn:{t:"doub",v:q.B},Bl:{t:"doub",v:q.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:j},Mdpn:{t:"long",v:s}}};
H.Clrs.v.push(Q);h+=20}var a=J.JQ(b,h);h+=2;for(var Y=0;Y<a;Y++){var j=J.C(b,h),s=J.C(b,h+4),l=J.JQ(b,h+8),Q={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*l/255)}},Lctn:{t:"long",v:j},Mdpn:{t:"long",v:s}}};
H.Trns.v.push(Q);h+=10}var U=J.JQ(b,h);h+=2;H.Intr.v=U==2?J.JQ(b,h):4096;h+=2;var N=J.JQ(b,h);h+=2;return[H,h]};
dU.aj_=function(b,h,G){var H=G.Clrs.v.length;J.kC(b,h,H);h+=2;for(var Y=0;Y<H;Y++){var B=G.Clrs.v[Y];
J.I4(b,h,B.v.Lctn.v);J.I4(b,h+4,B.v.Mdpn.v);J.kC(b,h+8,0);var j=e.F.t1(e.F.an(B.v.Clr.v)),s=[j.Rd.v,j.Grn.v,j.Bl.v,0];
for(var q=0;q<4;q++)J.kC(b,h+10+q*2,Math.round(65535*(s[q]/255)));h+=20}var Q=G.Trns.v.length;J.kC(b,h,Q);
h+=2;for(var Y=0;Y<Q;Y++){var B=G.Trns.v[Y];J.I4(b,h,B.v.Lctn.v);J.I4(b,h+4,B.v.Mdpn.v);J.kC(b,h+8,Math.round(255*B.v.Opct.v.val/100));
h+=10}J.kC(b,h,2);h+=2;J.kC(b,h,G.Intr.v);h+=2;J.kC(b,h,32);h+=2;return h};dU.ajm=function(b){var h=J.S2(b,0,b.length).split("\n"),G=parseFloat(h[2]),H=[],B=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]).Grad.v;
B.Intr.v=0;B.Nm.v=h[1];for(var Y=0;Y<G;Y++){var j=h[3+Y].split(" ").map(parseFloat),s=j[11],q=j[12];
H.push([j[0],j.slice(3,6),j[6]]);if(q!=0){var Q=e.j$(j[3],j[4],j[5]),a=e.j$(j[7],j[8],j[9]),l=Q.CN,U=a.CN;
if(q==1&&l>U)U++;if(q==2&&l<U)l++;var N=Math.round(Math.abs(U-l)*7);if(N>1)for(var R=0;R<N;R++){var S=1-(R+1)/(N+1),g=1-S,i=e.LM(S*l+g*U,S*Q.Xk+g*a.Xk,S*Q.ZV+g*a.ZV);
H.push([S*j[0]+g*j[2],[i.$,i.B,i.J],S*j[6]+g*j[10]])}}H.push([j[2],j.slice(7,10),j[10]])}H.sort(function(y,o){return y[0]-o[0]});
e.F.mg(H,B);return[B]};function cn(){}cn.wZ=function(b){var h=new Uint8Array(b),G=[],H=[],B=[],j=[],s=[],q=0,Q=J.lA(h,q,4);
q+=4;var a=J.C(h,q);q+=4;var l=J.C(h,q);q+=4;while(q<h.length){var U=J.lA(h,q,4);q+=4;var N=J.lA(h,q,4);
q+=4;var R=J.C(h,q);q+=4;if(N=="tppa"){H=jx.gY(h,q,R);q+=R}else if(N=="tpbd"){B=hH.aBF(h,q,R,1,1);q+=R}else if(N=="tptp"){var S=J.C(h,q);
q+=4;for(var Y=0;Y<S;Y++){var g=J.i2(h,q);q+=6+g.length*2;q+=4;var i={};q+=jg.m0(h,i,q);G.push([g,i])}while((q&3)!=0)q++}else if(N=="tpsh"){var y=q,o=h.slice(q,q+R);
while(q<y+R){var v=J.C(h,q);q+=4;q=e3.a4S(h,q,"Shape",j)}q=y+R}else if(N=="tpst"){var y=q;q+=4;while(q<y+R){var Z=J.C(h,q);
q+=4;var W=q,d=J.C(h,q);q+=4;var i={es:{},Zv:{}};s.push(i);q+=4;q+=jg.m0(h,i.es,q);q+=4;q+=jg.m0(h,i.Zv,q);
q=W+Z;var $=i.Zv.Lefx;if($){if($.v.masterFXSwitch==null)$.v.masterFXSwitch={t:"bool",v:!0};he.KP($.v)}}q=y+R}else{console.log(h.slice(q-8,q+64));
console.log(J.lA(h,q-8,64));throw N}}return{t8:B,oJ:H,list:G,att:j,QW:s}};cn.WK=function(b,h){b[0]=h};
cn.OL=function(b){var h=new e6,G=0;J.gI(h,G,"8BTP");G+=4;J.I4(h,G,3);G+=4;J.I4(h,G,1);G+=4;var H=[b.oJ,b.t8,b.list];
for(var Y=0;Y<3;Y++){if(H[Y].length==0)continue;J.gI(h,G,"8BIM");G+=4;var B=["tppa","tpbd","tptp"][Y];
J.gI(h,G,B);G+=4;var j=G;G+=4;if(B=="tppa"){G=jx.rl(h,G,b.oJ)}else if(B=="tpbd"){G=hH.aFf(h,G,b.t8)}else if(B=="tptp"){J.I4(h,G,b.list.length);
G+=4;for(var s=0;s<b.list.length;s++){var q=b.list[s];J.fZ(h,G,q[0]+"\0");G+=6+q[0].length*2;J.I4(h,G,16);
G+=4;G+=jg.MU(h,q[1],G)}}J.I4(h,j,G-j-4);while((G&3)!=0)G++;h.yC(G,0)}return h.data.slice(0,G).buffer};
function bm(){}bm.wZ=function(b,h){var G=new Uint8Array(b),H;if(J.C(G,0)==G.length)H="icc";else if(G[0]=="<".charCodeAt(0))H="look";
else if(J.qh(G,"LUT_3D_SIZE")!=-1)H="cube";else H="3DL";if(H!="icc"){var B=bm.aAS(G,H),j=bm.aAW(B[0],B[1]);
G=j}var s=[];for(var Y=0;Y<G.length;Y++)s.push(G[Y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:h?h:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:s}}]};
bm.OL=function(b){var h=b[0],G=new Uint8Array(h.profile.v);return G.buffer};bm.WK=function(b,h){b.Nm.v=h};
bm.aAW=function(b,h){var G=new e6,H=128;G.yC(0,128);var B=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Y=0;Y<B.length;Y++)G.data[Y]=B[Y];var j=["desc","A2B0"],s=j.length,q=128+4+s*12;J.I4(G,H,s);
H+=4;for(var Q=0;Q<s;Q++){var a=j[Q];J.gI(G,H,a);H+=4;J.I4(G,H,q);H+=4;var l=q;if(a=="desc"){J.gI(G,l,"mluc");
l+=4;l+=4;J.I4(G,l,1);l+=4;J.I4(G,l,12);l+=4;J.gI(G,l,"enUS");l+=4;var U="ICC by Photopea\0",N=U.length*2+2;
J.I4(G,l,N);l+=4;J.I4(G,l,28);l+=4;G.yC(l,N);for(var Y=0;Y<U.length;Y++)G.data[l+Y*2+1]=U.charCodeAt(Y);
l+=N}if(a=="A2B0"){J.gI(G,l,"mAB ");l+=4;l+=4;G.yC(l,4);G.data[l]=3;G.data[l+1]=3;l+=4;G.yC(l,4*5);l+=4*3;
J.I4(G,l,l+8-q);l+=4;l+=4;G.yC(l,20);G.data[l]=b;G.data[l+1]=b;G.data[l+2]=b;l+=16;G.data[l]=2;l+=4;
var R=b*b*b*3;G.yC(l,R*2);for(var Y=0;Y<R;Y++)J.JL(G.data,l+Y*2,Math.max(0,Math.min(65535,Math.round(h[Y]*65535))));
l+=R*2}var S=l-q;while((S&3)!=0)S++;J.I4(G,H,S);H+=4;q+=S}J.I4(G,0,q);return G.data.slice(0,q)};bm.aAS=function(b,h){h="LUTFormat"+h.toUpperCase();
var G=[],H=0,B=J.S2(b,0,b.length),j="";for(var Y=0;Y<b.length&&j=="";Y++){if(b[Y]==10)j="\n";else if(b[Y]==13){j="\r";
if(b[Y+1]==10)j+="\n"}}if(h=="LUTFormatCUBE"){var s=B.split(j);for(var Y=0;Y<s.length;Y++){if(s[Y]==""||s[Y][0]=="#")continue;
var q=s[Y].split(" "),Q=q[0];if(Q=="LUT_3D_SIZE"){H=parseInt(q[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(Q)!=-1)continue;
G.push(parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2]))}G=bm.awC(H,G)}else if(h=="LUTFormat3DL"){var s=B.split(j),a=1/4095;
for(var Y=0;Y<s.length;Y++){var l=s[Y];if(l==""||l=="3DMESH"||l.startsWith("Mesh")||l[0]=="#")continue;
var q=l.split(" "),Q=q[0];if(H==0){H=q.length;continue}G.push(parseFloat(q[0])*a,parseFloat(q[1])*a,parseFloat(q[2])*a)}}else if(h=="LUTFormatLOOK"){var U=new DOMParser,N=U.parseFromString(B,"text/xml"),R=N.getElementsByTagName("LUT")[0],S=R.children[0].textContent;
H=parseInt(JSON.parse(S));var g=R.children[1].textContent;g=g.replace(/"/g,"").replace(/\s/g,"");var i=3*H*H*H,y=i*4,o=new Uint8Array(y);for(var Y=0;Y<y;Y++){var v=g.charCodeAt(Y*2),Z=g.charCodeAt(Y*2+1),W=v<58?v-48:v-55,d=Z<58?Z-48:Z-55;o[Y]=(W<<4)+d}for(var Y=0;Y<i;Y++)G.push(J.B$(o,Y<<2));G=bm.awC(H,G)}else throw h;return[H,G]};bm.af4=function(b,h,G){var H=["#Created by www.Photopea.com","TITLE \""+G+"\"","","#LUT size","LUT_3D_SIZE "+h,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],B=6;
for(var Y=0;Y<b.length;Y+=3){H.push(b[Y].toFixed(B)+" "+b[Y+1].toFixed(B)+" "+b[Y+2].toFixed(B))}H.push("");
return J.AY(H.join("\n")).buffer};bm.awC=function(b,h){var G=[],H=b*b*b;for(var Y=0;Y<H;Y++)G.push(0,0,0);
for(var B=0;B<b;B++)for(var j=0;j<b;j++)for(var s=0;s<b;s++){var Y=3*(s+j*b+B*b*b),q=3*(B+j*b+s*b*b);
G[q]=h[Y];G[q+1]=h[Y+1];G[q+2]=h[Y+2]}return G};function jg(){}jg.m0=function(b,h,G,H,B){var j=G,s;if(B==null)B=0;
var q=J.C(b,G);if(q==0){s="";G+=4}else{s=J.i2(b,G);G+=4+2*s.length+2}if(s!="")h.__name=s;h.classID=jg.j8(b,G);
if(H)console.log("\t".repeat(B),"- reading descriptor",h.classID,G);G+=jg.CU(b,G);var Q=J.dj(b,G);G+=4;
for(var Y=0;Y<Q;Y++){var a=jg.j8(b,G);G+=jg.CU(b,G);var l=jg.aoM(b,G,H,B);h[a]=l;G+=l.size;delete l.size}return G-j};
jg.MU=function(b,h,G,H){var B=G,j=h.__name;if(j==null)j="";j+="\0";J.fZ(b,G,j);G+=4+2*j.length;jg.Dd(b,G,h.classID);
G+=jg.CU(b.data,G);J.v6(b,G,Object.keys(h).length-1-(h.__name==null?0:1));G+=4;for(var s in h){if(s=="classID")continue;
if(s=="__name")continue;jg.Dd(b,G,s);G+=jg.CU(b.data,G);G+=jg.ava(b,G,h[s])}return G-B};jg.aoM=function(b,h,G,H){var B=h,j=J.lA(b,h,4);
h+=4;var s={size:0,t:j,v:null};if(G)console.log("\t".repeat(H),"reading key",j,B);switch(j){case"obj ":case"VlLs":s.v=[];
var q=J.C(b,h);h+=4;for(var Y=0;Y<q;Y++){var Q=jg.aoM(b,h,G,H+1);h+=Q.size;delete Q.size;s.v.push(Q)}break;
case"UntF":s.v={type:J.lA(b,h,4),val:J.Oj(b,h+4)};h+=12;break;case"doub":s.v=J.Oj(b,h);h+=8;break;case"bool":s.v=b[h]==1;
h+=1;break;case"long":s.v=J.dj(b,h);h+=4;break;case"comp":s.v=J.dj(b,h+4);h+=8;break;case"Objc":s.v={};
var a=jg.m0(b,s.v,h,G,H+1);h+=a;break;case"TEXT":var l=J.C(b,h);if(l==0){s.v="";h+=4}else{s.v=J.i2(b,h);
h+=4+s.v.length*2+2}break;case"enum":var U=jg.j8(b,h);h+=jg.CU(b,h);var N=jg.j8(b,h);h+=jg.CU(b,h);s.v={};
s.v[U]=N;break;case"tdta":var R=J.dj(b,h);h+=4;s.v=Array.from(b.slice(h,h+R));h+=R;break;case"ObAr":var S=J.C(b,h);
h+=4;var g=J.i2(b,h);h+=4+2*g.length+2;if(g!="")throw g;var i=jg.j8(b,h);h+=4+Math.max(4,i.length);s.v={classID:i,arr:[]};
var y=J.C(b,h);h+=4;for(var Y=0;Y<y;Y++){var i=jg.j8(b,h);h+=4+Math.max(4,i.length);var U=J.lA(b,h,4);
h+=4;var o=J.lA(b,h,4);h+=4;var v={id:i,type:U,uID:o,arr:[]};s.v.arr.push(v);var Z=J.C(b,h,4);h+=4;for(var W=0;
W<Z;W++){var d=J.Oj(b,h);h+=8;v.arr.push(d)}}break;case"Pth ":var $=h,R=J.C(b,h);h+=4;var I=J.lA(b,h,4);
h+=4;var k=J.FZ(b,h);h+=4;var _=J.ajR(b,h);h+=4+_.length*2;s.v={sig:I,pth:_};break;case"Clss":case"type":case"rele":var _=J.i2(b,h);
h+=4+_.length*2+2;var D=jg.j8(b,h);h+=4+Math.max(4,D.length);s.v={classID:D};if(_!="")s.v.__name=_;if(j=="rele"){s.v.val=J.dj(b,h);
h+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var A=jg.Vk[j],_=J.i2(b,h);h+=4+_.length*2+2;
if(_.length!=0){console.log(j,_);throw"e"}s.v={};for(var Y=0;Y<A.length;Y++){var D=jg.j8(b,h);h+=4+Math.max(4,D.length);
s.v[A[Y]]=D}if(j=="name"){var _=J.i2(b,h);h+=4+_.length*2+2;s.v.val=_}if(j=="indx"||j=="Idnt"){s.v.val=J.C(b,h);
h+=4}break;case"alis":var R=J.C(b,h);h+=4;s.v=J.lA(b,h,R);h+=R;break;default:{console.log("unknown oskey: "+j+", "+B);
throw"e";return s}}if(G){console.log("\t".repeat(H),s.v);console.log("\t".repeat(H),"======",h)}s.size=h-B;
return s};jg.Vk={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
jg.ava=function(b,h,G){var H=h,B=G.t;G=G.v;J.gI(b,h,B);h+=4;switch(B){case"obj ":case"VlLs":J.v6(b,h,G.length);
h+=4;for(var j=0;j<G.length;j++){var s=jg.ava(b,h,G[j]);h+=s}break;case"UntF":J.gI(b,h,G.type);J.r$(b,h+4,G.val);
h+=12;break;case"doub":J.r$(b,h,G);h+=8;break;case"bool":J.j1(b,h,G?1:0,1);h+=1;break;case"long":J.v6(b,h,G);
h+=4;break;case"comp":J.v6(b,h+4,G);h+=8;break;case"Objc":var s=jg.MU(b,G,h);h+=s;break;case"TEXT":J.fZ(b,h,G+"\0");
h+=4+G.length*2+2;break;case"enum":var q=Object.keys(G)[0],Q=G[q];jg.Dd(b,h,q);h+=jg.CU(b.data,h);jg.Dd(b,h,Q);
h+=jg.CU(b.data,h);break;case"tdta":J.I4(b,h,G.length);h+=4;J.d8(b,h,G);h+=G.length;break;case"ObAr":J.I4(b,h,G.arr[0].arr.length);
h+=4;J.fZ(b,h,"\0");h+=6;jg.Dd(b,h,G.classID);h+=4+Math.max(4,G.classID.length);J.I4(b,h,G.arr.length);
h+=4;for(var Y=0;Y<G.arr.length;Y++){var a=G.arr[Y];jg.Dd(b,h,a.id);h+=4+Math.max(4,a.id.length);J.gI(b,h,a.type);
h+=4;J.gI(b,h,a.uID);h+=4;J.I4(b,h,a.arr.length);h+=4;for(var j=0;j<a.arr.length;j++){J.r$(b,h,a.arr[j]);
h+=8}}break;case"Pth ":var l=G.pth.length*2+4+8;J.I4(b,h,l);h+=4;J.gI(b,h,G.sig);h+=4;J.lE(b,h,l);h+=4;
J.a2K(b,h,G.pth);h+=G.pth.length*2+4;break;case"Clss":case"type":case"rele":var U=G.__name;if(U==null)U="";
J.fZ(b,h,U+"\0");h+=4+U.length*2+2;var N=G.classID;jg.Dd(b,h,N);h+=4+Math.max(4,N.length);if(B=="rele"){J.v6(b,h,G.val);
h+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=jg.Vk[B];J.I4(b,h,1);h+=6;for(var Y=0;
Y<R.length;Y++){var N=G[R[Y]];jg.Dd(b,h,N);h+=4+Math.max(4,N.length)}if(B=="name"){J.fZ(b,h,G.val+"\0");
h+=4+G.val.length*2+2}if(B=="indx"||B=="Idnt"){J.I4(b,h,G.val);h+=4}break;case"alis":var l=G.length;
J.I4(b,h,l);h+=4;J.gI(b,h,G);h+=l;break;default:console.log("unknown oskey: "+B);h=H;break}return h-H};
jg.j8=function(b,h){var G=J.dj(b,h);if(G>1e3)throw"e";if(G==0)G=4;return J.lA(b,h+4,G).trim()};jg.CU=function(b,h){var G=J.dj(b,h);
return G==0?8:4+G};jg.Dd=function(b,h,G){var H="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),B=4<G.length||H.indexOf(G)!=-1;
J.v6(b,h,B?G.length:0);J.gI(b,h+4,G);if(G.length<4&&!B){var j="";for(var Y=G.length;Y<4;Y++)j+=" ";J.gI(b,h+4+G.length,j)}};
jg.aad=function(b){var h={};for(var G in b){if(G=="classID")h[G]=b[G];else if(G=="__name")h[G]=b[G];
else h[G]=jg.aja(b[G])}return h};jg.aja=function(b){if(b.$G=="Objc")return jg.aad(b.v);else if(b.$G=="VlLs"){var h=[];
for(var Y=0;Y<b.v.length;Y++)h.push(jg.aja(b.v[Y]));return h}else if(b.$G=="UntF")return b.v.val;else return b.v};
function he(){}he.am5=function(b,h,G,H,B,j){while(h<G){var s=J.lA(b,h,4);h+=4;if(s!="8BIM"&&s!="8B64"){console.log("layer information signature error! "+s,"PSB = "+B);
alert("Error in PSD file: wrong signature.");return G}var q=J.lA(b,h,4);h+=4;var Q=J.C(b,h);h+=4;var a=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(q)!=-1;
if(a){Q=Q<<32|J.dj(b,h);h+=4}var l=["lrFX","PlLd"];if(l.indexOf(q)!=-1){if(Q%4!=0)Q+=4-Q%4;h+=Q;continue}switch(q){case"iOpa":H[q]=b[h];
break;case"brst":H[q]=[1,1,1];for(var Y=0;Y<Q;Y+=4)H[q][J.C(b,h+Y)]=0;break;case"knko":H[q]=b[h];break;
case"infx":H[q]=b[h];break;case"clbl":H[q]=b[h];break;case"lmgm":H[q]=b[h];break;case"vmgm":H[q]=b[h];
break;case"fcmy":H[q]=b[h];break;case"lyid":H[q]=J.C(b,h);break;case"lsct":H[q]={type:J.C(b,h)};if(Q>=12)H[q].Am=J.lA(b,h+8,4);
break;case"lsdk":H.lsct={type:J.C(b,h)};break;case"lyvr":H[q]=J.C(b,h);break;case"lnsr":var U={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
H[q]=J.lA(b,h,4);break;case"lspf":H[q]=J.C(b,h);break;case"lclr":H[q]=J.JQ(b,h);break;case"luni":H[q]=J.Cy(b,h);
break;case"fxrp":H[q]=new cJ(J.Oj(b,h),J.Oj(b,h+8));break;case"artb":case"artd":H[q]={};jg.m0(b,H[q],h+4);
break;case"SoCo":H[q]={};jg.m0(b,H[q],h+4);break;case"GdFl":H[q]={};jg.m0(b,H[q],h+4);he.MB(H[q],q);
break;case"PtFl":H[q]={};jg.m0(b,H[q],h+4);he.MB(H[q],q);break;case"CgEd":H[q]={};jg.m0(b,H[q],h+4);
break;case"brit":var N=H.brit=gY.Az("brit"),R={};N.Brgh.v=J.KV(b,h);N.Cntr.v=J.KV(b,h+2);N.useLegacy.v=!0;
break;case"levl":var S=b.buffer.slice(h,h+Q);H[q]=b3.wZ(S);break;case"curv":H[q]=hc.SQ(b,h,Q);break;
case"expA":var g=J.JQ(b,h),i=H[q]=gY.Az("expA");i.Exps.v=J.N$(b,h+2);i.Ofst.v=J.N$(b,h+6);i.gammaCorrection.v=J.N$(b,h+10);
break;case"vibA":H[q]={};jg.m0(b,H[q],h+4);break;case"hue2":H[q]=bV.SQ(b,h,Q);break;case"blnc":var i=H[q]=gY.Az(q);
i.PrsL.v=b[h+18]==1;var y=["ShdL","MdtL","HghL"];for(var Y=0;Y<3;Y++)for(var o=0;o<3;o++)i[y[Y]].v[o].v=J.KV(b,h+Y*6+o*2);
break;case"blwh":var v={};jg.m0(b,v,h+4);var i=gY.Az(q),Z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<Z.length;Y++){i[Z[Y]]=v[Z[Y]];delete v[Z[Y]]}H[q]=i;break;case"phfl":var i=H[q]=gY.Az(q),W=i.Clr.v,g=J.JQ(b,h);
if(g==3){var d=[J.C(b,h+2),J.C(b,h+6),J.C(b,h+10)],$=32768,I=e.auU(d[0]/$,d[1]/$,d[2]/$);W.Lmnc.v=I.RY;
W.A.v=I.G;W.B.v=I.J}if(g==2){var k=J.JQ(b,h+2);if(k!=7)throw"e";W.Lmnc.v=J.KV(b,h+4)/100;W.A.v=J.KV(b,h+6)/100;
W.B.v=J.KV(b,h+8)/100}var _=h+2+(g==3?12:10);i.Dnst.v=J.C(b,_);_+=4;i.PrsL.v=b[_]==1;break;case"mixr":var D={Dx:J.JQ(b,h+2)==1,P:[]};
for(var Y=0;Y<20;Y++)D.P.push(J.KV(b,h+4+Y*2));H[q]=eZ.Bc(D);break;case"clrL":case"rplc":H[q]={};jg.m0(b,H[q],h+6);
break;case"nvrt":H[q]={};break;case"post":H[q]=gY.Az("post");H[q].Lvls.v=J.JQ(b,h);break;case"thrs":H[q]=gY.Az("thrs");
H[q].Lvl.v=J.JQ(b,h);break;case"grdm":var A=h,F=J.JQ(b,A);A+=2;var K=b[A]==1,V=b[A+1]==1;A+=2;var r=J.lA(b,A,4);
if(r=="Perc"||r=="Gcls"||r=="Lnr "||r=="\0\0\x0B\x1D")A+=4;var c=J.Cy(b,A);A+=4+c.length*2;var x=dU.arn(b,A,c),X=x[0];
A=x[1];var M=J.JQ(b,A);A+=2;var f=J.C(b,A);A+=4;var t=J.JQ(b,A)==1;A+=2;var n=J.JQ(b,A)==1;A+=2;var L=J.C(b,A);
A+=4;var P=J.JQ(b,A);A+=2;var z=[],T=[];for(var Y=0;Y<4;Y++){z.push({t:"long",v:~~(J.JQ(b,A+Y*2)*100/32768)});
T.push({t:"long",v:~~(J.JQ(b,A+Y*2+8)*100/32768)})}A+=16;var p=J.JQ(b,A);A+=2;if(M==1)X={classID:"Grdn",Nm:{t:"TEXT",v:c},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:t},VctC:{t:"bool",v:n},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:f},Smth:{t:"long",v:L},Mnm:{t:"VlLs",v:z},Mxm:{t:"VlLs",v:T}};
var m=gY.Az("grdm");m.Rvrs.v=K;m.Grad.v=X;H[q]=m;break;case"selc":H[q]=dK.SQ(b,h,Q);break;case"vmsk":case"vsms":var O=H.vmsk=new C.cW,cb=J.dj(b,h+4),cX=(cb>>0&1)==1;
O.lc=(cb>>1&1)==0;O.isEnabled=(cb>>2&1)==0;O.d=e3.qT(b,h+8,Q-8,j.j,j._);break;case"shmd":H[q]={};var e$=J.C(b,h),_=h+4;
for(var Y=0;Y<e$;Y++){var s=J.lA(b,_,4);_+=4;var fz=J.lA(b,_,4);_+=4;var eC=b[_];_++;if(Math.max(b[_],b[_+1])!=0)throw"e";
_+=3;var hw=J.C(b,_);_+=4;if(fz=="cust"||fz=="cmls"||fz=="extn"||fz=="mlst"){var az=J.C(b,_);if(az!=16)_+=4;
if(J.C(b,_)==16){var v={};jg.m0(b,v,_+4,!1);H[q][fz]=v;if(fz=="cmls")E.jx.a24(H[q][fz])}}else{console.log("unknown shmd key: "+fz+", size: "+hw)}_+=hw}break;
case"shpa":var g=J.C(b,h),av=J.C(b,h+4);if(av!=0)console.log("some patterns present!");break;case"TySh":var ia=H[q]={},g=J.JQ(b,h);
ia.h=J.D$(b,h+2);var iJ=J.JQ(b,h+2+48);ia.AT={};try{var cx=jg.m0(b,ia.AT,h+56)}catch(ku){H[q]=null;break}var hP=b_.ahO();
for(var iS in hP)if(ia.AT[iS]==null)ia.AT[iS]=hP[iS];ia.If={};var e4=jg.m0(b,ia.If,h+56+cx+6);ia.In=J.avS(b,h+56+cx+6+e4);
ia.HZ=d3.wZ(ia.AT.EngineData.v);b_.a2Y(ia.HZ.EngineDict.StyleRun.RunArray);if(ia.HZ.ResourceDict==null)ia.HZ.ResourceDict=JSON.parse(JSON.stringify(ia.HZ.DocumentResources));
delete ia.AT.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var cc=J.C(b,h),aO=J.C(b,h+4);H.lmfx={};
var cx=jg.m0(b,H.lmfx,h+8);he.KP(H.lmfx);break;case"FMsk":H[q]=J.$C(b,h,Q);break;case"Txt2":H[q]={};
H[q].raw=J.$C(b,h,Q);H[q].iN=dd.wZ(H[q].raw);break;case"Patt":H[q]=jx.gY(b,h,Q);break;case"SoLd":var bZ=J.lA(b,h,4),d_=J.C(b,h+4),ee=J.C(b,h+8),b4=H[q]={},hA=jg.m0(b,b4,h+12),f$=b4.warp,e_=b4.quiltWarp;
if(e_==null)e_=b4.quiltWarp=e.hC.aD1(f$);delete b4.warp;var fJ=e_.v.warpStyle.v.warpStyle,dV=e_.v.warpValues;
if(fJ!="warpCylinder"&&dV){e_.v.warpValue={t:"doub",v:dV.v[0].v};delete e_.v.warpValues}if(b4.nonAffineTransform==null)b4.nonAffineTransform=JSON.parse(JSON.stringify(b4.Trnf));
if(b4.Impr==null)b4.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var d_=J.C(b,h);
H[q]={};var hA=jg.m0(b,H[q],h+4);break;case"vscg":var fz=J.lA(b,h,4),d_=J.C(b,h+4);H[fz]={};var hA=jg.m0(b,H[fz],h+8);
he.MB(H[fz],fz);break;case"vogk":var ix=J.C(b,h),d_=J.C(b,h+4);H[q]={};var hA=jg.m0(b,H[q],h+8);H[q]=H[q].keyDescriptorList.v;
for(var Y=0;Y<H[q].length;Y++){var b9=H[q][Y].v;if(!e.Bs.bM(b9))continue;if(b9.keyOriginBoxCorners==null){var hV=e.Bs.QT(b9);
b9.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var gq=[hV[0],hV[1],hV[2],hV[1],hV[2],hV[3],hV[0],hV[3]];
if(b9.keyOriginType.v==4)gq=e.Bs.aqW(e.Bs.sT(b9),b9.keyOriginLineWeight.v);e.Bs.t3(b9,"keyOriginBoxCorners",gq)}}break;
case"lnk2":case"lnkD__":case"lnk3__":H[q]=[];var A=h;while(A<h+Q){var eH=new C.gs;H[q].push(eH);var eP=J.DN(b,A);
A+=8;var c2=A;eH.type=J.lA(b,A,4);A+=4;if(eH.type!="liFD"){alert("Unknown Linked Layer type: "+eH.type);
break;throw eH.type}eH.PL=J.C(b,A);A+=4;var bL=J._i(b,A);A+=1+bL.yD.length;eH.Af=bL.yD;eH._6=J.i2(b,A);
A+=4+eH._6.length*2+2;eH.Z_=J.lA(b,A,4);A+=4;eH.Vx=J.lA(b,A,4);A+=4;var dg=J.DN(b,A);A+=8;eH.open=b[A];
A+=1;if(eH.open!=0){var cN={},cx=jg.m0(b,cN,A+4);if(cx%4!=0)cx+=4-cx%4;console.log(cN);A+=cx+4}eH.open=0;
eH.raw=J.$C(b,A,dg);A=c2+eP;if(eP%4!=0)A+=4-eP%4}break;case"FEid":var A=h;H[q]=[];var dH=A+Q,g=J.C(b,A);
A+=4;while(A<dH){A+=4;var eP=J.C(b,A);A+=4;var x={};H[q].push(x);x.id=J._i(b,A).yD;A+=x.id.length+1;
var g=J.C(b,A);A+=4;A+=4;var kM=J.C(b,A);A+=4;x.rect=J.b0(b,A);A+=16;var a_=J.C(b,A);A+=4;var g4=J.C(b,A);
A+=4;var iY=new e.Bh(0);for(var Y=0;Y<g4+2;Y++){var fa=J.C(b,A);A+=4;if(fa!=0){A+=4;var ka=J.C(b,A),b1=null;
A+=4;if(Y<3||Y==25)b1=fU.ul(!0,a_,b,x.rect.j,x.rect._,A,ka);if(Y==0)iY.$=b1;if(Y==1)iY.B=b1;if(Y==2)iY.J=b1;
if(Y==25)iY.G=b1;A+=ka}}x.buffer=e.U(x.rect.X()*4);e.bh(iY,x.buffer);var bg=b[A];A++;if(bg!=0){x.u=new C.Tc;
x.u.rect=J.b0(b,A);A+=16;A+=4;var cl=J.C(b,A);A+=4;x.u.channel=fU.ul(!0,a_,b,x.u.rect.j,x.u.rect._,A,cl);
x.u.color=255;x.u.r6();A+=cl}if(eP%4!=0)A+=4-eP%4}break;case"Lr16":gr.avY(j,b,h);break;case"Anno":H[q]=[];
var c0=h,kL=h+4,av=J.C(b,kL);kL+=4;for(var Y=0;Y<av;Y++){var eP=J.C(b,kL);kL+=4;var c_=J.lA(b,kL,4);
kL+=4;if(c_!="txtA")throw c_;var cA=b[kL++],aw=b[kL++],kq=J.JQ(b,kL);kL+=2;var f4=J.b0(b,kL);kL+=16;
var gF=J.b0(b,kL);kL+=16;var W=ja.ur(b,kL);kL+=10;var fm=J._i(b,kL);kL+=fm.length;var aP=J._i(b,kL);
kL+=aP.length;var hh=J._i(b,kL);kL+=hh.length;var gW=J.C(b,kL);kL+=4;var cg=J.lA(b,kL,4);kL+=4;var f0=J.C(b,kL);
kL+=4;var hk=J.Ss(b,kL+2,f0-2>>1);kL+=f0;H[q].push([f4.x,f4.y,W,fm.yD,hk])}break;default:break}var aQ="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(aQ.indexOf(q)==-1)if(Q%4!=0)console.log("size not multiple of 4!!!",q);if(q!="luni"&&q!="TySh"&&q!="tySh"&&q!="lfx2"&&q!="iOpa")if(Q%4!=0)Q+=4-Q%4;
h+=Q}var R=H.CgEd;if(R){var N=H.brit;if(N){N.Brgh.v=R.Brgh?R.Brgh.v:0;N.Cntr.v=R.Cntr?R.Cntr.v:0;N.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete H.CgEd}var fj=[];
for(var Y=0;Y<fj.length;Y++)delete H[fj[Y]];return h};he.ajz=function(b,h,G,H,B){if(G.SoLd){var j={};
for(var s in G){if(s=="SoLd")j.PlLd={};j[s]=G[s]}G=j}for(var q in G)if(G[q]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+q+"\" tag was present with a null value.");delete G[q]}for(var q in G){var Q=H&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(q)!=-1,l=0;
J.gI(b,h,Q?"8B64":"8BIM");h+=4;var a=h;J.gI(b,h,q);h+=4;J.v6(b,h,0);h+=Q?8:4;switch(q){case"iOpa":J.j1(b,h,G[q],1);
l=4;break;case"brst":l=0;for(var Y=0;Y<3;Y++)if(G[q][Y]==0){J.I4(b,h+l,Y);l+=4}break;case"knko":J.j1(b,h,G[q],1);
l=4;break;case"infx":J.j1(b,h,G[q],1);l=4;break;case"clbl":J.j1(b,h,G[q],1);l=4;break;case"lmgm":J.j1(b,h,G[q],1);
l=4;break;case"vmgm":J.j1(b,h,G[q],1);l=4;break;case"fcmy":J.j1(b,h,G[q],1);l=4;break;case"lyid":J.I4(b,h,G[q]);
l=4;break;case"lsct":J.I4(b,h,G[q].type);l=4;if(G[q].Am){J.gI(b,h+4,"8BIM");J.gI(b,h+8,G[q].Am);l=12}break;
case"lyvr":J.I4(b,h,G[q]);l=4;break;case"lnsr":J.gI(b,h,G[q]);l=4;break;case"lspf":J.I4(b,h,G[q]);l=4;
break;case"lclr":J.kC(b,h,G[q]);l=8;break;case"luni":J.fZ(b,h,G[q]);l=4+2*G[q].length;break;case"fxrp":J.r$(b,h,G[q].x);
J.r$(b,h+8,G[q].y);l=16;break;case"artb":case"artd":J.I4(b,h,16);l=jg.MU(b,G[q],h+4)+4;break;case"SoCo":J.I4(b,h,16);
l=jg.MU(b,G[q],h+4)+4;break;case"GdFl":J.I4(b,h,16);l=jg.MU(b,G[q],h+4)+4;break;case"PtFl":J.I4(b,h,16);
l=jg.MU(b,G[q],h+4)+4;break;case"CgEd":var U={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},N=U,R=G[q];
N.Brgh.v=R.Brgh.v;N.Cntr.v=R.Cntr.v;N.useLegacy.v=R.useLegacy.v;J.I4(b,h,16);l=jg.MU(b,U,h+4)+4;break;
case"brit":b.yC(h,8);l=8;break;case"levl":var S=new e6;l=b3.OL(S,G[q]);J.d8(b,h,S.data);break;case"curv":l=hc.yc(b,h,G[q]);
break;case"expA":l=14;b.yC(h,14);J.JL(b.data,h,1);J.f8(b.data,h+2,G[q].Exps?G[q].Exps.v:0);J.f8(b.data,h+6,G[q].Ofst?G[q].Ofst.v:0);
J.f8(b.data,h+10,G[q].gammaCorrection?G[q].gammaCorrection.v:1);break;case"vibA":J.I4(b,h,16);l=jg.MU(b,G[q],h+4)+4;
break;case"hue2":l=bV.yc(b,h,G[q]);break;case"blnc":l=19;b.yC(h,l);var g=["ShdL","MdtL","HghL"];for(var Y=0;
Y<3;Y++){var i=G[q][g[Y]].v;for(var y=0;y<3;y++)i.push(J.xp(b.data,h+Y*6+y*2,i[y].v))}b.data[h+18]=G[q].PrsL.v?1:0;
break;case"blwh":var U={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},o="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<o.length;Y++){U[o[Y]]=G[q][o[Y]]}J.I4(b,h,16);l=jg.MU(b,U,h+4)+4;break;case"phfl":J.kC(b,h,2);
var v=G[q].Clr.v;J.kC(b,h+2,7);J.kC(b,h+4,Math.round(v.Lmnc.v*100));J.kC(b,h+6,Math.round(v.A.v*100));
J.kC(b,h+8,Math.round(v.B.v*100));J.kC(b,h+10,0);var Z=h+2+10;b.yC(Z,5);J.N2(b.data,Z,G[q].Dnst.v);Z+=4;
b.data[Z]=G[q].PrsL.v?1:0;Z++;l=Z-h;break;case"mixr":l=44;b.yC(h,l);var W=eZ.tu(G[q]);J.JL(b.data,h,1);
J.JL(b.data,h+2,W.Dx?1:0);for(var Y=0;Y<20;Y++)J.xp(b.data,h+4+Y*2,W.P[Y]);break;case"clrL":case"rplc":J.kC(b,h,1);
J.I4(b,h+2,16);l=jg.MU(b,G[q],h+6)+6;break;case"nvrt":l=0;break;case"post":J.kC(b,h,G[q].Lvls.v);l=2;
break;case"thrs":J.kC(b,h,G[q].Lvl.v);l=2;break;case"grdm":var d=G[q].Rvrs?G[q].Rvrs.v:!1,$=!1,I=867527939,k=!1,_=!1,D=2048,A=[0,0,0,0],F=[32768,32768,32768,32768],K=G[q].Grad.v,V,r,c=K.Clrs==null?1:0;
if(c==0){V=K;r=JSON.parse(dE.eI.afq).v}else{V=gY.Az("grdm").Grad.v;r=K}b.yC(h,4);J.JL(b.data,h,1);b.data[h+2]=d?1:0;
b.data[h+3]=$?1:0;var x=h+4;J.fZ(b,x,K.Nm.v);x+=4+K.Nm.v.length*2;x=dU.aj_(b,x,V);J.kC(b,x,c);x+=2;J.I4(b,x,r.RndS.v);
x+=4;J.kC(b,x,r.ShTr.v?1:0);x+=2;J.kC(b,x,r.VctC.v?1:0);x+=2;J.I4(b,x,r.Smth.v);x+=4;J.kC(b,x,3);x+=2;
for(var Y=0;Y<4;Y++)J.kC(b,x+Y*2,A[Y]);x+=8;for(var Y=0;Y<4;Y++)J.kC(b,x+Y*2,F[Y]);x+=8;x+=2;l=x-h;break;
case"selc":l=dK.yc(b,h,G[q]);break;case"FMsk":J.d8(b,h,G[q]);l=G[q].length;break;case"Txt2":var X=new e6,M=dd.Qg(G[q].iN,X),f=e.U(M,!0);
for(var Y=0;Y<M;Y++)f[Y]=X.data[Y];J.d8(b,h,f);l=f.length;break;case"vmsk":var t=G[q],n=0;J.I4(b,h,3);
if(!t.lc)n+=1<<1;if(!t.isEnabled)n+=1<<2;J.I4(b,h+4,n);l=8;var L=t.d.length;b.yC(h+8,L*26);e3.Ok(b.data,h+8,t.d,B.j,B._);
l+=L*26;break;case"shmd":J.I4(b,h,Object.keys(G[q]).length);var Z=h+4;for(var P in G[q]){J.gI(b,Z,"8BIM");
Z+=4;J.gI(b,Z,P);Z+=4;J.I4(b,Z,0);Z+=4;J.I4(b,Z,0);Z+=4;J.I4(b,Z,16);Z+=4;var z=jg.MU(b,G[q][P],Z);if(z%4!=0)z+=4-z%4;
J.I4(b,Z-8,z+4);Z+=z}l=Z-h;break;case"TySh":var Z=h;J.gD(b,Z,1);Z+=2;var T=G[q],X=new e6;T.HZ.DocumentResources=JSON.parse(JSON.stringify(T.HZ.ResourceDict));
var M=d3.Qg(T.HZ,X),f=e.U(M,!0);for(var Y=0;Y<M;Y++)f[Y]=X.data[Y];T.AT.EngineData={t:"tdta",v:f};var p=T.HZ.EngineDict.Editor.Text;
T.AT.Txt.v=p.substring(0,p.length-1);J.a6A(b,Z,T.h);Z+=48;J.gD(b,Z,50);Z+=2;J.I4(b,Z,16);Z+=4;Z+=jg.MU(b,T.AT,Z);
J.gD(b,Z,1);Z+=2;J.I4(b,Z,16);Z+=4;Z+=jg.MU(b,T.If,Z);J.a20(b,Z,T.In);Z+=16;l=Z-h;break;case"lmfx":J.I4(b,h,0);
J.I4(b,h+4,16);var U=JSON.parse(JSON.stringify(G[q])),m=!1;he.E3(U);for(var Y=0;Y<dE.CM.length;Y++)if(U[dE.CM[Y]]!=null)m=!0;
J.gI(b,a,m?"lmfx":"lfx2");l=jg.MU(b,U,h+8)+8;break;case"Patt":var Z=jx.rl(b,h,G[q]);l=Z-h;break;case"PlLd":var O=h;
b.yC(h,60);var i=G.SoLd;J.gI(b,h,"plcL");J.I4(b,h+4,3);var cb=b.data[h+8]=i.Idnt.v.length;J.gI(b,h+9,i.Idnt.v);
var Z=h+9+cb,cX=[1,1,16,2];for(var Y=0;Y<4;Y++)J.I4(b,Z+Y*4,cX[Y]);Z+=16;cX=E.Y.DM(i.nonAffineTransform);
for(var Y=0;Y<8;Y++)J.r$(b,Z+Y*8,cX[Y]);Z+=64;J.I4(b,Z,0);J.I4(b,Z+4,16);var e$=e.hC.ahl(i.quiltWarp).v;
Z+=8+jg.MU(b,e$,Z+8);l=Z-h;break;case"SoLd":var i=G[q],fz=i.quiltWarp;i.warp=e.hC.ahl(fz);if(e.hC.MM(fz.v)==16)delete i.quiltWarp;
J.gI(b,h,"soLD");J.I4(b,h+4,4);J.I4(b,h+8,16);l=jg.MU(b,i,h+12)+12;i.quiltWarp=fz;delete i.warp;break;
case"vstk":case"pths":J.I4(b,h,16);l=jg.MU(b,G[q],h+4)+4;break;case"vscg__":J.gI(b,h,G[q].key);J.I4(b,h+4,16);
l=jg.MU(b,G[q].P,h+8)+8;break;case"vogk":J.I4(b,h,1);J.I4(b,h+4,16);e.Bs.as1(G[q]);for(var Y=0;Y<G[q].length;
Y++){var eC=G[q][Y].v.keyOriginResolution;if(eC)eC.v=B.O4}var hw={classID:"null",keyDescriptorList:{t:"VlLs",v:G[q]}};
l=jg.MU(b,hw,h+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var x=h;for(var Y=0;Y<G[q].length;Y++){var az=G[q][Y],av=x;
J.uw(b,x,0);x+=8;J.gI(b,x,az.type);x+=4;J.I4(b,x,az.PL);x+=4;b.yC(x,1);b.data[x]=az.Af.length;x++;J.gI(b,x,az.Af);
x+=az.Af.length;J.fZ(b,x,az._6+"\0");x+=4+az._6.length*2+2;J.gI(b,x,az.Z_);x+=4;J.gI(b,x,az.Vx);x+=4;
J.uw(b,x,az.raw.length);x+=8;b.yC(x,1);b.data[x]=az.open;x++;J.d8(b,x,az.raw);x+=az.raw.length;J.I4(b,x,1);
x+=4;x+=11;var ia=x-av-8;J.uw(b,av,ia);if(ia%4!=0){b.yC(x,4-ia%4);x+=4-ia%4}}l=x-h;break;case"FEid":var x=h;
J.I4(b,x,3);x+=4;for(var iJ=0;iJ<G[q].length;iJ++){var cx=G[q][iJ];x+=4;var hP=x;x+=4;J.qn(b,x,cx.id);
x+=cx.id.length+1;J.I4(b,x,1);x+=4;var iS=e.U(cx.rect.X()),e4=cx.rect,cc=e.U(e4.X());x+=4;var aO=x;x+=4;
J.Rx(b,x,e4);x+=16;J.I4(b,x,8);x+=4;J.I4(b,x,24);x+=4;for(var Y=0;Y<24+2;Y++){var bZ=-1;if(Y==0)bZ=0;
if(Y==1)bZ=1;if(Y==2)bZ=2;if(Y==25)bZ=3;J.I4(b,x,bZ!=-1?1:0);x+=4;if(bZ!=-1){e.uA(cx.buffer,iS,bZ);e.wX(iS,cx.rect,cc,e4);
x+=4;var d_=x;x+=4;b.yC(x,e4.X()+2);x=fU.ti(!0,cc,b.data,e4.j,e4._,x,3);J.I4(b,d_,x-(d_+4))}}J.I4(b,aO,x-(aO+4));
b.yC(x,1);b.data[x]=cx.u?1:0;x++;if(cx.u!=null){var ee=e4,b4=e.U(ee.X());b4.fill(cx.u.color);e.wX(cx.u.channel,cx.u.rect,b4,ee);
J.Rx(b,x,ee);x+=16;x+=4;var hA=x;x+=4;b.yC(x,ee.X()+2);x=fU.ti(!0,b4,b.data,ee.j,ee._,x,3);J.I4(b,hA,x-(hA+4))}var ia=x-(hP+4);
J.I4(b,hP,ia);if(ia%4!=0)x+=4-ia%4}l=x-h;break;case"Anno":var f$=h,e_=G[q].length;J.kC(b,f$,2);J.kC(b,f$+2,1);
f$+=4;J.I4(b,f$,e_);f$+=4;for(var Y=0;Y<e_;Y++){var fJ=G[q][Y],dV=fJ[0],ix=fJ[1],b9=f$;f$+=4;J.gI(b,f$,"txtA");
f$+=4;b.yC(f$,2);b.data[f$]=1;b.data[f$+1]=28;f$+=2;J.kC(b,f$,1);f$+=2;J.Rx(b,f$,new io(dV,ix,17,21));
f$+=16;J.Rx(b,f$,new io(dV+8,ix+10,241,141));f$+=16;b.yC(f$,10);ja._K(b.data,f$,fJ[2]);f$+=10;f$+=J.qn(b,f$,fJ[3]);
f$+=J.qn(b,f$,"");f$+=J.qn(b,f$,"D:20211012120233+01'00'");var hV=fJ[4].length*2;J.I4(b,f$,12+2+hV);
f$+=4;J.gI(b,f$,"txtC");f$+=4;J.I4(b,f$,2+hV);f$+=4;b.yC(f$,2);b.data[f$]=254;b.data[f$+1]=255;f$+=2;
J.anE(b,f$,fJ[4]);f$+=hV;J.I4(b,b9,f$-b9)}l=f$-h;break;default:console.log("unknown layer tag: "+q+", size: "+l);
h-=12;continue}var gq=["Txt2","artd","extd","pths"];if(gq.indexOf(q)==-1)if(l%4!=0)l+=4-l%4;if(Q)J.uw(b,h-8,l);
else J.I4(b,h-4,l);if(q!="luni"&&q!="TySh")if(l%4!=0)l+=4-l%4;h+=l}return h};he.KP=function(b){for(var Y=0;
Y<dE.order.length;Y++){var h=dE.order[Y],G=dE.CM[Y];if(b[G]==null)b[G]={t:"VlLs",v:[]};if(b[h]!=null){b[G].v.push(b[h]);
delete b[h]}var H=[];for(var B=0;B<b[G].v.length;B++){var j=b[G].v[B];if(j.v.present==null||j.v.present.v==!0)H.push(j)}b[G].v=H}};
he.E3=function(b){for(var Y=0;Y<dE.order.length;Y++){var h=dE.order[Y],G=dE.CM[Y],H=b[G].v.length;if(H==0){delete b[G];
continue}if(H==1){b[h]=b[G].v[0];delete b[G];continue}}};he.MB=function(b,h){if(h=="GdFl"){if(b.Angl==null)b.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(b.Algn==null)b.Algn={v:!0,t:"bool"};if(b.Scl==null)b.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(b.Ofst==null)b.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(b.Rvrs==null)b.Rvrs={v:!1,t:"bool"};if(b.Dthr==null)b.Dthr={v:!1,t:"bool"}}if(h=="PtFl"){if(b.Algn==null)b.Algn={v:!0,t:"bool"};
if(b.Angl==null)b.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(b.Scl==null)b.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(b.phase==null)b.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};he.clone=function(b,h){var G={};
if(b=="TySh"){G.h=h.h.clone();G.AT=JSON.parse(JSON.stringify(h.AT));G.If=JSON.parse(JSON.stringify(h.If));
G.In=h.In.clone();G.HZ=JSON.parse(JSON.stringify(h.HZ));if(h.add)G.add={vmsk:h.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(h.add.vogk))};
return G}else if(b=="fxrp")return h.clone();else if(b=="vmsk")return h.clone();else return JSON.parse(JSON.stringify(h))};
function j6(b,h){}j6.wZ=function(b,h,G,H){H=j6.akr(b,h,G,H);return H};j6.Qg=function(b,h,G,H,B){H=j6.aqi(b,h,G,H,B);
return H};j6.akr=function(b,h,G,H){var B=H;b.rect=J.b0(G,H);H+=16;var j=J.JQ(G,H);H+=2;b.EB=[];var s=h.SI;
for(var Y=0;Y<j;Y++){b.EB[Y]={id:J.KV(G,H),length:(s?J.DN:J.C)(G,H+2)};H+=s?10:6}var q=J.lA(G,H,4);H+=4;
if(q!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(q));alert("Error in Photoshop file: wrong signature.");
throw"e"}b.Am=J.lA(G,H,4);H+=4;b.opacity=G[H];H+=1;b.wi=G[H]==1;H+=1;b.Xp=G[H];H+=1;if(G[H]!=0)console.log("error in filler!");
H+=1;var Q=J.C(G,H);H+=4;var a=H;H=j6.a6m(b,G,H);H=j6.aBr(b,G,H);var l=J._i(G,H);b.name=l.yD;H+=l.length;
if(l.length%4!=0)H+=4-l.length%4;H=he.am5(G,H,a+Q,b.add,s,h);if(b.add.lsct){if(b.add.lsct.Am)b.Am=b.add.lsct.Am;
b.add.lsct=b.add.lsct.type}return H};j6.aqi=function(b,h,G,H,B){var j=H;J.Rx(G,H,b.rect);H+=16;var s=h.add.fcmy==1,q=b.a3a(s);
J.kC(G,H,q.length);H+=2;var Q=h.SI;B.push(H);for(var Y=0;Y<q.length;Y++){J.gD(G,H,q[Y]);if(Q)J.uw(G,H+2,0);
else J.I4(G,H+2,0);H+=Q?10:6}J.gI(G,H,"8BIM");H+=4;J.gI(G,H,b.Am);H+=4;J.j1(G,H,b.opacity,1);H+=1;J.j1(G,H,b.wi?1:0,1);
H+=1;J.j1(G,H,b.Xp,1);H+=1;J.j1(G,H,0,1);H+=1;var a=H;J.I4(G,H,0);H+=4;var l=H;H=j6.ao9(b,G,H);H=j6.ali(b,G,H);
var U=J.qn(G,H,b.name.slice(0,255));H+=U;if(U%4!=0)H+=4-U%4;if(b.add.lsct){b.add.lsct={type:b.add.lsct};
if(b.Am=="pass"){b.add.lsct.Am="pass";b.Am="norm"}}if(b.Am=="pass")b.add.lsct={type:b.add.lsct,Am:"pass"};
if(b.add.brit)b.add.CgEd=b.add.brit;H=he.ajz(G,H,b.add,Q,h);delete b.add.CgEd;if(b.add.lsct){if(b.add.lsct.Am)b.Am=b.add.lsct.Am;
b.add.lsct=b.add.lsct.type}var N=H-l;J.I4(G,a,N);return H};j6.a6m=function(b,h,G){var H=J.C(h,G);G+=4;
if(H==0)return G;var B=G;b.u=new C.Tc;b.u.rect=J.b0(h,G);G+=16;b.u.color=h[G];G+=1;var j=j6.aBm(b.u,h,G);
G+=1;if(j){var s=!1,q=255,Q=0,a=255,l=0;for(var Y=0;Y<b.EB.length;Y++)if(b.EB[Y].id==-3)s=!0;if(s){b.Sb=j6.ams(h,G);
G+=18}var U=G,N=h[G];G++;if(N>>0&1){q=h[G];G++}if(N>>1&1){Q=J.Oj(h,G);G+=8}if(N>>2&1){a=h[G];G++}if(N>>3&1){l=J.Oj(h,G);
G+=8}if((G-U&1)==1)G++;b.m_=[q,Q,a,l]}else{if(H==20)G+=2;else{b.Sb=j6.ams(h,G);G+=18}}return B+H};j6.ao9=function(b,h,G){J.I4(h,G,0);
G+=4;if(b.u==null)return G;var H=b.Y1(),B=b.add.vmsk,j=G,s=!0;J.I4(h,G,0);J.Rx(h,G,b.u.rect);G+=16;J.j1(h,G,b.u.color);
G+=1;j6.aav(b.u,h,G,s);G+=1;if(s){if(b.Sb){j6.ase(h,G,b.Sb);G+=18}var q=G;J.j1(h,G,B?15:3);G+=1;J.j1(h,G,H?H.Hs:255);
G+=1;J.r$(h,G,H?H._o:0);G+=8;if(B){J.j1(h,G,B?B.Hs:255);G+=1;J.r$(h,G,B?B._o:0);G+=8}if((G-q&1)==1)G++}J.I4(h,j-4,G-j);
return G};j6.ams=function(b,h){var G=new C.Tc;j6.aBm(G,b,h);h+=1;G.color=b[h];h+=1;G.rect=J.b0(b,h);
h+=16;return G};j6.ase=function(b,h,G){j6.aav(G,b,h,!1);h+=1;J.j1(b,h,G.color);h+=1;J.Rx(b,h,G.rect);
h+=16};j6.aBm=function(b,h,G){var H=h[G];b.lc=(H>>0&1)==0;b.isEnabled=(H>>1&1)==0;b.NY=(H>>3&1)==1;return H>>4&1};
j6.aav=function(b,h,G,H){var B=0;if(!b.lc)B+=1<<0;if(!b.isEnabled)B+=1<<1;if(b.NY)B+=1<<3;if(H)B+=1<<4;
J.j1(h,G,B)};j6.aBr=function(b,h,G){var H=J.C(h,G);G+=4;for(var Y=0;Y<H;Y++)b.mj[Y]=h[G+Y];return G+H};
j6.ali=function(b,h,G){J.I4(h,G,b.mj.length);G+=4;h.yC(G,40);for(var Y=0;Y<40;Y++){h.data[G+Y]=b.mj[Y]}return G+40};
function fU(){}fU.wZ=function(b,h,G,H){H=fU.aBU(h,h.SI,h.uy,h.lX,b,G,H);return H};fU.OL=function(b,h,G,H,B,j,s){H=fU.alO(b,h,G,H,B,j,s);
return H};fU.aBU=function(b,h,G,H,B,j,s){var q=B.EB,Q={},a=s;for(var Y=0;Y<q.length;Y++){var l=q[Y],U=l.id,N=l.length,R;
if(U==-2&&B.u==null)U=-1;if(U==-3)R=B.Sb.rect;else if(U==-2)R=B.u.rect;else R=B.rect;var S=fU.ul(h,G,j,R.j,R._,s,N);
s+=N;if(U==-3)B.Sb.channel=S;else if(U==-2)B.u.channel=S;else Q["c"+U]=S}var g=new e.Bh(0);g.G=null;
if(H==3){g.$=Q.c0;g.B=Q.c1;g.J=Q.c2;g.G=Q["c-1"]}else if(H==1){g.$=Q.c0;g.B=Q.c0;g.J=Q.c0;g.G=Q["c-1"]}else if(H==4){var i=b.$p.r1039,y=null,o=Q.c0,v=Q.c1,Z=Q.c2,W=Q.c3;
if(i){var y=i.art,d=17;if(y==null){var $=ICC.R(i.buffer);if($.header.spaceIn=="RGB "){}else y=i.art=ICC.U.sampleLUT($,d)}}if(y){var I={$:o,B:v,J:Z,G:W},k=e.U(o.length*4);
e.bh(I,k);e.Q6(k);ICC.U.applyLUT4(y,d,k,k);e.gZ(k,I)}else{for(var Y=0;Y<o.length;Y++){var _=1-o[Y]*(1/255),D=1-v[Y]*(1/255),A=1-Z[Y]*(1/255),F=1-W[Y]*(1/255),K=e.u8([_,D,A,F]);
o[Y]=Math.floor(.5+K[0]*255);v[Y]=Math.floor(.5+K[1]*255);Z[Y]=Math.floor(.5+K[2]*255)}}g.$=o;g.B=v;
g.J=Z;g.G=Q["c-1"]}if(g.$==null)g.$=e.U(0);if(g.G==null&&g.$!=null){g.G=g.$.slice(0);g.G.fill(255)}if(g.B==null)g.B=g.$.slice(0);
if(g.J==null)g.J=g.$.slice(0);B.buffer=e.U(Math.max(0,B.rect.X()*4));e.bh(g,B.buffer);return s};fU.alO=function(b,h,G,H,B,j,s){var q=h.a3a(s),Q=h.buffer,a=new e.Bh(h.rect.X());
if(s){var l=a.G.slice(0);e.uA(Q,l,3);Q=Q.slice(0);e.a8G(Q);e.gZ(Q,a);a.a5Y=a.G;a.G=l}else e.gZ(Q,a);
for(var Y=0;Y<q.length;Y++){var U=q[Y],N,R;if(U==-3)N=h.Sb.rect;else if(U==-2)N=h.u.rect;else N=h.rect;
if(U==-3)R=h.Sb.channel;if(U==-2)R=h.u.channel;if(U==-1)R=a.G;if(U==0)R=a.$;if(U==1)R=a.B;if(U==2)R=a.J;
if(U==3)R=a.a5Y;G.yC(H,N.X()*3+4);var S=H;H=fU.ti(b,R,G.data,N.j,N._,H,j[1]?3:1);var g=H-S;if(b)J.aaX(G.data,B+Y*10+2,g);
else J.N2(G.data,B+Y*6+2,g)}return H};fU.ul=function(b,h,G,H,B,j,s){var q=J.JQ(G,j);j+=2;return fU.N3(b,h,G,H,B,j,q,s-2)};
fU.ti=function(b,h,G,H,B,j,s){J.xp(G,j,s);j+=2;j=fU.Ye(b,h,G,H,B,j,s);return j};fU.N3=function(b,h,G,H,B,j,s,q){var Q,a=H*B*(h>>>3),l=a&3,U=a+(l==0?0:4-l);
if(q<=0){return e.U(U)}if(s>3){console.log("unknown compression: "+s,H,B,H*B,q);s=0}if(s==0){if(j+U<=G.length)Q=G.slice(j,j+U);
else{Q=e.U(a);for(var Y=0;Y<a;Y++)Q[Y]=G[j+Y]}j+=a}else if(s==1){Q=e.U(a);var N=b?4:2,R=fU.aAn(G,Q,H,B,j,j+N*B,N);
j+=N*B+R}else if(s==2||s==3){var S=new Uint8Array(G.buffer,j+2,q-6),g=e.U(U);UZIP.inflateRaw(S,g);if(s==3){if(h==8)for(var i=0;
i<B;i++){var y=i*H+1,o=y+H-1,v=g[y-1];for(var Z=y;Z<o;Z++){v+=g[Z];g[Z]=v&255}}else for(var i=0;i<B;
i++){var y=i*H+1,o=y+H-1,v=g[2*y-2]<<8|g[2*y-1];for(var Z=y;Z<o;Z++){var W=Z<<1;v+=g[W]<<8|g[W+1];g[W]=v>>>8;
g[W+1]=v&255}}}if(g.length==U)Q=g;else{Q=e.U(U);for(var Y=0;Y<g.length;Y++)Q[Y]=g[Y]}}if(h==16){var d=e.U(H*B);
for(var Y=0;Y<a;Y+=2)d[Y>>>1]=Q[Y];Q=d}return Q};fU.Ye=function(b,h,G,H,B,j,s){var q=H*B;if(s==0)for(var Y=0;
Y<q;Y++)G[j++]=h[Y];else if(s==1){var Q=b?4:2,a=fU.a3V(h,G,H,B,j,j+Q*B,Q);j+=Q*B+a}else if(s==2||s==3){if(s==3){var l=new Uint8Array(h.length);
for(var U=0;U<B;U++){var N=U*H+1,R=N+H-1,S=h[N-1];l[N-1]=S;for(var g=N;g<R;g++){l[g]=h[g]+(256-S)&255;
S=h[g]}}h=l}G[j]=120;G[j+1]=156;j+=2;var i=pako.deflateRaw(h,{a4n:4});J.agT(G,j,i);j+=i.length+4}else console.log("Unknown compression: "+s);
return j};fU.aAn=function(b,h,G,H,B,j,s){if(!(b instanceof Uint8Array)||!(h instanceof Uint8Array))throw"e";
var q=j,Q=H|0;if(s==2)for(var Y=0;Y<Q;Y++){var a=J.JQ(b,B+(Y<<1));fU.Xz(b,j,a,h,Y*G,G);j+=a}else for(var Y=0;
Y<Q;Y++){var a=J.C(b,B+(Y<<2));fU.Xz(b,j,a,h,Y*G,G);j+=a}return j-q};fU.a3V=function(b,h,G,H,B,j,s){var q=j;
if(s==2)for(var Y=0;Y<H;Y++){var Q=fU.azu(b,Y*G,G,h,j);J.JL(h,B+Y*2,Q);j+=Q}else for(var Y=0;Y<H;Y++){var Q=fU.azu(b,Y*G,G,h,j);
J.N2(h,B+Y*4,Q);j+=Q}return j-q};fU.azu=function(b,h,g1,G,H){var B,j,s,q,Q,ky,a;q=h+g1;for(s=h,j=H;g1>0;
s=B,g1-=ky){a=g1<128?g1:128;if(s<=q-3&&b[s+1]==b[s+0]&&b[s+2]==b[s+0]){for(B=s+3;B<s+a&&b[B]==b[s+0];
)++B;ky=B-s;G[j++]=1+256-ky;G[j++]=b[s+0]}else{for(B=s;B<s+a;)if(B<=q-3&&b[B+1]==b[B+0]&&b[B+2]==b[B+0])break;
else++B;ky=B-s;G[j++]=ky-1;for(var Y=0;Y<ky;Y++)G[j+Y]=b[s+Y];j+=ky}}return j-H};fU.Xz=function(b,h,G,H,B,j){for(var s=0;
s<G;){var g1=b[h++];if(g1>=128){var q=b[h++],Q=B+(257-g1);H.fill(q,B,Q);B=Q;s+=2}else{for(var Y=0;Y<=g1;
Y++)H[B+Y]=b[h+Y];h+=g1+1;B+=g1+1;s+=1+1+g1}}};function gr(){}gr.wf=function(b,h,G){return;var H="",B=h;
while(B!=0){var j=B%1e3+"";while(j.length<3)j="0"+j;H=(H==""?j:j+" ")+H;B=Math.floor(B/1e3)}while(H.startsWith("0")&&H!="0")H=H.slice(1);
while(H.length<11)H=" "+H;console.log("===",H,"\t".repeat(b),": "+G)};gr.az_=function(b){var h={$p:{}},H=0,B=0,q;
h.SI=!1;h.uy=8;var G=new Uint8Array(b);B=gr.U8(h,G,H);H=B;B=gr.a6q(h,G,H);H=B;var j=J.C(G,H);H+=4+j;
var s=h.SI?8:4;if(h.SI)q=J.DN(G,H);else q=J.C(G,H);H+=s+q;B=gr.a65(h,G,H);return[{jD:new io(0,0,h.j,h._),data:h.buffer.buffer}]};
gr.wZ=function(b,h){h.SI=!1;h.uy=8;var G=new Uint8Array(b),H=0,B=0,s=0,P,iJ=!1,cx=!0,hP=!1,iS=0,hk=0;
B=gr.U8(h,G,H);gr.wf(0,B-H,"PSD Header");H=B;B=gr.a6q(h,G,H);gr.wf(0,B-H,"Color Mode Data");H=B;B=gr.amg(h,G,H);
gr.wf(0,B-H,"Image Resources");H=B;B=gr.a0_(h,G,H);gr.wf(0,B-H,"Layer And Mask Info");H=B;B=gr.a65(h,G,H);
gr.wf(0,B-H,"Merged Image");H=B;if(h.R.length==0){var j=h.Cx();j.cb("Background");h.R.push(j);j.buffer=h.buffer.slice(0);
j.rect=new io(0,0,h.j,h._)}for(var Y=0;Y<h.R.length;Y++){var B=h.R[Y],q=B.add.lsct;if(q==c1.cH)s++;else if(q==c1.$I||q==c1.N_)s--}while(s<0){h.R.unshift(h.b2());
s++}if(h.$p.r1005){h.O4=J.zK(h.$p.r1005,0)}if(h.$p.r1026){var G=h.$p.r1026;for(var Y=0;Y<G.length;Y+=2){var B=h.R[Y>>>1];
if(B)B.VF=J.JQ(G,Y)}}if(h.$p.r1072){var G=h.$p.r1072;for(var Y=0;Y<G.length;Y++){var B=h.R[Y];if(B)B.T4=G[Y]==1}}if(h.$p.r1032){h.bE=gr.a9O(h.$p.r1032,0)}delete h.$p.r1036;
h.Us(h.$p.r1039);if(h.$p.r1050){var Q=J.C,a=h.$p.r1050,l=J.C(a,0);if(l==6){var U=4,N=J.b0(a,U);U+=16;
var R=J.Cy(a,U);U+=4+R.length*2;var S=Q(a,U);U+=4;var g=h.Rd;for(var Y=0;Y<S;Y++){var i=E.gt.rz(),o;
g.push(i);i=i.v;i.sliceID.v=Q(a,U);U+=4;i.groupID.v=Q(a,U);U+=4;var y=Q(a,U);U+=4;if(y==1){o=Q(a,U);
U+=4}var R=J.Cy(a,U);U+=4+R.length*2;var v=Q(a,U);U+=4;var Z=[Q(a,U),Q(a,U+4),Q(a,U+8),Q(a,U+12)];U+=16;
E.gt.wc(g,g.length-1,Z);var W=i.url.v=J.Cy(a,U);U+=4+W.length*2;var d=i.null.v=J.Cy(a,U);U+=4+d.length*2;
var $=i.Msge.v=J.Cy(a,U);U+=4+$.length*2;var I=i.altTag.v=J.Cy(a,U);U+=4+I.length*2;i.cellTextIsHTML.v=a[U]==1;
U++;var k=i.cellText.v=J.Cy(a,U);U+=4+k.length*2;var _=Q(a,U);U+=4;var D=Q(a,U);U+=4;var A=a.slice(U,U+4);
U+=4;if(y!=2)g.pop()}}else if(l==8){var F={};jg.m0(a,F,8,!1);var a=h.Rd=F.slices.v;for(var Y=0;Y<a.length;
Y++){if(a[Y].v.origin.v.ESliceOrigin!="userGenerated"){a.splice(Y,1);Y--}}}}if(h.$p.r1058){var K=h.$p.r1058,V=UTIF.decode(K.buffer,{parseMN:!1,debug:!1});
c8.W6(V[0],h.wp);delete h.$p.r1058}if(h.$p.r1060){var r=J.S2(h.$p.r1060);c8.Pz(r,h.wp);delete h.$p.r1060}if(h.$p.r1065){var G=h.$p.r1065;
h.AK={};jg.m0(G,h.AK,4,!1)}if(h.$p.r1069){var G=h.$p.r1069,c=[];for(var Y=2;Y<G.length;Y+=4){var o=J.C(G,Y);
for(var x=0;x<h.R.length;x++){var B=h.R[x];if(B.add.lyid==o&&B.add.lsct!=3&&c.indexOf(x)==-1)c.push(x)}}h.T=c}if(h.$p.r1073){var G=h.$p.r1073,U=0,X=J.dj(G,U);
U+=4;var M=J.dj(G,U);U+=4;for(var Y=0;Y<M;Y++){h.Gn.push({y:X>=2?J.N$(G,U+2):J.zK(G,U+2),x:X>=2?J.N$(G,U+6):J.zK(G,U+6)});
U+=14}delete h.$p.r1073}if(h.$p.r1074){h.xN={};jg.m0(h.$p.r1074,h.xN,4,!1);delete h.$p.r1074}if(h.$p.r1025){var f=h.$p.r1025;
delete h.$p.r1025;var t=e3.qT(f,0,f.length,h.j,h._),n=new C.cW;n.d=t;h.N6[0]=cj.Kw("Working Path",{vmsk:n})}var L=h.add.pths;
delete h.add.pths;var z=h.$p.r3000;if(z){P={};jg.m0(z,P,4,!1);delete h.$p.r3000}if(L){var T=L.pathSymmetrySelectedPath;
if(T){var p=L.pathList.v[T.v].v,m=p.pathUnicodeName.v;h.hy=m.startsWith("Tile Symmetry")}}for(var O=0;
O<=997;O++){var cb="r"+(2e3+O),f=h.$p[cb];if(f==null)break;var t=e3.qT(f,0,f.length,h.j,h._),m="Path "+O;
if(L){var cX=L.pathList.v[O].v;m=cX.pathUnicodeName.v;if(m=="Tile Symmetry 1")continue}var e$=P?P.keyRootDescriptorList.v[O].v.keyDescriptorList.v:C.AA(t),n=new C.cW;
n.d=t;h.N6.push(cj.Kw(m,{vmsk:n,vogk:e$}));delete h.$p[cb]}delete h.SI;if(h.$p.r4000){h.jN=e.jN.wZ(h.$p.r4000)}var fz=h.$p.r7000,eC=h.$p.r7001;
if(fz){var hw=J.S2(fz);h.W7=gr.amd(hw)}if(eC){var hw=J.S2(eC);h.xC=gr.a4m(hw)}delete h.$p.r7000;delete h.$p.r7001;
var az=new io(0,0,h.j,h._),av=h.add.Txt2,ia=av;if(ia){ia=ia.iN;if(ia._DocumentResources==null)ia=eW.a1$(ia)}var e4=-1;
for(var Y=0;Y<h.R.length;Y++){var B=h.R[Y],cc=B.add.lsct,aO=B.add.vmsk,bZ=B.Y1();if(cc==c1.cH){iS++;
B.add.lspf=0}else if(cc==c1.$I||cc==c1.N_)iS--;if(B.name==""){B.name="Layer "+(Y+1);hP=!0}if(hP&&B.fu()&&B.Am=="norm")B.Am="pass";
if(B.Ag()&&B.T0(h)==null)delete B.add.SoLd;if(B.Ag()&&B.T0(h).u){var d_=B.T0(h);d_.u.isEnabled=B.add.SoLd.filterFX.v.filterMaskEnable.v}if(aO&&B._5()){var ee=dE.QA.Az(!0);
if(B.add.vstk==null)B.add.vstk=JSON.parse(JSON.stringify(ee));else{var b4="strokeStyleLineDashSet";if(B.add.vstk[b4]==null)B.add.vstk[b4]=JSON.parse(JSON.stringify(ee[b4]))}B.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
B.add.vstk.strokeStyleResolution.v=h.O4}if(aO&&(B.add.vogk==null||e.n.bF(aO.d)!=B.add.vogk.length))B.AA();
if(!1){var hA=B.add.vogk,f$=!0;for(var e_=0;e_<hA.length;e_++){var fJ=hA[e_].v.keyShapeInvalidated;if(fJ==null||fJ.v==!1)f$=!1}if(f$)B.AA()}if(B.add.SoLd&&B.rect.Zx()){console.log("redrawing smart instance");
B.gE(h,null,null,!0)}if(bZ==null&&B.u!=null){if(B.u.NY==!1){B.u.NY=!0;B.Sb=B.u.clone()}}bZ=B.Y1();if(B.m_){var ee=B.m_,n=aO;
if(bZ){bZ.Hs=ee[0];bZ._o=ee[1]}if(n){n.Hs=ee[2];n._o=ee[3]}B.m_=null}if(bZ!=null&&aO!=null&&(bZ._o+aO._o!=0||bZ.Hs+aO.Hs!=2*255))B.vw(h);
else if(aO!=null&&!B._5())B.vw();else if(bZ&&bZ.Hs!=255&&B._5())B.vw(h);var dV=B.add.artb;if(dV&&dV.artboardBackgroundType==null)dV.artboardBackgroundType={t:"long",v:1};
if(dV&&iS!=0)delete B.add.artb;var ix=B.add.vstk;if(B._5()&&(B.rect.Zx()||aO&&aO._o!=0||ix&&!ix.fillEnabled.v&&(!ix.strokeEnabled.v||ix.strokeStyleLineWidth.v.val==0)))B.eA(h);
if(B.add.TySh){iJ=!0;if(!B.rect.Zx())cx=!1}if(B.add.TySh&&ia){e4++;var b9=B.add.TySh.HZ,hV=b_.B_(b9),gq=ia._DocumentObjects._TextObjects;
if(gq.length<=e4){console.log("Txt2 incomplete");continue}var eH=gq[e4]._Model,eP=eH._StyleRun?eH._StyleRun._RunArray:[],c2=b9.EngineDict.StyleRun.RunArray;
for(var bL=0;bL<c2.length;bL++){var dg=c2[bL].StyleSheet.StyleSheetData;if(eP[bL]==null)continue;var cN=eP[bL]._RunData._StyleSheet._Features;
if(cN){if(cN._BaselineDirection)dg.BaselineDirection=parseInt(cN._BaselineDirection.slice(1));if(cN._FillBackgroundFlag)dg._FillBackgroundFlag=cN._FillBackgroundFlag;
if(cN._FillBackgroundColor)dg._FillBackgroundColor={Type:1,Values:j2.YQ(cN._FillBackgroundColor._Color._Values)};
var dH=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];for(var x=0;x<dH.length;x++)if(cN[dH[x]]!=null)dg[dH[x]]=parseInt(cN[dH[x]].slice(1));
if(cN._LineDashArray!=null)dg._LineDashArray=j2.YQ(cN._LineDashArray)}}var kM=b9.EngineDict.ParagraphRun.RunArray,a_=eH._ParagraphRun._RunArray;
if(a_==null)a_=[];var g4=Math.min(a_.length,kM.length);for(var x=0;x<g4;x++){var iY=kM[x].ParagraphSheet.Properties,fa=ia._DocumentResources._ParagraphSheetSet._Resources,ka=a_[x]._RunData._ParagraphSheet;
if(typeof ka=="string")ka=fa[parseInt(ka.slice(1))]._Resource;var b1=ka._Parent==null?ka:fa[parseInt(ka._Parent.slice(1))]._Resource;
ka=ka._Features;b1=b1._Features;var bg=ka._ParagraphDirection;if(bg==null)bg=b1._ParagraphDirection;
if(bg)iY._Direction=parseInt(bg.slice(1));if(ka._ComposerEngine)iY._ComposerEngine=parseInt(ka._ComposerEngine.slice(1))}if(eH._AlternateGlyphRun){var a_=eH._AlternateGlyphRun._RunArray,g4=a_.length,cl=b9.EngineDict.AlternateGlyphRun=b_.atQ();
for(var x=0;x<g4;x++){var ka=a_[x],c0={},kL=ka._RunData._AlternateGlyphSheet;if(kL)c0.Glyph=parseInt(kL._Glyph.slice(1));
cl.RunArray.push(c0);cl.RunLengthArray.push(parseInt(ka._Length.slice(1)))}}var c_=ia._DocumentResources,cA=c_._TextFrameSet._Resources,aw=cA[e4]._Resource,kq=aw._Data,f4=new eq(1,0,0,1,0,0);
if(aw._0){var gF=parseFloat(aw._0[0].slice(1)),fm=parseFloat(aw._0[1].slice(1));f4.translate(gF,fm)}if(hV){f4.translate(hV[0],hV[1]);
b_.A6(b9,[0,0,hV[2]-hV[0],hV[3]-hV[1]])}else{if(aw._Bezier&&aw._Bezier._Points){var t=aw._Bezier._Points,gF=parseFloat(t[0].slice(1)),fm=parseFloat(t[1].slice(1));
if(gF!=0||fm!=0){f4.translate(gF,fm)}}}if(aw._Data&&aw._Data._FrameMatrix){var aP=aw._Data._FrameMatrix;
aP=aP.map(function(fd){return parseFloat(fd.slice(1))});f4.concat(new eq(aP[0],aP[1],aP[2],aP[3],aP[4],aP[5]))}f4.concat(B.add.TySh.h);
B.add.TySh.h=f4;var v=kq._Type?parseInt(kq._Type.slice(1)):0;if(v==2||v==1&&kq._PathData&&kq._PathData._Spacing=="i-3")if(aw._Bezier){var hh=function(fd){return parseFloat(fd.slice(1))},t=aw._Bezier._Points.map(hh);
if(hV)e.N.h(t,new eq(1,0,0,1,-hV[0],-hV[1]),t);var gW=kq._PathData?kq._PathData._Reversed:!1,cg=kq._TextOnPathTRange;
if(cg==null)cg=["f-3","f-3"];b9.Curve={Points:t,TextOnPathTRange:cg.map(hh),Reversed:gW==null?!1:gW};
B.add.TySh.add={vmsk:new C.cW,vogk:null};b_.hz(B.add.TySh)}if(kq._LineOrientation=="i2")b9._LineOrientation=2}}E.jx.fs(h,!0);
var f0={},aQ=[];for(var Y=0;Y<h.R.length;Y++){var fj=h.R[Y].add.lyid;if(fj==null)continue;var hk=Math.max(hk,fj);
if(f0[fj]!=null)aQ.push(Y);else f0[fj]=!0}for(var Y=0;Y<aQ.length;Y++)h.R[aQ[Y]].add.lyid=hk+1+Y};gr.a9O=function(b,h){h+=12;
var G=J.C(b,h),H=[];h+=4;G=Math.min(G,Math.floor((b.length-h)/5));for(var Y=0;Y<G;Y++){var B=Math.min(b[h+Y*5+4],1),j=J.dj(b,h+Y*5)/32;
H.push([B,j])}return H};gr.amd=function(b){var h=new DOMParser,G=h.parseFromString(b,"text/xml").firstChild.children[0],H=G.getElementsByTagName("variables");
if(H.length==0)return[];H=H[0].children;var B=[],j="varName trait docRef placementMethod align valign clip".split(" ");
for(var s=0;s<H.length;s++){var q=H[s],Q={};B.push(Q);for(var a=0;a<j.length;a++){var l=j[a],U=q.getAttribute(l);
if(U==null)continue;Q[l]=U}}return B};gr.a4m=function(b){var h=new DOMParser,G=h.parseFromString(b,"text/xml").firstChild.children,H=[[]];
if(G==null)return H;for(var Y=0;Y<G.length;Y++){var B=G[Y],j=[];H.push(j);for(var s=0;s<B.children.length;
s++){var q=B.children[s];if(Y==0)H[0].push(q.tagName);j.push(q.textContent)}}return H};gr.Qg=function(b,h,G){E.jx.Dw(b);
E.jx.fs(b,!1);b.SI=G[3]==!0;var H=[],B=[],i=0,o=1,S=16,ia=0;for(var Y=0;Y<b.R.length;Y++){var j=b.R[Y];
if(j.Ag()&&j.T0(b).u){j.add.SoLd.filterFX.v.filterMaskEnable.v=j.T0(b).u.isEnabled}if(j.add.TySh){var s=j.add.TySh.HZ,q=b_.RQ(s);
j.add.TySh.AT.TextIndex={t:"long",v:H.length};H.push(s);if(q==2)b_.hl(j.add.TySh)}var Q=j.add.vstk;if(Q)Q.strokeStyleResolution.v=b.O4;
if(j._5()||G[2]&&j.add.SoLd){B[Y]=[j.rect,j.buffer];j.rect=new io;j.buffer=e.U(0);if(j.add.SoLd){var a=j.T0(b);
if(a!=null){B[Y].push(a.buffer);a.buffer=e.U(a.buffer.length)}}}}if(H.length>0){var l=b.add.Txt2?b.add.Txt2.iN:null;
if(b.add.Txt2==null)b.add.Txt2={};b.add.Txt2.iN=j2.aa5(H,null,l)}var U=[b.add.lnk2,b.add.FEid,b.add.Patt],N=b.aym(b.R);
b.a1I(N);b.$p.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);J.alB(b.$p.r1005,0,b.O4);J.alB(b.$p.r1005,8,b.O4);
if(b.Gn.length>0){var R=b.Gn;b.$p.r1073=new Uint8Array(8+R.length*14);J.AU(b.$p.r1073,0,3);J.AU(b.$p.r1073,4,R.length);
for(var Y=0;Y<R.length;Y++){var S=8+14*Y;J.xp(b.$p.r1073,S,14);J.f8(b.$p.r1073,S+2,R[Y].y);J.f8(b.$p.r1073,S+6,R[Y].x);
J.xp(b.$p.r1073,S+10,-1);J.xp(b.$p.r1073,S+12,8)}}if(b._a()){b.$p.r1022=new Uint8Array([0,3+b.$B.length-1,0])}else delete b.$p.r1022;
var g=new Uint8Array(b.R.length*2),y=new Uint8Array(b.R.length);for(var Y=0;Y<b.R.length;Y++){var j=b.R[Y],v=j.VF,Z=j.T4?1:0;
J.JL(g,Y*2,v);y[Y]=Z;if(v>i)i=v;if(Z==0)o=0}if(i>0)b.$p.r1026=g;if(o<1)b.$p.r1072=y;var W=b.bE,d=W.length,$=b.$p.r1032=e.U(16+5*d,!0);
J.N2($,0,1);J.N2($,4,576);J.N2($,8,576);J.N2($,12,d);for(var Y=0;Y<d;Y++){J.AU($,S,Math.round(W[Y][1]*32));
$[S+4]=W[Y][0];S+=5}if(G[4]!=!0){var I=[b.buffer,new io(0,0,b.j,b._)],k=0;e.tT(I);while(I[k+1].X()>200*200)k+=2;
var _=aT.JR("jpg"),D=I[k+1],A=new Uint8Array(_.kf([[I[k].buffer]],D.j,D._)),$=b.$p.r1036=new Uint8Array(28+A.length);
J.N2($,0,1);J.N2($,4,D.j);J.N2($,8,D._);J.N2($,12,D.j*3);J.N2($,16,D.X()*3);J.N2($,20,A.length);J.JL($,24,24);
J.JL($,26,1);$.set(A,28)}var F=e.qP(b.buffer);if(b.add.fcmy)F=!1;var K=[];if(F)K.push({name:"Transparency",UT:{$:255,B:0,J:0},S$:100,qp:1});
K=K.concat(b.$B);delete b.$p.r1045;delete b.$p.r1006;delete b.$p.r1077;var V=new e6;S=0;var r=new Uint8Array(4+K.length*13);
r[3]=1;for(var Y=0;Y<K.length;Y++){var c=K[Y],x=c.name+"\0";J.fZ(V,S,x);S+=4+x.length*2;var X=4+Y*13;
ja._K(r,X,c.UT);r[X+11]=c.S$;r[X+12]=c.qp}if(S!=0)b.$p.r1045=V.data.slice(0,S);b.$p.r1077=r;for(var Y=0;
Y<b.Rd.length;Y++)b.Rd[b.Rd.length-Y-1].v.sliceID.v=2+Y*3;var M={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:b.Rd}},V=new e6;
J.I4(V,0,8);J.I4(V,4,16);var f=jg.MU(V,M,8);b.$p.r1050=V.data.slice(0,f+8);var V=new e6;J.I4(V,0,16);
var f=jg.MU(V,b.AK,4);b.$p.r1065=V.data.slice(0,f+4);if(b.xN){var V=new e6;J.I4(V,0,16);var f=jg.MU(V,b.xN,4);
b.$p.r1074=V.data.slice(0,f+4)}var t=b.T;$=b.$p.r1069=e.U(2+t.length*4,!0);J.JL($,0,t.length);for(var Y=0;
Y<t.length;Y++)J.N2($,2+4*Y,b.R[t[Y]].add.lyid);delete b.$p.r1058;delete b.$p.r1060;if(Object.keys(b.wp).length!=0){var n=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
c8.zH(b.wp,n[0],G[0]&&G[1]);b.$p.r1058=new Uint8Array(UTIF.encode(n));var L=c8.PX(b.wp);b.$p.r1060=J.AY(L)}var P=[],z=[],T=b.N6.slice(0);
if(b.hy){var p=e3.aeq([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),m=new C.cW;
m.d=p;T.push(cj.Kw("Tile Symmetry 1",{vmsk:m,vogk:C.AA(p)}))}for(var Y=0;Y<T.length;Y++){var O=T[Y],p=O.add.vmsk.d;
if(Y==0&&p.length==2)continue;var cb=e.U(p.length*26);e3.Ok(cb,0,p,b.j,b._);var cX=Y==0?1025:2e3+Y-1;
b.$p["r"+cX]=cb;if(Y!=0){var e$={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:O.name}};if(O.name=="Tile Symmetry 1")e$.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
P.push({t:"Objc",v:e$});z.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:O.add.vogk}}})}}if(P.length!=0){b.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:P}};
if(b.hy)b.add.pths.pathSymmetrySelectedPath={t:"long",v:P.length-1};z={classID:"null",keyRootDescriptorList:{t:"VlLs",v:z}};
var V=new e6;J.I4(V,0,16);var f=jg.MU(V,z,4);b.$p.r3000=V.data.slice(0,f+4)}else{delete b.add.pths;delete b.$p.r3000}if(b.jN&&b.jN.length!=0){b.$p.r4000=e.jN.Qg(b.jN)}if(b.W7.length!=0){var fz="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var Y=0;Y<b.W7.length;Y++){var eC=b.W7[Y],hw=[];for(var cX in eC)hw.push(cX+"=\""+eC[cX]+"\"");fz+="<variable "+hw.join(" ")+">\n</variable>\n"}fz+="</variables>\n</variableSet>\n</variableSets>";
b.$p.r7000=J.AY(fz)}if(b.xC.length!=0){var fz="<sampleDataSets psdPath=\""+b.name+"\">\n";for(var Y=1;
Y<b.xC.length;Y++){var az=b.xC[Y];fz+="<sampleDataSet dataSetName=\"Data Set "+Y+"\">\n";for(var av=0;
av<az.length;av++)fz+="<"+b.xC[0][av]+">"+az[av].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+b.xC[0][av]+">\n";
fz+="</sampleDataSet>\n"}fz+="</sampleDataSets>";b.$p.r7001=J.AY(fz)}ia=gr.a1C(b,h,ia,3+K.length);ia=gr.auF(b,h,ia);
ia=gr.a0W(b,h,ia);ia=gr.ac5(b,h,ia,G,F);ia=gr.ar8(b,h,ia,G[0],F);var iJ=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var Y=0;Y<iJ.length;Y++)delete b.$p["r"+iJ[Y]];for(var Y=0;Y<b.R.length;Y++){var j=b.R[Y];if(j._5()||G[2]&&j.add.SoLd){j.rect=B[Y][0];
j.buffer=B[Y][1];if(B[Y][2]){var a=j.T0(b);B[Y].push(a.buffer);a.buffer=B[Y][2]}}}b.a1I(U);E.jx.fs(b,!0);
delete b.SI;return ia};gr.U8=function(b,h,G){var H=J.lA(h,G,4);G+=4;if(H!="8BPS")alert("invalid header signature: "+H);
var B=J.JQ(h,G);G+=2;b.SI=B==2;if(B!=1&&B!=2)alert("invalid version: "+B);G+=6;b.mL=J.JQ(h,G);G+=2;b._=J.dj(h,G);
G+=4;b.j=J.dj(h,G);G+=4;b.uy=J.JQ(h,G);G+=2;b.lX=J.JQ(h,G);G+=2;return G};gr.a1C=function(b,h,G,H){var B=b.add.fcmy==1;
h.yC(0,64);J.K$(h.data,G,"8BPS");G+=4;J.JL(h.data,G,b.SI?2:1);G+=2;J.N2(h.data,G,0);G+=4;J.JL(h.data,G,0);
G+=2;J.JL(h.data,G,H+(B?1:0));G+=2;J.AU(h.data,G,b._);G+=4;J.AU(h.data,G,b.j);G+=4;J.JL(h.data,G,8);
G+=2;J.JL(h.data,G,B?4:3);G+=2;return G};gr.a6q=function(b,h,G){var H=J.dj(h,G);G+=4;if(H!=0)b.bm=h.slice(G,G+H);
G+=H;return G};gr.auF=function(b,h,G){J.v6(h,G,0);G+=4;return G};gr.amg=function(b,h,G){var H=J.C(h,G),B=0;
G+=4;var j=[];while(B<H){var s=J.lA(h,G+B,4);B+=4;var q=J.JQ(h,G+B);B+=2;var Q=J._i(h,G+B);B+=Q.length;
if(s=="MeSa"&&(q==7e3||q==7001)){}else if(s!="8BIM"){j.push(q);console.log("Unknown Image Resources signature: "+s+", ID: "+q)}var a=J.C(h,G+B);
B+=4;if(b.$p["r"+q]!=null)console.log("--- two resources with same ID");b.$p["r"+q]=J.$C(h,G+B,a);B+=a+(a&1)}for(var Y=0;
Y<j.length;Y++)delete b.$p["r"+j[Y]];return G+H};gr.a0W=function(b,h,G){var H=G,s=0;G+=4;var B=[];for(var j in b.$p){B.push(parseInt(j.slice(1)))}B.sort(function(U,N){return U-N});
for(var Y=0;Y<B.length;Y++){var q=B[Y];J.gI(h,G+s,q==7e3||q==7001?"MeSa":"8BIM");s+=4;J.kC(h,G+s,q);
s+=2;var Q=J.qn(h,G+s,"");s+=Q;var a=b.$p["r"+q],l=a.length;J.I4(h,G+s,l);s+=4;J.d8(h,G+s,a);s+=l;if(l%2==1)s++}J.I4(h,H,s);
return G+s};gr.a0_=function(b,h,G){var H=G,B,j,s=b.SI?8:4;if(b.SI)B=J.DN(h,G);else B=J.C(h,G);G+=s;if(B==0)return H+s;
j=gr.aDA(b,h,G);gr.wf(1,j-G,"Layer Info");G=j;j=gr.aqu(b,h,G);gr.wf(1,j-G,"Global Layer Mask Info");
G=j;j=he.am5(h,G,H+s+B,b.add,b.SI,b);gr.wf(1,j-G,"Project Add Info");G=j;return H+s+B};gr.ac5=function(b,h,G,H,B){var j=G;
J.I4(h,G,0);G+=4;if(b.SI){J.I4(h,G,0);G+=4}G=gr.af2(b,h,G,H,B);G=gr.a2n(b,h,G);G=he.ajz(h,G,b.add,b.SI,b);
if(b.SI)J.uw(h,j,G-j-8);else J.I4(h,j,G-j-4);return G};gr.aDA=function(b,h,G){var H,B=b.SI?8:4;if(b.SI)H=J.DN(h,G);
else H=J.C(h,G);G+=B;if(H!=0)gr.avY(b,h,G);return G+H};gr.avY=function(b,h,G){var H=J.KV(h,G);G+=2;var B=Math.abs(H);
for(var Y=0;Y<B;Y++){var j=new C;G=j6.wZ(j,b,h,G);b.R[Y]=j}var s=new io(0,0,b.j,b._);for(var Y=0;Y<B;
Y++){var q=b.R[Y],Q=q.Y1(),a=fU.wZ(q,b,h,G);if(a-G>8)gr.wf(2,a-G,"Lay: "+q.getName());G=a;gr.az9(q,s);
if(Q)gr.az9(Q,s)}};gr.az9=function(b,h){};gr.af2=function(b,h,G,H,B){var j=G,s=b.SI;G+=s?8:4;G=gr.adz(b,h,G,H,B);
var q=G-j-(s?8:4);if(q%2!=0)q++;if(s)J.uw(h,j,q);else J.I4(h,j,q);return j+q+(s?8:4)};gr.adz=function(b,h,G,H,B){var j=b.R.length;
J.gD(h,G,B?-j:j);G+=2;var s=[];for(var Y=0;Y<j;Y++)G=j6.Qg(b.R[Y],b,h,G,s);for(var Y=0;Y<j;Y++)G=fU.OL(b.SI,b.R[Y],h,G,s[Y],H,b.add.fcmy==1);
return G};gr.aqu=function(b,h,G){var H=J.C(h,G);G+=4;G+=H;return G};gr.a2n=function(b,h,G){var H=J.I4(h,G,0);
G+=4;return G};gr.a65=function(b,h,G){var H=b.lX,B="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),j=[1,1,1,3,4,1,1,3],s,g;
delete b.add.fcmy;if(H!=3){if(H==1||H==2||H==4)console.log("Project will be converted from "+B[H]+" to "+B[3]+" mode.");
else{alert("Color mode "+B[H]+" is not supported yet :(")}if(H==4)b.add.fcmy=1}if(b.$p.r1045){s=[];var q=b.$p.r1045,Q=0;
while(Q<q.length){var a=J.i2(q,Q);s.push(a);Q+=4+2+a.length*2}}var l=j[H]+(s==null||s[0]=="Transparency"?1:0),U=b.j,N=b._,R=U*N,S=J.JQ(h,G);
G+=2;b.buffer=e.U(R*4);e.Zi(b.buffer,4278190080);var i=G;for(var y=0;y<b.mL;y++){if(S==0){g=fU.N3(b.SI,b.uy,h,U,N,G,S);
G+=R*(b.uy>>>3)}else if(S==1){g=e.U(R);var o=b.SI?4:2;if(y==0)G+=b.mL*N*o;G+=fU.aAn(h,g,U,N,i+y*N*o,G,o)}else{console.log("unknown compression of image data: ",S);
return}if(y<l){e.aj(g,b.buffer,y);if(b.mL==1&&y==0){e.aj(g,b.buffer,1);e.aj(g,b.buffer,2)}}else{var v=new C.Tc,Z=y-l,W=y-j[b.lX];
v.name=s?s[W]:"Alpha";if(v.name=="Quick Mask"){v.Da=!0;b.ql.push(Z)}v.rect=new io(0,0,U,N);v.channel=g;
v.color=0;v.r6();b.$B[Z]=v;if(b.$p.r1077){var q=b.$p.r1077.slice(4+W*13);v.UT=ja.ur(q,0);v.S$=q[11];
v.qp=q[12];if(v.qp==2)v.Da=!0}}}b.mL=4;if(b.lX==2)for(var Y=0;Y<R;Y++){var d=Y*4,$=b.buffer[d];b.buffer[d]=b.bm[0+$];
b.buffer[d+1]=b.bm[256+$];b.buffer[d+2]=b.bm[512+$]}return G};gr.ar8=function(b,h,G,H,B){var j=1,s=16,q=b.j,Q=b._,l,U,N;
J.kC(h,G,j);G+=2;var a=q*Q;if(!H){U=new e.Bh(q*Q);e.gZ(b.buffer,U);var R=U.$,S=U.B,g=U.J,i=U.G;for(var Y=0;
Y<a;Y++){var y=i[Y]*(1/255);R[Y]=~~(R[Y]*y+255*(1-y));S[Y]=~~(S[Y]*y+255*(1-y));g[Y]=~~(g[Y]*y+255*(1-y))}N=[U.$,U.B,U.J];
if(b.add.fcmy==1){N.push(e.U(a));var o=b.buffer.slice(0);e.a8G(o);e.gZ(o,{$:N[0],B:N[1],J:N[2],G:N[3]})}if(B)N.push(U.G)}else{l=e.U(a);
N=[l,l,l];if(b.add.fcmy==1)N.push(l);if(B)N.push(l)}for(var Y=0;Y<b.$B.length;Y++){N.push(b.$B[Y].tn(new io(0,0,b.j,b._)))}var v=G;
for(var Z=0;Z<N.length;Z++){h.yC(G,q*Q+4);l=N[Z];if(j==0||j==2||j==3)G=fU.Ye(b.SI,l,h.data,q,Q,G,j);
else{var W=b.SI?4:2;if(Z==0)G+=N.length*Q*W;var d=G;G+=fU.a3V(l,h.data,q,Q,v+Z*Q*W,G,W)}}return G};function d3(){}d3.wZ=function(b){var h={};
d3.Dr(b,h,0,0);return h};d3.Qg=function(b,h){var G=0;G=d3.fI(b,h,G,0);return G};d3.Dr=function(b,h,G,H){while(b[G]!="<".charCodeAt(0))G++;
G+=2;while(!0){if(b[G]=="/".charCodeAt(0)){G++;var B=J.indexOf(b," ".charCodeAt(0),G,G+50),j=J.indexOf(b,"\n".charCodeAt(0),G,G+50);
if(j==-1)j=Infinity;if(B==-1)B=Infinity;var s=Math.min(j,B),q=J.lA(b,G,s-G),Q=d3.$j(b,s+1,H+1,q);h[q]=Q.P;
G=s+1;G+=Q.size}else if(b[G]==">".charCodeAt(0)){G+=2;break}else{var a=b[G];if(a==10||a==9||a==32)G++;
else{console.log("unknown byte: "+a+", char: "+String.fromCharCode(a),G);G++}}}return G};d3.fI=function(b,h,G,H){J.gI(h,G,"<<\n");
G+=3;var B=d3.awe;for(var j in b){J.j1(h,G,"\t".charCodeAt(0),H+1);G+=H+1;J.gI(h,G,"/"+j);G+=1+j.length;
if(B(b[j])||b[j]instanceof Array){J.gI(h,G," ");G++}else{J.gI(h,G,"\n");G++;J.j1(h,G,"\t".charCodeAt(0),H+1);
G+=H+1}G=d3.aB(b[j],h,G,H+1);J.gI(h,G,"\n");G++}J.j1(h,G,"\t".charCodeAt(0),H);G+=H;J.gI(h,G,">>");G+=2;
return G};d3.$j=function(b,h,G,H){var B=h,j={size:0,P:0};while(!0){while(b[h]==" ".charCodeAt(0)||b[h]=="\t".charCodeAt(0)||b[h]=="\n".charCodeAt(0))h++;
if(b[h]=="<".charCodeAt(0)){j.P={};h=d3.Dr(b,j.P,h,G+1);break}else if(b[h]=="(".charCodeAt(0)){h+=3;
var s=h;while(!0){if(b[s-1]!="\\".charCodeAt(0)&&b[s]==")".charCodeAt(0)&&(b[s+1]=="\n".charCodeAt(0)||b[s+1]==" ".charCodeAt(0)))break;
else s++}j.P=J.aeQ(b,h,s);h=s+2;break}else if(b[h]=="[".charCodeAt(0)){h++;j.P=[];while(b[h]==" ".charCodeAt(0)||b[h]=="\t".charCodeAt(0)||b[h]=="\n".charCodeAt(0))h++;
while(b[h]!="]".charCodeAt(0)){var q=d3.$j(b,h,G+1,H);j.P.push(q.P);h+=q.size;while(b[h]==" ".charCodeAt(0)||b[h]=="\t".charCodeAt(0)||b[h]=="\n".charCodeAt(0))h++}h++;
break}else{var Q=J.indexOf(b," ".charCodeAt(0),h,h+50),a=J.indexOf(b,"\n".charCodeAt(0),h,h+50);if(a==-1)a=Infinity;
if(Q==-1)Q=Infinity;var l=J.lA(b,h,Math.min(Q,a)-h).trim(),U=parseFloat(l);if(!isNaN(U)){j.P=parseFloat(l);
h=Math.min(Q,a)+1;break}else if(l=="true"||l=="false"){j.P=l=="true";h=Math.min(Q,a)+1;break}else if(l=="null"||l=="NaN"||l=="undefined"){j.P=0;
h=Math.min(Q,a)+1;break}else{console.log("unknown identifier: "+l);throw"e"}h=Math.min(Q,a)+1}}j.size=h-B;
return j};d3.aB=function(b,h,G,H){if(b instanceof Array){var B=b.length==0||typeof b[0]=="number";if(B){J.gI(h,G,"[ ");
G+=2;for(var Y=0;Y<b.length;Y++){var j=b[Y]+" ";J.gI(h,G,j);G+=j.length}J.gI(h,G,"]");G+=1}else{J.gI(h,G,"[\n");
G+=2;for(var Y=0;Y<b.length;Y++){J.j1(h,G,"\t".charCodeAt(0),H);G+=H;G=d3.aB(b[Y],h,G,H);J.gI(h,G,"\n");
G++}J.j1(h,G,"\t".charCodeAt(0),H);G+=H;J.gI(h,G,"]");G+=1}}else if(b instanceof Object){G=d3.fI(b,h,G,H)}else if(typeof b=="string"){J.gI(h,G,"(");
G++;J.j1(h,G,254);G++;J.j1(h,G,255);G++;G=J.alE(h,G,b);J.gI(h,G,")");G+=1}else{var j=b+"";J.gI(h,G,j);
G+=j.length}return G};d3.awe=function(b){var h=typeof b;return h=="string"||h=="number"||h=="boolean"};
function dd(){}dd.wZ=function(b){var h={};dd.atx(b,h,0,0);return h};dd.Qg=function(b,h){var G=0;J.gI(h,G," ");
G++;G=dd.aeD(b,h,G,0);G--;h.yC(G,2);h.data[G]=h.data[G+1]=0;G+=2;return G};dd.Dr=function(b,h,G,H){while(b[G]!="<".charCodeAt(0)){G++;
console.log("šipka")}G+=2;G=dd.atx(b,h,G,H);return G};dd.fI=function(b,h,G,H){J.gI(h,G,"<< ");G+=3;G=dd.aeD(b,h,G,H);
J.gI(h,G,">>");G+=2;return G};dd.f7=function(b){return b==9||b==10||b==32};dd.atx=function(b,h,G,H){while(!0){while(dd.f7(b[G])||b[G]==0)G++;
if(G>=b.length)break;if(b[G]=="/".charCodeAt(0)){G++;var B=G;while(!dd.f7(b[B]))B++;var j=J.lA(b,G,B-G);
G=B+1;var s=dd.$j(b,G,H,j);h["_"+j]=s.P;G+=s.size}else if(b[G]==">".charCodeAt(0)){G+=2;break}else{var q=b[G];
console.log(J.lA(b,G,G+100));console.log("unknown byte: "+q+", char: "+String.fromCharCode(q)+", offset: "+G);
G++;throw"e";return-1}}return G};dd.aeD=function(b,h,G,H){for(var B in b){var j=B.substring(1,B.length);
J.gI(h,G,"/"+j);G+=1+j.length;J.gI(h,G," ");G++;G=dd.aB(b[B],h,G,H+1,j);J.gI(h,G," ");G++}return G};
dd.$j=function(b,h,G,H){var B=h,j={type:"",size:0,P:0};while(dd.f7(b[h]))h++;if(b[h]=="<".charCodeAt(0)){j.type="Object";
j.P={};h=dd.Dr(b,j.P,h,G+1)}else if(b[h]=="(".charCodeAt(0)){j.type="String";h++;if(b[h]==")".charCodeAt(0)){j.P="e";
h++}else if(b[h]==254&&b[h+1]==255){h+=2;var s=h,q=0;while(!0){if(b[s]==")".charCodeAt(0)&&b[s-1]!="\\".charCodeAt(0))break;
else s+=1}j.P="s"+J.aeQ(b,h,s);h=s+2}else{var s=h;while(b[s]!=")".charCodeAt(0))s++;j.P="s"+J.lA(b,h,s-h);
h=s+1}}else if(b[h]=="[".charCodeAt(0)){h++;j.P=[];j.type="Array";while(dd.f7(b[h]))h++;while(b[h]!="]".charCodeAt(0)){var Q=dd.$j(b,h,G+1,H);
if(Q==-1)return-1;j.P.push(Q.P);h+=Q.size;delete Q.size;while(dd.f7(b[h]))h++}h++}else{var a=h;while(!dd.f7(b[a]))a++;
var l=J.lA(b,h,a-h),U=parseFloat(l);if(!isNaN(U)&&l.indexOf(".")!=-1){j.type="Float";var N=parseFloat(l);
j.P="f"+N}else if(!isNaN(U)&&l.indexOf(".")==-1){j.type="Integer";j.P="i"+parseInt(l)}else if(l=="true"||l=="false"){j.type="Boolean";
j.P=l=="true"}else if(l.charAt(0)=="/"){j.type="BString";j.P=l}else if(l=="NaN"||l=="undefined"){j.type="Float";
j.P="f0"}else{console.log("unknown value",JSON.stringify(l));throw"e"}h=a+1}j.size=h-B;return j};dd.aj3=function(b){if(b==Math.round(b))return b+".0";
var h=b.toFixed(5);while(h.endsWith("0")&&h[h.length-2]!=".")h=h.slice(0,h.length-1);if(0<b&&b<1)h=h.slice(1);
if(-1<b&&b<0)h="-"+h.slice(2);return h};dd.aB=function(b,h,G,H,B){var j=typeof b=="string"?b.charAt(0):"";
if(b instanceof Array){J.gI(h,G,"[ ");G+=2;for(var Y=0;Y<b.length;Y++){G=dd.aB(b[Y],h,G,H,"");J.gI(h,G," ");
G++}J.gI(h,G,"]");G+=1}else if(b instanceof Object){G=dd.fI(b,h,G,H)}else if(j=="e"){J.gI(h,G,"()");
G+=2}else if(j=="s"){J.gI(h,G,"(");G++;if(B=="97"){J.gI(h,G,b.slice(1));G+=b.length-1}else{J.j1(h,G,254);
G++;J.j1(h,G,255);G++;G=J.alE(h,G,b.slice(1))}J.gI(h,G,")");G++}else if(j=="/"){J.gI(h,G,b);G+=b.length}else if(j=="f"){var s=parseFloat(b.substring(1)),q=dd.aj3(s);
J.gI(h,G,q);G+=q.length}else if(j=="i"){J.gI(h,G,b.substring(1));G+=b.length-1}else{var q=b+"";J.gI(h,G,q);
G+=q.length}return G};function J(){}J.a8J=function(g1){var b="";for(var Y=3;Y>=0;Y--)b+=String.fromCharCode(g1>>Y*8&255);
return b};J.aEZ=function(b){var g1=0;for(var Y=b.length-1;Y>=0;Y--)g1|=b.charCodeAt(Y)<<(3-Y)*8;return g1};
J.indexOf=function(b,h,G,H){if(G==null)G=0;if(H==null)H=b.length;H=Math.min(H,b.length);for(var Y=G;
Y<H;Y++)if(b[Y]==h)return Y;return-1};J.qh=function(b,h,G){if(G==null)G=0;var H=h.length,B=b.length-H;
if(typeof h=="string"){var j=[];for(var Y=0;Y<H;Y++)j.push(h.charCodeAt(Y));h=j}if(h.length>0){var s=h[0];
for(var Y=G;Y<B;Y++)if(b[Y]==s){var q=!0;for(var Q=1;Q<H;Q++)if(h[Q]!=b[Y+Q]){q=!1;break}if(q)return Y}}return-1};
J.aeQ=function(b,h,G){var H=[],j="";while(h<G){var B=b[h++];if(B=="\\".charCodeAt(0))H.push(b[h++]);
else H.push(B)}for(var Y=0;Y<H.length;Y+=2)j+=String.fromCharCode(H[Y]<<8|H[Y+1]);return j};J.aAp=function(b,h,G){var H=new Uint8Array(2);
for(var Y=0;Y<G.length;Y++){J.JL(H,0,G.charCodeAt(Y));if(H[0]==")".charCodeAt(0)||H[0]=="(".charCodeAt(0)||H[0]=="\\".charCodeAt(0)){b[h]="\\".charCodeAt(0);
h++}b[h]=H[0];h++;if(H[1]==")".charCodeAt(0)||H[1]=="(".charCodeAt(0)||H[1]=="\\".charCodeAt(0)){b[h]="\\".charCodeAt(0);
h++}b[h]=H[1];h++}return h};J.alE=function(b,h,G){b.yC(h,4*G.length);return J.aAp(b.data,h,G)};J.XX=function(b,h,G){var H="";
for(var Y=0;Y<G;Y++){var B=b[h++]|b[h++]<<8;H+=String.fromCharCode(B)}return H};J.Ss=function(b,h,G){var H="";
for(var Y=0;Y<G;Y++){var B=b[h++]<<8|b[h++];H+=String.fromCharCode(B)}return H};J.a95=function(b,h,G){for(var Y=0;
Y<G.length;Y++){var H=G.charCodeAt(Y);J.DP(b,h+2*Y,H)}};J.a9r=function(b,h,G){for(var Y=0;Y<G.length;
Y++){var H=G.charCodeAt(Y);J.JL(b,h+2*Y,H)}};J.anE=function(b,h,G){b.yC(h,2*G.length);J.a9r(b.data,h,G)};
J.aml=function(b,Y,h){var G=[],H=0,B=0;h+=Y;while(Y<h){H=b[Y++];if((H&128)==0)B=H;else if((H&224)==192){B=(H&31)<<6;
H=b[Y++];B|=H&63}else if((H&240)==224){B=(H&15)<<12;H=b[Y++];B|=(H&63)<<6;H=b[Y++];B|=H&63}else if((H&248)==240){B=(H&7)<<18;
H=b[Y++];B|=(H&63)<<12;H=b[Y++];B|=(H&63)<<6;H=b[Y++];B|=H&63}else throw"e";G.push(B)}return G};J.aaB=window.TextDecoder?new window.TextDecoder("utf8"):null;
J.S2=function(b,h,G){if(h==null)h=0;if(G==null)G=b.length;if(J.aaB&&h==0&&G==b.length)return J.aaB.decode(b);
var H=J.aml(b,h,G),B=H.length;for(var Y=0;Y<B;Y++)H[Y]=String.fromCharCode(H[Y]);return H.join("")};
J.a5m=window.TextEncoder?new window.TextEncoder("utf8"):null;J.AY=function(b){if(J.a5m)return J.a5m.encode(b);
var h=new Uint8Array(b.length*4),G=J.OY(b,h,0);return h.slice(0,G)};J.OY=function(b,h,G){var H=b.length,Y=0;
for(var B=0;B<H;B++){var j=b.charCodeAt(B);if((j&4294967295-(1<<7)+1)==0){h[G+Y]=j;Y++}else if((j&4294967295-(1<<11)+1)==0){h[G+Y]=192|j>>6;
h[G+Y+1]=128|j>>0&63;Y+=2}else if((j&4294967295-(1<<16)+1)==0){h[G+Y]=224|j>>12;h[G+Y+1]=128|j>>6&63;
h[G+Y+2]=128|j>>0&63;Y+=3}else if((j&4294967295-(1<<21)+1)==0){h[G+Y]=240|j>>18;h[G+Y+1]=128|j>>12&63;
h[G+Y+2]=128|j>>6&63;h[G+Y+3]=128|j>>0&63;Y+=4}else throw"e"}return Y};J.j_=function(b,h){var G=J.C(b,h),H=J.S2(b,h+4,G-1);
return{Xk:H,Vp:4+G}};J.ajR=function(b,h){var G=J.FZ(b,h),H=J.XX(b,h+4,G);return H};J.Cy=function(b,h){var G=J.C(b,h),H=J.Ss(b,h+4,G);
return H};J.i2=function(b,h){var G=J.C(b,h),H=J.Ss(b,h+4,G-1);return H};J.a19=function(b,h,G){J.h0(b,h,G.length);
h+=4;J.a95(b,h,G)};J.apS=function(b,h,G){J.N2(b,h,G.length);h+=4;J.a9r(b,h,G)};J.fZ=function(b,h,G){b.yC(h,4+2*G.length);
J.apS(b.data,h,G)};J.a2K=function(b,h,G){b.yC(h,4+2*G.length);J.a19(b.data,h,G)};J.Ky=function(b,h,G){var H=[];
for(var Y=0;Y<G;Y++)H.push(String.fromCharCode(b[h+Y]));return H};J.avD=function(b,h,G){var H=!1,B=b.length-G.length;
for(var Y=h;Y<B;Y++){for(var j=0;j<G.length;j++){if(b[Y+j]!=G.charCodeAt(j))break;if(j==G.length-1)return Y}}};
J.lA=function(b,h,G){var H="";for(var Y=0;Y<G;Y++)H+=String.fromCharCode(b[h+Y]);return H};J.K$=function(b,h,G){for(var Y=0;
Y<G.length;Y++)b[h+Y]=G.charCodeAt(Y)};J.gI=function(b,h,G){b.yC(h,G.length);J.K$(b.data,h,G)};J.aEz=function(b,h,G){var H="";
for(var Y=0;Y<G;Y++){var B=b[h+Y];if(B<10)H+="  ";else if(B<100)H+=" ";H+=B+", "}return H};J.JQ=function(b,h){return b[h]<<8|b[h+1]};
J.JL=function(b,h,g1){b[h]=g1>>8&255;b[h+1]=g1&255};J.kC=function(b,h,g1){b.yC(h,4);J.JL(b.data,h,g1)};
J.zK=function(b,h){var G=J.JQ(b,h),H=J.JQ(b,h+2);return G+H*(1/65536)};J.alB=function(b,h,g1){var G=Math.floor(g1),H=Math.floor((g1-G)*65536);
J.JL(b,h,G);J.JL(b,h+2,H)};J.gP=function(b,h){return b[h+1]<<8|b[h]};J.DP=function(b,h,g1){b[h+1]=g1>>8&255;
b[h]=g1&255};J.pV=function(b,h,g1){b.yC(h,4);J.DP(b.data,h,g1)};J.KV=function(b,h){J.qu[0]=b[h+1];J.qu[1]=b[h];
return J.MZ[0]};J.eR=function(b,h){J.qu[0]=b[h];J.qu[1]=b[h+1];return J.MZ[0]};J.xp=J.JL;J.gD=J.kC;J.dj=function(b,h){J.yX[0]=b[h+3];
J.yX[1]=b[h+2];J.yX[2]=b[h+1];J.yX[3]=b[h];return J.bk[0]};J.AU=function(b,h,g1){J.bk[0]=g1;b[h+3]=J.yX[0];
b[h+2]=J.yX[1];b[h+1]=J.yX[2];b[h+0]=J.yX[3]};J.v6=function(b,h,g1){b.yC(h,4);J.AU(b.data,h,g1)};J.Lh=function(b,h,G,H){G[H+0]=b[h+0];
G[H+1]=b[h+1];G[H+2]=b[h+2];G[H+3]=b[h+3]};J.FZ=function(b,h){J.Lh(b,h,J.yX,0);return J.abm[0]};J.h0=function(b,h,g1){J.abm[0]=g1;
J.Lh(J.yX,0,b,h)};J.lE=function(b,h,g1){b.yC(h,4);J.h0(b.data,h,g1)};J.Wv=function(b,h){J.Lh(b,h,J.yX,0);
return J.bk[0]};J.acx=function(b,h,g1){J.bk[0]=g1;J.Lh(J.yX,0,b,h)};J.awT=function(b,h,g1){b.yC(h,4);
J.acx(b.data,h,g1)};J.C=function(b,h){var G=b[h]*(256*256*256)+(b[h+1]<<16|b[h+2]<<8|b[h+3]);return G};
J.N2=function(b,h,g1){b[h]=g1>>24&255;b[h+1]=g1>>16&255;b[h+2]=g1>>8&255;b[h+3]=g1>>0&255};J.I4=function(b,h,g1){b.yC(h,4);
J.N2(b.data,h,g1)};J.DN=function(b,h){return J.C(b,h)<<32|J.C(b,h+4)};J.aaX=function(b,h,g1){J.N2(b,h,g1>>16>>16);
J.N2(b,h+4,g1&4294967295)};J.uw=function(b,h,g1){b.yC(h,8);J.aaX(b.data,h,g1)};J.Oj=function(b,h){var G=new Uint8Array(8);
for(var Y=0;Y<8;Y++)G[Y]=b[h+7-Y];var H=new Float64Array(G.buffer);return H[0]};J.A0=function(b,h){var G=new Uint8Array(8);
for(var Y=0;Y<8;Y++)G[Y]=b[h+Y];var H=new Float64Array(G.buffer);return H[0]};J.o8=function(b,h,g1){var G=new Float64Array(1);
G[0]=g1;var H=new Uint8Array(G.buffer);for(var Y=0;Y<4;Y++){var B=H[Y];H[Y]=H[7-Y];H[7-Y]=B}for(var Y=0;
Y<8;Y++)b[h+Y]=H[Y]};J.r$=function(b,h,g1){b.yC(h,8);J.o8(b.data,h,g1)};J.N$=function(b,h){J.yX[0]=b[h+3];
J.yX[1]=b[h+2];J.yX[2]=b[h+1];J.yX[3]=b[h+0];return J.c8[0]};J.B$=function(b,h){J.yX[0]=b[h+0];J.yX[1]=b[h+1];
J.yX[2]=b[h+2];J.yX[3]=b[h+3];return J.c8[0]};J.f8=function(b,h,g1){J.c8[0]=g1;b[h+0]=J.yX[3];b[h+1]=J.yX[2];
b[h+2]=J.yX[1];b[h+3]=J.yX[0]};J.ac$=function(b,h,g1){b.yC(h,4);J.f8(b.data,h,g1)};J.ze=function(b,h,g1){J.c8[0]=g1;
b[h+0]=J.yX[0];b[h+1]=J.yX[1];b[h+2]=J.yX[2];b[h+3]=J.yX[3]};J.alp=function(b,h,g1){b.yC(h,4);J.ze(b.data,h,g1)};
J.azt=function(b,h){var G=J.dj(b,h),H=G*(1/(1<<24));return H};J.atK=function(b,h,G){var H=Math.floor(G*(1<<24));
J.AU(b,h,H)};J.agd=function(b,h,G){b.yC(h,4);J.atK(b.data,h,G)};J._i=function(b,h){var G=b[h],H=J.lA(b,h+1,G);
G+=1-G%2;return{yD:H,length:G+1}};J.a8y=function(b,h,G){var H=G.length;b[h]=H;J.K$(b,h+1,G);if(H%2==0){b[h+1+H]=0;
++H}return H+1};J.qn=function(b,h,G){b.yC(h,G.length+2);return J.a8y(b.data,h,G)};J.D$=function(b,h){var G=new eq;
G.G=J.Oj(b,h+0*8);G.J=J.Oj(b,h+1*8);G.YW=J.Oj(b,h+2*8);G.tW=J.Oj(b,h+3*8);G.Kv=J.Oj(b,h+4*8);G.d0=J.Oj(b,h+5*8);
return G};J.K5=function(b,h,G){J.o8(b,h+0*8,G.G);J.o8(b,h+1*8,G.J);J.o8(b,h+2*8,G.YW);J.o8(b,h+3*8,G.tW);
J.o8(b,h+4*8,G.Kv);J.o8(b,h+5*8,G.d0)};J.a6A=function(b,h,G){b.yC(h,48);J.K5(b.data,h,G)};J.avS=function(b,h){var G=J.N$(b,h),H=J.N$(b,h+4),B=J.N$(b,h+8),j=J.N$(b,h+12);
return new io(G,H,B-G,j-H)};J.ahL=function(b,h,G){J.f8(b,h,G.x);J.f8(b,h+4,G.y);J.f8(b,h+8,G.x+G.j);
J.f8(b,h+12,G.y+G._)};J.a20=function(b,h,G){b.yC(h,16);J.ahL(b.data,h,G)};J.b0=function(b,h){var G=J.dj(b,h),H=J.dj(b,h+4),B=J.dj(b,h+8),j=J.dj(b,h+12);
return new io(H,G,j-H,B-G)};J.aCH=function(b,h,G){J.AU(b,h,G.y);J.AU(b,h+4,G.x);J.AU(b,h+8,G.y+G._);
J.AU(b,h+12,G.x+G.j)};J.Rx=function(b,h,G){b.yC(h,16);J.aCH(b.data,h,G)};J.$C=function(b,h,G){var H=new Uint8Array(G);
for(var Y=0;Y<G;Y++)H[Y]=b[h+Y];return H};J.agT=function(b,h,G){b.set(G,h)};J.d8=function(b,h,G){b.yC(h,G.length);
J.agT(b.data,h,G)};J.a8T=function(b,h,G,g1){if(!g1)g1=1;for(var Y=0;Y<g1;Y++)b[h+Y]=G};J.j1=function(b,h,G,g1){if(!g1)g1=1;
b.yC(h,g1);J.a8T(b.data,h,G,g1)};J.MZ=new Int16Array(1);J.qu=new Uint8Array(J.MZ.buffer);J.bk=new Int32Array(1);
J.abm=new Uint32Array(J.bk.buffer);J.yX=new Uint8Array(J.bk.buffer);J.c8=new Float32Array(J.bk.buffer);
function hW(){}hW.wZ=function(b,h){var G=new Uint8Array(b),H=0,B=J.lA(G,H,9),q=4,Q=100;H+=9;var j=J.lA(G,H,4);
H+=4;H++;h.j=J.C(G,H);H+=4;h._=J.C(G,H);H+=4;var s=J.C(G,H);H+=4;if(s!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(j)==-1){Q=J.C(G,H);H+=4;if(parseInt(j.slice(1))>=7){Q=Q}else alert("Unknown XCF version: "+j);
q=8}var a={};H=hW.jL(G,H,a);var l=[];H=hW.QR(G,H,l,q);var U=[];H=hW.QR(G,H,U,q);h.Bd=0;for(var Y=0;Y<l.length;
Y++)hW.a8Q(G,l[Y],h,a,q,Q);while(h.Bd>0){h.R.push(h.b2());h.Bd--}h.R.reverse();delete h.Bd;h.buffer=e.U(h.j*h._*4);
if(h.R.length==0)console.log("No layers!!!");for(var Y=0;Y<U.length;Y++){var N=hW.abz(G,U[Y],a,q,Q);
if(N.Pm[gH.a5v])h.e={channel:N.o6,rect:new io(0,0,h.j,h._)}}};hW.a8Q=function(b,h,G,H,B,j){var s=G.Cx(),q=J.C(b,h),U=0;
h+=4;var Q=J.C(b,h);h+=4;s.rect=new io(0,0,q,Q);var a=J.C(b,h);h+=4;var l=J.j_(b,h);h+=l.Vp;s.cb(l.Xk);
var N={};h=hW.jL(b,h,N);if(N[gH.adW]){var R=N[gH.adW];U=R.length/4-1}if(N[gH.Sh]){s.rect.x=J.dj(N[gH.Sh],0);
s.rect.y=J.dj(N[gH.Sh],4)}if(N[gH.awo]){s.opacity=J.C(N[gH.awo],0)}if(N[gH.aza]){s.add.lsct=c1.$I;s.Xp=24}if(N[gH.afb]){var S=J.C(N[gH.afb],0);
s.Am=gH.a0O[S];if(s.fu()&&s.Am=="norm")s.Am="pass"}if(N[gH.aCl]){if(J.C(N[gH.aCl],0)==0)s.Xp+=2}if(N[gH.ayR]){var g=J.C(N[gH.ayR],0);
s.add.lsct=g&1==1?c1.$I:c1.N_}if(N[gH.HM]){var i=N[gH.HM];for(var y in i){var o=i[y];if(y=="gimp-text-layer"){var v=hW.apw(o),Z=v.text,W=v.font,d=v.color,$=v["font-size"];
if(Z==null&&v.markup){var I=new DOMParser,k=I.parseFromString(v.markup,"image/svg+xml");while(k.firstChild!=null&&k.firstChild.tagName!=null){k=k.firstChild;
var _=k.getAttribute("font"),D=k.getAttribute("foreground"),A=k.getAttribute("size");if(_!=null)W=_;
if(D!=null){D=CSS.ur(D);d=[1,D.$/255,D.B/255,D.J/255]}if(A!=null){$=""+parseFloat(A)/245}}Z=k.textContent}s.add.lnsr="rend";
s.add.TySh=b_.V0(0,0);s.add.TySh.In=new io(0,0,100,100);s.add.TySh.h=new eq(1,0,0,1,s.rect.x,s.rect.y);
var F=s.add.TySh.HZ;b_.ph(F,0,Z);var K=b_.XN(F,0,0),V=v.justify,r=v["line-spacing"];if(d)K.bJ.FillColor={Type:1,Values:[1,parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])]};
if($){$=Math.round(parseFloat($));K.bJ.FontSize=$;s.add.TySh.h.d0+=Math.min(17,$*.17)}if(r){r=Math.round(parseFloat(r)+K.bJ.FontSize*1.2);
K.bJ.Leading=r;K.bJ.AutoLeading=!1}if(V)K._P.Justification=["left","right","center","fill"].indexOf(V);
if(W&&W!="Sans-serif"){var c=W.toLowerCase(),x="bold italic semi extra regular condensed light".split(" "),X=c.length;
for(var Y=0;Y<x.length;Y++){var M=c.indexOf(x[Y]);if(M!=-1&&M<X&&c[M-1]==" ")X=M}if(X!=c.length)W=W.slice(0,X-1).split(" ").join("")+"-"+W.slice(X).split(" ").join("");
b_.HC(K,W)}b_.V1(F,0,Z.length,K);var f=v["box-width"],t=v["box-height"],n=f?parseFloat(f):s.rect.j,L=t?parseFloat(t):s.rect._;
b_.vj(F,1);b_.A6(F,[0,0,Math.ceil(n),Math.ceil(L)])}else console.log("Unknown property "+y)}}while(G.Bd>U){G.R.push(G.b2());
G.Bd--}G.Bd=U;if(s.add.lsct==c1.$I||s.add.lsct==c1.N_)G.Bd++;var P=B==4?J.C:J.DN,z=P(b,h);h+=B;var T=P(b,h);
h+=B;if(s.P4()){s.buffer=e.U(s.rect.X()*4);var p=new e.Bh(s.rect.X());hW.afh(b,z,p,H,B,j);e.bh(p,s.buffer)}if(T!=0){s.u=new C.Tc;
var m=hW.abz(b,T,H,B,j);s.u.channel=m.o6;s.u.rect=s.rect.clone();if(N[gH.aj6])s.u.isEnabled=J.C(N[gH.aj6],0)==1;
s.u.color=s.u.channel[0];s.u.r6()}if(s.fu())s.rect=new io;G.R.push(s)};hW.apw=function(b){var h="("+J.S2(b,0,b.length-1)+")",G=[],H={};
hW.aa9(h,1,G);hW.a1Y(G,H);return H};hW.a1Y=function(b,h){for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G[0];
if(G.length==2)h[H]=G[1];else h[H]=G.slice(1)}};hW.aa9=function(b,h,G){while(!0){if(h>=b.length)throw"e";
var H=b.charAt(h);h++;if(H=="("){var B=[];h=hW.aa9(b,h,B);G.push(B)}else if(H==" "||H=="\n"||H=="\r"){}else if(H==")")return h;
else if(H=="\""){var j=h;while(!0){var s=b[h];h++;if(s=="\"")break;if(s=="\\")h++}G.push(JSON.parse(b.slice(j-1,h)))}else{var j=h-1;
while(b[h]!=" "&&b[h]!=")")h++;G.push(b.slice(j,h))}}};hW.abz=function(b,h,G,H,B){var j=J.C(b,h);h+=4;
var s=J.C(b,h);h+=4;var q=J.j_(b,h);h+=q.Vp;var Q={};h=hW.jL(b,h,Q);var a=new e.Bh(j*s),l=H==4?J.C:J.DN,U=l(b,h);
h+=H;hW.afh(b,U,a,G,H,B);return{o6:a.$,Pm:Q}};hW.afh=function(b,h,G,H,B,j){var s=J.C(b,h);h+=4;var q=J.C(b,h);
h+=4;var Q=J.C(b,h);h+=4;var a=B==4?J.C:J.DN,l=a(b,h);h+=B;hW.aqr(b,l,G,H,Q,B,j)};hW.aqr=function(b,h,G,H,B,j,s){var q=J.C(b,h),l=0,Y=0;
h+=4;var Q=J.C(b,h);h+=4;var a=new io(0,0,q,Q);if(s==100||s==150)l=1;else if(s==200||s==250)l=2;else if(s==300||s==350)l=4;
else if(s==500||s==550)l=2;else if(s==600||s==650)l=4;else if(s==700||s==750)l=8;else{alert("unsupported bit depth "+s);
throw"e"}var U=B/l,l=Math.round(B/U),N=[];h=hW.QR(b,h,N,j);var R=new e.Bh(64*64*l),S=new io,g=H[gH.a3j][0],i=[R.$,R.B,R.J,R.G];
if(U==3)R.G.fill(255);var y=Date.now();if(N.length!=0)for(var o=0;o<Q;o+=64)for(var v=0;v<q;v+=64){var Z=Math.min(q-v,64),W=Math.min(Q-o,64),d=Z*W;
S.ve(v,o,Z,W);hW.axa(b,N[Y++],d*l,g,U,i);if(s==100||s==150){}else if(s==250){for(var $=0;$<U;$++){var I=i[$];
for(var k=0;k<d;k++){var _=I[k]<<8|I[d+k];I[k]=Math.min(_>>>8,255)}}}else if(s==600){var D=hW.amH(),A=new Uint32Array(1),F=new Float32Array(A.buffer);
for(var $=0;$<U;$++){var I=i[$];for(var k=0;k<d;k++){A[0]=I[k]<<24|I[d+k]<<16|I[(d<<1)+k]<<8|I[(d<<1)+d+k]<<0;
var K=F[0];if(K<0)K=0;else if(K>1)K=1;I[k]=D[~~(.5+K*1e3)]}}}else console.log("unknown data format",s);
e.dt(R,S,G,a)}};hW.amH=function(){var b=hW.ain;if(b!=null)return b;b=hW.ain=new Uint8Array(1001);for(var Y=0;
Y<1001;Y++)b[Y]=~~(.49+255*e.Ea(Y*.001));return b};hW.axa=function(b,h,G,H,B,j){if(H==1){for(var s=0;
s<B;s++){var q=j[s],Q=0;while(Q<G){var g1=b[h];h++;if(g1<127){var a=b[h];h++;g1++;for(var Y=0;Y<g1;Y++)q[Q+Y]=a}else if(g1==127){var l=b[h];
h++;var U=b[h];h++;var a=b[h];h++;g1=l<<8|U;for(var Y=0;Y<g1;Y++)q[Q+Y]=a}else if(g1==128){var l=b[h];
h++;var U=b[h];h++;g1=l<<8|U;for(var Y=0;Y<g1;Y++)q[Q+Y]=b[h+Y];h+=g1}else{g1=256-g1;for(var Y=0;Y<g1;
Y++)q[Q+Y]=b[h+Y];h+=g1}Q+=g1}}}else if(H==2){var N=pako.inflate(b.slice(h)),R=Math.round(N.length/G);
for(var Y=0;Y<G;Y++){var S=Y*R;j[0][Y]=N[S];j[1][Y]=N[S+1];j[2][Y]=N[S+2];j[3][Y]=R==3?255:N[S+3]}}else alert("Unknown compression "+H)};
hW.QR=function(b,h,G,H){var B=H==4?J.C:J.DN;while(!0){var j=B(b,h);h+=H;if(j==0)break;else G.push(j)}return h};
hW.jL=function(b,h,G){while(!0){var H=J.C(b,h);h+=4;var B=J.C(b,h);h+=4;if(H==gH.apz)break;else if(H==gH.HM)G[H]=hW.a1f(b,h,h+B);
else G[H]=J.$C(b,h,B);h+=B}return h};hW.a1f=function(b,h,G){var H={};while(h<G){var B=J.j_(b,h);h+=B.Vp;
var j=J.C(b,h);h+=4;if(j!=1)console.log("unknown flags",j);var s=J.C(b,h);h+=4;H[B.Xk]=J.$C(b,h,s);h+=s}return H};
var gH={apz:0,afH:1,aeb:2,axf:3,a5v:4,a2s:5,awo:6,afb:7,aCl:8,aCK:9,atB:10,aj6:11,a60:12,a66:13,azS:14,Sh:15,azg:16,a3j:17,afl:18,aqY:19,aB8:20,HM:21,ab6:22,ahq:23,a6G:24,avC:25,azR:26,aqP:27,a5$:28,aza:29,adW:30,ayR:31,aD4:32,a41:33,aeE:34,am7:35,ai8:36,amq:37,asR:38,aAL:0,aBT:1,ahZ:2,ayx:3,abd:1,aA1:2,a6t:0,aqg:1,a6h:1};
gH.a0O="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var bK=function(){var b=!1,h,G,y=0,Z;function H(){var $=J.lA(h,G,4);G+=4;return $[3]+$[2]+$[1]+$[0]}function B(){var $=J.lA(h,G,4);
G+=4;return $}function j(){var $=h[G];G+=1;return $}function s(){var $=J.gP(h,G);G+=2;return $}function q(){var $=J.FZ(h,G);
G+=4;return $}function Q(){var $=J.Wv(h,G);G+=4;return $}function a(){var $=J.FZ(h,G);G+=8;return $}function l(){var $=J.B$(h,G);
G+=4;return $}function U(){var $=J.A0(h,G);G+=8;return $}function N(){var $=J.gP(h,G),I=J.S2(h,G+2,$);
G+=2+$;return I}function R(){var $=J.FZ(h,G),I=J.S2(h,G+4,$);G+=4+$;return I}function S($){G=$;var I=[];
while(G!=0){var k=B();if(k!="#FT4"&&k!="#FT3"&&k!="#FT2")throw k;var _=a(),D=a(),A=a(),F=a(),K=a(),V=q(),r=q(),c=q(),x=s(),X=j(),M={};
I.push(M);for(var Y=0;Y<V;Y++){var f=q(),t=j();if(t!=0&&t!=1&&t!=2)throw t;var n=[];if(t==0||t==1){var L=a(),P=a(),z=a(),T=q(),p=j(),m=q(),O=k!="#FT4"?0:q(),cb=null;
if(k=="#FAT"||k=="#FT2"){switch(p){case 1:p=1;break;case 2:p=65;break;case 3:p=129;break;case 4:p=193;
break;default:p=0;break}}if(t==0)cb=N();n=[L,P,z,p,cb]}M["i"+f]=[t,n]}for(var Y=0;Y<x;Y++){var cX=s(),e$=s(),fz=a(),eC=J.lA(h,G,cX);
G+=cX}G=_}I.reverse();for(var hw=1;hw<I.length;hw++){var M=I[hw],az=I[hw]=JSON.parse(JSON.stringify(I[hw-1]));
for(var av in M){var ia=M[av];if(ia[0]==0)az[av]=ia;else if(ia[0]==1){ia[1][4]=az[av][1][4];az[av]=ia}else if(ia[0]==2)delete az[av]}}var iJ=I.pop(),cx=[];
for(var av in iJ)cx.push(iJ[av][1]);cx.sort(function(hP,iS){return hP[0]-iS[0]});return cx}function g($,I,k,_){while(G<h.length){var D=j(),V=null;
if(D==0){if(_){var A=j();if(A!=2){var F=H()}if(A==0)G+=4;_=!1;continue}else{break}}var K=H();if(b)console.log("  ".repeat(I),D,D&127,K,$._type);
if(D>127)V=i(D,I,k);else V=o(D,I,k);if(b)console.log("  ".repeat(I),V);$[K]=V}}function i($,I,k){var _=[];
$=$&127;if($==43)G+=4;var D=q();if($==50){var A=H(),F=s();if(F!=1)throw"e";for(var Y=0;Y<D;Y++){var K={_status:"NotShared",_type:A};
_.push(K);var V=j();if(V!=0&&V!=1)throw V;g(K,I+1,k)}}else if($==41){if(D>8)throw D;for(var Y=0;Y<D;
Y++)_.push((h[G]>>>Y&1)==1);G++}else for(var Y=0;Y<D;Y++){_.push(o($,I,k,Y!=0));if($==42)$=2}return _}function o($,I,k,_){var D=null;
if($==49){D={};var A=j();if(A!=0){var F=q();if(k==null){D._id=F;D._status=["Shared","Link"][A-1]}if(k&&A==2)D=k[F];
if(A==1){if(k)k[F]=D;var K=j(),V=!1;if(K>1)throw K;D._type=H();if(b)console.log("  ".repeat(I),"new",D._type,K,G);
if(K==0){while(!0){var r=s();if(r!=0&&r!=1&&r!=2&&r!=3&&r!=4)throw r;if(h[G]!=0){V=!0;break}var c=s();
if(c==512)break;var x=H();if(c==256)break}}g(D,I+1,k,V)}}}else if($==50){D={_status:"NotShared"};if(j()==1){D._type=H();
G+=2;g(D,I+1,k)}}else if($==1)D={type:"byte",value:j()};else if($==2)D={type:"uint16",value:s()};else if($==3)D={type:"uint32",value:q()};
else if($==4)D={type:"uint64",value:a()};else if($==7)D={type:"int32",value:Q()};else if($==8)D={type:"int64",value:a()};
else if($==9)D={type:"float32",value:l()};else if($==10)D={type:"float64",value:U()};else if($==21)D={type:"Vec2i",value:[q(),q()]};
else if($==23)D={type:"Vec4i",value:[q(),q(),q(),q()]};else if($==33)D={type:"Vec4f",value:[l(),l(),l(),l()]};
else if($==36)D={type:"Vec2",value:[U(),U()]};else if($==38)D={type:"Vec4",value:[U(),U(),U(),U()]};
else if($==40)D={type:"Vec6",value:[U(),U(),U(),U(),U(),U()]};else if($==41)D={type:"bool",value:j()!=0};
else if($==42)D={type:"Enum",value:q()};else if($==43)D={type:"string",value:R()};else if($==44){if(_!=!0)y=s();
D={type:"curv16",value:[U(),y==12?[j(),j(),j(),j()]:[q(),q()]]}}else if($==45){var X=q();D={type:"buff",value:h.slice(G,G+X)};
G+=X}else if($==47){D={type:"uint32",value:q()}}else if($==48){var M=[],f=s();if(f!=1)throw f;while(!0){if(h[G]==135){var t=i(j(),I+1,k),n=i(j(),I+1,k),L=i(j(),I+1,k);
M.push([t,n,L])}else{var P=1;if(h[G]==3){j();P=q()}for(var Y=0;Y<P;Y++){if(j()!=41)throw"e";var F=j();
if(F!=0&&F!=1)throw F;if(j()!=172)throw"e";var z=q(),T=s(),p=[];M.push(p);if(T!=18)throw T;if(z>4e3)throw z;
for(var m=0;m<z;m++)p.push([U(),U(),j(),j()])}}if(h[G]==0){G++;break}}D={type:"curve",value:M}}else if($==51){D={type:"EmbeddedData"};
D[H()]=R()}else if($==52)D={type:"uint32",value:q()};else if($==56)D={type:"Color32",value:[j(),j(),j(),j()]};
else if($==60)D={type:"ColorGRAY",value:[l(),l()]};else if($==68)D={type:"ColorRGBA",value:[l(),l(),l(),l()]};
else if($==72)D={type:"ColorCMYK",value:[l(),l(),l(),l(),l()]};else{throw $}return $==49||$==50||$==51?D:D.value}function v($){var I=0,k=$.length;
for(var Y=0;Y<k;Y+=4){$[Y]=I=I+$[Y];$[Y+1]=I=I+$[Y+1];$[Y+2]=I=I+$[Y+2];$[Y+3]=I=I+$[Y+3]}}function W($){h=$;
G=4;var I=q(),k=B();if(k!="nsrP")throw k;var k=B();if(k!="#Inf")throw k;var _=a();Z=a();var D=a(),A=a(),F=a(),K=q(),V=q(),k=B();
if(k!="Prot")throw k;var K=q(),r=S(_),c={},x=Date.now();for(var X=0;X<r.length;X++){var M=r[X],f=M[3],z=null;
G=M[0];var k=B();if(k!="#Fil")throw k;var t=f>>>5&1,n=f&3,L=f&192;switch(L){case 64:L=1;t=0;break;case 128:L=2;
break;case 192:L=3;break;default:L=0;t=0}var P=new Uint8Array(h.buffer,G,M[2]);if(n==0)z=P;else if(n==1)z=pako.inflate(P);
else if(n==2)z=aT.rw.m4(P,M[1]);else throw n;if(t==0){if(L==1)v(z);if(L==2)throw"e"}else if(t==1){if(L==2)v(z);
else throw L}else throw t;c[M[4]]=z}return c}function d($){var I=W(new Uint8Array($));h=I["doc.dat"];
G=16;var k={};g(k,0,[]);return[I,k,Z]}return{acu:d}}();function k8(){}k8.wZ=function(){function b(g,i){var y=Date.now(),o=bK.acu(g),v=o[0],Z=o[1],W=o[2],d=Z.DocR,$=d.DfSz,I=d.Chld;
if(I.length!=1)console.log(I);var k=I[0],_=k.SprB;I=k.Chld;if(_){i.j=~~_[2];i._=~~_[3]}else{i.j=1920;
i._=1080}i.buffer=e.U(i.j*i._*4);var D=[0,{}];for(var Y=0;Y<I.length;Y++)j(I[Y],i,v,new eq,D,[],0);i.LI(D[0]);
console.log(Date.now()-y,"Document created");y=Date.now()}function h(g){return new eq(g[0],g[3],g[1],g[4],g[2],g[5])}function G(g,i){var y=i.Xfrm;
y=y?h(y):new eq;y.concat(g);return y}function H(g){var i={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[g];
return i?i:"norm"}function B(g,i){var y=g[i],o=g.DsMa;if(y==null&&o)y=o[i];return y}function j(g,i,y,o,v,Z,W){var d=g._type,$=g.Chld,I=i.Cx();
I.cb(g.Desc==null||g.Desc==""?d=="Grup"?"Folder":"Layer":g.Desc);var k=B(g,"Visi");if(k!=null)I.lW(k);
var _=B(g,"Opac");if(_!=null)I.opacity=Math.round(255*_);var D=B(g,"FOpc");if(D!=null)I.add.iOpa=Math.round(255*D);
var A=B(g,"Blnd");if(A!=null)I.Am=H(A);if(g.BFFl&&g.BFFl[0])Z.push(g.BFFl[0]);var F=G(o,g),K=d=="ShpN"||d=="PCrv";
if($){i.R.push(i.b2());I.add.lsct=c1.$I;if(I.Am=="norm")I.Am="pass";I.Xp=24;if(k!=null)I.lW(k);if(d=="ShpN"&&W==0){var V=g.ShpB;
I.b8(new io(V[0]+F.Kv,V[1]+F.d0,Math.round(F.G*(V[2]-V[0])),Math.round(F.tW*(V[3]-V[1]))));v[0]++;I.add.artb.Clr={t:"Objc",v:e.F.t1({$:255,B:255,J:255})};
var r=Z[0];for(var Y=0;Y<Z.length;Y++)if(Z[Y].FDeF._type!="FilN")r=Z[Y];if(r.FDeF._type=="FilS"){I.add.artb.Clr=a(r.FDeF.Colr);
I.add.artb.artboardBackgroundType.v=4}}var c=g.Shpe?g:null;if(c==null)c=g.DsMa&&g.DsMa.Shpe?g.DsMa:null;
if(c){var x=q(c);if(x.d.length!=7){I.add.vmsk=x;e.n.Gl(x.d,F);I.AA();I.vw(i)}}for(var Y=0;Y<$.length;
Y++)j($[Y],i,y,F,v,Z,W+1)}else if(d=="Rstr"||d=="ImgN"||d=="MRst"){var X=B(g,"Bitm"),M=X.Bckg,f=Date.now(),t;
if(M==null){t=U(X,y,v[1]);I.rect=t[2].clone();I.buffer=t[1].slice(0);I.rect.x+=F.Kv;I.rect.y+=F.d0}if(M||F.$K()!=1){var n,L=0,P=0;
if(M){var z=y[M.Data],T=J.qh(z,"ataD")+4,p=J.FZ(z,T);T+=4;n=z.slice(T,T+p)}else{L=I.rect.x-F.Kv;P=I.rect.y-F.d0;
if(t[3]==null)t[3]=new Uint8Array(aT.JR("PNG").kf([[I.buffer.buffer]],I.rect.j,I.rect._));n=t[3].slice(0)}var m=i._t(n,I.getName(),0,0);
m.Xp=I.Xp;m.opacity=I.opacity;I=m;var O=new eq;O.translate(L,P);O.concat(F);var cb=I.rect.clone();cb.x=cb.y=0;
var cX=e.N.Q0(cb).m;e.N.h(cX,O,cX);I.add.SoLd.Trnf=E.Y.Ll(cX);I.add.SoLd.nonAffineTransform=E.Y.Ll(cX);
I.gE(i,!1)}}else if(d=="TxtA"||d=="TxtF"){I.add.lnsr="rend";I.add.TySh=b_.V0(0,0);I.add.TySh.In=new io(0,0,100,100);
var e$=g.TxtH?g:g.DsMa,fz=e$.TxtH.FrmB,eC=1,hw=1,az=I.add.TySh.h=new eq,hP=0;az.translate(fz[0],fz[1]);
az.concat(F);if(d=="TxtF"){var av=Math.atan2(-az.J,az.G);az.rotate(-av);eC=az.G;hw=az.tW;az.tW=az.G=1;
az.rotate(av)}var ia=I.add.TySh.HZ,iJ=e$.StSt;if(iJ==null)iJ=e$.StMa.StSt;var cx=iJ.Blok;if(cx.length!=1)throw"e";
for(var iS=0;iS<cx.length;iS++){var e4=cx[iS],cc=hP,aO=0,bZ=e4.Glyp.Utf8;if(bZ==null)continue;bZ=bZ.replace(/\u2028/g,"\n");
bZ=bZ.replace(/\u2029/g,"\n");bZ=bZ.slice(0,bZ.length-1);if(bZ=="")continue;I.cb(bZ.slice(0,255));b_.ph(ia,hP,bZ);
hP+=bZ.length;var d_=e4.GAtt.Runs,ee=e4.PAtt.Runs[0],b4=ee.Item.Ints[0];for(var hA=0;hA<d_.length;hA++){var f$=d_[hA],e_=f$.Indx,fJ=f$.Item,dV=fJ.Objs,ix=b_.XN(ia,cc,1);
ix._P.Justification=b4==0?0:b4==1?2:1;b_.HC(ix,fJ.DFnt.Post);ix.bJ.FontSize=fJ.Doub[0];for(var Y=0;Y<dV.length;
Y++){var b9=dV[Y];if(b9._type=="FDsc"){var hV=b9.FDeF;if(hV._type=="FilS"){var gq=l(hV.Colr);ix.bJ.FillColor={Type:1,Values:[1,gq[0],gq[1],gq[2]]}}}}b_.V1(ia,cc+aO,cc+Math.min(e_,bZ.length),ix);
aO=e_}}b_.vj(ia,1);b_.A6(ia,[0,0,Math.round((fz[2]-fz[0])*eC*1.02),Math.round((fz[3]-fz[1])*hw*1.2)]);
i.rm=!0}else if(K){I.Xp|=16;var eH=I.add.vstk=dE.QA.Az(!0),x=I.add.vmsk=q(g);e.n.Gl(x.d,F);var r=Z[0];
for(var Y=0;Y<Z.length;Y++)if(Z[Y].FDeF._type!="FilN")r=Z[Y];if(r){var eP=r.FDeF,c2=eP._type;if(c2=="FilS")I.add.SoCo={classID:"null",Clr:a(eP.Colr)};
else if(c2=="FilG"){var bL=I.add.GdFl=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]);Q(r,bL,e.n.d4(x.d))}else if(c2=="FilN"){I.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}};
eH.fillEnabled.v=!1}else console.log(c2)}if(g.LILn){var dg=g.LILn[0].LDeL,cN=dg.Wght;if(cN!=0){eH.strokeEnabled.v=!0;
eH.strokeStyleLineWidth.v.val=cN;var eP=g.LIFl[0].FDeF,c2=eP._type;if(c2=="FilS")eH.strokeStyleContent.v.Clr=a(eP.Colr);
else if(c2=="FilN")eH.strokeEnabled.v=!1}}I.AA();I.vw(i)}else if(d=="RcRA"){var dH=g.AdjP,kM="hue2",a_=I.add[kM]=gY.Az(kM);
s(a_,dH)}else console.log(d);var g4=g.AdCh,iY=[];if(g4)for(var Y=0;Y<g4.length;Y++){var fa=g4[Y],ka=fa._type;
if(ka=="ShpN"||ka=="PCrv"){var x=I.add.vmsk=q(fa),b1=G(F,fa);e.n.Gl(x.d,b1);I.AA();I.vw(i)}else if(fa.AdjP){var dH=fa.AdjP,bg=dH._type;
console.log(bg);var cl={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[bg];
if(cl==null){console.log(dH);continue}var c0=gY.pY(cl,{});iY.push(c0);var a_=c0.v.Fltr.v;if(bg=="LevP"){var kL=b3.CC(a_,0);
kL[0]=dH.OutB*255;kL[1]=dH.OutW*255;b3.r8(a_,0,kL)}else if(bg=="WhBP"){var kL=b3.CC(a_,2);kL[4]=100+dH.WBTi*20;
b3.r8(a_,2,kL);var kL=b3.CC(a_,3);kL[4]=100+dH.WBTi*200;b3.r8(a_,3,kL)}else if(bg=="HSSP"){var kL=bV.CC(a_,0);
kL[0]=Math.round(dH.HueA*256);kL[1]=Math.round(dH.SatA*256);kL[2]=Math.round(dH.LumA*256);bV.r8(a_,0,kL)}else if(bg=="RecP"){s(a_,dH)}else if(bg=="B&CP"){a_.Brgh.v=Math.round(dH.Brig*100);
a_.Cntr.v=Math.round(dH.Ctrs*100-100)}else if(bg=="PosP"){a_.Lvls.v=dH.Post}else if(bg=="VibP"){a_.vibrance.v=dH.Vibr-100;
a_.Strt.v=Math.round(dH.Satu*100)}else if(bg=="ExpP"){a_.Exps.v=dH.Expo;a_.gammaCorrection.v=dH.Gamm/2.2}else if(bg=="ThrP"){a_.Lvl.v=Math.round(dH.Thre*255)}else if(bg=="CrvP"){var c_=dH.Mast["Cnt "],cA=dH.Mast.Vals,kL=hc.CC(a_,0),aw=kL[0];
for(var kq=0;kq<c_;kq++){var f4=kL[kq]=JSON.parse(JSON.stringify(aw));f4.v.Hrzn.v=Math.round(cA[kq]*255);
f4.v.Vrtc.v=Math.round(cA[4+kq]*255)}hc.r8(a_,0,kL)}}else console.log(fa)}if(iY.length!=0&&I.add.SoLd){I.add.SoLd.filterFX=gY.Aq();
i.RJ({id:I.add.SoLd.placed.v,rect:new io,buffer:e.U(1),u:new C.Tc});I.add.SoLd.filterFX.v.filterFXList.v=iY;
I.gE(i,!1)}var gF=g.FiEf;if(gF&&gF.length!=0){var fm=I.add.lmfx=JSON.parse(dE.default);for(var Y=0;Y<dE.order.length;
Y++)fm[dE.CM[Y]]={t:"VlLs",v:[]};for(var aP=0;aP<gF.length;aP++){var hh=gF[aP],gW=hh._type,cg={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[gW],bL=cg?JSON.parse(dE.Qy[dE.order.indexOf(cg)]):null,f0=1;
if(gW=="ColO"){bL.Clr=a(hh.Colr)}else if(gW=="GrdO"){Q(hh.GrFl,bL)}else if(gW=="Shad"||gW=="InnS"||gW=="OutG"||gW=="InnG"){bL.Clr=a(hh.Colr);
bL.blur.v.val=Math.round(hh.Radi);var hk=hh.Comp;if(hk!=null){if(hk>.5)f0=1-.5*(hk-.5);else bL.Ckmt.v.val=Math.round(100*(.5-hk))}if(hh.Offs!=null){bL.Dstn.v.val=hh.Offs;
bL.lagl.v.val=Math.round(180-hh.Angl*180/Math.PI);bL.uglg.v=!1}}else if(gW=="Strk"){if(hh.Ftyp==0)bL.Clr=a(hh.Colr);
else{Q(hh.GrFl,bL);bL.PntT.v.FrFl="GrFl"}bL.Sz.v.val=Math.round(hh.Radi)}else if(gW=="PhgB"||gW=="BevE"){bL.blur.v.val=Math.round(hh.Radi);
if(gW=="BevE")bL.bvlS.v.BESl="PlEb"}else if(gW=="Gaus"){if(K&&hh.Enab){I.add.vmsk._o=hh.Radi/2.4;I.add.vmsk.GD=!0;
I.AA();I.vw(i)}}if(cg){bL.enab.v=hh.Enab;if(bL.Md&&hh.BlnM!=null)bL.Md.v.BlnM=aq.Wz(H(hh.BlnM));if(bL.Opct&&hh.Opac!=null)bL.Opct.v.val=Math.round(f0*hh.Opac*100);
var aQ=dE.CM[dE.order.indexOf(cg)];fm[aQ].v.unshift({t:"Objc",v:bL})}}}if(g.BFFl&&g.BFFl[0])Z.pop();
i.R.push(I)}function s(g,i){g.Clrz.v=!0;var y=bV.CC(g,0);y[0]=Math.round(i.RecH*360);y[1]=Math.round(i.RecS*100);
y[2]=Math.round(i.RecL*100);bV.r8(g,0,y)}function q(g){var i=new C.cW,y=g._type;if(g.ShpB==null&&g.Crvs==null)g=g.DsMa;
if(y=="PCrv"){var o=g.Crvs.Data,v=[],Z=[];for(var Y=0;Y<o.length;Y++){var W=o[Y],d=W.length%3;if(d!=1){W=d==2?W[0][2]!=0?W.slice(0,W.length-1):W.slice(1):W.slice(1,W.length-1)}for(var $=0;
$<W.length;$++){var I=W[$],k=I[2];if(k!=0)v.push($==0?"M":"C");Z.push(I[0],I[1])}}i.d=e.N.zv({m:Z,Gc:v},!0)}else{var _=g.ShpB,D=g.Shpe,A=D._type,F=_[2]-_[0];
if(A=="ShpE"){i.d=e.n.NT.yT(_[0],_[1],_[2]-_[0],_[3]-_[1])}else if(A=="ShNR"){var K=[0,0,0,0];if(D.CTyp){K=D.ShCR.slice(0);
for(var Y=0;Y<4;Y++)K[Y]*=_[2]-_[0];for(var Y=1;Y<4;Y++)K[Y]=K[0]}i.d=e.n.NT.Rect(_[0],_[1],_[2]-_[0],_[3]-_[1],K)}else if(A=="ShpT"){i.d=e.N.zv({Gc:["M","L","L","Z"],m:[_[0],_[3],_[2],_[3],_[0]+F*.5,_[1]]},!0)}else if(A=="ShTz"){i.d=e.N.zv({Gc:["M","L","L","L","Z"],m:[_[0]+F*D.PosL,_[1],_[0]+F*D.PosR,_[1],_[2],_[3],_[0],_[3]]},!0)}else{console.log("--",A);
i.d=e.n.NT.Rect(_[0],_[1],_[2]-_[0],_[3]-_[1],[0,0,0,0])}}return i}function Q(g,i,y){var o=g.FDeF,v=g.FDeX;
if(v)v=h(v);var Z=o.Grad,W=Z.Cols;i.Type.v.GrdT=o.Type==0?"Lnr":"Rdl";var d=[];for(var Y=0;Y<W.length;
Y++){var $=l(W[Y]);d.push([Z.Posn[Y][0],$])}i.Grad.v.Intr.v=0;e.F.mg(d,i.Grad.v);var I=Z.Posn,k=new cJ(I[0][0],I[0][1]),_=new cJ(I[1][0],I[1][1]);
if(v){var D=new eq;if(y==null)D.translate(-.5,-.5);D.concat(v);if(y==null)D.translate(.5,.5);k=D.At(k);
_=D.At(_)}if(o.Type==0)k=new cJ((k.x+_.x)/2,(k.y+_.y)/2);e.F.wM(k,_,y?y:new io(0,0,1,1),i)}function a(g){var i=l(g);
return{t:"Objc",v:e.F.t1({$:i[0]*255,B:i[1]*255,J:i[2]*255})}}function l(g){var i=g._col,y=g._type;if(y=="HSLA"){var o=e.Jr(i[0],i[1],i[2]);
return[o.$,o.B,o.J,i[3]]}else if(y=="RGBA")return i;else if(y=="CMYK")return e.u8(i);else if(y=="GRAY")return[i[0],i[1],i[2]];
else if(y=="Pant")return g.srgb._col;else{console.log(i);throw y}}function U(g,i,y){var o=g.Frmt,V="";
if(o!=0&&o!=1&&o!=4&&o!=6)throw o;var v=g.BmpW,Z=g.BmpH,W=o==1?128:256,d=o==4?5:o==0||o==1?4:1,$=Math.ceil(v/W),I=Math.ceil(Z/256),k=new io(0,0,$,I),_=new io;
for(var Y=0;Y<d;Y++){var D=new Uint8Array(g["Sta"+(Y+1)]);for(var A=0;A<D.length;A++)if(D[A]==1)D[A]=0;
var F=e.VM(D,k);_=_.gJ(F)}var K=[];for(var Y=0;Y<d;Y++){var D=new Uint8Array(g["Sta"+(Y+1)]),r=e.U(_.X());
e.wX(D,k,r,_);K[Y]=[];for(var A=0;A<r.length;A++)K[Y][A]=r[A];V+=JSON.stringify(K[Y])+","+JSON.stringify(g["Idx"+(Y+1)])+","}if(y[V]==null){var c=_.j*W,x=_._*256,X=new Array(d);
for(var Y=0;Y<d;Y++){var D=X[Y]=new Uint8Array(c*x);N(D,g["Idx"+(Y+1)],K[Y],i,c,x,W)}var M=e.U(c*x*4);
if(o==0||o==1)e.bh({$:X[0],B:X[1],J:X[2],G:X[3]},M);else if(o==4){for(var Y=0;Y<X[0].length;Y++){var f=Y*4,t=X[0][Y]*(1/255),n=X[1][Y]*(1/255),L=X[2][Y]*(1/255),P=X[3][Y]*(1/255),z=UDOC.C.cmykToRgb([t,n,L,P]);
M[f]=z[0]*255;M[f+1]=z[1]*255;M[f+2]=z[2]*255;M[f+3]=X[4][Y]}}else{M.fill(255);e.YP(X[0],M)}var T=new io(0,0,c,x),p={buffer:M,rect:T};
e.yV(p);y[V]=[p.rect,p.buffer]}var F=y[V][2]=y[V][0].clone();F.x+=_.x*W;F.y+=_.y*256;return y[V]}function N(g,i,y,o,v,Z,W){var d=0,$=v>>>(W==256?8:7),I=Z>>>8;
for(var k=0;k<I;k++)for(var _=0;_<$;_++){var D=_*W,A=k*256,F=k*$+_,K=A*v+D,V=y[F];if(V<=1){}else if(V==2)R(g,K,255,v,W,256);
else if(V==4){var r=i[d];d++;var c=o[r.Data.DatI],x=r.Rect;if(x==null)x=[0,0,W,256];S(g,(A+x[1])*v+D+x[0],c,x[1]*W+x[0],v,W,x[2]-x[0],x[3]-x[1])}else console.log(V)}}function R(g,i,y,o,v,Z){var W=i+o*Z;
for(;i<W;i+=o){var d=i+v;for(var $=i;$<d;$++){g[$]=y}}}function S(g,i,y,o,v,Z,W,d){var $=i+v*d,I=o+Z*d;
for(;i<$&&o<I;i+=v,o+=Z){for(var Y=0;Y<W;Y++)g[i+Y]=y[o+Y]}}return b}();function jw(){}jw.wZ=function(b,h){var G=jw,H=ib.parse(b),j=0;
if(H.pages.length>1)console.log(H.pages.length,"pages");var B=[],s=new io;for(var q=0;q<H.pages.length;
q++){var Q=H.pages[q],a=Q.layers,l=G.MP(a,q),N=!1;if(l.X()>8e3*8e3||l.j>3e4||l._>3e4){G.a06(a,!0);var U=G.MP(a,q);
if(U.X()>=l.X())G.a06(a,!1)}l=G.MP(a,q);for(var R=0;R<a.length;R++){var S=a[R];if(G.FI(S)=="artboard")N=!0}if(!N){console.log("no artboard");
var g={};for(var i in Q)g[i]=Q[i];g._class="group";Q.layers=[g]}B.push(l.clone());if(l.Zx())continue;
l.x=0;l.y=j;j+=l._+200;s=s.gJ(l)}var y={};if(H.foreignSymbols)for(var Y=0;Y<H.foreignSymbols.length;
Y++){var o=H.foreignSymbols[Y].symbolMaster;y[o.symbolID]={eG:o}}G.aCg(H.pages,y,h);for(var v in y){var S=y[v].eG,Z=G.abS(S.layers)}var W=jw.Gz(s,8192*8192);
h.rm=!0;h.j=Math.round(s.j/W);h._=Math.round(s._/W);h.buffer=e.U(h.j*h._*4);h.LI(H.pages[0].layers.length);
h.DG={};h.bK=[];j=0;for(var q=0;q<H.pages.length;q++){var d=H.pages[q],l=B[q],$=new eq(W,0,0,W,l.x,l.y-j);
G.ce(d.layers,h,$,H,y,{},[]);j+=l._+200}delete h.DG;delete h.bK;if(W!=1)alert("File scaled down "+W+"x");
h.atw()};jw.aks=0;jw.FI=function(b){return b._class?b._class:b.$class};jw.Gz=function(b,h){var G=1;while(Math.round(b.j/G)*Math.round(b._/G)>h||Math.max(Math.round(b.j/G),Math.round(b._/G))>3e4)G++;
if(G!=1&&!window.confirm("Your image is quite large ("+b.j+" x "+b._+" px).\n"+"Press OK to scale it down "+G+"x, or Cancel to keep the size."))G=1;
return G};jw.MP=function(b,h){var G=[],H=jw;for(var B=0;B<b.length;B++){var j=b[B],s=H.b0(j.frame);if(h==0||H.FI(j)=="artboard")G.push(s)}return e.rect.Bw(G)};
jw.a06=function(b,h){var G=[],H=jw;for(var B=0;B<b.length;B++){var j=b[B],s=H.b0(j.frame);s.j+=150;s._+=150;
G.push(s)}var q=e.rect.Bw(G);e.rect.aic(G,h);var Q=e.rect.Bw(G);if(Q.X()*1.5<q.X()||q.j>3e4&&Q.j<=3e4||q._>3e4&&Q._<=3e4){alert("Re-arranging artboards");
for(var B=0;B<b.length;B++){var a=G[B],j=b[B],l=j.frame;l.x=a.x;l.y=a.y}}};jw.aCg=function(b,h,G){if(b==null)return;
var H=jw;for(var B=0;B<b.length;B++){var j=b[B],s=H.FI(j);if(["page","artboard","group"].indexOf(s)!=-1)H.aCg(j.layers,h,G);
else if(s=="symbolMaster")h[j.symbolID]={eG:j}}};jw.abS=function(b){var h=jw;for(var G=0;G<b.length;
G++){var H=b[G],B=h.FI(H),j=null;if(["page","artboard","group"].indexOf(B)!=-1)j=h.abS(H.layers);if(B=="symbolMaster"||B=="symbolInstance")j=H;
if(j!=null)return j}return null};jw.ce=function(b,h,G,H,B,j,s){if(b==null)return;var q=jw,Q=[];for(var a=0;
a<b.length;a++){var l=b[a],U=l.frame?q.b0(l.frame):null,N=l.style,y="",$=null,I=!1;if(N==null){console.log("no styles")}var R=q.a55(l,G),S=q.FI(l),g=S=="shapeGroup"||S=="shapePath"||S=="rectangle"||S=="oval"||S=="triangle"||S=="polygon",i=["page","artboard","group"].indexOf(S)!=-1;
if(S=="shapeGroup"){for(var Y=0;Y<l.layers.length;Y++)if(q.FI(l.layers[Y])=="shapeGroup")i=!0}var o=l.exportOptions;
if(o){var v=o.exportFormats;if(v==null)v=o.sizes;if(S!="artboard"&&(v&&v.length!=0)){var Z=v[0].scale}}var W=h.Cx();
W.lW(l.isVisible);var d=l.name;if(!(typeof d=="string"))d=S;W.cb(y+d.slice(0,250));if(N!=null)$=q.ayl(H,h,N,U,R,W.getName(),g||S=="artboard"||i);
if(S=="rectangle"&&N&&N.fills&&N.fills[0]){var k=N.fills[0];if(k.fillType==4&&k.patternFillType>1&&k.image!=null)I=!0}if(l.shouldBreakMaskChain){while(Q.length!=0)q.aed(Q.pop(),h)}if(i){W.add.lsct=l.layerListExpandedType==2?c1.$I:c1.N_;
W.Am="pass";W.Xp=24;W.lW(l.isVisible);h.R.push(h.b2());if(S=="artboard"){var _=U.clone(),D=R.$K();_.x=-Math.floor(R.Kv/D);
_.y=-Math.floor(R.d0/D);_.j=Math.floor(_.j/D);_._=Math.floor(_._/D);W.b8(_);var A=l.backgroundColor,F=A?{$:255*A.red,B:255*A.green,J:255*A.blue}:{$:255,B:255,J:255};
W.add.artb.Clr={t:"Objc",v:e.F.t1(F)};W.add.artb.artboardBackgroundType={t:"long",v:4}}q.ce(l.layers,h,R,H,B,j,s)}else if(g&&!I){var K=$!=null&&$.frameFXMulti.v.length==1;
W.add.vmsk=new C.cW;W.add.vstk=dE.QA.Az(!0,K);var V=N?N.fills:null,r=N?q.azH(H,V,U,R,W.getName(),h,q.a8(s,l.do_objectID+"_image")):[];
if(r.length==0){if(K)W.add.vstk.fillEnabled.v=!1;else W.add.iOpa=0;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}}}else{var c=r[0],x=null,X=null;
if(c.type=="SoFi"){x="SoCo";X=dE.L1}if(c.type=="GrFl"){x="GdFl";X=dE.WH}if(c.type=="patternFill"){x="PtFl";
X=dE.aa}if(x!=null){W.add[x]={classID:"null"};for(var Y=0;Y<X.length;Y++){var M=X[Y];W.add[x][M]=c.P.v[M]}var f=c.P.v.Opct.v.val;
if(K&&f==0)W.add.vstk.fillEnabled.v=!1;else W.add.iOpa=Math.round(255*f/100)}}W.Xp|=16;W.add.vmsk.d=q.Qq(l.layers?l.layers:[l],l.layers?R:G);
var t=N?N.blur:null;if(t&&t.isEnabled&&t.type<=1)W.add.vmsk._o=t.radius;if(W.add.vmsk.d.length==2){console.log("shape with no content:",W.getName())}if(K){var n=$.frameFXMulti.v[0].v,L=W.add.vstk,P=N.borders[0];
$.frameFXMulti.v=[];eQ.aCR(n,L);var z=N.borderOptions,T=N.miterLimit;if(z)dE.QA.write(L,{vB:z.lineCapStyle,VV:z.lineJoinStyle,t7:z.dashPattern,dE:T})}W.AA();
W.vw(h)}else if(S=="bitmap"||I){if(!I&&l.image==null)continue;var p=I?N.fills[0]:null,m=I?p.image.bdata:l.image.bdata,O=h._t(m,W.getName(),0,0);
O.Xp=W.Xp;W=O;var t=N?N.blur:null,cb=N?N.colorControls:null;if(t||cb){W.add.SoLd.filterFX=gY.Aq();h.RJ({id:W.add.SoLd.placed.v,rect:new io,buffer:e.U(1),u:new C.Tc});
var V=W.add.SoLd.filterFX.v.filterFXList.v;if(t){var cX=gY.pY("GsnB",{});cX.v.enab.v=t.isEnabled;cX.v.Fltr.v.Rds.v.val=t.radius;
V.push(cX)}if(cb){var e$=cb.brightness,fz=cb.contrast,eC=cb.hue,hw=cb.saturation;if(eC!=0||hw!=1){var cX=gY.pY("hue2",{});
cX.v.enab.v=cb.isEnabled;bV.r8(cX.v.Fltr.v,0,[Math.round(eC*180/Math.PI),Math.round((hw-1)*100),0]);
V.push(cX)}if(e$!=0||fz!=1){var cX=gY.pY("brit",{});cX.v.enab.v=cb.isEnabled;fz=fz-1;if(fz>0)fz/=2;var az=cX.v.Fltr.v;
az.Brgh.v=Math.round(e$*255);az.Cntr.v=Math.round(fz*255);az.useLegacy.v=!0;V.push(cX)}}}if(I){var av=p.patternFillType;
if(av==3){var ia=W.rect.j/W.rect._,iJ=U.j/U._;if(ia<iJ){R.translate(-(U.j*(1-ia/iJ))/2,0);R.scale(iJ/ia,1)}else{R.translate(0,-(U._*(1-iJ/ia))/2);
R.scale(1,ia/iJ)}}}U.x=U.y=0;var cx=e.N.Q0(U).m;R.Q6();e.N.h(cx,R,cx);W.add.SoLd.Trnf=E.Y.Ll(cx);W.add.SoLd.nonAffineTransform=E.Y.Ll(cx);
W.gE(h,!1)}else if(S=="text"){if(l.attributedString==null)continue;var hP=R.clone(),iS,e4,f$=0;hP.Q6();
hP.G=hP.tW=Math.min(hP.G,hP.tW);W.add.lnsr="rend";W.add.TySh=b_.V0(0,0);W.add.TySh.In=new io(0,0,U.j,U._);
W.add.TySh.h=hP;var aO=l.attributedString;if(aO.archivedAttributedString)aO=aO.archivedAttributedString;
var bZ=aO.NSString;if(bZ==null)bZ=aO.string;if(bZ==null)bZ="";if(bZ["NS.string"])bZ=bZ["NS.string"];
if(j[l.do_objectID]!=null)bZ=j[l.do_objectID];var d_=q.a8(s,l.do_objectID+"_stringValue");if(d_)bZ=d_.value;
if(aO.attributes!=null){iS=[];e4=[];var b4=aO.attributes;for(var Y=0;Y<b4.length;Y++){iS.push(b4[Y].length,Y);
e4.push(b4[Y].attributes)}}else if(aO.NSAttributeInfo==null){iS=[bZ.length,0];e4=[aO.NSAttributes]}else{iS=aO.NSAttributeInfo["NS.data"];
e4=aO.NSAttributes;iS=jw.ake(iS,e4)}for(var Y=0;Y<iS.length;Y+=2)f$+=iS[Y];if(f$!=bZ.length){while(f$>bZ.length){iS[iS.length-2]--;
f$--;if(iS[iS.length-2]==0){iS.pop();iS.pop()}}iS[iS.length-2]+=bZ.length-f$}bZ=bZ.replace(/\u2028/g,"\n");
bZ=bZ.replace(/\u2029/g,"\n");bZ=bZ.replace(/\r/g,"\n");var e_=W.add.TySh.HZ;b_.ph(e_,0,bZ);if(bZ!=""){var fJ=l.textBehaviour,dV=N.textStyle,ix=dV?dV.verticalAlignment:0,b9=q.a6F(e_,iS,e4,bZ),D=hP.$K(),hV=b_.XN(e_,0,1),eP=0;
if(hV.bJ.Font){var gq=hV.uh[hV.bJ.Font].Name;if(gq=="FontAwesome"||gq=="Ionicons")b9*=.87}var eH=hV.bJ.AutoLeading?0:hV.bJ.Leading*.6,c2=Math.max(b9,eH)*D,bL=U.j,dg=U._;
if(fJ==0){b_.vj(e_,0);var cN=b_.kg(hV._P);if(cN==1)eP=bL*D;if(cN==2)eP=bL*D*.5;if(ix==0)c2*=1;else c2*=.9}else{b_.vj(e_,1);
b_.A6(e_,[0,0,Math.round(bL),Math.round(dg)]);if(fJ==2&&ix==0)c2=c2*.2;else if(fJ==2&&ix==1){c2=D*.5*(dg-hV.bJ.FontSize)}else if(fJ==1&&ix==0)c2=c2*.2;
else c2=c2*.35}W.add.TySh.h.translate(eP,c2)}}else if(S=="symbolInstance"||S=="symbolMaster"){var dH=l.symbolID;
if(j[l.do_objectID])dH=j[l.do_objectID].symbolID;var kM=q.a8(s,l.do_objectID+"_symbolID");if(kM)dH=kM.value;
if(dH=="")continue;var a_={};for(var M in j)a_[M]=j[M];if(l.overrides)for(var M in l.overrides)a_[M]=l.overrides[M];
var g4=s.slice(0);if(l.overrideValues)g4=g4.concat(l.overrideValues);var iY=B[dH];if(iY==null){console.log("Unknown master master",l.symbolID);
continue}var fa=jw.b0(iY.eG.frame),ka=fa.j/U.j,b1=fa._/U._,bg=R.clone();bg.scale(ka,b1);W.add.lsct=c1.N_;
W.Am="pass";W.Xp=24;W.lW(l.isVisible);h.R.push(h.b2());var cl=iY.eG;if(h.bK.indexOf(cl)==-1){h.bK.push(cl);
q.ce(cl.layers,h,bg,H,B,a_,g4);h.bK.pop()}}else if(S=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+S,l);continue}if(N&&N.contextSettings){var c0=N.contextSettings,kL=c0.blendMode;
if(kL<q.MD.length){W.Am=aq.B5[aq.$$.indexOf(q.MD[kL])];if(i&&W.Am=="norm")W.Am="pass"}W.opacity=Math.round(W.opacity*c0.opacity)}if($!=null){W.add.lmfx=$}h.R.push(W);
if(l.hasClippingMask&&b.length>1){Q.push(W);h.R.push(h.b2())}}while(Q.length!=0)q.aed(Q.pop(),h)};jw.a8=function(b,h){for(var Y=0;
Y<b.length;Y++)if(b[Y].overrideName.startsWith(h))return b[Y]};jw.ake=function(b,h){var G=0,H=[];while(G+1<b.length){var B=b[G];
G++;if(B>127){B+=128*(b[G]-1);G++;if(b[G-1]>127){B+=128*(b[G]-1);G++}}var j=b[G];G++;H.push(B,j)}return H};
jw.a6F=function(b,h,G,H){var B=jw,j=0,l=0,U=0;for(var Y=0;Y<H.length;Y++){var s=H.charCodeAt(Y),q=1473<=s&&s<=1479||1488<=s&&s<=1514||1520<=s&&s<=1524,Q=1569<=s&&s<=1594||1600<=s&&s<=1749;
if(q||Q)j++}var a=j>H.length/2;for(var Y=0;Y<h.length;Y+=2){var N=h[Y],W=14,d="DejaVuSans";if(N==0)continue;
var R=h[Y+1],S=G[R],g=b_.XN(b,l,l+N-1),i=S.NSColor;if(i==null){var i=S.MSAttributedStringColorDictionaryAttribute;
if(i==null)i=S.MSAttributedStringColorAttribute;if(i==null)i="0 0 0";else i=[i.red,i.green,i.blue].join(" ")}else if(B.FI(i)=="MSArchivedColor")i=i.dr+" "+i.dg+" "+i.db;
else if(i.NSRGB){i=i.NSRGB;i=J.lA(i,0,i.length-1)}else if(i.NSCMYK){i=i.NSCMYK;i=J.lA(i,0,i.length-1);
i=i.split(" ").map(parseFloat);var y=1-i[0],o=1-i[1],v=1-i[2],Z=1-i[3];i=y*Z+" "+o*Z+" "+v*Z}else if(i.NSWhite){i="1 1 1"}i=i.split(" ");
g.bJ.FillColor={Type:1,Values:[1,parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2])]};var $=S.MSAttributedStringFontAttribute;
if(S.NSFont){W=S.NSFont.NSSize;d=S.NSFont.NSName}else if($){if($.attributes){$=$.attributes;W=$.size;
d=$.name}else{var I=$.NSFontDescriptorAttributes;if(I==null)I=$.UIFontDescriptorAttributes;$=I;W=$.NSFontSizeAttribute;
d=$.NSFontNameAttribute}if(d==null)d="DejaVuSans"}var U=Math.max(U,W);g.bJ.FontSize=Math.round(W);b_.HC(g,d);
var k=S.NSKern;if(k==null)k=S.kerning;if(k!=null)g.bJ.Tracking=Math.round(1e3*k/W);if(S.NSUnderline!=null)g.bJ.Underline=S.NSUnderline>0;
var _=S.NSStrikethrough;if(_==null)_=S.strikethroughStyle;if(_!=null)g.bJ.Strikethrough=_>0;if(S.MSAttributedStringTextTransformAttribute==1)g.bJ.FontCaps=2;
var D=S.NSParagraphStyle;if(D==null)D=S.paragraphStyle;if(D){var A=D.paragraphSpacing;if(A!=null){g._P.SpaceAfter=A}var F=D.NSAlignment;
if(F==null)F=D.alignment;if(F!=null){var K=0;if(!1){}else if(F==1)K=1;else if(F==2)K=2;else if(F==4)K=0;
else{K=F;console.log("unknown align",F)}if(a&&K<2)K=1-K;g._P.Justification=K}var V=D.NSMinLineHeight;
if(V==null)V=D.minimumLineHeight;if(V!=null){g.bJ.AutoLeading=!1;g.bJ.Leading=V}}g._P._Direction=a?1:0;
b_.V1(b,l,l+N,g);l+=N}return U};jw.ayl=function(b,h,G,H,B,j,s){var q=jw,Q=JSON.parse(dE.default),a=!1;
for(var Y=0;Y<dE.order.length;Y++)Q[dE.CM[Y]]={t:"VlLs",v:[]};var l=G.fills,U=q.azH(b,l,H,B,j,h);for(var N=0;
N<2;N++){var R=G[["shadows","innerShadows"][N]];if(R==null)continue;var S=["DrSh","IrSh"][N],g=dE.CM[dE.order.indexOf(S)];
for(var Y=0;Y<R.length;Y++){var i=R[Y];if(!i.isEnabled)continue;var y=i.contextSettings;if(y&&y.opacity==0||i.color.alpha==0)continue;
var o=JSON.parse(dE.Qy[dE.order.indexOf(S)]);Q[g].v.unshift({t:"Objc",v:o});a=!0;o.Clr.v=q.ur(i.color);
o.blur.v.val=Math.round(i.blurRadius/B.$K());var v=B.clone();v.Kv=v.d0=0;v.Q6();var Z=v.At(new cJ(i.offsetX,i.offsetY)),W=Math.sqrt(Z.x*Z.x+Z.y*Z.y);
o.Dstn.v.val=Math.round(W);o.lagl.v.val=Math.round(Math.atan2(Z.y,-Z.x)*(180/Math.PI));if(o.layerConceals)o.layerConceals.v=U.length!=0;
q.Fm(i,o)}}var d=G.borders;if(d!=null&&(U.length==0||G.blur==null||!G.blur.isEnabled))for(var Y=0;Y<d.length;
Y++){var $=d[Y];if(!$.isEnabled)continue;var o=JSON.parse(dE.Qy[dE.order.indexOf("FrFX")]),g=dE.CM[dE.order.indexOf("FrFX")];
Q[g].v.unshift({t:"Objc",v:o});a=!0;o.Clr.v=q.ur($.color);if($.fillType!=0&&$.gradient){var I=q.awY($.gradient,H,B,j),k=["Type","Angl","Ofst","Scl"];
for(var Y=0;Y<k.length;Y++)o[k[Y]]=I[k[Y]];o.Grad.v=I.Grad.v;o.PntT.v.FrFl="GrFl"}o.Sz.v.val=Math.round($.thickness/B.$K());
o.Styl.v.FStl=["CtrF","InsF","OutF"][$.position];q.Fm($,o)}for(var Y=s?1:0;Y<U.length;Y++){var _=U[Y],g=dE.CM[dE.order.indexOf(_.type)];
Q[g].v.unshift(_.P);a=!0}return a?Q:null};jw.azH=function(b,h,G,H,B,j,s){if(h==null)return[];var q=jw,Q=[];
for(var Y=0;Y<h.length;Y++)if(h[Y].isEnabled)Q.push(h[Y]);h=Q;var a=[];for(var Y=0;Y<h.length;Y++){var l=h[Y],U=null,N=null;
if(l.fillType==0){U="SoFi";var R=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);N={t:"Objc",v:R};N.v.Clr.v=q.ur(l.color)}else if(l.fillType==1){U="GrFl";
N={t:"Objc",v:q.awY(l.gradient,G,H,B)}}else if(l.fillType==4&&l.image!=null){var S=l.image;if(s)S=s.value;
var g=aT.ni(S.bdata.buffer);if(g=="fpng")g="png";if(g!=null&&g!="pdf"&&g!="eps"){var i,W=0,d=0,$=0;if(j.DG[S.key])i=j.DG[S.key];
else{var y={data:new ArrayBuffer(4),jD:new io(0,0,1,1)};try{y=aT.JR(g).ho(S.bdata)[0]}catch(ku){}i={};
i.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";i.name="someImage";i.yr=[new Uint8Array(y.data),y.jD];j.lN(i);
j.DG[S.key]=i}var o=i.yr[1],R=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]);U="patternFill";N={t:"Objc",v:R};
var v=l.patternFillType,Z=l.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=i.id;if(v==0){W=Z*o.j/Math.min(o.j,o._);
d=-H.Kv;$=-H.d0}else{W=Math.max(G.j/o.j,G._/o._);d=-H.Kv-(o.j*W-G.j)/2;$=-H.d0-(o._*W-G._)/2}R.Scl.v.val=100*W*(1/H.$K());
R.phase.v.Hrzn.v=Math.round(d/H.$K());R.phase.v.Vrtc.v=Math.round($/H.$K())}}else if(l.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",l.fillType);
if(U!=null){q.Fm(l,N.v);a.push({type:U,P:N})}}return a};jw.aDx=function(b){var h=jw,G=new io(0,0,1,1);
b=b.slice(0);while(!0){var H=!1;for(var Y=0;Y<b.length-1;Y++){var B=b[Y],j=b[Y+1],s=null,q=B.contextSettings;
if(B.fillType==0&&(q==null||q.opacity==1&&q.blendMode==0)&&B.color.alpha==1){var Q="norm",a=1,q=j.contextSettings;
if(q){a=q.opacity;Q=aq.ah(h.MD[q.blendMode])}if(j.fillType==0){s=JSON.parse(JSON.stringify(j));h.amv(s.color,B.color,s.color,G,Q,a)}if(j.fillType==1){s=JSON.parse(JSON.stringify(j));
var l=s.gradient.stops;for(var U=0;U<l.length;U++)h.amv(l[U].color,B.color,l[U].color,G,Q,a)}if(s!=null&&s.contextSettings){var q=s.contextSettings;
q.opacity=1;q.blendMode=0}}if(s!=null){b.splice(Y,0,s);H=!0;break}}if(!H||b.length<2)break}return b};
jw.amv=function(b,h,G,H,B,j){var s=jw,q=e.U(4);s.aha(b,q);var Q=e.U(4);s.aha(h,Q);e.z.Nm(B,q,H,Q,H,H,j);
s.arC(Q,G)};jw.aha=function(b,h){h[0]=255*b.red;h[1]=255*b.green;h[2]=255*b.blue;h[3]=255*b.alpha};jw.arC=function(b,h){h.red=b[0]/255;
h.green=b[1]/255;h.blue=b[2]/255;h.alpha=b[3]/255};jw.aed=function(b,h){b=b.clone();b.Xp=24;b.cb("Mask by "+b.getName());
h.R.push(b);b.add.lsct=c1.$I;b.add.lyid=h.RO();delete b.add.lmfx;delete b.add.SoCo;delete b.add.GdFl;
delete b.add.PtFl;delete b.add.iOpa;if(b.add.vmsk)b.add.vmsk.GD=!0;b.AA();b.vw(h);if((b.Xp&16)==16)b.Xp-=16;
if((b.Xp&2)==2)b.Xp-=2;b.Am="pass";b.opacity=255};jw.MD="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
jw.awY=function(b,h,G,H){G=G.clone();G.Q6();G.Kv=G.d0=0;var B=G.$K(),N=0,R=0;G.scale(1/B,1/B);var j=jw,s=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),q=s.Grad.v;
q.Intr.v=0;if(b==null)return s;var Q=b.gradientType,a=j.Fb(b.from),l=j.Fb(b.to);a.offset(-.5,-.5);l.offset(-.5,-.5);
a=G.At(a);l=G.At(l);var U=Math.atan2(-(l.y-a.y),l.x-a.x);s.Type.v.GrdT=["Lnr","Rdl","Angl"][Q];s.Scl.v.val=100*cJ.o0(a,l);
if(Q==0){s.Angl.v.val=180/Math.PI*U;s.Scl.v.val=100*cJ.o0(a,l);N=(a.x+l.x)/2;R=(a.y+l.y)/2}if(Q==1){s.Scl.v.val=200*cJ.o0(a,l);
N=a.x;R=a.y}if(Q==2){s.Angl.v.val=180/Math.PI*(U-Math.PI/2)}var S=s.Ofst.v;S.Hrzn.v.val=N*100;S.Vrtc.v.val=R*100;
var g=[];for(var Y=0;Y<b.stops.length;Y++){var i=b.stops[Y],y=i.color;g.push([i.position,y?[y.red,y.green,y.blue]:[0,0,0],y.alpha])}e.F.mg(g,q);
return s};jw.Fm=function(b,h){var G=jw,H=1,B=b.contextSettings;if(B!=null){h.Md.v.BlnM=G.MD[B.blendMode];
H*=B.opacity}else h.Md.v.BlnM=G.MD[0];h.enab.v=b.isEnabled;if(h.uglg!=null)h.uglg.v=!1;if(b.color!=null)H*=b.color.alpha;
h.Opct.v.val=Math.round(H*100)};jw.ur=function(b){return e.F.t1(b?{$:b.red*255,B:b.green*255,J:b.blue*255}:{$:0,B:0,J:0})};
jw.Qq=function(b,h){var G=jw,H=[{type:6},{type:8,all:0}];for(var B=0;B<b.length;B++){var j=b[B],s=j.booleanOperation,q=0,Q=j._class,S=!1;
if(Q=="group"||Q=="text"||Q=="symbolInstance"||Q=="slice"){console.log(Q+" inside ShapeGroup");continue}if(s==-1)q=0;
else if(s==0)q=1;else if(s==1)q=2;else if(s==2)q=3;else if(s==3)q=0;if(B==0)q=1;var a=jw.b0(j.frame),l=G.a55(j,h),U=j.path?j.path:j,N=[{type:0,length:0,Vj:q,ts:2,$V:0,$S:0}],R=U.points;
for(var Y=0;Y<R.length;Y++){var g=R[Y],i=G.Fb(g.curveTo),y=G.Fb(g.point),o=G.Fb(g.curveFrom);S=S||g.hasCurveFrom&&!o.TW(y)||g.hasCurveTo&&!i.TW(y)}var v=[];
if(!S){var Z=[],g1=R.length;if(g1==0)continue;for(var Y=0;Y<g1;Y++){v[Y]=R[Y].cornerRadius;var g=G.Fb(R[Y].point);
Z.push(g.x,g.y)}l.scale(1/a.j,1/a._);l.Q6();e.N.h(Z,l,Z);N=e.n.NT.uq(Z,v).slice(2);N[0].Vj=q}else{var W=R.length;
N[0].length=W;for(var Y=0;Y<W;Y++){var g=R[Y],d=g.curveMode,$=G.Fb(g.point);N[1+Y]={type:d==2||d==4?1:2,o$:g.hasCurveTo?G.Fb(g.curveTo):$.clone(),v:$,PY:g.hasCurveFrom?G.Fb(g.curveFrom):$.clone()}}l.scale(1/a.j,1/a._);
l.Q6();e.n.Gl(N,l);var v=[];for(var Y=0;Y<W;Y++){var g=R[Y],d=g.curveMode,I=g.cornerRadius;if(d==1&&I!=0)v.push(I);
else v.push(0)}}if(!U.isClosed)for(var Y=0;Y<N.length;Y++)N[Y].type+=3;H=H.concat(N);var k=G.FI(j);if(l.J==0&&l.YW==0){var _=l.Kv,D=l.d0,A=_+l.G,F=D+l.tW,K=[_,D,A,F]}}return H};
jw.a55=function(b,h){var G=h.clone(),H=b.frame?jw.b0(b.frame):null;if(H)G.translate(-H.x-H.j/2,-H.y-H._/2);
if(b.isFlippedHorizontal)G.scale(-1,1);if(b.isFlippedVertical)G.scale(1,-1);G.rotate(-b.rotation*(Math.PI/180));
if(H)G.translate(H.j/2,H._/2);return G};jw.Fb=function(b){b=b.slice(1,b.length-1).split(",");return new cJ(parseFloat(b[0]),parseFloat(b[1]))};
jw.b0=function(b){return new io(b.x,b.y,b.width,b.height)};jw.aCH=function(b){return{_class:"rect",constrainProportions:!1,x:b.x,y:b.y,width:b.j,height:b._}};
function i6(){}i6.wZ=function(b,h){var G=Date.now(),H=i6,B=UZIP.parse(b),j=JSON.parse(J.S2(B.manifest)),s=JSON.parse(J.S2(B["resources/graphics/graphicContent.agc"])).resources,q=[],Q=[],a=j.children;
for(var Y=0;Y<a.length;Y++){var l=a[Y];if(l.name=="artwork"){var U=l.children;for(var N=0;N<U.length;
N++){var R=U[N],S=JSON.parse(J.S2(B["artwork/"+R.path+"/graphics/graphicContent.agc"])),g=S.children;
if(g.length==0){}else if(g.length==1){if(R["uxdesign#bounds"]){R._node=g[0];q.push(R)}}else{var i=g[0],y=i.transform,o=i.shape;
if(o==null)o={x:0,y:0,width:1e3,height:1e3};if(o.type=="path"){var v=e.N.sm(Typr.U.SVGToPath(o.path).crds);
o={x:v.x,y:v.y,width:v.j,height:v._}}o=JSON.parse(JSON.stringify(o));if(y){o.x+=y.tx;o.y+=y.ty}R["uxdesign#bounds"]=o;
R._node={type:"artboard",artboard:{children:g}};Q.push(R)}}}}if(q.length==0)q=Q;var Z=[],W=new io;for(var Y=0;
Y<q.length;Y++){var R=q[Y],d=jw.b0(R["uxdesign#bounds"]);Z.push(d);W=W.gJ(d)}var $=jw.Gz(W,8192*8192);
h.rm=!0;h.j=Math.round(W.j/$);h._=Math.round(W._/$);h.buffer=e.U(h.j*h._*4);h.LI(q.length);var I=new eq($,0,0,$,W.x,W.y);
h.DG={};for(var Y=0;Y<q.length;Y++){var R=q[Y],d=jw.b0(R["uxdesign#bounds"]),k=R._node,_=I.clone(),D=d.clone(),A=_.$K();
_.translate(-d.x,-d.y);D.x=-Math.floor(_.Kv/A);D.y=-Math.floor(_.d0/A);D.j=Math.floor(D.j/A);D._=Math.floor(D._/A);
_.translate(d.x,d.y);i6.qg(k,h,_,s,B,D);var F=h.R[h.R.length-1];F.cb(R.name);F.b8(D);if(Y!=q.length-1)F.add.lsct=c1.N_}delete h.DG};
i6.D$=function(b){if(b==null)return new eq;return new eq(b.a,b.b,b.c,b.d,b.tx,b.ty)};i6.qg=function(b,h,G,H,B,j){var s=i6,q=b.type,Q=b[q],a=b.style,l=s.D$(b.transform),S,g="none",i,y="none",o,v;
l.Q6();var U=G.clone();U.concat(l);var N=h.Cx(),R=b.name;N.cb(R?R.slice(0,250):"Layer");if(b.visible!=null)N.lW(b.visible);
if(a){S=a.stroke;g=S?S.type:"none";i=a.fill;y=i?i.type:"none";if(i&&Object.keys(i).length==1)y="none";
o=a.filters;v=a.clipPath;if(v&&H.clipPaths[v.ref])v=H.clipPaths[v.ref].children;else v=null;if(a.opacity!=null)N.opacity=Math.round(255*a.opacity);
if(y=="solid"&&i.color.alpha)N.opacity=Math.round(N.opacity*i.color.alpha);if(o){N.add.lmfx=s.ag1(o);
for(var Y=0;Y<o.length;Y++)if(o[Y].type=="uxdesign#blur"){var Z=o[Y],W=Z.params,d=W.brightnessAmount;
if(d==null)d=0;d=Math.abs(d/100);if((Z.visible==null||Z.visible==!0)&&W.backgroundEffect)N.opacity=Math.round(N.opacity*(d+(1-d)*W.fillOpacity))}}if(y=="pattern"&&i.pattern.meta.ux.uid=="")y="none"}if(v==null&&b.meta&&b.meta.ux&&b.meta.ux.clipPathResources)v=b.meta.ux.clipPathResources.children;
if(q=="artboard"||q=="group"){if(v){var $=v[0],I=$.shape,k=I!=null&&I.type=="rect"&&I.width*I.height>4e6;
if($.type!="text"&&!k){if(I){var l=s.D$($.transform);l.Q6();var _=U.clone();_.concat(l);N.add.vmsk=new C.cW;
N.add.vmsk.d=s.Qq(I);_=_.clone();_.Q6();e.n.Gl(N.add.vmsk.d,_);N.AA();N.vw(h)}}else if(!k)alert("Clipping by text has been ignored")}N.add.lsct=c1.$I;
N.Am="pass";N.Xp=24;if(b.visible!=null)N.lW(b.visible);h.R.push(h.b2());var D=Q.children,A=i;if(A)A=A.color;
if(A)A=A.value;if(i){if(q=="artboard"&&y=="solid"){N.b8(new io(0,0,10,10));N.add.artb.Clr={t:"Objc",v:e.F.t1({$:A.r,B:A.g,J:A.b})};
N.add.artb.artboardBackgroundType={t:"long",v:4}}else{var F=h.Cx();F.cb("BACKGROUND");F.Xp|=16;F.add.vstk=dE.QA.Az();
F.add.vmsk=new C.cW;F.add.vmsk.d=s.Qq({type:"rect",x:j.x,y:j.y,width:j.j,height:j._});s.BY(i,y,U,j,j,F,h,H,B);
F.AA();F.vw(h);h.R.push(F)}}for(var Y=0;Y<D.length;Y++){i6.qg(D[Y],h,U,H,B,j)}}else if(q=="shape"&&(Q.type=="rect"&&(Q.r==null||Q.r==0)||Q.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(Q.path)))&&y=="pattern"&&(Math.abs(Q.width/Q.height-i.pattern.width/i.pattern.height)<.01||a.fill.pattern.meta.ux.scaleBehavior=="fill")){var K=i.pattern,V=K.meta.ux,r=V.uid,c=B["resources/"+r];
if(c==null){console.log(K);return}var x=h._t(c,N.getName(),0,0);x.Xp=N.Xp;x.opacity=N.opacity;N=x;var X=e.n.d4(s.Qq(Q),null),M=e.N.Q0(new io(0,0,K.width,K.height)).m,f=new eq;
f.scale(K.width/X.j,K.height/X._);if(V.offsetX)f.translate(-V.offsetX*K.width,0);if(V.offsetY)f.translate(0,-V.offsetY*K.height);
U.concat(f);U.Q6();e.N.h(M,U,M);N.add.SoLd.Trnf=E.Y.Ll(M);N.add.SoLd.nonAffineTransform=E.Y.Ll(M);N.gE(h,!1)}else if(q=="shape"){N.Xp|=16;
N.add.vstk=dE.QA.Az();N.add.vmsk=new C.cW;N.add.vmsk.d=s.Qq(Q);var X=e.n.d4(N.add.vmsk.d,null),_=U.clone();
_.Q6();e.n.Gl(N.add.vmsk.d,_);var t=e.n.d4(N.add.vmsk.d,null);if(g=="none"){}else{var n=S.color.value,L,P;
L="SoFi";var z=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);P={t:"Objc",v:z};P.v.Clr.v=e.F.t1({$:n.r,B:n.g,J:n.b});
var T=S.align,p=S.cap;if(T==null)T="center";var m=N.add.vstk;m.strokeEnabled.v=!0;m.strokeStyleLineWidth.v.val=S.width;
if(T)m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[["inside","center","outside"].indexOf(T)];
if(p)m.strokeStyleLineCapType.v.strokeStyleLineCapType=dE.QA.L7[["butt","round","square"].indexOf(p)];
var O=["SoFi","GrFl","patternFill"].indexOf(L),cb=[dE.L1,dE.WH,dE.aa][O];m.strokeStyleContent.v={classID:dE.QA.kR[0]};
var cX=m.strokeStyleContent.v={classID:dE.QA.kR[O]};for(var Y=0;Y<cb.length;Y++)cX[cb[Y]]=P.v[cb[Y]]}if(o)for(var Y=0;
Y<o.length;Y++)if(o[Y].type=="uxdesign#blur"&&o[Y].visible){var e$=o[Y];N.add.vmsk._o=e$.params.blurAmount}s.BY(i,y,U,X,t,N,h,H,B);
N.AA();N.vw(h)}else if(q=="text"&&b.text){var fz=b.text,eC=fz.frame,az=a.font,av=a.textAttributes,l=U.clone(),aO=0;
l.Q6();N.add.lnsr="rend";N.add.TySh=b_.V0(0,0);N.add.TySh.In=new io(0,0,100,100);N.add.TySh.h=l;var iJ=N.add.TySh.HZ,cx=fz.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
b_.ph(iJ,0,cx);if(cx!=""){var hP=b_.XN(iJ,0,1),iS=az.postscriptName;if(iS==null)iS=az.family;b_.HC(hP,iS);
hP.bJ.FontSize=Math.round(az.size);if(y=="solid"){var n=i.color.value;hP.bJ.FillColor={Type:1,Values:[1,n.r/255,n.g/255,n.b/255]}}if(av){if(av.paragraphAlign)hP._P.Justification=["left","right","center"].indexOf(av.paragraphAlign);
if(av.letterSpacing)hP.bJ.Tracking=Math.round(av.letterSpacing);if(av.lineHeight){hP.bJ.AutoLeading=!1;
hP.bJ.Leading=Math.round(av.lineHeight)}}b_.V1(iJ,0,cx.length,hP)}var e4=b.meta.ux.rangedStyles;if(e4)for(var Y=0;
Y<e4.length;Y++){var Q=e4[Y],bZ=Math.min(Q.length,cx.length-aO);if(Y==e4.length-1)bZ=cx.length-aO;var hP=b_.XN(iJ,aO,aO+bZ),iS=Q.postscriptName;
if(iS==null)iS=Q.family;if(iS!=null)b_.HC(hP,iS);var d_=Q.textScript,ee=Q.underline,b4=Q.fontSize,Z=Q.fill,hA=Q.textTransform;
if(d_&&d_!="none")hP.bJ.FontBaseline=d_=="superscript"?1:2;if(ee!=null)hP.bJ.Underline=ee;if(b4!=null)hP.bJ.FontSize=Math.round(b4);
if(hA!=null)hP.bJ.FontCaps=hA=="uppercase"?2:0;if(hA=="lowercase"){b_.Dj(iJ,aO,aO+bZ);b_.ph(iJ,aO,cx.slice(aO,aO+bZ).toLowerCase())}if(Z!=null){var f$=Z.value;
hP.bJ.FillColor={Type:1,Values:[1,(f$>>>16&255)/255,(f$>>>8&255)/255,(f$>>>0&255)/255]}}b_.V1(iJ,aO,aO+bZ,hP);
aO+=bZ}if(eC.type=="area"||eC.type=="autoHeight"){var e_=eC.width,fJ=eC.height;b_.vj(iJ,1);b_.A6(iJ,[0,0,e_,fJ!=null?fJ:e_*2])}}else if(q=="syncRef"){var dV=b.syncSourceGuid,ix=H.meta.ux.symbols,b9=s.VI(ix,dV);
if(b9){var hV=U.clone();hV.concat(s.D$(b9.transform));i6.qg(b9,h,hV,H,B,j)}return}else console.log(q,b);
h.R.push(N)};i6.VI=function(b,h){for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G.group;if(G.id==h)return G;
if(H){var B=i6.VI(H.children,h);if(B)return B}}return null};i6.Qq=function(b){var h=b.type,G=[{type:6},{type:8,all:0}];
if(h=="rect"){var H=b.r,B=b.x,j=b.y,s=b.width,q=b.height;G=e.n.NT.Rect(B,j,s,q,H?H:0)}else if(h=="circle"){var H=b.r;
G=e.n.NT.yT(b.cx-H,b.cy-H,2*H,2*H)}else if(h=="ellipse"){var Q=b.rx,a=b.ry;G=e.n.NT.yT(b.cx-Q,b.cy-a,2*Q,2*a)}else if(h=="path"||h=="compound"){var l=Typr.U.SVGToPath(b.path);
G=e.N.zv({Gc:l.cmds,m:l.crds},!1)}else if(h=="line"){var U=b.x1,N=b.x2,R=b.y1,S=b.y2;G=e.n.NT.uq([U,R,N,S],0,!0)}else if(h=="polygon"){var g=b.points,i=[];
for(var Y=0;Y<g.length;Y++)i.push(g[Y].x,g[Y].y);G=G.concat(e.n.NT.uq(i,0,!1).slice(2))}else console.log(h,b);
return G};i6.ag1=function(b){var h=JSON.parse(dE.default);for(var Y=0;Y<dE.order.length;Y++)h[dE.CM[Y]]={t:"VlLs",v:[]};
for(var Y=0;Y<b.length;Y++){var G=b[Y],H=G.type,B=G.params,j=G.visible;if(H=="dropShadow"){var s=dE.CM[dE.order.indexOf("DrSh")],q=JSON.parse(dE.Qy[dE.order.indexOf("DrSh")]);
h[s].v.unshift({t:"Objc",v:q});var Q=B.dropShadows;if(Q.length!=1)throw"e";var a=Q[0],l=a.color,U=l.value,N=a.dx,R=a.dy;
q.Clr.v=e.F.t1({$:U.r,B:U.g,J:U.b});q.Opct.v.val=Math.round((l.alpha!=null?l.alpha:1)*100);q.uglg.v=!1;
q.enab.v=j!=null?j:!0;q.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-N));q.Dstn.v.val=Math.round(Math.sqrt(N*N+R*R));
q.blur.v.val=Math.round(a.r*2.3)}}return h};i6.BY=function(b,h,G,H,B,j,s,q,Q){var a=i6;j.add.vstk.fillEnabled.v=h!="none";
if(h=="none"){j.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}}}else{var l,U,N;if(h=="solid"){var R=b.color.value;
l="SoCo";U=dE.L1;var S=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);N={t:"Objc",v:S};N.v.Clr.v=e.F.t1({$:R.r,B:R.g,J:R.b})}else if(h=="gradient"){l="GdFl";
U=dE.WH;var S=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),g=S.Grad.v,Z,W,d;g.Intr.v=0;var i=b[h],y=i.ref?q.gradients[i.ref]:i.meta.ux.gradientResources,o=["linear","radial","angular"].indexOf(y.type),v=y.stops;
S.Type.v.GrdT=["Lnr","Rdl","Angl"][o];if(o==0){var Z=new cJ(i.x1,i.y1),W=new cJ(i.x2,i.y2);Z.x=W.x+.5*(Z.x-W.x);
Z.y=W.y+.5*(Z.y-W.y)}else{var Z=new cJ(i.cx,i.cy),W=new cJ(i.cx+i.r,i.cy)}d=B;if(i.units=="objectBoundingBox"){var $=new eq(H.j,0,0,H._,H.x,H.y);
Z=$.At(Z);W=$.At(W)}var $=a.D$(i.transform);Z=$.At(Z);W=$.At(W);$=G.clone();$.Q6();Z=$.At(Z);W=$.At(W);
e.F.wM(Z,W,d,S);var I=[];for(var Y=0;Y<v.length;Y++){var k=v[Y],_=k.color,R=_.value,D=_.alpha;if(D==null)D=1;
I.push([k.offset,[R.r/255,R.g/255,R.b/255],D])}e.F.mg(I,g);N={t:"Objc",v:S}}else if(h=="pattern"){l="PtFl";
U=dE.aa;var S=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]),M;N={t:"Objc",v:S};var A=b[h],F=A.meta.ux,K=F.uid,V=Q["resources/"+K].buffer,r=F.flipX,c=F.flipY,x=K+r+c,X=aT.ni(V);
if(s.DG[x])M=s.DG[x];else{var f=new io(0,0,A.width,A.height),t;if(f.Zx()||X==null){f=new io(0,0,1,1);
t=new ArrayBuffer(4)}else{var n=aT.JR(X);if(n.hE){var L=new cj;n.ho(V,L);t=L.Nw().buffer}else{try{var P=n.ho(V)[0];
t=P.data;f=P.jD}catch(ku){t=new ArrayBuffer(f.X()*4)}}}M={};M.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";
M.name="someImage";M.yr=[new Uint8Array(t),f];if(r)e.t.jt(M.yr[0].slice(0),M.yr[0],f.j,f._);if(c)e.t.a3N(M.yr[0].slice(0),M.yr[0],f.j,f._);
s.lN(M);s.DG[x]=M}var z=G.clone();z.Q6();z.translate(H.x,H.y);var T=H.j,p=H._,m=M.yr[1].j,O=M.yr[1]._,cb=Math.max(T/m,p/O);
if(F.scale)cb*=F.scale;var cX=new eq;cX.translate(-m/2,-O/2);cX.scale(1/m,1/O);if(F.offsetX!=null)cX.translate(F.offsetX,F.offsetY);
cX.scale(m,O);cX.scale(cb,cb);cX.translate(T/2,p/2);cX.concat(z);eQ.a26(M,S,0,0,1e3,cX)}else console.log(h);
if(l!=null){j.add[l]={classID:"null"};for(var Y=0;Y<U.length;Y++){var e$=U[Y];j.add[l][e$]=N.v[e$]}}}};
var bt=function(){function b(i){return i.tagName?i.tagName.split(":").pop():null}function h(i,y,o){if(o&&o[0]==null)o=null;
i=new Uint8Array(i);var v,X=1;if(i[0]==255&&i[1]==254)v=J.XX(i,2,(i.length>>>1)-1);else v=J.S2(i,0,i.length);
var Z=new DOMParser,W=Z.parseFromString(v,"image/svg+xml"),d=W.getElementsByTagName("style")[0];if(d)d=Typr.U.SVG.cssMap(d.textContent);
else d={};var $=W.firstChild;while(b($)!="svg")$=$.nextSibling;var I=new io(0,0,100,100),k=$.getAttribute("viewBox"),_=$.getAttribute("width"),D=$.getAttribute("height"),A=_!=null?parseFloat(_):parseFloat(D),F=D!=null?parseFloat(D):parseFloat(_);
if(k){var K=G(k);I.x=K[0];I.y=K[1];I.j=K[2];I._=K[3];if(_!=null){var V=K[2]/K[3],r=A/F;if(r>V){var c=K[3]*r-I.j;
I.x-=c/2;I.j+=c}if(r<V){var x=K[2]/r-I._;I.y-=x/2;I._+=x}}}else if(_!=null||D!=null){I.j=A;I._=F}I=e.N.lZ(I);
while(o&&Math.max(I.j*X,I._*X)<Math.max(o[0],o[1]))X++;while(o==null&&Math.max(I.j,I._)*X>8192)X*=.5;
y.rm=!0;y.j=~~(I.j*X);y._=~~(I._*X);var M=new eq(X,0,0,X,-I.x*X,-I.y*X),f={Zv:U($),aqc:d,Pj:0};H(W,$.children,y,M,f,new eq,0);
if(y.R.length==0){var t=y.Cx();t.cb("Layer");y.R.push(t)}}function G(i){var y=" ";if(i.indexOf(",")!=-1)y=",";
return i.split(y).map(parseFloat)}function H(i,y,o,v,Z,W,d,$){var I=["display","opacity","fill-opacity","filter","clip-path"],k=0;
for(var _=0;_<y.length;_++){var D=y[_],A=b(D),F=D.getAttribute("id"),r=13,f=1,L="clip-path",P=null,fz=0;
if(F==null)F=D.getAttribute("data-name");var K=U(D,Z.aqc);for(var V in Z.Zv)if(I.indexOf(V)==-1&&K[V]==null)K[V]=Z.Zv[V];
if(K["font-size"])r=s(K["font-size"],r);if(D.getAttribute("dx"))v.Kv+=s(D.getAttribute("dx"),r);if(D.getAttribute("dy"))v.d0+=s(D.getAttribute("dy"),r);
var c=Q(D);c.concat(v);var x=D.getAttribute("visibility"),X=K.display,M=o.Cx();if(x=="hidden"||X=="none")M.lW(!1);
M.cb(F!=null?F.split(":::")[0]:"Layer");if(K.opacity)f*=parseFloat(K.opacity);if(K["fill-opacity"]){var t=parseFloat(K["fill-opacity"]);
if(t!=0)f*=t}M.opacity=Math.round(255*f);if(K["mix-blend-mode"]){var n=aq.Qx.indexOf(K["mix-blend-mode"]);
if(n!=-1)M.Am=aq.B5[n]}if(D.getAttribute(L)==null)L="mask";if(D.getAttribute(L)!=null||K["clip-path"]){var z=D.getAttribute(L);
if(z==null)z=K["clip-path"];z=z.slice(4,z.length-1);var T=i.getElementById(z.slice(1));if(T){var p=T.children;
P=o.Cx();P.cb("Clip-Path"+(F?": "+F:""));P.add.lsct=d<2?c1.$I:c1.N_;P.Am="pass";P.Xp=24;var m=P.add.vmsk=new C.cW;
o.R.push(o.b2());var O=[];if(T.getAttribute(L)){var z=T.getAttribute(L);z=z.slice(4,z.length-1);O=i.getElementById(z.slice(1)).children}for(var Y=0;
Y<p.length;Y++){var cb=Q(p[Y]);cb.concat(c);var cX=j(o,i,p[Y],!1).slice(2);e.n.Gl(cX,cb);m.d=m.d.concat(cX)}for(var Y=0;
Y<O.length;Y++){var cb=Q(p[Y]);cb.concat(c);var cX=j(o,i,O[Y],!1).slice(2);for(var e$=0;e$<cX.length;
e$++)if(cX[Y].Vj!=null)cX[Y].Vj=3;e.n.Gl(cX,cb);m.d=m.d.concat(cX)}for(var Y=0;Y<m.d.length;Y++)if(m.d[Y].Vj!=null)m.d[Y].Vj=0;
P.AA();P.vw();d++}}if(K.filter&&K.filter!="none"){var eC=K.filter,az,av,ia,cx=!1,hP=!1,iS=!1;eC=eC.slice(5,eC.length-1);
var hw=i.getElementById(eC),iJ=[0,0,0,.5],e4=c.$K();if(hw)for(var Y=0;Y<hw.children.length;Y++){var cc=hw.children[Y],aO=b(cc);
if(aO=="feGaussianBlur"){cx=!0;az=parseFloat(cc.getAttribute("stdDeviation"))*e4}if(aO=="feColorMatrix"){var bZ=cc.getAttribute("values");
if(bZ){bZ=bZ.split(" ").map(parseFloat);iJ=[bZ[4],bZ[9],bZ[14],bZ[18]]}}if(aO=="feComposite"){iS=!0}if(aO=="feOffset"){hP=!0;
var d_=cc.getAttribute("dx"),ee=cc.getAttribute("dy");av=parseFloat(d_?d_:0)*e4;ia=parseFloat(ee?ee:0)*e4}}if(cx&&(iS||hP)){var b4=iS?"IrSh":"DrSh";
if(b4=="IrSh"){M.add.iOpa=0}var hA=JSON.parse(dE.Qy[dE.order.indexOf(b4)]);hA.blur.v.val=Math.round(az*2.4);
var f$=Math.sqrt(av*av+ia*ia);hA.uglg.v=!1;hA.Dstn.v.val=Math.round(f$);hA.lagl.v.val=Math.round(Math.atan2(ia,-av)*(180/Math.PI));
hA.Clr.v=e.F.t1({$:iJ[0]*255,B:iJ[1]*255,J:iJ[2]*255});hA.Opct.v.val=Math.round(iJ[3]*100);B(M,dE.CM[dE.order.indexOf(b4)],hA)}else if(cx)fz=az}if(A=="g"||A=="a"||A=="svg"||A=="switch"||(A=="text"||A=="textPath")&&D.children.length>0||A=="symbol"&&$){if(A=="text")W=a(D,W);
var e_=D.getAttribute("viewBox"),fJ=D.getAttribute("width"),dV=D.getAttribute("height");if(A=="svg"&&fJ&&dV&&e_==null)e_="0 0 "+fJ+" "+dV;
if(e_&&fJ&&dV){var ix=G(e_),b9=a(D),hV=new eq;hV.translate(-ix[0],-ix[1]);hV.scale(parseFloat(fJ)/ix[2],parseFloat(dV)/ix[3]);
hV.translate(b9.Kv,b9.d0);hV.concat(c);c=hV}var gq=D.children.length,eH=Z.Zv;Z.Zv=K;var eP=Z.Pj;Z.Pj=Math.max(Z.Pj,fz);
var c2=A!="text"&&A!="textPath"||gq>1;if(c2){var bL=M.yY();M.add.lsct=d<2&&bL&&(F==null||!F.endsWith(":::"))?c1.$I:c1.N_;
M.Am="pass";M.Xp=24;M.lW(bL);o.R.push(o.b2())}H(i,D.children,o,c,Z,W,d+1);if(c2)o.R.push(M);else{var dg=o.R[o.R.length-1];
dg.opacity=M.opacity;dg.Am=M.Am}Z.Pj=eP;Z.Zv=eH}else if(A=="use"){var hV=a(D);hV.concat(c);var cN=R(D),dH=i.getElementById(cN.slice(1));
if(dH){var eH=Z.Zv;Z.Zv=K;if(K.filter)dH.setAttribute("filter",K.filter);H(i,[dH],o,hV,Z,W,d+1,!0);Z.Zv=eH}}else if(A=="path"||A=="rect"||A=="circle"||A=="ellipse"||A=="polygon"||A=="polyline"||A=="line"){M.Xp|=16;
var m=M.add.vmsk=new C.cW,kM=K.fill,a_=kM=="none"||K["fill-opacity"]&&parseFloat(K["fill-opacity"])==0,g4=K["fill-rule"]=="evenodd"?1:0;
m.d=j(o,i,D,g4==1,a_);m.Vj=g4;e.n.Gl(m.d,c);var iY=K.stroke,fa=K["stroke-width"],ka=K["stroke-dasharray"],b1=K["stroke-linejoin"];
if(b1==null)b1="miter";var bg=K["stroke-linecap"];if(bg==null)bg="butt";var cl=K["stroke-miterlimit"];
if(cl==null)cl=4;else cl=parseFloat(cl);var c0=K["paint-order"],kL=!(iY==null||iY=="none"||iY=="null"),c_=M.add.vstk=dE.QA.Az(null,kL);
if(kL){var cA=q(i,iY,c,m.d,o),aw=["SoFi","GrFl","patternFill"].indexOf(cA.type),kq=cA.P.v.Opct.v,fm=1;
if(kq.val!=100){M.opacity=Math.round(M.opacity*kq.val/100);kq.val=100}var f4=[dE.L1,dE.WH,dE.aa][aw],gF=c_.strokeStyleContent.v={classID:dE.QA.kR[aw]};
for(var Y=0;Y<f4.length;Y++)gF[f4[Y]]=cA.P.v[f4[Y]];fa=fa?parseFloat(fa):1;if(c0&&c0.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){fm=2;
fa/=2}var aP={VV:["miter","round","bevel"].indexOf(b1),vB:["butt","round","square"].indexOf(bg),nx:fa,dE:cl};
if(ka!=null&&ka!="none")aP.t7=ka.split(",").map(parseFloat);dE.QA.write(c_,aP,c.$K());c_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[fm];
c_.strokeStyleOpacity.v.val=100*(K["stroke-opacity"]?parseFloat(K["stroke-opacity"]):1);if(cA.E_)M.add._sstl=cA.E_}M.add.vstk.fillEnabled.v=!a_;
if(a_){M.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}}}else{var cA=q(i,kM,c,m.d,o),hh=null,gW=null;
if(cA.type=="SoFi"){hh="SoCo";gW=dE.L1}if(cA.type=="GrFl"){hh="GdFl";gW=dE.WH}if(cA.type=="patternFill"){hh="PtFl";
gW=dE.aa}if(hh!=null){var kq=cA.P.v.Opct.v;if(kq.val!=100){M.opacity=Math.round(M.opacity*kq.val/100);
kq.val=100}M.add[hh]={classID:"null"};for(var Y=0;Y<gW.length;Y++){var V=gW[Y];M.add[hh][V]=cA.P.v[V]}}if(cA.E_)M.add._fstl=cA.E_}var cg=Math.max(fz,Z.Pj);
if(cg!=0)M.add.vmsk._o=cg;M.AA();M.vw(o);o.R.push(M)}else if((A=="text"||A=="tspan")&&D.textContent!=""){W=a(D,W);
var hV=W.clone(),ia=0;hV.concat(c);hV.translate(k,0);if(D.children.length>0){var f0=U(D.children[0],Z.aqc);
for(var V in f0)if(I.indexOf(V)==-1)K[V]=f0[V]}var hk=K["xml:space"],aQ=D.textContent;if(hk=="preserve")aQ=aQ.replace(/\t/g," ").replace(/\n/g," ");
if(F==null)M.cb(aQ);M.add.lnsr="rend";M.add.TySh=b_.V0(0,0);M.add.TySh.In=new io(0,0,100,100);M.add.TySh.h=hV.clone();
var fj=M.add.TySh.HZ;b_.ph(fj,0,aQ);if(A=="tspan")k+=r*aQ.length*.5*hV.$K();var kM=K.fill,fd=K["font-weight"],iu=K["font-family"],en=K["text-decoration"],iY=K.stroke,fa=K["stroke-width"],hl=K["dominant-baseline"];
if(hl=="text-before-edge")ia=r;else if(hl=="middle")ia=r/2;else if(hl=="hanging")ia=r;if(ia!=0)M.add.TySh.h.translate(0,ia);
var ed=b_.XN(fj,0,1);if(kM&&kM!="none"){var iJ=CSS.ur(kM);ed.bJ.FillColor={Type:1,Values:[1,iJ.$/255,iJ.B/255,iJ.J/255]}}if(en=="underline")ed.bJ.Underline=!0;
ed.bJ.FontSize=Math.round(r);b_.HC(ed,"LiberationSans");if(fd=="bold")b_.HC(ed,"LiberationSans-Bold");
if(iu){iu=iu.split(",")[0].trim();if(iu[0]=="\"")iu=iu.slice(1);if(iu[iu.length-1]=="\"")iu=iu.slice(0,iu.length-1);
var hG=iu+":"+(fd?fd:"normal"),i0={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(i0[hG])b_.HC(ed,i0[hG]);else b_.HC(ed,iu)}if(K["text-anchor"])ed._P.Justification=["start","end","middle"].indexOf(K["text-anchor"]);
b_.V1(fj,0,aQ.length,ed);if(iY==null||iY=="none"){}else{var hA=JSON.parse(dE.Qy[dE.order.indexOf("FrFX")]);
hA.Clr.v=e.F.t1(CSS.ur(iY));hA.Sz.v.val=Math.round(parseFloat(fa)*hV.$K());B(M,"frameFXMulti",hA)}o.R.push(M)}else if(A=="image"){var cN=R(D);
if(cN&&cN.slice(0,4)=="data"){var bS=aT.te(cN),dC=bS,ir=o._t(dC,M.getName(),0,0);ir.Xp=M.Xp;M=ir;var g4=M.rect.clone();
g4.x=g4.y=0;var ih=D.getAttribute("width"),a$=D.getAttribute("height");if(ih)g4.j=parseFloat(ih);if(a$)g4._=parseFloat(a$);
var cC=a(D);cC.concat(c);var dT=e.N.Q0(g4).m;e.N.h(dT,cC,dT);M.add.SoLd.Trnf=E.Y.Ll(dT);M.add.SoLd.nonAffineTransform=E.Y.Ll(dT);
M.gE(o,!1);o.R.push(M)}}else console.log("unknown tag: "+A,D.children.length,D.textContent.length);if(P!=null){o.R.push(P);
d--}}}function B(i,y,o){var v=i.add.lmfx;if(v==null){var v=i.add.lmfx=JSON.parse(dE.default);for(var Y=0;
Y<dE.order.length;Y++)v[dE.CM[Y]]={t:"VlLs",v:[]}}v[y].v.push({t:"Objc",v:o})}function j(i,y,o,v,Z){var W=[{type:6},{type:8,all:0}],d=b(o);
if(d=="use"){var $=R(o),I=y.getElementById($.slice(1)),k=new eq;if(b(I)!="rect")k=a(I);k.concat(Q(I));
W=j(i,y,I,v,Z);e.n.Gl(W,k)}else if(d=="path"){var _=o.getAttribute("d");if(_==null)return W;var D=Typr.U.SVGToPath(_);
W=e.N.zv({m:D.crds,Gc:D.cmds},v,Z)}else if(d=="rect"){var A=o.getAttribute("rx"),F=new cJ(0,0);S("x",o,i,F,!0);
S("y",o,i,F,!1);var K=new cJ(0,0);S("width",o,i,K,!0);S("height",o,i,K,!1);W=e.n.NT.Rect(F.x,F.y,K.x,K.y,A?parseFloat(A):0)}else if(d=="circle"||d=="ellipse"){var V=[0,0,0,0],r=["cx","cy","rx","ry","r"];
for(var Y=0;Y<5;Y++){var c=o.getAttribute(r[Y]);if(c){c=parseFloat(c);if(Y<4)V[Y]=c;else V[2]=V[3]=c}}W=e.n.NT.yT(V[0]-V[2],V[1]-V[3],2*V[2],2*V[3])}else if(d=="polygon"||d=="polyline"||d=="line"){var x;
if(d=="line")x=[o.getAttribute("x1"),o.getAttribute("y1"),o.getAttribute("x2"),o.getAttribute("y2")].map(parseFloat);
else x=o.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
W=e.n.NT.uq(x,0,d!="polygon")}return W}function s(i,y){if(i.charAt(i.length-1)=="m")return y*parseFloat(i.slice(0,i.length-2));
else return parseFloat(i)}function q(i,y,o,v,Z){var W,d,$,I=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]),k=e.n.d4(v),_=y!=null?y.indexOf("("):-1;
if(_!=-1){var D=y.indexOf(")"),A=y.slice(0,_).trim(),F=y.slice(_+1,D).trim();if(F.charAt(0)=="'")F=F.slice(1,F.length-1);
if(A=="url"){if(F.charAt(0)=="#"){var K=i.getElementById(F.slice(1));if(K&&b(K).toLowerCase().endsWith("gradient")){$=g(i,K,o,k,v);
var V=g7.OF($,v);W="GrFl";d={t:"Objc",v:V}}else if(K&&b(K).toLowerCase()=="pattern"&&K.children[0]&&b(K.children[0])=="use"){W="SoFi";
d={t:"Objc",v:I};var r=K.children[0],c=Q(r),x=R(r),X=i.getElementById(x.slice(1)),M=aT.te(R(X)).buffer,f=aT.JR(aT.ni(M)),t=f.ho(M)[0],n={};
n.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";n.name="someImage";n.yr=[new Uint8Array(t.data),t.jD];Z.lN(n);
var I=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]);I.Scl.v.val=Math.round(100*k.j*c.G);var L=I.phase.v;
L.Hrzn.v=Math.round(k.x+c.Kv*k.j);L.Vrtc.v=Math.round(k.y+c.d0*k._);I.Ptrn.v.Idnt.v=n.id;W="patternFill";
d={t:"Objc",v:I}}else{W="SoFi";d={t:"Objc",v:I}}}else console.log("unknown url",F)}else if(A=="rgb"||A=="rgba"||A=="hsla"){W="SoFi";
d={t:"Objc",v:I};d.v.Clr.v=e.F.t1(CSS.ur(y));if(A=="rgba"||A=="hsla")d.v.Opct.v.val=Math.round(100*parseFloat(y.split(",").pop()))}else console.log("unknown fill",y)}else{W="SoFi";
d={t:"Objc",v:I};var P=CSS.ur(y);d.v.Clr.v=e.F.t1(P);if(P.G!=null)d.v.Opct.v.val=Math.round(100*P.G/255)}return{type:W,P:d,E_:$}}function Q(i){var y=new eq,o=i.getAttribute("transform");
if(o)y=l(o);var v=i.getAttribute("style");if(v!=null){var Z={};N(Z,v,["transform"]);v=Z.transform;if(v)y.concat(l(v))}return y}function a(i,y){var o=new eq,v=i.getAttribute("x"),Z=i.getAttribute("y");
if(v)o.Kv=parseFloat(v);else if(y)o.Kv=y.Kv;if(Z)o.d0=parseFloat(Z);else if(y)o.d0=y.d0;return o}function l(i){var y=Typr.U.SVG.readTrnf(i);
return new eq(y[0],y[1],y[2],y[3],y[4],y[5])}function U(i,y){var o={},v="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var Y=0;Y<v.length;Y++){var Z=i.getAttribute(v[Y]);if(Z!=null&&Z!="inherit")o[v[Y]]=Z}var W=i.getAttribute("class");
if(y!=null&&W!=null&&y["."+W]!=null)N(o,y["."+W],v);var d=i.getAttribute("id");if(y!=null&&d!=null&&y["#"+d]!=null)N(o,y["#"+d],v);
var $=i.getAttribute("style");if($!=null)N(o,$,v);return o}function N(i,y,o){y=y.trim().split(";");for(var Y=0;
Y<y.length;Y++){var v=y[Y].split(":"),Z=v[0]?v[0].trim():"",W=v[1]?v[1].trim():"";for(var d=0;d<o.length;
d++)if(Z==o[d]&&W!="inherit")i[o[d]]=W}}function R(i){var y=i.getAttribute("xlink:href");if(y==null)y=i.getAttribute("href");
if(y==null)y=i.getAttribute("xl:href");return y}function S(i,y,o,v,Z){var W=y.getAttribute(i);if(W==null)return;
var d=parseFloat(W);if(W.endsWith("%"))d*=(Z?o.j:o._)/100;if(Z)v.x=d;else v.y=d}function g(i,y,o,v,Z){var W=S,d=new eq,$=y.getAttribute("gradientTransform"),F=!1;
if($)d=l($);d.concat(o);var I=b(y)=="linearGradient"?0:1,k=new cJ(0,0),_=new cJ(v.j,0),D=k.clone();if(I==0){var A=new io(0,0,1,1);
W("x1",y,A,k,!0);W("y1",y,A,k,!1);W("x2",y,A,_,!0);W("y2",y,A,_,!1);D.ve(k.x,k.y)}if(I==1){if(y.getAttribute("cx"))k.x=parseFloat(y.getAttribute("cx"));
if(y.getAttribute("cy"))k.y=parseFloat(y.getAttribute("cy"));_.ve(k.x,k.y);D.ve(k.x,k.y);if(y.getAttribute("r"))_.x+=parseFloat(y.getAttribute("r"));
if(y.getAttribute("fx"))D.x=parseFloat(y.getAttribute("fx"));if(y.getAttribute("fy"))D.y=parseFloat(y.getAttribute("fy"))}var K=y;
while(!0){if(K.getAttribute("gradientUnits")=="userSpaceOnUse")F=!0;var V=R(K);if(V==null)break;K=i.getElementById(V.slice(1))}if(!F)d=new eq(v.j,0,0,v._,v.x,v.y);
d=g7.wa(k,_,d);var r=g7.U1(I,d,Z);g7.T2(r,k,_,D);var c=y.children,x=r[1]=[];if(c.length==0){var X=R(y);
if(X==null)throw"gradient has no stops";var M=i.getElementById(X.slice(1));if(M==null){console.log(X.slice(1))}else x=r[1]=g(i,M,d,v,Z)[1]}else for(var Y=0;
Y<c.length;Y++){var f=c[Y],t=U(f),n=t["stop-color"],L=t["stop-opacity"],P=f.getAttribute("offset");if(n==null)n="#000000";
L=L==null?1:parseFloat(L);var z=P?parseFloat(P):0;if(P&&P.endsWith("%"))z/=100;n=CSS.ur(n);if(n.G!=null)L*=n.G/255;
x.push([z,[n.$/255,n.B/255,n.J/255],parseFloat(L),.5])}return r}return{wZ:h}}();bt.OL=function(){var b=null,h="",G="",H;
function B(k,_,D,A){var F=[],c=" { ",x=" } ",X=!1;b=_;G=_.CH?"":"\t";h=_.CH?"":" ";var K=_.ayz,V=_.abg;
H=fq==0?new io(0,0,k.j,k._):k.d7();if(A!=null){H=k.root.children[A].o.Ey();K=H.j;V=H._}F.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[H.x,H.y,H.j,H._].join(" ")+"\" width=\""+K+"\" height=\""+V+"\">");
if(!_.CH)F.push(j(1)+"<title>"+o(k.name.split(".")[0])+"</title>");var r={Yf:[],q5:[],sO:0,DV:0,rR:0,FS:{},yM:{},uv:0,QW:{},a77:{},Wu:0,B7:[]};
S(k,r,k.root.children,1,_,D,A);if(r.Yf.length!=0){F.push(j(1)+"<defs>");F=F.concat(r.Yf);F.push(j(1)+"</defs>")}F.push(j(1)+"<style>");
if(_.CH){c="{";x="}"}for(var Y=0;Y<k.R.length;Y++)if(k.R[Y].add.TySh)X=!0;if(X&&!_.adk&&!_.anx)F.push(j(2)+"tspan"+c+"white-space:pre"+x);
for(var M in r.QW)F.push(j(2)+"."+M+c+r.QW[M]+x);F.push(j(1)+"</style>");F=F.concat(r.q5);F.push("</svg>");
F=F.join(_.CH?"":"\n");return J.AY(F)}function j(g1){var k="";for(var Y=0;Y<g1;Y++)k+=G;return k}function s(g1,k){if(k==null)k=1;
var _=""+parseFloat(g1.toFixed(k));if(_.startsWith("0."))_=_.slice(1);return _}function q(k,_){var D=k.add.lmfx;
if(D)D=D[_].v[0];if(D)D=D.v;if(D&&!D.enab.v)D=null;return D}function Q(k,_){var D=q(k,"frameFXMulti");
if(D){var A=D.Sz.v.val;if(D.Styl.v.FStl=="OutF"){_.push("paint-order:stroke fill markers");A*=2}R(_,CSS.le(D.Clr.v),1);
if(A!=1)_.push("stroke-width: "+A);_.push("stroke-linejoin: round;")}}var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function l(k){var _=a.length,D="";for(var A=1;A<10;A++){var F=(_-10)*~~Math.pow(_,A-1);if(k<F){for(var Y=0;
Y<A;Y++){var K=Y==A-1?10:0,V=_-K,r=k%V;D=a[r+K]+D;k=Math.floor((k-r)/V)}break}k-=F}return D}function U(k,_,D,A){if(k.length!=0){if(A==null)A="s";
var F=k.join(";"),K=_.a77[F];if(K==null){K=b.CH?l(_.Wu):A+_.Wu;_.Wu++;_.a77[F]=K;_.QW[K]=F}if(D)D.push(K);
return K}}function N(k){if(b.CH&&k.length==7&&k[0]=="#"){if(k[1]==k[2]&&k[3]==k[4]&&k[5]==k[6])k="#"+k[1]+k[3]+k[5]}return k}function R(k,_,D){_=N(_);
if(_!="#000"||D==1)k.push((D==0?"fill:":"stroke:")+h+_)}function S(k,_,D,A,F,K,V){var r=!1;for(var c=0;
c<D.length;c++){var x=D[c].o,X=x.add.lsct;if(x.Sz)continue;if(x.add.artb&&V!=null&&c!=V)continue;if(!x.wi&&D[c+1]&&D[c+1].o.wi&&x._5()&&x.add.vmsk){var M=[];
Z(x,x.add.vmsk,_,M);_.q5.push(j(A)+"<g "+M[0]+">");A++;r=!0}else if(!x.wi&&D[c-1]&&D[c-1].o.wi&&r){A--;
_.q5.push(j(A)+"</g>");r=!1}var f=x.add.vmsk,t=x.add.vogk,n=x.add.vstk,L=x.add.TySh;if(f&&!f.isEnabled)f=n=null;
var P=[];if(!F.hidden&&!x.yY())continue;var z=x.opacity/255,T=x.add.iOpa?x.add.iOpa/255:1;if(x.fu()){z*=T;
T=1}if(z!=1)P.push("opacity:"+h+s(z));if(T!=1)P.push("fill-opacity:"+h+s(T));if(x.Am!="norm"){var p=aq.Qx[aq.B5.indexOf(x.Am)];
if(p!=null)P.push("mix-blend-mode:"+h+p)}if(!x.yY())P.push("display:"+h+"none");var M=[],m=[],O=x.getName(),cb=O.indexOf(" .");
if(!F.CH)M.push("id=\""+o(O)+"\"");var cX=eQ.ach(x.add.lmfx,x.add),e$=cX[0],fz=cX[1],eC=x.add.SoLd;if(eC&&eC.filterFX){var hw=eC.filterFX.v;
if(hw.enab.v&&hw.filterFXList.v.length!=0)eC=null}if(x.fu()){var az=D[c].children;if(az.length==1&&az[0].o.add.SoLd&&!F.e4){}else{var av=f,iJ=az.length==0?null:az[az.length-1].o;
if(fq==1&&iJ&&iJ.Sz&&iJ.yY())av=iJ.add.vmsk;Z(x,av,_,M);if(P.length!=0)M.push("style=\""+P.join(";")+"\"");
if(e$){var cx=CSS.le(e$.Clr.v),hP="f"+_.DV;_.DV++;_.q5.push(j(A)+"<filter id=\""+hP+"\">");_.q5.push(j(A+1)+"<feFlood flood-color=\""+cx+"\" flood-opacity=\""+s(e$.Opct.v.val/100,2)+"\" />");
_.q5.push(j(A+1)+"<feBlend mode=\""+aq.Qx[aq.B5.indexOf(aq.ah(e$.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
_.q5.push(j(A+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");_.q5.push(j(A)+"</filter>");
M.push("filter=\"url(#"+hP+")\"")}var iS=y(M,m),e4=F.CH&&iS=="";if(!e4)_.q5.push(j(A)+"<g"+(iS==""?"":" "+iS)+">");
S(k,_,az,A+1,F,K);if(!e4)_.q5.push(j(A)+"</g>")}}else if(x._5()&&f==null){W(k,P,x.add,_,H,F);if(P.length!=0)M.push("style=\""+P.join(";")+"\"");
_.q5.push(j(A)+"<rect width=\""+H.j+"\" height=\""+H._+"\" "+y(M,m)+"/>")}else if(f&&eC==null){W(k,P,x.add,_,er,F,f.d);
U(P,_,m);var cc,aO=null,bZ=0,d_;if(t.length!=0){cc=t[0].v;aO=cc.keyOriginType;if(aO)aO=aO.v;if(aO==2){var ee=e.Bs.Rg(cc);
bZ=ee[0];for(var Y=0;Y<3;Y++)if(bZ!=ee[Y+1])aO=null}}if(t.length==1&&aO==5&&Math.abs(e.Bs.ajo(cc))<1e-4){var b4=e.Bs.QT(cc),hA=(b4[0]+b4[2])/2,f$=(b4[1]+b4[3])/2,e_=hA-b4[0],fJ=f$-b4[1],dV=Math.abs(e_-fJ)<.01,ix=dV?"r=\""+s(e_)+"\"":"rx=\""+s(e_)+"\" ry=\""+s(fJ)+"\"";
d_="<"+(dV?"circle":"ellipse")+" "+y(M,m)+" cx=\""+s(hA)+"\" cy=\""+s(f$)+"\" "+ix+"/>"}else if(t.length==1&&aO==2&&bZ!=0&&Math.abs(e.Bs.ajo(cc))<1e-4){var b4=e.Bs.QT(cc),b9=b4[0],hV=b4[1],gq=b4[2]-b4[0],eH=b4[3]-b4[1],eP="";
if(b9!=0)eP+=" x=\""+s(b9)+"\"";if(hV!=0)eP+=" y=\""+s(hV)+"\"";eP+=" width=\""+s(gq)+"\"";eP+=" height=\""+s(eH)+"\"";
eP+=" rx=\""+s(bZ)+"\"";d_="<rect "+y(M,m)+eP+"></rect>"}else{var c2,bL;if(fq==0){var dg=e.n.kM(f.d,1);
c2=dg.Js;bL=dg.eQ}else{var cN=e.N.nT(f.d);c2=Typr.U.pathToSVG({crds:cN.m,cmds:cN.Gc},1);bL=f.Vj}if(bL!=0){M.push("fill-rule=\"evenodd\"")}d_="<path "+y(M,m)+" d=\""+c2+"\"/>"}_.q5.push(j(A)+d_)}else if(L&&F.adk){h=F.CH?"":" ";
var dH=L.HZ,kM=new j0(dH,K,L.AT),a_=null;if(e$)a_=CSS.le(e$.Clr.v);if(fz){var b4=x.rect.clone();I(fz,_,b4,F);
a_="url(#g"+_.sO+")"}if(a_)P.push("fill:"+h+a_);Q(x,P);var cN=jK.M1(kM,L,!0),g4=e.N.UC(cN);for(var iY in g4){var fa=P.slice(0),ka=m.slice(0),b1=M.slice(0);
if(a_==null){R(fa,iY.slice(0,7),0);if(iY.length>7){var bg=jK.avi(iY.slice(7));R(fa,$(bg.g9),1);d(bg,fa,!0)}}U(fa,_,ka);
var cl=g4[iY],c0=Typr.U.pathToSVG({crds:cl.m,cmds:cl.Gc},1);_.q5.push(j(A)+"<path "+y(b1,ka)+(F.CH?"":" "+i(L))+" d=\""+c0+"\"/>")}}else if(L&&!F.anx){var dH=L.HZ,kL=L.h.clone(),a_=null;
P.push("transform:"+h+v(kL));var c_=b_.v4(dH),kM=new j0(dH,K,L.AT);Q(x,P);if(P.length!=0)M.push("style=\""+P.join(";")+"\"");
_.q5.push(j(A)+"<text "+y(M,m)+" >");if(e$)a_=CSS.le(e$.Clr.v);if(fz){var b4=x.rect.clone();b4.x-=kL.Kv;
b4.y-=kL.d0;I(fz,_,b4,F);a_=" url(#g"+_.sO+")"}for(var Y=0;Y<kM._P.length;Y++){var cA=kM._P[Y];if(cA.$Z.length==1&&cA.$Z[0].pv)continue;
for(var aw=0;aw<cA.Yr.length;aw++){var kq=cA.Yr[aw],f$=cA.ZP.y+kq.ZP.y,f4=cA.$Z[kq.start].start,gF=cA.$Z[kq.end-1].end,fm=b_.aBA(dH,f4,gF),aP="";
for(var hh=0;hh<fm.length;hh++){var gW=kM.dJ(f4),cg=fm[hh],f0=b_.XN(dH,f4,f4),hk=f0.uh[f0.bJ.Font].Name,iY=b_.an(f0.bJ.FillColor),aQ=Math.round(f0.bJ.FontSize),fj=c_.slice(f4,f4+cg);
if(f0.bJ.FontCaps==2)fj=fj.toUpperCase();var fd=new eq;fd.translate(gW.O2.x,-f$);var iu=[];CSS.au9(iu,f0,null,!0,!0,a_);
var en=U(iu,_,null,"t");en=en?" class=\""+en+"\"":"";var hA=gW.O2.x,hl=g(f0,fj);aP+="<tspan "+(hh==0?"x=\""+s(gW.O2.x)+"\"":"")+" y=\""+s(f$)+"\""+en+hl+">"+o(fj)+"</tspan>";
f4+=cg}_.q5.push(j(A+1)+aP)}}_.q5.push(j(A)+"</text>")}else if(eC&&F.e4&&e$==null){var hP=eC.Idnt.v,ed=0,hG=eC.Crop?eC.Crop.v:null;
if(_.yM[hP]!=null)ed=_.yM[hP];else{_.uv++;ed=_.uv;_.yM[hP]=_.uv;var i0=k.UU(hP,hG),ir="";if(i0==null)return;
var bS=i0.P0,dC=aT.ni(i0.raw.buffer);if(dC=="pdf"){var ih=new cj("h");aT.JR("PDF").ho(i0.raw.buffer,ih);
ih.UL();ih.Xu();ih.c();ih.lJ();if(eC.Crop&&eC.Crop.v==1){E.w8.IF(ih,ih.root.Ki(ih,!0))}var a$=aT.JR("SVG").kf(ih,ih.j,ih._,null,{B7:K});
ir="data:image/svg+xml;base64,"+aT.fQ(a$)}else if(dC=="jpg"||dC=="png"||dC=="gif"||dC=="svg"){var cC={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
ir="data:"+cC[dC]+";base64,"+aT.fQ(i0.raw.buffer)}else{ir=aT.Au(bS[0].buffer,bS[1].j,bS[1]._)}_.Yf.push(j(2)+"<image width=\""+bS[1].j+"\" height=\""+bS[1]._+"\" id=\"img"+ed+"\" href=\""+ir+"\"/>")}var dT=e.t.G3(eC),jq=[];
Z(x,f,_,jq);if(jq.length!=0)_.q5.push(j(A)+"<g "+y(jq,m)+">");if(P.length!=0)M.push("style=\""+P.join(";")+"\"");
var kz=y(M,m);_.q5.push(j(A)+"<use "+kz+" href=\"#img"+ed+"\" transform=\""+v(dT)+"\"/>");if(jq.length!=0)_.q5.push(j(A)+"</g>")}else if(!x.rect.Zx()&&(F.e4||L)){if(P.length!=0)M.push("style=\""+P.join(";")+"\"");
var kz=y(M,m),ei=x.buffer;if(e$)ei=eQ.afr(ei,e$,x.rect);var bL=x.rect;_.uv++;var ir=aT.Au(ei.buffer,bL.j,bL._,"png",null,!0);
_.Yf.push(j(2)+"<image "+i(L)+" width=\""+x.rect.j+"\" height=\""+x.rect._+"\" id=\"img"+_.uv+"\" href=\""+ir+"\"/>");
_.q5.push(j(A)+"<use "+kz+" href=\"#img"+_.uv+"\" x=\""+bL.x+"\" y=\""+bL.y+"\"/>")}}if(r){A--;_.q5.push(j(A)+"</g>");
r=!1}}function g(k,_){var D=k.bJ.Tracking,A="";if(D!=null&&D!=0){D=Math.round(D*k.bJ.FontSize/1e3);A=" dx=\"0";
for(var F=1;F<_.length;F++)A+=" "+D;A+="\" "}return A}function i(k){if(k==null)return"";var _=k.HZ,D=b_.v4(_);
D=o(D.slice(0,D.length-1));return"aria-label=\""+D+"\" "}function y(k,_){if(_.length!=0)k.push("class=\""+_.join(" ")+"\"");
return k.join(" ")}function o(k){return String(k).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function v(k){var _=[k.G,k.J,k.YW,k.tW,k.Kv,k.d0];
for(var Y=0;Y<6;Y++)_[Y]=s(_[Y],3);return"matrix("+_.join(",")+")"}function Z(k,_,D,A){if(_||k.add.artb){var F;
if(_)F=e.n.kM(_.d).Js;else{var K=k.Ey(),V=e.N.Q0(K);F=Typr.U.pathToSVG({crds:V.m,cmds:V.Gc},1)}D.rR++;
A.push("clip-path=\"url(#cp"+D.rR+")\"");D.Yf.push(j(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+D.rR+"\">");
D.Yf.push(j(3)+"<path d=\""+F+"\"/>");D.Yf.push(j(2)+"</clipPath>")}}function W(k,_,D,A,F,K,V){var r=D.vmsk,c=D.lmfx,x=[];
if(r&&r._o!=0){var X=s(r._o);if(A.FS[X]==null){A.DV++;A.FS[X]=A.DV;A.Yf.push(j(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+A.DV+"\"> <feGaussianBlur stdDeviation=\""+X+"\"/> </filter>")}x.push("url(#f"+A.FS[X]+")")}if(c)for(var Y=0;
Y<dE.order.length;Y++){var M=dE.order[Y],f=dE.CM[Y],t=c[f].v;for(var n=0;n<t.length;n++){var L=t[n].v,P=L.classID;
if(!L.enab.v)continue;if(P=="OrGl"||P=="DrSh"){A.DV++;x.push("url(#f"+A.DV+")");var z=0,T=0,p=L.blur.v.val/2.4,m=L.Opct.v.val/100;
if(P=="DrSh"){var O=L.uglg&&L.uglg.v?k.lR():L.lagl.v.val;O=O*(Math.PI/180);var cb=L.Dstn.v.val;z=-Math.cos(O)*cb;
T=Math.sin(O)*cb}if(P=="OrGl")m/=L.Inpr.v.val/100;var cX="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+A.DV+"\" >";
cX+="<feDropShadow dx=\""+z+"\" dy=\""+T+"\" stdDeviation=\""+p+"\" flood-color=\""+CSS.le(L.Clr.v)+"\" flood-opacity=\""+s(m)+"\"/>";
cX+="</filter>";A.Yf.push(j(2)+cX)}}}if(x.length!=0)_.push("filter:"+h+x.join(" "));var e$=D.vstl;if(e$==null)e$=cj.Mm(D,k);
for(var Y=0;Y<2;Y++){var fz=Y==0?e$.E_:e$.g9;if(fz.length==0){if(Y==0)_.push("fill:"+h+"none")}else if(fz.length==3)R(_,$(fz),Y);
else{I(fz,A,F,K,V);R(_,"url(#g"+A.sO+")",Y)}}if(e$.g9.length!=0){d(e$,_)}}function d(k,_,D){var A=k.vB,F=k.VV,K=k.nx,V=k.fJ,r=k.t7;
if(V==2){if(!D)K*=2;_.push("paint-order:stroke fill markers")}if(A!=0)_.push("stroke-linecap:"+h+["butt","round","square"][A]);
if(F!=0)_.push("stroke-linejoin:"+h+["miter","round","bevel"][F]);else if(k.dE!=4)_.push("stroke-miterlimit:"+k.dE);
if(K!=1)_.push("stroke-width:"+h+s(K));if(r.length!=0)_.push("stroke-dasharray:"+h+r.join(","))}function $(k){return CSS._K({$:k[0]*255,B:k[1]*255,J:k[2]*255})}function I(k,_,D,A,F){if(F==null)F=e.n.NT.Rect(D.x,D.y,D.j,D._);
if(!(k instanceof Array))k=g7.U_(k,F);_.sO++;var K=k[0],V=(K==1?"radial":"linear")+"Gradient",r=j(2)+"<"+V+" id=\"g"+_.sO+"\"",c="";
if(A.CH){if(_.sO==1)_.Yf.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");c=" href=\"#P\""}else c=" gradientUnits=\"userSpaceOnUse\"";
var x=g7.Pe(k,F),X=[new cJ(0,0),new cJ(1,0)];c+=" gradientTransform=\""+v(x)+"\"";var M=A.CH?2:3;if(K==0)_.Yf.push(r+" x2=\"1\""+c+">");
if(K==1){if(k[2][6]!=0){var f=k[2][5]*Math.PI/180,t=k[2][6];_.Yf.push(r+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+s(Math.cos(f)*t,M)+"\" fy=\""+s(-Math.sin(f)*t,M)+"\""+c+">")}else _.Yf.push(r+" cx=\"0\" cy=\"0\" r=\"1\""+c+">")}var n=k[1];
for(var Y=0;Y<n.length;Y++){var L=n[Y],P=L[0],z=L[1],T=L[2];T=T==1?"":" stop-opacity=\""+s(T,M)+"\"";
var p=P==0&&A.CH?"":" offset=\""+s(P,M)+"\"",m=$(z);m=A.CH&&m=="#000000"?"":" stop-color=\""+N(m)+"\"";
_.Yf.push(j(3)+"<stop"+p+m+T+"/>")}_.Yf.push(j(2)+"</"+V+">")}bt.K5=v;return B}();bt.NT=function(b,h,G,H,B){var j=[],s=bt.NT,q=!1,Q={Ps:b,CN:h,Yb:[!0,!0,!0],Fl:!1,LW:G,a2c:0};
Q.P2=Math.round(Math.max(b,h)*(.02+s.YT(Q)*.03));Q.RP=s.aA2(Q);Q.SR=s.aDQ(Q.RP,(s.YT(Q)<.5?-1:1)*(.2+s.YT(Q)*.3));
if(s.YT(Q)<.5){var a=Q.RP;Q.RP=Q.SR;Q.SR=a}Q.ass=s.YT(Q)<.4&&s.acc(Q.SR,{$:1,B:1,J:1})>.3;Q.al0=s.YT(Q)<.5?0:1;
j.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+b+" "+h+"\" width=\""+b+"\" height=\""+h+"\">");
Q.nP=H[Math.floor(s.Y2(Q)*H.length)];Q._G=H[Math.floor(s.Y2(Q)*H.length)];j.push("<style>");j.push("@font-face {  font-family: "+Q.nP[2]+";  src: url("+fH.J5("rsrc/fonts/")+Q.nP[5]+");  }");
j.push("@font-face {  font-family: "+Q._G[2]+";  src: url("+fH.J5("rsrc/fonts/")+Q._G[5]+");  }");j.push("</style>");
var l=[0,0,b,h],U=l;if(B==null)j.push("<path style=\"fill: "+s.Um(Q.RP)+"\" d=\""+s.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1])+"\" id=\"Background\" />");
else{Q.Fl=!0;s.azo(Q,l,j,B)}if(s.YT(Q)<.25&&!Q.Fl){Q.Yb[0]=Q.Yb[2]=!1;s.aEy(l,Q,j);U=l}else if(s.YT(Q)<.25||Q.Fl)U=l;
else{var N=.52+s.YT(Q)*.2;if(s.YT(Q)<.5)N=1-N;var R=l.slice(0),S=l.slice(0);if(s.YT(Q)<.5)R[2]=S[0]=Math.round(N*b);
else R[3]=S[1]=Math.round(N*h);if(s.YT(Q)<.5){var a=R;R=S;S=a}U=R;s.arj(Q,S,j,B)}s.aDY(Q,U,j);j.push("</svg>");
j=j.join("\n");var g=e.U(Math.round(j.length*1.5)),i=J.OY(j,g,0);return[g.buffer.slice(0,i),Q.jb]};bt.NT.aEy=function(b,h,G){var H=bt.NT,B=b[2]-b[0],j=b[3]-b[1];
if(H.YT(h)<.5){G.push("<path id=\"Border\" style=\"fill: "+H.Um(h.SR)+"\" d=\""+H.akx(b[0],b[1],b[2]-b[0],b[3]-b[1],h.P2)+"\" />")}else{var s=H.YT(h)<.5?0:1,q=(s==0?j:B)/4,Q=H.xS(h,s,b,G,q,!0),Q=H.xS(h,s+2,b,G,q,!0,Q)}};
bt.NT.aDY=function(b,h,G){var H=bt.NT,B="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),j=2*Math.floor(H.YT(b)*B.length/2),s=h[2]-h[0],q=h[3]-h[1],a=0,U=0;
b.dU=(b.Ps+s)*.5*(.04+H.YT(b)*.05);b.dU=Math.min(b.dU,q*.4,s*.12);b.dU=Math.round(b.dU);var Q=Math.min(b.dU*B[j].length*(.35+.3*H.YT(b)),s*.9),l=(h[1]+h[3])/2,N=e.i_(b.RP)<.85?{$:1,B:1,J:1}:{$:.1,B:.1,J:.1};
if(H.YT(b)<.25&&b.Yb[0]){U=0;a=h[0]+b.P2}else if(H.YT(b)<.33&&b.Yb[2]){U=2;a=h[2]-b.P2}else{U=1;a=(h[0]+h[2])/2}var R=N.$==1?"0,0,0":"255,255,255",S=b.Fl&&H.YT(b)<1;
if(S){var g=h[0],i=s,y=l-b.dU*1.1,o=b.dU*2.2,v=.7;if(U==1&&H.YT(b)<.5){g=y=.2*Math.min(s,q);i=s-2*y;
o=q-y-y}else if(H.YT(b)<.7){g=y=0;i=s;o=q;v=.25}G.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+v+"\" d=\""+H.Rect(g,y,i,o)+"\" />")}if(H.YT(b)<.4){var Z=b.dU*.07;
Z*=1.5+H.YT(b)*1;if(U==-1&&s/q<3&&!S){G.push("<path id=\"Bar-bottom\" style=\"fill: "+H.Um(N)+"\" d=\""+H.Rect(a-Q/2,l+b.dU*1.1-Z/2,Q,Z)+"\" />");
G.push("<path id=\"Bar-top\"    style=\"fill: "+H.Um(N)+"\" d=\""+H.Rect(a-Q/2,l-b.dU*1.1-Z/2,Q,Z)+"\" />")}if(U!=1){G.push("<path id=\"Bar\" style=\"fill: "+H.Um(N)+"\" d=\""+H.Rect(a-Z/2,l-b.dU*.8,Z,b.dU*.8*2)+"\" />");
a+=(U==0?1:-1)*b.dU/3}}var W=b.dU*.4;G.push(H.apd(B[j+1],a,l+W*1.6,W,N,U,b._G));G.push(H.apd(B[j],a,l+b.dU*.04,b.dU,N,U,b.nP))};
bt.NT.arj=function(b,h,G,H){var B=h[2]-h[0],j=h[3]-h[1],s=Math.max(B,j),q=Math.min(B,j),Q=bt.NT;if(s/q<5&&!b.Fl&&!1){Q.azo(b,h,G,H)}else if(Q.YT(b)<0)G.push("<path style=\"fill: "+Q.Um(b.SR)+"\" d=\""+Q.Rect(h[0],h[1],B,j)+"\" />");
else{var a=0;if(h[3]!=b.CN)a=0;if(h[2]!=b.Ps)a=3;if(h[0]!=0)a=1;if(h[1]!=0)a=2;var l=a+2&3;if(s/q<3){var U=Q.a6w(l),N=U[Math.round(Q.YT(b)*(U.length-1))],R=N.Lw.slice(0,4),S=R.indexOf(1);
N=JSON.parse(JSON.stringify(N));var g=-1;if(R!="0000"){var i=new eq;if(N.Lw[5]=="0"){if(S==3&&a==1){g=1;
i.scale(-1,1)}else g=S}else{var y=l;while(y==l)y=Math.floor(Q.YT(b)*4)&3;i.rotate((-S+y)*Math.PI/2)}Q.h(N,i)}var o=Q.MP(N),v=B-2*b.P2,Z=j-2*b.P2;
if(g!=-1){if((g&1)==0)Z-=b.P2;else v-=b.P2}var W=Math.min(v/o.j,Z/o._),d=new eq;d.translate(-o.x,-o.y);
d.scale(W,W);var $=(B-o.j*W)/2,I=(j-o._*W)/2;if(g!=-1){if(g==3)$=0;if(g==0)I=0;if(g==1)$=B-o.j*W;if(g==2)I=j-o._*W}d.translate(h[0]+$,h[1]+I);
Q.kQ(b,N,d,b.SR,G)}else{Q.xS(b,a,h,G,1e9)}}};bt.NT.azo=function(b,h,G,H){var B=h[2]-h[0],j=h[3]-h[1],s=Math.max(B,j),q=Math.min(B,j),Q=bt.NT,a=Q.Y2(b),l,U,N,R=H[0]instanceof ArrayBuffer;
if(R){l="data:image/jpg;base64,"+dJ.AD(H[0]);U=H[1];N=H[2]}else{var S=Math.floor(a*H.length),g=H[S];
b.jb=g;l=g.webformatURL;U=g.webformatWidth;N=g.webformatHeight}var i=h[0],y=h[1],o=B,v=j;if(B/j>U/N){v=o*N/U;
y=y-(v-j)/2}else{o=v*U/N;i=i-(o-B)/2}if(R){G.push("<defs>");G.push("<image width=\""+U+"\" height=\""+N+"\" id=\"Background\" href=\""+l+"\" />");
G.push("</defs>");var Z=o/U;G.push("<use href=\"#Background\" transform=\""+bt.K5(new eq(Z,0,0,Z,i,y))+"\" />")}else{var W="cp"+Math.random();
G.push("<clipPath id=\""+W+"\">");G.push("<path style=\"fill: "+Q.Um(b.SR)+"\" d=\""+Q.Rect(h[0],h[1],B,j)+"\" />");
G.push("</clipPath>");G.push("<image  clip-path=\"url(#"+W+")\" xlink:href=\""+l+"\" x=\""+i+"\" y=\""+y+"\" width=\""+o+"\" height=\""+v+"\" />")}};
bt.NT.apd=function(b,h,G,H,B,j,s){var q=bt.NT;return"<text x=\""+h+"\" y=\""+G+"\" style=\"fill:"+q.Um(B)+"; font-size:"+H+"px; text-anchor:"+["start","middle","end"][j]+"; font-family:"+s[2]+";\"><tspan>"+b+"</tspan></text>"};
bt.NT.kQ=function(b,h,G,H,B){var j=bt.NT,s=[];for(var Y=0;Y<h.VD.length;Y++){s.push(H);if(b.ass){H=(Y&1)==b.al0?{$:1,B:1,J:1}:s[0]}}B.push("<g id=\""+h.Lw.split("-")[2]+":::\" style=\"transform: "+bt.K5(G)+";\" >");
for(var Y=0;Y<h.VD.length;Y++){var q=h.VD[Y];H=s.pop();B.push("<path style=\"fill: "+(H?j.Um(H):"#"+q[0])+"\" d=\""+Typr.U.pathToSVG({crds:q[1].m,cmds:q[1].Gc})+"\" />")}B.push("</g>")};
bt.NT.aDR=function(){if(SHPS[0].Lw)return;for(var Y=0;Y<SHPS.length;Y++){var b=SHPS[Y],h=b[1],G=[];for(var H=0;
H<h.length;H++){var B=h[H],j=Typr.U.SVGToPath(B[1]);G.push([B[0],{Gc:j.cmds,m:j.crds}])}SHPS[Y]={Lw:b[0],VD:G}}};
bt.NT.a6w=function(b){var h=SHPS;bt.NT.aDR();var G=[];for(var Y=0;Y<h.length;Y++){var H=h[Y],B=H.Lw.slice(0,4);
if(B=="0000"){G.push(H);continue}if(["1000","0100","0010","0001"].indexOf(B)==-1)continue;var j=B.indexOf("1");
if(H.Lw[5]=="0"&&b==j&&j!=3)continue;G.push(H)}return G};bt.NT.xS=function(b,h,G,H,B,j,s){var q=SHPS,o,v;
bt.NT.aDR();var Q=bt.NT,a=[];for(var Y=0;Y<q.length;Y++){var l=q[Y],U=l.Lw.slice(0,4);if(["1110","1101","1011","0111"].indexOf(U)==-1)continue;
var N=U.indexOf("0")+2&3;if(l.Lw[5]=="0")if(j==!0||h!=N&&!(h==1&&N==3))continue;a.push(l)}var R=s!=null?s:Math.floor(Q.YT(b)*a.length),l=a[R],l=JSON.parse(JSON.stringify(l)),U=l.Lw.slice(0,4),N=U.indexOf("0")+2&3;
if(N==3&&h==1)e.h(l,new eq(1,0,0,-1,0,1e3));var S=new eq;S.translate(-500,-500);S.rotate(-N*Math.PI/2);
S.translate(500,500);Q.h(l,S);var g=G[3]-G[1],i=G[2]-G[0],y=Q.MP(l);if(y.y<0){y._+=y.y;y.y=0}if(y.y>0){y._+=y.y;
y.y=0}if((h&1)==0){v=g;o=i}else{o=g;v=i}var Z=Math.min(Math.min(.5+.5*Q.YT(b))*Math.min(i,g),B)/y._,W=Math.ceil(o/(1e3*Z)),d=new eq,$=new eq;
$.scale(Z,Z);if(h==0||h==2){$.translate(-(i/2),-(g/2));$.rotate(-h*Math.PI/2);$.translate(i/2+G[0],g/2+G[1])}else{$.rotate(Math.PI/2);
$.scale(1,-1);$.translate(G[0],G[1]);if(h==1){$.scale(-1,1);$.translate(i,0)}}H.push("<g id=\"Border-"+["top","right","bottom","left"][h]+":::\">");
for(var Y=0;Y<W;Y++){var I=d.clone();I.concat($);Q.kQ(b,l,I,b.SR,H);d.translate(1e3-2,0)}H.push("</g>");
return R};bt.NT.Rect=function(b,h,G,H){return Typr.U.pathToSVG({crds:[b,h,b+G,h,b+G,h+H,b,h+H],cmds:["M","L","L","L","Z"]})};
bt.NT.akx=function(b,h,G,H,B){var j=[b,h,b+G,h,b+G,h+H,b,h+H];b+=B;h+=B;G-=2*B;H-=2*B;j.push(b,h,b,h+H,b+G,h+H,b+G,h);
return Typr.U.pathToSVG({crds:j,cmds:"M L L L Z M L L L Z".split(" ")})};bt.NT.aDQ=function(b,h){var G=e.XH(b.$,b.B,b.J);
G.Vp=Math.max(.1,Math.min(.9,G.Vp+h));return e.Jr(G.CN,G.Xk,G.Vp)};bt.NT.ay9=function(b,h){var G=e.XH(b.$,b.B,b.J);
G.CN+=h;return e.Jr(G.CN,G.Xk,G.Vp)};bt.NT.a5d=function(b){var h=e.XH(b.$,b.B,b.J);h.Vp=1-h.Vp;return e.Jr(h.CN,h.Xk,h.Vp)};
bt.NT.acc=function(b,h){var G=b.$-h.$,H=b.B-h.B,B=b.J-h.J;return Math.sqrt(G*G+H*H+B*B)};bt.NT.aA2=function(b){var h=bt.NT;
return{$:h.YT(b),B:h.YT(b),J:h.YT(b)}};bt.NT.Um=function(b){return CSS._K({$:b.$*255,B:b.B*255,J:b.J*255})};
bt.NT.MP=function(b){var h=b.VD,G=new io;for(var Y=0;Y<h.length;Y++)G=G.gJ(e.N.MP(h[Y][1].m));return G};
bt.NT.h=function(b,h){var G=b.VD;for(var Y=0;Y<G.length;Y++)e.N.h(G[Y][1].m,h,G[Y][1].m)};bt.NT.YT=function(b){b.a2c++;
var h=b.a2c&3;if(h==0)b.LW=bt.NT.bD(b.LW);var G=b.LW>>>8*h&255;return G*(.99999999/255)};bt.NT.Y2=function(b){var h=bt.NT.bD(b.LW);
b.LW=bt.NT.bD(h);return h*(1/4294967295)};bt.NT.bD=function(b){b=(b^61^b>>>16)>>>0;b=b+(b<<3)>>>0;b=(b^b>>>4)>>>0;
b=b*668265261>>>0;b=(b^b>>>15)>>>0;return b};var ib={};ib.parse=function(b){var h=new Uint8Array(b),G=null;
if(h[0]==80&&h[1]==75){var H=Date.now(),B=UZIP.parse(h.buffer),G=B["document.json"];G=JSON.parse(J.S2(G,0,G.length));
ib.xw(G,B)}else{var j=bs.parse(b);G=ib.a7D(j[2][0][1])}return G};ib.xw=function(b,h){var G=typeof b;
if(G=="string"||G=="number"||G=="boolean"||b==null)return b;if(b instanceof Array){for(var Y=0;Y<b.length;
Y++)b[Y]=ib.xw(b[Y],h);return b}var H=b._class;if(H==null)return b;if(H=="MSJSONFileReference"){var B=b._ref;
if(!1){}else if(h[B+".json"]!=null){var j=h[B+".json"],s=j.length;for(var Y=0;Y<s;Y++)if(j[Y]==11||j[Y]==3)j[Y]=32;
var q=J.S2(j,0,s);b=JSON.parse(q)}else if(h[B+".png"]!=null)return{key:B.split("/").pop(),bdata:h[B+".png"]};
else if(h[B+".jpg"]!=null)return{key:B.split("/").pop(),bdata:h[B+".jpg"]};else if(h[B+".pdf"]!=null)return{key:B.split("/").pop(),bdata:h[B+".pdf"]};
else if(h[B]!=null)return{key:B.split("/").pop(),bdata:h[B]};else{console.log(b,h);return}}else if(H=="MSAttributedString"){var q=atob(b.archivedAttributedString._archive),Q=q.length,a=new Uint8Array(Q);
for(var Y=0;Y<Q;Y++)a[Y]=q.charCodeAt(Y);b.archivedAttributedString=ib.a7D(a)}for(var l in b)b[l]=ib.xw(b[l],h);
return b};ib.aeR=function(b,h,G,H){if(b instanceof Uint8Array)return null;if(H.indexOf(b)!=-1)return null;
H.push(b);if(b==h)return G;for(var B in b){G.push(B);var j=ib.aeR(b[B],h,G,H);if(j){console.log(b,j);
throw"e"}G.pop()}};ib.a7D=function(b){var h=fA.parse(b,0),G=h.$objects,H=new Uint8Array(G.length),B=ib.Pn(G,H,h.$top.root);
for(var Y=0;Y<G.length;Y++)if(H[Y]==0&&Y!=0){console.log(Y,G[Y]);ib.aeR(B,Y,[],[])}for(var Y=0;Y<G.length;
Y++){var j=G[Y];if(j._class&&(j._class=="bitmap"||j._class=="fill"&&j.fillType==4&&(j.image||j.imageSHA))){var s=j.image,q=j.imageSHA,Q=null,a=null;
if(s=="$null")s=null;if(q=="$null")q=null;if(s&&s.data){a=s.sha1["NS.bytes"];a=btoa(J.lA(a,0,a.length));
Q=s.data instanceof Uint8Array?s.data:s.data["NS.bytes"]}else if(s==null&&q==null){var l=aT.JR("PNG").kf([[e.U(4).buffer]],1,1);
Q=new Uint8Array(l)}else{var U=(B.assets?B.assets.imageCollection:B.images).images;if(q)a=q instanceof Uint8Array?q:q["NS.bytes"];
else a=s.sha1["NS.bytes"];a=btoa(J.lA(a,0,a.length));var Q=U[a].data;if(Q["NS.bytes"])Q=Q["NS.bytes"]}Q=new Uint8Array(Q.buffer.slice(Q.byteOffset,Q.byteOffset+Q.length));
delete j.imageSHA;j.image={key:a,bdata:Q}}}return B};ib.aDj=function(b){return b.slice(0,11)=="MSImmutable"?"MS"+b.slice(11):b};
ib.Pn=function(b,h,G){var H=b[G];if(h[G]==1){return H}h[G]=1;if(typeof H=="string")return H;if(typeof H=="number")return H;
if(typeof H=="boolean")return H;if(H instanceof Array)return H;if(H instanceof Uint8Array){return H}if(b[H.$class]==null){if(H.$class==null&&H["NS.data"]!=null)return H;
console.log(G,H);throw"e"}var B=b[H.$class],j=ib.aDj(B.$classname);h[H.$class]=1;H.$class=j;if(ib.alm[j]){delete H.$class;
H._class=ib.alm[j]}var s=ib.Pn;if(j=="NSMutableArray"||j=="NSArray"){var q=[];if(H["NS.objects"]!=null)for(var Y=0;
Y<H["NS.objects"].length;Y++)q.push(s(b,h,H["NS.objects"][Y]));else for(var Y=0;H["NS.object."+Y]!=null;
Y++)q.push(s(b,h,H["NS.object."+Y]));b[G]=q;return q}if(j=="NSDictionary"||j=="NSMutableDictionary"){var Q={$class:j};
if(H["NS.keys"]!=null)for(var Y=0;Y<H["NS.keys"].length;Y++){var a=s(b,h,H["NS.keys"][Y]);if(a instanceof Uint8Array)a=btoa(ib.m5.lA(a,0,a.length));
else if(typeof a!="string"&&typeof a!="number")a=btoa(ib.m5.lA(a["NS.bytes"],0,a["NS.bytes"].length));
Q[a]=s(b,h,H["NS.objects"][Y])}else for(var Y=0;H["NS.key."+Y]!=null;Y++){var a=s(b,h,H["NS.key."+Y]);
if(a instanceof Uint8Array)a=btoa(ib.m5.lA(a,0,a.length));else if(typeof a!="string"&&typeof a!="number")a=btoa(ib.m5.lA(a["NS.bytes"],0,a["NS.bytes"].length));
Q[a]=s(b,h,H["NS.object."+Y])}for(var l in H)delete H[l];for(var l in Q)H[l]=Q[l];return H}if(j=="NSURL")return{$class:j,base:s(b,h,H["NS.base"]),relative:s(b,h,H["NS.relative"])};
if(ib.aof.indexOf(j)!=-1){b[G]=s(b,h,H.array_do);return b[G]}if(H.do_objectID!=null)H.do_objectID=s(b,h,H.do_objectID);
if(ib.aei.indexOf(j)!=-1)return H;var U=ib.aoX[j];if(U==null){console.log(b,H);throw"unknown class "+j}for(var Y=0;
Y<U.length;Y++)if(H[U[Y]]!=null)H[U[Y]]=s(b,h,H[U[Y]]);if(j=="MSTextLayer"){var N=H,R,S,g,i;if(N.attributedString)R=N.attributedString.archivedAttributedString;
else R=N.storage;i=R.NSString;if(typeof i!="string")i=J.S2(i["NS.bytes"],0,i["NS.bytes"].length);if(R.NSAttributeInfo)S=R.NSAttributeInfo["NS.bytes"];
else{var y=i.length,o=[];while(y>0){var v=Math.min(100,y);o.push(v,0);y-=v}S=new Uint8Array(o)}g=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var Z={$class:"NSAttributedString",NSString:i,NSAttributes:g};N.attributedString={_class:"MSAttributedString",archivedAttributedString:Z};
Z.NSAttributeInfo={$class:"NSMutableData","NS.data":S};delete N.storage}return H};ib.m5={JQ:function(b,h){return b[h+1]<<8|b[h]},C:function(b,h){return b[h+3]<<24|b[h+2]<<16|b[h+1]<<8|b[h]},lA:function(b,h,G){var H="";
for(var Y=0;Y<G;Y++)H+=String.fromCharCode(b[h+Y]);return H}};ib.alm={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
ib.aof=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
ib.aei="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
ib.aoX={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var fA={};fA.parse=function(b,h){var G=J.lA(b,h,8);h+=8;var H=b.length-32,B=fA.parse.aiL(b,H),j=[];if(B.Lg==1){var h=H-B.Lg*B.XE;
for(var Y=0;Y<B.XE;Y++)j.push(b[h+Y])}else if(B.Lg==2){var h=H-B.Lg*B.XE;for(var Y=0;Y<B.XE;Y++)j.push(J.JQ(b,h+Y*2))}else if(B.Lg==4){var h=H-B.Lg*B.XE;
for(var Y=0;Y<B.XE;Y++)j.push(J.C(b,h+Y*4))}else{throw"e"}var s=fA.parse.Pn(b,j,B.root,B);return s};
fA.parse.Pn=function(b,h,G,H){var B=fA.m5,j=H.aa3,s=j==4?B.C:j==2?B.JQ:B.anq,q=fA.parse,Q=h[G],a=b[Q],l=a>>4,U=a&15,R=null;
Q+=1;if([4,5,6,10,12,13].indexOf(l)!=-1&&U==15){var N=q.dj(b,Q);Q+=N.Ho;U=N.P}if(!1){}else if(l==0)R=U==8?!1:U==9?!0:null;
else if(l==1)R=q.dj(b,Q-1).P;else if(l==2)R=1<<U==4?J.N$(b,Q):J.Oj(b,Q);else if(l==3)R=J.Oj(b,Q);else if(l==4)R=new Uint8Array(b.buffer,Q,U);
else if(l==5)R=J.lA(b,Q,U);else if(l==6)R=J.Ss(b,Q,U);else if(l==8){R=0;for(var Y=0;Y<U+1;Y++)R=R<<8|b[Q+Y]}else if(l==10){R=[];
for(var Y=0;Y<U;Y++)R.push(q.Pn(b,h,s(b,Q+j*Y),H))}else if(l==12){R=[];for(var Y=0;Y<U;Y++)R.push(q.Pn(b,h,s(b,Q+j*Y),H))}else if(l==13){R={};
for(var Y=0;Y<U;Y++){var S=q.Pn(b,h,s(b,Q+j*Y),H),g=q.Pn(b,h,s(b,Q+j*(U+Y)),H);R[S]=g}}else throw"unknown mask "+l;
return R};fA.parse.dj=function(b,h){var G=1<<(b[h]&15),H=0;for(var Y=0;Y<G;Y++)H=H<<8|b[h+1+Y];return{P:H,Ho:G+1}};
fA.parse.aiL=function(b,h){var G={};h+=6;G.Lg=b[h];h++;G.aa3=b[h];h++;h+=4;G.XE=J.C(b,h);h+=4;h+=4;G.root=J.C(b,h);
h+=4;h+=4;G.axq=J.C(b,h);h+=4;return G};fA.m5={anq:function(b,h){return b[h]},JQ:function(b,h){return b[h]<<8|b[h+1]},C:function(b,h){return b[h]<<24|b[h+1]<<16|b[h+2]<<8|b[h+3]},lA:function(b,h,G){var H="";
for(var Y=0;Y<G;Y++)H+=String.fromCharCode(b[h+Y]);return H}};var bs={parse:function(b){var h=new Uint8Array(b),G=bs.U8(h),H=[],B=new Uint8Array(h.length),j=[];
H.push(j);bs.nb(h,G,1,B,j);for(var Y=0;Y<j.length;Y++){var s=[];H.push(s);bs.nb(h,G,j[Y][3],B,s,Y==11);
j[Y][3]=Y+1}return H},nb:function(b,h,G,H,B,j){G--;var s=G*h.OM+(G==0?100:0),q=b[s],Q=bs.JQ(b,s+1),a=bs.JQ(b,s+3),l=bs.JQ(b,s+5),N=0;
if(l==0)l=65536;var U=b[s+7];s+=8;if(q==2||q==5){N=bs.C(b,s);s+=4}for(var R=0;R<a;R++){var S=G*h.OM+bs.JQ(b,s+2*R),g=-1,i=0,y=0,o=0;
if(q==2||q==5){g=bs.C(b,S);S+=4}if(q==2||q==10||q==13){i=bs.ll(b,S);S+=i.Ho}if(q==5||q==13){y=bs.ll(b,S);
S+=y.Ho}if(q==2||q==5){bs.nb(b,h,g,H,B,j);continue}var v=h.OM-(G==0?100:0),Z=i.ZV,W=q==13?v-35:Math.floor((v-12)*64/255)-23,d=Math.floor((v-12)*32/255)-23,$=d+(Z-d)%(v-4);
if(Z<=W){bs.MI(b,S,H,0,Z)}else{var I=$<=W?$:d,k=0;bs.MI(b,S,H,0,I);k+=I;o=bs.C(b,S+I);while(o!=0){var _=(o-1)*h.OM;
o=bs.C(b,_);var D=Math.min(h.OM-4,Z-k);bs.MI(b,_+4,H,k,D);k+=D}}B.push(bs.awS(H,Z))}if(N!=0)bs.nb(b,h,N,H,B,j)},awS:function(b,h){var G=0,H=bs.ll(b,G);
G+=H.Ho;var B=[],j=[];while(G<H.ZV){var s=bs.ll(b,G);G+=s.Ho;B.push(s.ZV)}if(G!=H.ZV)throw"e";for(var Y=0;
Y<B.length;Y++){var s=B[Y];if(!1){}else if(s==0)j.push(null);else if(s==1){j.push(bs.acC(b,G));G+=1}else if(s==2){j.push(bs.KV(b,G));
G+=2}else if(s==3){j.push(bs.ace(b,G));G+=3}else if(s==4){j.push(bs.dj(b,G));G+=4}else if(s==5){j.push(bs.C(b,G+2));
G+=6}else if(s==6){j.push(bs.C(b,G)+":"+bs.C(b,G+4));G+=8}else if(s==7){j.push(bs.a9N(b,G));G+=8}else if(s==8)j.push(0);
else if(s==9)j.push(1);else if(s>=12&&(s&1)==0){var q=s-12>>1,Q=new Uint8Array(q);bs.MI(b,G,Q,0,q);j.push(Q);
G+=q}else if(s>=13&&(s&1)==1){var q=s-13>>1;j.push(bs.S2(b,G,q));G+=q}else throw"unknonw type "+s}return j},U8:function(b){if(!(b[18]==1&&b[19]==1&&b[20]==0&&b[21]==64&&b[22]==32&&b[23]==32))throw"unexpected SQL3 header";
var h={U7:bs.lA(b,0,15),OM:bs.JQ(b,16),anZ:bs.C(b,24),size:bs.C(b,28),aj9:bs.C(b,32),aoR:bs.C(b,36),acR:bs.C(b,40),a3h:bs.C(b,44),a9k:bs.C(b,48),aC2:bs.C(b,52),ad7:bs.C(b,56),afn:bs.C(b,60),aiA:bs.C(b,64)!=0,aqK:bs.C(b,68),aez:bs.C(b,92),arL:bs.C(b,96)};
if(h.OM==1)h.OM=65536;if(h.ad7!=1)throw"unsupported text encoding "+h.ad7;return h},amf:function(b,h){return b[h]<<16|b[h+1]<<8|b[h+2]},ace:function(b,h){var G=bs.amf(b,h),H=G&8388608;
return H?-(16777215-G+1):G},acC:function(b,h){bs.lH[0]=b[h];return bs.aqm[0]},dj:function(b,h){var G=bs.lH;
for(var Y=0;Y<4;Y++)G[Y]=b[h+3-Y];return bs.aog[0]},KV:function(b,h){var G=bs.lH;G[0]=b[h+1];G[1]=b[h];
return bs.a1z[0]},JQ:function(b,h){return b[h]<<8|b[h+1]},C:function(b,h){var G=bs.lH;for(var Y=0;Y<4;
Y++)G[Y]=b[h+3-Y];return bs.ac6[0]},a9N:function(b,h){var G=bs.lH;for(var Y=0;Y<8;Y++)G[Y]=b[h+7-Y];
return bs.ahn[0]},ll:function(b,h){var G=h,g1=0;while(!0){var H=b[h];h++;g1=g1*128+(H&127);if(H<128)break}return{ZV:g1,Ho:h-G}},lA:function(b,h,G){var H="";
for(var Y=0;Y<G;Y++)H+=String.fromCharCode(b[h+Y]);return H},S2:function(b,h,G){var H="";for(var Y=0;
Y<G;Y++)H+="%"+bs.arZ(b[h+Y].toString(16));try{H=decodeURIComponent(H);return H}catch(ku){return H}},MI:function(b,h,G,H,B){if(B!=0&&(b[h+B-1]==null||G[H+B-1]==null)){console.log(h,H,B);
throw"e"}for(var Y=0;Y<B;Y++)G[H+Y]=b[h+Y]},arZ:function(g1){return g1.length<2?"0"+g1:g1}};bs.lH=new Uint8Array(8);
bs.aqm=new Int8Array(bs.lH.buffer);bs.a1z=new Int16Array(bs.lH.buffer);bs.aog=new Int32Array(bs.lH.buffer);
bs.ac6=new Uint32Array(bs.lH.buffer);bs.ahn=new Float64Array(bs.lH.buffer);bs.ap3=function(b,h){var G=b[0],H={};
for(var Y=0;Y<G.length;Y++){var B=G[Y],j=B[1];if(B[0]!="table")continue;var s=B[4];s=s.slice(s.indexOf("(")+1,s.indexOf(")"));
s=s.split(",");for(var q=0;q<s.length;q++){var Q=s[q].trim().split(" ")[0];if(h&&Q.startsWith(j))Q=Q.slice(j.length);
s[q]=Q}var a=H[j]=[],l=b[B[3]];for(var q=0;q<l.length;q++){var U=l[q],N={};a.push(N);for(var R=0;R<s.length;
R++){if(N[s[R]]!=null)throw"e";N[s[R]]=U[R]}}}return H};function fX(b,h,G){this.FK=b;this.at=h;this.aDb=G;
this.JM=new cJ(0,0);this.Wh=-1;this.eC=0;this.uX=0;this.cO=new io;this.WF=[];this.yJ=null;this.ad5=null;
this.xd=null;this.oi=null;this.DS=null;this.anD=null}fX.prototype.StartPage=function(b,h,G,H,B){var j=this.at,s=j.$K(),q=1,Q=(G-b)*(H-h);
if(B!=null)Q=B;while(Q*s*s/(q*q)>2*8192*8192)q++;j.scale(1/q,1/q);this.ad5=[b,h,G,H];var q=j.$K();b=Math.round(b*q);
h=Math.round(h*q);G=Math.round(G*q);H=Math.round(H*q);var a=this.FK,l=this.xd;if(l==null){j.Kv=-b}else{var U=l[2]-l[0]+30,N=Math.round(G-b)+30;
if(this.JM.x+U+N>8192){j.Kv=-b;this.JM.x=0;this.JM.y+=this.uX+120;this.uX=0}else{j.Kv+=U;this.JM.x+=U}}j.d0=this.JM.y+(this.aDb?H:-h);
this.uX=Math.max(this.uX,Math.round(H-h));this.xd=[b,h,G,H];this.a7G=[];a.R.push(a.b2())};fX.prototype.StartTGroup=function(b){this.LT();
var h=this.FK;h.R.push(h.b2());var G=fX.Ju[b.bmode];if(G==null)G="norm";var H=h.Cx();H.cb("<Group>");
H.add.lsct=c1.$I;H.Am=G=="norm"?"pass":G;H.Xp=24;H.opacity=Math.round(255*b.ca);this.a7G.push(H)};fX.prototype.EndTGroup=function(){this.FK.R.push(this.a7G.pop())};
fX.prototype.a4y=function(){var b=this.FK,h=b.R[b.R.length-1];return h};fX.prototype.au4=function(){var b=this.FK,h=b.Cx();
h.cb("Path "+b.R.length);this.FK.R.push(h);h.Xp|=16;h.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}};
h.add.vmsk=new C.cW;h.add.vstk=dE.QA.Az();return h};fX.prototype.sc=function(b){var h={m:b.crds,Gc:b.cmds},G=e.N.zv(h,!1);
e.n.Gl(G,this.at);return G};fX.avd=function(b,h){for(var Y=0;Y<b.length;Y++)if(b[Y].Vj!=null)b[Y].Vj=h};
fX.rr=function(b){return e.F.t1({$:b[0]*255,B:b[1]*255,J:b[2]*255})};fX.rt=function(b){return new eq(b[0],b[1],b[2],b[3],b[4],b[5])};
fX.prototype.Stroke=function(b){if(this.Wh!=-1&&this.Wh!=this.eC)return;if(b.pth.cmds.length<=1)return;
var h=this.sc(b.pth),s=null;if(h.length<=2)return;this.Tr(b);fX.avd(h,-1);h[2].Vj=1;var G=this.a4y(),H=dE.QA.Az(null,!0),B=b.ctm,j={};
fX.agw(j,b);dE.QA.write(H,j,Math.sqrt(Math.abs(B[0]*B[3]-B[1]*B[2]))*this.at.$K());if(!(b.COLR instanceof Array)){s=e.N.MP(b.pth.crds);
var q=e.N.Q0(s);e.N.h(q.m,this.at,q.m);s=e.N.MP(q.m)}var Q=fX.yi(b.COLR,this.at,h),a=["SoFi","GrFl","patternFill"].indexOf(Q.type),l=[dE.L1,dE.WH,dE.aa][a],U=H.strokeStyleContent.v={classID:dE.QA.kR[a]};
for(var Y=0;Y<l.length;Y++)U[l[Y]]=Q.P.v[l[Y]];var N=G!=null&&G.add.vmsk!=null&&!G.fu(),R=N&&!G.add.vstk.fillEnabled.v&&JSON.stringify(H)==G.add.vsjs;
if(R){var S=G.add.vmsk.d;for(var Y=2;Y<h.length;Y++)S.push(h[Y])}else{var g=N&&!G.add.vstk.strokeEnabled.v&&C.cW.auh(G.add.vmsk.d,h,!0);
if(g){G.add.vstk=H;H.fillEnabled.v=!0}else{G=this.au4();G.add.vmsk.d=h;G.add.vstk=H;G.add.vsjs=JSON.stringify(H)}}};
fX.agw=function(b,h){b.nx=h.lwidth;b.dE=h.mlimit;b.t7=h.dash.slice(0);b.wt=h.doff;b.VV=h.ljoin;b.vB=h.lcap;
b.fJ=1};fX.Pv=function(b,h){h.lwidth=b.nx;h.mlimit=b.dE;h.doff=b.wt;h.ljoin=b.VV;h.lcap=b.vB;h.sal=b.fJ;
h.dash=b.t7.slice(0);if(h.dash.length==1&&h.dash[0]==0)h.dash=[]};fX.prototype.Fill=function(b,h){if(this.Wh!=-1&&this.Wh!=this.eC)return;
if(b.ca==0)return;var G=b.pth.cmds;if(G.length==0)return;if(G.length==2&&JSON.stringify(G)=="[\"M\",\"L\"]")return;
var H=e.N.MP(b.pth.crds),B=e.N.MP(b.cpth.crds);if(H.D4(B).Zx())return;var j=b.pth,s=UDOC.G.isBox(j,[H.x,H.y,H.x+H.j,H.y+H._]),q=b.cpth,Q=UDOC.G.isBox(q,[B.x,B.y,B.x+B.j,B.y+B._]);
if(s&&Q&&H.X()>B.X()*2){var a=H.D4(B),l=a.x,U=a.y,N=l+a.j,R=U+a._;j={cmds:["M","L","L","L","Z"],crds:[l,U,N,U,N,R,l,R]};
H=a}else if(this.oi==null&&UDOC.G.isBox(j,[H.x,H.y,H.x+H.j,H.y+H._])&&H.ku(B)){j=q;H=B}else this.Tr(b);
var S=this.sc(j),g=fX.yi(b.colr,this.at,S),i=this.a4y(),y=i!=null&&i.opacity==Math.round(255*b.ca)&&i.add.vstk!=null&&!i.add.vstk.strokeEnabled.v&&i.add.SoCo&&g.type=="SoFi"&&JSON.stringify(i.add.SoCo.Clr.v)==JSON.stringify(g.P.v.Clr.v);
if(y){var o=!1;for(var Y=0;Y<S.length;Y++){if(S[Y].Vj==0||S[Y].Vj==2)o=!0}if(o){var v=e.N.MP(e.n.hq(i.add.vmsk.d)),Z=e.N.MP(e.n.hq(S));
y=v.D4(Z).Zx()}}if(y){var W=i.add.vmsk.d;for(var Y=2;Y<S.length;Y++)W.push(S[Y])}else{i=this.au4();delete i.add.SoCo;
i.add.vmsk.d=C.cW.O6(S);fX.BY(b.colr,i,this.at,S);fX.anN(b,i)}};fX.BY=function(b,h,G,H){var B=fX.yi(b,G,H),j=null,s=null;
h.add.vstk.fillEnabled.v=!0;if(B.type=="SoFi"){j="SoCo";s=dE.L1}if(B.type=="GrFl"){j="GdFl";s=dE.WH}if(B.type=="patternFill"){j="PtFl";
s=dE.aa}if(j!=null){h.add[j]={classID:"null"};for(var Y=0;Y<s.length;Y++){var q=s[Y];h.add[j][q]=B.P.v[q]}if(j=="GdFl")h.add._fstl=B.E_}};
fX.prototype.Tr=function(b){var h=this.FK,G=b.cpth,H=G.cmds.join(""),B=G.crds,j=H+" "+B.join(","),s=UDOC.G.isBox(G,this.ad5);
if(s&&this.oi==null)return;if(j==this.oi)return;this.LT();if(!s){this.oi=j;h.R.push(h.b2());var q=h.Cx();
q.cb("Mask");q.add.lsct=c1.N_;q.Am="pass";q.Xp=24;var Q=q.add.vmsk=new C.cW;Q.d=this.sc(b.cpth);if(UDOC.G.isBox(G)){this.DS=e.n.d4(Q.d);
this.DS.Mx(3,3)}else this.DS=null;this.anD=q}};fX.prototype.LT=function(){var b=this.FK;if(this.oi!=null){var h=b.R.length-1,Y=h,G=!1;
while(Y>=0&&b.R[Y].add.lsct!=c1.cH)Y--;var H=this.DS;if(H){var B=new io,j=h;while(j>Y){B=b.R[j].xu(this.FK,!1,!0);
j--}G=H.ku(B)}if(G){this.WF.splice(Y,1);b.R.splice(Y,1)}else{b.R.push(this.anD)}this.oi=null}};fX.yi=function(b,h,G){var H,B,j;
if(b.length!=null){H="SoFi";var s=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);B={t:"Objc",v:s};B.v.Clr.v=fX.rr(b)}else{var q=fX.ay3(b,h,G);
H="GrFl";B={t:"Objc",v:g7.OF(q,G)};j=q}return{type:H,P:B,E_:j}};fX.ay3=function(b,h,G){var H=fX.rt(b.mat);
H.concat(h);var B=new cJ(0,0),j=new cJ(0,0),s=new cJ,q=b.crds,Q=b.typ=="rad"?1:0;if(Q==1){var a=.7;s.x=q[0];
s.y=q[1];B.x=q[3];B.y=q[4];j.x=B.x;j.y=B.y;j.x+=q[5]}else{B.x=q[0];B.y=q[1];j.x=q[2];j.y=q[3];s.ve(B.x,B.y)}H=g7.wa(B,j,H);
var l=g7.U1(Q,H,G);g7.T2(l,B,j,s);l[1]=JSON.parse(JSON.stringify(b.grad));return l};fX.prototype.PutText=function(b,h,G,H){var B=h.charCodeAt(0),R=null;
if(this.Wh!=-1&&this.Wh!=this.eC)return;if(h.length==0||h.length==1&&(B==0||B==8203))return;this.Tr(b);
var j=this.FK,s=b.font,q=Math.round(255*b.ca);if(b.font.Tmode==3)q=0;var Q=fX.rt(b.ctm);Q.concat(this.at);
var a=fX.rt(s.Tm);a.concat(Q);var l=a.$K(),U=new eq(1/l,0,0,-1/l,0,0);U.concat(a);var N=s.Tfs*l,S=j.R.length-1;
while(S>=0&&j.R[S].add.TySh==null)S--;if(U.J*U.J+U.YW*U.YW<.001&&H==null&&S>=0&&j.R[S].add.TySh&&j.R[S].opacity==q){var g=j.R[S],i=this.WF[S],y=g.add.TySh.h,o=(U.Kv-i.a3l)/N,v=Math.abs(o),Z=y.G==U.G&&y.J==U.J&&y.YW==U.YW&&y.tW==U.tW,W=U.d0-i.PS,d=Z&&Math.abs(W)<1e-5&&v<1;
if(d){R=g;if(o>.2&&[".",",","?",":","!"].indexOf(h)==-1){h=" "+h;G+=.5}}else if(Z&&0<W&&W<N*1.7&&i.afY==N){R=g;
this.awg(i);i.PS=U.d0;i.agr=U.Kv;h="\n"+h}}if(R==null){S=j.R.length;this.WF[S]={Uk:[],yG:0,a3l:U.Kv,PS:U.d0,agr:U.Kv,Op:"",afY:N};
R=j.Cx();j.R.push(R);R.add.lnsr="rend";R.add.TySh=b_.V0(0,0);R.add.TySh.h=U}var i=this.WF[S];i.yG+=G*N;
i.Op+=h;i.a3l=U.Kv+G*N;var $=R.add.TySh.HZ,I=b_.v4($);if(H){b_.vj($,1);var k=[0,0,Math.ceil(H[0]*l),Math.ceil(H[1]*l)];
b_.A6($,k)}var _=I.length-1,D=_+h.length;b_.ph($,_,h);if(this.yJ==null)this.yJ=b_.XN($,_,_);var A=this.yJ;
A.bJ.FontSize=Math.round(N);A.bJ.Tracking=Math.round(s.Tc*100);A.bJ.Underline=s.Tun==1;A.bJ.FillColor={Type:1,Values:[1,b.colr[0],b.colr[1],b.colr[2]]};
if(s.Tal!=null)A._P.Justification=s.Tal;if(i.Uk.length!=0){A.bJ.AutoLeading=!1;A.bJ.Leading=i.PS-i.Uk[i.Uk.length-1].y}var F=s.Tf;
F=F.replace(/#2B/g,"+");F=F.replace(/#2C/g,"-");F=F.split("+").pop();var K={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(K[F])F=K[F];b_.HC(A,F);b_.V1($,_,D-1,A);R.Cf();R.opacity=q};fX.prototype.awg=function(b){b.Uk.push({Ps:b.yG,$G:b.Op.slice(b.Uk.length==0?0:1)+"\n",x:b.agr,y:b.PS,Xk:b.afY});
b.yG=0;b.Op=""};fX.prototype.Ua=function(b,h,G){return new Uint8Array(aT.JR("PNG").kf([[b.buffer,0]],h,G))};
fX.prototype.PutImage=function(b,h,G,H,B,j,s){if(this.Wh!=-1&&this.Wh!=this.eC)return;var q=this.FK,Q=b.font.Tmode;
if(Q==7&&q.R[q.R.length-1].add.TySh){return}this.Tr(b);var a=fX.rt(b.ctm);a.concat(this.at);var l=new eq(1/G,0,0,-1/H,0,1);
l.concat(a);a=l;h=fX.ahD(h,G,H,j,!1);if(B)B=fX.ahD(B,G,H,s,!0);if(B==null){if(h.length==G*H*4)h=this.Ua(h,G,H)}else{h=this.apY(h,G,H,j,!1);
B=this.apY(B,G,H,s,!0);var U=e.U(G*H);e.uA(B,U,0);e.aj(U,h,3);h=this.Ua(h,G,H)}var N=q._t(h,"Bitmap",0,0),R=new io(0,0,G,H),S=e.N.Q0(R).m;
e.N.h(S,a,S);N.add.SoLd.Trnf=E.Y.Ll(S);N.add.SoLd.nonAffineTransform=E.Y.Ll(S);N.gE(q,!1);fX.anN(b,N);
q.R.push(N)};fX.anN=function(b,h){h.opacity=Math.round(255*b.ca);var G=fX.Ju[b.bmode];if(G==null)console.log("Unknown blend mode",G);
else h.Am=G};fX.Ju={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
fX.ah8=function(b){if(b=="pass")b="norm";for(var h in fX.Ju)if(fX.Ju[h]==b)return h;return"/Normal"};
fX.ahD=function(b,h,G,H,B){var j=aT.ni(b.buffer);if(j=="jpg"){try{b=new Uint8Array(aT.JR("JPG").a1x(b.buffer))}catch(ku){b=new Uint8Array(h*G*4)}}else if(j=="jb2"){b=new Uint8Array(aT.JR("JPG").ho(b.buffer,H,B)[0].data)}else if(b.length!=h*G*4){var s=new Uint8Array(h*G*4),q=Math.ceil(h/8),Q=new Uint8Array(G*q);
UTIF.decode._decodeG4(b,0,b.length,Q,0,h,1);var a=Q[0]==(B?255:0);for(var l=0;l<G;l++){var U=q*l;for(var N=0;
N<h;N++){var Y=l*h+N,R=Y*4,S=(Q[U+(N>>3)]>>7-(N&7)&1)*255;if(a)S=255-S;s[R]=S;s[R+1]=S;s[R+2]=S;s[R+3]=255}}b=s}return b};
fX.prototype.apY=function(b,h,G,H,B){if(b.length!=h*G*4){var j=aT.ni(b.buffer);if(j=="jb2")throw"e";
var s=aT.JR(j);if(s==null||j=="tga")s=aT.JR("jpg");b=new Uint8Array(s.ho(b,H,B)[0].data)}return b};fX.prototype.ShowPage=function(){var b=this.FK;
this.eC++;var h=this.xd;this.LT();var G=b.Cx();b.R.push(G);var H=new io(Math.round(this.JM.x),Math.round(this.JM.y),Math.round(h[2]-h[0]),Math.round(h[3]-h[1]));
if(H.Zx())H.j=H._=2e3;this.cO=this.cO.gJ(H);G.b8(H);G.add.artb.artboardBackgroundType.v=1;G.cb("Page "+this.eC);
G.add.lsct=c1.N_;G.Am="pass";G.Xp=24};fX.prototype.Print=function(b){console.log("Print:",b)};fX.prototype.Done=function(){var b=this.FK;
if(this.eC==1)b.R[b.R.length-1].add.lsct=c1.$I;b.LI(this.eC);for(var Y=0;Y<b.R.length;Y++){var h=b.R[Y],G=h.add.vmsk,H=h.add.TySh,B=this.WF[Y];
h.AA();delete h.add.vsjs;if(G){var j=!1;for(var s=0;s<G.d.length;s++){var q=G.d[s];if((q.type==0||q.type==3)&&q.length>32767)j=!0}if(j){b.R.splice(Y,1);
Y--;continue}}h.vw(b);if(H&&B&&B.Uk.length!=0){this.awg(B);var Q=H.HZ,a=B.Uk.length,l=B.Uk[0],U=1e9,N=-1e9,d="";
for(var s=0;s<a;s++){var R=B.Uk[s];U=Math.min(U,R.x);N=Math.max(N,R.x+R.Ps)}var S=[];for(var s=0;s<a;
s++){var R=B.Uk[s],g=-1,i=l.Xk*.1,y=Math.abs(R.x-U),o=Math.abs(R.x+R.Ps-N),v=Math.abs(y-o);if(v<i)g=2;
if(o<i){g=1;if(R.x!=U)if(s!=0&&B.Uk[s-1].x==R.x||s!=a-1&&B.Uk[s+1].x==R.x)g=-1}if(y<i)g=0;if(R.Ps==N-U)g=3;
S.push(g)}var Z=[!1,!1,!1];for(var s=0;s<a;s++){var g=S[s];if(g==3)g=s==0?S[s+1]:S[s-1];if(g==3)g=0;
S[s]=g;Z[g]=!0}var W=(N-U)*.05;if(Z[0]&&!Z[1])N+=W;if(!Z[0]&&Z[1])U-=W;if(!Z[0]&&!Z[1]){U-=W;N+=2*W}b_.vj(Q,1);
H.h.d0-=l.Xk*.7;H.h.Kv=Math.round(U);b_.A6(Q,[0,0,Math.ceil(N-U),Math.ceil(B.Uk[a-1].y-l.y+l.Xk*2)]);
for(var s=0;s<a;s++){var R=B.Uk[s],g=S[s],$=0;if(g==-1){g=0;$=Math.round(R.x-U)}var I=d.length,k=I+R.$G.length;
d+=R.$G;var _={uh:[],bJ:{},_P:{Justification:g,StartIndent:$}};b_.V1(H.HZ,I,k-1,_)}}if(H){var Q=H.HZ;
b_.awH(Q);var D=b_.v4(Q).split("\n");for(var s=0;s<D.length-1;s++){var R=D[s],A=0;for(var F=0;F<R.length;
F++){var K=R.charCodeAt(F);if(1473<=K&&K<=1524)A++}if(A>R.length/2){D[s]=R.split("").reverse().join("");
var V=Q.EngineDict.ParagraphRun.RunArray[s].ParagraphSheet.Properties;V._Direction=1;V.Justification=b_.kg(V)}}b_.V3(Q,D.join("\n"))}}b.rm=!0;
b.j=this.cO.j;b._=this.cO._;b.buffer=e.U(this.cO.X()*4)};var bW={};bW.x4=null;bW.OL=function(b,h,G,H,B,j){var s=fq==0?new io(0,0,b.j,b._):b.d7();
if(B==null)B=s.j;if(j==null)j=s._;bW.x4=b;var q=[[b.root,s,null]];if(fq==0&&b.add.artd){var Q=b.root.children,a=[],l=!0;
for(var Y=0;Y<Q.length;Y++){var U=Q[Y].o,N=U.add.artb,R=null;if(N==null){l=!1;break}var S=N.artboardBackgroundType.v;
if(S!=1&&S!=3)R=U.C7();a.push([Q[Y],U.Ey(),R])}if(l)q=a}if(fq==1){var g=b.add.arts;q=[];for(var Y=0;
Y<g.length;Y++)q.push([b.root,e.N.sm(g[Y].rc),null])}var i=h[0];i=i.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
i=i.split(" ");var y=[];for(var Y=0;Y<i.length;Y++){var o=i[Y];if(o=="-"){var v=y.pop(),Z=parseInt(i[Y+1]);
while(v<Z){y.push(v);v++}}else y.push(parseInt(o))}i=y;for(var Y=0;Y<i.length;Y++)if(isNaN(i[Y])||i[Y]<1||i[Y]>q.length){i.splice(Y,1);
Y--}var W=B/s.j,d=j/s._,$=W*72/b.O4,I=d*72/b.O4,k=h[5];if(k==null)k=0;var _=72*k,D=72*k;for(var A=0;
A<q.length;A++){var Y=A;if(h[2])Y=q.length-1-A;if(i.length!=0&&i.indexOf(Y+1)==-1)continue;var F=q[Y][0],K=q[Y][1];
if(!F.o.yY())continue;var V=Math.round(K.j*$+2*_),r=Math.round(K._*I+2*D);G.StartPage(0,0,V,r);var c=UDOC.getState(),x=new eq;
x.translate(-K.x,-K.y-K._);x.scale($,-I);x.translate(_,D);if(q[Y][2]){var X=q[Y][2],M=_*$,f=D*I,t=M+K.j*$,n=f+K._*I;
c.colr=[(X>>>0&255)/255,(X>>>8&255)/255,(X>>>16&255)/255];c.pth={cmds:["M","L","L","L","Z"],crds:[M,f,t,f,t,n,M,n]};
G.Fill(c)}if(fq==0&&h[3]){var L=e.U(K.X()*4);e.JE(b.Nw(),s,L,K);var P=b.Lu();if(P)ICC.U.applyLUT(P[b.add.fcmy==1?5:3],P[2],L,L);
var z=aT.JR("JPG").kf([[L.buffer]],K.j,K._,[h[1]]);L=new Uint8Array(z);var T=new eq;T.translate(K.x,K.y);
bW.y6(c,G,L,K,T,x)}else{bW.a4G(b,F,c,G,x,K,h,H);if(_!=0){var M=_,f=D,t=M+K.j,n=f+K._,p=t+_,m=n+_;c.ca=1;
c.colr=[1,1,1];c.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,m,p,m,p,0,M,f,t,f,t,n,M,n]};
G.Fill(c)}}if(h[6]){var O=[[0,0],[1,0],[1,1],[0,1]],cb=50,cX=5,e$=cb*.5,fz=cX*.5,eC=K.j*72/b.O4,hw=K._*72/b.O4;
c.colr=[.1,.1,.1];for(var az in O){var av=O[az],ia=[az==0||az==3?-1:1,az==0||az==1?-1:1],iJ=[_-e$+fz*ia[0]+av[0]*eC,D-(ia[1]!=1?cX:0)+av[1]*hw],cx=[_-(ia[0]!=1?cX:0)+av[0]*eC,D-e$+fz*ia[1]+av[1]*hw];
c.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[iJ[0],iJ[1],iJ[0]+cb,iJ[1],iJ[0]+cb,iJ[1]+cX,iJ[0],iJ[1]+cX,cx[0],cx[1],cx[0]+cX,cx[1],cx[0]+cX,cx[1]+cb,cx[0],cx[1]+cb]};
G.Fill(c)}}var hP=b.Rd;for(var iS=0;iS<hP.length;iS++){var e4=hP[iS].v,K=e.hC.Ki(e4),cc=e.N.Q0(K).m;
e.N.h(cc,x,cc);var aO=e.N.MP(cc);if(!new io(0,0,V,r).ku(aO))continue;if(G.AddAnnot)G.AddAnnot([aO.x,aO.y,aO.x+aO.j,aO.y+aO._],e4.url.v)}G.ShowPage()}G.Done();
bW.x4=null};bW.MW=function(b){b=e.F.an(b);return[b.$/255,b.B/255,b.J/255]};bW.a4G=function(b,h,G,H,B,j,s,q){var Q=h.o,a=Q.add.lsct,l=Q.add.lmfx,Z,W,K;
if(Q.Sz)return;var U=Q.add.vmsk,N=Q.add.vstk,R=Q.add.TySh;if(fq==1&&!Q.fu()&&!j.XR(e.N.MP(Q.QL())))return;
var S=h.children,g=S&&S.length!=0?S[S.length-1].o:null;if(fq==1&&g&&g.Sz&&g.yY())U=g.add.vmsk;if(!Q.yY())return;
var i=Q.opacity/255,y=Q.add.iOpa!=null?Q.add.iOpa/255:1;G.bmode=fX.ah8(Q.Am);var o=G.ca;G.ca=G.CA=i*y;
var v=l;if(v)v=v.solidFillMulti.v[0];if(v)v=v.v;if(v&&!v.enab.v)v=null;var d=Q.rect;if(Q.TY()&&(!Q.fu()||Q.Z5&&Q.Z5.Yw)){if(Q.fu()){Z=Q.Z5.Yw;
d=Q.Z5.apy}else{Z=e.U(Q.rect.X());e.uA(Q.buffer,Z,3)}W=eQ.x0(l,Q.add.fxrp,Z,d,b,d).type;var $=["DrSh","OrGl"];
if(y!=1||N&&!N.fillEnabled.v){var I=Z.slice(0);e.Q6(I);for(var Y=0;Y<$.length;Y++){var k=W[$[Y]];for(var _=0;
_<k.length;_++){var D=k[_],A=D.KZ.clone();A.x+=d.x;A.y+=d.y;e.Iq(I,d,D.Ur,A)}}}}if(W)bW.axP(Q,Z,d,W,G,H,B,s,!0);
var F=eQ.am1(Q,!1);if(F){H.StartTGroup(G);K=G;G=UDOC.getState()}var V=U&&!Q._5();if(V){var r=e.N.ES(U.d,!1),c=r.Js;
e.N.h(c.m,B,c.m);G.cpth={cmds:c.Gc,crds:c.m}}if(Q.fu()){for(var Y=0;Y<h.children.length;Y++)bW.a4G(b,h.children[Y],G,H,B,j,s,q)}else if(Q._5()&&Q.add.PtFl==null){var x=U?U.d:e.n.NT.Rect(0,0,b.j,b._),X=Q.add.vstl,c,M;
if(X==null)X=cj.Mm(Q.add,b);fX.Pv(X,G);G.lwidth*=B.$K();for(var Y=0;Y<G.dash.length;Y++)G.dash[Y]*=B.$K();
if(fq==0){var r=e.N.ES(x,X.g9==null);c=r.Js;M=r.eQ}if(fq==1){c=e.N.nT(x);M=U.Vj}e.N.h(c.m,B,c.m);G.pth={cmds:c.Gc,crds:c.m};
for(var Y=0;Y<2;Y++){var f=Y==0?X.E_:X.g9,t=null;if(f.length==0)continue;else if(f.length==3)t=f;else{var n=g7.Pe(f,x);
n.concat(B);var L=[0,0,1,0];if(f[0]==1){var P=f[2][5]*Math.PI/180,z=f[2][6];L=[Math.cos(P)*z,-Math.sin(P)*z,0,0,0,1]}t={typ:["lin","rad"][f[0]],mat:[n.G,n.J,n.YW,n.tW,n.Kv,n.d0],grad:JSON.parse(JSON.stringify(f[1])),crds:L}}G[Y==0?"colr":"COLR"]=t;
H[Y==0?"Fill":"Stroke"](G,M!=0)}}else if(R&&s[4]){var T=R.HZ,p=new j0(T,q,R.AT),c=jK.M1(p,R,!0),m=e.N.UC(c),O=null,N=eQ.ag5(l);
if(N){O=dE.QA.Lo(N);O.g9=bW.MW(N.strokeStyleContent.v.Clr.v);if(O.fJ==2)O.nx*=2}for(var cb in m){var cX=parseInt(cb.slice(1,7),16),e$=0;
G.colr=v?bW.MW(v.Clr.v):bW.alx(cX);var fz=m[cb];e.N.h(fz.m,B,fz.m);fz=e.N.aoU(fz);G.pth={cmds:fz.Gc,crds:fz.m};
var X=O?JSON.parse(JSON.stringify(O)):null;if(cb.length>7)X=jK.avi(cb.slice(7));if(X)X.nx*=B.$K();if(X&&X.fJ==2){G.COLR=X.g9;
fX.Pv(X,G);H.Stroke(G)}H.Fill(G);if(X&&X.fJ!=2){G.COLR=X.g9;fX.Pv(X,G);H.Stroke(G)}}}else if(R){var T=JSON.parse(JSON.stringify(R.HZ));
b_.awH(T);var eC=R.h.clone(),hw=new eq(1,0,0,-1,0,0);hw.concat(eC);hw.concat(B);var az=b_.v4(T),p=new j0(T,q,R.AT);
for(var Y=0;Y<p._P.length;Y++){var av=p._P[Y];if(av.$Z.length==1&&av.$Z[0].pv)continue;for(var _=0;_<av.Yr.length;
_++){var ia=av.Yr[_],iJ=av.ZP.y+ia.ZP.y,cx=av.$Z[ia.start].start,hP=av.$Z[ia.end-1].end,iS=b_.aBA(T,cx,hP);
for(var e4=0;e4<iS.length;e4++){var bZ=p.dJ(cx),d_=iS[e4],ee=b_.XN(T,cx,cx),b4=ee.uh[ee.bJ.Font].Name;
G.font.Tf=b4;var cb=b_.an(ee.bJ.FillColor);G.colr=v?bW.MW(v.Clr.v):[cb.$/255,cb.B/255,cb.J/255];var f$=G.font.Tfs=Math.round(ee.bJ.FontSize),e_=az.slice(cx,cx+d_);
if(ee.bJ.FontCaps==2)e_=e_.toUpperCase();var n=new eq;n.translate(bZ.O2.x,-iJ);n.concat(hw);G.ctm=[n.G,n.J,n.YW,n.tW,n.Kv,n.d0];
H.PutText(G,e_,0);for(var fJ=0;fJ<2;fJ++){var dV=ee.bJ[fJ==0?"Strikethrough":"Underline"];if(!dV)continue;
var ix=p.dJ(cx+d_-1),b9=fJ==0?.27:-.2,hV=f$*b9,gq=f$*(b9+.07),e$=ix.O2.x+ix.O2.j-bZ.O2.x,eH=[0,hV,e$,hV,e$,gq,0,gq];
e.N.h(eH,n,eH);G.pth={cmds:["M","L","L","L","Z"],crds:eH};H.Fill(G)}G.ctm=[1,0,0,1,0,0];cx+=d_}}}}else if(!Q.rect.Zx()||fq==1){var eP,c2,bL=!1,dg=new eq,cN=Q.add.SoLd,dH=!0;
if(cN)dH=e.t.mK(e.t.Kt(E.Y.DM(cN.Trnf)));var kM=b.Lu();if(cN&&dH&&kM==null){var a_=cN.Idnt.v,g4=b.UU(a_,cN.Crop?cN.Crop.v:null),ka="";
if(g4==null)return;var iY=g4.P0,fa=aT.ni(g4.raw.buffer);if(s[7].indexOf(fa)!=-1){eP=g4.raw;bL=!0}else eP=iY[0];
c2=iY[1];dg=e.t.G3(cN)}else{eP=Q.buffer;c2=Q.rect;dg.translate(c2.x,c2.y);if(kM){eP=eP.slice(0);ICC.U.applyLUT(kM[b.add.fcmy==1?5:3],kM[2],eP,eP)}if(e._1(eP,c2.j,c2._)&&s[7]&&s[7].indexOf("jpg")!=-1){var b1=aT.JR("JPG").kf([[eP.buffer]],c2.j,c2._,[s[1]]);
eP=new Uint8Array(b1);bL=!0}}if(v&&!bL)eP=eQ.afr(eP,v,c2);bW.y6(G,H,eP,c2,dg,B);if(v&&bL){var eH=[0,0,c2.j,0,c2.j,c2._,0,c2._];
e.N.h(eH,dg,eH);e.N.h(eH,B,eH);var bg=JSON.parse(JSON.stringify(G));bg.ca=v.Opct.v.val/100;bg.pth={cmds:["M","L","L","L","Z"],crds:eH};
bg.colr=bW.MW(v.Clr.v);H.Fill(bg)}}if(V)G.cpth=null;if(F){H.EndTGroup();G=K}G.ca=G.CA=o;if(W)bW.axP(Q,Z,d,W,G,H,B,s,!1)};
bW.aDq=function(b){var h=bW.x4;if(h==null)return b;var G=h.Lu();if(G&&h.add.fcmy){return e.u8(e.M8(b)).slice(0,3)}return b};
bW.MW=function(b){b=e.F.an(b);return bW.aDq([b.$/255,b.B/255,b.J/255])};bW.alx=function(b){return bW.aDq([(b>>>16&255)/255,(b>>>8&255)/255,(b&255)/255])};
bW.axP=function(b,h,G,H,B,j,s,q,Q){var a=G.clone(),l=h;if(b.add.TySh&&!q[3]&&!q[4])return;var U=B.ca,N=B.bmode;
for(var Y=dE.order.length-1;Y>=0;Y--){var R=dE.order[Y];if(R=="GrFl"||R=="SoFi")continue;if((b.add.vmsk||b.add.TySh)&&R=="FrFX")continue;
var S=H[R],g=Y>7||R=="FrFX";if(g!=Q)continue;for(var i=0;i<S.length;i++){var y=S[i];if(y.KZ==null)y=y.Vq?y.Vq:y.Gg;
if(y==null)continue;var o=y.KZ.clone();o.offset(a.x,a.y);if(!g){if(!a.ku(o)){var v=a.gJ(o),Z=e.U(v.X());
e.wX(l,a,Z,v);l=Z;a=v}e.Iq(l,a,y.Ur,o)}if(g&&R=="FrFX"&&y.ih)e.Iq(y.ih,o,y.Ur,o);var W=new eq;W.translate(o.x,o.y);
B.ca=y.ux;B.bmode=fX.ah8(y.Yn);bW.y6(B,j,y.Ur,o,W,s)}}B.ca=U;B.bmode=N};bW.y6=function(b,h,G,H,B,j){var s=new eq;
s.scale(H.j,-H._);s.translate(0,H._);s.concat(B);s.concat(j);b.ctm=[s.G,s.J,s.YW,s.tW,s.Kv,s.d0];h.PutImage(b,G,H.j,H._);
b.ctm=[1,0,0,1,0,0]};var jL={};jL.wZ=function(b){var h=new Uint8Array(b);return jL.MO(h,0)};jL.MO=function(b,h){var G=J.C,H=J.lA,B={Af:H(b,h,4),f:h+8,size:G(b,h+4)},j=B.Af=="FORM"||B.Af=="FOR4"||B.Af=="LIST"||B.Af=="CAT ";
if(j)B.kR=H(b,h+8,4);if(B.size<0||B.f+B.size>b.length)throw"e";if(j){B.sub=[];h+=12;var s=B.f+B.size;
while(h<s){var q=jL.MO(b,h);B.sub.push(q);var Q=q.size&1,a=q.size&3;if(B.Af=="FOR4")Q=a==0?0:4-a;h+=8+q.size+Q}}return B};
var bQ={};bQ.wZ=function(b,h){var G=new Uint8Array(b);return bQ.MO(G,0,h)};bQ.MO=function(b,h,G){var H=J.FZ,B=J.lA,j={Af:B(b,h,4),f:h+8,size:H(b,h+4)};
if(G&&G[j.size]!=null)j.size=G[j.size];if(j.Af=="RIFF"||j.Af=="LIST"){j.kR=B(b,h+8,4)}if(j.size<0||j.f+j.size>b.length)throw"e";
if(j.Af=="RIFF"||j.Af=="LIST"&&(j.kR!="cmpr"&&j.kR!="stlt")){j.sub=[];h+=12;var s=j.f+j.size;while(h<s){var q=bQ.MO(b,h,G);
j.sub.push(q);h+=8+q.size+(q.size&1)}}return j};var bb=function(){function b(T,p){var m=null;if(T.sub==null)return m;
for(var Y=0;Y<T.sub.length;Y++){var O=T.sub[Y];if(O.Af==p||O.kR==p)m=O}return m}function h(T){if(T==32)return 300;
else if(T<49)return 0;else if(T<58)return 100*(T-48);else if(T<65)return 0;return 100*(T-55)}var G;function H(T,p){var m=new Uint8Array(T);
p.rm=!0;G={};var O=J.lA(m,0,2);if(O=="WL"){alert("Unsupported CDR version")}else{var cb,cX,e$,hw,cc=300,d_=0;
if(O=="PK"){cX=UZIP.parse(m);if(cX["content/root.dat"]){m=cX["content/root.dat"];e$=J.S2(cX["content/dataFileList.dat"]).split("\n")}else{m=cX["content/riffData.cdr"];
cX=null}}cb=bQ.wZ(m.buffer);console.log(cb);var fz=h(m[11]),eC={data:m,f:0,j5:fz};eC.TU=eC.j5<600?16:32;
I(m,eC,e$,cX,cb.sub,0);var az=[];if(cX){hw=b(cb,"doc ");B(hw);var av=cb.sub;for(var Y=0;Y<av.length;
Y++)if(av[Y].kR=="page")az.push(av[Y]);az=az.slice(1)}else if(cb.sub[3]&&cb.sub[3].Af=="pack"){alert("We dont support this version of CDR files");
return}else if(b(cb,"cmpr")==null){hw=b(cb,"page");az.push(hw);if(b(hw,"mcfg")==null){hw=b(cb,"doc ");
B(hw);az=[];var av=cb.sub;for(var Y=0;Y<av.length;Y++)if(av[Y].kR=="page")az.push(av[Y]);az=az.slice(1)}}else{var ia=b(cb,"cmpr").sub;
hw=ia[0];az=[ia.slice(1)[1]];if(b(hw,"filt"))B(hw)}var iJ=b(hw,"mcfg").P,cx=iJ.a3L,hP=cx.x*.1,iS=cx.x*az.length+hP*(az.length-1),e4=cx.y;
cc/=jw.Gz(new io(0,0,Math.round(iS*cc),Math.round(e4*cc)),8192*8192);var aO=Math.round(iS*cc),bZ=Math.round(e4*cc);
p.j=aO;p._=bZ;p.buffer=e.U(p.j*p._*4);for(var Y=0;Y<az.length;Y++){var ee=new eq(cc,0,0,-cc,cx.x*cc/2+d_,cx.y*cc/2);
j(az[Y],hw,p,ee);var b4=p.R[p.R.length-1];b4.b8(new io(Math.round(d_),0,Math.round(cx.x*cc),Math.round(cx.y*cc)));
b4.cb("Page "+(Y+1));d_+=cx.x*cc+hP*cc}p.LI(az.length)}}function B(T){var p=b(T,"filt").sub,m=b(T,"otlt").sub,O=b(T,"fntt");
if(O)O=O.sub;T.zs={};for(var Y=0;Y<p.length;Y++)T.zs[p[Y].sub[0].P.id]=p[Y].sub[0].P;T.na={};for(var Y=0;
Y<m.length;Y++)T.na[m[Y].P.id]=m[Y].P;if(O){T.fonts={};for(var Y=0;Y<O.length;Y++)T.fonts[O[Y].P.id]=O[Y].P}}function j(T,p,m,O){var cb=T.kR?T.kR:T.Af,cX=b(T,"lgob"),e$=b(T,"txsm"),fz=null,eC=null;
if(cX){fz=b(cX,"trfl");eC=b(cX,"loda")}else if(b(T,"lobj"))eC=b(T,"lobj");var hw=fz&&fz.sub[0].GF?fz.sub[0].GF.clone():new eq;
hw.concat(O);var az=m.Cx();if(cb=="page"||cb=="layr"||cb=="grp "){az.cb((cb=="page"?"Page":"Group")+" "+m.R.length);
az.add.lsct=c1.$I;az.Am="pass";az.Xp=24;var av=[];if(cb=="page")av=b(T,"gobj").sub;if(cb=="layr")av=T.sub.slice(2);
if(cb=="grp ")av=T.sub.slice(4);if(av.length==0)return;m.R.push(m.b2());for(var Y=av.length-1;Y>=0;Y--)j(av[Y],p,m,O)}else if(cb=="obj "&&eC.P&&eC.P.path){var ia,iJ;
if(p.zs){ia=p.zs[eC.P.afx];iJ=p.na[eC.P.aC3]}if(ia==null)ia=eC.P.aqv;if(iJ==null)iJ=eC.P.ant;az=s(m,eC.P.path,O,hw,ia,iJ)}else if(cb=="obj "&&e$){var cx=eC.P.ap2,hP=eC.P.ag_,cc="";
az.add.TySh=b_.V0(0,0);var iS=hw.$K();az.add.TySh.h.translate(hw.Kv,hw.d0);var e4=az.add.TySh.HZ,aO=e$.P.Ff;
if(aO==null)return;for(var Y=0;Y<aO.length;Y++){var bZ=aO[Y],d_=cc.length;cc+=bZ.text+"\n";b_.ph(e4,d_,bZ.text+"\n");
if(bZ.text=="")continue;var ee=q(bZ.anL,p),b4=ee.a33,hA=p.fonts[b4.agY],f$=b_.XN(e4,d_,cc.length);if(ee.align==3)f$._P.Justification=1;
else if(ee.align==2)f$._P.Justification=2;else f$._P.Justification=0;var e_=ee.fill.P;if(e_==null)e_=[0,0,0];
if(hA.Vi)b_.HC(f$,hA.Vi);f$.bJ.FillColor={Type:1,Values:[1,e_[0],e_[1],e_[2]]};f$.bJ.FontSize=Math.round(b4.fontSize*O.$K());
b_.V1(e4,d_,cc.length-1,f$)}if(hP){b_.vj(e4,0)}else{b_.vj(e4,1);b_.A6(e4,[0,0,Math.round(cx.x*hw.G),Math.round(-cx.y*hw.tW)])}az.cb(cc.slice(0,10))}else{az=null}if(az)m.R.push(az)}function s(T,p,m,O,cb,cX){var e$=T.Cx();
e$.cb("Object "+T.R.length);e$.Xp|=16;var fz=e$.add.vstk=dE.QA.Az();e$.add.vmsk=new C.cW;e$.add.vmsk.d=e.N.zv(p,!1);
e.n.Gl(e$.add.vmsk.d,O);var eC=cb&&cb.type!=0,hw=eC&&cb.P!=null?cb.P:[0,0,0];fX.BY(hw,e$,O,e$.add.vmsk.d);
fz.fillEnabled.v=eC;if(cX&&cX.adg!=1){fz.strokeEnabled.v=!0;fz.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var az=fz.strokeStyleLineWidth.v.val=cX.lineWidth*m.$K(),av=cX.color;fz.strokeStyleContent.v.Clr.v=e.F.t1({$:av[0]*255,B:av[1]*255,J:av[2]*255});
if(cX.t7.length!=0)fz.strokeStyleLineDashSet.v=eQ.FA(cX.t7,4/az);var ia=cX.a0A,iJ=cX.a4C;if(iJ!=0){var cx=p.m,Y=cx.length-4,hP=cx[Y],iS=cx[Y+1],e4=cx[Y+2],cc=cx[Y+3],aO=new eq;
aO.scale(.15,.15);aO.rotate(-Math.PI/2+Math.atan2(cc-iS,-(e4-hP)));aO.translate(e4,cc);aO.concat(O);
if(G[iJ]){var bZ=s(T,G[iJ],m,aO,av,null);T.R.push(bZ)}}}e$.AA();e$.vw(T);return e$}function q(T,p){var m=b(p,"stlt").P,O=JSON.parse(JSON.stringify(m.Oy[T]));
if(O.Fv!=0){var cb=m.Oy[O.Fv];for(var cX in cb)if(O[cX]==null||O[cX]==0)O[cX]=cb[cX];delete O.Fv}O.align=m.a38[O.axe];
O.fill=p.zs[m.amy[O.aBH]];O.a3I=p.na[m.au0[O.a9M]];O.a33=m.a31[O.aph];return O}function Q(Y){var g1=Y.data[Y.f];
Y.f+=1;return g1}function a(Y){var g1=J.gP(Y.data,Y.f);Y.f+=2;return g1}function l(Y){var g1=J.FZ(Y.data,Y.f);
Y.f+=4;return g1}function U(Y){var g1=J.FZ(Y.data,Y.f);Y.f+=8;return g1}function N(Y){var g1=J.eR(Y.data,Y.f);
Y.f+=2;return g1}function R(Y){var g1=J.Wv(Y.data,Y.f);Y.f+=4;return g1}function S(Y){var g1=J.A0(Y.data,Y.f);
Y.f+=8;return g1}function g(Y){if(Y.f>=Y.data.length)throw"e";var T=0;while(Y.data[Y.f+T]!=0)T++;var p=J.lA(Y.data,Y.f,T);
Y.f+=T+1;return p}function i(Y){var T="";while(!0){var p=a(Y);if(p==0)break;T+=String.fromCharCode(p)}return T}function y(T){var p=l(T),m=(p&4294901760)>>>16,O=(p&65535)/65535;
return m+O}function o(T){if(T.j5<600)return Math.PI*N(T)/1800;return Math.PI*R(T)/18e7}function v(T){if(T.j5<1500)return Z(T);
else return S(T)/254e3}function Z(T){if(T.j5<600)return N(T)/1e3;else return R(T)/254e3}function W(T){if(T.j5<600)return a(T);
else return l(T)}function d(T){if(T.j5<600)return N(T);else return R(T)}function $(T,p,m){var O="";for(var Y=0;
Y<m;Y++){for(var cb=0;cb<p;cb+=4){var g1=J.FZ(T.data,T.f+Y*p+cb);O+=(g1<500?g1:g1)+","}O+="\n"}return O}function I(T,p,m,O,cb,cX){var e$,fz,eC;
for(var hw=0;hw<cb.length;hw++){var az=p.j5,av=cb[hw];p.data=T;p.f=av.f+(av.Af=="LIST"?4:0);if(O&&av.sub==null){e$=l(p);
fz=l(p);eC=l(p);var ia=a(p);if(ia!=0&&ia!=768)throw"e";var iJ=a(p);if(iJ>32)throw"e";p.f-=16;if(e$!=4294967295){p.data=O["content/data/"+m[e$]];
p.f=eC}}if(av.Af=="vrsn"){if(av.size==16)p.f+=8;var cx=a(p);p.j5=cx;console.log("Version",cx);p.TU=cx<600?16:32}else if(av.Af=="DISP"){}else if(av.Af=="pack"){var hP=l(p),iS=J.lA(p.data,p.f,4),aO=0;
if(iS!="CPng")throw iS;var e4=new Uint8Array(p.data.buffer,p.f+8+2,av.size-10-4),cc=pako.inflateRaw(e4);
av.sub=[];while(aO<cc.length){var bZ=bQ.MO(cc,aO);aO=bZ.f+bZ.size;av.sub.push(bZ)}var d_={data:cc,f:0,j5:az,TU:p.TU};
I(cc,d_,m,O,av.sub,cX+1)}else if(av.Af=="LIST"&&av.kR=="cmpr"){var ee=l(p),b4=l(p),hA=l(p),hP=l(p),iS=J.lA(p.data,p.f,4),aO=0;
if(iS!="CPng")throw iS;var e4=new Uint8Array(p.data.buffer,p.f+8+2,ee-6-8),cc=pako.inflateRaw(e4);p.f+=ee;
e4=new Uint8Array(p.data.buffer,p.f+8+2);var f$=pako.inflateRaw(e4),e_=[];for(var fJ=0;fJ<f$.length;
fJ+=4)e_.push(J.FZ(f$,fJ));av.sub=[];while(aO<cc.length){var bZ=bQ.MO(cc,aO,e_);aO=bZ.f+bZ.size;av.sub.push(bZ)}var d_={data:cc,f:0,j5:az,TU:p.TU};
I(cc,d_,m,O,av.sub,cX+1)}else if(av.Af=="LIST"&&av.kR=="stlt"||av.Af=="stlt"){if(e$==4294967295)return;
var dV=p.f,c2="",c0=32;av.P={};var ix=l(p);if(ix==0)return;av.P.amy=c(p,az>=1300);av.P.au0=c(p);av.P.a31={};
var b9=l(p);for(var Y=0;Y<b9;Y++){var hV=l(p);p.f+=az<1e3?12:20;var gq=a(p),eH=a(p);p.f+=8;var eP=Z(p);
p.f+=az<1e3?12:20;av.P.a31[hV]={agY:gq,asa:eH,fontSize:eP}}av.P.a38=c(p);var bL=l(p);c2+="Intervals\n"+$(p,52,bL)+"\n";
p.f+=52*bL;var dg=l(p);c2+="Set5s\n"+$(p,152,dg)+"\n";p.f+=152*dg;var cN=l(p);c2+="Tabs\n"+$(p,784,cN)+"\n";
p.f+=784*cN;var dH=l(p);c2+="Bullets\n";for(var Y=0;Y<dH;Y++){var kM=p.f,a_=l(p);p.f+=4*3;if(az>1300)p.f+=4;
var g4=l(p);p.f+=4*5;if(az>=1300){var iY=l(p);if(iY){if(l(p))p.f+=64;else p.f+=60}else p.f+=12}else{p.f+=20;
if(az>=1e3)p.f+=8;if(l(p))p.f+=8;p.f+=8}var fa=p.f;p.f=kM;c2+=$(p,fa-kM,1);p.f=fa}c2+="\n";var ka=l(p);
c2+="Indents\n";av.P.akJ={};for(var Y=0;Y<ka;Y++){var kM=p.f,b1=l(p),bg={};p.f+=12;bg.right=Z(p);bg.az5=Z(p);
bg.left=Z(p);av.P.akJ[b1]=bg;var fa=p.f;p.f=kM;c2+=$(p,fa-kM,1);p.f=fa}c2+="\n";var cl=l(p);if(az>=1300)c0+=4;
c2+="Hypens\n"+$(p,c0,cl)+"\n";p.f+=c0*cl;var kL=l(p);c2+="Dropcaps\n"+$(p,28,kL)+"\n";p.f+=28*kL;if(az>800){var c_=l(p);
c2+="Set11s\n"+$(p,28,c_)+"\n";p.f+=12*c_}av.P.Oy={};for(var Y=0;Y<ix;Y++){var cA=l(p);if(cA>3)throw cA;
var aw=l(p),kq={};kq.Fv=l(p);p.f+=8;var f4=l(p);if(az>=1200)f4*=2;p.f+=f4;kq.aBH=l(p);kq.a9M=l(p);if(cA>1){kq.aph=l(p);
kq.axe=l(p);kq.au8=l(p);kq.azm=l(p);if(az>800)kq.a09=l(p)}if(cA>2){kq.aBx=l(p);kq.ae3=l(p);kq.aox=l(p);
kq.aky=l(p);kq.axF=l(p)}av.P.Oy[aw]=kq}}else if(av.Af=="LIST")I(T,p,m,O,av.sub,cX+1);else if(av.Af=="txsm"){av.P={};
if(az<600)throw"e";if(az<700)throw"e";if(az>=1600){av.P=r(p);return}if(az>=1500)p.f+=37;else p.f+=36;
if(l(p)){if(az<800)p.f+=32}if(az<800)p.f+=4;av.P.aE_=l(p);av.P.Ff=[];p.f+=48;if(az>=800){if(l(p)){p.f+=32;
if(az>=1300)p.f+=8}}if(az>=1500)p.f+=12;var cA=l(p),gF=1,fm=!1;if(!cA){if(az>=800)p.f+=4;if(az>800)p.f+=2;
if(az>=1400)p.f+=2;p.f+=24;if(az<800)p.f+=8;gF=l(p)}for(var fJ=0;fJ<gF;fJ++){var aP=l(p),Y=0;if(az>=1300&&cA)p.f++;
p.f++;var ix=l(p),hh=[];for(Y=0;Y<ix;Y++){var gW=Q(p),f0=0;Q(p);var cg=Q(p);if(az>=800)f0=Q(p);var kq={};
if(cg&1){kq.agY=a(p);var hk=a(p);if(hk)kq.alH=hk}if(cg&2)p.f+=4;if(cg&4)kq.ayL=Z(p);if(cg&8)p.f+=4;if(cg&16)p.f+=4;
if(cg&32)p.f+=4;if(cg&64){kq.aBH=l(p);if(az>=1500)p.f+=48}if(cg&128){kq.a9M=l(p)}if(f0&8){if(az>=1300){var aQ=l(p);
if(p.f+aQ*2>=p.data.length){fm=!0;break}p.f+=aQ*2}else p.f+=4}if(f0&32){var fj=Q(p);if(fj)p.f+=52}if(gW==2)if(az>=1300)p.f+=48;
hh.push(kq)}if(fm){break}var fd=l(p);if(p.f+fd*4>p.data.length)break;var iu=[];for(Y=0;Y<fd;Y++){var en=0;
if(az>=1200)en=U(p)&4294967295;else en=l(p);iu[Y]=en>>16|en&1}var hl=fd;if(az>=1200)hl=l(p);var ed=g(p);
av.P.Ff.push({anL:aP,text:ed,Oy:hh})}}else if(av.Af=="arrw")av.P=k(p);else if(av.Af=="font"){var kM=p.f,hG=a(p),i0=a(p),bS="";
p.f+=14;if(p.j5>=1200)bS=i(p);else bS=g(p);av.P={id:hG,ado:i0,name:bS};if(O){var dC=kM+fz;while(p.data[p.f]==0)p.f++;
p.f+=2;var ir=i(p);while(p.data[p.f]==0)p.f++;while(p.data[p.f]<=2)p.f+=4;av.P.Vi=i(p)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(av.Af)!=-1){}else if(av.Af=="flgs")av.P=l(p);
else if(av.Af=="bbox"){var ih=Z(p),a$=Z(p),cC=Z(p),dT=Z(p);av.P=new io(ih,a$,cC-ih,dT-a$)}else if(av.Af=="fild"){var jq=l(p),ei;
if(az>=1300)p.f+=8;var kz=a(p);if(kz==0){}else if(kz==1){p.f+=az>=1300?13:2;ei=P(p)}else if(kz==2){p.f+=az>=1300?8:2;
var ce=Q(p),cp=0;if(az>=1300){p.f+=17;cp=N(p)}else if(az>=600){p.f+=19;cp=R(p)}else{p.f+=11;cp=N(p)}var ht=o(p),kE=.5+d(p),j4=.5+d(p)-.5;
if(az>=600)p.f+=2;var j8=W(p)&255,dm=Q(p)/100;p.f++;var ie=W(p)&65535;if(az>=1300)p.f+=3;var b5=[];for(var Y=0;
Y<ie;Y++){var eh=P(p);if(az>=1400)p.f+=26;else if(az>=1300)p.f+=5;var jl=(W(p)&65535)/100;if(az>=1300)p.f+=3;
b5.push([jl,eh])}ei={typ:ce==1?"lin":"rad",crds:[kE-Math.cos(ht)/2,j4-Math.sin(ht)/2,kE,j4],grad:b5,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",kz);
av.P={id:jq,type:kz,P:ei}}else if(av.Af=="outl"){var cE=l(p);if(az>=1300){var cI=0,de=0;while(cI!=1){p.f+=de;
cI=l(p);de=l(p)}}var i9=a(p),bG=a(p),bi=a(p);if(az<1300&&az>=600)p.f+=2;var iC=Z(p),fF=a(p)/100;if(az>=600)p.f+=2;
var jo=o(p);if(az>=1300)p.f+=46;else if(az>=600)p.f+=52;var ei=P(p);if(az<600)p.f+=10;else p.f+=16;var ds=a(p),im=p.f,ch=[];
for(var Y=0;Y<ds;++Y)ch.push(a(p));if(az<600)p.f=im+20;else p.f=im+22;var ao=l(p),hN=l(p);av.P={id:cE,adg:i9,aur:bG,aw3:bi,lineWidth:iC,color:ei,t7:ch,a0A:ao,a4C:hN}}else if(av.Af=="mcfg"){if(1300<=az)p.f+=12;
else if(900<=az)p.f+=4;else if(600<=az&&az<700)p.f+=28;var gn=0,eX=0;if(az<400){p.f+=2;var ih=Z(p),a$=Z(p),cC=Z(p),dT=Z(p);
gn=Math.abs(cC-ih);eX=Math.abs(dT-a$)}else{gn=Z(p);eX=Z(p)}av.P={a3L:new cJ(gn,eX)}}else if(av.Af=="loda"||av.Af=="lobj"){var dV=p.f,f1=W(p),h_=W(p),jJ=W(p),iA=W(p),cw=W(p),gu=[],il=[],Y=0,aE=null;
p.f=dV+jJ;while(Y<h_)gu[Y++]=W(p);p.f=dV+iA;while(Y>0)il[--Y]=W(p);av.P={};for(Y=0;Y<h_;Y++){p.f=dV+gu[Y];
var cL=il[Y];if(cL==30){if(az>=400&&cw==1||az<400&&cw==0){av.P.path=K(p)}else if(az>=400&&cw==2||az<400&&cw==1){av.P.path=F(p)}else if(az>=400&&cw==3||az<400&&cw==2){av.P.path=f(p)}else if(cw==37){av.P.path=M(p)}else if(az>=400&&cw==4||az<400&&cw==3){av.P.ag_=x(p)}else if(az>=400&&cw==6||az<400&&cw==5){av.P.ap2=X(p)}else console.log(cw)}else if(cL==20){if(az<400)av.P.aqv=D(p);
else av.P.afx=l(p)}else if(cL==10){if(az<400)av.P.ant=A(p);else av.P.aC3=l(p)}else if(cL==200)av.P.ad9=W(p);
else if(cL==100){if(az<400)aE=_(p)}}if(aE&&av.P.path)e.N.h(av.P.path.m,aE,av.P.path.m)}else if(av.Af=="trfd"){var dV=p.f,f1=W(p),h_=W(p),jJ=W(p);
p.f=dV+jJ;var gu=[];for(var Y=0;Y<h_;Y++)gu[Y]=W(p);for(var Y=0;Y<h_;Y++){p.f=dV+gu[Y];if(az>=1300)p.f+=8;
var ba=a(p);if(ba==8){var hZ,ax,ih,gU,gs,a$;if(az>=600)p.f+=6;if(az>=500){hZ=S(p);ax=S(p);ih=S(p)/(az<600?1e3:254e3);
gU=S(p);gs=S(p);a$=S(p)/(az<600?1e3:254e3)}else throw"e";av.GF=new eq(hZ,gU,ax,gs,ih,a$)}else console.log(ba)}}else if(!1){console.log(av);
var f6=Math.min(av.size,32);console.log(J.Ky(T,av.f,f6));console.log(J.aEz(T,av.f,f6))}}}function k(T){var p=l(T);
T.f+=4;var m=a(T);T.f+=4;var O=[];for(var cb=0;cb<m;cb++)O.push(Q(T));T.f+=1;var cX=[];for(var e$=0;
e$<m;e$++){var fz=[];fz[1]=Z(T);fz[0]=Z(T);cX.push(fz)}var eC=n(cX,O);G[p]=eC}function _(T){var p=0,m=0,O=0,cb=0,cX=0,e$=0;
if(T.j5>=300){var fz=T.f;T.f+=10;var eC=W(T);T.f=fz+eC;p=y(T);m=y(T);O=R(T)/1e3;cb=y(T);cX=y(T);e$=R(T)/1e3}else{O=Z(T);
e$=Z(T);p=y(T);m=y(T);O+=y(T)/1e3;cb=y(T);cX=y(T);e$+=y(T)/1e3}return new eq(p,m,cb,cX,O,e$)}function D(T){var p=Q(T);
if(p==0)return null;else if(p==1)return P(T);else console.log(p)}function A(T){var p=Q(T);p<<=1;var m=Z(T),O=a(T)/100,cb=o(T),cX=P(T);
return{adg:p,lineWidth:m,color:cX,t7:[],a0A:0,a4C:0}}function F(T){var p=Z(T),m=Z(T),O=o(T),cb=o(T),cX=e.N.nT(e.n.NT.yT(0,0,p,m));
return cX}function K(T){var p=T.j5,m=v(T),O=v(T),cb=0,cX=0,e$=0,fz=0,eC=0,hw=1,az=1;if(p<1500){fz=v(T);
e$=p<900?fz:v(T);cX=p<900?fz:v(T);cb=p<900?fz:v(T)}else{var av=S(T);if(av!=0)hw=av;av=S(T);if(av!=0)az=av;
var ia=Q(T);T.f+=7;if(ia==0){fz=S(T);eC=Q(T);T.f+=15;e$=S(T);T.f+=16;cX=S(T);T.f+=16;cb=S(T);var iJ=Math.abs(m*hw/2),cx=Math.abs(O*az/2);
fz*=iJ<cx?iJ:cx;e$*=iJ<cx?iJ:cx;cX*=iJ<cx?iJ:cx;cb*=iJ<cx?iJ:cx}else{fz=v(T);eC=Q(T);T.f+=15;e$=v(T);
T.f+=16;cX=v(T);T.f+=16;cb=v(T)}}return e.N.nT(e.n.NT.Rect(0,0,m,O,[cb,cX,e$,fz]))}function V(T){var p=l(T);
if(T.j5<1700)p*=2;T.f+=p;return""}function r(T){var p=l(T),O=0;T.f+=37;var m=l(T);for(var Y=0;Y<m;Y++){var cb=l(T);
O=cb;T.f+=48;var cX=l(T);if(cX==1)T.f+=12*4;else T.f+=8;if(!p){T.f+=16;V(T)}}var e$={aE_:O,Ff:[]},fz=l(T);
for(var eC=0;eC<fz;eC++){var hw=l(T),bZ="";T.f+=1;if(p)T.f+=1;var az=V(T),av=l(T);for(var Y=0;Y<av;Y++){T.f+=2;
var ia=a(T),iJ=a(T);if(iJ&4){var cx=l(T);cx*=2;T.f+=cx}if(ia||iJ&4){var hP=V(T)}}var iS=l(T),e4=[];for(var Y=0;
Y<iS;Y++){var cc=U(T)&4294967295;e4[Y]=cc>>16|cc&1}var aO=l(T);for(var Y=0;Y<iS;Y++){var d_=e4[Y]&7,ee=0;
if(d_==0||d_==2||d_==4||d_==6)ee=T.data[T.f++];else if(d_==1||d_==3||d_==5||d_==7)ee=T.data[T.f++]+T.data[T.f++]*256;
else throw d_;bZ+=String.fromCharCode(ee)}var b4=bZ.split("\r");for(var Y=0;Y<b4.length;Y++)e$.Ff.push({text:b4[Y],anL:hw,Oy:[]})}return e$}function c(T,p){var m={},O=l(T);
for(var Y=0;Y<O;Y++){var cb=l(T);T.f+=4;var cX=l(T);m[cb]=cX;if(p)T.f+=48}return m}function x(T){var p=Z(T),m=Z(T);
return new cJ(p,m)}function X(T){T.f+=4;var p=Z(T),m=Z(T);return new cJ(p,m)}function M(T){T.f+=4;var p=a(T)+a(T);
T.f+=16;var m=t(T,p);return m}function f(T){var p=a(T);T.f+=2;return t(T,p)}function t(T,p){var m=[],O=[];
for(var Y=0;Y<p;Y++)m.push([Z(T),Z(T)]);for(var Y=0;Y<p;Y++)O.push(Q(T));return n(m,O)}function n(T,p){var m={m:[],Gc:[]},O=0,cb=0,cX=0;
for(var Y=0;Y<T.length;Y++){var O=T[Y][0],cb=T[Y][1],e$=p[Y];if(!(e$&64)&&!(e$&128)||Y==0){m.m.push(O,cb);
m.Gc.push("M");cX+=2}else if(e$&64&&!(e$&128)){m.m.push(O,cb);m.Gc.push("L");cX+=2}else if(!(e$&64)&&e$&128){m.m.push(O,cb);
m.Gc.push("C");cX+=6}else if(e$&64&&e$&128){m.m.push(O,cb)}}if(cX!=m.m.length)throw"e";return m}function L(T,p){var m=J.FZ;
p+=8;var O=m(T,p);p+=4;var cb=m(T,p);p+=4;p+=4*7;var cX=p,e$=e.U(O*cb*4);p+=1024;for(var fz=0;fz<cb;
fz++)for(var eC=0;eC<O;eC++){var Y=fz*O+eC,hw=(cb-fz-1)*O+eC,az=T[p+Y]<<2,av=hw<<2;e$[av+0]=T[cX+az+2];
e$[av+1]=T[cX+az+1];e$[av+2]=T[cX+az+0];e$[av+3]=255}return{Ur:e$,rect:new io(0,0,O,cb)}}function P(T){var p=T.j5,m=0,O=0,cb=0;
if(p>=500){m=a(T);if(m==1&&p>=1300)m=25;if(m==30){m=25;O=30}else{O=a(T);T.f+=4}cb=l(T)}else if(p>=400)throw"e";
else{m=Q(T);cb=l(T)}return z(m,O,cb)}function z(T,p,m){var O=[0,0,0];if(T==2||T==3||T==9||T==17){var cb=[m>>>0&255,m>>>8&255,m>>>16&255,m>>>24&255];
if(T==2)for(var Y=0;Y<4;Y++)cb[Y]=Math.round(255*cb[Y]/100);for(var Y=0;Y<4;Y++)cb[Y]/=255;O=UDOC.C.cmykToRgb(cb)}else if(T==1||T==5){O=[m>>>0&255,m>>>8&255,m>>>16&255];
for(var Y=0;Y<3;Y++)O[Y]=O[Y]/255;if(T==5)O.reverse()}else console.log("Unknown color model "+T,m,m.toString(16));
return O}return{wZ:H}}(),bx=function(){var b,h,G=new ArrayBuffer(4),H=new Uint8Array(G),B=new Uint32Array(G),j=new Float32Array(G);
function s(N,R){for(var S=0;S<N.length;S++)if(N[S][0]==R)return N[S]}function q(){var N=0,R=0,S=0;do{S=b[h++];
N|=(S&127)<<R;R+=7}while(S&128&&R<35);return N>>>0}function Q(N,R,S,g,i){b=N;h=R;var y=g[0]=="mesg",o=g[2],v={},Z=1,W=y?1e9:o.length;
while(Z<=W){var d=Z;if(y){d=q();if(d==0)break}var $=s(o,d),I=$[2],k=$[1]==1,_=k?q():1,D=new Array(_);
if(I==3){if(!k)throw"e";D=b.slice(h,h+_);h+=_}else for(var Y=0;Y<_;Y++){var A;if((I&1)==1){if(I==1)A=b[h++]==1;
else if(I==3)A=b[h++];else if(I==5){var F=q();A=F&1?~(F>>>1):F>>>1}else if(I==7)A=q();else if(I==9){if(b[h]==0){A=0;
h++}else{H[0]=b[h];H[1]=b[h+1];H[2]=b[h+2];H[3]=b[h+3];var K=B[0];B[0]=K<<23|K>>>9;A=j[0];h+=4}}else if(I==11){var V=a(b,h);
A=V[0];h+=V[1]+1}else throw I}else{var r=S[I>>>1];if(r[0]=="enum"){var c=q();A=r[2][c]}else{var x=Q(b,h,S,r,i+1);
A=x[0];h=x[1]}}D[Y]=A}v[$[3]]=k?D:D[0];Z++}return[v,h]}function a(N,R){var S=R;while(N[S]!=0)S++;return[J.S2(new Uint8Array(N.buffer,R,S-R)),S-R]}function l(N,R){var S=R;
while(N[S]!=0)S++;for(var Y=R;Y<S;Y++)if(N[Y]>127)throw"e";return J.lA(N,R,S-R)}function U(N){b=N;h=1;
var R=[];while(h<N.length){var S=h,g=R.length,i=l(N,h);h+=i.length+1;var y=q();if(y>2)throw"e";var o=q(),v=[];
for(var Y=0;Y<o;Y++){var Z=l(N,h);h+=Z.length+1;var W=q(),d=q(),$=q();v.push(y==0?Z:[$,d,W,Z])}R.push([["enum","strc","mesg"][y],i,v])}return R}return{auT:U,ah1:Q}}();
function kg(){}kg.wZ=function(b,h){var G=Date.now(),H=new Uint8Array(b),B=8,j,U=0,x=0;if(H[0]==80&&H[1]==75){j=UZIP.parse(b);
H=j["canvas.fig"]}var s=J.FZ(H,B);B+=4;var q=[];while(B<H.length){var Q=J.FZ(H,B);B+=4;var a=H.slice(B,B+Q);
if(H[B]==137&&H[B+1]==80){}else a=UZIP.inflateRaw(a);q.push(a);B+=Q}var l=bx.auT(q[0]);for(var Y=0;Y<l.length;
Y++)if(l[Y][1]=="Message")U=Y;var N=bx.ah1(q[1],0,l,l[U],0)[0],R={Fs:{},Fr:{},asq:{},yu:j},S=N.nodeChanges;
for(var g=0;g<S.length;g++){var i=S[g],y=i.guid;R.Fr[y.sessionID+","+y.localID]=i}for(var g=0;g<S.length;
g++){var i=S[g],y=i.parentIndex;if(y){var o=kg.VI(R.Fr,y.guid);if(o.children==null)o.children=[];o.children.push(i)}}var v=S[0],Z=v.children,W=new io,d=[],$=[];
for(var y=0;y<Z.length;y++){var I=Z[y],k=I.children;if(I.name=="Internal Only Canvas"||k==null)continue;
var _=new io;for(var Y=0;Y<k.length;Y++){var D=k[Y],A=D.transform,F=D.size;if(A.m00==1&&A.m10==0&&A.m01==0&&A.m11==1){var K=new io(A.m02,A.m12,F.x,F.y);
_=_.gJ(K)}}var V=W._==0?0:W._+100,r=_.clone();r.x=0;r.y=V;W=W.gJ(r);d[y]=_;$[y]=V}var c=jw.Gz(new io(0,0,W.j,W._),8192*8192);
h.j=Math.round(W.j/c);h._=Math.round(W._/c);h.buffer=e.U(h.j*h._*4);for(var y=0;y<Z.length;y++){var I=Z[y],k=I.children;
if(I.name=="Internal Only Canvas"||k==null)continue;k.sort(kg.aqN);var X=new eq(1,0,0,1,-d[y].x,$[y]-d[y].y);
X.scale(1/c,1/c);for(var Y=0;Y<k.length;Y++){var D=k[Y];kg.qg(D,[],X,N.blobs,h,0,R);x++}}h.LI(x);h.rm=!0;
if(c!=1)alert("File scaled down "+c+"x")};kg.qg=function(b,h,G,H,B,j,s){var q=kg,_=!1,D,K=!1,V,r;h=JSON.parse(JSON.stringify(h));
var Q=b.overrideKey?b.overrideKey:b.guid;for(var Y=0;Y<h.length;Y++){var a=h[Y],l=a.guidPath.guids;if(q.avo(l[0],Q)){if(l.length==1){var U={};
for(var N in b)U[N]=a[N]!=null?a[N]:b[N];b=U}else a.guidPath.guids=l.slice(1)}}var R=b.type,S=b.children,g=b.size,i=b.effects,y=B.Cx();
y.cb(b.name);y.lW(b.visible);y.opacity=Math.round(b.opacity*255);var o=q.D$(b.transform),v=o.clone();
v.concat(G);if(g==null)g={x:0,y:0};var Z=new io(Math.round(v.Kv),Math.round(v.d0),Math.round(g.x*v.$K()),Math.round(g.y*v.$K()));
if(Z.j==0||isNaN(Z.j))Z.j=100;if(Z._==0||isNaN(Z._))Z._=100;var W=b.fillPaints,d=b.inheritFillStyleID;
if(d){var U=q.VI(s.Fr,d);if(U)W=U.fillPaints}if(W==null)W=[];var W=q.a7n(W),$=W[0];if($&&$.type=="IMAGE"&&q.Nw(H,kg.kh($),s,!0)==null)$=null;
var I=b.strokePaints,d=b.inheritFillStyleIDForStroke;if(d){var U=q.VI(s.Fr,d);if(U)I=U.fillPaints}if(I==null)I=[];
var I=q.a7n(I),k="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(k||R=="FRAME"){D=new C.cW;q.awF(b,H,D);_=e.n.wm(D.d);e.n.Gl(D.d,v);var A=e.N.lZ(e.n.d4(D.d));if(!A.Zx())Z=A;
if(s.Fs.SU&&$){var F=C.cW.O6(s.Fs.SU.d);for(var Y=2;Y<F.length;Y++)if(F[Y].Vj!=null)F[Y].Vj=3;D.d=D.d.concat(F.slice(2))}}if($&&$.type=="IMAGE"){r=$.imageScaleMode;
K=!0;var c=$.originalImageWidth,x=$.originalImageHeight;if(c*x==0){var X=q.Nw(H,kg.kh($),s);c=X.jD.j;
x=X.jD._}var M=c/x,f=g.x/g.y;V=Math.abs(M-f)}if(R=="FRAME"){}else if(k&&_&&K&&(r=="FIT"||r=="FILL"&&V<=.05||r=="STRETCH"&&V<=.05)){var t=q.Nw(H,kg.kh($),s,!0),n=B._t(t,y.getName(),0,0);
n.Xp=y.Xp;n.opacity=y.opacity;y=n;var L=new io(0,0,g.x,g.y);if(r=="FIT"){var P=$.originalImageWidth,z=$.originalImageHeight,T=Math.min(g.x/P,g.y/z),p=P*T,m=z*T;
L=new io(L.x+(L.j-p)/2,L.y+(L._-m)/2,p,m)}var O=e.N.Q0(L).m;e.N.h(O,v,O);y.add.SoLd.Trnf=E.Y.Ll(O);y.add.SoLd.nonAffineTransform=E.Y.Ll(O);
var cb=[],i=b.effects,cX=$.paintFilter;if(i)for(var Y=0;Y<i.length;Y++)if(i[Y].type=="FOREGROUND_BLUR"){var e$=i[Y],fz=gY.pY("GsnB",{});
cb.push(fz);fz.v.enab.v=e$.visible;fz.v.Fltr.v.Rds.v.val=e$.radius/2.4}if(cX&&cX.exposure!=0){var fz=gY.pY("brit",{});
cb.push(fz);fz.v.Fltr.v.Brgh.v=Math.round(cX.exposure*160);fz.v.Fltr.v.useLegacy.v=!0}if(cX&&cX.vibrance!=0){var fz=gY.pY("vibA",{});
cb.push(fz);fz.v.Fltr.v.Strt.v=Math.round(Math.round(cX.vibrance*100))}if(cb.length!=0){y.add.SoLd.filterFX=gY.Aq();
B.RJ({id:y.add.SoLd.placed.v,rect:new io,buffer:e.U(1),u:new C.Tc});y.add.SoLd.filterFX.v.filterFXList.v=cb}y.gE(B,!1);
q.awh(s,y,B)}else if(k){q.aAw(y,D,b,$,I,v,Z,H,B,s);if(i)for(var Y=0;Y<i.length;Y++){var e$=i[Y];if(e$.type!="FOREGROUND_BLUR")continue;
D._o=e$.radius/2.4}y.AA();y.vw(B)}else if(R=="TEXT"){var eC=b.textData,hw=eC.layoutSize,az=["LEFT","RIGHT","CENTER"].indexOf(b.textAlignHorizontal);
y.add.lnsr="rend";y.add.TySh=b_.V0(0,0);y.add.TySh.In=new io(0,0,100,100);var av=v.clone();y.add.TySh.h=av;
var ia=y.add.TySh.HZ,iJ=eC.characters;if(b.textCase=="TITLE"){for(var Y=0;Y<iJ.length;Y++)if(Y==0||iJ[Y-1]==" "){var cx=iJ.slice(0,Y),hP=iJ.slice(Y+1);
iJ=cx+iJ[Y].toUpperCase()+hP}}iJ=iJ.replace(/\u2028/g,"\n");iJ=iJ.replace(/\u2029/g,"\n");iJ=iJ.replace(/\r\n/g," \n");
b_.ph(ia,0,iJ);var iS=b.textAutoResize,e4=eC.baselines;if(iS=="WIDTH_AND_HEIGHT"){var cc=az==0?0:az==1?hw.x:hw.x/2,aO=e4?e4[0].position.y:0;
av.translate(cc*v.$K(),aO*v.$K());b_.vj(ia,0)}else if(iS=="HEIGHT"||iS=="NONE"||iS==null){var aO=e4?e4[0].position.y-b.fontSize*.7:0;
av.translate(0,aO*v.$K());b_.vj(ia,1);b_.A6(ia,[0,0,Math.round(hw.x),Math.round((iS=="NONE"?1.8:1)*hw.y)])}else throw iS;
if(iJ!=""){var bZ=b_.XN(ia,0,1);q.ayq(b,v,g,bZ,y,H,B,s);b_.V1(ia,0,iJ.length,bZ);var d_=eC.characterStyleIDs,ee=eC.styleOverrideTable;
if(d_){d_=d_.slice(0);for(var Y=0;Y<d_.length;Y++)if(iJ[Y]=="\n")d_[Y]=-Y-1;var b4=[0],hA=0,f$=0;for(var Y=0;
Y<d_.length;Y++){f$++;var e_=d_[Y];if(Y==0||e_==d_[Y-1]){}else{b4.push(f$-1,Y);f$=1}}b4.push(f$);for(var Y=0;
Y<b4.length;Y+=2){var fJ=b4[Y],dV=b4[Y+1];if(iJ[fJ]=="\n")continue;var e_=d_[fJ];if(e_!=0){var ix;for(var b9=0;
b9<ee.length;b9++)if(ee[b9].styleID==e_)ix=ee[b9];var bZ=b_.XN(ia,fJ,fJ+1);q.ayq(ix,v,g,bZ,y,H,B,s);
b_.V1(ia,fJ,fJ+dV-1,bZ)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"&&b.symbolData){var hV=b.symbolData,gq=hV.symbolOverrides,U=q.VI(s.Fr,hV.symbolID);
if(U)S=U.children;else console.log(b.name,"symbol not found",hV.symbolID);h=h.slice(0);for(var Y=0;Y<gq.length;
Y++)h.push(gq[Y])}else console.log(R);if(!1){}else if(S&&!k){B.R.push(B.b2());var eH=!1,eP=j==0&&R!="SYMBOL"&&R!="INSTANCE";
if(eP){if(Z.Zx())console.log(Z);y.b8(Z)}$=W[W.length-1];if($&&$.type=="IMAGE"&&q.Nw(H,kg.kh($),s,!0)==null)$=null;
if(eP&&$&&$.type=="SOLID"){var c2=$.color;y.add.artb.artboardBackgroundType.v=4;y.add.artb.Clr=q.ur(c2)}else if(($||I[0])&&D){var bL=B.Cx();
bL.cb("Background");q.aAw(bL,D,b,$,I,v,Z,H,B,s);bL.AA();bL.vw(B);B.R.push(bL);eH=!0}S.sort(q.aqN);var dg=s.Fs;
s.Fs={};for(var cN=0;cN<S.length;cN++)q.qg(S[cN],h,v,H,B,j+1,s);s.Fs=dg;y.add.lsct=!1?c1.$I:c1.N_;y.Am="pass";
var dH=y.yY();y.Xp=24;y.lW(dH);var kM=j!=0&&W.length!=0&&!b.frameMaskDisabled&&b.containerSupportsFillStrokeAndCorners;
if(!eH&&kM&&D){y.add.vmsk=D;y.AA();y.vw(B)}else q.awh(s,y,B);B.R.push(y)}else if(b.mask){if(D){s.Fs.SU=D}}else{var a_=[],cl=1;
if(i)for(var g4=0;g4<i.length;g4++){var e$=i[g4],iY=e$.color,fa=e$.type,ka=["DROP_SHADOW","INNER_SHADOW"].indexOf(fa);
if(ka!=-1){var b1=["DrSh","IrSh"][ka],bg=JSON.parse(dE.Qy[dE.order.indexOf(b1)]);a_.push([b1,bg]);bg.enab.v=e$.visible;
bg.Md.v.BlnM=aq.Wz(q.a9j(e$.blendMode));bg.Opct.v.val=Math.round(100*iY.a);bg.blur.v.val=Math.round(e$.radius*v.$K());
bg.Clr=q.ur(iY);var cc=e$.offset.x,aO=e$.offset.y;bg.uglg.v=!1;bg.lagl.v.val=Math.round(180/Math.PI*Math.atan2(aO,-cc));
bg.Dstn.v.val=Math.round(Math.sqrt(cc*cc+aO*aO)*v.$K())}}if(R=="TEXT"&&W[0]&&W[0].type!="SOLID")cl=0;
for(var Y=cl;Y<W.length;Y++){var c0=W[Y],kL=q.IP(b,c0,v,Z,H,B,s);if(kL[0]=="GdFl")a_.push(["GrFl",kL[1]]);
else if(kL[0]=="SoCo")a_.push(["SoFi",kL[1]]);else if(kL[0]=="PtFl")a_.push(["patternFill",kL[1]]);else if(kL[0]=="None"){}else throw kL}if(!k)for(var Y=0;
Y<I.length;Y++){var c0=I[Y],kL=q.IP(b,c0,v,Z,H,B,s);if(kL[0]=="SoCo"){var bg=JSON.parse(dE.Qy[dE.order.indexOf("FrFX")]);
a_.push(["FrFX",bg]);bg.enab=kL[1].enab;bg.Opct=kL[1].Opct;bg.Md=kL[1].Md;bg.Clr=kL[1].Clr;bg.Sz.v.val=Math.round(b.strokeWeight);
var c_=b.strokeAlign;if(c_)bg.Styl.v.FStl=dE.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(c_)]}}if(a_.length!=0){var cA=JSON.parse(dE.default);
for(var Y=0;Y<dE.order.length;Y++)cA[dE.CM[Y]]={t:"VlLs",v:[]};for(var Y=0;Y<a_.length;Y++){var aw=a_[Y],b1=dE.CM[dE.order.indexOf(aw[0])];
cA[b1].v.unshift({t:"Objc",v:aw[1]})}if(S==null)y.add.lmfx=cA}B.R.push(y)}};kg.aAw=function(b,h,G,H,B,j,s,q,Q,a){var l=kg;
b.Xp|=16;b.add.vmsk=h;var U=b.add.vstk=dE.QA.Az(),N=l.IP(G,H,j,s,q,Q,a);U.fillEnabled.v=N[0]!="None";
if(N[0]=="None"){b.add.SoCo=N[1]}else{l.ag(N,b);b.add[N[0]]=N[1]}var N=l.IP(G,B[0],j,s,q,Q,a);if(N[0]!="None"){var U=b.add.vstk;
U.strokeEnabled.v=!0;U.strokeStyleLineWidth.v.val=G.strokeWeight*j.$K();U.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[["INSIDE","CENTER","OUTSIDE"].indexOf(G.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[N[0]],S=["SoFi","GrFl","patternFill"].indexOf(R),g=[dE.L1,dE.WH,dE.aa][S];
U.strokeStyleContent.v={classID:dE.QA.kR[0]};var i=G.dashPattern;if(i)U.strokeStyleLineDashSet.v=eQ.FA(i,1/G.strokeWeight);
var y=U.strokeStyleContent.v={classID:dE.QA.kR[S]};for(var Y=0;Y<g.length;Y++)y[g[Y]]=N[1][g[Y]];if(!U.fillEnabled.v)l.ag(N,b)}};
kg.ag=function(b,h){var G=b[1].Opct.v.val;if(G!=100)h.opacity=Math.round(h.opacity/255*(G/100)*255)};
kg.aqN=function(b,h){var G=b.parentIndex.position,H=h.parentIndex.position;return G>H?1:-1};kg.a7n=function(b){for(var Y=1;
Y<b.length;Y++){var h=b[Y];if(h.type=="IMAGE"&&h.opacity==1){b=b.slice(Y);break}}for(var Y=0;Y<b.length;
Y++){var h=b[Y],G=h.imageThumbnail,H=h.type=="IMAGE";if(H&&(h.image==null||h.image.dataBlob==null)&&G&&G.dataBlob)h.image=G;
if(!h.visible||H&&h.image==null){b.splice(Y,1);Y--}}return b};kg.awh=function(b,h,G){if(b.Fs.SU){h.add.vmsk=b.Fs.SU.clone();
h.AA();h.vw(G)}};kg.ayq=function(b,h,G,H,B,j,s,q){var Q=b.fontSize,a=b.lineHeight,l=b.fontName,U=b.textAlignHorizontal,N=b.textTracking,R=b.textCase,S=b.textDecoration;
if(Q==null)Q=H.bJ.FontSize;if(l){var g=l.postscript;if(g==""){var i=l.family,y=l.style;g=i.split(" ").join("")+"-"+y}b_.HC(H,g)}if(Q!=null)H.bJ.FontSize=Math.round(Q);
if(S=="UNDERLINE")H.bJ.Underline=!0;if(N)H.bJ.Tracking=Math.round(N*1e3);if(R)H.bJ.FontCaps=R=="UPPER"?2:0;
if(a&&(a.units!="PERCENT"||a.value!=100)){if(Q==null)Q=15;var o=a.value;if(a.units=="PERCENT")o=1*Q*o/100;
if(a.units=="RAW")o=1*Q*o;H.bJ.AutoLeading=!1;H.bJ.Leading=Math.round(o)}if(U)H._P.Justification=["LEFT","RIGHT","CENTER"].indexOf(U);
var v=b.fillPaints,Z=b.inheritFillStyleID;if(Z){var W=kg.VI(q.Fr,Z);if(W)v=W.fillPaints}if(v&&v[0]){var d=kg.IP(b,v[0],h,G,j,s,q);
if(d[0]=="SoCo"){var $=e.F.an(d[1].Clr.v);H.bJ.FillColor={Type:1,Values:[1,$.$/255,$.B/255,$.J/255]};
kg.ag(d,B)}}};kg.IP=function(b,h,G,H,B,j,s){var q=kg,Q,a,l=b.size;if(l==null)l={x:0,y:0};if(h){var U=h.type,N=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(U);
if(U=="SOLID"){Q="SoCo";var R=h.color;a=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);a.Clr=q.ur(R)}else if(N!=-1){var S=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),g=S.Grad.v;
g.Intr.v=0;S.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][N];var i=[],y=h.stops;for(var Y=0;Y<y.length;Y++){var o=y[Y],v=o.color;
i.push([o.position,[v.r,v.g,v.b],v.a])}e.F.mg(i,g);var Z=q.D$(h.transform);Z.Q6();var W=Z.clone();if(l)W.scale(l.x,l.y);
W.concat(G);var d=new cJ(0,.5),$=new cJ(1,.5);d=W.At(d);$=W.At($);if(!0){d.x=$.x+.5*(d.x-$.x);d.y=$.y+.5*(d.y-$.y)}e.F.wM(d,$,H,S);
if(N==3){if(W.G*W.tW-W.J*W.YW<0)S.Rvrs.v=!S.Rvrs.v}Q="GdFl";a=S}else if(U=="IMAGE"){var S=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]),Z=q.D$(h.transform);
Z.Q6();var I=kg.kh(h),k=s.asq[I];if(k==null){var _=q.Nw(B,I,s);k=s.asq[I]={};k.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";
k.yr=[new Uint8Array(_.data),_.jD];if(Z.G<0){var D=k.yr[0].slice(0);e.t.jt(D,k.yr[0],_.jD.j,_.jD._)}k.name="someImage";
j.lN(k)}if(Z.G<0)Z.G=-Z.G;var A=["FILL","FIT","STRETCH","TILE"].indexOf(h.imageScaleMode),F=A==3?h.scale:1;
eQ.a26(k,S,l.x,l.y,A,G,Z,F);Q="PtFl";a=S}else if(U=="VIDEO"){Q="SoCo";a=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);
a.Clr=q.ur({r:255,g:0,b:255})}else throw U;if(a)a.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(h.opacity*100)}}}if(Q==null||h.opacity<.001){Q="None";
a={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}}}return[Q,a]};kg.kh=function(b){var h=b.image,G=h.dataBlob;
if(G==null){G="";for(var Y=0;Y<20;Y++)G+=h.hash[Y].toString(16).padStart(2,"0")}return G};kg.Nw=function(b,h,G,H){if(b[h]){var B=b[h];
if(H)return B.bytes;if(B.rslt)return B.rslt;var j=B.bytes.buffer;B.rslt=kg.apD(j);return B.rslt}else{if(G.yu==null)return null;
if(H)return G.yu["images/"+h];var j=G.yu["images/"+h].buffer;if(G.yu["images/-"+h])return G.yu["images/-"+h];
G.yu["images/-"+h]=kg.apD(j);return G.yu["images/-"+h]}};kg.apD=function(b){var h=aT.ni(b);if(h=="fpng")h="png";
var G=aT.JR(h);try{return G.ho(b)[0]}catch(ku){return{data:e.U(4),jD:new io(0,0,1,1)}}};kg.awF=function(b,h,G){var H=b.type,B=b.size,j=b.cornerRadius,a;
if(j==null)j=0;var s=B.x,q=B.y,Q=[j,j,j,j],l=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Y=0;Y<4;Y++)if(b[l[Y]]!=null)Q[Y]=b[l[Y]];if(H=="RECTANGLE"||H=="ROUNDED_RECTANGLE"||H=="FRAME"){a=e.n.NT.Rect(0,0,s,q,Q)}else if(H=="ELLIPSE"){var U=b.arcData,N=U?U.startingAngle:0,R=U?U.endingAngle:2*Math.PI,S=U?U.innerRadius:0;
if(N==0&&R>1.999*Math.PI)a=e.n.NT.yT(0,0,s,q,0);else a=e.n.NT.aee(s/2,q/2,q/2,N,R);if(S!=0&&S!=1){var g=C.cW.O6(a).slice(3);
g.reverse();for(var Y=0;Y<g.length;Y++){var i=g[Y],y=i.o$;i.o$=i.PY;i.PY=y}var o=new eq;o.translate(-s/2,-q/2);
o.scale(S,S);o.translate(s/2,q/2);e.n.Gl(g,o);a=a.concat(g);a[2].length*=2}}else if(H=="LINE"){a=e.n.NT.Rect(0,0,s,q,0);
a.pop();a.pop();a[2].length=2}else if(H=="STAR"){a=e.n.NT.an8(s/2,q/2,s/2,2*Math.PI*(1/4),5,0,b.starInnerScale)}else if(H=="REGULAR_POLYGON"){a=e.n.NT.hD(.5,.5,.5,Math.PI/2,b.count,0);
var v=new eq;v.scale(s,q);e.n.Gl(a,v)}else if(H=="BOOLEAN_OPERATION"){a=[{type:6},{type:8,all:0}];var Z=b.children,W=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(b.booleanOperation);
if(W==-1)throw b;if(Z==null)Z=[];for(var Y=0;Y<Z.length;Y++){var d=Z[Y],$=new C.cW,I=kg.awF(d,h,$);if($.d==null)continue;
e.n.Gl($.d,kg.D$(d.transform));a=a.concat($.d.slice(2))}for(var Y=3;Y<a.length;Y++)if(a[Y].Vj!=null)a[Y].Vj=W}else if(H=="VECTOR"){var k,_,f=3;
if(!0){var D=b.vectorData;if(D==null)return;k=D.normalizedSize;_=D.vectorNetworkBlob}var A=h[_].bytes,F=new Uint32Array(A.buffer),K=new Float32Array(A.buffer),V=F[0],r=F[1],c=F[2],x=[],X=[],M=[],t=f+V*3,n=t+r*7;
for(var Y=0;Y<V;Y++){var L=f+Y*3,P=new cJ(K[L+1],K[L+2]);x.push(P)}for(var Y=0;Y<r;Y++){var z=t+Y*7;
X.push([F[z+0],F[z+1],K[z+2],K[z+3],F[z+4],K[z+5],K[z+6]])}for(var Y=0;Y<c;Y++){var T=F[n+1],m=M[Y]=[];
n+=2;for(var O=0;O<T;O++){var cb=F[n++],cX=m[O]=[];for(var e$=0;e$<cb;e$++)cX[e$]=F[n+e$];n+=cb}}if(n!=F.length)throw"e";
if(c==0){var fz=-1;for(var Y=0;Y<r;Y++){if(fz==-1){}else{var eC=-1;for(var O=Y;O<r;O++)if(X[O][4]==fz)eC=O;
for(var O=Y;O<r;O++)if(X[O][1]==fz)eC=O;if(eC!=-1){var hw=0,y=X[eC];X[eC]=X[Y];X[Y]=y;if(y[1]!=fz){hw=y[1];
y[1]=y[4];y[4]=hw;hw=y[2];y[2]=y[5];y[5]=hw;hw=y[3];y[3]=y[6];y[6]=hw}}}fz=X[Y][4]}M.push([[]]);for(var Y=0;
Y<r;Y++)M[0][0].push(Y)}var az=[],av=[];for(var ia=0;ia<M.length;ia++){for(var iJ=0;iJ<M[ia].length;
iJ++){var cx=M[ia][iJ],hP=0;if(cx.length>1){var iS=X[cx[0]],e4=X[cx[1]];hP=iS[4]==e4[1]?1:0}for(var Y=0;
Y<cx.length;Y++){var cc=X[cx[Y]],aO=1,bZ=4;if(hP==0){aO=4;bZ=1}var d_=x[cc[aO]],ee=x[cc[bZ]];if(Y==0){av.push("M");
az.push(d_.x,d_.y)}av.push("C");az.push(d_.x+cc[aO+1],d_.y+cc[aO+2],ee.x+cc[bZ+1],ee.y+cc[bZ+2],ee.x,ee.y)}}}a=e.N.zv({m:az,Gc:av},!1);
if(j!=0){var Q=[],b4=a[2].length;for(var Y=0;Y<b4;Y++)Q.push(j);if(e.n.uC(a))e.n.qF(a,2,Q)}var hA=new eq;
hA.scale(k.x==0?1:B.x/k.x,k.y==0?1:B.y/k.y);e.n.Gl(a,hA)}G.d=a};kg.VI=function(b,h){return b[h.sessionID+","+h.localID]};
kg.avo=function(b,h){return b.sessionID==h.sessionID&&b.localID==h.localID};kg.a9j=function(b){var h={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[b];
if(h==null)throw b;return h};kg.ur=function(b){return{t:"Objc",v:e.F.t1({$:b.r*255,B:b.g*255,J:b.b*255})}};
kg.D$=function(b){if(b==null)return new eq;var h=[b.m00,b.m10,b.m01,b.m11,b.m02,b.m12];for(var Y=0;Y<6;
Y++)if(Math.abs(h[Y])<1e-20)h[Y]=0;return new eq(h[0],h[1],h[2],h[3],h[4],h[5])};function d$(){}d$.wZ=function(){var b=J.lA;
function h(R,S,g,i){var y=i?[]:{};while(S<R.length-1&&R[S]!=125){var o=b(R,S,3),v=b(R,S+3,1),Z;S+=4;
S++;if(v=="v"){var W=h(R,S,g+1,o=="ELM"||o=="TIL"||o=="TFS");Z=W.P;S=W.f}else if(v=="i"||v=="f"){var d=S;
while(R[d]!=125)d++;var $=b(R,S,d-S);Z=v=="i"?parseInt($,16):parseFloat($);S=d+1}else if(v=="s"){var I=J.JQ(R,S),$="";
S+=2;for(var Y=0;Y<I;Y++)$+=String.fromCharCode(R[S+2*Y+1]);Z=$;S=S+2*I+1}else if(v=="b"){Z=R[S]==49;
S=S+2}else throw"e";if(i)y.push([o,Z]);else if(y[o]==null)y[o]=Z;else{if(!(y[o]instanceof Array))y[o]=[y[o]];
y[o].push(Z)}}S++;return{P:y,f:S}}function G(R,S){var g=H(R).slice(1),R=S.Clr.v;R.Rd.v=g[0]*255;R.Grn.v=g[1]*255;
R.Bl.v=g[2]*255}function H(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function B(R,S){var g=S&4278190080|(S&255)<<16|(S>>>8&255)<<8|S>>>16&255;
new Uint32Array(R.buffer).fill(g)}function j(R,S){var g=R.TSZ,i=R.WPX,y=R.HPX,o=R.TIL,v=new io(0,0,i,y),Z=e.U(i*y*4),W=0;
for(var d=0;d<y;d+=g)for(var $=0;$<i;$+=g){var I=new io($,d,g,g),k,_=o[W];if(_[0]=="TMC"){k=e.U(I.X()*4);
B(k,_[1])}else if(_[0]=="TID"){k=S[_[1]]}e.JE(k,I,Z,v);W++}return[Z,v]}function s(R,S){R=new Uint8Array(R);
var g=8,i,y={},r=0;while(g<R.length){var o=J.C(R,g);g+=4;var v=b(R,g,4);g+=4;if(v=="mkTS"){var Z=pako.inflate(R.slice(g,g+o)),W=h(Z,0,0);
i=W.P}else if(v=="mkBT"){var d=J.C(R,g+4),$=J.C(R,g+8),Z=pako.inflate(R.slice(g+76,g+o));if($==0)for(var Y=0;
Y<Z.length;Y+=4){var I=Z[Y],k=Z[Y+1],_=Z[Y+2],D=Z[Y+3];Z[Y+3]=I;Z[Y+2]=D;Z[Y+1]=_;Z[Y]=k}else{var A=e.U(Z.length*4);
A.fill(255);e.YP(Z,A);Z=A}y[d]=Z}g+=o+4}var F=i.PDC,K=F?F instanceof Array?F:[F]:[i.MKB],V=new io;for(var Y=0;
Y<K.length;Y++){var c=K[Y];V=V.gJ(new io(0,r,c.WID,c.HIT));r+=c.HIT+100}S.j=V.j;S._=V._;S.buffer=e.U(V.X()*4);
S.LI(K.length);r=0;for(var x=0;x<K.length;x++){S.R.push(S.b2());var c=K[x],X=c.WID,M=c.HIT,f=c.BGC,t=(c.LYL?c:i).LYL.LAY,P=3;
for(var Y=0;Y<t.length;Y++)Q(t[Y],S,null,y,new eq(1,0,0,1,-c.XLC,-c.YLC+r));var n=S.Cx();S.R.push(n);
var L=new io(0,r,X,M);r+=M+100;n.b8(L);if(f>>>24!=0){var z=e.F.t1({$:f>>>16&255,B:f>>>8&255,J:f>>>0&255});
n.add.artb.Clr={t:"Objc",v:z};P=4}n.add.artb.artboardBackgroundType.v=P;n.cb(c.PGN?c.PGN:"Page "+(x+1));
n.add.lsct=c1.N_;n.Am="pass";n.Xp=24}}function q(R,S,g){var i=R[S];return i instanceof Array?i[g]:i}function Q(R,S,g,i,y){var o=S.Cx();
if(R.VIS!=null)o.lW(R.VIS);if(R.VIF!=null)o.lW(R.VIF.VIS);if(R.OPA!=null)o.opacity=Math.round(255*R.OPA/1e3);
o.Am=R.CLL||g=="GRP"?"pass":"norm";if(R.BLD!=null){var v=R.BLD,Z={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[v+""];
if(Z==null)console.log(R.OBN,v);else o.Am=Z;if(v==30)o.opacity>>>=1}if(R.CLL){o.cb(R.LNM);S.R.push(S.b2());
var W=R.CLL.CEL;if(W.length==null)W=[W];for(var d=W.length-1;d>=0;d--){var $=W[d].ELM;for(var Y=$.length-1;
Y>=0;Y--)Q($[Y][1],S,$[Y][0],i,y)}o.add.lsct=R.DIS?c1.$I:c1.N_;o.Xp|=24}else if(g=="GRP"){var I=o.add.lmfx=l(R.EFL),k;
S.R.push(S.b2());var $=R.ELM,_=R.MRM;if(R.MNA){k=$[0][1];$=$.slice(1)}o.cb("Group: "+$.length+" objects");
for(var Y=$.length-1;Y>=0;Y--)Q($[Y][1],S,$[Y][0],i,y);if(k){if(R.MRX){var D=j(k,i),A=o.u=new C.Tc;A.rect=D[1].clone();
A.rect.x=k.XLC;A.rect.y=k.YLC+y.d0;A.channel=e.U(A.rect.X());e.uA(D[0],A.channel,0);e.Q6(A.channel)}else{a(o,k,y);
o.AA();o.vw(S)}}if(_){a(o,_.PTH,y);o.AA();o.vw(S)}o.add.lsct=c1.N_;o.Xp|=24}else if(g=="IMG"){o.cb(R.OBN?R.OBN:"Bitmap");
var D=j(R,i);o.rect=D[1].clone();o.rect.x=R.XLC;o.rect.y=R.YLC+y.d0;o.buffer=D[0]}else if(g=="TXT"){var F=R.TFS,x="";
o.add.lnsr="rend";o.add.TySh=b_.V0(0,0);o.add.TySh.In=new io(0,0,100,100);var K=new eq(1,0,0,1,R.LFT,R.TOP);
if(R.MTX){var V=R.MTX,A=new eq(V.M00,V.M01,V.M10,V.M11,V.M20,V.M21);K.concat(A)}K.concat(y);o.add.TySh.h=K;
var r=o.add.TySh.HZ,c=b_.XN(r,0,0),X=q(R,"FON");if(X)b_.HC(c,X);var M=q(R,"PTS");if(M)c.bJ.FontSize=Math.round(M);
var f=q(R,"ITL");if(f)c.bJ.FauxItalic=f;if(R.PAT)c.bJ.FillColor={Type:1,Values:H(q(R.PAT,"FCL"))};for(var Y=0;
Y<F.length;Y++){var t=F[Y][0],n=F[Y][1];if(t=="TRN"){n=n.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
n=n.replaceAll("\x03","\n").replaceAll("\r","\n");b_.ph(r,x.length,n);b_.V1(r,x.length,x.length+n.length,c);
x+=n}else if(t=="FON")b_.HC(c,n);else if(t=="PTS")c.bJ.FontSize=Math.round(n);else if(t=="ITL")c.bJ.FauxItalic=n;
else if(t=="UND")c.bJ.Underline=n;else if(t=="FCL")c.bJ.FillColor={Type:1,Values:H(n)};else if(t=="LED"){c.bJ.Leading=n*c.bJ.FontSize;
c.bJ.AutoLeading=!1}else if(t=="JST")c._P.Justification=[0,2,1,3,5,4,6,7,8][n]}o.cb(x.slice(0,255));
var L=R.RIT-R.LFT,P=R.BOT-R.TOP;if(R.IMG){Q(R.IMG,S,"IMG",i,y);var z=S.R.pop();o.buffer=z.buffer;o.rect=z.rect.clone()}b_.vj(r,1);
b_.A6(r,[0,0,L,P])}else if(g=="PTH"){o.cb(R.OBN?R.OBN:"Path");o.Xp|=16;var T=!1;a(o,R,y);var p=o.add.vmsk,m=o.add.vstk,O=e.n.d4(p.d),cb=R.PAT,cX=cb.BPL,e$=cb.FPL,fz=cb.TXF;
if(e$&&e$.FEF)p._o+=e$.FEF/2.4;if(cX){var eC=cX.CAT;m.strokeEnabled.v=!0;m.strokeStyleLineWidth.v.val=cX.BDI;
m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[R.BRP];G(cb.BCL,m.strokeStyleContent.v);
if(eC!="bc_Basic"&&eC!="bc_Pencil")T=!0}m.fillEnabled.v=e$!=null;if(e$==null){o.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);
G(0,o.add.SoCo)}else if(e$.CAT=="fc_Solid"){o.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);G(R.PAT.FCL,o.add.SoCo)}else if(e$.CAT=="fc_Linear"||e$.CAT=="fc_Circular"||e$.CAT=="fc_Elliptical"){var hw=e$.CAT=="fc_Linear",az=o.add.GdFl=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),av=az.Grad.v,ia=[],iJ=e$.FGL,cx,hP=[];
if(iJ.FGY){var iS=iJ.FGY,cx=iS.FG0.FGI,hP=iS.FG1.FGI}else cx=iJ.FGV.FGI;for(var Y=0;Y<cx.length;Y++){var e4=cx[Y],cc=H(e4.FGC),aO=1;
if(hP.length==cx.length)aO=H(hP[Y].FGC)[0];ia.push([e4.FGP,cc.slice(1),aO])}az.Type.v.GrdT=hw?"Lnr":"Rdl";
e.F.mg(ia,av);av.Intr.v=0;var bZ=R.PRI?R.PRI:R,d_=new cJ(bZ.PSX,bZ.PSY),ee=new cJ(bZ.PEX,bZ.PEY);if(e$.CAT=="fc_Elliptical"&&bZ.PFX!=null){var b4=new cJ(bZ.PFX,bZ.PFY),f$=cJ.o0(d_,ee),e_=cJ.o0(d_,b4);
if(e_<f$){var fJ=f$;f$=e_;e_=fJ}ee=new cJ(d_.x+(f$+e_)/2,d_.y);if(f$/e_<.5)T=!0}if(hw){d_.x=(d_.x+ee.x)/2;
d_.y=(d_.y+ee.y)/2}e.F.wM(d_,ee,O,az)}else console.log(e$.CAT);var I=o.add.lmfx=l(R.EFL,p);if(e$&&e$.FTB!=0&&fz){var D=j(fz.MSK,i),dV={};
dV.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";dV.name="someImage";dV.yr=D;S.lN(dV);var ix=D[0];for(var Y=0;
Y<ix.length;Y+=4){ix[Y+3]=255-ix[Y];ix[Y]=ix[Y+1]=ix[Y+2]=255}var az=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]);
az.Opct.v.val=Math.round(e$.FTB/10);az.Algn.v=!0;az.Ptrn.v.Idnt.v=dV.id;I.patternFillMulti.v.unshift({t:"Objc",v:az})}if(T&&R.IMG){Q(R.IMG,S,"IMG",i,y);
var b9=S.R[S.R.length-1];b9.opacity=o.opacity;return}o.AA();o.vw(S)}else if(g=="URL")return;else{console.log("unknown layer type",g,R);
o.cb("Layer")}S.R.push(o)}function a(R,S,g){if(S.PBL==null)return;var i=R.add.vmsk=new C.cW,y=R.add.vstk=dE.QA.Az(!0),o=S.PBL.PBP;
if(!(o instanceof Array))o=[o];for(var v=0;v<o.length;v++){var Z=o[v].PBT;if(Z==null)continue;if(!(Z instanceof Array))Z=[Z];
var W=o[v].ISC?0:3;i.d.push({type:W,length:Z.length,Vj:0,ts:2,$V:0,$S:0});for(var Y=0;Y<Z.length;Y++){var d=Z[Y],$=d.XLC,I=d.YLC,k=[$,I,$,I,$,I],_="XPC YPC XLC YLC XSC YSC".split(" ");
for(var D=0;D<6;D++){var A=_[D],F=d[A];if(F!=null)k[D]=F}i.d.push({type:W+2,v:new cJ($,I),o$:new cJ(k[0],k[1]),PY:new cJ(k[4],k[5])})}}e.n.Gl(i.d,g)}function l(R,S){var g=JSON.parse(dE.default);
for(var Y=0;Y<dE.order.length;Y++)g[dE.CM[Y]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return g;var i=R.EPS;
if(!(i instanceof Array))i=[i];for(var Y=0;Y<i.length;Y++){var y=i[Y].DCE,o={};for(var v=0;v<y.length;
v++)o[y[v].DCK]=y[v].DCV;if(o.EffectIsVisible=="false")continue;var Z=o.mkbFile_WriteOnly_TemporaryEffectUiName;
if(Z=="Gaussian Blur..."&&S){S._o+=parseFloat(o.gaussian_blur_radius);continue}var W=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(Z);
if(W==-1){continue}var d=["DrSh","ebbl","IrGl","OrGl"][W],$=dE.CM[dE.order.indexOf(d)],I=JSON.parse(dE.Qy[dE.order.indexOf(d)]);
g[$].v.unshift({t:"Objc",v:I});if(d=="DrSh"){I.uglg.v=!1;U(o,"ShadowDistance",I,"Dstn");U(o,"ShadowBlur",I,"blur");
U(o,"ShadowAngle",I,"lagl",180);I.Opct.v.val=100;N(o,"ShadowColor",I,"Clr")}if(d=="IrGl"){I.Md.v.BlnM="Nrml";
var k=o.MaskSoftness,_=o.GlowWidth;if(k&&_){k=parseInt(k);_=parseInt(_);I.blur.v.val=_+k;I.Ckmt.v.val=Math.round(100*_/(_+k))}U(o,"BevelContrast",I,"Opct");
N(o,"OuterBevelColor",I,"Clr")}if(d=="OrGl"){I.Md.v.BlnM="Nrml";var k=o.MaskSoftness,_=o.GlowWidth;if(k&&_){k=parseInt(k);
_=parseInt(_);I.blur.v.val=_+k}U(o,"BevelContrast",I,"Opct");N(o,"OuterBevelColor",I,"Clr")}if(d=="ebbl"){I.uglg.v=!1;
U(o,"BevelWidth",I,"blur");U(o,"AngleSoftness",I,"Sftn");U(o,"BevelContrast",I,"srgR");U(o,"LightAngle",I,"lagl")}}return g}function U(R,S,g,i,y){var o=R[S];
if(y==null)y=0;if(o)g[i].v.val=parseInt(o)+y}function N(R,S,g,i){var y=R[S];if(y){y=y.slice(1);if(y.length==6)y=y+"ff";
if(y.length!=8)throw"e";var o=H(parseInt(y,16)),v=g[i].v;v.Rd.v=o[0]*255;v.Grn.v=o[1]*255;v.Bl.v=o[2]*255;
g.Opct.v.val=Math.round(g.Opct.v.val/100*o[3]*100)}}return s}();var i_=function(){function b(s){var q=new Uint8Array(s.length);
J.K$(q,0,s);return q}function h(s){var q=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",b("")],Q=q.length,l=0;
q.push("<< /AIMetaData  "+(Q+2)+" 0 R /AIPrivateData1 "+(Q+3)+" 0 R  /AIPrivateData2 "+(Q+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
q.push(b(""));q.push(b(""));q.push(s);var a=new e6,U=[];function N(i){J.gI(a,l,i);l+=i.length}N("%PDF-1.5\n");
for(var Y=0;Y<q.length;Y++){U.push(l);N(Y+1+" 0 obj\n");var R=q[Y];if(typeof R=="string")N(q[Y]+"\n");
else{var S=pako.deflate(R);N("<< /Length "+S.length+" /Filter [ /FlateDecode ] >>\nstream\n");a.yC(l,S.length);
a.data.set(S,l);l+=S.length;N("\nendstream\n")}N("endobj\n")}var g=l;N("xref\n0 "+(U.length+1)+"\n0000000000 65535 f\r\n");
for(var Y=0;Y<U.length;Y++)N((U[Y]+"").padStart(10,"0")+" 00000 n\r\n");N("trailer\n<< /Root 1 0 R /Size "+(U.length+1)+" >>\nstartxref\n"+g+"\n%%EOF\n");
return a.data.slice(0,l)}function G(s,q){var Q=Date.now(),a=new Uint8Array(s),l,U=a[2]==68;if(q)console.log(!U?"EPS":"PDF");
if(U){var N=J.qh(a,"/AIMetaData "),d,$,I;while(a[N]!=60)N--;N--;var R=J.qh(a,">>",N),S=J.lA(a,N+2,R-N-2).split("/"),g=[];
for(var Y=0;Y<S.length;Y++){var i=S[Y],y=i.startsWith("AIPrivateData"),o=i.startsWith("AIPDFPrivateData");
if(!y&&!o)continue;var v=i.trim().split(/\s+/),Z=parseInt(v[1]),W=parseInt(v[0].slice(y?13:16));g.push([W,Z])}if(q)console.log("--- map made",Date.now()-Q);
Q=Date.now();while(!0){var k=FromPDF.indexOfXref(a),_=[],D=FromPDF.readXrefTrail(a,k,_),A={buff:a,off:0},F=!1;
d=new Array(g.length);$=!1;I=!1;for(var Y=0;Y<g.length;Y++){var W=g[Y][0],Z=g[Y][1],c=0;if(_[Z]==null){F=!0;
break}var K=FromPDF.getIndirect(Z,0,A,_),V=K.buff,r=K["/Filter"];if(r!=null&&typeof r=="string")r=[r];
var x=J.lA(V,c,c+20);if(x=="%AI12_CompressedData"){c+=20;$=!0}else if(x=="%AI24_ZStandard_Data"){c+=20;
I=!0}V=new Uint8Array(V.buffer,V.byteOffset+c,V.length-c);if(r)for(var X=0;X<r.length;X++){var M=r[X];
if(M=="/FlateDecode")V=pako.inflate(V);else if(M=="/ASCIIHexDecode")V=FromPS.F.HexDecode({buff:V,off:0});
else if(M=="/ASCII85Decode")V=FromPS.F.ASCII85Decode({buff:V,off:0});else throw M}d[W-1]=V}if(F){console.log("extra xref after AI");
a=a.slice(0,k);continue}break}if(q)console.log("--- arrays found",Date.now()-Q);Q=Date.now();var f=J.lA(d[0],0,13);
if(f=="%%BoundingBox"||f=="%AI7_Thumbnai")d=d.slice(1);if(f=="%AI24_ZStanda"){d[0]=d[0].slice(20);I=!0}if(J.lA(d[0],0,13)=="%AI12_Compres"){d[0]=d[0].slice(20);
$=!0}l=H(d);if(q)console.log("--- concatenated",Date.now()-Q);Q=Date.now();if($)l=UZIP.inflate(l);if(I)l=aT.rw.m4(l);
if(q)console.log("--- inflated",Date.now()-Q);Q=Date.now()}else{var t=J.S2(a);if(t.indexOf("%AI5_BeginLayer")!=-1){l=a}else{var n=t.split(/[\n\r]+/),L=[],P=!1;
for(var z=0;z<n.length;z++){var T=n[z].trim();if(T=="%AI9_PrivateDataEnd"){P=!1;break}else if(T=="%AI9_DataStream"||T=="%AI24_DataStream"){P=!0}else if(P)L.push(T.slice(1))}var p=J.AY(L.join("")),m=FromPS.F.ASCII85Decode({buff:p,off:0});
if(m[0]==120&&m[1]==156)l=UZIP.inflate(m);else l=aT.rw.m4(m)}}return l}function H(s){var q=0,a=0;for(var Y=0;
Y<s.length;Y++)q+=s[Y].length;var Q=new Uint8Array(q);for(var Y=0;Y<s.length;Y++){var l=s[Y];Q.set(l,a);
a+=l.length}return Q}function B(s){var q=0,Q=[];while(q<s.length){var a=s[q],l=a.charCodeAt(0);if(a==" ")q++;
else if(a==","||a==";"||a==":"){Q.push(a);q++;var U=Q[Q.length-2];if(U=="/ASCII85Decode"){var N=q+1;
while(s[N]!="~"||s[N+1]!=">")N++;N+=2;var R=s.slice(q,N),S=FromPS.F.ASCII85Decode({off:0,buff:J.AY(R)});
Q.push(S);q=N}if(U=="/StrokeStyle"||U=="/FillStyle"||U=="/BlendStyle"||U=="/SimpleStyle"||U=="/SmoothShadingStyle"){var N=q+1;
while(s[N]!=";")N++;Q.pop();Q.pop();Q.push(s.slice(q,N));Q.push("/String");q=N+1}}else if(a=="("){var N=q+1;
while(!(s[N]==")"&&(s[N-1]!="\\"||s[N-2]=="\\")))N++;var g=s.slice(q+1,N);Q.push(g);q=N+1}else if(a=="/"||a=="-"||48<=l&&l<=57){var N=q;
while(s[N]!=" ")N++;Q.push(s.slice(q,N));q=N}else if(a=="X"&&s[q+1]=="="){var N=q,i=0;while(!0){if(s[N]=="X"&&s[N+1]=="="){i++}if(s[N]=="X"&&s[N+1]=="+"&&s[N+2]==" "){i--;
if(i==0)break}N++}Q.push(s.slice(q+3,N));Q.push("/String");q=N+2}else{console.log(Q);console.log(s.slice(q-600,q+10));
throw a}}return Q}function j(s){var q={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},Q={},a=B(s.join(" ")),l=[],U=parseFloat;
while(a.length!=0){var N=a.shift();if(N=="/Recorded"||N=="/NotRecorded"){continue}else if(N=="/Dict"){l.pop();
var R=l.pop();l[l.length-1][N]=R}else if(N=="/Execution"){l.pop();var R=l.pop();l[l.length-1][N]=R}else if(N=="/Part"){l.pop();
var R=l.pop(),S=l[l.length-1];if(S[N]==null)S[N]=[];S[N].push(R);a.shift()}else if(N=="/Def"){l.pop();
var g=l.pop(),i=l[0];if(Q[i]==null)Q[i]=[];if(i=="/KnownStyle"){g={val:g};g[l.pop()]=l.pop()}l.pop();
Q[i].push(g);a.shift()}else if(N==":"){var i=l.pop();if(i=="/Dictionary"||i=="/ArtDictionary"||i=="/XMLNode"||i=="/Mask"||i=="/ActiveStyle")l.push({});
else if(i=="/CompoundFilter"||i=="/BasicFilter"){l.push({typ:"Filter"})}else if(i=="/SVGFilter"||i=="/KnownStyle"){l.push(i)}else if(i=="/Array"||i=="/Document")l.push([]);
else if(i=="/Binary"){var y=a.shift();if(y!="/ASCII85Decode")throw"e";a.shift();l.push(a.shift())}else if(i=="/XMLUID"||i=="/XMLUIDREF"){a[1]=i}else if(i=="/GObjRef"){l.push(a.shift());
l.push("/String");a.shift();a.shift()}else{console.log(l);console.log(a);throw i}if(a[0]=="/NotRecorded"){a.shift();
a.shift()}}else if(N==","){var o=l.pop(),i,v;if(o[0]=="/"&&o[1]==o[1].toUpperCase()||o==";"){i=o;o=null}else i=l.pop();
if(i=="/Name"){l.push(i);continue}if(q[i]){v=l.slice(l.length-q[i]);for(var Y=0;Y<q[i];Y++)l.pop();var Z=l.pop();
Z[i]=v;l.push(Z);continue}if(i=="/RealPoint"||i=="/RealPointRelToROrigin"){var W=l.pop();v=[U(l.pop()),U(W)]}else if(i=="/RealMatrix"){v=[];
for(var Y=0;Y<6;Y++)v.push(U(l.pop()));v.reverse()}else if(i=="/String"&&typeof l[l.length-1]!="string")v="";
else{var top=l.pop();if(i==";")v=top;else if(i=="/String"||i=="/UnicodeString"||i=="/XMLUID"||i=="/XMLUIDREF"){v=top;
while(typeof l[l.length-1]=="string")v=l.pop()+v}else if(i=="/Int"||i=="/Real")v=U(top);else if(i=="/Bool")v=top=="1";
else throw JSON.stringify(i)}if(l.length==0)throw"e";var Z=l.pop();if(o==null&&!(Z instanceof Array))throw"e";
if(o)Z[o]=v;else Z.push(v);l.push(Z)}else l.push(N)}return l.length==0?Q:l[0]}return{abv:G,a9e:h,aAa:j}}();
function g7(){}g7.wZ=function(){function b(D,A,F){var K=!1,V=Date.now(),r=i_.abv(D,K);if(K)console.log("part found",Date.now()-V);
V=Date.now();var c=I(r),x=c.Layer,X=c.Header;if(K)console.log(c);var M=c.Setup.TextDocument,f=x[0];f=c.Layer[0];
if(K)console.log("document parsed",Date.now()-V);V=Date.now();c.Setup.Gradient=$(c.Setup.Gradient,r);
if(K)console.log("grads loaded",Date.now()-V);V=Date.now();c.Setup.Pattern=W(c.Setup.Pattern,r);if(K)console.log("patts loaded",Date.now()-V);
V=Date.now();c.Setup.Palette=d(c.Setup.Palette,r);if(K)console.log("palet loaded",Date.now()-V);V=Date.now();
c.Setup.DocumentData=Z(c.Setup.DocumentData,r);if(K)console.log("docdata loaded",Date.now()-V);V=Date.now();
c.Setup.SVGFilter=Z(c.Setup.SVGFilter,r);if(K)console.log("svgfilter loaded",Date.now()-V);V=Date.now();
var t=c.Setup.ArtStyles;if(t){c.Setup.ArtStyles=Z(t,r)}var n=c.Setup.Palette;for(var Y=0;Y<n.length;
Y++){var L=n[Y],P=L[0],z=L[1][0],T=c.Setup.Gradient[P];if(z==0)A.qy.push([P,L[1][1]]);if(z==1)A.qy.push([P,[T.qp,T.aow,0,0]]);
if(z==2)A.qy.push([P,[P,0]])}var p=X.Cropmarks,m=X.BoundingBox.split(" ").map(parseFloat),O=X.ArtSize?X.ArtSize.split(" ").map(parseFloat):[m[2]-m[0],m[3]-m[1]];
A.j=Math.round(O[0]);A._=Math.round(O[1]);var cb=[1,0,0,1,-m[0]+(A.j-(m[2]-m[0]))/2,-m[1]+(A._-(m[3]-m[1]))/2];
cb[3]=-1;cb[5]=A._-cb[5];if(p){p=p.split(" ").map(parseFloat);A.j=Math.round(p[2]-p[0]);A._=Math.round(p[3]-p[1]);
cb=[1,0,0,-1,-p[0],A._+p[1]]}console.log(c);var cX=c.Setup.DocumentData,e$=[],fz=[];if(cX&&cX[0]&&cX[0].ArtboardArray){var e$=cX[0].ArtboardArray;
if(e$.length!=1)console.log(e$.length,"artboards");var eC=new io;for(var Y=0;Y<e$.length;Y++){var hw=e$[Y],az=hw.PositionPoint1,av=hw.PositionPoint2,ia=az[0],iJ=Math.min(az[1],av[1]),cx=av[0],hP=Math.max(az[1],av[1]),iS=new io(ia,iJ,cx-ia,hP-iJ);
fz.push(iS);eC=eC.gJ(iS)}A.j=Math.round(eC.j);A._=Math.round(eC._);cb[4]=-eC.x;cb[5]=eC.y+A._}if(cX&&cX[0]&&cX[0]["#document"]){var e4=cX[0]["#document"],cc=e4["xmlnode-children"][0];
if(cc&&cc["xmlnode-children"])cc=cc["xmlnode-children"][0];if(cc&&cc["xmlnode-nodename"]=="variableSets"){var aO=cc["xmlnode-children"][0]["xmlnode-children"],bZ=aO[0],d_=aO[1],ee=_(bZ);
A.W7=gr.amd("<variableSets><variableSet>"+ee+"</variableSet></variableSets>");if(d_){var b4=_(d_),hA=A.xC=gr.a4m(b4);
for(var Y=0;Y<hA.length;Y++)for(var f$=0;f$<hA[Y].length;f$++)hA[Y][f$]=hA[Y][f$].trim()}}}var e_=1/jw.Gz(new io(0,0,A.j,A._),8192*8192);
while(Math.max(A.j*e_,A._*e_)<800)e_*=2;while(F&&Math.max(A.j*e_,A._*e_)<Math.max(F[0],F[1]))e_++;if(fq==1)e_=1;
A.j=Math.round(A.j*e_);A._=Math.round(A._*e_);A.O4=Math.round(72*e_);for(var Y=0;Y<6;Y++)cb[Y]*=e_;var fJ=[];
if(e$.length!=[1,0][fq]){var dV=fq==0?A.R:[];dV.push(A.b2());for(var Y=0;Y<fz.length;Y++){var hw=e$[Y],iS=fz[Y],ix=A.Cx();
ix.cb(hw.Name);dV.push(ix);ix.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);var b9=ix.add.SoCo.Clr.v;
U(b9,[1,1,1]);var ia=iS.x,iJ=iS.y,cx=ia+iS.j,hP=iJ+iS._,hV=[ia,iJ,cx,iJ,cx,hP,ia,hP];e.N.h(hV,R(cb),hV);
i(ix,{cmds:["M","L","L","L","Z"],crds:hV},A,0);ix.add.vstk=dE.QA.Az(!0);var F=e.N.MP(hV);fJ.push({Lw:hw.Name,rc:[F.x,F.y,F.x+F.j,F.y+F._],T:hw.IsArtboardSelected})}var ix=A.Cx();
ix.cb("_Artboards_");ix.add.lsct=c1.N_;ix.Am="pass";ix.Xp=24;dV.push(ix)}else fJ=[{Lw:"Artboard",rc:[0,0,A.j,A._],T:!0}];
if(fq==1)A.add.arts=fJ;G=[0,0,0];H=[0,0,0];B="SoCo";j="SoCo";for(var gq=0;gq<x.length;gq++){var eH=x[gq];
eH.Raster=h(eH,"Raster");eH.Place=h(eH,"Place");var eP=o(r,eH);s(A,eP,cb,c,eH,r)}if(fq==0)for(var Y=0;
Y<A.R.length;Y++){var ix=A.R[Y];if(ix.Sz){A.R.splice(Y,1);var c2=A.R[Y];c2.add.vmsk=ix.add.vmsk;c2.add.vogk=ix.add.vogk;
c2.vw(A)}}else{}if(K)console.log("layers created",Date.now()-V);V=Date.now()}function h(D,A){var F=D.Layer,K=D[A];
if(K==null)K=[];if(F){for(var Y=0;Y<F.length;Y++){var V=F[Y],r=V[A]=h(V,A);K=K.concat(r)}K.sort(function(c,x){return c._begin-x._begin})}return K}var G,H,B,j;
function s(D,A,F,K,V,r){var c=[],x=0,X="",M=!1,f={},t=UDOC.G,n=UDOC.getState(),P="norm",z=1,T=0,p=!1,m=0,O=!1,cb=!0,cX=null,e$=null,fz=!1,eC=0,hw=null,az,av,ia=0,iJ=0,cx=0,cc=0,aO=!1;
n.ctm=F;var L=dE.a6.Az(),hP=[0,0],iS=[],e4=[];for(var bZ=0;bZ<A.length;bZ++){var d_=A[bZ],fJ=1e9;if(d_[0]=="%"){if(d_=="%_/ArtDictionary :"&&eC==0){cX=[d_.slice(2)]}else if(cX!=null){if(d_=="%_"&&eC==0){var ee=i_.aAa(cX),b4=D.R[D.R.length-1],hA=ee.AI10_ArtUID,f$=ee.BBAccumRotation;
if(hA&&!hA.startsWith("XMLID"))b4.cb(k(hA));if(f$&&b4.add.vmsk==null&&D.R[D.R.length-2])b4=D.R[D.R.length-2];
if(f$&&b4.add.vmsk)b4.add.vmsk.vt=parseFloat(f$);cX=null}else{cX.push(d_.slice(fz?1:2));if(d_=="%_X=")eC++;
if(d_=="%_X+")eC--;if(d_=="%_/Binary : /ASCII85Decode ,")fz=!0;if(fz&&d_.endsWith("~>"))fz=!1}}else if(hw){az+=(az==""?"":" ")+d_.slice(2);
if(az.endsWith("X#")){hw.push(az.slice(0,az.length-3));az=""}}continue}else if(d_=="/Mesh X!"){hw=[];
az="";continue}else if(d_=="/End X!"){a(hw,n,D);hw=null;continue}var e_="Xa XR m l c f U u *U w J j M d".split(" "),dV=-1,ix=d_.indexOf("(")!=-1;
for(var Y=0;Y<e_.length;Y++){var b9=d_.indexOf(" "+e_[Y]+" ");if(b9!=-1&&b9<fJ&&!ix){fJ=b9;dV=Y}}if(dV!=-1){M=!0;
var hV=fJ+1+e_[dV].length;A[bZ]=d_.slice(0,hV);var gq=A[bZ+1];if(gq==null||gq[0]=="%"||dV>9)A.splice(bZ+1,0,d_.slice(hV));
else A[bZ+1]=(d_.slice(hV)+" "+gq).replace(/\s\s+/g," ");bZ--;continue}d_=d_.trim();var eH=d_.split(" "),eP=eH[eH.length-1],c2=eP.toLowerCase(),bL=eH.map(parseFloat);
if(eP=="m")t.moveTo(n,bL[0],bL[1]);else if(eP=="L"||eP=="l")t.lineTo(n,bL[0],bL[1]);else if(eP=="V"||eP=="v"){var dg=n.pth.crds,cN=n.cpos[0],dH=n.cpos[1];
t.curveTo(n,cN,dH,bL[0],bL[1],bL[2],bL[3]);var kM=dg.length;dg[kM-6]=cN;dg[kM-5]=dH}else if(eP=="Y"||eP=="y")t.curveTo(n,bL[0],bL[1],bL[2],bL[3],bL[2],bL[3]);
else if(eP=="C"||eP=="c")t.curveTo(n,bL[0],bL[1],bL[2],bL[3],bL[4],bL[5]);else if(eP=="H"||eP=="h"){if(eP==c2)t.closePath(n);
if(!p){var a_=D.Cx();D.R.push(a_);a_.cb("<Clipping Path>");a_.Sz=!0;a_.add.vstk=dE.QA.Az();a_.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);
i(a_,n.pth,D,T)}else O=!0}else if(eP=="XR"){T=bL[0]}else if(eP=="Xy"){P=g7.azx[bL[0]];z=bL[1];if(P==null){P="norm";
console.log("unknown blend mode",bL[0])}}else if(eP=="Xd"){var b4=D.R[D.R.length-1];b4.opacity=Math.round(255*z);
b4.Am=b4.fu()&&P=="norm"?"pass":P}else if(eP=="AE")ia=bL[0];else if(eP=="Ae")iJ=bL[0];else if(eP=="Xw")cx=bL[0];
else if(eP=="*"){var g4=n.pth.crds,iY=n.ctm,b9=g4[0]==g4[2]?0:1;D.bE.push([b9,g4[b9]]);t.newPath(n)}else if(eP=="XN")av=d_.split(" ")[0];
else if(eP=="XI"){var fa=V.Raster,ka,b1;if(fa==null||fa.length==0){console.log("no Raster");continue}if(d_!="XI"){continue}else{var bg=fa[x++];
if(bg.Data)bg=bg.Data;var cl=bg._begin,c0=bg._end;while(r[cl]!=88)cl++;cl+=3;ka=r.slice(cl,c0);b1=A[bZ-2].split(" ").map(parseFloat)}var kL=b1.slice(8),c_=kL[2],cA=kL[3],aw=c_*cA,kq=e.U(aw*4);
kq.fill(255);var f4=kL[7],gF=kL[8],fm=kL[6],aP=Math.ceil(c_*f4*fm/8);if(f4==1){if(fm==8)for(var Y=0;
Y<aw;Y++)for(var hh=0;hh<3;hh++)kq[4*Y+hh]=ka[Y];else if(fm==1)for(var gW=0;gW<cA;gW++)for(var cg=0;
cg<c_;cg++)for(var hh=0;hh<3;hh++)kq[4*(gW*c_+cg)+hh]=255*(ka[gW*aP+(cg>>>3)]>>>7-(cg&7)&1);else throw fm}else if(f4==3)for(var Y=0;
Y<aw;Y++)for(var hh=0;hh<3;hh++)kq[4*Y+hh]=ka[3*Y+hh];else if(f4==4||f4==5)for(var Y=0;Y<aw;Y++){var f0=S([ka[f4*Y+0]/255,ka[f4*Y+1]/255,ka[f4*Y+2]/255,ka[f4*Y+3]/255]);
kq[4*Y+0]=f0[0]*255;kq[4*Y+1]=f0[1]*255;kq[4*Y+2]=f0[2]*255}else if(f4==7)for(var Y=0;Y<aw;Y++){kq[4*Y+0]=ka[f4*Y+0];
kq[4*Y+1]=ka[f4*Y+1];kq[4*Y+2]=ka[f4*Y+2]}else console.log("unknown number of channels",f4);if(gF==1){var hk=cA*aP;
for(var Y=0;Y<aw;Y++)kq[4*Y+3]=ka[hk+Y]}var aQ=e._1(kq,c_,cA)?"JPG":"PNG";if(c_*cA<700*700)aQ="PNG";
var fj=aT.JR(aQ).kf([[kq.buffer]],c_,cA),fd=D._t(new Uint8Array(fj),"<Image>",0,0);D.R.push(fd);fd.Am=P;
fd.opacity=Math.round(255*z);fd.lW(cx==0);var iu=new eq;iu.scale(1,-1);iu.concat(R(b1.slice(1)));iu.concat(R(n.ctm));
var en=fd.add.SoLd,hl=en.Sz.v,ed=new io(0,0,hl.Wdth.v,hl.Hght.v),eH=e.N.Q0(ed).m;e.N.h(eH,iu,eH);fd.add.SoLd.Trnf=E.Y.Ll(eH);
fd.add.SoLd.nonAffineTransform=E.Y.Ll(eH);fd.gE(D,!1)}else if(eP=="Ln"){c.push(l(d_))}else if(eP=="u"||eP=="q"||eP=="Lb"){if(eP=="Lb")D.add.prvw=bL[1];
iS.push(iJ==1);e4.push((eP=="Lb"?1-bL[0]:cx)==0);if(p)continue;D.R.push(D.b2())}else if(eP=="U"||eP=="Q"||eP=="LB"){if(iS.length==0||e4.length==0)throw bZ;
var hG=iS.pop(),i0=e4.pop();if(eP=="LB")hG=ia==1;if(p)continue;var fd=D.Cx();fd.cb((eP=="U"?"<Group>":"<Clip Group>")+X);
if(eP=="LB")fd.cb(c.pop());fd.add.lsct=hG?c1.$I:c1.N_;fd.Am="pass";fd.Xp=24;fd.lW(i0);D.R.push(fd);if(aO){if(D.R[D.R.length-3].getName()=="</Layer group>"){D.R.pop();
D.R.splice(D.R.length-2,1)}aO=!1}}else if(eP=="Bb")cb=bL[0]!=1;else if(eP=="BB"){}else if(eP=="Bm"||eP=="Bc"||eP=="Xm"){}else if(eP=="Bh")hP=bL.slice(2,4);
else if(eP=="Bg"){var bS=K.Setup.Gradient,dC=bS[l(d_)],eH=d_.slice(d_.indexOf(")")+2).split(" ").map(parseFloat);
if(dC==null){console.log("gradient not found");for(var ir in bS){dC=bS[ir];break}}var ih=eH[10];if(isNaN(ih))ih=1;
var a$=eH.slice(0,4);a$.push(ih,hP[0],hP[1]);if(Math.max(Math.abs(a$[0]),Math.abs(a$[1]))>20){a$[0]=0;
a$[1]=0;a$[3]=1;console.log("strange gradient")}var cC=[dC.qp,dC.aow,a$,eH.slice(4,10)];Q(cC,"GdFl",cb)}else if(c2=="p"){var dT=l(d_);
if(D.DG[dT]==null){var jq=K.Setup.Pattern[dT],kz=jq.rc,c_=Math.round(kz[2]-kz[0]),cA=Math.round(kz[3]-kz[1]),ee=new cj,ei=F[0],iu=new eq(1,0,0,-1,-jq.rc[0],cA+jq.rc[1]);
iu.concat(new eq(ei,0,0,ei,0,0));var cp=[G,H,B,j];G=[0,0,0];H=[0,0,0];B="SoCo";j="SoCo";s(ee,jq.Uk,[iu.G,iu.J,iu.YW,iu.tW,iu.Kv,iu.d0],K,V,r);
ee.j=Math.round(c_*ei);ee._=Math.round(cA*ei);ee.UL();ee.c();if(fq==0){ee.buffer=e.U(ee.j*ee._*4);ee.lJ()}G=cp[0];
H=cp[1];B=cp[2];j=cp[3];window.ayU=jq.Uk;D.DG[dT]=ee}var ht=d_.slice(d_.indexOf(")")+2),kE=ht.slice(0,ht.indexOf("[")-1).split(" ").map(parseFloat),j4=ht.slice(ht.indexOf("[")+1,ht.indexOf("]")).split(" ").map(parseFloat);
Q([dT,[kE,j4]],"patt",eP=="p")}else if(eP=="J"||eP=="j"||eP=="w"||eP=="M"||eP=="d"){var iu=n.ctm,ei=Math.sqrt(Math.abs(iu[0]*iu[3]-iu[1]*iu[2]));
for(var Y=1;Y<eH.length;Y++){var j8=eH[Y],dm=bL[Y-1];if(j8=="w")L.nx=dm*ei;if(j8=="j")L.VV=dm;if(j8=="J")L.vB=dm;
if(j8=="M")L.dE=dm;if(j8=="d"){var ie=d_.slice(d_.indexOf("[")+1,d_.indexOf("]")).trim();if(ie.length!=0){var b5=ie.split(" ").map(parseFloat);
L.t7=b5;for(var hh=0;hh<b5.length;hh++)b5[hh]*=ei}else if(ie=="")L.t7=[]}}}else if(c2=="xa"||c2=="xx"){var eh=g(d_);
Q(eh,"SoCo",eP=="Xa"||eP=="Xx")}else if(c2=="xk"){eh=g(d_);Q(eh,"SoCo",eP=="Xk")}else if(c2=="k"||c2=="x"){eh=g(d_);
Q(eh,"SoCo",eP==c2)}else if(c2=="g"){var eh=[bL[0],bL[0],bL[0]];Q(eh,"SoCo",eP==c2)}else if(c2=="n"){if(!p)t.newPath(n)}else if(eP=="*u"){p=!0;
m=0;e4.push(cx==0)}else if(eP=="*U"||c2=="s"||c2=="f"||c2=="b"){if(eP!="*U"&&p){if(c2=="f"||c2=="b")m|=1;
if(c2=="s"||c2=="b")m|=2;continue}if(eP==c2)t.closePath(n);if(eP=="*U"){p=!1}var fd;{fd=D.Cx();fd.Xp|=16;
i(fd,n.pth,D,T);var jl=c2=="f"||c2=="b"||eP=="*U"&&m&1,cE=c2=="s"||c2=="b"||eP=="*U"&&m&2,cI=fd.add.vstk=dE.QA.Az(jl,cE),de=JSON.parse(JSON.stringify(L));
de.E_=[];de.g9=[];if(jl)de.E_=G;if(cE)de.g9=H;if(fq==0){dE.QA.write(cI,de);if(B=="SoCo"){fd.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);
var i9=fd.add.SoCo.Clr.v;U(i9,G)}if(B=="GdFl"){fd.add.GdFl=g7.OF(G,fd.add.vmsk.d)}if(B=="patt"){fd.add.PtFl=q(G,D)}if(cE){var bG=["SoCo","GdFl","patt"].indexOf(j),bi=bG==0?{Clr:{t:"Objc",v:fX.rr(H)}}:bG==1?g7.OF(H,fd.add.vmsk.d):q(H,D),iC=[dE.L1,dE.WH,dE.aa][bG],fF=cI.strokeStyleContent.v={classID:dE.QA.kR[bG]};
for(var Y=0;Y<iC.length;Y++)fF[iC[Y]]=bi[iC[Y]]}}else fd.add.vstl=de}if(eP=="*U"&&O){fd.Sz=!0;O=!1}fd.cb("<"+(eP=="*U"?"Compound ":"")+"Path>"+X);
fd.Am=P;fd.opacity=Math.round(255*z);fd.lW(eP=="*U"?e4.pop():cx==0);fd.vw(D);D.R.push(fd);t.newPath(n)}else if(eP==","&&eH[0]=="/XMLUID"){var b4=D.R[D.R.length-1];
for(var Y=0;Y<D.W7.length;Y++)if("("+D.W7[Y].docRef+")"==eH[2])D.W7[Y].docRef="id('"+b4.add.lyid+"')"}else if(eP==","&&eH[1]=="/FreeUndo"){cc=bL[0]}else if(eP==","&&eH[1]=="/StoryIndex"){var jo=K.Setup.TextDocument,h_=null;
if(!(jo instanceof Array))window.ast=jo=K.Setup.TextDocument=v(jo,r);var ds=jo[0],im=jo[2];if(ds._DocumentResources)ds=jo[0]=eW.azI(ds);
else eW.a1$(ds);var fd=D.Cx();fd.add.lnsr="rend";fd.add.TySh=b_.V0(0,0);var ch=bL[0];if(cc==1){for(var Y=1;
Y<60;Y++){var gq=A[bZ+Y];if(gq&&gq.endsWith("/StoryIndex ,")){ch=parseFloat(gq.slice(2,gq.indexOf(" ")));
aO=!0;break}}cc=0}var ao=j2.apZ(ds),hN=fd.add.TySh.HZ=ao[ch];if(hN==null){console.log("text not found");
aO=!1;continue}fd.cb(b_.v4(hN).slice(0,50));fd.Am=P;fd.opacity=Math.round(255*z);fd.lW(cx==0);var gn=ds._1._1[ch]._1._0[0]._0;
gn=parseInt(gn.slice(1));var eX=ds._0._8._0,f1=eX[gn]._0;if(f1._0)h_=N(f1._0);else if(f1._1)h_=N(f1._1._0);
else h_=N(f1._2._2).slice(3);if(h_.length!=2){var kz=e.N.MP(h_);h_=[kz.x,kz.y];if(kz.X()!=0){b_.vj(hN,1);
b_.A6(hN,[0,0,Math.round(kz.j),Math.round(kz._)])}}var jJ=new eq,iA=new eq(1,0,0,1,h_[0],h_[1]),cw=new eq(1,0,0,1,-im[0],-im[1]),gu=R(n.ctm),il=new eq;
if(f1._2&&f1._2._2){var F=N(f1._2._2);il=new eq(F[0],F[1],F[2],F[3],F[4],F[5])}jJ.concat(iA);jJ.concat(il);
jJ.concat(cw);jJ.scale(1,-1);jJ.concat(gu);fd.add.TySh.h=jJ;D.R.push(fd);D.rm=!0}else if(eP=="Tp"){f.GF=R(bL)}else if(eP=="Tf"){f.font=eH[0].slice(2)}else if(eP=="Tk"){var fd=D.Cx();
fd.add.lnsr="rend";var aE=fd.add.TySh=b_.V0(0,0),hN=aE.HZ,iu=f.GF.clone(),hl=iu.$K();iu.concat(R(n.ctm));
var cL=new eq(1/hl,0,0,-1/hl,0,0);cL.concat(iu);aE.h=cL;var ba=l(d_);fd.cb(ba);b_.ph(hN,0,ba);var hZ=b_.XN(hN,0,ba.length);
hZ.bJ.FontSize=hl;hZ.bJ.FillColor={Type:1,Values:[1,G[0],G[1],G[2]]};b_.HC(hZ,f.font);b_.V1(hN,0,ba.length,hZ);
D.R.push(fd);D.rm=!0}else if(M&&bL.length>3){var ax=!1;for(var Y=0;Y<bL.length;Y++)if(isNaN(bL[Y]))ax=!0;
if(!ax)A[bZ+1]=(d_+" "+A[bZ+1]).replace(/\s\s+/g," ")}}}function q(G,D){if(D.lg==null)D.lg={};var A=D.lg[G[0]];
if(A==null){var F=D.DG[G[0]],A=D.lg[G[0]]={};A.id=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";A.name="someImage";
A.yr=[F.Nw(),new io(0,0,F.j,F._)];D.lN(A)}var K=JSON.parse(dE.Qy[dE.order.indexOf("patternFill")]);K.Ptrn.v.Idnt.v=A.id;
var V=R(G[1][1]),r=-Math.atan2(-V.J,V.G);K.Angl.v.val=Math.round(r*180/Math.PI);K.Scl.v.val=Math.round(100*V.$K());
return K}g7.OF=function(D,A){var F=g7.Pe(D,A),K=[0,0,1,0];if(D[0]==0)K[0]=.5;e.N.h(K,F,K);var V=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),r=V.Grad.v;
r.Intr.v=0;V.Type.v.GrdT=["Lnr","Rdl"][D[0]];e.F.mg(D[1],r);e.F.wM(new cJ(K[0],K[1]),new cJ(K[2],K[3]),e.n.d4(A),V);
return V};g7.U_=function(D,A){var F={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[D.Type.v.GrdT],K=e.n.d4(A),V=e.F.a4$(D,K),r=V[0],c=V[1];
if(F==0){r.x-=c.x-r.x;r.y-=c.y-r.y}var x=c.x-r.x,X=c.y-r.y,M=Math.sqrt(x*x+X*X),f=new eq;f.rotate(Math.atan2(-X,x));
f.scale(M,M);f.translate(r.x,r.y);var t=g7.U1(F,f,A),n=D.Grad.v;t[1]=e.F.a2N(n,null,null);return t};
g7.wa=function(D,A,F){var K=cJ.o0(D,A),V=new eq;V.scale(K,K);V.rotate(-Math.atan2(A.y-D.y,A.x-D.x));
V.translate(D.x,D.y);if(F)V.concat(F);return V};g7.T2=function(D,A,F,K,V){if(A&&!K.TW(A)){var r=Math.atan2(-(F.y-A.y),F.x-A.x);
if(V!=null||r!=0){var c=new eq;c.translate(-A.x,-A.y);c.scale(1,V);c.rotate(r);c.translate(A.x,A.y);
c.Q6();K=c.At(K)}var x=Math.atan2(-(K.y-A.y),K.x-A.x);D[2][5]=x*180/Math.PI;D[2][6]=cJ.o0(K,A)/cJ.o0(F,A)}};
g7.U1=function(D,A,F){var K=A.clone(),X,M,f=1;K.Q6();var V=C.cW.O6(F);e.n.Gl(V,K);var r=e.n.d4(V),c=r.j,x=r._;
if(D==0){var t=new eq;t.translate(-r.x,-r.y);t.translate(-c/2,-x/2);var n=g7.aCO(c,x,0);t.scale(1/n,1/n);
t.scale(1/c,1/x);X=t.Kv+.5;M=t.d0+.5;f=t.G}else{X=-r.x/c-.5;M=-r.y/x-.5;var L=(X-.5)*c/2,P=(M-.5)*x/2;
f=1/Math.sqrt(2*(L*L+P*P))}var z=[D,null,[X,M,0,f,1,0,0],[A.G,A.J,A.YW,A.tW,A.Kv,A.d0]];return z};g7.Pe=function(D,A){var F=D[0],K=D[2],V=D[3],r=new eq(V[0],V[1],V[2],V[3],V[4],V[5]);
r.Q6();var c=C.cW.O6(A);e.n.Gl(c,r);var x=e.n.d4(c),X=x.j,M=x._,f=K[0],t=K[1],n=K[2]*Math.PI/180,L=K[3],P=new eq;
if(F==0){P.scale(L,L);P.translate(f-.5,t-.5);P.scale(X,M);P.rotate(n);var z=g7.aCO(X,M,n);P.scale(z,z);
P.translate(X/2,M/2)}else{var T=(f-.5)*X/2,p=(t-.5)*M/2,z=L*Math.sqrt(2*(T*T+p*p));P.scale(z,z*K[4]);
P.rotate(n);P.translate((f+.5)*X,(t+.5)*M)}P.translate(x.x,x.y);P.concat(new eq(V[0],V[1],V[2],V[3],V[4],V[5]));
return P};function Q(D,A,F){if(F){B=A;G=D}else{j=A;H=D}}function a(D,A,F){var K=UDOC.G,V=[],r=[],c="/DeviceGray",x=1,X=[],M=1;
for(var f=0;f<D.length;f++){var t=D[f];if(t.endsWith(" /CS")){var n=t.indexOf("/NChannel"),L=t.indexOf("/Process");
if(t.startsWith("/DeviceRGB")){c="/DeviceRGB";x=3}else if(t.startsWith("/DeviceGray")){c="/DeviceGray";
x=1}else if(t.startsWith("/DeviceCMYK")){c="/DeviceCMYK";x=4;X=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(n!=-1){c="/DeviceCMYK";
x=parseInt(t.slice(n-2,n-1));var P=1;for(var Y=0;Y<x;Y++){P=t.indexOf("[",P);X[x-1-Y]=t.slice(P+1,P+8).split(" ").map(parseFloat);
P++}}else if(L){c="/DeviceGray";x=1}else throw t}else if(t[0]=="["){var z=t.indexOf("]"),T=t.slice(1,z).split(" ").map(parseFloat),p=t.slice(z+2),m,O,cb,cX,e$,fz;
if(p=="/Size"||p=="/P"||p=="/R")continue;if(p=="/S"||p=="/A"){m=T[0];O=T[1];cb=T[2];cX=T[3];e$=T[4];
fz=T[5]}else if(p=="/N"){var eC=x+(M==1?0:1),hw;m=T[eC+0];O=T[eC+1];cb=T[eC+2];cX=T[eC+3];e$=T[eC+5];
fz=T[eC+6];if(c=="/DeviceRGB")hw=T.slice(0,3);else if(c=="/DeviceGray")hw=[T[0],T[0],T[0]];else if(c=="/DeviceCMYK"){var az=[0,0,0,0];
for(var Y=0;Y<x;Y++){var av=T[Y],ia=X[Y];az[0]+=av*ia[0];az[1]+=av*ia[1];az[2]+=av*ia[2];az[3]+=av*ia[3]}hw=S(az)}else throw hw;
hw.push(T[x]);r.push([hw,m,O])}else throw p;V.push([p,e$,fz,m,O,cb,cX])}else if(t=="/E"){var iJ=V.slice(0),cx=0;
for(var Y=0;Y<V.length;Y++){var hP=V[Y][0];if(hP=="/N"){cx++;continue}var iS=Y,e4=Y+1;while(V[e4][0]!="/N"&&e4<V.length)e4++;
if(cx==0||cx==3){for(var cc=0;cc<e4-iS;cc++)iJ[iS+cc]=V[e4-1-cc]}else for(var cc=iS;cc<e4;cc++){var aO=iJ[cc],bZ=aO[1];
aO[1]=aO[5];aO[5]=bZ;bZ=aO[2];aO[2]=aO[6];aO[6]=bZ}Y=e4-1}V=[];for(var Y=0;Y<iJ.length;Y++){var aO=iJ[Y];
V.push(aO[1],aO[2],aO[3],aO[4],aO[5],aO[6])}var d_=V.length;K.moveTo(A,V[2],V[3]);for(var Y=0;Y<d_;Y+=6){var cb=V[(Y+4)%d_],cX=V[(Y+5)%d_],e$=V[(Y+6)%d_],fz=V[(Y+7)%d_],m=V[(Y+8)%d_],O=V[(Y+9)%d_];
K.curveTo(A,cb,cX,e$,fz,m,O)}K.closePath(A);V=[]}else if(t.endsWith("/Version"))M=parseFloat(t[0])}var ee=F.Cx();
ee.Xp|=16;ee.cb("<Mesh>");var b4=ee.add.vstk=dE.QA.Az(!0);i(ee,A.pth,F,0);if(r.length>=2){var hA=0,f$=0,e_=0;
for(var Y=0;Y<r.length;Y++)for(var cc=Y+1;cc<r.length;cc++){var fJ=r[Y][0],dV=r[cc][0],ix=fJ[0]-dV[0],b9=fJ[1]-dV[1],hV=fJ[2]-dV[2],gq=Math.sqrt(ix*ix+b9*b9+hV*hV);
if(gq>e_){e_=gq;hA=Y;f$=cc}}var eH=r[hA],eP=r[f$],c2=[[0,eH[0],1,.5],[1,eP[0],1,.5]],bL=R(A.ctm),dg=bL.At(new cJ(eH[1],eH[2])),cN=bL.At(new cJ(eP[1],eP[2]));
if(dg.TW(cN))cN.x+=1;if(fq==0){var dH=ee.add.GdFl=JSON.parse(dE.Qy[dE.order.indexOf("GrFl")]),kM=dH.Grad.v;
kM.Intr.v=0;dH.Type.v.GrdT="Lnr";e.F.mg(c2,kM);var a_=e.N.MP(A.pth.crds);dg.x=(dg.x+cN.x)/2;dg.y=(dg.y+cN.y)/2;
e.F.wM(dg,cN,a_,dH)}else{var g4=ee.add.vstl=dE.a6.Az();g4.g9=[];var iY=g7.wa(dg,cN,new eq);g4.E_=g7.U1(0,iY,ee.add.vmsk.d);
g4.E_[1]=c2}}F.R.push(ee);K.newPath(A)}function l(D){var A=D.indexOf(")");while(D[A-1]=="\\")A=D.indexOf(")",A+1);
return D.slice(D.indexOf("(")+1,A).replaceAll("\\","")}function U(D,G){D.Rd.v=G[0]*255;D.Grn.v=G[1]*255;
D.Bl.v=G[2]*255}function N(D){var A=[];for(var Y=0;Y<D.length;Y++)A[Y]=parseFloat(D[Y].slice(1));return A}function R(D){return new eq(D[0],D[1],D[2],D[3],D[4],D[5])}function S(D){return e.u8(D.slice(0,4)).slice(0,3)}function g(D){var A=D.split(" "),F=A[A.length-1],K=F.toLowerCase(),V=A.map(parseFloat),r=null;
if(K=="xa"||K=="xx"||K=="xz"){var r=V[4]==null?V.slice(0,3):[V[4],V[5],V[6]];if(K=="xx"&&V[V.length-2]==2)r=S(V)}else if(K=="g")r=S([0,0,0,1-V[0]]);
else if(K=="x"||K=="k"){if(K=="x"){V.pop();var c=1-V.pop();for(var Y=0;Y<4;Y++)V[Y]*=c}r=S(V)}else if(K=="xk"){var x=V[V.length-2],X=V[V.length-3];
if(x==0)r=S(V);else if(x==1){r=[V[4],V[5],V[6]];for(var Y=0;Y<3;Y++)r[Y]=X*1+(1-X)*r[Y]}else throw D}else throw K;
return r}function i(D,A,F,K){D.add.vmsk=new C.cW;if(A.crds.length!=0)D.add.vmsk.d=y(A);D.add.vmsk.Vj=K;
D.AA();D.vw(F)}function y(D){var A={m:D.crds,Gc:D.cmds},F=e.N.zv(A,!1);return F}function o(D,A){var F=[],f=0,P=0;
for(var K=0;K<2;K++){var V=A[["Raster","Place"][K]];if(V==null)continue;for(var Y=0;Y<V.length;Y++){for(var r=0;
r<3;r++){var c=V[Y][["Data","Document","PlacedObjectPreview"][r]];if(c==null)continue;var x=c._begin,X=c._end;
if(x>X)x=X;F.push([x,X])}}}F.sort(function(T,p){return T[0]-p[0]});var M=[A._begin];for(var Y=0;Y<F.length;
Y++){var t=F[Y],x=t[0]+32;M.push(x,t[1]);f+=t[1]-x}M.push(A._end);var n=A._end-A._begin,L=new Uint8Array(n-f);
for(var Y=0;Y<M.length;Y+=2){var x=M[Y],z=M[Y+1]-x;L.set(new Uint8Array(D.buffer,x,z),P);P+=z}return J.S2(L).split(/\r\n|\r|\n/)}function v(D,A){if(D==null)return[];
var F=o(A,D),K="",V="",r=0,c;for(var Y=2;Y<F.length;Y++){var x=F[Y];if(x[0]=="%"){if(r==0)K+=x.slice(1);
else V+=x.slice(1)}else if(x==";")r++;else if(x.endsWith("/RulerOrigin ,"))c=x.split(" ").slice(0,2).map(parseFloat)}var X=[K,V],M=[];
for(var Y=0;Y<2;Y++){var f=X[Y],t=new Uint8Array(f.length);J.K$(t,0,f);var n=FromPS.F.ASCII85Decode({buff:t,off:0}),L=dd.wZ(n);
M.push(L)}M.push(c);return M}function Z(D,A){if(D==null)return[];var F=o(A,D);F=F.slice(1);for(var Y=0;
Y<F.length;Y++){var K=F[Y];if(K.startsWith("%AI17_Begin_Content_if_version_gt")||K=="%AI17_Alternate_Content"||K=="%AI17_End_Versioned_Content")F[Y]="";
else if(K[0]=="%")F[Y]=K.slice(K[1]=="_"?2:1)}var V=i_.aAa(F);return V}function W(D,A){var F={};if(D==null)return F;
for(var Y=0;Y<D.length;Y++){var K=o(A,D[Y]),V=K[1],r=l(V),c=V.slice(V.lastIndexOf(")")+2).split(" ").map(parseFloat),x=[];
for(var X=2;X<K.length;X++)x.push(K[X].slice(2));F[r]={rc:c,Uk:x}}return F}function d(D,A){var F=[],V,r;
if(D==null)return F;var K=o(A,D);for(var Y=1;Y<K.length;Y++){var c=K[Y];if(c=="0 0 Pb"||c=="PB"||c==""){}else if(c.endsWith("Xa")||c.endsWith("Xz")||c.endsWith("Xx")||c.endsWith("Xk")||c.endsWith(" g")||c.endsWith(" x")||c.endsWith(" k"))V=[0,g(c)];
else if(c.endsWith("Xs"))V=[0,[0,0,0]];else if(c.endsWith("Bg"))V=[1,l(c)];else if(c.endsWith("Pg")||c.endsWith("p"))V=[2,l(c)];
else if(c[0]=="(")r=l(c);else if(c=="Pc")F.push([r,V]);else if(c=="0 BB"||c=="Bb"||c.endsWith("Bh")){}else throw c}return F}function $(D,A){var F={},K,V;
if(D==null)return F;var r=[];for(var Y=0;Y<D.length;Y++){var c=o(A,D[Y]);for(var x=0;x<c.length;x++){var X=c[x];
if(X.endsWith("%_Bs")){var M=X.slice(0,X.length-4);if(!M.endsWith(" "))M+=" ";X=M+"%_BS"}if(X[0]=="("){K=l(X);
var f=X.slice(X.lastIndexOf(")")+2).split(" ");V=parseInt(f[0])}else if(X.endsWith("%_BS")){var t=X.split(" "),z,T=1;
t.pop();t=t.map(parseFloat);var n=t.pop(),L=t.pop(),P=t.pop();if(P==0)z=[t[0],t[0],t[0]];else if(P==2||P==4)z=[t[4],t[5],t[6]];
else if(P==1||P==3)z=S(t);else if(P==6){if(t.length==3)z=[t[0],t[0],t[0]];else if(t.length>=8)z=t.slice(4,7);
else z=S(t);T=t.pop()}else{throw P}r.push([n/100,z,T,L/100])}else if(X=="BD"){r.sort(function(p,m){return p[0]-m[0]});
F[K]={qp:V,aow:r};r=[]}}}return F}function I(D){var A="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),F=Date.now(),K=0,V=[],r={Header:{}},c=[r],x=D.length;
while(K<x){var X=K;while(X!=x&&D[X]!=13&&D[X]!=10){X++}if(D[K]==37&&D[K+1]==95&&D[K+2]==37)K+=2;if(D[K]==37&&(D[K+1]==37||D[K+1]==65)){var M=J.lA(D,K,X-K);
if(M=="%%EOF")break;if(M=="%%EndComments"||M=="%EndComments"||M=="%AI5_Begin_NonPrinting"||M=="%AI5_End_NonPrinting--"||M.startsWith("%AI17_Begin_Content_if_version_gt")||M=="%AI17_End_Versioned_Content"){}else{var f=M.indexOf("Begin"),t=Math.max(M.indexOf("_End"),M.indexOf("%End"));
if(f!=-1&&M[f-1]!="%"&&M[f-1]!="_")f=-1;if(f!=-1){var n=M.slice(f+5).split(":")[0],L={_begin:K,_end:K},P=c[c.length-1];
if(A.indexOf(n)!=-1){if(P[n]==null)P[n]=[];P[n].push(L)}else{if(P[n]!=null){console.log(c);throw M}P[n]=L}c.push(L);
if(M.startsWith("%%BeginData")){X=J.qh(D,"%%EndData",K)}else if(M.slice(0,15)=="%%BeginDocument")X=J.qh(D,"%%EndDocument",X);
else if(M=="%AI9_BeginDocumentData")X=J.qh(D,"%AI9_EndDocumentData",X);else if(M=="%AI11_BeginTextDocument")X=J.qh(D,"%AI11_EndTextDocument",X)}else if(t!=-1){if(c.length>1)c.pop()._end=K}else if(c.length==1&&(M.startsWith("%AI")||M.startsWith("%%")&&M.indexOf(" ")!=-1)){var z=1;
if(M.startsWith("%AI"))while(M[z]!="_"&&z<M.length)z++;var T=M.indexOf(":");if(T==-1)T=M.indexOf(" ");
var p=M.slice(z+1,T),m=M.slice(T+1).trim();r.Header[p]=m}}}K=X;if(D[K]==13)K++;if(D[K]==10)K++}return r}function k(D){var A="";
for(var Y=0;Y<D.length;Y++){if(D[Y]=="_"&&D[Y+1]=="x"){var g1=parseInt(D.slice(Y+2,Y+4),16);A+=String.fromCharCode(g1);
Y+=4}else if(D[Y]=="_")A+=" ";else A+=D[Y]}return A}function _(D){var A="xmlnode-nodename",F="xmlnode-nodevalue",K="xmlnode-attributes",V="xmlnode-children",r=D[A].split(":").pop().replace("#",""),c=D[K],x=D[V],X="<"+r;
for(var M in c)if(M!="xmlns"&&M!="xmlns:v")X+=" "+M.split(":").pop()+"=\""+c[M][F]+"\"";X+=">"+(x.length==0?"":"\n");
for(var Y=0;Y<x.length;Y++)X+=_(x[Y]);if(D[F])X+=D[F];return X+"</"+r+">\n"}return b}();g7.aCO=function(b,h,G){var H=e.N.Q0(new io(0,0,b,h)).m,B=new eq;
B.rotate(G);e.N.h(H,B,H);var j=e.N.MP(H);return j.j/b};g7.azx=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
g7.OL=function(){function b(S){var g=72/S.O4,i=new eq(g,0,0,-g,0,0),y=S.root.children,o=[],v={WM:[],LD:{},aqq:0},W=16383,cX=0,fz=0;
for(var Y=0;Y<S.qy.length;Y++){var Z=S.qy[Y];if(Z[1].length==4)N(Z[1],v,Z[0])}for(var Y=0;Y<y.length;
Y++)Q(y[Y],S,i,v,o,0);var d=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+W+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
d.push("%%BeginSetup\r");d=d.concat(v.WM);for(pn in S.DG){var $=S.DG[pn],I=S.O4/72;d.push("%AI3_BeginPattern: ("+pn+")");
d.push("("+pn+") 0 0 "+Math.round($.j/I)+" "+Math.round($._/I));var y=$.root.children,k=[];for(var Y=0;
Y<y.length;Y++)Q(y[Y],$,i,v,k,1);k=window.ayU;for(var Y=0;Y<k.length;Y++){var _=k[Y];d.push(_.startsWith("%_")?_:"%_"+_)}d.push("E","%AI3_EndPattern")}if(S.qy.length!=0){d.push("%AI5_BeginPalette","0 0 Pb");
for(var Y=0;Y<S.qy.length;Y++){var Z=S.qy[Y],D="("+Z[0]+")",A=Z[1].length;if(Z[0]=="[Registration]")d.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(A==3)d.push(q(e.M8(Z[1]).concat(Z[1]))+" "+D+" 0 1 Xk");else if(A==4)d.push("Bb","0 0 0 0 Bh",Z[1][0]+1+" "+D+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(A==2)d.push(D+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");d.push(D,"Pc")}d.push("PB","%AI5_EndPalette")}d=d.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var F=S.add.arts;for(var Y=0;Y<F.length;Y++){var K=F[Y];console.log(K);var V=K.rc[0]*g,r=-K.rc[1]*g,c=K.rc[2]*g,x=-K.rc[3]*g;
d.push("/Dictionary :","("+K.Lw+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",W/2+" "+W/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",G(V)+" "+G(r)+" /RealPointRelToROrigin"," (PositionPoint1) ,",G(c)+" "+G(x)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}d=d.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var X=[],M=[];for(var Y=0;Y<S.R.length;Y++){var f=S.R[Y],t=f.add.TySh;if(t){X.push(t.HZ);M.push(t)}}if(X.length!=0){var n=j2.aa5(X,null,null);
function L(K){return K.map(function(eC){return"f"+eC})}for(var P=0;P<X.length;P++){var t=M[P],z=n._1._1[P],T=z._1._0[0]._0;
T=parseInt(T.slice(1));var p=n._0._8._0[T]._0,m=t.h.clone();m.concat(i);m.scale(1,-1);p._2._2=L([m.G,m.J,m.YW,m.tW,m.Kv,m.d0])}var O=h(n),cb=h(n);
d.push("%AI11_BeginTextDocument");d.push("/AI11TextDocument : /ASCII85Decode ,");d=d.concat(O);d.push("0.0001 0.0001 /RulerOrigin ,");
d.push(";");d.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");d=d.concat(cb);d.push(";");d.push("%AI11_EndTextDocument")}d.push("%%EndSetup\r");
d=d.concat(o);console.log(d.join("\n"));d.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var Y=0;Y<d.length;Y++){var K=d[Y];if(typeof K=="string")K=d[Y]=J.AY(K);cX+=K.length+1}var e$=new Uint8Array(cX);
for(var Y=0;Y<d.length;Y++){var K=d[Y];e$.set(K,fz);fz+=K.length;e$[fz]=13;fz++}return i_.a9e(e$).buffer}function h(S){var g=new e6,i=dd.Qg(S,g)-2,y=R(g.data.slice(0,i)),o=[];
for(var v=0;v<y.length;v+=100){if(y.length-v<103){o.push("%"+y.slice(v));break}o.push("%"+y.slice(v,v+100))}return o}function G(g1){return g1.toFixed(3)}function H(S,g){var i=S.getName(),y=null;
g.push("%_/ArtDictionary :");if(S.add.vmsk)y=S.add.vmsk.vt;if(S.add.SoLd){var o=e.t.G3(S.add.SoLd);y=Math.atan2(-o.J,o.G)}if(S.add.TySh){var o=S.add.TySh.h;
y=Math.atan2(-o.J,o.G)}if(y!=null&&y!=0)g.push("%_("+y+") /String (BBAccumRotation) ,");if(S.add.TySh)g.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!i.startsWith("<")&&!i.endsWith(">")){g.push("%_/XMLUID : "+B(i)+" ; (AI10_ArtUID) ,")}g.push("%_;","%_")}function B(S){var g="";
for(var Y=0;Y<S.length;Y++){var i=S[Y],y=S.charCodeAt(Y);if(i==" ")g+="_";else if(i=="."||i==":"||i=="-"||48<=y&&y<=57||65<=y&&y<=90||97<=y&&y<=122||127<y)g+=i;
else g+="_x"+y.toString(16).toUpperCase()+"_"}return"("+g+")"}function j(S,g,i){i.push(q(S)+" "+g)}function s(S){return"[ "+q(S)+" ]"}function q(S){return S.map(G).join(" ")}function Q(S,g,i,y,o,v){var Z=S.o;
if(v!=0)o.push("0 A",(Z.yY()?0:1)+" Xw");if(Z.fu()){var W=!1;for(var Y=0;Y<S.children.length;Y++)if(S.children[Y].o.Sz)W=!0;
var d=Z.add.lsct==c1.$I?1:0;if(v==0){o.push("%AI5_BeginLayer");o.push((Z.yY()?1:0)+" "+g.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
o.push("("+Z.getName()+") Ln");o.push(d+" AE");H(Z,o)}else{o.push(d+" Ae");o.push(W?"q":"u")}for(var Y=0;
Y<S.children.length;Y++)Q(S.children[Y],g,i,y,o,v+1);if(v==0)o.push("LB","%AI5_EndLayer--");else{o.push(W?"Q":"U");
H(Z,o);a(Z,o);o.push("0 0 Xd","6 () XW")}}else if(!0){a(Z,o);var $=Z.add.TySh,I=Z.add.vmsk;if($){o.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",y.aqq+" /StoryIndex ,");
if(b_.RQ($.HZ)==1){var k=b_.B_($.HZ),_=e.N.Q0(new io(k[0],k[1],k[2],k[3])).m;e.N.h(_,$.h,_);e.N.h(_,i,_);
o.push("/Art :","X=","1 Ap",_[0]+" "+_[1]+" m",_[2]+" "+_[3]+" L",_[4]+" "+_[5]+" L",_[6]+" "+_[7]+" L",_[0]+" "+_[1]+" L","n","X+","; /ConfiningPath ,")}o.push("2 /TextAntialiasing ,",";");
y.aqq++}else if(Z.add.SoLd){var D,A,F,K=Z.add.SoLd,V=K.Idnt.v,r=g.UU(V,K.Crop?K.Crop.v:null),c=r.P0,D=c[0],A=c[1];
F=e.t.G3(K);var x=new eq(1,0,0,-1,0,0);x.concat(F);x.concat(i);var X=A.X(),M=A.j,f=A._,t=e.U(X*4+8);
for(var Y=0;Y<X;Y++){var n=Y*4,L=Y*3;t[L]=D[n];t[L+1]=D[n+1];t[L+2]=D[n+2];t[3*X+Y]=D[n+3]}J.K$(t,X*4,"%EndData");
o.push("%AI5_File:","%AI5_BeginRaster",s([x.G,x.J,x.YW,x.tW,x.Kv,x.d0])+" 0 0 "+[M,f,M,f].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(X*4+4),"XI",t,"XH","%AI5_EndRaster","N")}else if(I){var P=Z.add.vstl,z,T;
if(P){z=P.E_;T=P.g9;if(z.length==0)z=null;if(T.length==0)T=null}var p=e.n.bF(I.d)>1;if(p)o.push("*u","0 Xw");
if(z){if(z.length==3)j(z,"Xa",o);else if(z.length==4){var m=U(z,y);o.push("Bb",m,"2 BB")}else{o.push("("+z[0]+") "+z[1][0].join(" ")+" ["+z[1][1].join(" ")+"] p")}}if(T){var O=i.$K(),cb=P.t7.slice(0);
for(var Y=0;Y<cb.length;Y++)cb[Y]*=O;o.push(P.vB+" J "+P.VV+" j "+P.nx*O+" w "+G(P.dE)+" M ["+cb.join(" ")+"]0 d");
if(T.length==3)j(T,"XA",o);else if(T.length==4){var m=U(T,y);o.push("1 Bb",m,"2 BB")}else{o.push("("+T[0]+") "+T[1][0].join(" ")+" ["+T[1][1].join(" ")+"] P")}}var cX=e.N.nT(I.d,1);
e.N.h(cX.m,i,cX.m);var e$=Z.Sz?"h\nW\nn":z&&T?"b":z?"f":"s";l(cX,e$,I.Vj,o);if(p)o.push("*U")}H(Z,o)}else{var fz=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
o=o.push(fz.join("\n"))}}function a(S,g){var i=g7.azx.indexOf(S.Am);if(i==-1)i=0;g.push(i+" "+G(S.opacity/255)+" 0 0 0 Xy")}function l(S,g,i,y){y.push(i+" XR");
var o=0;for(var v=0;v<S.Gc.length;v++){var Z=S.Gc[v],W,d=0,$="";if(Z=="M"){d=2;W="m"}if(Z=="L"){d=2;
W="l"}if(Z=="C"){d=6;W="c"}for(var Y=0;Y<d;Y++)$+=G(S.m[o+Y])+" ";o+=d;if(d!=0)y.push($+W);if(v==S.Gc.length-1||S.Gc[v+1]=="M"){y.push(Z=="Z"?g:g.toUpperCase())}}}function U(S,g){var i=N(S,g),y="";
if(S[0]==1)y="0 0 "+S[2].slice(5).map(G).join(" ")+" Bh\n";return y+"1 ("+i+") "+S[2].slice(0,4).map(G).join(" ")+" "+S[3].map(G).join(" ")+" "+G(S[2][4])+" Bg"}function N(S,g,i){var y=S[0],o=S[1].slice(0),v=y+"-"+JSON.stringify(o);
if(g.LD[v])return g.LD[v];console.log(i);var Z=g.LD[v]=i?i:"grd"+g.WM.length;g.WM.push("%AI5_BeginGradient: ("+Z+")","("+Z+") "+y+" "+o.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(y==0)o=o.reverse();for(var Y=0;Y<o.length;Y++){var W=o[Y];if(W[3]==null)throw"e";var d=e.M8(W[1]),$=100*W[3],I=d.concat(W[1]).map(G).join(" ")+" 2 "+G(W[2])+" 6 "+$+" "+G(W[0]*100);
g.WM.push(I+" %_BS");g.WM.push("%_"+I+" Bs")}g.WM.push("BD","%AI5_EndGradient");return Z}function R(S){var g=[85*85*85*85,85*85*85,85*85,85,1],i="",y=S.length,o=new Uint8Array(4),v=new Uint32Array(o.buffer);
for(var Y=0;Y<y;Y+=4){var Z=y-Y;o[3]=S[Y];o[2]=Z>1?S[Y+1]:0;o[1]=Z>2?S[Y+2]:0;o[0]=Z>3?S[Y+3]:0;var W=v[0],d=1+Math.min(4,Z);
for(var $=0;$<d;$++){var I=Math.floor(W/g[$]);i+=String.fromCharCode(33+I);W-=I*g[$]}}return i+"~>"}return b}();
function fg(){}fg.wZ=function(){var b,h,G,H,B,j=!0,Z,W,d;function s(X){return j?J.FZ(b,X):J.C(b,X)}function q(X){return j?J.gP(b,X):J.JQ(b,X)}function Q(X){return j?J.A0(b,X):J.Oj(b,X)}function a(X){return J.gP(b,X)}function l(X){return J.FZ(b,X)}function U(X){return J.Wv(b,X)}function N(X,M){if(X+M*4>b.length)throw M;
var f=[];for(var Y=0;Y<M;Y++)f.push(s(X+Y*4));return f}function R(X,M){var f=[];for(var Y=0;Y<M;Y++)f.push(Q(X+Y*8));
return f}function S(X){return l((X+1)*4096-12)}function g(X){return l((X+1)*4096-8)}function i(X,h,M,f){if(H[X]==null)H[X]=[];
H[X].push([f,new Uint8Array(b.buffer,h,M)])}function y(X,M,f,t){var n=G[X],h=n*4096;h=h+l(h+4096-24-12-M*4);
var L=a(h),P=b[h+2],z=b[h+3];if(M!=P)throw P;if(z==0)i(t,h+4,f,9);else{var T=a(h+6),p=l(h+8);i(t,h+12,L-12,9);
y(p,T,f-(L-12),t)}}function o(){var X=l(352),M=l(X*4096+128),f=l(936);G=[];H={};B={};for(var Y=0;Y<1e9;
Y++){var t=l(f*4096+128+Y*4);if(t==0)break;var n=N(t*4096+128,4096-128-12>>>2);G=G.concat(n)}for(var L=0;
L<G.length;L++){var P=G[L],z=S(P);if(z!=6)continue;var h=P*4096,T=l(h);h+=4;for(var Y=0;Y<T;Y++){var p=l(h);
h+=4;var m=l(h);h+=4;var O=l(h);h+=4;var cb=l(h);h+=4;if(p==0)B[m]=O;else{var cX=O&65535,e$=O>>>16;if(e$==0)i(m,cb*4096,cX,8);
else y(cb,e$,cX,m)}}}var Z={};for(var fz in H){var eC=H[fz],hw=eC.length;if(hw==1)Z[fz]=eC[0][1];else{var az=0,h=0;
for(var Y=0;Y<hw;Y++)az+=eC[Y][1].length;var av=Z[fz]=new Uint8Array(az);for(var Y=0;Y<hw;Y++){av.set(eC[Y][1],h);
h+=eC[Y][1].length}}}return Z}function v(h,X){var M=0,f="";if(X){M=s(h);h+=4}else{h+=3;M=q(h);h+=2}while(f.length<M){var t=q(h),n=t&255,L=t>>>8,P=0,z="";
n+=(L&15)*256;L=L&240;h+=2;if(n==0)throw"e";for(var Y=0;Y<n;Y++){if(L==64)P=b[h++];else if(L==128){P=q(h);
h+=2}else throw L;z+=String.fromCharCode(P)}f+=z}return[f,h]}function $(h,X,M){var f=N(h,X);for(var Y=0;
Y<X;Y++){M.push(Y);if(f[Y]>W)throw"e";f[Y]=k(f[Y],M);M.pop()}return f}var I={};function k(X,M){if(d.indexOf(X)!=-1)return Z[X];
if(X==0)return null;if(Z[X]==null)return null;if(!(Z[X]instanceof Uint8Array))return Z[X];var f=b,h=0;
b=Z[X];d.push(X);var t=B[X].toString(16),n=Z[X]={_type:x[t]?x[t]+":"+t:"typ-"+t,_eid:X};while(h+8<b.length){if(j&&l(h+4)>268435455&&l(h+4)!=1179258880)j=!1;
var L=s(h);h+=4;var P=s(h);h+=4;var z=L.toString(16),T=h+P;if(h+P>b.length){n._bin=b;break}_(z,K,n,h,P,M);
h=T}b=f;d.pop();return n}function _(X,M,f,h,t,n){var L=M[X+":"+f._type];if(L==null)L=M[X];n.push(L?L[0]==""?X:L[0]:X);
if(L){var P=L[0],z=null,T=L[1];if(P=="")P=T+"-"+X;if(r[T]&&t!=r[T]){console.log(T);console.log(X,L);
console.log(b.slice(h,h+t));throw"e"}if(T=="mat")z=R(h,6);else if(T=="mmat")z=[k(s(h),n),t==6?[1,0,0,1,0,0]:R(h+6,6)];
else if(T=="rect")z=R(h,4);else if(T=="mrct"){z=R(h,4);z.push(a(h+32))}else if(T=="doub")z=Q(h);else if(T=="pointArr"){var p=a(h);
z=N(h+2,p*2)}else if(T=="usrt")z=a(h);else if(T=="uint")z=s(h);else if(T=="pntr"||T=="ptr6"){z=k(s(h),n)}else if(T=="bool2"){if(q(h)!=0&&q(h)!=1)throw q(h);
z=q(h)==1}else if(T=="bool4"){if(l(h)!=0&&l(h)!=1)throw X+","+l(h);z=l(h)==1}else if(T=="color"){if(t!=38&&t!=30)throw t;
var m=s(h),O=q(h+4);z=[m];for(var Y=0;Y<O;Y++)z.push(Q(h+6+Y*8))}else if(T=="path"){var cb=h+t;z=[];
var cX=s(h);h+=4;for(var Y=0;Y<cX;Y++){var e$=[[]];z.push(e$);var fz=s(h);h+=4;for(var eC=0;eC<fz;eC++){var m=s(h);
h+=4;if(m<2){e$[0].push([m,Q(h),Q(h+8),Q(h+16),Q(h+24),Q(h+32),Q(h+40)]);h+=48}else if(m==2){e$[0].push([m,Q(h),Q(h+8)]);
h+=16}else throw m}e$.push(a(h));h+=2}}else if(T=="ptrAndList"){var hw=s(h),az=s(h+4);z=$(h+8,az,n);
z.unshift(k(hw,n))}else if(T=="ptrArray"||T=="ptrArrayX"){var av=t>>2;if(T=="ptrArray"){av=s(h);h+=4;
if(t!=4+av*4)throw t}z=$(h,av,n)}else if(T=="ptrArray2"){var av=s(h);h+=4;z=$(h,av,n);h+=av*4;av=s(h);
h+=4;z.push($(h,av,n))}else if(T=="cldrn"){var ia=s(h),iJ=s(h+4),av=s(h+8);z={p:k(ia,n),ge:k(iJ,n),rn:$(h+12,av,n)};
if(t!=12+av*4){console.log(X,sa);throw"e"}if(ia==0)throw ia}else if(T=="aprnc"){var av=s(h);h+=4;z={};
for(var Y=0;Y<av;Y++){var cx=s(h),hP=q(h+4),iS=q(h+6);h+=8;var e4=c[cx.toString(16)];if(e4==null)e4="prm-"+cx.toString(16);
else e4=F(e4);z[e4]=[];for(var eC=0;eC<iS;eC++){var cc=s(h),aO=q(h+4),bZ=null;h+=6;if(cc==28264)bZ=Q(h);
else if(cc==28263)bZ=s(h);else if(cc==279||cc==6917)bZ=k(s(h),n);else if(cc==28261)bZ=a(h)==1;else if(cc==28265)bZ=[Q(h),Q(h+4)];
else if(cc==6914||cc==83231)bZ=v(h)[0];else if(cc==28259||cc==28260||cc==23094||cc==67679){bZ=b.slice(h,h+aO)}else throw cc.toString(16);
z[e4].push(bZ);h+=aO}}}else if(T=="lopts"){var d_=6;while(b[h+d_]<2)d_++;z={aBY:q(h+0)==1,show:q(h+2)==1,aoz:q(h+4)==1,mz:s(h+d_),name:v(h+d_+8)[0]}}else if(T=="origin"){var cb=h+t;
if(b[h++]!=1)throw"e";var p=l(h);h+=4;var ee=J.lA(b,h,p);h+=p;if(b[h++]!=1)throw"e";var b4=b[h++];if(b4!=1&&b4!=53)throw b4;
var hA=a(h);h+=2;if(hA!=0&&hA!=1)throw hA;var f$=l(h);h+=4;if(f$!=0&&f$!=1)throw f$;var e_=l(h);h+=4;
if(e_!=0&&e_!=2&&e_!=3)throw e_;var fJ=l(h);h+=4;var dV=v(h,!0);h=dV[1];dV=dV[0];var ix=l(h),b9=l(h+4);
h+=8;var hV=l(h);h+=4;if(hV!=0)throw hV;var gq=l(h);h+=4;var eH=v(h)[0];h+=2+2+eH.length+3;z={file:ee,id:dV,B9:eH}}else if(T=="string")z=v(h)[0];
else if(T=="relEnt"){var eP=q(h);h+=2;z=[];for(var Y=0;Y<eP;Y++)z.push([s(h+Y*8),k(s(h+Y*8+4),n)])}else if(T=="textData"){var cb=h+t,c2=s(h);
h+=4;var cx=s(h);h+=4;var O=q(h);h+=2;var bL=[];for(var Y=0;Y<O;Y++){var dg=s(h);h+=4;if(c2==514)bL.push(v(h,!0)[0]);
else if(c2==515){var cN=s(h),X=s(h+4),dH=D(h+8,n);bL.push([cN,k(X,n),dH])}else if(c2==516){var cN=s(h),X=s(h+4),kM=q(h+8),dH=D(h+8,n);
bL.push([cN,k(X,n),dH])}else bL.push(b.slice(h,h+dg));h+=dg}if(cb-h!=12)throw cb-h;z=bL}else if(T=="storyProps"){var a_=s(h);
if(q(h+4)>1)throw"e";var g4=k(s(h+6),n),O=s(h+10),iY=k(s(h+14+O*4),n);z={a73:a_,ajr:g4,rn:$(h+14,O,n),aCI:iY,a1y:N(h+14+O*4+4,4)}}else if(T=="styleProps")z=D(h,n);
else if(T=="bounds"){var fa=h,eP=s(h);h+=4;z=[];for(var Y=0;Y<eP;Y++){var ka=[];z.push(ka);for(var eC=0;
eC<4;eC++)ka.push(Q(h+eC*8));h+=32;ka.push(b[h]);h++}if(h!=fa+t)throw"e"}else if(T=="columnPos"){var eP=s(h);
h+=4;z=[R(h,eP),Q(h+eP*8)];h+=eP*8+8}else if(T=="StyleName"){z=[s(h+4)]}else if(T=="fontName"){var cb=h+t;
z=[q(h)];h+=2;for(var Y=0;Y<2;Y++){var ee=v(h);h=ee[1];z.push(ee[0])}z.push(s(h));h+=4;var b1=q(h);h+=2;
z.push(b1);var bg=q(h);h+=2;var cl=[];z.push(cl);for(var c0=0;c0<bg;c0++){var kL=[];cl.push(kL);var ee=v(h);
h=ee[1];kL.push(ee[0]);var c_=q(h);if(c_<100){h+=2;var ee=J.lA(b,h,c_);h+=c_;kL.push(ee)}else{var ee=v(h);
h=ee[1];kL.push(ee[0])}for(var Y=0;Y<3;Y++){var ee=v(h);h=ee[1];kL.push(ee[0])}kL.push(s(h));h+=4;var ee=v(h,!0);
h=ee[1];kL.push(ee[0])}if(h+4!=cb)throw"e";z.push(s(h))}else throw T;if(f[P]!=null){console.log(P,f[P],z);
console.log(n.slice(0));console.log(eid,X,h,f[P],L,z);throw"e"}f[P]=z}else{var cA=b.slice(h,h+t);f["prop-"+X]=cA}n.pop()}function D(h,X){var M=q(h);
h+=2;var f={};for(var Y=0;Y<M;Y++){var t=s(h);h+=4;var n=t.toString(16),L=q(h);h+=2;var P=q(h);h+=2;
for(var z=0;z<P;z++){var T=s(h);h+=4;var p=q(h);h+=2;_(n,V,f,h,p,X);h+=p}}return f}function A(X){j=!0;
b=new Uint8Array(X);Z=o();var M=Z[2147483649];M=J.S2(M,4,M.length-4);delete Z[2147483649];W=0;for(var f in Z)W=Math.max(W,parseInt(f));
d=[];var t={};for(var f in Z)t[f]=Z[f];for(var f in Z)k(parseInt(f),[]);return Z}function F(X){X=X.split(" ").join("");
return X[0].toLowerCase()+X.slice(1)}var K={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},V={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},r={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},c={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},x={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return A}();function bh(){}bh.wZ=function(){var b=0;function h(U,N){var R=fg.wZ(U),A=1;b=0;var S=R[1],g=S.spreads,i=[],y=new io;
for(var o=0;o<g.length;o++){var v=g[o],Z=v.children.rn,W=H(v),d=Z[0].children.rn,$=new io;for(var I=0;
I<d.length;I++){var k=d[I],_=H(k);_.concat(W);var D=G(k);D.offset(_.Kv,_.d0);D=e.N.lZ(D);$=$.gJ(D)}i.push($);
y=y.gJ($)}while(Math.sqrt(y.X())*A<1e3)A++;N.j=y.j*A;N._=y._*A;N.buffer=new Uint8Array(4*N.j*N._);N.rm=!0;
N.O4=Math.round(72*A);N.LI(g.length);for(var o=0;o<g.length;o++){var v=g[o],Z=v.children.rn,F=N.Cx();
F.Xp=24;F.add.lsct=c1.$I;F.cb("Artboard "+(o+1));var K=i[o].clone();K.offset(-y.x,-y.y);K.x*=A;K.y*=A;
K.j*=A;K._*=A;K=e.N.lZ(K);F.b8(K);F.Am="pass";N.R.push(N.b2());var W=H(v);W.translate(-y.x,-y.y);W.scale(A,A);
var V={};for(var r=0;r<Z.length-1;r++){var c=Z[r],x=c.children.rn,X=N.Cx(),M=c.layer.lopts;if(M.name=="Internal_pages_layer_name"||V[M.name])continue;
V[M.name]=!0;X.Xp=24;X.add.lsct=c1.$I;X.cb(M.name);X.lW(M.show);if(M.aBY)X.add.lspf=1<<31;X.Am="pass";
N.R.push(N.b2());for(var Y=0;Y<x.length;Y++)Q(x[Y],N,W,R);N.R.push(X)}N.R.push(F)}}function G(U){var N=U.rect;
return new io(N[0],N[1],N[2]-N[0],N[3]-N[1])}function H(U){var N=U.transform;return new eq(N[0],N[1],N[2],N[3],N[4],N[5])}function B(U){var N=U.color,R=U.parentFill,g;
if(N==null&&R)N=R.color;if(N==null){console.log("strange color",U);return[0,0,0]}var S=N[0];if(S==5)g=N.slice(1);
else if(S==6)g=UDOC.C.cmykToRgb(N.slice(1));else if(S==7){var i=e.g1(N[1],N[2],N[3]);g=[i.$/255,i.B/255,i.J/255]}else if(S==14){g=N.slice(1);
console.log("unsure about the color")}else{console.log(N);throw S}return g}function j(U){var N=B(U);
return e.F.t1({$:N[0]*255,B:N[1]*255,J:N[2]*255})}function s(U){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[U]}function q(U,N){var Y=0,R=0;
while(U[Y+1]&&R+U[Y][0]<=N){R+=U[Y][0];Y++}U=U[Y][1].textData;Y=0;while(U[Y+1]&&R+U[Y][0]<=N){R+=U[Y][0];
Y++}return U[Y]}function Q(U,N,R,S){var g=U.transform?H(U):new eq;g.concat(R);var i=U.path,y=U.appearance,o=U.visible,v=U.children?U.children.rn:null,Z=N.Cx();
if(o!=null)Z.lW(o);var W=v&&v.length==1&&v[0].bitmapFill,d=U["bool2-1623"]&&v&&v.length==1&&v[0].rect&&v[0]._type.startsWith("TextFrame");
if(W){Z.cb("bitmap");var $=v[0],I=G($),k=H($),K=null;k.concat(g);var _=$.bitmapFill.bitmap;_=S[_]._bin;
if(_.length!=_.buffer.byteLength)_=_.slice(0);if(_[0]==123){console.log("unknown bitmap format");return}var D=N._t(_,"img.jpg",0,0);
D.Xp=Z.Xp;Z=D;var A=[0,0,I.j,0,I.j,I._,0,I._];e.N.h(A,k,A);Z.add.SoLd.Trnf=E.Y.Ll(A);Z.add.SoLd.nonAffineTransform=E.Y.Ll(A);
Z.gE(N,!1);var F=$.path;if(F&&F.length!=0)K=l(F,k,y);else if(i&&i.length!=0)K=l(i,g,y);if(K){var V=e.n.d4(K.d),r=e.N.MP(A);
if(V.X()/r.D4(V).X()>1.1){if(V.contains(r))K=null;var c=U.children;U.children=null;Q(U,N,R,S);U.children=c}}if(K)Z.add.vmsk=K;
Z.AA();Z.vw(N)}else if(d){if(y&&y.strokeSwatch){var x=N.Cx();a(x,N,y,i,g);N.R.push(x)}var X=v[0],I=G(X),k=H(X),hw=0;
k.concat(g);var M=X.children.rn[0],f=M.obj228,t=f[0].story[1],n=t.stoProps.ajr.relEnt,L=t.stoProps.rn[0].relEnt,P=t.stoProps.rn[1]["ptrArrayX-210"][0].textData,z=S[n[0][1].textData[0][1].name[0]],T=z?z.styProps:{};
P=P.join("").replace(/\r/g,"\n");var p=-1;while((p=P.indexOf("\uFFFC"))!=-1){P=P.slice(0,p)+(P[p-1]=="\n"?" ":" ")+P.slice(p+1)}Z.cb(P.slice(0,255));
Z.add.lnsr="rend";Z.add.TySh=b_.V0(0,0);Z.add.TySh.In=I;Z.add.TySh.h=k;var m=Z.add.TySh.HZ;b_.ph(m,0,P);
var O=b_.XN(m,0,P.length);O.bJ.FontSize=10;b_.V1(m,0,P.length,O);var cb=[];if(P.length!=0){var cX=q(n,0),e$=q(L,0),fz=1;
for(var Y=1;Y<P.length;Y++){var i=q(n,Y),eC=q(L,Y);if(i!=cX||eC!=e$){cb.push(fz);fz=0}cX=i;e$=eC;fz++}if(fz!=0)cb.push(fz)}for(var Y=0;
Y<cb.length;Y++){var az=q(L,hw),av=cb[Y],ia=Math.min(hw+av,P.length-1),iJ=az[2],cx=az[1].styProps;if(cx==null)cx={};
var hP=q(n,hw),iS=hP[1].styProps,e4=hP[2],cc={};for(var aO in T)cc[aO]=T[aO];for(var aO in iS)cc[aO]=iS[aO];
for(var aO in e4)cc[aO]=e4[aO];for(var aO in cx)cc[aO]=cx[aO];for(var aO in iJ)cc[aO]=iJ[aO];var O=b_.XN(m,hw,ia),bZ=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],d_=bZ.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var ee=0;ee<d_.length;ee++){var aO=d_[ee],b4=ee<bZ.length?O.bJ:O._P;if(cc[aO]!=null)b4[aO]=cc[aO]}if(cc.fillColor){var hA=B(cc.fillColor);
O.bJ.FillColor={Type:1,Values:[1].concat(hA)}}if(cc.font){var f$=cc.font.name[5],e_=cc.fontStyle;if(e_==null)e_="Regular";
for(var fJ=0;fJ<f$.length;fJ++)if(f$[fJ][0]==e_)b_.HC(O,f$[fJ][1])}if(cc.leading!=null&&cc.leading>1){O.bJ.Leading=cc.leading;
O.bJ.AutoLeading=!1}if(cc.align!=null)O._P.Justification=[0,2,1,6,3,5,4,0,0,0][cc.align];b_.V1(m,hw,ia,O);
hw+=av}b_.vj(m,1);b_.A6(m,[0,0,Math.round(I.j),Math.round(I._)])}else if(U._type.startsWith("Path")&&(v==null||v.length==0)&&i){a(Z,N,y,i,g)}else{var dV=U["prop-14526"];
if(v==null&&dV){var ix=S[J.FZ(dV,20)];v=[ix]}if(v){if(i&&i.length!=0){Z.add.vmsk=l(i,g,y);Z.AA();Z.vw(N)}Z.cb("group");
Z.Xp=24;Z.add.lsct=c1.$I;N.R.push(N.b2());for(var Y=0;Y<v.length;Y++)Q(v[Y],N,g,S)}}if(y){var b9=y.objectBlendingMode,hV=y.objectOpacity,gq=y.fillTint,eP=!1;
if(b9)Z.Am=s(b9[0]);if(hV)Z.opacity=Math.round(Z.opacity*hV[0]/100);if(!W&&gq)Z.opacity=Math.round(Z.opacity*gq[0]/100);
var eH=JSON.parse(dE.default);for(var Y=0;Y<dE.order.length;Y++)eH[dE.CM[Y]]={t:"VlLs",v:[]};var c2="dropShadow innerShadow satin bevel iglow oglow".split(" "),bL="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var Y=0;Y<c2.length;Y++){var dg=c2[Y];if(y[dg]&&y[dg][0]){var cN=y[dg],kM=135,a_=10;eP=!0;var dH=JSON.parse(dE.Qy[dE.order.indexOf(bL[Y])]);
eH[dE.CM[dE.order.indexOf(bL[Y])]].v.push({t:"Objc",v:dH});if(y[dg+"Color"])dH.Clr.v=j(y[dg+"Color"][0]);
else if(c2[Y]=="iglow"||c2[Y]=="oglow")dH.Clr.v=e.F.t1({$:255,B:255,J:255});if(y[dg+"ColorH"])dH.hglC.v=j(y[dg+"ColorH"][0]);
if(y[dg+"ColorS"])dH.sdwC.v=j(y[dg+"ColorS"][0]);if(y[dg+"BMode"])dH.Md.v.BlnM=aq.Wz(s(y[dg+"BMode"][0]));
if(y[dg+"BModeH"])dH.hglM.v.BlnM=aq.Wz(s(y[dg+"BModeH"][0]));if(y[dg+"BModeS"])dH.sdwM.v.BlnM=aq.Wz(s(y[dg+"BModeS"][0]));
if(y[dg+"Opacity"])dH.Opct.v.val=y[dg+"Opacity"][0];if(y[dg+"OpacityH"])dH.hglO.v.val=y[dg+"OpacityH"][0];
if(y[dg+"OpacityS"])dH.sdwO.v.val=y[dg+"OpacityS"][0];if(y[dg+"Size"])dH.blur.v.val=y[dg+"Size"][0];
if(y[dg+"Angle"])kM=y[dg+"Angle"][0];if(y[dg+"Dist"])a_=y[dg+"Dist"][0];if(y[dg+"DX"]){var g4=y[dg+"DX"][0],iY=y[dg+"DY"][0];
a_=Math.round(Math.sqrt(g4*g4+iY*iY));kM=Math.round(Math.atan2(iY,-g4)*180/Math.PI)}if(dH.lagl)dH.lagl.v.val=kM;
if(dH.Dstn)dH.Dstn.v.val=a_;if(dH.uglg)dH.uglg.v=!1;if(y[dg+"Invert"])dH.Invr.v=y[dg+"Invert"][0];else if(c2[Y]=="satin")dH.Invr.v=!1;
if(y[dg+"Alt"])dH.Lald.v.val=y[dg+"Alt"][0];if(y[dg+"Depth"])dH.srgR.v.val=y[dg+"Depth"][0];if(y[dg+"Choke"])dH.Ckmt.v.val=y[dg+"Choke"][0]}}if(eP)Z.add.lmfx=eH}if(U.name)Z.cb(U.name);
else if(y&&y.name)Z.cb(y.name[0]);N.R.push(Z)}function a(U,N,R,S,g){U.cb("path");U.Xp|=16;U.add.vmsk=l(S,g,R);
var i=U.add.vstk=dE.QA.Az(),y=e.F.t1({$:0,B:0,J:0});if(R){var o=R.strokeSwatch,v=R.fillSwatch,Z=R.basicFeather,W=R.basicFeatherWidth,d=R.strokeWeight;
i.strokeEnabled.v=o!=null;i.fillEnabled.v=v!=null;if(Z)U.add.vmsk._o=W?W[0]:9;if(o){i.strokeStyleLineWidth.v.val=d?d[0]:1;
y=j(o[0]);i.strokeStyleContent.v.Clr.v=y}if(v){y=j(v[0])}}if(y)U.add.SoCo={classID:"null",Clr:{t:"Objc",v:y}};
U.AA();U.vw(N)}function l(U,N,R){var S=new C.cW,g=S.d;for(var i=0;i<U.length;i++){var y=U[i],o=y[0].length,v=y[1]==0,Z=v?0:3;
g.push({type:Z,length:o,Vj:0,ts:2,$V:0,$S:0});for(var Y=0;Y<o;Y++){var W=y[0][Y],d=W[0],$=new cJ(W[1],W[2]),I=new cJ(W[3],W[4]),k=new cJ(W[5],W[6]);
if(d==0||d==1)g.push({type:Z+2,o$:$,v:I,PY:k});else if(d==2)g.push({type:Z+2,o$:$,v:$,PY:$});else throw d}}e.n.Gl(g,N);
return S}return h}();var gZ=function(b){function h(s,q){var Q=[];for(var Y=0;Y<9;Y++){var a=J.C(s,q+Y*4);
if(Y%3==2)Q.push((a>>>30)+(a&1073741823)/1073741823);else Q.push((a>>>16)+(a&65535)/65535)}return Q}function G(s,q,Q,a){var l={},U=J.C,N=J.JQ;
while(q<Q){var R=q,S=J.C(s,q);q+=4;if(S==0){S=J.C(s,q);q+=4}var g=J.lA(s,q,4);q+=4;if(S==0)throw"e";
if(S==1){S=J.DN(s,q);q+=8}var i=R+S,y="".padStart(a,"\t"),o={};if(g=="mvhd"){var v=s[q];if(v!=0)throw"e";
q+=4;o.at3=U(s,q);q+=4;o.ar3=U(s,q);q+=4;o.uo=U(s,q);q+=4;o.duration=U(s,q);q+=4;o.a6f=U(s,q);q+=4;o.volume=N(s,q);
q+=2;q+=10;o.a0p=h(s,q);q+=4*9;o.a8e=[];for(var Y=0;Y<6;Y++)o.a8e.push(U(s,q+Y*4));q+=4*6;o.aBV=U(s,q);
q+=4}else if(g=="tkhd"){var v=s[q];if(v!=0)throw"e";q+=4;o.at3=U(s,q);q+=4;o.ar3=U(s,q);q+=4;o.a02=U(s,q);
q+=4;q+=4;o.duration=U(s,q);q+=4;q+=8;o.o=N(s,q);q+=2;o.aA7=N(s,q);q+=2;o.volume=N(s,q);q+=2;q+=2;o.a0p=h(s,q);
q+=4*9;o.Ps=U(s,q)>>>16;q+=4;o.CN=U(s,q)>>>16;q+=4}else if(g=="mdhd"){o.Xp=U(s,q);q+=4;o.at3=U(s,q);
q+=4;o.ar3=U(s,q);q+=4;o.uo=U(s,q);q+=4;o.duration=U(s,q);q+=4;o.lang=N(s,q);q+=2;o.Ro=N(s,q);q+=2}else if(g=="hdlr"){var Z=U(s,q);
q+=4;if(Z!=0)throw Z;o.qp=J.lA(s,q,4);q+=4;o.a1D=J.lA(s,q,4);q+=4;o.aa4=U(s,q);q+=4;o.Xp=U(s,q);q+=4;
o.ayA=U(s,q);q+=4;var W=q;while(s[W]!=0)W++;o.name=J.lA(s,q,W-q);q+=W-q+1}else if(g=="stsd"){var Z=U(s,q);
q+=4;if(Z!=0)throw Z;var d=U(s,q);q+=4;if(d!=1)throw d;var $=U(s,q);q+=4;o.bg=J.lA(s,q,4);q+=4;if(o.bg=="mett"){o.aok=J.lA(s,q,i-q)}else{for(var Y=0;
Y<6;Y++)if(s[q+Y]!=0)throw"e";q+=6;o.abr=N(s,q);q+=2;o.aaY=N(s,q);q+=2;o.a2j=N(s,q);q+=2;o.a3U=U(s,q);
q+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,AVdh,raw ,rle ".split(",").indexOf(o.bg)!=-1){o.a8A=U(s,q);
q+=4;o.a5U=U(s,q);q+=4;o.adZ=[N(s,q),N(s,q+2)];q+=4;o.at$=[U(s,q)/(1<<16),U(s,q+4)/(1<<16)];q+=8;var I=U(s,q);
q+=4;if(I!=0)throw"e";var k=N(s,q);q+=2;if(k!=1)throw"e";var _=s[q];q++;o.awu=J.lA(s,q,_);q+=31;o.a2m=N(s,q);
q+=2;var D=N(s,q);q+=2;if(D!=65535)throw"e";if(q!=i)o.aef=G(s,q,i,a+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(o.bg)!=-1){o.$B=N(s,q);
q+=2;o.ad8=N(s,q);q+=2;var A=N(s,q);q+=2;if(A!=0&&A!=65534)throw A;var F=N(s,q);q+=2;if(F!=0)throw F;
o.aj2=U(s,q)/(1<<16);q+=4;if(q!=i)o.aef=G(s,q,i,a+1)}else if(o.bg=="CTMD"){o.P=s.slice(q,i)}else if(o.bg=="tx3g"||o.bg=="text"||o.bg=="mebx"){}else if(o.bg=="tmcd"){}else if(o.bg=="CRAW"){}else if(o.bg=="sowt"){}else throw JSON.stringify(o.bg)}}else if(g=="stts"||g=="stsz"||g=="stco"||g=="stsc"||g=="ctts"){var Z=U(s,q),K=0,r=0;
q+=4;if(Z!=0)throw Z;if(g=="stsz"){K=U(s,q);q+=4}var V=U(s,q)*(g=="stsc"?3:g=="stts"||g=="ctts"?2:1);
q+=4;o=[];for(var Y=0;Y<V;Y++){if(K!=0)o.push(K);else{o.push(U(s,q));q+=4}}for(var Y=0;Y<V;Y++)r+=o[Y]}else if(g=="co64"){var Z=U(s,q);
q+=4;if(Z!=0)throw Z;var V=U(s,q);q+=4;o=[];for(var Y=0;Y<V;Y++){o.push(J.DN(s,q));q+=8}}else if(g=="moov"||g=="trak"||g=="mdia"||g=="minf"||g=="dinf"||g=="stbl"||g=="uuid"){if(g=="uuid")q+=16;
o=G(s,q,i,a+1)}else if(g=="CMT1"||g=="CMT2"||g=="CMT3"||g=="CMT4"){o=UTIF.decode(s.slice(q,i))}else if(g=="stss"){o.f=q;
o.SO=S;o.akD=U(s,q+4)}else{o.f=q;o.SO=S}q=i;if(g=="trak"||g=="free"||g=="uuid"){if(l[g]==null)l[g]=[];
l[g].push(o)}else{if(l[g]!=null)throw g;l[g]=o}}return l}function H(s){var q=new Uint8Array(s);return G(q,0,q.length,0)}function B(s,q,Q){var a=j(s,q),l=a.mdia.minf.stbl,U=l.stsc,N=0,R=0;
for(var Y=0;Y<U.length;Y+=3){var S=(Y+3<U.length?U[Y+3]:1e4)-U[Y],g=R+S*U[Y+1];if(R<=Q&&Q<g){while(R+U[Y+1]<=Q){N++;
R+=U[Y+1]}break}N+=S;R=g}var i=l.stco;if(i==null)i=l.co64;var y=i[N];while(R<Q){y+=l.stsz[R];R++}return[y,l.stsz[Q]]}function j(s,q){var Q=s.moov.trak;
for(var Y=0;Y<Q.length;Y++)if(Q[Y].mdia.hdlr.a1D==q)return Q[Y]}return{wZ:H,auk:B,abT:j}}(),bR=function(){var b,h,G,H,B,j;
function s(){H+=1;return G[H-1]}function q(){H+=2;return J.eR(G,H-2)}function Q(){H+=4;return J.Wv(G,H-4)}function a(g){return 512+512*g}function l(g){return 64*g}function U(g,i){var y=[];
while(g!=-2){y.push(g);g=i[g]}return y}function N(g,i,y){var o=U(g,y==64?j:B);if(i==null)i=o.length*y;
var v=new Uint8Array(i),Z=y==64?h:b;for(var Y=0;Y<o.length;Y++){var W=o[Y],d=y==64?l(W):a(W);v.set(new Uint8Array(Z.buffer,d,Math.min(y,i-Y*y)),Y*y)}return v}function R(g,i,y,o){var v=G,Z=H,K;
G=g;H=i*128;var W=J.XX(G,H,32);H+=64;var d=q();W=W.slice(0,d-2>>>1);var $=s(),I=s(),k=Q(),_=Q(),D=Q();
for(var Y=0;Y<20;Y++)if(s()!=0)throw Y;H+=8;H+=8;var A=Q(),F=Q();if(Q()!=0)throw"e";if($==1||$==5){if($==5){h=N(A,null,512)}K={};
R(g,D,K,o+1)}else if($==2){if(F<=4096)K=N(A,F,64);else K=N(A,F,512)}else throw $;if(k!=-1)R(g,k,y,o+1);
if(_!=-1)R(g,_,y,o+1);y[W]=K;G=v;H=Z}function S(g){G=b=new Uint8Array(g);H=0;var i=[208,207,17,224,161,177,26,225];
for(var Y=0;Y<8;Y++)if(s()!=i[Y])throw"e";for(var Y=0;Y<16;Y++)if(s()!=0)throw"e";var y=q(),o=q(),v=q();
if(v!=-2)throw"big endian";var Z=q();if(Z!=9)throw"not 512";var W=q();if(W!=6)throw"not  64";for(var Y=0;
Y<10;Y++)if(s()!=0)throw"e";var d=Q(),$=Q();if(Q()!=0)throw"e";var I=Q();if(I!=4096)throw"e";var k=Q(),_=Q(),D=Q(),A=Q(),F=[];
for(var Y=0;Y<109;Y++){var K=Q();if(K==-1)break;F.push(K)}while(D>=0){H=a(D);for(var Y=0;Y<127;Y++){var K=Q();
if(K==-1)break;F.push(K)}D=Q()}if(F.length!=d)throw"e";B=[];for(var Y=0;Y<d;Y++){H=a(F[Y]);for(var V=0;
V<128;V++){var K=Q();B.push(K)}}j=[];while(k!=-2){H=a(k);for(var V=0;V<128;V++){var K=Q();j.push(K)}k=B[k]}var r=N($,null,512),c={};
R(r,0,c,0);return c["Root Entry"]}return{parse:S}}(),E={};E.V=function(b){return window.devicePixelRatio||1};
E.Et=function(b,h){return(h.atb=="touch"?12:8)*E.V()/b.s.D};E.af=function(b,h,G){this.name=b;this.id=h;
this.KB=null;if(G!=null)this.DA=G};E.af.prototype.Jd=function(b,h,G,H,B){};E.af.prototype.enable=function(b,h,G,H,B,j){var s=new hb(w.E.b,!0);
s.data={q:w.p.dm,ji:"default"};h.Q(s)};E.af.prototype.disable=function(b,h,G,H,B){};E.af.prototype.aoV=function(b,h,G,H,B){return!1};
E.af.prototype.Ay=function(b,h,G,H,B){};E.af.prototype.Pf=function(b,h,G,H,B){};E.af.prototype.Jl=function(b,h,G,H,B){};
E.af.prototype.dq=function(b,h,G,H,B,j){};E.af.prototype.Of=function(b,h,G,H,B){};E.af.prototype.Z1=function(b,h,G,H){};
E.af.prototype.hk=function(b,h,G,H){};E.af.prototype.uF=function(b,h){};E.af.prototype.sv=function(b,h){};
E.af.prototype.Aj=function(b){return 0};E.af.prototype.Fy=function(b,h,G,H,B){};E.af.prototype.rN=function(b,h){};
E.af.prototype.BB=function(b,h){return!1};E.af.prototype.xX=function(b,h){return!1};E.af.prototype.W1=function(){return!1};
E.af.prototype.CE=function(b,h){return!0};E.af.prototype.Ch=function(){return null};E.af.prototype.L2=function(b,h,G){};
E.af.prototype.a85=function(){return!1};E.af.prototype.f9=function(b,h,G,H){};E.af.prototype.track=function(b){var h=new hb(w.E.IK,!0);
h.data=b;b.NJ=!0;this.KB.Q(h)};E.af.Sk=function(b,h,G,H){var B=10*E.V()*(b.atb=="touch"?2:1),j=b.x+B,s=b.y-B,q=e.VJ.x3(h.j,G.O4,H,G.j,!0),Q=e.VJ.x3(h._,G.O4,H,G._,!0);
while(q.length<Q.length)q=" "+q;while(q.length>Q.length)Q=" "+Q;E.af.qE(j,s,[bp.get([12,41]).charAt(0)+": "+q,bp.get([12,42]).charAt(0)+": "+Q],G)};
E.af.qE=function(b,h,G,H){function B(a,g,i,y,o,v){a.beginPath();a.moveTo(g,i+v);a.arcTo(g,i+o,g+v,i+o,v);
a.arcTo(g+y,i+o,g+y,i+o-v,v);a.arcTo(g+y,i,g+y-v,i,v);a.arcTo(g,i,g,i+v,v)}var j=E.V(),s=Math.round,q=s(11*j),Q=E.af.at5,l=0;
if(Q==null)Q=E.af.at5=document.createElement("canvas");var a=Q.getContext("2d");a.font=q+"px monospace";
for(var Y=0;Y<G.length;Y++)l=Math.max(l,a.measureText(G[Y]).width);var U=s(l+12*j),N=s((G.length*14+5)*j),R=new io(b,h-N,U,N);
if(Q.width!=U||Q.height!=N){Q.width=U;Q.height=N;a.font=q+"px monospace"}a.clearRect(0,0,U,N);a.fillStyle="rgba(0,0,3,0.8)";
B(a,0,0,U,N,s(4*j));a.fill();a.fillStyle="rgba(255,255,255,1)";for(var Y=0;Y<G.length;Y++)a.fillText(G[Y],s(6*j),s((Y+1)*13*j));
var S=[a.getImageData(0,0,U,N).data,R.clone()];if(H)H.A.sn=[S];return S};E.af.at5=null;E.rQ="0";E.Bi="1";
E.ari="2";E.aqU="3";E.mY="5";E.atp="6";E.ayW="7";E.Qw="8";E.tz="9";E.$b="10";E.nS="11";E.B0="12";E.Zc="13";
E.TQ="14";E.asQ="15";E.El="16";E.ae="18";E.eT="19";E.an6="90";E.ct="20";E.Px="21";E.$a="22";E.pp="23";
E.ln="24";E.q4="25";E.Mi="27";E.UA="31";E.hL="32";E.ald="33";E.RS="34";E.a7$="35";E.PE="36";E.Si="37";
E.fv="38";E.dI="39";E.NV="40";E.qi="41";E.MY="42";E.yx="43";E.a03="44";E.a2A="45";E.abp="46";E.ajX="72";
E.rd="47";E.xy="48";E.YK="51";E.sr="52";E.c2="54";E.Ou="55";E.JX="56";E.v3="57";E.qN="58";E.Uy="59";
E.Wo="60";E.TC="61";E.Z4="70";E.fz="71";E.aFe="73";E.E4="100";E.KT="101";E.C8="102";E.d9="103";E.iA="120";
E.ig="230";E.aaw="231";E.Ck="232";E.nc="233";E._s="234";E.c7="235";E.To="236";E._J={};E._J[E.pp]="tools/brush";
E._J[E.ln]="tools/pencil";E._J[E.UA]="tools/eraser";E.G7={PcTl:E.ln,PbTl:E.pp,moveTool:E.rQ,cloneStampTool:E.Mi,typeCreateOrEditTool:E.rd,artboardTool:E.Z4,marqueeRectTool:E.Bi,typeVerticalCreateOrEditTool:E.xy,perspectiveCropTool:E.nS,marqueeEllipTool:E.ari,eyedropperTool:E.TQ,eraserTool:E.UA,pathComponentSelectTool:E.YK,lassoTool:E.mY,backgroundEraserTool:E.hL,directSelectTool:E.sr,polySelTool:E.atp,rectangleTool:E.c2,magneticLassoTool:E.ayW,gradientTool:E.RS,quickSelectTool:E.Qw,bucketTool:E.a7$,ellipseTool:E.Ou,magicWandTool:E.tz,blurTool:E.PE,polygonTool:E.JX,cropTool:E.$b,sharpenTool:E.Si,lineTool:E.v3,sliceTool:E.B0,smudgeTool:E.fv,customShapeTool:E.qN,sliceSelectTool:E.Zc,dodgeTool:E.dI,spotHealingBrushTool:E.ae,burnInTool:E.NV,saturationTool:E.qi,penTool:E.MY,redEyeTool:E.$a,freeformPenTool:E.yx,rulerTool:E.El,paintbrushTool:E.pp,handTool:E.Uy,pencilTool:E.ln,zoomTool:E.TC,objectSelectTool:E.aqU,healingBrushTool:E.eT,patchTool:E.ct,contentAwareMoveTool:E.Px,colorReplacementBrushTool:E.q4,curvaturePenTool:E.a03,rotareViewTool:E.Wo};
E.Qb=function(b,h,G){E.af.call(this,b,h,G);this.U6={brush:b?f7.C3():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Cc=null;this.Aw=null;this.qk=null;this.ee=null;this.C5=null;this.Df=null;this.SP=null;this.ta=null;
this.aZ=null;this.AB=null;this.mF=null;this.HE=null;this.QU=null;this.l8=1;this.J1=!1;this.gr=null;this.caller=null};
E.Qb.prototype=new E.af;E.Qb.prototype.xX=function(b,h){return b.mN&&h.W(ap.J3)};E.Qb.prototype.Pf=function(b,h,G,H,B){if(H.W(ap.p0)){this.Df=new cJ(B.x,B.y);
var j=this.U6.brush.Brsh.v,s=j.Dmtr.v.val,q=j.Hrdn!=null?j.Hrdn.v.val:-1;this.SP=[s,q,!0,JSON.parse(JSON.stringify(this.U6.brush)),B];
this.tf(G)}};E.Qb.prototype.o7=function(b,h,G){var H=this.SP,B=b.s.D,j=G.x-H[4].x,s=G.y-H[4].y,q=H[0],Q=H[1],a=Math.abs(j)>Math.abs(s);
if(a&&H[2]){var l=Math.round(2*j/B);q+=l;G.x-=j-.5*l*B}if(!a&&!H[2]&&Q!=-1){var l=Math.round(.25*s);
Q+=l;G.y-=s-4*l}q=Math.max(1,q);Q=H[1]==-1?-1:Math.max(0,Math.min(100,Q));var U=H[3];U.Brsh.v.Dmtr.v.val=q;
if(Q!=-1)U.Brsh.v.Hrdn.v.val=Q;this.SP=[q,Q,a,U,G];var N=ft.Dl(U,h.CB.t8,B),R=N[1];R.x=Math.round(this.Df.x-R.j/2);
R.y=Math.round(this.Df.y-R._/2);b.A.kF=[N];var S=b.s.Fj(this.Df.x,this.Df.y);b.A.el={Jc:[],Jb:[S.x-q/2,S.y,S.x+q/2,S.y]};
if(Q!=-1)b.A.el.Jb.push(S.x+50/B,S.y-Q/2,S.x+50/B,S.y+Q/2);b.qV=!0};E.Qb.prototype.Of=function(b,h,G,H,B){if(this.id==E.ct||this.id==E.Px)return;
if(this.Df){this.Df=null;this.Iz(JSON.parse(JSON.stringify(this.SP[3])));b.A.kF=[];b.A.el=null;b.qV=!0;
return}var j=new hb(w.E.b,!0);j.data={q:w.p.XM,S:this.id,aDf:"showBrushOpts",EG:new cJ(B._V+4,B.ZO)};
h.Q(j)};E.Qb.prototype.Iz=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.wP,CI:ec.mp,sS:b};this.caller.Q(h)};
E.Qb.s4=function(b,h,G,H,B,j){if(b==null)b="FrgC";if(h==null)h="norm";if(G==null)G=1;if(B==null)B=!1;
var s={classID:"Fl",Usng:{t:"enum",v:{FlCn:b}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(G*100)}},PrsT:{t:"bool",v:B},Md:{t:"enum",v:{BlnM:aq.Wz(h)}}};
if(b=="Clr")s.Clr={t:"Objc",v:H};if(b=="contentAware")s.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(b=="Ptrn")s.Ptrn={t:"Objc",v:j};return{f6:"fill",yo:s}};E.Qb.prototype.Jd=function(b,h,G,H,B){this.KB=h;
var j=G.ql.length;if(j==0&&!G.s5())return;var s=j!=0?-1-G.ql[0]:G.T[0],q=G.R[s];if(b.q=="fromAction"){var Q=b.E7,a=Q.yo;
if(a&&a.null&&a.null.v[0]&&a.null.v[0].v.classID=="Path"){var l=G.wV(),U=l[0],N=l[1],R=U[N.length==0?0:N[0]].add.vmsk;
if(Q.f6=="fill"){var S=R.Y1(),g=B.nU,i=this.U6,y=g>>16&255,o=g>>8&255,v=g>>0&255;this.B8(G,q,S,y,o,v,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var Z=a&&a.Prs&&a.Prs.v,W=JSON.stringify(this.U6.brush);
if(Z)f7.a1c(this.U6.brush,[!1,!0]);for(var d=0;d<1e3;d++){var $=e.n.Xd(R.d,d,!0);if($==-1){this.dq(G,h,B,H,null);
break}var I=R.d[$],k=R.d.slice($,$+1+I.length),_=e.N.nT(k,2).m,D=_.slice(0,8);for(var A=8;A<_.length;
A+=6)D.push(_[A-2],_[A-1],_[A],_[A+1],_[A+2],_[A+3],_[A+4],_[A+5]);var F={};F.Points=D;F.TextOnPathTRange=R.VD.slice(0);
var F=j0.tI(F,2,I.type==3),K=F[0],V=G.s.yF(K[0],K[1]);if(Z)V.hx=0;if(d==0)this.Ay(G,h,B,H,V);else this.Aw.moveTo(K[0],K[1]);
var r=K.length,c=I.type==0?r+2:r;for(var Y=2;Y<c;Y+=2){V=G.s.yF(K[Y%r],K[(Y+1)%r]);V.mN=!0;if(Z){var x=Y/c;
V.hx=2*Math.min(x,1-x)}this.Jl(G,h,B,H,V,this.U6.flow)}this.Aw.finish();this.C2(G)}if(Z)this.U6.brush=JSON.parse(W)}}else if(Q.f6=="fill"){var X=a.PrsT?a.PrsT.v:!1,M=q?q.add.lspf:0;
if(X&&q){q.add.lspf=M==null?1:M|1}var f=(a.Opct?a.Opct.v.val:100)/100,t=a.Md?aq.ah(a.Md.v.BlnM):"norm";
f=Math.round(255*f);var n=a.Usng.v.FlCn;if(n=="contentAware"||n=="aiHeal"){if(G.e==null){alert("Select an area to heal first.");
return}if(!G.s5())return;var L=G.e;if(n=="aiHeal"&&!iz.TA(G))return;this.Rc(G);this.Ir(G,0);if(n=="contentAware"){var P=e.U(L.rect.X()*4);
e.aj(L.channel,P,3);this.p5(G,"sheal",P,L.rect,L.rect);this.c(G,L.rect);this.finish(G,L.rect)}else{this.x4=G;
var z=B.zZ.$l,T=function(){iz.asf(z==null,z,a.prmt?a.prmt.v:"empty background",G,this.as9.bind(this),a.CI);
var bZ=new hb(w.E.b,!0);bZ.data={q:w.p.vW,fL:"Processing ..."};h.Q(bZ);this.caller=h}.bind(this);if(z||fH.RW())T();
else iz.Yt(T)}}else if(n=="Ptrn"){var p=B.hK,m=G.e?G.e.rect.clone():new io(0,0,G.j,G._),O=e.U(m.X()*4);
eQ.a7(a,O,m,p,new cJ(0,0));for(var Y=0;Y<O.length;Y+=4)O[Y+3]=f;this.Rm(G,q,G.e,O,t,[6,48,0,2])}else{var g;
if(n=="FrgC")g=B.nU;else if(n=="BckC")g=B.W9;else if(n=="Blck")g=0;else if(n=="Wht")g=16777215;else if(n=="Gry")g=8421504;
else if(n=="Clr"){var cb=e.F.an(a.Clr.v);g=cb.$<<16|cb.B<<8|cb.J}var y=g>>16&255,o=g>>8&255,v=g>>0&255;
this.B8(G,q,G.e,y,o,v,f,t,[2,3])}if(X&&q){q.add.lspf=M==null?0:M}}else if(Q.f6=="delete"){var cX=s<0?1:q.nD,L=G.e,hw;
if(L==null)return;var e$=s<0?G.$B[-s-1]:cX<=0?null:cX==1?q.Y1():q.T0(G).u,m=cX<=0?q.rect:e$.rect,fz=cX<=0?L.rect.D4(m):L.rect.clone();
if(fz.Zx())return;var eC=fz.X();if(cX<=0){hw=e.U(eC*4);e.JE(q.buffer,q.rect,hw,fz)}else{hw=e.U(eC);e$.extend(fz);
e.wX(e$.channel,e$.rect,hw,fz)}if(0<=s&&q.tv(G,L)){if(cX<=0){e.Zi(hw,0);e.JE(q.lD.rc,q.lD.Ta,hw,fz)}else{hw.fill(255);
e.wX(q.lD.rc,q.lD.Ta,hw,fz)}}else{if(cX<=0){var az=e.U(hw.length>>2);e.uA(hw,az,3);e.z.pb(e.TI(L.rect.X()),L.rect,az,fz,L.channel,fz,1);
e.aj(az,hw,3)}else{var av=e.U(L.rect.X()),y=B.W9>>>16&255,o=B.W9>>8&255,v=B.W9>>0&255;av.fill(Math.round(e.ZK(y,o,v)));
e.z.pb(av,L.rect,hw,fz,L.channel,fz,1)}}this.DR(G,!0,[2,2],s,cX,fz,hw)}}if(b.q=="stroke"){var ia=b.aD5,L=G.e;
if(L==null){L={rect:q.rect.clone(),channel:e.U(q.rect.X())};e.uA(q.buffer,L.channel,3)}var iJ=eQ.no(ia),cx=E.pC.a9K(L,Math.ceil(iJ[0]),Math.ceil(iJ[1])),g=e.F.an(ia.Clr.v),y=Math.round(g.$),o=Math.round(g.B),v=Math.round(g.J);
this.B8(G,q,cx,y,o,v,Math.round(255*ia.Opct.v.val/100),aq.ah(ia.Md.v.BlnM),[14,9])}if(b.q=="fillBMP"){this.Rm(G,q,G.e,b.FN,b.Yn,b.VH)}if(b.q=="draw"){var hP=b.Ny,iS=hP.rect;
this.Rc(G);var e4=G.R[G.T[0]];if(b.aB4&&e4&&e4.nD<=0&&G.ql.length==0){iS=E.lk.apP(hP,G);e4.buffer=hP.buffer.slice(0);
e4.rect=iS.clone()}else{var cc=this.U6.bmode,aO=this.U6.opacity;this.U6.bmode="norm";this.U6.opacity=1;
this.p5(G,"draw",hP.buffer,iS,iS.D4(new io(0,0,G.j,G._)));this.U6.bmode=cc;this.U6.opacity=aO}this.c(G,iS);
G.P6=!0;this.finish(G,iS,b.VH,b.aB4)}};E.Qb.prototype.as9=function(b){var h=b.target.response,G=new Uint8Array(h);
if(this.auq){this.auq=!1;h=aT.yd(J.S2(G))}else if(G[0]==123){var H=JSON.parse(J.S2(G)),Y=0;console.log(H);
if(H.status=="error"){alert(H.message.prompt[0]);return}var B=H.image_links;if(B==null)B=H.output;var j=B[0],s=new XMLHttpRequest;
s.responseType="arraybuffer";while(!0){var q=new XMLHttpRequest;q.open("HEAD",j,!1);q.send();if(q.status!=404)break;
console.log("not ready");Y++}s.open("GET",j,!0);s.onload=this.as9.bind(this);this.auq=!0;s.send();return}var Q=UPNG.decode(h),a=new Uint8Array(UPNG.toRGBA8(Q)[0]),l=iz.Jt(this.x4),U=this.x4;
this.x4=null;var N=U.R[U.T[0]],R=U.e,Q=e.U(l.X()*4);e.JE(N.buffer,N.rect,Q,l);var S=e.U(l.X());e.wX(R.channel,R.rect,S,l);
e.round(S);var g=new Uint32Array(Q.buffer),i=new Uint32Array(a.buffer);for(var Y=0;Y<g.length;Y++)if(S[Y]==0)i[Y]=g[Y];
e.Cg.XS(a,S,l,null,500);var y=new hb(w.E.b,!0);y.data={q:w.p.zx,fL:"Processing ..."};this.caller.Q(y);
var o=this.U6,v=o.opacity,Z=o.bmode;o.opacity=1;o.bmode="norm";this.p5(U,"draw",a,l,l);o.opacity=v;o.bmode=Z;
this.c(U,l);this.finish(U,l);iz.gv("remove")};E.Qb.prototype.B8=function(b,h,G,H,B,j,s,q,Q){var a=G==null?new io(0,0,b.j,b._):G.rect,l=s<<24|j<<16|B<<8|H<<0,U=e.U(a.X()*4);
e.Zi(U,l);this.Rm(b,h,G,U,q,Q)};E.Qb.prototype.Rm=function(b,h,G,H,B,j){var s=b.ql.length!=0?-1-b.ql[0]:b.T[0],q=s<0?1:h.nD,Q=s<0?b.$B[-1-s]:q<=0?null:q==1?h.Y1():h.T0(b).u,a=q<=0?h.rect:Q.rect,l=G==null?new io(0,0,b.j,b._):G.rect,U=G==null?e.b6(b.j*b._):G.channel;
if(G!=null)e.Bp(U,H);var N=l.X(),R=e.U(N*4);if(q<=0)e.JE(h.buffer,h.rect,R,l);else{Q.extend(l);R.fill(255);
e.YP(Q.BE(l),R)}if(0<=s&&G&&h.tv(b,G)&&q<=0){var S=h.lD.qe,g=h.lD.qe.slice(0);if(q<=0)e.MI(H,g);else e.MI(fullc,g);
var i=new eN([2,3],this);i.data={q:"drawtemp",o:b.T[0],i6:q,aaW:S,aqe:g};b.vU(i);this.uF(i.data,b)}else{if(q<=0){var y;
if(h.Xb(0)){y=e.U(l.X());e.uA(R,y,3)}e.z.Nm(B,H,l,R,l,l,1);if(h.Xb(0))e.aj(y,R,3)}else{e.z.Nm(B,H,l,R,l,l,1);
var o=e.U(N);e.Rt(R,o);R=o}this.DR(b,!0,j,s,q,l,R)}};E.Qb.prototype.BB=function(b){if(ap.X3.indexOf(b)!=-1)return!0;
return!1};E.Qb.prototype.Z1=function(b,h,G,H){var B=this.U6.brush,j=H.W(ap.p0),s=j!=this.J1,q=E.Qb.Ca(B,H);
if(q!=null)this.Iz(q);if(!H.W(ap.zb)&&H.dx()!=-1&&this.id!=E.q4){var Q=ap.acZ(Math.round(this.U6.opacity*100),H.dx())/100;
this.Bv({opacity:Q},h)}if(this.id==E.Qw&&s&&b!=null){var a=this.U6.qsmode;if(a==2)a=b.e==null?0:1;else a=2;
this.Bv({qsmode:a},h)}this.J1=j;if(s){if(b)this.l8=b.s.D;this.tf(G,H)}};E.Qb.Ca=function(b,h){var G=b.Brsh.v.Dmtr.v.val,H=b.Brsh.v.Hrdn!=null?b.Brsh.v.Hrdn.v.val:-1,B=b.Brsh.v.Angl.v.val,j=G,s=H,q=B,Q=h.W(ap.J3);
if(h.W(ap.oo)){if(Q)H=25*Math.floor((H-1)/25);else{if(G<=10)G--;else if(G<=50)G=5*Math.floor((G-1)/5);
else if(G<=100)G=10*Math.floor((G-1)/10);else if(G<=200)G=25*Math.floor((G-1)/25);else if(G<=400)G=50*Math.floor((G-1)/50);
else G=100*Math.floor((G-1)/100)}}if(h.W(ap.pu)){if(Q)H=25*Math.ceil((H+1)/25);else{if(G<10)G++;else if(G<50)G=5*Math.ceil((G+1)/5);
else if(G<100)G=10*Math.ceil((G+1)/10);else if(G<200)G=25*Math.ceil((G+1)/25);else if(G<400)G=50*Math.ceil((G+1)/50);
else G=100*Math.ceil((G+1)/100)}}var a=h.W(ap.Nu),l=h.W(ap.YF);if(Q&&(a||l)){B=(B+360+15*(a?1:-1))%360}G=Math.max(1,G);
H=Math.max(0,Math.min(100,H));if(s==-1)H=-1;if(G!=j||H!=s||B!=q){var U=JSON.parse(JSON.stringify(b));
U.Brsh.v.Dmtr.v.val=G;U.Brsh.v.Angl.v.val=B;if(s!=-1)U.Brsh.v.Hrdn.v.val=H;return U}return null};E.Qb.prototype.tf=function(b,h,G,H){if(b.CB.list.length==0)return;
var B=this.id,j;if((B==E.Mi||B==E.eT||B==E.pp||B==E.ln)&&(h!=null&&h.W(ap.p0)||this.U6.alt[0]))j="crosshair";
else{var s=this.l8,q=this.U6.brush;if((B==E.Mi||B==E.eT)&&G&&this.HE&&this.HE.length==this.mF.X()*4){var Q=G.s.Fj(H.x,H.y),a=this.ax6(Q),l=this.HE,U=this.mF,N=new io(U.x+a.x,U.y+a.y,U.j,U._),R=ft.Dl(q,b.CB.t8,s),S=R[0],g=R[1],i=Math.ceil(g.j/s),y=new io(Math.round(Q.x-i/2),Math.round(Q.y-i/2),i,i),o=e.U(y.X()*4),v,Z;
e.JE(l,N,o,y);if(s==1){v=o;Z=y}else{var W=new eq(s,0,0,s,0,0),d=E.Y.Mp([o,y],W,!0);Z=g.clone();Z.x=d.rect.x;
Z.y=d.rect.y;if(Z.TW(d.rect))v=d.buffer;else{v=e.U(Z.X()*4);e.JE(d.buffer,d.rect,v,Z)}}var $=this.U6.opacity/255;
for(var Y=0;Y<v.length;Y+=4)v[Y+3]=$*(S[Y+3]*v[Y+3]);ft.aC6(new Uint32Array(v.buffer),Z,4278190080,4294967295);
j={jb:v,O2:Z,WG:new cJ(Z.j/2,Z._/2)}}else j=ft.m1(q,b.CB.t8,s,B==E.q4||B==E.hL)}var I=new hb(w.E.b,!0);
I.data={q:w.p.dm,ji:j};if(this.caller)this.caller.Q(I)};E.Qb.prototype.enable=function(b,h,G,H){this.Cc=G;
this.caller=h;this.Iz(JSON.parse(JSON.stringify(this.U6.brush)));if(b&&b.s.D!=0)this.l8=b.s.D;this.tf(G,H)};
E.Qb.prototype.rN=function(b,h){if(h==ec.mp){this.U6.brush=b.CB.WD;this.tf(b)}};E.Qb.prototype.Fy=function(b,h,G,H,B){for(var j in b)this.U6[j]=b[j];
if(this.U6.alt[0])this.tf(B,H,G)};E.Qb.prototype.a6s=function(b){var h=b.ql.length!=0?-1-b.ql[0]:b.T[0],G=b.R[h],H=h<0?1:G.nD,B=h<0?b.$B[-h-1]:H<=0?null:H==1?G.Y1():G.T0(b).u,j=B?B.channel:G.buffer,s=(B?B.rect:G.rect).clone();
return[G,H,B,j,s]};E.Qb.prototype.Rc=function(b,h){this.QU=b.e==null?null:{rect:b.e.rect.clone(),channel:b.e.channel.slice(0)};
var G=this.AB,H=this.a6s(b),B=H[0],j=H[1],s=H[2];this.AB=H[3];this.aZ=H[4];var q=new io(0,0,b.j,b._),Q=q.gJ(this.aZ);
if((this.AM()&&j<=0||Q.TW(this.aZ))&&h!=!0){if(G&&G.length==this.AB.length){G.set(this.AB);this.AB=G}else this.AB=this.AB.slice(0)}else{if(s)s.extend(Q);
else B.extend(Q)}};E.Qb.prototype.Ir=function(b,h){var G=this.a6s(b),H=G[1],B=G[3],j=G[4],s=[B,j],q=h!=null?h:this.U6.sfrom;
if(H<=0&&q!=0){s[1]=new io(0,0,b.j,b._);s[0]=b.Nw(q==1&&b.T[0]!=b.R.length-1?b.T[0]:null).slice(0)}this.mF=s[1].clone();
this.HE=s[0].slice(0)};E.Qb.prototype.R3=function(b,h,G,H,B,j){if(B.mN&&H.W(ap.p0)&&this.Df==null){if(j)this.bn=G.nU;
var s=new hb(w.E.r,!0);s.S=E.TQ;s.data={q:"pickhere",akm:B};h.Q(s);var q=E.NK.a3g(b,!1,!0,B,null,G.nU,this.bn,1),s=new hb(w.E.b,!0);
s.data={q:w.p.dm,ji:q};h.Q(s);return!0}return!1};E.Qb.prototype.WV=function(b,h,G,H,B,j){if(this.id!=E.Qw&&!b.s5(this.caller)){this.Aw=null;
return}if(this.id!=E.Qw&&this.Aw)return;this.Rc(b);var s=new io(0,0,b.j,b._),q=null;if(j!=null){var Q=b.ql.length!=0?-1-b.ql[0]:b.T[0],a=b.R[Q],l=Q<0?b.$B[-Q-1]:a.nD<=0?null:a.nD==1?a.Y1():a.T0(b).u;
q=e.U(s.X()*4);if(l)E.Qb.Uv(this.AB,this.aZ,l.color,q,s);else e.JE(this.AB,this.aZ,q,s)}var U=this.U6;
if(this.Aw&&this.id==E.Qw&&U.qsmode!=0&&b.e!=null){}else{var N=h.nU,R=h.W9;if(this.gr=="erase"){var S=N;
N=R;R=S}var g=this.id==E.Qw?this.aZ:s;this.Aw=new ft(U.brush,h.CB.t8,h.CB.oJ,{JI:B,df:j,aC9:U.smth*50/b.s.D,h3:this.id==E.ln||U.emode==1,hy:b.hy},N,R,g,q)}if(this.id==E.Qw){this.Aw.aEV(U.brush,U.qsmode==2?0:16777215)}var i=b.s.Fj(H.x,H.y);
if(G.W(ap.J3)&&this.qk){var y=this.qk;this.Aw.moveTo(y.x,y.y,H.hx);this.Aw.lineTo(.001*y.x+.999*i.x,.001*y.y+.999*i.y,H.hx);
this.Aw.lineTo(i.x,i.y,H.hx)}else this.Aw.moveTo(i.x,i.y,H.hx);this.qk=i;this.ee=i.clone();this.C5=new a5(i,b.s.ej)};
E.Qb.prototype.EJ=function(b,h,G){if(b&&b.s.D!=0&&b.s.D!=this.l8){this.l8=b.s.D;this.tf(G)}};E.Qb.prototype.HW=function(b,h,G,H){if(this.Aw==null)return;
var B=b.R[b.T[0]],j=b.s.Fj(H.x,H.y),s=this.C5.$X(j,G);if(s.TW(this.qk))return 1;this.Aw.lineTo(s.x,s.y,H.hx);
this.qk=s;if(this.id==E.Mi||this.id==E.eT){var q=this.z1(),Q=11;q=b.s.yF(j.x-q.x,j.y-q.y);var a=Q>>>1,l=new io(Math.round(q.x)-a,Math.round(q.y)-a,Q,Q),U=e.U(l.X()*4);
e.Zi(16777215);for(var Y=0;Y<Q;Y++)U[(Y*Q+a)*4+3]=U[(Q*a+Y)*4+3]=255;b.A.sn=[[U,l]];b.qV=!0}};E.Qb.prototype.hk=function(b,h,G,H){if(G.vu!=this.id)return;
if(this.id!=E.Qw||b==null)return;if(b.e==null||b.T[0]!=this.aC1){this.aC1=b.T[0];this.Bv({qsmode:0},h)}};
E.Qb.prototype.c=function(b,h){if(b.ql.length!=0){b.qV=!0;return}var G=b.R[b.T[0]];if(h==null){h=this.Aw.zw();
if(this.AM()&&G.nD<=0)h=h.D4(this.aZ)}var H=G.nD;if(H==1||H==3){var B=Math.round((H==1?G.Y1():G.T0(b).u)._o*2.4);
h=h.clone();h.Mx(B,B)}if(h.Zx())return;if(H<=0){G.c(h)}if(H==1){G.Y1().GD=!0;G.vw(b,h)}if(H==3){G.c(h)}b.c(b.root.mG(h,b,b.T[0],!0))};
E.Qb.prototype.dq=function(b,h,G,H,B){if(this.Aw==null)return;this.Aw.finish();if(this.id!=E.ae&&this.id!=E.eT&&this.id!=E.Qw)this.C2(b);
if(this.id==E.Mi||this.id==E.eT){b.A.sn=[];b.qV=!0}if(this.id==E.Qw){var j=b.e;b.e=this.QU;var s=new hb(w.E.r,!0);
s.data={q:"setsel",VH:this.name,e:j};s.S=E.Bi;h.Q(s);if(this.U6.qsmode==0)this.Bv({qsmode:1},h)}else{this.finish(b,this.Aw.pn());
this.Aw=null;this.ta=null}this.dir=0};E.Qb.prototype.Bv=function(b,h){for(var G in b)this.U6[G]=b[G];
var H=new hb(w.E.b,!0);H.data={q:w.p.XM,S:this.id,WO:b};h.Q(H)};E.Qb.prototype.AM=function(){var b=this.id;
return b==E.Qw||b==E.UA||b==E.dI||b==E.NV||b==E.qi||b==E.$a};E.Qb.prototype.finish=function(b,h,G,H,B){var j=b.ql.length!=0?-1-b.ql[0]:b.T[0],s=b.R[j],q=j<0?1:s.nD,Q=j<0?b.$B[-j-1]:q<=0?null:q==1?s.Y1():s.T0(b).u,a=Q?Q.rect:s.rect,N;
if(this.AM()||!a.TW(this.aZ)){if(Q==null){if(this.AM())s.r6();else{var l=h.gJ(this.aZ),U=e.U(l.X()*4);
e.JE(s.buffer,s.rect,U,l);s.buffer=U;s.rect=l}}else Q.r6();this.c(b,a)}if(q<=0){N=e.U(h.X()*4);e.JE(this.AB,this.aZ,N,h)}else{N=e.U(h.X());
N.fill(Q.color);e.wX(this.AB,this.aZ,N,h)}this.DR(b,!1,G?G:this.name,j,q,h,N,H,B)};E.Qb.prototype.DR=function(b,h,G,H,B,j,s,q,Q){var a=s;
if(B>0){a=e.U(j.X()*4);E.Qb.Uv(s,j,0,a,j)}var l=new eN(G,this);l.data=[{o:H,i6:B,O2:j,VN:a}];if(q)l.data.Be=[b.e,null];
if(Q)l.data.Be=[this.QU,b.e];b.vU(l);if(h)this.uF(l.data,b);else if(q)b.e=null;E.HR.aup(b,l.data)};E.Qb.prototype.sv=function(b,h){this.age(b,h,!1)};
E.Qb.prototype.uF=function(b,h){this.age(b,h,!0)};E.Qb.prototype.Aj=function(b){return E.HR.Aj(b)};E.Qb.prototype.age=function(b,h,G){if(b.q=="drawtemp"){var H=G?b.aqe:b.aaW,B=h.R[b.o];
B.lD.qe=H;B.Cw(h,0,0,h.e);B.c();h.P6=!0}else{E.HR.H1(h,b);if(b.Be){h.e=b.Be[G?1:0];h.nh=!0}}h.c()};E.Qb.prototype.C2=function(b){this.p5(b,this.gr,this.Aw.JV(),this.Aw.Ki(),this.Aw.zw());
this.c(b)};E.Qb.prototype.p5=function(b,h,G,H,B){var j=this.U6,s=b.R[b.T[0]],q=b.ql.length!=0?b.$B[b.ql[0]]:s.nD<=0?null:s.nD==1?s.Y1():s.T0(b).u,Q=e.U(B.X()*4),a,l=s.Xb(0);
if(q==null){if(this.id==E.Px&&h=="heal")e.JE(s.buffer,s.rect,Q,B);else e.JE(this.AB,this.aZ,Q,B);if(l){a=e.U(B.X());
e.uA(Q,a,3)}}else{E.Qb.Uv(this.AB,this.aZ,q.color,Q,B)}if(b.e&&h!="qselect"){var U=B.D4(b.e.rect),N=e.U(U.X()*4);
if(h=="copy"){var R=e.U(U.X());e.wX(b.e.channel,b.e.rect,R,U);e.JE(Q,B,N,U);e.z.hT(G,H,N,U,R,U,0,U,1,!1)}else{e.JE(G,H,N,U);
e.Iq(b.e.channel,b.e.rect,N,U)}G=N;H=U}function S(y,cx){var iS=Math.max(cx.x,Math.min(cx.x+cx.j-1,y.x)),e4=Math.max(cx.y,Math.min(cx.y+cx._-1,y.y));
return new cJ(iS,e4)}if(h=="idraw"||h=="ierase"){if(this.ta==null)this.ta=e.U(this.aZ.X());var g=j.samp,i=this.Cc.W9,y=S(this.qk,B),o=g==0?y:this.ee,v=o.x,Z=o.y,W=E.Oz.hI(this.AB,this.aZ,[o,new cJ(v-2,Z),new cJ(v+2,Z),new cJ(v,Z-2),new cJ(v,Z+2)]);
if(g==2)W=[[i>>>16&255,i>>>8&255,i>>>0&255,255]];var d=E.Oz.pH(Q,B,y,W,j.wconf),$=e.U(B.X());e.wX(this.ta,this.aZ,$,B);
e.ym.gJ(d,$,$);e.wX($,B,this.ta,this.aZ);e.Iq($,B,G,H);h=h.slice(1)}if(h=="erase"&&(E.HR.anw(b)!=16777215||q))h="draw";
if(h=="draw")e.z.Nm(j.bmode,G,H,Q,B,B,j.opacity);else if(h=="erase"){var I=j.opacity;if(this.id==E.hL)I=1;
var k=e.U(B.X()*4);e.JE(G,H,k,B);if(q==null){var _=e.U(B.X());e.uA(k,_,3);e.Ib(_,I);e.Q6(_);e.Iq(_,B,Q,B)}else{e.Zi(k,0,4278190080);
e.z.Nm("norm",k,B,Q,B,B,I)}}else if(h=="clone"||h=="heal"){var D=this.z1(),A=this.mF.clone();A.offset(D.x,D.y);
var F=B.clone();F.Mx(1,1);var K=e.U(F.X()*4),V=e.U(F.X());e.JE(G,H,K,F);e.uA(K,V,3);e.Zi(K,0);if(q==null){e.JE(this.HE,A,K,F);
var r=e.U(F.X());e.uA(K,r,3);e.Ia(r,V)}else E.Qb.Uv(this.HE,A,q.color,K,F);if(h=="clone"){e.aj(V,K,3);
e.z.Nm(j.bmode,K,F,Q,B,B,j.opacity)}if(h=="heal"){var c=V.slice(0);e.round(c,20);var x=e.U(F.X()*4);
if(q==null)e.JE(this.AB,this.aZ,x,F);else E.Qb.Uv(this.AB,this.aZ,q.color,x,F);e.z.hT(K,F,x,F,c,F,0,F,1,!1);
e.Cg.XS(x,c,F);e.z.hT(x,F,Q,B,V,F,0,B,1,!1)}}else if(h=="dodge"||h=="burn"){var K=e.U(B.X()*4),f=1,t=0,n=0,L=0;
e.JE(G,H,K,B);var X=B.X()*4,M=E.Qb.nV;if(this.J1){if(h=="dodge")h="burn";else h="dodge"}var P=j.rng;
if(h=="dodge"){t=[1-f/2,1,1+f][P];n=[1,1/(1+f),1][P];L=[f/2,0,0][P]}if(h=="burn"){t=[1/(1-f/2),1,1-f/2][P];
n=[1,1+f,1][P];L=[-(f/2)/(1-f/2),0,0][P]}for(var Y=0;Y<X;Y+=4){var z=K[Y+3];Q[Y+0]=M(Q[Y+0],t,n,L,z);
Q[Y+1]=M(Q[Y+1],t,n,L,z);Q[Y+2]=M(Q[Y+2],t,n,L,z)}}else if(h=="sponge"||h=="redeye"){var K=e.U(B.X()*4),V=e.U(B.X());
e.JE(G,H,K,B);e.uA(K,V,3);e.MI(Q,K);var T=j.smode;if(this.J1)T=1-T;var p=gY.Az("hue2");if(h=="sponge")bV.r8(p,0,[0,[-50,46][T],[6,5][T]]);
else bV.r8(p,1,{OR:[265,305,25,55],Sy:[0,-90,-70]});var m=eZ.q9("hue2",p);eZ.BN(m,K,K,B);e.z.hT(K,B,Q,B,V,B,0,B,1,!1)}else if(h=="copy")e.JE(G,H,Q,B);
else if(h=="sheal"){var K=e.U(B.X()*4),V=e.U(B.X());e.JE(G,H,K,B);e.uA(K,V,3);K.fill(0);var O=this.HE,cb=this.mF;
if(q){O=e.U(cb.X()*4);E.Qb.Uv(this.HE,cb,0,O,cb)}else if(s.Y1()&&s.Y1().isEnabled){var cX=s.Y1(),e$=e.U(cX.rect.X()*4);
e.JE(O,cb,e$,cX.rect);e.aj(cX.channel,e$,3);O=e$;cb=cX.rect}var fz=e.$i.XS(O,cb,V,K,B);if(fz!=0)e.JE(O,cb,K,B);
if(j.sfrom==0)e.JE(K,B,Q,B);else{e.JE(this.AB,this.aZ,Q,B);e.aj(V,K,3);e.z.Nm("norm",K,B,Q,B,B,1)}}else if(h=="qselect"){var eC=this.aZ,hw=eC.j,az=eC._,av=hw*az,ia=this.Aw.JV(),W=this.AB,iJ=E.pC.sp,V=iJ.zE;
V.fill(128);for(var Y=0;Y<av;Y++){var cx=ia[Y<<2],hP=ia[(Y<<2)+3];if(hP==255&&(cx==0||cx==255))V[Y]=cx}V[0]=V[hw-1]=0;
V[(az>>>1)*hw]=V[(az>>>1)*hw+hw-1]=0;E.lV.hB(iJ,!0,b);b.e={rect:eC,channel:iJ.e.slice(0)};b.nh=!0}if(q==null){if(l)e.aj(a,Q,3);
e.JE(Q,B,s.buffer,s.rect)}else E.Qb.C4(Q,B,q)};E.Qb.z1=function(){return null};E.Qb.nV=function(b,h,G,B,j){var s=b*(1/255),q=B+h*Math.pow(s,G),Q=Math.round(q*j+s*(255-j));
return Math.max(0,Math.min(255,Q))};E.Qb.Uv=function(b,h,G,H,B){var j=e.U(B.X());j.fill(G);e.wX(b,h,j,B);
H.fill(255);e.YP(j,H)};E.Qb.C4=function(b,h,G){var H=e.U(h.X());e.Rt(b,H);e.wX(H,h,G.channel,G.rect)};
E.pC=function(b,h,G){E.af.call(this,b,h,G);this.U6={binop:0,feat:0,cstr:{$G:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.dp=new cJ(-1,-1);this.EA=new cJ(-1,-1);this.xT="default";this.KB=null;this.Aa=!1;this.M6=new dL;
this.Xi=!1;this.QN=null;this.RC=null;this.Id=!1;this.jW=!1};E.pC.prototype=new E.af;E.pC.prototype.Ch=function(){var b=this.U6,h=[b.binop,b.feat],G=b.wconf,H=G.join(",")=="16,true,true";
if(h[0]==0&&h[1]==0&&H)return null;if(!H)h.push(G);return h};E.pC.prototype.L2=function(b,h,G){var H=this.U6;
if(b[0])H.binop=b[0];if(b[1])H.feat=b[1];if(b[2])H.wconf=b[2];this.OH(G)};E.pC.prototype.OH=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.XM,S:this.id,U6:this.U6};b.Q(h)};E.pC.sp={key:""};E.pC.oT=function(b,h,G){var H={f6:b,yo:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(h)H.yo.T=h;if(G!=null)H.yo.AntA={t:"bool",v:G};return H};E.pC.H8=function(b,h,G){return E.pC.oT("set",{t:"Objc",v:{classID:b,Top:{t:"UntF",v:{type:"#Pxl",val:h.y}},Left:{t:"UntF",v:{type:"#Pxl",val:h.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:h.y+h._}},Rght:{t:"UntF",v:{type:"#Pxl",val:h.x+h.j}}}},G)};
E.pC.ZJ=function(b,h,G){var H=[],B=[],s="set";for(var Y=0;Y<b.length;Y+=2){H.push(b[Y]);B.push(b[Y+1])}var j={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:H},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B}]}}}};
if(h)s=["set","addTo","subtractFrom","interfaceWhite"][h];return E.pC.oT(s,j,G)};E.pC.ajZ=function(b,h,G){var H={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b.y}}}},B=E.pC.oT("set",H);
B.yo.Tlrn={t:"long",v:h[0]};B.yo.AntA={t:"bool",v:h[1]};B.yo.Cntg={t:"bool",v:h[2]};if(G==!0)B.yo.Mrgd={t:"bool",v:G};
return B};E.pC.V$=function(b){return E.pC.oT("set",{t:"enum",v:{Ordn:b?"Al":"None"}})};E.pC.M7=function(b,h,G){var H={classID:"null"};
if(b!="border")H.selectionModifyEffectAtCanvasBounds={t:"bool",v:G};var B={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[b[0]];
H[B]={t:"UntF",v:{type:"#Pxl",val:h}};return{f6:b,yo:H}};E.pC._T=function(b,h,G){var H={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},B={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:h}}]};
if(G)B.v.push({t:"name",v:{classID:"Lyr",val:G}});var j=[{classID:"null",null:H,T:B},{classID:"null",null:B,T:H},{classID:"null",null:B,From:H},{classID:"null",null:B,With:H}],s=["set","add","subtract","interfaceIconFrameDimmed"];
return{f6:s[b],yo:j[b]}};E.pC.apg=function(b,h){var G=new hb(w.E.b,!0);G.data={q:w.p.wP,CI:ec.ZN};if(!h.U9)b.Q(G);
G.data={q:w.p.wP,CI:ec.H9};if(!h.x$.Vo)b.Q(G)};E.pC.prototype.Jd=function(b,h,G,H,B){E.pC.apg(h,B);this.KB=h;
var j=b.q,s,q,Q=new io(0,0,G.j,G._),eH=!1,eP,c2,bL,dg;if(j=="fromAction"){var a=b.E7,l=a.f6,U=a.yo,N=U?U.selectionModifyEffectAtCanvasBounds:null,R=N&&N.v;
if(l=="colorRange"){if(U.Clrs){var S=U.Clrs.v.Clrs,g=0,i=255,y=["Shdw","Mdtn","Hghl"].indexOf(S),W=.4;
if(y==0)i=60;else if(y==1){g=100;i=150}else g=190;var o=["shadows","midtones","highlights"][y],v=U[o+"LowerLimit"],Z=U[o+"UpperLimit"];
if(v)g=v.v;if(Z)i=Z.v;var d=U[o+"Fuzziness"];if(d)W=d.v/100;s=E.pC.Qk(G,g,i,W,!0)}else{var g=U.Mnm.v,i=U.Mxm.v,W;
g={RY:g.Lmnc.v,G:g.A.v,J:g.B.v};i={RY:i.Lmnc.v,G:i.A.v,J:i.B.v};W=U.Fzns.v/200;s=E.pC.Qk(G,g,i,W)}q=[7,8]}else if(l=="inverse"){if(G.e==null){alert("No selection!");
return}s={channel:e.U(Q.X()),rect:Q};e.wX(G.e.channel,G.e.rect,s.channel,s.rect);e.Q6(s.channel);q=[7,2]}else if(l=="expand"){var $=U.By.v.val,I=G.e.rect.clone();
I.Mx($,$);var k=e.U(I.X()),_=e.U(I.X());e.wX(G.e.channel,G.e.rect,_,I);e.style.stroke(_,k,I,$);s={channel:k,rect:I};
q=[7,4]}else if(l=="contract"){var $=U.By.v.val,D=G.e.rect.clone();D.Mx(1,1);if(!R)D=D.D4(Q);var _=e.U(D.X()),A=e.U(_.length);
e.wX(G.e.channel,G.e.rect,_,D);e.Q6(_);e.style.stroke(_,A,D,$);e.Q6(A);s={channel:A,rect:D};e.r6(s);
q=[7,5]}else if(l=="border"){var $=U.Wdth.v.val;s=E.pC.a9K(G.e,$/2,$/2);q=[7,9]}else if(l=="feather"||l=="smoothness"){var $=U.Rds.v.val;
s=E.pC.afu(G.e,$,l=="smoothness",Q,R);q=l=="feather"?[7,6]:[19,3,0]}else if(l=="move"){var F=U.T.v,I=G.e.rect.clone();
I.x+=F.Hrzn.v.val;I.y+=F.Vrtc.v.val;s={channel:G.e.channel,rect:I};q=[7,7]}else if(l=="grow"||l=="similar"){var K=this.U6.wconf.slice(0);
if(U.Tlrn)K[0]=U.Tlrn.v;K[2]=l=="grow";var V=G.Nw(),r=new io(0,0,G.j,G._),c=G.e.rect,x=Math.round(Math.sqrt(c.X())/10),X=e.U(r.X());
e.wX(G.e.channel,c,X,r);var M=[];for(var f=0;f<c._;f+=x)for(var t=(c.X()+f)%x;t<c.j;t+=x)if(G.e.channel[f*c.j+t]==255){var n=new cJ(c.x+t,c.y+f);
M.push(n);if(K[2])e.ym.gJ(E.Oz.pH(V,r,n,null,K),X,X)}if(!K[2])e.ym.gJ(E.Oz.pH(V,r,n,E.Oz.hI(V,r,M),K),X,X);
s={channel:X,rect:r};q=l=="grow"?"Grow Selection":"Similar Selection";console.log(U)}else{var L=U.null.v,P=U.AntA!=null&&U.AntA.v;
function z(gF){var fm=gF.Top.v.val,kM=gF.Left.v.val;return new io(kM,fm,gF.Rght.v.val-kM,gF.Btom.v.val-fm)}function T(gF){var fm=gF[0].arr,aP=gF[1].arr,hh={m:[],Gc:[]};
for(var Y=0;Y<fm.length;Y++){hh.Gc.push(Y==0?"M":"L");hh.m.push(fm[Y],aP[Y])}hh.Gc.push("Z");return hh}var p=["set","addTo","subtractFrom","interfaceWhite"].indexOf(l),m=U.T?U.T.v:null;
if(m&&m.classID=="Elps"){s=this.apG(E.J9.aap(z(m)));q=[10,4]}else if(m&&m.classID=="Rctn"){var O=z(m);
s={channel:e.U(O.X()),rect:O.clone()};s.channel.fill(255);q=[10,15]}else if(m&&m.classID=="ObSl"){var O=z(m),cb=E.pC.sp,cX=cb.rect,e$=cb.zE,fz=cX.j,eC=cX._,hw=O.x-cX.x,az=hw+O.j-1,av=Math.max(hw,Math.min(az,hw+az>>>1)),ia=O.y-cX.y,iJ=ia+O._-1,cx=Math.max(ia,Math.min(iJ,ia+iJ>>>1)),hP=Math.max(hw,0),iS=Math.min(az,fz),e4=Math.max(ia,0),cc=Math.min(iJ,eC);
e$.fill(128);if(0<=ia)for(var t=hP;t<iS;t++)e$[ia*fz+t]=0;if(iJ<eC)for(var t=hP;t<iS;t++)e$[iJ*fz+t]=0;
if(0<=hw)for(var f=e4;f<cc;f++)e$[f*fz+hw]=0;if(az<fz)for(var f=e4;f<cc;f++)e$[f*fz+az]=0;var aO=E.pi.an1,bZ=Math.round(O.j*aO),d_=Math.round(O._*aO);
for(var t=Math.max(0,av-bZ);t<Math.min(fz,av+bZ);t++)e$[cx*fz+t]=255;for(var f=Math.max(0,cx-d_);f<Math.min(eC,cx+d_);
f++)e$[f*fz+av]=255;E.lV.hB(cb,!0);s={channel:cb.e.slice(0),rect:cX.clone()};q=[10,44]}else if(m&&m.classID=="Plgn"){s=this.apG(T(m.Pts.v.arr));
q=[10,9]}else if(m&&m.classID=="Pnt"){s=E.Oz.aqf(G,new cJ(m.Hrzn.v.val,m.Vrtc.v.val),[U.Tlrn.v,P,U.Cntg==null||U.Cntg.v],U.Mrgd?U.Mrgd.v:!1);
q=[10,12]}else if(m&&m.Ordn=="None"){s=null;q=[7,1]}else if(m&&m.Ordn=="Al"){var ee=Q;if(G.T.length!=0){var b4=G.root.DE(G.T[0]);
while(b4.parent&&b4.parent.parent)b4=b4.parent;if(b4.o.add.artb)ee=b4.o.Ey()}s={channel:e.U(ee.X()),rect:ee};
s.channel.fill(255);q=[7,0]}else if(m&&m[0]&&m[0].v.keyID=="WrPt"){var hA={q:"frompath",Fo:[-1,0,0]};
this.Jd(hA,h,G,H,B);return}else{var f$=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(l),e_=l=="set"?m:L,fJ=e_[0].v.enum,hA;
if(fJ=="Trsp"||fJ=="Msk"||fJ=="vectorMask"||fJ=="Trgt"){var dV=G.T[0];if(e_.length==2)dV=aX.rF(G,e_[1]);
var ix=["Trsp","Msk","vectorMask"].indexOf(fJ);if(fJ=="Trgt"&&G.R[dV].nD==1)ix=1;hA={q:"fromlayer",Fo:[dV,ix,f$]}}else{if(e_[0].t=="name"){var dV=0;
for(var Y=0;Y<G.$B.length;Y++)if(G.$B[Y].name==e_[0].v.val)dV=Y;hA={q:"fromchannel",Fo:[-5-dV,0,f$]}}else{var b9=["RGB","Rd","Grn","Bl"].indexOf(fJ);
hA={q:"fromchannel",Fo:[-1-b9,0,f$]}}}this.Jd(hA,h,G,H,B);return}if(s){if(!P)e.round(s.channel);if(U.Fthr)s=E.pC.afu(s,U.Fthr.v.val,!1);
if(l!="set"&&G.e!=null)s=e.ym.Ai(s,G.e,p)}}if(l=="expand"||l=="contract")if(!R&&!Q.contains(s.rect)){var hV=s.rect.D4(Q),gq=e.U(hV.X());
e.wX(s.channel,s.rect,gq,hV);s.channel=gq;s.rect=hV}}if(j=="qmask"){eH=!0;var cN=G._a(),r=new io(0,0,G.j,G._);
if(cN){s=cN.rect.TW(r)&&e.jC(cN.channel,255)?null:{rect:cN.rect.clone(),channel:cN.channel.slice(0)};
eP=cN}else{s=null;c2=new C.Tc;c2.color=0;c2.name="Quick Mask";c2.Da=!0;if(G.e){c2.rect=G.e.rect.clone();
c2.channel=G.e.channel.slice(0)}else{c2.rect=r;c2.channel=e.U(c2.rect.X());c2.channel.fill(255)}}q=[6,6,1];
G.P6=!0}if(j=="setsel"){s=b.e;q=b.VH}if(j=="crange"){var g=b.DW,i=b.x5;s=E.pC.Qk(G,g,i,b.BD);q=[7,8]}if(j=="fromlayer"||j=="fromchannel"||j=="frompath"){var dH=b.Fo[0],ix=b.Fo[1],p=b.Fo[2];
if(j=="fromlayer"){if(dH==null)dH=G.T[0];var kM=G.R[dH];if(ix==0){var a_=kM.rect,g4=kM.buffer;if(a_.Zx())return;
var iY=e.U(g4.length>>>2);e.uA(g4,iY,3);s={channel:iY,rect:a_.clone()}}else{if(kM.u==null)kM.vw(G);var fa=ix==1?kM.Y1():kM.u;
s=E.pC.a0P(fa,Q)}this.track(E.pC._T(p,["Trsp","Msk"][ix],kM.getName()))}else if(j=="frompath"){var ka=G.wV(),b1=ka[1],ka=ka[0],c0=!0;
if(dH==null)if(ka.length==0||b1.length==0)return;var bg=ka[b1[0]];if(dH!=null)for(var Y=0;Y<ka.length;
Y++)if(ka[Y].V9==dH)bg=ka[Y];var fa=bg.add.vmsk.Y1(),cl=fa.Ki();if(cl.X()==0)return;var iY=fa.H5();if(b.Fo[3]!=null)c0=b.Fo[3];
if(!c0){iY=iY.slice(0);e.round(iY)}bL=[JSON.stringify(G.xe),JSON.stringify(G.mS)];dg=["[]","[]"];G.xe=[];
G.mS=[];s={channel:iY,rect:cl}}else{if(dH==null)dH=E.pC.ai2(G);s=E.pC.adG(G,dH)}if(p!=0&&G.e)s=e.ym.Ai(s,G.e,p);
q=[14,11]}if(j=="bgrm"){if(E.pC.aaI(G,h,b,B))return;var kL=window.locStor.getItem("bgrmt"),c_=600;if(kL==null)kL=0;
var cA=E.pC.aCB.bind([G,h,b,B]),aw=Math.floor((Date.now()-kL)/1e3);if(!fH.RW()&&aw<c_&&B.zZ.$l==null){var kq="Non-Premium users can use it once 10 minutes ("+(c_-aw)+" sec remain). Try Select - \"Magic Cut\" instead!\nWatch a short ad and skip waiting?";
ez.Yt(cA,kq,"rmbg")}else cA();return}if(s!=null&&e.jC(s.channel,0)){s=null;q=[7,1]}if(s)e.r6(s);var f4=new eN(q,this);
f4.data={q:"changesel",e:s,_a:eH,avt:eP,aqH:c2,eY:bL,azd:dg};G.vU(f4);this.uF(f4.data,G)};E.pC.aaI=function(b,h,G,H){var B=b.R[b.T[0]],j=B.rect,s=B.buffer,q=j.j,Q=j._,a=[0,0,q-1,0,0,Q-1,q-1,Q-1],l=!0;
for(var Y=0;Y<4;Y+=2){var U=(a[Y+1]*q+a[Y])*4,N=0;for(var R=0;R<3;R++){N+=(s[R]-s[U+R])*(s[R]-s[U+R])}if(N>25)l=!1}if(l&&B.Y1()==null&&b.e==null){var S=e.U(q*Q);
for(var Y=0;Y<4;Y++){var g=a[Y*2],i=a[Y*2+1],y=20,o=1,v=null;if(S[i*q+g]>200)continue;while(y<120){var Z=E.Oz.pH(s,j,new cJ(g,i),null,[y,!0,!0]),W=0;
for(var R=0;R<Z.length;R++)W+=Z[R];var d=y<50?1.015:1.004;if(v&&W>o*d)break;v=Z;o=W;y+=10}for(var R=0;
R<v.length;R++)S[R]=Math.max(S[R],v[R])}e.Q6(S);E.pC.aE5(B,h,S,j,G.P,null);alert(dX.Lm("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};E.pC.aCB=function(){var b=this[0],h=this[1],G=this[2],H=this[3],B=2,j=b.R[b.T[0]],s=j.rect,q=j.buffer,Q=1,a=[4096,4096,2048][B],g="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)9663.*$\"{OSVHlk=jg_\\,XSSQOxC =o;596djbT$P trspm;kbNUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(s.j,s._)>a){var l=e.hd(q,s);s=l.rect;q=l.Ur;Q*=2}var U=aT.JR("png"),N=aT.JR("jpg"),R=N.kf([[q.buffer]],s.j,s._),S=new FormData,s=new XMLHttpRequest;
S.append("image",new Blob([R],{type:"ima"+"ge/j"+"pg"}));g=JSON.parse(dX.Lm(g));if(B==1){if(H.zZ.a4N)g[2]=H.zZ.a4N;
s.open("POST",g[0]);s.setRequestHeader(g[1],g[2]);s.setRequestHeader(g[3],g[4])}if(B==2){s.open("POST",dX.Lm("W`]VVykh8D:[/-?).I{% >~nsrvb'YUTYRZTWM@"));
s.responseType="arraybuffer";var i=dX.Lm("31C-2llrwjrslkTQOPLVHP@L?4A.,.*'4|.zs\"|zns`amgdXPOGJCOML8;65=&'1.!(sp#pzducmak");
if(H.zZ.$l)i=H.zZ.$l;s.setRequestHeader(dX.Lm("Gx-K]GLf\"9J"),i);S.append("mode","mask")}window.apO=Date.now();
s.send(S);alert(bp.get([23,5])+" ...",3e3);s.onload=function(y){console.log(Date.now()-window.apO);var o=y.target.response;
if(typeof o=="string"){var v=JSON.parse(o);if(v.message){alert(v.message);return}var Z=v.results[0].entities[0].image;
o=aT.yd(Z)}var Z=U.ho(o)[0],W=Z.jD,d=e.U(W.X());e.Rt(new Uint8Array(Z.data),d);for(var Y=0;Y<d.length;
Y++){if(d[Y]>250)d[Y]=255}if(Q!=1){var l=E.Y.pJ([d,W],new eq(Q,0,0,Q,0,0));W=l.rect;d=l.channel}W.x=j.rect.x;
W.y=j.rect.y;E.pC.aE5(j,h,d,W,G.P,g[5]);if(H.zZ.$l==null){fH.event("re"+"mbg_Rem"+"ove B"+"G:  "+(fH.RW()?"Pre"+"mium":"Free"));
window.locStor.setItem("bgrmt",Date.now())}}};E.pC.aE5=function(b,h,G,H,B,j){var s=new hb(w.E.r,!0);
if(B==1){s.S=E.nc;s.data={q:C.k5,f0:j,aaZ:!0};h.Q(s);var q=b.Y1();q.color=0;q.rect=H;q.channel=G;q.r6();
b.vw()}else if(B==2){s.S=E.Bi;s.data={q:"setsel",e:{channel:G,rect:H},VH:"Select Subject"};h.Q(s)}else throw"e"};
E.pC.ai2=function(b){var h=0;if(b.ql.length!=0)h=-5-b.ql[0];else if(JSON.stringify(b.s.M)=="[1,1,1]")h=-1;
else h=-2-b.s.M.indexOf(1);return h};E.pC.adG=function(b,h){var G,H=new io(0,0,b.j,b._);if(-5<h&h<0){var B=-h-1,j=b.Nw(),s=e.U(H.X());
if(B==0)e.Rt(j,s);else e.uA(j,s,B-1);G={channel:s,rect:H.clone()}}if(h<-4){G=E.pC.a0P(b.$B[-h-5],H)}return G};
E.pC.a0P=function(b,h){var G,H;if(b.an()==0){H=b.Ki().clone();if(H.X()==0)return;G=b.H5()}else{H=h;G=e.U(H.X());
b.tn(H,G)}return{channel:G,rect:H}};E.pC.prototype.xX=function(b){return this.Xi||b.mN&&this.id!=E.mY};
E.pC.prototype.GK=function(b,h,G){var H=new hb(h,!0);H.data=G;b.Q(H)};E.pC.prototype.a74=function(b,h){var G=new hb(w.E.b,!0);
G.data={q:w.p.dm,ji:h};b.Q(G)};E.pC.prototype.Ki=function(b,h,G){h=b.e==null||this.M6.xf(1)||this.M6.bo(1)?h:null;
var H=this.dp,B=this.EA;if(G){H.x=Math.max(0,Math.min(b.j,H.x));H.y=Math.max(0,Math.min(b._,H.y));B.x=Math.max(0,Math.min(b.j,B.x));
B.y=Math.max(0,Math.min(b._,B.y))}var j=E.kQ.s3(H,B,h,!0,this.U6.cstr),s=j[0].x,q=j[0].y,Q=new io(s,q,j[1].x-s,j[1].y-q);
if(G){Q.x=Math.max(Q.x,0);Q.y=Math.max(Q.y,0)}return Q};E.pC.prototype.Ay=function(b,h,G,H,B){this.jW=!0;
if(this.sE())return;this.KB=h;this.Aa=!1;this.M6.Ay(H);this.dp=b.s.Fj(B.x,B.y);this.dp=E.uW.HV(b,this.dp,G);
if(this.a63(b,this.dp,H)){this.Xi=!0;this.QN=b.e.rect.clone();return}this._M(b,G,H,B);b.s.zq=new io};
E.pC.prototype.a63=function(b,h,G){var H=G.W(ap.J3),B=G.W(ap.p0);if(b.e&&!H&&!B&&this.U6.binop==0)return e.cE(h,b.e.channel,b.e.rect);
return!1};E.pC.prototype.Jl=function(b,h,G,H,B){this.KB=h;if(this.Id)return;var j=b.s.Fj(B.x,B.y);if(cJ.o0(this.dp,j)*b.s.D>5){this.Aa=!0;
this.M6.Jl()}if(H.W(ap.Jn)){if(this.RC==null)this.RC=new cJ(j.x-this.dp.x,j.y-this.dp.y);this.dp.x=j.x-this.RC.x;
this.dp.y=j.y-this.RC.y}else this.RC=null;this.EA=j;if(!this.Xi&&this.id!=E.mY)this.EA=E.uW.HV(b,this.EA,G);
if(this.a63(b,this.EA,H))this.a74(h,"move");else this.a74(h,this.xT);if(this.Xi){var s=this.QN.clone();
s.x+=this.EA.x-this.dp.x;s.y+=this.EA.y-this.dp.y;var q=E.uW.VP(b,s,G);b.e.rect.x=Math.round(this.EA.x-this.dp.x+this.QN.x+q[0]);
b.e.rect.y=Math.round(this.EA.y-this.dp.y+this.QN.y+q[1]);b.nh=!0;E.uW.jy(b,s,q);return}this.wv(b,G,H,B,h);
if(b.s.zq)b.s.zq=this.Ki(b,H)};E.pC.prototype.sE=function(){return!1};E.pC.prototype.dq=function(b,h,G,H,B,j){var s=this.jW;
this.jW=!1;if(j||!s)return;b.s.zq=null;this.EA=b.s.Fj(B.x,B.y);this.EA=E.uW.HV(b,this.EA,G);if(this.Xi){this.Xi=!1;
if(b!=null&&b.A.VE){b.A.VE=null;b.qV=!0}if(this.EA.TW(this.dp)&&this.mn()==0){this.GK(h,w.E.IK,E.pC.V$());
return}this.a5N(b,this.QN,b.e.rect.clone());return}this.om(b,G,H,B,h);E.pC.apg(h,G);this.M6.dq();this.vx(h)};
E.pC.prototype.a5N=function(b,h,G){var H=b.vc();if(H!=null&&H.S==this&&H.data.q=="movesel"){}else{H=new eN([7,7],this);
H.data={q:"movesel",wb:h};b.vU(H)}H.data.H3=G;this.uF(H.data,b)};E.pC.prototype.Pf=function(b,h,G,H,B){this.Id=!0};
E.pC.prototype.Of=function(b,h,G,H,B){var j=new hb(w.E.b,!0);j.data={q:w.p.XM,S:this.id,FC:B,FK:b,sV:G};
h.Q(j);this.Id=!1};E.pC.prototype.Z1=function(b,h,G,H){this.M6.Z1(H);if(b!=null&&b.e!=null){var B=H.in();
if(B.x!=0||B.y!=0){var j=b.e.rect.clone();j.x+=B.x;j.y+=B.y;this.a5N(b,b.e.rect.clone(),j)}}this.vx(h)};
E.pC.prototype.vx=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.XM,S:this.id,ux:this.mn()};b.Q(h)};
E.pC.prototype.mn=function(){var b=this.M6.xf(0),h=this.M6.bo(0);return E.pC.oY(this.U6.binop,b,h)};
E.pC.oY=function(b,h,G){if(h)b=1;if(G)b=2;if(h&&G)b=3;return b};E.pC.prototype.finish=function(b,h,G,H){var B=b.e,j=this.getSelection(b,h,G,H);
if(j==null)j=E.pC.V$();else{var s=this.U6.feat,q=this.mn();if(s!=0)j.yo.Fthr={t:"UntF",v:{type:"#Pxl",val:s}};
if(q!=0&&q!=4)j.f6=["","addTo","subtractFrom","interfaceWhite",""][q]}this.GK(this.KB,w.E.IK,j);this.dp.ve(-1,-1);
this.EA.ve(-1,-1)};E.pC.prototype.getSelection=function(b,h,G,H){return null};E.pC.prototype._M=function(b,h,G,H){};
E.pC.prototype.wv=function(b,h,G,H){};E.pC.prototype.om=function(b,h,G,H){};E.pC.prototype.sv=function(b,h){var G=b.q;
if(G=="changesel"){var H=h.e;h.e=b.e;b.e=H}if(G=="movesel")h.e.rect=b.wb;if(b._a){if(b.avt){h.ql=[h.$B.length];
h.$B.push(b.avt)}else{h.$B.pop();h.ql=[]}}if(b.eY){h.xe=JSON.parse(b.eY[0]);h.mS=JSON.parse(b.eY[1])}h.nh=!0};
E.pC.prototype.uF=function(b,h){var G=b.q;if(G=="changesel"){var H=h.e;h.e=b.e;b.e=H}if(G=="movesel")h.e.rect=b.H3;
if(b._a){if(b.aqH){h.ql=[h.$B.length];h.$B.push(b.aqH)}else{h.$B.pop();h.ql=[]}}if(b.eY){h.xe=JSON.parse(b.azd[0]);
h.mS=JSON.parse(b.azd[1])}h.nh=!0};E.pC.prototype.Aj=function(b){return b.q=="changesel"&&b.e?b.e.channel.length:0};
E.pC.prototype.Fy=function(b){for(var h in b.U6)this.U6[h]=b.U6[h]};E.pC.prototype.apG=function(b){var h=e.N.sm(b.m);
if(h.Zx())return null;var G=e.tM(h.j,h._);G.save();G.beginPath();G.translate(-h.x,-h.y);Typr.U.pathToContext({cmds:b.Gc,crds:b.m},G);
G.closePath();G.fill();G.restore();var H=e.U(h.X()),B=G.getImageData(0,0,h.j,h._);e.uA(B.data,H,3);return{rect:h,channel:H}};
E.pC.afu=function(b,h,G,H,B){if(G)h=Math.round(h*.7);var j=Math.ceil(2.6*h),s=b.rect.clone();s.Mx(j,j);
if(H&&!B)s=s.D4(H);var q=e.U(s.X()),Q=e.U(q.length);e.wX(b.channel,b.rect,Q,s);e.Zt.QE(Q,q,s,h);if(G){var a=q.length;
for(var Y=0;Y<a;Y++){var l=(q[Y]-128)*h*2.5;q[Y]=Math.max(0,Math.min(255,Math.round(128+l)))}}return{channel:q,rect:s}};
E.pC.a9K=function(b,h,G){var H=Math.max(1,Math.ceil(G)),B=b.rect.clone();B.Mx(H,H);var j=B.X(),s={channel:e.U(j),rect:B},q=e.U(j);
e.wX(b.channel,b.rect,q,s.rect);if(G!=0)e.style.stroke(q,s.channel,s.rect,G);else e.MI(q,s.channel);
var Q=e.U(j);e.Q6(q);if(h!=0)e.style.stroke(q,Q,s.rect,h);else e.MI(q,Q);e.ym.D4(s.channel,Q,s.channel);
return s};E.pC.Qk=function(b,h,G,H,B){var j=new io(0,0,b.j,b._),s=b.Nw();if(b.e){var q=b.e.rect.D4(j),Q=e.U(q.X()*4);
e.JE(s,j,Q,q);j=q;s=Q}var a=j.X(),l=e.U(a),U=1/H;if(B){if(h>=G)h=G-1;var N=h*(1-H),R=h,S=G,g=G+(255-G)*H,i=N==R?0:1/(R-N),y=S==g?0:1/(g-S);
for(var Y=0;Y<a;Y++){var o=Y<<2,v=e.ZK(s[o],s[o+1],s[o+2]),Z=0;if(v<N)Z=0;else if(v<R)Z=(v-N)*i;else if(v<=S)Z=1;
else if(v<=g)Z=1-(v-S)*y;else Z=0;l[Y]=s[o+3]*Z*Z}}else for(var Y=0;Y<a;Y++){var o=Y<<2,W=e.ec(s[o],s[o+1],s[o+2]),Z=e.aw7(W,h,G,H,U);
l[Y]=s[o+3]*Z}return{rect:j,channel:l}};E.kE=function(){E.Qb.call(this,[10,18],E.PE,"tools/blur");this.gr="copy"};
E.kE.prototype=new E.Qb;E.kE.prototype.Ay=function(b,h,G,H,B){var j=H.W(ap.p0)?ft.oI:ft.PE;this.WV(b,G,H,B,this.U6.strn,j);
if(this.Aw==null)return;this.C2(b)};E.kE.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.b7=function(){E.Qb.call(this,[10,0],E.pp,"tools/brush");
this.gr="draw"};E.b7.prototype=new E.Qb;E.b7.prototype.Ay=function(b,h,G,H,B){if(this.R3(b,h,G,H,B,!0))return;
this.WV(b,G,H,B,this.U6.flow);if(this.Aw==null)return;this.C2(b)};E.b7.prototype.Jl=function(b,h,G,H,B){if(this.R3(b,h,G,H,B))return;
this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};
E.$E=function(){E.Qb.call(this,[10,42],E.q4,"tools/crepl");this.gr="idraw";this.U6.bmode="hue "};E.$E.prototype=new E.Qb;
E.$E.prototype.Ay=function(b,h,G,H,B){if(this.R3(b,h,G,H,B,!0))return;this.WV(b,G,H,B,this.U6.flow);
if(this.Aw==null)return;this.C2(b)};E.$E.prototype.Jl=function(b,h,G,H,B){if(this.R3(b,h,G,H,B))return;
this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};
E.wE=function(){E.Qb.call(this,[10,43],E.$a,"tools/redeye");this.U6.smode=0;this.gr="redeye"};E.wE.prototype=new E.Qb;
E.wE.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,this.U6.flow);if(this.Aw==null)return;this.C2(b)};
E.wE.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;
if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.zl=function(){E.Qb.call(this,[10,38],E.ln,"tools/pencil");
this.gr="draw"};E.zl.prototype=new E.Qb;E.zl.prototype.Ay=function(b,h,G,H,B){if(this.R3(b,h,G,H,B,!0))return;
this.WV(b,G,H,B,this.U6.flow);if(this.Aw==null)return;this.C2(b)};E.zl.prototype.Jl=function(b,h,G,H,B){if(this.R3(b,h,G,H,B))return;
this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};
E.DK=function(){E.Qb.call(this,[10,22],E.NV,"tools/burn");this.gr="burn"};E.DK.prototype=new E.Qb;E.DK.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,this.U6.expo/Math.E);
if(this.Aw==null)return;this.C2(b)};E.DK.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.AZ=function(b,h,G){E.Qb.call(this,b==""?null:b?b:[10,1],h?h:E.Mi,G?G:"tools/clone");
this.gr="clone";this.s$=null;this.f=null};E.AZ.prototype=new E.Qb;E.AZ.prototype.Ay=function(b,h,G,H,B){var j=this.U6,s=j.alt[0];
if(H.W(ap.p0)||H.W(ap.zf)||s){this.s$=b.s.Fj(B.x,B.y);this.f=null;if(s)this.Bv({alt:[!1]},h);this.Ir(b);
this.tf(G,H,b,B);return}if(this.s$==null){alert(bp.get([15,7,0]));return}this.tf(G,H);this.WV(b,G,H,B,this.U6.flow);
if(this.Aw==null)return;this.f=this.ax6(b.s.Fj(B.x,B.y));this.C2(b)};E.AZ.prototype.ax6=function(b){var h=this.f;
if(h==null||!this.U6.algnd)h=new cJ(Math.round(b.x-this.s$.x),Math.round(b.y-this.s$.y));return h};E.AZ.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);
if(this.Df)this.o7(b,G,B);if(this.Aw==null){if(this.s$!=null)this.tf(G,H,b,B);return}if(!B.mN||this.s$==null)return;
this.HW(b,G,H,B);this.C2(b)};E.AZ.prototype.z1=function(){return this.f};E.NB=function(){E.af.call(this,[10,53],E.asQ,"tools/csamp");
this.Z3=-1;this.$e=null};E.NB.prototype=new E.af;E.NB.prototype.Ay=function(b,h,G,H,B){this.$e=JSON.stringify(b.Gn);
var j=b.s.Fj(B.x,B.y),s=b.Gn,q=1e9,Q=-1;for(var Y=0;Y<s.length;Y++){var a=s[Y],l=j.x-a.x,U=j.y-a.y,N=l*l+U*U;
if(N<q){q=N;Q=Y}}var R=15/b.s.D;Q=q<R*R?Q:-1;if(Q==-1){Q=s.length;s.push({x:j.x,y:j.y})}else if(H.W(ap.p0)){s.splice(Q,1);
Q=-1}this.Z3=Q;b.qV=!0};E.NB.prototype.Jl=function(b,h,G,H,B){var j=this.Z3;if(j!=-1){var s=b.s.Fj(B.x,B.y);
b.Gn[j].x=s.x;b.Gn[j].y=s.y;b.qV=!0}};E.NB.prototype.dq=function(b,h,G,H,B,j){var s=new eN(this.name,this);
s.data={Wy:this.$e,bq:JSON.stringify(b.Gn)};b.vU(s);this.Z3=-1};E.NB.prototype.sv=function(b,h){h.Gn=JSON.parse(b.Wy)};
E.NB.prototype.uF=function(b,h){h.Gn=JSON.parse(b.bq)};E.w8=function(b,h,G){E.af.call(this,b,h,G);this.rE={cd:{$G:0,x:0,y:0},IF:!1,Rn:!1};
this.O$=!1;this.VB=null;this.cursor=null;this.a9a=0;this.Zn=null;this.dp=null;this.T6=null;this.tU=!1};
E.w8.prototype=new E.af;E.w8.prototype.W1=function(){return this.VB!=null};E.w8.prototype.xX=function(b){return this.dp!=null||this.VB&&this.VB.aet()};
E.w8.prototype.Ay=function(b,h,G,H,B){this.Zn=B;var j=b.s.Fj(B.x,B.y),s=this.rE.cd,q=s.$G!=0?s.x/s.y:null,Q=this.tU;
this.tU=!1;if(this.VB){var a=this.VB.qc(j,b.s.D);if(Q&&a==null){this.VB.clear(b);this.VB=null}else{this.VB.Ay(b,G,H,j,q,!1,B);
return}}this.dp=E.uW.HV(b,j,G)};E.w8.prototype.$o=function(b,h,G){if(G==null)G=[b.x,b.y,b.x+b.j,b.y,b.x+b.j,b.y+b._,b.x,b.y+b._];
return new eR(G,!0,!1,this.id==E.nS,!0,h,this.id==E.nS?2:0,this.id==E.nS?4:3)};E.w8.prototype.tf=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.dm,ji:this.cursor};b.Q(h)};E.w8.prototype.enable=function(b,h,G,H){this.KB=h;this.cursor="crosshair";
this.tf(h);if(b!=null&&this.VB==null){var B=b.e?{$Y:"cropby",ah_:3}:{$Y:"config",rE:this.rE,aer:!0};
this.Fy(B,h,b,H,G);if(b.e==null&&this.rE.cd.$G==0)this.tU=!0}};E.w8.prototype.Jl=function(b,h,G,H,B){this.Zn=B;
var j=b.s.Fj(B.x,B.y);if(!B.mN){var s="crosshair";if(this.VB){var q=this.VB.qc(j,b.s.D,null,B);if(q)s=q;
else s="default"}if(s!=this.cursor){this.cursor=s;this.tf(h)}}if(this.VB)this.VB.Jl(b,G,H,j);else if(this.dp){if(this.O$){b.A.wY={Gc:["M","L"],m:[this.dp.x,this.dp.y,j.x,j.y]}}else{var Q=E.kQ.s3(this.dp,E.uW.HV(b,j,G),H,!0,this.rE.cd),a=Q[0].x,l=Q[0].y,U=this.T6=new io(a,l,Q[1].x-a,Q[1].y-l);
b.A.wY=e.N.Q0(U);E.af.Sk(B,U,b,G)}b.qV=!0}};E.w8.amL=function(b,h,G){var H,B,q,Q;if(h<=G){H=h;B=G}else{H=G;
B=h}var j=b-Math.floor((b+Math.PI)/(2*Math.PI))*2*Math.PI;j=Math.abs(j);if(j>Math.PI/2)j=Math.PI-j;var s=H/(B*Math.sin(j)+H*Math.cos(j));
if(h<=G){q=H*s;Q=B*s}else{q=B*s;Q=H*s}return{Ps:q,CN:Q}};E.w8.prototype.dq=function(b,h,G,H,B){this.Zn=B;
var j=b.s.Fj(B.x,B.y);if(this.VB==null){var s=this.T6;if(this.dp&&(s||this.O$)){if(this.O$){var q=this.dp,Q=j,a=Q.x-q.x,l=Q.y-q.y;
if(Math.abs(a)<Math.abs(l))Q=new cJ(q.x-l,q.y+a);if(q.x>Q.x){var U=q;q=Q;Q=U}var q=Math.atan2(-(Q.y-q.y),Q.x-q.x),N=E.w8.amL(q,b.j,b._);
if(this.rE.Rn){var R=e.N.Q0(new io(0,0,b.j,b._)),S=new eq;S.rotate(q);e.N.h(R.m,S,R.m);N=e.N.sm(R.m);
N={Ps:N.j,CN:N._}}var g=[0,0,N.Ps,0,N.Ps,N.CN,0,N.CN],i=new eq;i.translate(-N.Ps/2,-N.CN/2);i.rotate(q);
i.translate(b.j/2,b._/2);e.N.h(g,i,g);this.VB=this.$o(s,!1,g);this.O$=!1}else{var y=this.rE.cd;this.VB=this.$o(s,y.$G!=0)}this.VB.XU(b,G);
this.T6=null;this.GK(h,w.E.b,{q:w.p.XM,S:this.id,rp:!0});this.dp=null;b.A.sn=[];b.A.wY=null;b.qV=!0}return}this.VB.dq(b,G,H,j);
this.GK(h,w.E.b,{q:w.p.XM,S:this.id,rp:!0});var g=this.VB.eF();if(Math.abs(g[0]-g[4])<2&&Math.abs(g[1]-g[5])<2){this.oE(b,h,null,H);
return}if(Date.now()-this.a9a<200&&this.VB.eB(j)){this.gQ(b,G);this.oE(b,h,G,H);return}this.a9a=Date.now()};
E.w8.prototype.Z1=function(b,h,G,H){var B=this.VB;if(B==null||this.Zn&&this.Zn.mN)return;if(H.W(ap.pr)){this.gQ(b,G);
this.oE(b,h,G,H)}else if(H.W(ap.Ac)){this.oE(b,h,G,H)}else B.Z1(b,G,H)};E.w8.alT=function(b,h,G){var H={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:b[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:b[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:b[1]+b[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:b[0]+b[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:h!=null?h:0}},Dlt:{t:"bool",v:G!=null?G:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{f6:"crop",yo:H}};E.w8.EF=function(b,h){if(h==null)h=[!0,!0,!0,!0];var G={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][b]}}},H=["Top","Left","Btom","Rght"];
for(var Y=0;Y<4;Y++)G[H[Y]]={t:"bool",v:h[Y]};return{f6:"trim",yo:G}};E.w8.NW=function(b,h,G,H,B){var j={classID:"null"};
if(H!=null){j.Wdth={t:"UntF",v:B?{type:"#Prc",val:b*100}:{type:"#Pxl",val:b}};j.Hght={t:"UntF",v:B?{type:"#Prc",val:h*100}:{type:"#Pxl",val:h}};
j.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][H]}}}if(G!=null)j.Rslt={t:"UntF",v:{type:"#Rsl",val:G}};
return{f6:"imageSize",yo:j}};E.w8.adn=function(b,h,G,H){if(G==null)G=4;if(H==null)H=!1;var B=Math.floor(G/3),j=G%3;
return{f6:"canvasSize",yo:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:b}},Hght:{t:"UntF",v:{type:"#Pxl",val:h}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][j]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}},Rltv:{t:"bool",v:H}}}};
E.w8.prototype.Jd=function(b,h,G,H,B){var j=new io(0,0,G.j,G._),s=[11,3],q=G.O4,Q=G.j/2,a=G._/2,cb=1,dV,ix,b9;
function l(dg,Y){return dg[Y]+2*dg[Y+1]+dg[Y+2]>>>2}if(b.q=="cropAndStr"){var U=G.R[G.T[0]],N=U.buffer,R=U.rect,S=R.j,g=R._,i=S+2,y=[0,0,S-1,0,S-1,g-1,0,g-1],o,v=1e9,X=0;
for(var Y=0;Y<4;Y++)for(var Z=Y+1;Z<4;Z++){var W=y[2*Y],d=y[2*Y+1],$=(d*S+W)*4,I=(y[2*Z+1]*S+y[2*Z])*4,k=N[$]-N[I],_=N[$+1]-N[I+1],D=N[$+2]-N[I+2],A=k*k+_*_+D*D;
if(A<v){v=A;o=new cJ(W+.5,d+.5)}}var F=Date.now(),K=E.Oz.pH(U.buffer,R,o,null,[16,!1,!0]);e.Q6(K);var V=R.clone();
V.Mx(1,1);var r=e.U(V.X());e.wX(K,R,r,V);var c=r.slice(0);for(var d=0;d<g;d++)for(var W=0;W<S;W++){var Z=d*S+W;
if(K[Z]==255&&l(N,Z*4)>200){var Y=(d+1)*i+W+1;r[Y]=c[Y-i]&c[Y-1]&c[Y+1]&c[Y+i]}}var x=e.N.yS(r,V.j,V._,0),M=new hb(w.E.b,!0);
M.data={q:w.p.zX};var F=Date.now();for(var f=0;f<x.length;f++){var t=x[f].path.m;if(x[f].rc.X()<2500)continue;
var n=e.N.aw2(t,X==3);for(var Y=0;Y<n.length;Y++)n[Y]-=1;var L=new cJ(n[0],n[1]),P=Math.ceil(cJ.o0(L,new cJ(n[2],n[3]))),z=Math.ceil(cJ.o0(L,new cJ(n[6],n[7]))),T=new io(0,0,P,z),p=e.U(T.X()*4),t=e.t.Kt(n,new io(-1,-1,P+2,z+2));
t=e.t.Q6(t);t=e.t.Z$(t,e.t.UE(new eq(R.j,0,0,R._,R.x,R.y)));e.t.drawImage(t,U.buffer,R.j,R._,p,T);X++;
var m=M.data.tR=new cj("Image "+X+".psd");m.j=P;m._=z;var O=m.Cx();O.cb("Background");O.buffer=p;O.rect=T;
m.R.push(O);h.Q(M)}return}if(b.q=="fromAction"){var cX=b.E7,e$=cX.f6,fz=cX.yo,eC=G.j/G._,i=fz.Wdth?fz.Wdth.v.val:-1,hw=fz.Hght?fz.Hght.v.val:-1,q=fz.Rslt?fz.Rslt.v.val:null,az=fz.Wdth?fz.Wdth.v.type:fz.Hght?fz.Hght.v.type:-1,av=1,ia;
if(az=="#Prc"){if(i!=-1)i=Math.round(G.j*i/100);if(hw!=-1)hw=Math.round(G._*hw/100)}if(e$=="imageSize"){if(fz.Intr){if(fz.Intr.v.Intp=="Nrst")av=0;
if(fz.Intr.v.Intp=="bicubicSharper")av=2;if(i==-1&&hw==-1){var iJ=q/G.O4;i=Math.round(G.j*iJ);hw=Math.round(G._*iJ)}if(fz.CnsP&&fz.CnsP.v){if(i==-1)i=Math.round(hw*eC);
if(hw==-1)hw=Math.round(i/eC)}}else{if(az=="#Prc")q=Math.round(G.O4*(G.j/i));else if(az==-1)q=Math.round(q);
else throw"e";i=G.j;hw=G._}ia={q:"imgsize",h9:i,ET:hw,Lt:q,jw:av}}else if(e$=="canvasSize"){if(i==-1)i=G.j;
if(hw==-1)hw=G._;if(fz.Rltv&&fz.Rltv.v==!0){if(fz.Wdth)i+=G.j;if(fz.Hght)hw+=G._}var cx=fz.Vrtc?fz.Vrtc.v.VrtL:"Cntr",hP=fz.Hrzn?fz.Hrzn.v.HrzL:"Cntr";
ia={q:"canvsize",h9:i,ET:hw,ok:3*["Top","Cntr","Btom"].indexOf(cx)+["Left","Cntr","Rght"].indexOf(hP)}}else if(e$=="revealAll"){ia={q:"revealAll"}}else if(e$=="trim"){var iS={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[fz.trimBasedOn.v.trimBasedOn];
if(iS==null)throw"e";var e4=["Top","Left","Btom","Rght"],cc=[!0,!0,!0,!0];for(var Y=0;Y<4;Y++)if(fz[e4[Y]])cc[Y]=fz[e4[Y]].v;
ia={q:"trim",aDG:iS,pO:cc}}else if(e$=="crop"){var W,d,S,g;if(fz.T){var aO=fz.T.v,W=Math.round(aO.Left.v.val),d=Math.round(aO.Top.v.val),S=Math.round(aO.Rght.v.val)-W,g=Math.round(aO.Btom.v.val)-d}else{var R=G.e.rect;
W=R.x;d=R.y;S=R.j;g=R._}ia={q:"canvsize",h9:S,ET:g,f:new cJ(W,d),arf:fz.Dlt!=null&&fz.Dlt.v}}else console.log(cX);
if(ia)this.Jd(ia,h,G,H,B);return}else if(b.q=="imgsize"){j=new io(0,0,b.h9,b.ET);if(b.Lt)q=b.Lt;cb=b.jw}else if(b.q=="canvsize"){var bZ=b.ok!=null?b.ok:0;
j=new io(0,0,b.h9,b.ET);var d_=G.j-b.h9,ee=G._-b.ET,b4=Math.round(d_/2),hA=Math.round(ee/2);if(bZ==1||bZ==4||bZ==7)j.x=b4;
if(bZ==2||bZ==5||bZ==8)j.x=d_;if(bZ==3||bZ==4||bZ==5)j.y=hA;if(bZ==6||bZ==7||bZ==8)j.y=ee;if(b.f){j.x=b.f.x;
j.y=b.f.y}}else if(b.q=="rot"&&(b.P+2*Math.PI)%(Math.PI/2)!=0){var f$=e.N.Q0(j).m,e_=new eq;e_.translate(-Q,-a);
e_.rotate(b.P);e_.translate(Q,a);e.N.h(f$,e_,f$);j=e.N.sm(f$)}else if(b.q=="rot"&&b.P!=Math.PI&&b.P!=-Math.PI){j=new io(Q-G._/2,a-G.j/2,G._,G.j);
if((G.j+G._&1)==1){Q=Math.floor(Q);a=Math.floor(a);j=new io(Q-Math.floor(G._/2),a-Math.floor(G.j/2),G._,G.j);
if((G.j&1)==1&&b.P!=-Math.PI/2)j.y--;if((G._&1)==1&&b.P==-Math.PI/2)j.x--}}else if(b.q=="trim"){s=[11,12,0];
var fJ=G.Nw(),R=new io(0,0,G.j,G._);j=e.Qn(fJ,R,b.aDG,b.pO);if(j.Zx())j=R}else if(b.q=="revealAll"){s=[11,12,2];
j=G.root.Ki(G,!0)}var hV=b.q=="canvsize"&&b.arf;if(b.q=="imgsize"||b.q=="rot"||b.q=="scl"||hV){var gq=new eq;
if(b.q=="imgsize"){s=[11,10];gq.scale(b.h9/G.j,b.ET/G._);b9=G.Wb();for(var Y=0;Y<b9[0].length;Y++)b9[0][Y][1]*=b9[0][Y][0]==0?gq.G:gq.tW}else if(hV){}else{gq.translate(-Q,-a);
if(b.q=="rot")gq.rotate(b.P);if(b.q=="scl")gq.scale(b.P.x,b.P.y);gq.translate(Q,a);s=b.VH}ix=e.t.UE(gq);
dV=this.Ma(G,B,!0,ix,cb,hV?j:null)}else if(b.q=="auto-align"){if(G.T.length<2){alert("Select two or more layers.");
return}var eH=[];for(var Y=0;Y<G.T.length;Y++){var U=G.R[G.T[Y]];if(!U.P4()&&U.add.SoLd==null){alert("Unsupported layer selected.");
return}if(U.rect.Zx()){alert("Empty layer selected.");return}eH.push([U.buffer,U.rect])}var eP=e.pT.WQ(eH);
if(eP==null){alert("No similarity found.");return}ix=eP[1];dV=this.Ma(G,B,!1,eP,cb);j=G.root.Ki(G,!0);
s=[2,10,1]}var c2=new io(0,0,G.j,G._);if(!j.Zx()&&(!j.TW(c2)||dV!=null)){var bL=new eN(s,this);bL.data={agQ:G.O4,Lt:q,C_:dV,pI:ix,Nj:E.w8.abo(G,j,c2,dV!=null)};
if(b9){bL.data.aE=G.Wb();bL.data.KM=b9}E.w8.as_(G,bL.data,j);G.vU(bL);this.uF(bL.data,G)}};E.w8.abo=function(b,h,G,H){if(b.Rd.length==0)return null;
var B=JSON.stringify(b.Rd),j=JSON.parse(B);E.gt.a6N(j,h,G,H);j=JSON.stringify(j);return[B,j]};E.w8.prototype.Ma=function(b,h,G,H,B,j,s){var q={R:[],IO:null,oF:null};
if(G){for(var Y=0;Y<b.R.length;Y++)q.R.push(Y);for(var Y=0;Y<b.N6.length;Y++)q.R.push(-1-Y);for(var Y=0;
Y<b.$B.length;Y++)q.R.push(-1e3-Y)}else q.R=b.T.slice(0);q.IO=E.Y.J2(b,q.R,!0);var Q=Math.abs(H[3]*H[1])>1e-9;
E.Y.J6(b,h,q.R,q.IO,B,H,null,!0,Q?null:j);if(G&&s&&b.s5()){var a=b.R[b.T[0]],l=a.buffer,U=a.rect,N=Q?U.clone():j.clone(),R=e.U(N.X()*4),S=e.U(U.X());
e.uA(l,S,3);var g=e.U(N.X());e.wX(S,U,g,N);e.round(g,255);e.Q6(g);var i=e.$i.XS(l,U,g,R,N);if(i==0){a.rect=N;
a.buffer=R}}q.oF=E.Y.J2(b,q.R,!0);return q};E.w8.prototype.uF=function(b,h){if(b.Lt)h.O4=b.Lt;if(b.Nj)h.Rd=JSON.parse(b.Nj[1]);
if(b.C_){E.w8.RL(h,e.t.lt(b.pI));E.Y.iJ(h,b.C_.R,b.C_.oF);if(b.KM)h.VK(b.KM)}E.w8.Im(h,b)};E.w8.prototype.sv=function(b,h){if(b.agQ)h.O4=b.agQ;
if(b.Nj)h.Rd=JSON.parse(b.Nj[0]);E.w8.qR(h,b);if(b.xk)h.s.f.CX(b.xk);h.a8g();if(b.C_){var G=e.t.lt(b.pI).clone();
G.Q6();E.w8.RL(h,G);E.Y.iJ(h,b.C_.R,b.C_.IO);if(b.aE)h.VK(b.aE)}};E.w8.RL=function(b,h){for(var Y=0;
Y<b.R.length;Y++){var G=b.R[Y];if(G.add.artb==null)continue;var H=e.N.Q0(G.Ey()).m;e.N.h(H,h,H);var B=e.N.sm(H);
G.b8(B)}};E.w8.f$=function(b){var h=new io,G=0,H=b.root.children.length;for(var Y=0;Y<H;Y++){var B=b.root.children[Y].o;
if(B.add.artb==null)continue;h=h.gJ(B.Ey());G++}var j=new io(0,0,b.j,b._);if(!h.Zx()&&!j.TW(h))return h;
return null};E.w8.zy=function(b){var h=E.w8.f$(b);if(h)E.w8.IF(b,h,!0);return h};E.w8.IF=function(b,h,G){var H=b.j,B=b._,j=h.j,s=h._,q=h.x==0&&h.y==0;
if(q&&H==j&&B==s)return;b.j=j;b._=s;var Q=[];for(var Y=0;Y<b.R.length;Y++)Q.push(Y);if(!q)E.uW.a5(b,Q,null,-h.x,-h.y);
for(var Y=0;Y<b.R.length;Y++){b.R[Y].vw(b)}b.a8g();if(G){var a=b.s.f,l=b.s.D;a.x+=Math.round((h.x+(j-H)/2)*l);
a.y+=Math.round((h.y+(s-B)/2)*l)}else b.s.f.ve(0,0);if(b.e)b.e.rect.offset(-h.x,-h.y);var U=b.Wb();for(var N=0;
N<U[0].length;N++)if(U[1][N]==-1){var R=b.bE[N];R[1]-=R[0]==0?h.x:h.y}for(var Y=0;Y<b.$B.length;Y++)b.$B[Y].rect.offset(-h.x,-h.y)};
E.w8.prototype.Fy=function(b,h,G,H,B){if(b.$Y=="commit"){this.gQ(G,B);this.oE(G,h,null,H)}else if(b.$Y=="cancel"){this.oE(G,h,null,H)}var j=null,s=new io(0,0,G.j,G._),q=this.rE.cd;
if(b.$Y=="config"){this.rE=b.rE;q=this.rE.cd;if(G==null||!b.aer)return;j=s;if(q.$G==1){var Q=q.x/q.y;
if(j.j/Q<j._)j._=Math.round(j.j/Q);else j.j=Math.round(j._*Q)}if(q.$G==2){j.j=q.x;j._=q.y}j.x=Math.round((G.j-j.j)/2);
j.y=Math.round((G._-j._)/2)}if(b.$Y=="straighten"){alert("Draw a line in the image.");this.O$=!0}if(b.$Y=="cropby"){if(G==null)return;
var a=b.ah_,j;if(a==0)j=G.root.Ki(G,!0);if(a==1){if(G.T.length==0)alert("No layer is selected.");else{var l=G.root.DE(G.T[0]);
j=l.Ki(G,!0)}}if(a==2){if(G.T.length==0)alert("No layer is selected.");else{j=e.Qn(G.Nw(),s,0);if(j.Zx())j=s.clone()}}if(a==3){if(G.e!=null)j=G.e.rect;
else alert("There is no selection.")}if(a==4){j=new io(0,0,G.j,G._)}}if(j&&j.Zx())j=null;if(j!=null){this.VB=this.$o(j,q.$G!=0);
this.VB.XU(G,B);this.GK(h,w.E.b,{q:w.p.XM,S:this.id,rp:!0})}};E.w8.prototype.hk=function(b,h,G,H){this.GK(h,w.E.b,{q:w.p.XM,S:this.id,II:[b.j,b._]})};
E.w8.prototype.gQ=function(b,h){var G=this.VB.eF(),H=e.N.sm(G),B=this.am6(b,G),j=!1,s=this.rE,q=s.cd,Q=s.IF,a=q.x,l=q.y,R;
if(this.id==E.$b&&q.$G==2&&B.X()!=a*l){B=new io(B.x,B.y,a,l);j=!0}var U=e.t.Kt(G,B);U=e.t.Q6(U);var N=!e.t.mK(U),S=Math.abs(Math.atan2(U[3],U[0]))>1e-9,g=new io(0,0,b.j,b._);
if(S||N||j||Q||s.Rn)R=this.Ma(b,h,!0,U,1,H,s.Rn);if(!S&&!N&&!j&&B.TW(g))return;var i=new eN(this.name,this);
i.data={C_:R,pI:U,xk:b.s.f.clone(),Nj:E.w8.abo(b,B,g,!1)};E.w8.as_(b,i.data,B);b.vU(i);this.uF(i.data,b);
this.track(E.w8.alT([H.x,H.y,H.j,H._],null,Q))};E.w8.as_=function(b,h,G){if(G==null)return;h.wb=new io(0,0,b.j,b._);
h.H3=G};E.w8.Im=function(b,h){if(h.H3==null)return;E.w8.IF(b,h.H3)};E.w8.qR=function(b,h){if(h.H3==null)return;
var G=h.wb.clone();G.offset(-h.H3.x,-h.H3.y);E.w8.IF(b,G)};E.w8.prototype.am6=function(b,h){var G=e.t.Kt(h),H=e.t.mK(G),B=e.t.lt(G),j=B.Kv,s=B.d0,q=Math.atan2(B.J,B.G);
B.rotate(q);var Q=new io(j,s,B.G,B.tW);if(!H){function a(v,Y,Z){var W=v[Y]-v[Z],d=v[Y+1]-v[Z+1];return Math.sqrt(W*W+d*d)}var l=a(h,0,2),U=a(h,4,6),N=Math.max(l,U),R=a(h,2,4),S=a(h,6,0),g=Math.max(R,S),i=E.w8.d2(h,b.j/2,b._/2),y,o;
if(isNaN(i)||i==Infinity||i==-Infinity||Math.min(i,1/i)<.1)i=(l+U)/(R+S);if(N/g>i){y=N*1;o=y/i}else{o=g*1;
y=o*i}Q.j=y;Q._=o}Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);Q.j=Math.round(Q.j);Q._=Math.round(Q._);return Q};
E.w8.d2=function(b,h,G){var H=b[0]-h,B=b[1]-G,j=b[2]-h,s=b[3]-G,q=b[6]-h,Q=b[7]-G,a=b[4]-h,l=b[5]-G,U=((B-l)*q-(H-a)*Q+H*l-B*a)/((s-l)*q-(j-a)*Q+j*l-s*a),N=((B-l)*j-(H-a)*s+H*l-B*a)/((Q-l)*j-(q-a)*s+q*l-Q*a),R=-((N*Q-B)*(U*s-B)+(N*q-H)*(U*j-H))/((N-1)*(U-1));
function S(i){return i*i}var g=Math.sqrt((S(U-1)+S(U*s-B)/R+S(U*j-H)/R)/(S(N-1)+S(N*Q-B)/R+S(N*q-H)/R));
if(U==1&&N==1)g=Math.sqrt((S(s-B)+S(j-H))/(S(Q-B)+S(q-H)));return g};E.w8.prototype.oE=function(b,h,G,H){if(b==null)return;
if(this.VB)this.VB.clear(b);this.VB=null;this.GK(h,w.E.b,{q:w.p.XM,S:this.id,rp:!1})};E.w8.prototype.disable=function(b,h,G,H){if(this.VB)this.gQ(b,G);
this.oE(b,h,G,H)};E.w8.prototype.GK=function(b,h,G,H){var B=new hb(h,!0);B.data=G;if(H)B.S=H;b.Q(B)};
E.a6Z=function(){E.w8.call(this,[10,2],E.$b,"tools/rcrop")};E.a6Z.prototype=new E.w8;E.ag8=function(){E.w8.call(this,[10,39],E.nS,"tools/pcrop")};
E.ag8.prototype=new E.w8;E.hA=function(){E.Qb.call(this,[10,21],E.dI,"tools/dodge");this.gr="dodge"};
E.hA.prototype=new E.Qb;E.hA.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,this.U6.expo/Math.PI);
if(this.Aw==null)return;this.C2(b)};E.hA.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.QX=function(){E.Qb.call(this,[10,3],E.UA,"tools/eraser");
this.gr="erase"};E.QX.prototype=new E.Qb;E.QX.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,this.U6.flow);
if(this.Aw==null)return;this.C2(b)};E.QX.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;var j=this.HW(b,G,H,B);this.C2(b)};E.Ww=function(){E.Qb.call(this,[10,45],E.hL,"tools/beraser");
this.gr="ierase"};E.Ww.prototype=new E.Qb;E.Ww.prototype.Ay=function(b,h,G,H,B){if(this.R3(b,h,G,H,B,!0))return;
this.WV(b,G,H,B,this.U6.flow);if(this.Aw==null)return;this.C2(b)};E.Ww.prototype.Jl=function(b,h,G,H,B){if(this.R3(b,h,G,H,B))return;
this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};
E.rs=function(){E.pC.call(this,[10,15],E.Bi,"tools/rselect");this.xT="crosshair"};E.rs.prototype=new E.pC;
E.rs.prototype.wv=function(b,h,G,H){if(!H.mN||!this.Aa)return;var B=this.Ki(b,G,!0);b.A.wY=e.N.Q0(B);
b.qV=!0;E.af.Sk(H,B,b,h)};E.rs.prototype.om=function(b,h,G,H){b.A.wY=null;b.A.sn=[];b.qV=!0;this.finish(b,h,G,H)};
E.rs.prototype.getSelection=function(b,h,G,H){if(this.dp.TW(this.EA)||!this.Aa)return null;var B=this.Ki(b,G,!0);
if(B.Zx())return null;return E.pC.H8("Rctn",B,this.U6.anta)};E.J9=function(){E.pC.call(this,[10,4],E.ari,"tools/eselect");
this.xT="crosshair"};E.J9.prototype=new E.pC;E.J9.prototype.wv=function(b,h,G,H){if(!H.mN||!this.Aa)return;
var B=this.Ki(b,G);b.A.wY=E.J9.aap(B);b.qV=!0;E.af.Sk(H,B,b,h)};E.J9.prototype.om=function(b,h,G,H){b.A.wY=null;
b.A.sn=[];b.qV=!0;this.finish(b,h,G,H)};E.J9.prototype.getSelection=function(b,h,G,H){if(this.dp.TW(this.EA)||!this.Aa)return null;
var B=this.Ki(b,G);if(!B.XR(new io(0,0,b.j,b._)))return null;return E.pC.H8("Elps",B,this.U6.anta)};
E.J9.aap=function(b){var h=b.x,G=b.y,H=b.x+b.j,B=b.y+b._,j=(h+H)/2,s=(G+B)/2,q=(h-H)/2,Q=(G-B)/2,a=.5522848,l={m:[j,s-Q],Gc:["M","C","C","C","C"]};
l.m.push(j+a*q,s-Q,j+q,s-a*Q,j+q,s);l.m.push(j+q,s+a*Q,j+a*q,s+Q,j,s+Q);l.m.push(j-a*q,s+Q,j-q,s+a*Q,j-q,s);
l.m.push(j-q,s-a*Q,j-a*q,s-Q,j,s-Q);return l};E.NK=function(b){E.af.call(this,[10,5],b?E.d9:E.TQ,"tools/eyedropper");
this.Cm=null;this.ayK=!1;this.bn=0;this.G1=null;this.Pk=1;this.hQ=2;this.a2b=!0;this.X2=!1};E.NK.prototype=new E.af;
E.NK.prototype.xX=function(b){return b.mN};E.NK.prototype.enable=function(b,h,G,H,B){E.af.prototype.enable.call(this,b,h,G,H,B);
this.ayK=B};E.NK.prototype.Jd=function(b,h,G,H,B){if(b.q=="pickhere")this.qI(G,h,B,null,b.akm);if(b.q=="supertool")this.Cm=b.S};
E.NK.prototype.Ay=function(b,h,G,H,B){var j=this.Cm;if(j){j.Ay(b,h,G,H,B);return}this.bn=G.nU;this.G1=B;
var s=this.qI(b,null,G,H,B);this.tf(b,h,s,B)};E.NK.prototype.Jl=function(b,h,G,H,B){var j=this.Cm;if(j){j.Jl(b,h,G,H,B);
return}var s=this.G1;if(s){var q=B.x-s.x,Q=B.y-s.y,a=1,l=new cJ(s.x+q*a,s.y+Q*a),U=this.qI(b,null,G,H,l);
this.tf(b,h,U,l,new cJ(q*(1-a),Q*(1-a)))}};E.NK.prototype.tf=function(b,h,G,H,B){var j=this.a2b,s=this.X2;
if(b.s.D>4)s=!1;if(!s&&!j)return;var q=E.NK.a3g(b,s,j,H,B,G,this.bn,this.Pk),Q=new hb(w.E.b,!0);Q.data={q:w.p.dm,ji:q};
h.Q(Q)};E.NK.prototype.dq=function(b,h,G,H,B,j){var s=this.Cm;if(s){s.dq(b,h,G,H,B);return}this.qI(b,h,G,H,B);
if(this.G1){this.G1=null;if(j)this.qI(b,h,G,H,B,this.bn);var q=new hb(w.E.b,!0);q.data={q:w.p.dm,ji:"default"};
h.Q(q)}};E.NK.prototype.qI=function(b,h,G,H,B,j){if(j==null)j=E.NK.Yj(b,B,this.Pk,this.hQ);var s=new hb(w.E.b);
s.data={q:w.p.wP,CI:ec.KI,DF:!this.ayK&&H&&H.W(ap.p0)?1:0,P:j};if(h)h.Q(s);return j};E.NK.a3g=function(b,h,G,H,B,j,s,q){if(B==null)B=new cJ(0,0);
var Q=new io(0,0,b.j,b._),a=b.Nw(),l=12,U=11,N=(l*2+1)*U,R=new cJ(N/2,N/2),S=new io(0,0,N,N),g=e.U(S.X()*4),i=b.s.Fj(H.x,H.y),y=Math.floor(i.x),o=Math.floor(i.y),v=new eq;
v.scale(1/U,1/U);v.translate(y-l,o-l);if(h)e.scale.aBd(a,Q,v,g,S);var Z=(l-3.4)*U,W=(l-1.7)*U,d=l*U;
for(var $=0;$<N;$++)for(var I=0;I<N;I++){var k=cJ.o0(new cJ(I,$),R);if(k>Z){if(G){var _=Math.max(0,Z-k+1),D=($*N+I)*4,A=g[D+3]<<24|g[D]<<16|g[D+1]<<8|g[D+2],F=255<<24|($<d+U*.5?j:s);
if(k>W){_=Math.max(0,W-k+1);A=F;F=4286611584}else if(!h){A=F&16777215}g[D+0]=(1-_)*(F>>>16&255)+_*(A>>>16&255);
g[D+1]=(1-_)*(F>>>8&255)+_*(A>>>8&255);g[D+2]=(1-_)*(F>>>0&255)+_*(A>>>0&255);g[D+3]=(1-_)*(F>>>24&255)+_*(A>>>24&255)}if(k>d){g[($*N+I)*4+3]=Math.max(0,255*(d-k+1))}}}function K(Y){var O=Y<<2;
g[O]=0;g[O+1]=0;g[O+2]=0;g[O+3]=255}function V(Y){var O=Y<<2;g[O]=255;g[O+1]=255;g[O+2]=255;g[O+3]=255}var r=q*U+2,c=N-r>>>1,x=c+r-1;
if(h&&r<N)for(var Y=0;Y<r;Y++){var X=c*N+c+Y,M=x*N+c+Y,f=(c+Y)*N+c,t=(c+Y)*N+x;K(X);K(M);K(f);K(t);if(Y!=0&&Y!=r-1){V(X+N);
V(M-N);V(f+1);V(t-1)}}if(!h)for(var Y=-9;Y<=9;Y++){if(-3<Y&&Y<3)continue;var n=N>>>1,I=n*N+n+Y,$=(n+Y)*N+n;
V(I-N);K(I);V(I+N);V($-1);K($);V($+1)}var L=j>>>16&255,P=j>>>8&255,z=j>>>0&255,T="RGB "+L+","+P+","+z,p=e.M8([L/255,P/255,z/255]);
if(b.add.fcmy)T="CMYK "+p.map(function(O){return Math.round(O*100)}).join(",");var m=E.af.qE(0,0,["#"+e.Z0(j),T]),Q=m[1];
Q.y=0;Q.x=N-Q.j>>>1;e.JE(m[0],Q,g,S);return{jb:g,O2:S,WG:new cJ(R.x+B.x,R.y+B.y)}};E.NK.Yj=function(b,h,G,H,B){if(H==null)H=2;
var j=b.s.Fj(h.x,h.y),s,q,Q=b.T.length==1&&b.R[b.T[0]].nD>0&&B!=!0,a=b.ql.length!=0,W=0,d=0,$=0;if(Q||a){var l;
if(a)l=b.$B[b.ql[0]];else{var U=b.R[b.T[0]];l=U.nD==1?U.Y1():U.avK()}q=l.Ki();if(!q.G_(j))return l.color==0?0:16777215;
s=e.U(q.X()*4);s.fill(255);var N=l.H5();e.YP(N,s)}else if(H==0&&b.T.length!=0){var U=b.R[b.T[0]];s=U.buffer;
q=U.rect}else{s=H==2?b.Nw():b.Nw(b.T[0]);q=new io(0,0,b.j,b._)}var R=Math.floor(j.x)-q.x,S=Math.floor(j.y)-q.y,g=(G-1)/2,i=Math.max(0,R-g),y=Math.max(0,S-g),o=Math.min(q.j,R+g+1),v=Math.min(q._,S+g+1),Z=(o-i)*(v-y);
for(var R=i;R<o;R++)for(var S=y;S<v;S++){var Y=4*(S*q.j+R);W+=s[Y];d+=s[Y+1];$+=s[Y+2]}W=Math.round(W/Z);
d=Math.round(d/Z);$=Math.round($/Z);return W<<16|d<<8|$};E.NK.prototype.Fy=function(b){var h=b.U6;this.Pk=[1,3,5,11,31][h[0]];
this.hQ=h[1];this.a2b=h[2];this.X2=h[3]};E.Yk=function(){E.af.call(this,[10,6],E.RS,"tools/gradient");
this.U6=JSON.parse(dE.Qy[6]);this.U6.Grad=JSON.parse(dE.eI.ab$);this.t$=!1;this.x4=null;this.qz=null};
E.Yk.prototype=new E.af;E.Yk.prototype.enable=function(b,h,G,H){E.af.prototype.enable.call(this,b,h,G,H);
this.x4=b;if(this.t$)E.vM.T9(b)};E.Yk.prototype.hk=function(b,h,G,H){if(G.vu!=this.id)return;this.x4=b;
this.azy(b,h)};E.Yk.prototype.disable=function(b,h,G,H){this.x4=null;if(this.t$)E.vM.Ft(b)};E.Yk.prototype.azy=function(b,h){var G=E.vM.fa(b);
this.t$=G!=null;var H=new hb(w.E.b,!0);H.data={q:w.p.XM,S:this.id,CI:G?b.R[b.T[0]].add.GdFl:this.U6,n:this.t$};
h.Q(H);if(this.t$)E.vM.T9(b);else E.vM.Ft(b)};E.Yk.prototype.Fy=function(b){var h=this.x4;if(this.t$){var G=h.R[h.T[0]],H=G.add.GdFl;
if(H==null)return;this.MS=JSON.stringify(H);G.add.GdFl=b.CI;G.vw(h);h.c();E.vM.a6_(this,h);E.vM.T9(h)}else this.U6=b.CI};
E.Yk.prototype.Ay=function(b,h,G,H,B){if(this.t$){E.vM.prototype.Ay.call(this,b,h,G,H,B);return}if(!b.s5())return;
this.qz=E.uW.HV(b,b.s.Fj(B.x,B.y),G)};E.Yk.prototype.Jl=function(b,h,G,H,B){if(this.t$){E.vM.prototype.Jl.call(this,b,h,G,H,B);
return}if(!this.qz)return;var j=b.s.Fj(B.x,B.y);j=E.uW.HV(b,j,G);if(H.W(ap.J3))j=E.Yk.wk(this.qz,j);
b.A.wY={m:[this.qz.x,this.qz.y,j.x,j.y],Gc:["M","L"]};b.A.qA=[this.qz.x,this.qz.y,j.x,j.y];b.qV=!0};
E.Yk.prototype.dq=function(b,h,G,H,B){if(this.t$){E.vM.prototype.dq.call(this,b,h,G,H,B);return}if(!this.qz)return;
var j=b.R[b.T[0]],s=b.s.Fj(B.x,B.y);s=E.uW.HV(b,s,G);if(H.W(ap.J3))s=E.Yk.wk(this.qz,s);if(cJ.o0(this.qz,s)>2){var q;
if(b.e)q=b.e.rect;else q=new io(0,0,b.j,b._);var Q=e.U(q.X()*4),a=this.U6,l=a.Type.v.GrdT,U=a.Opct.v.val,N=this.qz;
if(l=="Lnr")N=new cJ((N.x+s.x)/2,(N.y+s.y)/2);e.F.wM(N,s,q,a);eQ.XL(a,Q,q,b,null,null,G.nU,G.W9);var R=Q.length,S=U/100;
if(U!=100)for(var Y=0;Y<R;Y+=4)Q[Y+3]=Math.round(Q[Y+3]*S);var g=new hb(w.E.r);g.S=E.UA;g.data={q:"fillBMP",FN:Q,Yn:aq.ah(a.Md.v.BlnM),VH:this.name};
h.Q(g)}b.A.wY=null;b.A.qA=[];b.qV=!0;this.qz=null};E.Yk.prototype.Jd=function(b,h,G,H,B){function j(U){U=U.v;
var N=U.Hrzn.v.val,R=U.Vrtc.v.val;return G.s.yF(N,R)}if(b.q=="fromAction"){var s=this.U6;this.U6=JSON.parse(JSON.stringify(s));
var q=b.E7.yo,Q=["Grad","Type","Opct","Dthr"];for(var Y=0;Y<Q.length;Y++)if(q[Q[Y]])this.U6[Q[Y]]=q[Q[Y]];
var a=j(q.From),l=j(q.T);this.Ay(G,h,B,H,a);this.dq(G,h,B,H,l);this.U6=s}};E.Yk.wk=function(b,h){if(b.TW(h))return b;
var G=h.x-b.x,H=h.y-b.y,B=Math.abs(G),j=Math.abs(H);if(B>j)j=B/2>j?0:B;if(j>B)B=j/2>B?0:j;B=G>0?B:-B;
j=H>0?j:-j;var s=Math.sqrt(G*G+H*H)/Math.sqrt(B*B+j*j);return new cJ(b.x+B*s,b.y+j*s)};E.Yk.DB=function(b,h,G,H,B,j,s){var q=new io(0,0,h,G),Q=e.U(h*G*4);
e.L0(Q,h,G,4);var a=Math.sin(H),l=Math.cos(H),U=e.U(h*G*4);e.F.qU(b,U,q,[l*1/h,a*1/h,-a*1/G,l*1/G],h/2,G/2,!1,0,B,j);
e.z.Nm("norm",U,q,Q,q,q,1);if(s)return new ImageData(new Uint8ClampedArray(Q.buffer),h,G);else return aT.Au(Q.buffer,h,G,null,null,!0)};
E.Yk.am$=function(b,h,G){var H=JSON.parse(JSON.stringify(b));if(H.Clrs)for(var Y=0;Y<H.Clrs.v.length;
Y++){var B=H.Clrs.v[Y].v,j=B.Type.v.Clry;if(j=="UsrS")continue;var s=j=="FrgC"?h:G;B.Type.v.Clry="UsrS";
B.Clr={t:"Objc",v:e.F.t1({$:s>>16&255,B:s>>8&255,J:s&255})}}return H};E.Yk.prototype.uF=function(b,h){E.vM.prototype.uF.call(this,b,h)};
E.Yk.prototype.sv=function(b,h){E.vM.prototype.sv.call(this,b,h)};E.vM=function(){E.af.call(this,"Vector Gradient",E.aFe,"tools/gradient");
this.v1=null;this.a4=null;this.bO=null;this.MS};E.vM.prototype=new E.af;E.vM.prototype.enable=function(b,h,G,H){E.vM.T9(b)};
E.vM.prototype.hk=function(b,h,G,H){if(G.vu!=this.id)return;E.vM.T9(b)};E.vM.prototype.disable=function(b,h,G,H){E.vM.Ft(b)};
E.vM.Ft=function(b){if(b==null)return;b.A.QZ=null;b.A.qA=[];b.qV=!0};E.vM.prototype.Ay=function(b,h,G,H,B){var j=E.vM.fa(b);
if(j==null&&fq==0){var s=new hb(w.E.IK,!0);s.data=E.kQ.s4(1);h.Q(s);j=E.vM.fa(b)}if(j==null)return;var q=E.uW.HV(b,b.s.Fj(B.x,B.y),G),Q=E.vM.Fz(j,q,b),a=b.R[b.T[0]],l=a.add.GdFl,U=a.add.vstl;
this.MS=JSON.stringify(fq==0?l:U);this.v1=q;if(Q==-1){var N=j[1];this.a4=[q.x,q.y,q.x+2,q.y];if(N[0]==1){this.a4.push(q.x,q.y-2);
N[2][4]=1}this.bO=1;E.vM.a7K(b,this.a4)}else{this.a4=j[0];this.bO=Q}};E.vM.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=E.vM.fa(b),q=this.bO;
if(q!=null){var Q=this.a4.slice(0);j=E.uW.HV(b,j,G);if(H.W(ap.J3))j=E.Yk.wk(new cJ(Q[0],Q[1]),j);var a=j.x-Q[q*2],l=j.y-Q[q*2+1];
if(q==0){for(var Y=0;Y<Q.length;Y+=2){Q[Y]+=a;Q[Y+1]+=l}}else{Q[q*2]+=a;Q[q*2+1]+=l}E.vM.a7K(b,Q,q)}else if(s){var U=E.vM.Fz(s,j,b),N=new hb(w.E.b,!0);
N.data={q:w.p.dm,ji:U==-1?"default":U==0?"move":"pointer"};h.Q(N)}E.vM.T9(b)};E.vM.Fz=function(b,h,G){var H=6*E.V()/G.s.D,B=b[0],j=e.N._X(B,h.x,h.y,H);
if(j==0&&B.length==8&&B[0]==B[6]&&B[1]==B[7])j=3;if(j==-1&&b[1][0]==1)j=e.N._X(B.slice(0,2),h.x,h.y,2*H);
return j};E.vM.prototype.dq=function(b,h,G,H,B){if(this.a4==null)return;this.a4=null;this.bO=null;E.vM.a6_(this,b)};
E.vM.a6_=function(b,h){var G=h.T[0],H=h.R[G],B=H.add.GdFl,j=H.add.vstl,s=JSON.stringify(B?B:j),q=h.history[h.Wt];
if(q&&q.S==b&&q.data.oL==G)q.data.KM=s;else{var Q=new eN("Change Gradient",b);Q.data={oL:G,aE:b.MS,KM:s};
h.vU(Q)}};E.vM.a7K=function(b,h,G){var H=b.R[b.T[0]],B=H.add.GdFl,j=H.add.vstl,s=H.add.vmsk,q=new cJ(h[0],h[1]),Q=new cJ(h[2],h[3]),a=new cJ(h[4],h[5]),l=new cJ(h[6],h[7]);
if(j){var U=j.E_[0],N=j.E_[2],R=g7.wa(q,Q,new eq),S=g7.U1(U,R,s.d);if(U==1){var g=cJ.o0(a,q)/cJ.o0(Q,q);
if(Math.abs(g-1)<.03)g=1;S[2][4]=G==2?g:N[4];if(G==3){if(cJ.o0(l,q)/cJ.o0(Q,q)<.05)l=q.clone();g7.T2(S,q,Q,l,S[2][4]);
if(S[2][6]>.999)S[2][6]=.999}else{S[2][5]=N[5];S[2][6]=N[6]}}S[1]=j.E_[1];j.E_=S}else{var U=B.Type.v.GrdT,i=H.rect;
if(U=="Lnr"||U=="Rflc"){q.x=(q.x+Q.x)/2;q.y=(q.y+Q.y)/2}e.F.wM(q,Q,i,B);H.vw(b)}b.c()};E.vM.fa=function(b){if(b==null||b.T.length==0)return;
var h=b.R[b.T[0]],G=h.add.GdFl,H=h.add.vstl;if(G==null&&H==null)return;if(H==null)H=cj.Mm(h.add,b);var B=H.E_;
if(B.length!=4)return;var j=h.add.vmsk?h.add.vmsk.d:e.n.NT.Rect(0,0,b.j,b._),s=g7.Pe(B,j),j=[0,0,1,0];
if(fq==1&&B[0]==1){var q=B[2][5]*Math.PI/180,Q=B[2][6];j.push(0,-1,Math.cos(q)*Q,-Math.sin(q)*Q)}e.N.h(j,s,j);
return[j,B,s]};E.vM.T9=function(b){if(b)E.vM.Ft(b);var h=E.vM.fa(b);if(h==null)return;var G=h[0],H=h[1],B=h[2],j={m:G.slice(0,4),Gc:["M","L"]};
if(H[0]==1){var s=e.n.NT.yT(-1,-1,2,2),q=e.N.nT(s);e.N.h(q.m,B,q.m);e.N.concat(j,q)}b.A.QZ=j;b.A.qA=G;
b.qV=!0};E.vM.prototype.uF=function(b,h){var G=h.R[b.oL],H=fq==0?"GdFl":"vstl";if(b.KM){G.add[H]=JSON.parse(b.KM);
G.vw(h);h.c();E.vM.Ft(h)}};E.vM.prototype.sv=function(b,h){var G=h.R[b.oL],H=fq==0?"GdFl":"vstl";if(b.KM){G.add[H]=JSON.parse(b.aE);
G.vw(h);h.c();E.vM.Ft(h)}};E.tg=function(){E.af.call(this,[10,7],E.Uy,"tools/hand");this.Qv=!1;this.G1=new cJ(0,0);
this.I0=null;this.RH=0};E.tg.prototype=new E.af;E.tg.prototype.Fy=function(b,h,G,H){this.Qv=b.Qv};E.tg.prototype.Jd=function(b,h,G,H,B){var j=b.q;
if(j=="setcls"){G.s.M=b.M;G.qV=!0;G.Jg=!0}if(j=="scroll"&&!H.W(ap.p0)){if(H.W(ap.zb))E.tg.tV(G,G.s.f.x-b.Vs.y,G.s.f.y-b.Vs.x);
else E.tg.tV(G,G.s.f.x-b.Vs.x,G.s.f.y-b.Vs.y)}};E.tg.prototype.enable=function(b,h,G,H){this.I0=null;
var B=new hb(w.E.b,!0);B.data={q:w.p.dm,ji:"grab"};h.Q(B);if(b&&Date.now()-this.RH<300){B.type=w.E.r;
B.S=E.TC;B.data={q:"adapt",P:"fitscr"};h.Q(B)}this.RH=Date.now()};E.tg.prototype.Ay=function(b,h,G,H,B){this.I0=b.s.f.clone();
this.G1.ve(B.x,B.y)};E.tg.prototype.Jl=function(b,h,G,H,B){if(!B.mN)return;if(this.I0==null)this.Ay(b,h,G,H,B);
var j=this.Qv?h.aO:[b];for(var Y=0;Y<j.length;Y++)E.tg.tV(j[Y],this.I0.x+(B.x-this.G1.x),this.I0.y+(B.y-this.G1.y))};
E.tg.prototype.dq=function(b,h,G,H,B){this.I0=null};E.tg.tV=function(b,h,G){var H=b.s.D,B=b.s.q5,j=B.j,s=B._,q=b.j*H,Q=b._*H,a=q<j&&Q<s,l=j/2+q/2-64,U=s/2+Q/2-64;
b.s.f.ve(Math.max(-l,Math.min(l,h)),Math.max(-U,Math.min(U,G)));b.Jg=!0};E.BO=function(){E.af.call(this,[10,47],E.Wo,"tools/rview");
this.G1=new cJ(0,0);this.qk=null;this.ep=null;this.RH=0};E.BO.prototype=new E.af;E.BO.prototype.enable=function(b,h,G,H){this.I0=null;
var B=new hb(w.E.b,!0);B.data={q:w.p.dm,ji:"grab"};h.Q(B);if(b&&Date.now()-this.RH<300&&b.s.ej!=0){b.s.ej=0;
b.qV=!0}this.RH=Date.now();if(b)this.I3(b,h)};E.BO.prototype.disable=function(b,h,G,H,B){if(b)this.I3(b,h)};
E.BO.prototype.f9=function(b,h,G,H){if(b)this.I3(b,h)};E.BO.prototype.Ay=function(b,h,G,H,B){this.G1.ve(B.x,B.y);
var j=b.s;this.qk=j.Fj(j.q5.j/2,j.q5._/2);this.ep=j.si();var s=j.Fj(j.q5.j/2,j.q5._/2),q=Math.min(j.q5.j,j.q5._)*.35/j.D,Q=q*.2,a=s.x,l=s.y;
b.A.wY={Gc:"M L L L L L".split(" "),m:[a,l,a,l-q,a+Q,l,a,l+q,a-Q,l,a,l-q]};b.qV=!0};E.BO.prototype.ap1=function(b){var h=b.s,G=h.Fj(h.q5.j/2,h.q5._/2);
b.A.wY={Gc:["M","L"],m:[G.x,G.y,G.x,G.y-200]}};E.BO.prototype.Jl=function(b,h,G,H,B){if(!B.mN)return;
var j=b.s,s=this.qk,q=this.G1,Q=new cJ(j.q5.j/2,j.q5._/2),a=Math.atan2(B.y-Q.y,B.x-Q.x),l=Math.atan2(q.y-Q.y,q.x-Q.x),U=Math.atan2(this.ep.J,this.ep.G),N=a-l,R=Math.PI/4;
if(H.W(ap.J3)){N=U+R*Math.round((N-U)/R)}this.ayw(b,h,this.ep.clone(),s,N)};E.BO.prototype.dq=function(b,h,G,H,B){b.A.wY=null;
b.qV=!0};E.BO.prototype.Fy=function(b,h,G,H){this.ayw(G,h,null,null,b.k3-G.s.ej);G.s.ej=b.k3};E.BO.prototype.ayw=function(b,h,G,H,B){var j=b.s;
if(G==null)G=j.si();if(H==null)H=j.Fj(j.q5.j/2,j.q5._/2);G.translate(-H.x,-H.y);G.rotate(B);G.translate(H.x,H.y);
j.arw(G);if(b.j*j.D<j.q5.j&&b._*j.D<j.q5._)j.f.ve(0,0);b.qV=!0;this.I3(b,h)};E.BO.prototype.I3=function(b,h){var G=new hb(w.E.b,!0);
G.data={q:w.p.XM,S:this.id,k3:b.s.ej};h.Q(G)};E.A8=function(){E.AZ.call(this,[10,25],E.eT,"tools/hbrush")};
E.A8.prototype=new E.AZ("");E.A8.prototype.dq=function(b,h,G,H,B){if(this.Aw==null)return;this.p5(b,"heal",this.Aw.JV(),this.Aw.Ki(),this.Aw.pn());
this.c(b,this.Aw.pn());E.Qb.prototype.dq.call(this,b,h,G,H,B);if(!this.U6.algnd)this.f=null};E.oP=function(b){E.af.call(this,b?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],b?E.xy:E.rd,b?"tools/vtype":"tools/htype");
this.y1=[];this.sV=null;this.caller=null;this.lG=1;this.xq=0;this.gF=null;this.axM=0;this.Mh=0;this.auM=null;
this.Y9=null;this.n1=null;this.u$=null;this.gd=null;this.s9=null;this.aa0=null;this.aL=null;this.VB=null;
this.gz=null;this.a42=null;this.WN=!1;this.ua=!1;this.jc=!1;this.rG=null;this.Cp=null;this.aBb=null;
this.QM=!1;this.sl=!1;this.do=-1;this.R9=-1;this.Kf=document.createElement("textarea");this.Kf.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Kf.addEventListener("input",this.Gh.bind(this),!1);this.Kf.addEventListener("keydown",this.aEJ.bind(this),!1);
this.Kf.addEventListener("keyup",this.aD0.bind(this),!1)};E.oP.prototype=new E.af;E.oP.prototype.xX=function(b){return b.mN};
E.oP.prototype.hk=function(b,h,G,H){if(this.n1!=null||this.id==E.xy)return;this.caller=h;var B=this.aAN(b);
if(B.length!=0){var j=null,s=[],q=[];for(var Y=0;Y<B.length;Y++){var Q=b.R[B[Y]],a=Q.add.TySh,l=0,U=b_.v4(a.HZ).length-2,N=b_.XN(a.HZ,l,U);
b_.uU(N,a.h.$K());if(N.bJ.Font!=null)N.bJ.Font=N.uh[N.bJ.Font].Name;j=N.uh;s.push(N.bJ);q.push(N._P)}var N={uh:j,bJ:b_.Z$(s),_P:b_.Z$(q)};
if(N.bJ.Font!=null)b_.HC(N,N.bJ.Font);this.aiN(h,N,a)}};E.oP.prototype.aAN=function(b){var h=[];for(var Y=0;
Y<b.T.length;Y++)if(b.R[b.T[Y]]&&b.R[b.T[Y]].add.TySh)h.push(b.T[Y]);return h};E.oP.prototype.Jd=function(b,h,G,H,B){var j=b.q=="insertGlyph",s=b.q=="copyText",q=b.q=="selectAll";
if((j||s||b.q=="insertText"||q)&&this.n1){var Q=j?String.fromCharCode(65533):b.P,a=this.Kf,l=a.value,U=a.selectionStart,N=a.selectionEnd;
if(s){dJ.aY(new Blob([l.slice(U,N)],{type:"text/plain"}))}else if(q){this.do=a.selectionStart=0;this.R9=a.selectionEnd=l.length;
this.Cj(G);a.focus()}else{a.value=l.slice(0,U)+Q+l.slice(N);a.selectionStart=a.selectionEnd=U+Q.length;
this.Gh(null,j?b.P:null);a.focus()}}if(b.q=="updateStyles"){if(this.n1==null){var R=this.aAN(G),S=!1;
if(R.length!=0){this.bI(G,h,B,R);for(var Y=0;Y<R.length;Y++){var g=G.R[R[Y]],i=g.add.TySh;b_.zg(i,this.lG);
i.AT.VAlign.v=this.xq;this.n1=g;var y=b_.v4(i.HZ);this.do=0;this.R9=y.length-1;b_.V1(i.HZ,this.do,this.R9,this.xs(B,i));
var o=this.rk(G,B);if(o==!1)S=!0}if(S){this.QM=!0;return}this.Po(G,h,!0)}return}this.mr(B)}if(b.q.startsWith("warp")){var v=this.sl;
if(b.q=="warp"||b.q=="warpCancel"){if(this.n1==null)return;if(b.q=="warp")this.n1.add.TySh.If=b.hC;else this.n1.add.TySh.If=this.aa0;
this.rk(G,B);if(!v)this.Cj(G)}if(b.q!="warp")this.Kf.focus();if((b.q=="warpConfirm"||b.q=="warpCancel")&&v){this.sl=!1;
if(b.q=="warpConfirm")this.Po(G,h);else this.oO(G,h)}}if(b.q=="editCurr"){if(B.vu!=E.rd){this.gF=B.vu;
var Z=new hb(w.E.b,!0);Z.data={q:w.p.CJ,S:E.rd};h.Q(Z)}if(this.n1!=null)this.disable(G,h,B,H);this.sV=B;
this.caller=h;this.bI(G,h,B,[b.RI]);var y=b_.v4(this.n1.add.TySh.HZ);this.do=0;this.R9=y.length-1;this.Cj(G);
this.uK();this.Kf.focus()}if(b.q=="switchPntPrgr"){if(this.n1)return;var g=G.R[G.T[0]],i=g.add.TySh,W=i.h.$K(),d=g.xu(),$=JSON.parse(JSON.stringify(i.HZ)),I=b_.RQ($),k=I==1?b_.B_($):[0,0,Math.round(d.j*1.05/W),Math.round(d._*1.25/W)],_=b_.XN($,0,0),D=_.uh[_.bJ.Font].Name,A=B.B7.Oe(D),F=[0,k[2],k[2]/2][_._P.Justification%3],K=(A?j0.PV(A):.8)*_.bJ.FontSize;
b_.vj($,1-I);if(I==0){console.log(j0.PV(A,D,_.bJ));F=-F;K=-K;b_.A6($,[0,0,k[2],k[3]])}var V=new eq(1,0,0,1,F,K);
V.concat(i.h);this.Jd({xj:G.T[0],q:"newED",wI:$,h:V,a5u:[16,3,I==1?0:1]},h,G,H,B)}if(b.q=="newED"){var g=G.R[b.xj],i=g.add.TySh,r=this.O8(G,[b.xj]);
i.HZ=b.wI;if(b.h)i.h=b.h;if(jK.Ln(i,B.B7,h)){jK.rk(g,B.B7,G);G.c()}else G.rm=!0;var c=new eN(b.a5u?b.a5u:this.name,this);
c.data={y4:r,YU:this.O8(G,[b.xj])};G.vU(c)}if(b.q=="fromAction"){var x=b.E7.yo.Usng.v,X=x.TxtC.v,M=[];
for(var Y=0;Y<2;Y++){var f=X[Y==0?"Hrzn":"Vrtc"].v,Q=f.val;if(f.type=="#Prc")Q=(Y==0?G.j:G._)*(Q/100);
M[Y]=Q}this.ns(G,h,B,H,G.s.yF(M[0],M[1]),!0);var g=G.R[G.T[0]],i=g.add.TySh,t=i.HZ,l=b_.v4(t);b_.Dj(t,0,l.length-1);
b_.ph(t,0,x.Txt.v.replace(/\r/g,"\n"));l=b_.v4(t);for(var I=0;I<2;I++){var n=x[I==0?"Txtt":"paragraphStyleRange"].v;
for(var Y=0;Y<n.length;Y++){var L=n[Y].v,U=L.From.v,N=Math.min(L.T.v-1,l.length-1);L=L[I==0?"TxtS":"paragraphStyle"].v;
var P=b_.XN(t,U,N),z=I==0?P.bJ:P._P;for(var T in L){var p=L[T].v;if(T=="Sz")z.FontSize=Math.round(p.val*(p.type=="#Pnt"?G.O4/72:1));
else if(T=="fontPostScriptName")b_.HC(P,p);else if(T=="Algn")z.Justification={Left:1,Cntr:2}[p.Alg];
else if(T=="leading")z.Leading=L[T].v.val;else if(T=="baselineShift")z.BaselineShift=L[T].v.val;else if(T=="autoLeading")z.AutoLeading=L[T].v;
else if(T=="syntheticBold")z.FauxBold=L[T].v;else if(T=="syntheticItalic")z.FauxItalic=L[T].v;else if(T=="Trck")z.Tracking=L[T].v;
else if(T=="verticalScale")z.VerticalScale=L[T].v/100;else if(T=="horizontalScale")z.HorizontalScale=L[T].v/100;
else if(T=="Clr")z.FillColor={Type:1,Values:[1,p.Rd.v/255,p.Grn.v/255,p.Bl.v/255]}}b_.V1(t,U,N,P)}}if(jK.tO(G,B.B7,h))jK.rk(g,B.B7,G);
else G.rm=!0;G.c();this.Po(G,h)}};E.oP.prototype.mr=function(b){var h=Math.min(this.do,this.R9),G=Math.max(this.do,this.R9),H=this.n1.add.TySh;
b_.zg(H,this.lG);H.AT.VAlign.v=this.xq;var B=this.xs(b,H);b_.V1(H.HZ,h,G-1,B);var j=this.caller.IC(),s=this.rk(j,b);
if(s)this.Cj(j);if(document.activeElement.tagName.toLowerCase()!="input")this.Kf.focus()};E.oP.prototype.BB=function(b){return this.y1.indexOf(b)!=-1};
E.oP.prototype.enable=function(b,h,G,H){var B=this.Kf;h.Z.appendChild(B);this.aL="default";this.tf(h)};
E.oP.prototype.W1=function(){return this.n1!=null};E.oP.mD=function(b,h){var G=new cJ(h.x,h.y);for(var Y=b.R.length-1;
Y>=0;Y--){var H=b.R[Y],B=H.add.TySh;if(B&&b.a0d(Y)){var j=G,s=H.rect;if(fq==1){var q=B.h.clone();q.Q6();
j=q.At(G);s=H.Z5.fc}if(!s.G_(j))continue;var Q=H.Xb(31);return Q?-2:Y}}return-1};E.oP.prototype.Ay=function(b,h,G,H,B){this.sV=G;
this.caller=h;var j=b.s.Fj(B.x,B.y),s=this.n1==null;if(s){var q=E.oP.mD(b,j);if(q==-2){alert(bp.get([6,57,0]));
return}if(q>=0&&!H.W(ap.J3)){if(!jK.Ln(b.R[q].add.TySh,G.B7,h)){alert("Fonts not loaded yet");return}this.bI(b,h,G,[q])}else{this.jc=!0;
this.rG=B;return}}var Q=s?-1:b_.RQ(this.n1.add.TySh.HZ),a=this.gz?this.gz:this.VB,l=a&&a.Ay(b,G,H,j,null,null,B)&&e.hC.lv(this.n1.add.TySh.If),U=!s&&e.N.afF(j,this.n1.xu())>20/b.s.D&&(Q==0||Q==1);
if(l||U){this.WN=!0;this.Cp=j;this.aBb=this.n1.add.TySh.h.clone();if(this.do==-1&&this.R9==-1)this.do=this.R9=this.N4(j)}else{if(this.gd==null){alert("Fonts not loaded yet");
return}this.ua=!0;this.do=this.R9=this.N4(j);var N=Date.now();if(N-this.axM>300)this.Mh=0;this.Mh++;
this.axM=N;if(this.Mh==2)this.aeO();if(this.Mh==3)this.ajD();if(this.Mh>1){this.ua=!1}}this.uK();this.Cj(b)};
E.oP.prototype.bI=function(b,h,G,H){var B=b.R[H[0]];this.n1=B;this.GK(h,w.E.b,{q:w.p.XM,S:this.id,$Y:"showactive"});
this.u$=H;b.T=H.slice(0);b.cY();b.fH=!0;this.s9=this.O8(b,H);this.lO(B.add.TySh);this.rk(b,G)};E.oP.prototype.lO=function(b){if(b_.RQ(b.HZ)!=1)return;
var h=b_.B_(b.HZ);h=new io(0,0,h[2]-h[0],h[3]-h[1]);var G=[h.x,h.y,h.x+h.j,h.y,h.x+h.j,h.y+h._,h.x,h.y+h._];
e.N.h(G,b.h,G);this.VB=new eR(G,!1,!1,!1,!0);this.VB.HS(0)};E.oP.prototype.aeO=function(){var b=b_.v4(this.n1.add.TySh.HZ);
this.do=this.a0E(b,this.do);this.R9=this.agZ(b,this.do)};E.oP.prototype.a0E=function(b,h){var G=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",H=[];
for(var Y=0;Y<G.length;Y++)H.push(G.charAt(Y));var B=H.indexOf(b[h])==-1?!0:!1;for(var Y=h-1;Y>=0;Y--)if(H.indexOf(b.charAt(Y))!=-1==B)return Y+1;
return 0};E.oP.prototype.agZ=function(b,h){var G=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",H=[];for(var Y=0;
Y<G.length;Y++)H.push(G.charAt(Y));var B=H.indexOf(b[h])==-1?!0:!1;for(var Y=h+1;Y<b.length;Y++)if(H.indexOf(b.charAt(Y))!=-1==B)return Y;
return b.length-1};E.oP.prototype.ajD=function(){var b=this.gd.aD7(this.do);this.do=b[0];this.R9=b[1]};
E.oP.prototype.tf=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.dm,ji:this.aL};b.Q(h)};E.oP.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=this.n1;
if(!B.mN){var q="default",Q=this.VB,a=this.gz?this.gz:Q;if(a&&e.hC.lv(s.add.TySh.If)){var l=a.qc(j,b.s.D,null,B);
if(l)q=l;else if(a==Q&&Q.eB(j))q="text"}else if(s&&e.N.afF(j,s.xu())>20/b.s.D)q="move";else if(E.oP.mD(b,j)>=0)q="text";
if(q!=this.aL){this.aL=q;this.tf(h)}}var U=this.rG;if(this.jc&&Math.min(B.x-U.x,B.y-U.y)>4/b.s.D){this.jc=!1;
this.ns(b,h,G,H,B);s=this.n1;this.WN=!0;this.VB=new eR(null,!1,!1,!1,!0);this.VB.HS(0);var N=b.s.Fj(this.rG.x,this.rG.y);
N.x=Math.round(N.x);N.y=Math.round(N.y);this.VB.Ay(b,G,H,N,null,null,B,b.s.ej)}if(this.WN){var R=s.add.TySh;
if(this.gz){this.gz.Jl(b,G,H,j);var S=e.t.lt(e.t.Kt(this.gz.eF(),this.a42));R.h=S;this.rk(b,G);b_.hz(R)}else if(this.VB){this.VB.Jl(b,G,H,j);
var g=R.h.clone(),i=Math.atan2(g.J,g.G);g.rotate(i);var S=e.t.lt(e.t.Kt(this.VB.eF())),y=Math.atan2(S.J,S.G);
S.rotate(y);if(!isNaN(S.G)&&S.G*S.tW-S.J*S.YW!=0){var o=new io(0,0,S.G/g.G,S.tW/g.tW),v=Math.round(o.j),Z=Math.round(o._),W=R.HZ.Curve;
if(W){var d=b_.B_(R.HZ),$=new eq(v/d[2],0,0,Z/d[3],0,0);e.N.h(W.Points,$,W.Points);b_.hz(R)}b_.A6(R.HZ,[0,0,v,Z]);
R.h=e.t.lt(e.t.Kt(this.VB.eF(),o));this.rk(b,G);b_.hz(R)}}else{var I=j.x-this.Cp.x,k=j.y-this.Cp.y;R.h=this.aBb.clone();
var _=new cJ(R.h.Kv+I,R.h.d0+k);_=E.uW.HV(b,_,G);R.h.Kv=_.x;R.h.d0=_.y;this.rk(b,G)}}if(this.ua)this.R9=this.N4(j);
if(this.WN||this.ua)this.Cj(b)};E.oP.prototype.ns=function(b,h,G,H,B,j){var s=b.wV(),q=s[0],Q=s[1],a=b.Cx();
a.add.lnsr="rend";var l=b.R.slice(0);a.cb("Text layer "+l.length);this.n1=a;var U=b.T.length==0?b.R.length-1:b.T[b.T.length-1],N=U+1;
if(l[U].add.lsct==c1.$I)N--;this.s9={zo:l.slice(0),QU:b.T.slice(0)};l.splice(N,0,a);b.T=[N];this.do=this.R9=0;
b.Rf(l);this.s9.tG=l.slice(0);this.s9._r=b.T.slice(0);this.GK(h,w.E.b,{q:w.p.XM,S:this.id,$Y:"showactive"});
var R=b.s.Fj(B.x,B.y),S=G.Ge;console.log(S);if(this.id==E.xy){S=JSON.parse(JSON.stringify(S));S.bJ.BaselineDirection=1}a.add.TySh=b_.V0(R.x,R.y,S,b.s.ej);
var g=a.add.TySh,i=g.HZ;if(this.id==E.xy)i._LineOrientation=2;b_.zg(g,this.lG);g.AT.VAlign.v=this.xq;
if(B.mN)b_.vj(i,1);else{b_.vj(i,0);var y=q[Q.pop()],o=y?y.add.vmsk:null;if(j)o=null;if(o&&!H.W(ap.J3)){o=o.clone();
var v=o.d,W,d;for(var Y=0;Y<v.length;Y++)if(v[Y].Vj!=null)v[Y].Vj=0;var Z=5/b.s.D;W=e.n.cE(o.d,R,!0,Z);
if(W.V9==-1)W=e.n.cE(o.d,R);if(W.V9!=-1){b_.vj(i,1);var $=e.n.Xd(v,W.V9),I=e.n.LN(v,W.V9)-1;v=o.d=v.slice(0,2).concat(v.slice($,$+I+1));
o.T=[];g.add={vmsk:o,vogk:C.AA(v)};i.Curve={};b_.hl(g);if(W.Fs!=null){var k=j0.tI(i.Curve);e.N.h(k[0],g.h,k[0]);
var _=e.N._X(k[0],R.x,R.y),D=G.Ge._P.Justification;if(D==2||D==5){var A=(k[2][_]+k[3]*.5)%k[3];_=j0.Tv(A,k[2])}var F=k[1][_];
F=F%I;o.VD=[F,F];b_.hl(g)}else this.lO(g)}}}return a};E.oP.prototype.dq=function(b,h,G,H,B,j){if(j){this.jc=!1;
return}if(this.n1==null&&!this.jc)return;var s=b.s.Fj(B.x,B.y),q=this.jc;if(this.jc){this.jc=!1;this.ns(b,h,G,H,B);
this.ua=!0}if(this.WN||this.ua){this.Cj(b);this.uK();if(q)this.mr(G)}if(this.WN&&this.VB)this.VB.dq(b,G,H,s);
this.WN=this.ua=!1;this.Kf.focus()};E.oP.prototype.uK=function(){var b=this.n1.add.TySh,h=Math.min(this.do,this.R9),G=Math.max(this.do,this.R9),H,B;
if(h==G){var j=b_.v4(b.HZ);if(h==0||j.charAt(h-1)=="\n")H=B=h;else H=B=h-1}else{H=h;B=G-1}var s=b_.XN(b.HZ,H,B);
b_.uU(s,b.h.$K());this.aiN(this.caller,s,b)};E.oP.prototype.aiN=function(b,h,G){this.GK(b,w.E.b,{q:w.p.wP,CI:ec.Te,Ge:h});
var H=this.lG=b_.lm(G),B=this.xq=G.AT.VAlign.v;this.GK(this.caller,w.E.b,{q:w.p.XM,S:this.id,$Y:"changeOther",hH:H,EU:B})};
E.oP.prototype.Of=function(b,h,G,H,B){if(b==null)return;var j=b.s.Fj(B.x,B.y),s=E.oP.mD(b,j);if(s==-1)return;
var q=new hb(w.E.b,!0);q.data={q:w.p.XM,S:this.id,$Y:"showpan",a3z:this.n1!=null,RI:s,FC:B,FK:b,sV:G};
h.Q(q)};E.oP.prototype.ajc=function(){var b=this.n1;if(b&&!this.WN&&this.gz!=null){var h=this.caller.IC();
this.gz.dq(h,this.sV,null,null);this.gz=null;this.lO(b.add.TySh);this.Cj(h)}};E.oP.prototype.disable=function(b,h,G,H){var B=this.n1;
this.Po(b,h)};E.oP.prototype.Fy=function(b,h,G,H,B){if(this.sl)return;if(b.$Y=="commit")this.Po(G,h);
if(b.$Y=="cancel")this.oO(G,h);if(b.$Y=="changeOther"){this.lG=b.hH;this.xq=b.EU;if(G!=null)this.Jd({q:"updateStyles"},h,G,H,B)}if(b.$Y=="showwarp"){if(G==null)return;
if(this.n1==null){var j=G.R[G.T[0]],s=j.add.TySh;if(s==null)return;this.bI(G,h,B,[G.T[0]]);this.Kf.focus();
this.sl=!0}this.aa0=this.n1.add.TySh.If;var q=new hb(w.E.b,!0);q.data={q:w.p.C9,ut:"textwarp"};h.Q(q)}};
E.oP.prototype.rN=function(b,h){if(h!=ec.ML)return;if(this.QM){this.QM=!1;var G=this.caller.IC(),H=this.u$;
for(var Y=0;Y<H.length;Y++){this.n1=G.R[H[Y]];this.rk(G,b)}this.Po(G,this.caller);return}if(this.n1)this.mr(b)};
E.oP.prototype.xs=function(b,h){var G=JSON.parse(JSON.stringify(b.Ge));b_.uU(G,1/h.h.$K());return G};
E.oP.prototype.uF=function(b,h){if(b.y4!=null)this.R$(h,b.YU);else this.azr(h,b.tG,b._r)};E.oP.prototype.sv=function(b,h){if(b.y4!=null)this.R$(h,b.y4);
else this.azr(h,b.zo,b.QU)};E.oP.prototype.R$=function(b,h){for(var Y=0;Y<h.length;Y++){var G=h[Y],H=G.xj,B=b.R[H];
B.buffer=G.VN;B.rect=G.O2.clone();B.c();B.Z5.yr=null;B.Z5.path=null;var j=B.add.TySh;j.If=G.hC;j.In=G.In.clone();
j.h=G.h.clone();j.HZ=JSON.parse(JSON.stringify(G.HZ));B.Cf()}b.c()};E.oP.prototype.O8=function(b,h){var G=[];
for(var Y=0;Y<h.length;Y++){var H=h[Y],B=b.R[H],j=B.add.TySh;G.push({xj:H,h:j.h.clone(),hC:JSON.parse(JSON.stringify(j.If)),In:j.In.clone(),HZ:JSON.parse(JSON.stringify(j.HZ)),VN:B.buffer.slice(0),O2:B.rect.clone()})}return G};
E.oP.prototype.azr=function(b,h,G){b.T=G;b.Rf(h);b.c();b.P6=!0};E.oP.prototype.rk=function(b,h,G){if(G==null)G=!1;
var H=this.n1.add.TySh;if(!jK.Ln(H,h.B7,this.caller))return!1;if(!G){var B=b_.v4(H.HZ);this.Kf.value=B.slice(0,B.length-1)}var j=this.n1.rect,s=jK.rk(this.n1,h.B7,b);
this.gd=s[1];var q=this.gd.Hc();if(e.hC.lv(H.If))H.In=new io;else{if(b_.RQ(H.HZ)==1){var Q=b_.B_(H.HZ),g1=q.y;
H.In=new io(0,g1,Q[2]-Q[0],Q[3]-Q[1]-g1)}else H.In=q}b.UL();if(s[2])b.c(b.root.mG(s[2].O2.gJ(j),b,b.R.indexOf(this.n1)));
return!0};E.oP.prototype.Gh=function(b,h){if(this.n1==null||this.sl)return;var G=this.Kf.selectionStart,H=this.n1.add.TySh,B=b_.v4(H.HZ),j=this.Kf.value+"\n",s=Math.min(this.do,this.R9),q=Math.max(this.do,this.R9),N=!1;
this.do=Math.min(G,s);if(j.length-G<B.length-this.R9)this.R9=B.length-j.length+G;if(B!=j){while(this.do>0&&B.charAt(this.do-1)!=j.charAt(this.do-1))this.do--}var Q=B.substring(0,this.do),a=B.substring(this.R9,B.length),l=j.substring(this.do,j.length-a.length);
b_.Dj(H.HZ,this.do,this.R9);b_.ph(H.HZ,this.do,l);if(h!=null)b_.aC5(H.HZ,this.do,h);var U=this.xs(this.sV,H),R=-1,S=Array.from(l);
for(var Y=0;Y<S.length;Y++)R=Math.max(R,S[Y].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&U.bJ.Font!=null){var g=U.uh[U.bJ.Font].Name,i=this.sV.B7.are(R,g,U.uh);
if(g!=i){b_.HC(U,i);N=!0}}if(this.Y9!=null&&l==this.Y9){var y=JSON.parse(this.auM);b_.uU(y,1/H.h.$K());
U.bJ=y.bJ;U.uh=y.uh;N=!0}b_.V1(H.HZ,this.do,this.do+l.length-1,U);this.do=this.R9=Q.length+l.length;
var o=this.caller.IC(),v=this.rk(o,this.sV,!0);if(v)this.Cj(o,!0);if(N)this.uK()};E.oP.prototype.aD0=function(b){var h=ap;
if(!b.ctrlKey)this.ajc();b.stopPropagation()};E.oP.prototype.aEJ=function(b){b.stopPropagation();var h=b.ctrlKey||b.metaKey,G=ap,Q=0,a=0,v=0,K=!1;
if(this.n1==null||this.sl)return;if(this.n1==null)return;if(this.caller.Lv.Zm())return;var H=this.caller.IC();
if(this.gz==null&&h){var B=this.n1.add.TySh,j=b_.RQ(B.HZ),s;if(j==1){s=b_.B_(B.HZ);s=new io(0,0,s[2]-s[0],s[3]-s[1])}else s=this.gd.Hc();
var q=[s.x,s.y,s.x+s.j,s.y,s.x+s.j,s.y+s._,s.x,s.y+s._];e.N.h(q,B.h,q);this.gz=new eR(q,!0,!0,!1,!1);
this.gz.HS(0);this.a42=s;this.Cj(H)}if(G.r7(b.code,G.YF))Q=1;if(G.r7(b.code,G.Nu))Q=-1;if(G.r7(b.code,G.KQ))a=-1;
if(G.r7(b.code,G.y3))a=1;var l=G.r7(b.code,ap.h5),U=G.r7(b.code,ap.arz);if(G.r7(b.code,ap.pr)&&h){this.Po(H,this.caller);
return}if(G.r7(b.code,ap.Ac)){this.oO(H,this.caller);return}if(G.r7(b.code,ap.xa)){b.preventDefault();
var N=this.Kf,R=N.value,S=N.selectionStart,g=N.selectionEnd;N.value=R.substring(0,S)+"\t"+R.substring(g);
N.selectionStart=N.selectionEnd=S+1;this.Gh(null);return}var i=G.r7(b.code,G.za),y=G.r7(b.code,G.Od);
if(h&&(i||y)){b.preventDefault();var o=new hb(w.E.r,!0);o.S=E.TC;o.data={q:"zoom",Sa:i};this.caller.Q(o)}if(G.r7(b.code,G.lq))v=1;
if(G.r7(b.code,G.Q4))v=-1;var Z=this.do==this.R9,W=h&&b.shiftKey&&v!=0&&!Z;if(W||b.altKey&&Q!=0){var d=JSON.parse(JSON.stringify(this.sV.Ge));
if(W){var $=d.bJ.FontSize;if($==null)$=16;d.bJ.FontSize=Math.max(1,$+v*(b.altKey?5:1))}else{if(Z){d.bJ.Kerning+=20*Q;
d.bJ.AutoKerning=!1}else d.bJ.Tracking+=20*Q}b.preventDefault();var I=new hb(w.E.b,!0);I.data={q:w.p.wP,CI:ec.Te,Ge:d};
this.caller.Q(I);var o=new hb(w.E.r,!0);o.S=E.rd;o.data={q:"updateStyles"};this.caller.Q(o);return}if((G.r7(b.code,G.ew)||G.r7(b.code,G.Lz))&&h){var k=this.do,_=this.R9;
if(k>_){var D=k;k=_;_=D}var B=this.n1.add.TySh,A=b_.v4(B.HZ);if(k!=_){this.Y9=A.slice(k,_);this.auM=JSON.stringify(this.sV.Ge)}}var F=b_.v4(this.n1.add.TySh.HZ);
if(Q!=0||a!=0||l||U){b.preventDefault();var V=this.do;if(Q!=0){if(h&&Q==-1)V=this.a0E(F,this.do-1);else if(h&&Q==1)V=this.agZ(F,this.do);
else{var N=this.Kf,R=N.value;V=this.do+Q;if(V!=0&&R.codePointAt(V-1)>65535)V+=Q}}else if(a!=0){var r=this.gd.dJ(this.do);
if(a==-1&&r.PJ==0)V=0;else if(a==1&&r.PJ==this.gd.a9I()-1)V=99999999999;else V=this.gd.ad6(new cJ(r.O2.x+r.O2.j/2,0),r.PJ+a)}else if(l){var c=this.do-1;
while(c>0&&F.charCodeAt(c)!=10)c--;V=c==0?0:c+1}else if(U){var c=this.do;while(c<F.length-1&&F.charCodeAt(c)!=10)c++;
V=c}V=Math.max(0,Math.min(F.length-1,V));if(b.shiftKey)this.do=V;else this.do=this.R9=V;K=!0}if(G.r7(b.code,ap.p)&&h){this.do=0;
this.R9=F.length-1;K=!0}if(K){this.uK();this.Cj(H)}};E.oP.aCy=function(b,h){var G=b.length;if(G!=h.length)return!1;
for(var Y=0;Y<G;Y++)if(b[Y].xj!=h[Y].xj)return!1;return!0};E.oP.prototype.Po=function(b,h,G){if(this.n1==null)return;
this.n1.Cf();var H=this.s9;if(H instanceof Array){var B=this.O8(b,this.u$),j=b.vc();if(j!=null&&j.S==this&&j.data.y4&&E.oP.aCy(j.data.y4,H)&&G)j.data.YU=B;
else{var s=new eN(this.name,this);s.data={y4:H,YU:B};b.vU(s)}}else{var s=new eN(this.name,this);s.data={zo:H.zo,tG:H.tG,QU:H.QU,_r:H._r};
b.vU(s)}this.escape(b,h)};E.oP.prototype.oO=function(b,h){if(this.n1==null)return;if(this.s9 instanceof Array){this.R$(b,this.s9);
if(this.n1)b_.hz(this.n1.add.TySh)}else{b.T=this.s9.QU;b.Rf(this.s9.zo);b.P6=!0}b.c();this.escape(b,h)};
E.oP.prototype.escape=function(b,h){this.ajc();this.n1=null;this.u$=null;this.gd=null;this.VB=null;this.Kf.blur();
b.A.wY=null;b.A.yW=null;b.A.fj=[];b.qV=!0;this.WN=!1;this.ua=!1;this.do=this.R9=-1;this.GK(h,w.E.b,{q:w.p.XM,S:this.id,$Y:"hideactive"});
if(this.gF){var G=new hb(w.E.b,!0);G.data={q:w.p.CJ,S:this.gF};h.Q(G);this.gF=null}};E.oP.prototype.GK=function(b,h,G,H){var B=new hb(h,!0);
B.data=G;if(H)B.S=H;b.Q(B)};E.oP.prototype.N4=function(b){var h=this.n1.add.TySh,G=this.gd,H=h.h.clone();
H.Q6();var B=H.At(b),j=b_.Ki(h,G),s=e.hC.kB(h.If,j),q=e.ac.Mv(s,B);if(q==null)q=new Float64Array(2);
B=new cJ(j.x+q[0]*j.j,j.y+q[1]*j._);if(G.vo){var Q=G.vo.clone();Q.Q6();B=Q.At(B)}var a=G.ad6(B);return a};
E.oP.prototype.Cj=function(b,h){if(h==null)h=!1;var G=this.n1.add.TySh,H=b_.RQ(G.HZ),B=this.gd,j=B?b_.Ki(G,B):null;
b.A.fj=[];b.A.wY=null;b.A.yW=null;var s=this.gz?this.gz:this.VB;if(s){s.XU(b,this.sV,!e.hC.lv(G.If));
var q=G.h.clone();q.Q6();if(B&&B.vo&&B.qp==1){var Q=B.vo.clone();Q.Q6();q.concat(Q)}e.N.h(b.A.fj,q,b.A.fj);
e.N.h(b.A.wY.m,q,b.A.wY.m);if(B&&B.vo==null&&B.arx()){var a=j.j-20,l=j._+8;b.A.wY.m.push(a,l,a+10,l,a+5,l-5,a+5,l+5);
b.A.wY.Gc.push("M","L","M","L")}}else if(H==0)this.as4(b,G,B);else b.A.wY={m:[],Gc:[]};var U=Math.min(this.do,this.R9),N=Math.max(this.do,this.R9);
if(!h){this.Kf.selectionStart=U;this.Kf.selectionEnd=N}if(B!=null){var R=function(s,Z){var W=s.x,d=s.y+s._,$=new eq;
$.translate(-W,-d);$.rotate(-Z);$.translate(W,d);s.y+=s._*.27;var v=e.N.Q0(s);e.N.h(v.m,$,v.m);return v};
if(U==N){U=Math.max(U,0);var S=B.dJ(U);if(S){var g=S.O2,i=this.sV.Ge.bJ.FontSize;if(i!=null&&i!=0){i/=G.h.$K();
g.y+=g._-i;g._=i}var y=B.akG(U);if(y!=null&&y.ii==1)g.x+=g.j;var o=R(g,S.ej).m;b.A.wY.Gc.push("M","L");
b.A.wY.m.push(o[0],o[1]-1,o[6],o[7]-1)}}else{b.A.yW={m:[],Gc:[]};for(var Y=U;Y<N;Y++){var S=B.dJ(Y),v=R(S.O2,S.ej);
e.N.concat(b.A.yW,v)}}}b.A.wY=jK.JT(b.A.wY,G,B,!0);b.A.yW=jK.JT(b.A.yW,G,B,!0);b.A.fj=jK.JT({m:b.A.fj},G,B,!0).m;
b.qV=!0};E.oP.prototype.as4=function(b,h,G){if(G==null)return;b.A.fj.push(0,0);if(b.A.wY==null)b.A.wY={Gc:[],m:[]};
for(var Y=0;Y<G._P.length;Y++){var H=G._P[Y];for(var B=0;B<H.Yr.length;B++){var j=H.Yr[B],s=H.ZP.x+j.ZP.x+j.O2.x,q=H.ZP.y+j.ZP.y+j.O2.y+j.O2._;
b.A.wY.Gc.push("M","L");b.A.wY.m.push(s,q,s+j.O2.j,q)}}b.qV=!0};E.T5=function(){E.oP.call(this,!0)};
E.T5.prototype=new E.oP;E.Le=function(b){E.pC.call(this,b?"Magic Replace":[10,9],b?E.an6:E.mY,b?"tools/mremove":"tools/lasso");
this.xT="crosshair";this.YS=null;this.L6=null;this.Cp=null};E.Le.prototype=new E.pC;E.Le.prototype._M=function(b,h,G,H){this.YS=this.dp;
this.L6={m:[this.YS.x,this.YS.y],Gc:["M"]}};E.Le.prototype.wv=function(b,h,G,H){this.Cp=H;var B=this.L6;
if(B==null)return;if(!H.mN){if(this.L6!=null&&this.M6.bo(1)&&G.W(ap.p0)){B.m.pop();B.m.pop();B.m.push(this.EA.x,this.EA.y);
b.A.wY=B;b.qV=!0}return}B.Gc.push("L");B.m.push(this.EA.x,this.EA.y);this.YS=this.EA;if(this.Aa){b.A.wY=B;
b.qV=!0}};E.Le.prototype.W1=function(){return this.L6!=null};E.Le.prototype.sE=function(){return this.L6!=null};
E.Le.prototype.Z1=function(b,h,G,H){E.pC.prototype.Z1.call(this,b,h,G,H);if(this.L6&&this.M6.bo(1)&&this.Cp&&!this.Cp.mN&&!H.W(ap.p0))this.a1i(b,G,H)};
E.Le.prototype.om=function(b,h,G,H){this.Cp=H;var B=this.L6;if(B==null)return;if(this.M6.bo(1)&&G.W(ap.p0)){B.Gc.push("L");
B.m.push(this.EA.x,this.EA.y);return}this.a1i(b,h,G)};E.Le.prototype.a1i=function(b,h,G){this.finish(b,h,G,this.Cp);
this.L6=null;b.A.wY=null;b.qV=!0};E.Le.prototype.getSelection=function(b,h,G,H){if(this.dp.TW(this.EA)||!this.Aa)return null;
return E.pC.ZJ(this.L6.m,null,this.U6.anta)};E.uW=function(){E.af.call(this,[10,11],E.rQ,"tools/move");
this.Rk=new cJ(0,0);this.gN=new cJ(0,0);this.lx=null;this.C5=null;this.Al=new cJ(0,0);this.SM=null;this.Cc=null;
this.KB=null;this.RH=0;this.FP=null;this.DJ=[];this.rH=null;this.aR=null;this.Hd=!1;this.q=0;this.XK=null;
this.eq=null;this.Ih=null;this.Ha=!1;this.U6={bf:!0,Iv:fq==1,el:!1,auJ:1};this.at4=!1;this.a8L=!1;this.VB=null;
this.ra=null;this.QP=null;var b=[];for(var Y=0;Y<e.VJ.LO.length;Y++)b.push({name:e.VJ.LO[Y],H:function(h,G,H){return{Hz:G.x$.Bl==H}}});
this.GE=new fL(b);this.GE.O("select",this.Xa,this)};E.uW.prototype=new E.af;E.af.prototype.xX=function(b){return this.Hd&&this.q!=2};
E.uW.prototype.a85=function(){return this.Hd&&(this.q==0||this.q==1)};E.uW.prototype.f9=function(b,h,G,H){this.X4(b,-this.Al.x,-this.Al.y);
this.Al.ve(0,0);this.DC(b,null,G);this.T9(b)};E.uW.prototype.Ch=function(){var b=this.U6;return[b.bf?1:0,b.Iv?1:0,b.el?1:0]};
E.uW.prototype.L2=function(b,h,G){var H=this.U6;if(b&&b[0]!=null)H.bf=b[0]==1;if(b&&b[1]!=null)H.Iv=b[1]==1;
if(b&&b[2]!=null)H.el=b[2]==1;if(fq==1)H.Iv=!0;var B=new hb(w.E.b,!0);B.data={q:w.p.XM,S:this.id,Mo:H,ae4:h};
G.Q(B)};E.uW.aaD=function(b,h,G,H,B,j,s){if(s==null)s=[!1,!0];var q=b.bZ(null,B,!0),Q,a=B==null?b.T[0]:B;
if(b.add.artd&&(B!=null||b.T.length==1)&&b.R[a].add.artb){var l=b.R[a].Ey();Q=b.ev(q,l,l)[0]}else{var U=new io(0,0,b.j,b._),Q=b.ev(q,s[0]?U:null,s[1]?null:U)[0];
delete Q.add.artd;if(s[1]){var N=e.Qn(Q.Nw(),new io(0,0,Q.j,Q._),2);E.w8.IF(Q,N)}}if(G!=1){var R=new io(0,0,Math.round(Q.j*G),Math.round(Q._*G));
E.w8.IF(Q,R);var S=[];for(var Y=0;Y<Q.R.length;Y++)S.push(Y);var g=E.Y.J2(Q,S,!0);E.w8.RL(Q,new eq(G,0,0,G,0,0));
E.Y.J6(Q,H,S,g,1,e.t.UE(new eq(G,0,0,G,0,0)),null,!0);Q.lJ()}var i=[];for(var Y=0;Y<h.length;Y++)if(Q.j*Q._!=0)i.push(aT.JN(Q,h[Y].toUpperCase(),null,null,j?j[Y]:null,H));
return i};E.uW.prototype.ask=function(b,h,G,H,B){if(b==null||b.T.length==0)return;var j=E.uW.aaD(b,[h],G,H,null)[0],s=new hb(w.E.b,!0);
s.data={q:w.p.l9,data:j,name:b.R[b.T[0]].getName()+(G==1?"":"@"+G+"x")+"."+h};B.Q(s)};E.uW.prototype.Fy=function(b,h,G,H,B){if(b.DF=="getPNG"){this.ask(G,"png",b.gV,B,h)}else if(b.DF=="getSVG"){this.ask(G,"svg",b.gV,B,h)}if(b.DF=="prms"){this.U6=b;
this.T9(G)}};E.uW.ah$=function(b){var g1=b.length,G=0;b.sort(function(j,s){return j[0]+j[1]/2-(s[0]+s[1]/2)});
var h=b[g1-1][0]+b[g1-1][1]-b[0][0];for(var Y=0;Y<g1;Y++)G+=b[Y][1];var H=Math.round((h-G)/(g1-1)),B=b[0][0];
for(var Y=0;Y<g1;Y++){b[Y][0]=B;B+=b[Y][1]+H}};E.uW.prototype.Jd=function(b,h,G,H,B){var j=b.q;if(j=="trsl"){var s=Math.round(b.GX),q=Math.round(b.AQ);
this.Al.ve(s,q);this.eh(G,h,H,B,!1,b.o);this.X4(G,s,q);this.DC(G,null,B)}else if(j=="fcmy"||j=="fvec"){var Q=["RGB","CMYK"][b.P]+" Color";
if(j=="fvec")Q=["Raster","Vector"][b.P]+" Mode";var a=new eN(Q,this);a.data={q:b.q,Wy:G.add[j]==null?0:G.add[j],bq:b.P};
G.vU(a);this.uF(a.data,G)}else if(j=="pview"){var j=new eN([8,14],this);j.data={q:b.q};G.vU(j);this.uF(j.data,G)}else if(j=="lockguides"){if(G)G.Td=!G.Td}else if(j=="gids"||j=="gidsFromLayer"){var l=b.eq,U,N;
if(l==null)l=G.Wb();if(j=="gids"){U=b.ez;var R=l[0].length,S=U[0].length;N=R==S?[23,2]:R>S?[23,3]:[23,4];
if(S==0)N=[11,15,0]}else if(j=="gidsFromLayer"){var g=[],i=[],y=G.t2();for(var Y=0;Y<G.T.length;Y++){var o=G.R[G.T[Y]].rect;
if(o.Zx())continue;g.push([0,o.x],[1,o.y],[0,o.x+o.j],[1,o.y+o._]);i.push(y,y,y,y)}N=[11,15,1];U=G.Wb();
E.uW.ZX(U,[g,i])}if(JSON.stringify(l)==JSON.stringify(U))return;var j=new eN(N,this);j.data={q:2,eq:l,ez:U};
G.vU(j);this.uF(j.data,G)}else if(j=="algn"){var v=b.P;if(G==null)return;if(G.T.length<2&&!(G.e!=null&&v!=3&&v!=7)){alert(bp.get([15,7,5]));
return}var Z=G.e;G.e=null;var o=Z?Z.rect:E.Y.Ki(G);this.eh(G,h,H,B,!1);if(!this.Hd)return;var W=this.FP,d={},$=[],I=[],k=[];
for(var Y=0;Y<W.length;Y++){var _=W[Y];while(G.R[_].getName()=="</Layer group>")_++;var D=G.root.DE(_),A=D;
while(D.parent!=null){D=D.parent;if(W.indexOf(D.index)!=-1)A=D}var F=I.indexOf(A.index);if(F==-1){F=I.length;
I.push(A.index)}$[Y]=F}var K=[],V=[],r=[];for(var Y=0;Y<I.length;Y++){var c=E.Y.Ki(G,G.bZ(!0,I[Y]));
r.push(c);var x=v==3?[c.y,c._]:[c.x,c.j];K[Y]=x;V.push(x)}E.uW.ah$(V);for(var Y=0;Y<I.length;Y++){var c=r[Y],X=c.x,M=c.y;
if(v==0)X=o.x;if(v==1)X=o.x+(o.j-c.j)/2;if(v==2)X=o.x+(o.j-c.j);if(v==3)M=K[Y][0];if(v==4)M=o.y;if(v==5)M=o.y+(o._-c._)/2;
if(v==6)M=o.y+(o._-c._);if(v==7)X=K[Y][0];k.push(Math.round(X-c.x),Math.round(M-c.y))}var f=[];for(var Y=0;
Y<W.length;Y++){var t=$[Y];f[2*Y]=k[2*t];f[2*Y+1]=k[2*t+1]}this.X4(G,0,0,null,f);var n=v==3||v==7?[20,4,6]:[20,4,v<3?v:v-1];
this.DC(G,null,B,f,n);G.e=Z}else if(j=="disabAuto"){this.L2([!1],null,h)}};E.uW.ZX=function(b,h){for(var Y=0;
Y<h[0].length;Y++){var G=h[0][Y],H=h[1][Y],B=!1;for(var j=0;j<b[0].length;j++){var s=b[0][j],q=b[1][j];
if(G[0]==s[0]&&G[1]==s[1]&&H==q)B=!0}if(!B){b[0].push(G.slice(0));b[1].push(H)}}};E.uW.prototype.enable=function(b,h,G,H,B){this.Cc=G;
this.KB=h;this.Ha=B?!0:!1;this.T9(b);this.tf("default",h);this.Z1(b,h,G,H)};E.uW.prototype.disable=function(b,h,G,H){this.Ft(b)};
E.uW.prototype.Ft=function(b){if(b==null)return;if(this.VB){this.VB.clear(b);this.VB=null}if(b.A.el){b.A.el=null;
b.qV=!0}if(b.A.VE){b.A.VE=null;b.qV=!0}if(b.A.D_[this.id]){delete b.A.D_[this.id];b.qV=!0}if(b.A.sn.length!=0){b.A.sn=[];
b.qV=!0}};E.uW.prototype.hk=function(b,h,G,H){if(G.vu!=this.id)return;this.T9(b)};E.uW.prototype.T9=function(b,h){if(b==null)return;
var G=this.U6;this.Ft(b);if(!this.Ha){var H;if(G.Iv||G.el)H=e.N.lZ(E.Y.Ki(b));if(G.Iv&&!H.Zx()){var B=b.R[b.T[0]],j=e.N.Q0(H).m;
if(fq==1&&b.T.length==1){if(B.add.vmsk)j=B.add.vmsk.me();if(B.add.SoLd)j=E.Y.DM(B.add.SoLd.nonAffineTransform);
if(B.add.TySh){j=e.N.Q0(B.Z5.fc).m;e.N.h(j,B.add.TySh.h,j)}}this.VB=new eR(j,!0);this.VB.XU(b,this.Cc)}if(G.el){var s=null,N=null,R=!1;
if(b.t2()!=-1)s=b.R[b.t2()].Ey();else s=new io(0,0,b.j,b._);b.A.el={Jc:[H],Jb:[]};var q=b.A.el.Jb,Q=H.x+H.j,a=H.y+H._,l=H.x+Math.floor(H.j/2),U=H.y+Math.floor(H._/2);
if(h){var S=b.root.cE(new cJ(Math.floor(h.x),Math.floor(h.y)));if(S){N=e.N.lZ(S.o.xu(b));if(N.XR(H)){R=(N.ku(H)||H.ku(N))&&!H.TW(N);
if(!R)N=null}}}this.aCJ(H,q);if(N!=null){b.A.el.Jc.push(N);var g=N.x+N.j,i=N.y+N._,y=N.x+Math.floor(N.j/2),o=N.y+Math.floor(N._/2);
if(R){var v=l,Z=U;if(H.ku(N)){v=y;Z=o}q.push(H.x,Z,N.x,Z);q.push(Q,Z,g,Z);q.push(v,H.y,v,N.y);q.push(v,a,v,i)}else{this.aCJ(N,q);
var W=a<N.y||i<H.y,d=Q<N.x||g<H.x;if(Q<N.x)q.push(Q,U,N.x,U);if(g<H.x)q.push(g,U,H.x,U);if(a<N.y)q.push(l,a,l,N.y);
if(i<H.y)q.push(l,i,l,H.y);if(W&&!d){if(H.x<N.x)q.push(H.x,o,N.x,o);if(N.x<H.x)q.push(N.x,U,H.x,U)}}}else{if(H.y>s.y)q.push(l,s.y,l,H.y);
if(a<s.y+s._)q.push(l,a,l,s.y+s._);if(H.x>s.x)q.push(s.x,U,H.x,U);if(Q<s.x+s.j)q.push(Q,U,s.x+s.j,U)}b.qV=!0}}if(this.q==2&&this.Hd){var $=new io(0,0,b.j,b._),I=b.t2();
if(I!=-1){var k=b.Wb(),_=k[1][this.FP];if(_==-1)_=I;$=b.R[_].Ey()}var D=b.bE[this.FP],A=D[0],F=(A==0?"X":"Y")+": "+e.VJ.x3(D[1]-(A==0?$.x:$.y),b.O4,this.Cc,A==0?$.j:$._,!0);
E.af.qE(Math.round(this.lx.x)+10,Math.round(this.lx.y)-10,[F],b);b.qV=!0}if(this.q==3&&this.Hd){var K=e.N.Q0(this.XK);
b.A.D_[this.id]={wY:K};b.qV=!0}};E.uW.prototype.aCJ=function(b,h){var G=b.j,H=b._,B=b.x+Math.floor(G*.2),j=b.y+Math.floor(H*.2);
h.push(B,b.y,B,b.y+H);h.push(b.x,j,b.x+G,j)};E.uW.prototype.tf=function(b,h){var G={q:w.p.dm,ji:b},H=new hb(w.E.b,!0);
H.data=G;h.Q(H)};E.uW.prototype.OQ=function(b){var h=this.ra.QO()[0];if(h==this.QP.length){var G=new hb(w.E.b,!0);
G.data={q:w.p.Gy,B9:"psd"};this.KB.Q(G);return}var H=this.SM,B=this.QP[h];this.any(H,B)};E.uW.prototype.Xa=function(b){var h=JSON.parse(JSON.stringify(this.Cc.x$));
h.Bl=this.GE.QO()[0];var G=new hb(w.E.b,!0);G.data={q:w.p.wP,CI:ec.dH,bq:h};this.KB.Q(G)};E.uW.prototype.Of=function(b,h,G,H,B){if(this.Hd)this.dq(b,h,G,H,B);
this.SM=b;this.Cc=G;this.KB=h;var j=b.s.Fj(B.x,B.y),s;if(E.uW.De(G,B,b.s)){s=this.GE}else{if(this.ra)this.ra.removeEventListener("select",this.OQ);
var q=[];b.root.cE(j,q);if(q.length==0)return;var Q=[];this.QP=q;for(var Y=0;Y<q.length;Y++)Q.push({name:b.R[q[Y]].getName(),oq:Y==q.length-1});
Q.push({name:[1,18],gR:!0});s=this.ra=new fL(Q);s.O("select",this.OQ,this)}s.parent=h;s.a();s.update(b,G);
var a=new hb(w.E.b,!0);a.data={q:w.p.YB,Wn:s,x:B._V+2,y:B.ZO+1};h.Q(a)};E.uW.prototype.aoV=function(b,h,G,H,B){var j=E.uW.KW(b,B);
return j!=-1||E.uW.De(G,B,b.s)};E.uW.KW=function(b,h){if(b==null||b.add.artd==null)return-1;var G=b.s.Fj(h.x,h.y),H=12*E.V()/b.s.D;
for(var Y=0;Y<b.R.length;Y++){var B=b.R[Y];if(!B.yY()||B.add.artb==null)continue;var j=B.Ey(),s=new io(j.x,j.y-1.7*H,H*B.getName().length*.5,H);
if(s.G_(G))return Y}return-1};E.uW.prototype.Ay=function(b,h,G,H,B){var j=E.uW.KW(b,B),s=E.uW.aan(b,b.s.Fj(B.x,B.y));
if(j!=-1){b.T=[j];if(G.vu==E.rQ){var q=new hb(w.E.b);q.data={q:w.p.CJ,S:E.Z4};h.Q(q)}return}if(s!=-1){b.s.Q5=s;
b.Jg=!0;var q=new hb(w.E.b,!0);q.data={q:w.p.tb,ut:jd.nI.azP};h.Q(q);return}this.lx=B;this.Rk.ve(B.x,B.y);
this.gN=b.s.Fj(B.x,B.y);this.C5=new a5(this.gN);this.eh(b,h,H,G,!0)};E.uW.De=function(b,h,G,H){var B=e.VJ.GC,j=G.q5._;
return b.EW&&(0<h.x&&h.x<B||0<h.y&&h.y<B||H&&0<h.x&&h.x<4*B&&j-B<h.y&&h.y<j)};E.uW.prototype.eh=function(b,h,G,H,B,j){var s,q=this.gN,Q=!1;
if(B){var a=H.U9&&H.x$.bE;if(E.uW.De(H,this.Rk,b.s)){s=b.Wb();var l=b.Wb(),U=null;if(this.Rk.x<e.VJ.GC){U=[0,q.x]}if(this.Rk.y<e.VJ.GC){U=[1,q.y]}l[0].push(U);
l[1].push(b.t2(!0));b.VK(l);if(!a){var N=new hb(w.E.b);if(!H.x$.bE){N.data={q:w.p.wP,CI:ec._U};h.Q(N)}if(!H.U9){N.data={q:w.p.wP,CI:ec.ZN};
h.Q(N)}a=!0}}var R=this.ax4(b,q);if(a&&R!=null&&!b.Td){this.q=2;this.eq=s?s:b.Wb();this.FP=R;this.Hd=!0;
this.aR=E.Y.Ki(b);return}if(b.ql.length!=0){this.q=4;this.aR=b.$B[b.ql[0]].rect.clone();this.Hd=!0;return}if(this.VB&&this.VB.qc(q,b.s.D,!0,this.lx)!=null){var N=new hb(w.E.b);
N.data={q:w.p.CJ,S:E.E4,anY:!0};h.Q(N);return}if(b.e&&b.e.rect.G_(q)){var S=Math.round(q.x),g=Math.round(q.y),i=b.e.rect;
Q=b.e.channel[(g-i.y)*i.j+S-i.x]>128}var y=this.U6.bf||fq==1;if(!Q&&(!this.Ha&&y||this.Ha&&y&&(G.W(ap.J3)||b.T.length<2))){var o=this.a82(b,q,G);
if(!o){b.T=[];b.mS=null;b.P6=b.VS=!0;this.q=3;this.XK=new io;this.Hd=!0;return}}if(G.W(ap.p0)&&!Q){var v=new hb(w.E.r);
v.S=E.nc;v.data={q:C.hR,amI:!0};h.Q(v)}}if(b.ql.length!=0){this.q=4;this.aR=b.$B[b.ql[0]].rect.clone();
this.Hd=!0;return}this.FP=b.bZ(j==null,j,null,!0);for(var Y=0;Y<this.FP.length;Y++){var Z=this.FP[Y],W=b.R[Z];
if(W.Xb(2)||W.Xb(31)||b.sC(Z)){alert(bp.get([6,57,0]));return}}if(b.add.artd&&B){var d=this.FP,$=!1;
for(var Y=0;Y<d.length;Y++)if(b.R[d[Y]].add.artb)$=!0;if(!$){this.rH=[b,b.R.slice(0),b.T.slice(0),-1];
this.FP.sort(function(V,r){return V-r})}}this.DJ=E.uW.aCc(b,this.FP);this.q=0;if(b.e&&(!B||Q)&&b.T.length==1&&b.s5(!1)){if(!b.aal()){this.Hd=!1;
return}var I=b.R[b.T[0]],k=G.W(ap.p0);this.q=1;var _=b.history[b.Wt];if(_.S==this&&_.data.q==1&&_.data.o==b.T[0]&&I.nD==I.lD.nD&&!k){this.Ih=_}else{var D=I.lD,A=!1,F;
if(!I.tv(b,b.e)||k){A=!0;I.fo(b,b.e,k)}if(I.lD.nD<=0){F=e.U(I.lD.qe.length>>2);e.uA(I.lD.qe,F,3)}else F=b.e.channel.slice(0);
var K={rect:I.lD.eQ.clone(),channel:F};this.Ih=new eN(k?[12,53]:[12,54],this);this.Ih.data={q:1,o:b.T[0],lD:I.lD,Ei:D,lr:A,QU:b.e,_r:K,tW:new cJ(0,0)};
b.vU(this.Ih);b.e=K;b.nh=!0}}this.Hd=!0;this.aR=E.Y.Ki(b)};E.uW.prototype.a82=function(b,h,G){var H=b.root.cE(new cJ(Math.floor(h.x),Math.floor(h.y)));
if(H){if(H.o.add.vmsk)b.qV=!0;var B=b.R.indexOf(H.o);if(this.U6.auJ==0){var j=b.root.DE(B);while(j.parent&&j.parent.depth!=0&&j.parent.o.add.artb==null)j=j.parent;
B=j.index}if(G.W(ap.J3)){var s=b.T.indexOf(B);if(s==-1)b.T.push(B);else if(b.T.length>1)b.T.splice(s,1)}else if(b.T.indexOf(B)==-1){this.any(b,B)}}return H!=null};
E.uW.prototype.any=function(b,h){b.R[h].nD=0;b.T=[h];b.mS=null;b.cY();b.fH=!0;b.P6=!0};E.uW.aan=function(b,h){var G=b.add.Anno;
if(G==null||G.length==0)return-1;var H=30/b.s.D;for(var Y=0;Y<G.length;Y++)if(new io(G[Y][0],G[Y][1],H,H).G_(h))return Y;
return-1};E.uW.prototype.Jl=function(b,h,G,H,B){this.lx=B;var j=b.s.Fj(B.x,B.y),R,S;if(this.C5&&this.q<2)j=this.C5.$X(j,H);
if(!this.Hd){if(G.U9&&G.x$.bE&&b&&!b.Td){var s=this.ax4(b,j),q="default",Q=E.uW.KW(b,B);if(s!=null)q=["col-resize","row-resize"][b.bE[s][0]];
else if(this.VB){var a=this.VB.qc(j,b.s.D,null,B);if(a)q=a}else if(Q!=-1||E.uW.aan(b,j)!=-1){q="pointer"}this.tf(q,h)}this.T9(b,j);
return}var l=this.gN,U=Math.round(j.x-l.x)-this.Al.x,N=Math.round(j.y-l.y)-this.Al.y;if(this.aR){if(this.q==2){var g=[];
if(b.e)g.push(b.e.rect);if(this.aR)g.push(this.aR);if(b.s.zq)g.push(b.s.zq);j=E.uW.HV(b,j,G,[!1,g,!0,!0])}else{S=this.aR.clone();
S.offset(this.Al.x+U,this.Al.y+N);R=E.uW.VP(b,S,G);var i=this.C5.a8h(H);if(i==1){R[0]=0;R[2]=1e9}if(i==2){R[1]=0;
R[3]=1e9}U+=Math.round(R[0]);N+=Math.round(R[1])}}this.Al.x+=U;this.Al.y+=N;var y=this.rH;if(y&&b==y[0]){b.Rf(y[1]);
b.T=y[2].slice(0);y[3]=-1}this.X4(b,U,N,j,null,H.W(ap.J3));if(y&&b==y[0]){var o=this.aR.clone();o.offset(this.Al.x,this.Al.y);
var v=j,Q=b.t2(),Z=-1;for(var Y=0;Y<b.R.length;Y++){var W=b.R[Y];if(!W.yY()||W.add.artb==null)continue;
var d=W.Ey();if(d.G_(v))Z=Y}if(Z!=-1&&Z!=Q){var $=E.lk.HY(b,this.FP,Z,!0,null,!1);b.Rf($[0]);b.T=$[1];
y[3]=Z}}this.T9(b,j);if(R)E.uW.jy(b,S,R)};E.uW.prototype.ax4=function(b,h){var G=E.Et(b,this.lx);h=[h.x,h.y];
var H=b.Wb(),B=b.t2();for(var Y=0;Y<H[0].length;Y++){var j=H[0][Y],s=H[1][Y];if(s!=-1&&s!=B)continue;
if(Math.abs(j[1]-h[j[0]])<G)return Y}return null};E.uW.prototype.X4=function(b,h,G,H,B,j){if(this.q==0){if(B)E.uW.tE(b,this.FP,this.DJ,B);
else E.uW.a5(b,this.FP,this.DJ,h,G)}else if(this.q==1){var s=this.Ih.data;s.tW.offset(h,G);E.uW.sJ(b,s.o,h,G)}else if(this.q==2){var q=1e-5;
if(j)q=b.s.D<=1?10:1;var Q=q*Math.round(H.x/q),a=q*Math.round(H.y/q),l=[Q,a],U=b.bE[this.FP];U[1]=l[U[0]]}else if(this.q==3){var N=this.gN,R=e.N.sm([N.x,N.y,H.x,H.y]);
this.XK=R;var S=[];b.root.Hk(R,S);if(JSON.stringify(b.T)!=JSON.stringify(S)){b.T=S;b.P6=b.VS=!0}}else if(this.q==4){for(var Y=0;
Y<b.ql.length;Y++)b.$B[b.ql[Y]].rect.offset(h,G);b.qV=!0}};E.uW.sJ=function(b,h,G,H){var B=b.R[h];b.e.rect.offset(G,H);
B.Cw(b,G,H,b.e);b.nh=!0;b.c()};E.uW.prototype.dq=function(b,h,G,H,B,j){this.DC(b,B,G);this.T9(b);if(Date.now()-this.RH<300&&!j){var s=E.oP.mD(b,b.s.Fj(B.x,B.y));
if(E.uW.De(G,B,b.s,!0)){var q=new hb(w.E.b);if(B.y>b.s.q5._-20){q.data={q:w.p.C9,ut:"doczoom",Wy:b.s.D*100,BM:{K:w.E.r,S:E.TC,i:{q:"pzoom"}}}}else{q.data={q:w.p.C9,ut:"preferences"}}h.Q(q)}else if(s>=0){var Q=new hb(w.E.r,!0);
Q.S=E.rd;Q.data={q:"editCurr",RI:s};h.Q(Q)}}this.RH=Date.now();E.w8.zy(b)};E.uW.prototype.DC=function(b,h,G,H,B){if(!this.Hd)return;
this.Hd=!1;if(this.q==0){if(H){this.a2S(b,null,H,B)}else{if(this.Al.x==0&&this.Al.y==0)return;this.a2S(b,this.Al.clone())}b.Jg=!0}else if(this.q==2){var j=0;
h=[h.x,h.y];var s=this.FP,q=b.bE[s],fR=this.eq[0].length,Q=b.bE.length;if(G.EW&&h[q[0]]<e.VJ.GC){var a=b.Wb();
a[0].splice(s,1);a[1].splice(s,1);b.VK(a);j=1;if(fR==Q-1)return}if(fR<Q)j=2;var l=new eN([[23,2],[23,3],[23,4]][j],this);
l.data={q:2,eq:this.eq,ez:b.Wb()};b.vU(l)}else if(this.q==4){var l=new eN([12,54],this);l.data={q:4,T:b.ql.slice(0),f:this.Al.clone()};
b.vU(l)}this.Al.ve(0,0)};E.uW.prototype.Z1=function(b,h,G,H){var B=H.in(b?b.s.ej:0);if(b!=null&&(B.x!=0||B.y!=0)){if(H.W(ap.p0)&&b.e==null){var j=new hb(w.E.r);
j.S=E.nc;j.data={q:C.hR,amI:!0};h.Q(j)}this.Al.ve(B.x,B.y);this.eh(b,h,H,G,!1);if(!this.Hd)return;this.X4(b,B.x,B.y);
this.DC(b,null,G);this.T9(b)}var s=H.W(ap.zb);if(!this.Ha&&this.a8L!=s){if(s){this.at4=this.U6.bf;this.U6.bf=!0}else{this.U6.bf=this.at4}this.a8L=s;
var q=new hb(w.E.b,!0);q.data={q:w.p.XM,S:this.id,Mo:this.U6};h.Q(q)}};E.uW.prototype.sv=function(b,h){if(b.q==0){var G=b.BV;
if(G){h.Rf(G.zo);h.T=G.KO.slice(0);h.c();h.P6=!0}E.uW.tE(h,b.T,b.cz,b.Nq,!0);E.w8.zy(h)}else if(b.q=="fcmy"||b.q=="fvec"){if(b.Wy==0)delete h.add[b.q];
else h.add[b.q]=b.Wy;h.qV=!0}else if(b.q=="pview"){h.hy=!h.hy;h.c()}else if(b.q==2){h.VK(b.eq);h.qV=!0}else if(b.q==4){for(var Y=0;
Y<b.T.length;Y++)h.$B[b.T[Y]].rect.offset(-b.f.x,-b.f.y);h.qV=!0}else{var H=h.R[b.o];if(b.lr){H.Ao(h,b.Ei);
h.e=b.QU;h.nh=!0;h.c();H.c()}else{E.uW.sJ(h,b.o,-b.tW.x,-b.tW.y)}}};E.uW.prototype.uF=function(b,h){if(b.q==0){E.uW.tE(h,b.T,b.cz,b.Nq);
var G=b.BV;if(G){h.Rf(G.tG);h.T=G.e2.slice(0);h.c();h.P6=!0}E.w8.zy(h)}else if(b.q=="fcmy"||b.q=="fvec"){if(b.bq==0)delete h.add[b.q];
else h.add[b.q]=b.bq;h.qV=!0}else if(b.q=="pview"){h.hy=!h.hy;h.c()}else if(b.q==2){h.VK(b.ez);h.qV=!0}else if(b.q==4){for(var Y=0;
Y<b.T.length;Y++)h.$B[b.T[Y]].rect.offset(b.f.x,b.f.y);h.qV=!0}else{var H=h.R[b.o];if(b.lr){H.lD=b.lD;
h.e=b._r;E.uW.sJ(h,b.o,0,0);H.c()}else{E.uW.sJ(h,b.o,b.tW.x,b.tW.y)}}};E.uW.prototype.a2S=function(b,h,G,H){if(G){var B=!0;
for(var Y=0;Y<G.length;Y++)if(G[Y]!=0)B=!1;if(B)return}var j=b.history[b.Wt],s=this.rH,q=s!=null&&s[3]!=-1&&s[0]==b;
if(!q&&G==null&&j.data&&j.S==this&&j.data.q==0&&JSON.stringify(j.data.T)==JSON.stringify(this.FP)&&JSON.stringify(j.data.cz)==JSON.stringify(this.DJ)){var Q=j.data.Nq,a=j.data.ami.yo.T.v;
a.Hrzn.v.val+=h.x;a.Vrtc.v.val+=h.y;for(var Y=0;Y<Q.length;Y+=2){Q[Y]+=h.x;Q[Y+1]+=h.y}}else{if(h==null)h=new cJ(G[0],G[1]);
var l={f6:"move",yo:{classID:"null",null:aX.eP("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:h.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:h.y}}}}}},U=null;
if(q)U={zo:s[1],KO:s[2],tG:b.R.slice(0),e2:b.T.slice(0)};this.rH=null;var N=new eN(H?H:[12,54],this);
if(G)N.data={q:0,T:this.FP,cz:this.DJ,BV:U,Nq:G};else N.data={q:0,T:this.FP,cz:this.DJ,BV:U,Nq:E.uW.apA(this.FP,h.x,h.y)};
N.data.ami=l;b.vU(N);this.track(l)}};E.uW.apA=function(b,h,G){var H=[];for(var Y=0;Y<b.length;Y++)H.push(h,G);
return H};E.uW.a5=function(b,h,G,H,B){E.uW.tE(b,h,G,E.uW.apA(h,H,B))};E.uW.tE=function(b,h,G,H,B){if(h.length==0)return;
if(G==null){G=[];for(var Y=0;Y<h.length;Y++){G.push(b.R[h[Y]]._j(b,!0))}}var j=new io,s=new io(0,0,b.j,b._);
for(var Y=0;Y<h.length;Y++){var q=H[2*Y],Q=H[2*Y+1];if(B){q=-q;Q=-Q}var a=b.R[h[Y]],l=G[Y];if(a.add.fxrp&&(l.indexOf(0)!=-1||a._5()))a.add.fxrp.offset(q,Q);
for(var U=0;U<l.length;U++){var N=l[U];if(N==0){a.rect.offset(q,Q);if(a.Ag()&&a.T0(b))a.T0(b).rect.offset(q,Q);
if(a.add.artb){var R=a.Ey();R.offset(q,Q);a.b8(R);var S=a.add.artb.guideIndeces;S=S?S.v:[];for(var g=0;
g<S.length;g++){var i=b.bE[S[g].v];i[1]+=i[0]==0?q:Q}}if(a.add.TySh){a.add.TySh.h.translate(q,Q);if(a.add.TySh.add){a.add.TySh.add.vmsk.offset(q,Q)}}if(a.add.SoLd){var y=new eq(1,0,0,1,q,Q),o=a.add.SoLd,v=E.Y.DM(o.Trnf),Z=E.Y.DM(o.nonAffineTransform);
e.N.h(v,y,v);e.N.h(Z,y,Z);o.Trnf=E.Y.Ll(v);o.nonAffineTransform=E.Y.Ll(Z);E.Y.amo(o,y)}}if(N==1)a.Y1().rect.offset(q,Q);
if(N==2){a.add.vmsk.offset(q,Q);if(a.add.vogk)e.Bs.h(a.add.vogk,[1,0,q,0,1,Q,0,0],[]);if(a.Z5.L6){var W=a.Z5.L6.Js.m;
e.N.h(W,new eq(1,0,0,1,q,Q),W)}}if(N==3){a.T0(b).u.rect.offset(q,Q);if(l.length==1)a.c()}}if(l.length>0){var d=a.add.GdFl;
if(d==null)d=a.add.PtFl;if(a._5()&&!a.Dc()&&a.add.vmsk!=null&&e.n.Pi(a.add.vmsk.d)&&a.add.vmsk.Hs==255&&(d==null||d.Algn&&d.Algn.v)){a.rect.offset(q,Q)}else a.vw(b);
var $=b.root.mG(a.xu(b),b,h[Y]);if(a.add.artb)$=$.gJ(a.Ey());j=j.gJ($);$.offset(-q,-Q);j=j.gJ($);if(a.TY()&&a.u&&a.u.color==255)j=j.gJ(s);
a.a40()}}b.c(e.N.lZ(j))};E.uW.aCc=function(b,h){var G=[];for(var Y=0;Y<h.length;Y++){var H=b.R[h[Y]];
G.push(H._j(b))}return G};E.uW.jy=function(b,h,G){var H={m:[],Gc:[]},B=h.x+G[0],j=h.y+G[1];if(G[2]!=1e9){H.Gc.push("M","L");
var s=j+h._;if(G[4])H.m.push(G[2],Math.min(j,s,G[4][1]),G[2],Math.max(j,s,G[4][1]));else H.m.push(G[2],j,G[2],j+h._)}if(G[3]!=1e9){H.Gc.push("M","L");
var q=B+h.j;if(G[5])H.m.push(Math.min(B,q,G[5][0]),G[3],Math.max(B,q,G[5][0]),G[3]);else H.m.push(B,G[3],q,G[3])}if(H.m.length!=0){b.A.VE=H;
b.qV=!0}};E.uW.HV=function(b,h,G,H){var B=E.uW.afO(b,[[h.x],[h.y]],G,H);return new cJ(h.x+B[0],h.y+B[1])};
E.uW.VP=function(b,h,G,H,B){var j=B==!0?1:.5,s=E.uW.afO(b,[[h.x,h.x+Math.round(h.j*j),h.x+h.j],[h.y,h.y+Math.round(h._*j),h.y+h._]],G,H);
return s};E.uW.afO=function(b,h,G,H){if(H==null)H=[!0,null,!0];var B=[0,0,1e9,1e9,null,null];if(!G.$Q)return B;
var j=JSON.parse(JSON.stringify(h));for(var s=0;s<2;s++){var q=1e9,Q=h[s],a=0,l=null;for(var U=0;U<Q.length;
U++){var N=E.uW.aDu(b,Q[U],j[1-s][U],s,G,H),R=N[0];if(R!=1e9)j[s][U]=R;if(R!=1e9&&Math.abs(R-Q[U])<Math.abs(q)){q=R-Q[U];
a=R;l=N[1]}}if(q!=1e9){B[s]=q;B[s+2]=a;B[s+4]=l}}return B};E.uW.aDu=function(b,h,G,H,B,j){var s=1e9,q=null,Q=B.HT,a=B.x$,l=[b.root];
while(l.length!=0&&Q[2]){var U=l.pop(),N=U.o,R=N.rect;if(!N.yY())continue;if(U.children)for(var Y=0;
Y<U.children.length;Y++)l.push(U.children[Y]);if(b.T.indexOf(U.index)!=-1||R.Zx())continue;var S=R.j,g=S>>>1,i=R._,y=i>>>1,o=s;
if(H==0){if(Math.abs(R.x-h)<Math.abs(s-h))s=R.x;if(Math.abs(R.x+g-h)<Math.abs(s-h))s=R.x+g;if(Math.abs(R.x+S-h)<Math.abs(s-h))s=R.x+S}else{if(Math.abs(R.y-h)<Math.abs(s-h))s=R.y;
if(Math.abs(R.y+y-h)<Math.abs(s-h))s=R.y+y;if(Math.abs(R.y+i-h)<Math.abs(s-h))s=R.y+i}if(o!=s){q=[R.x+g,R.y+y]}}var v=s;
s=1e9;if(j[0]&&Q[0]&&a.bE&&B.U9){var Z=b.Wb(),W=Z[0],d=Z[1],$=b.t2();for(var Y=0;Y<W.length;Y++)if((d[Y]==-1||d[Y]==$)&&W[Y][0]==H&&Math.abs(W[Y][1]-h)<Math.abs(s-h))s=W[Y][1]}if(Q[1]&&a.XC&&B.U9){var I=Math.round(e.VJ.nB(a.MM,b.O4,b.j,a.Ob));
if(H==1&&a.RA==1){var k=G*.5*Math.sqrt(4/3),_;I*=Math.sqrt(4/3);_=Math.round((h-k)/I)*I+k;if(Math.abs(_-h)<Math.abs(s-h))s=_;
_=Math.round((h+k)/I)*I-k;if(Math.abs(_-h)<Math.abs(s-h))s=_}else{var _=Math.round(h/I)*I;if(Math.abs(_-h)<Math.abs(s-h))s=_}}var D=b.Rd;
if(Q[3]&&a.Rd&&B.U9&&D.length!=0){for(var Y=0;Y<D.length;Y++){if(!j[2]&&b.qB.indexOf(Y)!=-1)continue;
var A=E.gt.Pq(D,Y);for(var F=0;F<3;F+=2)if(A[F+H]!=h&&Math.abs(A[F+H]-h)<Math.abs(s-h))s=A[F+H]}}if(j[1])for(var K=0;
K<j[1].length;K++){var R=j[1][K],S=R.j,i=R._,g=S>>>1,y=i>>>1;if(j[3]){g=S/2;y=i/2}var V=[R.x,R.y,R.x+g,R.y+y,R.x+S,R.y+i];
for(var Y=0;Y<6;Y+=2)if(Math.abs(V[Y+H]-h)<Math.abs(s-h))s=V[Y+H]}if(Q[4]){var R=new io(0,0,b.j,b._),$=b.t2();
if($!=-1)R=b.R[$].Ey();var S=R.j,i=R._,g=S>>>1,y=i>>>1;if(j[3]){g=S/2;y=i/2}var V=[R.x,R.y,R.x+g,R.y+y,R.x+S,R.y+i];
for(var Y=0;Y<6;Y+=2)if(Math.abs(V[Y+H]-h)<Math.abs(s-h))s=V[Y+H]}if(Math.abs(s-h)<=Math.abs(v-h))q=null;
else s=v;var r=Math.abs(s-h)<=4*E.V()/b.s.D?s:1e9;return[r,q]};E.Oz=function(){E.pC.call(this,[10,12],E.tz,"tools/mwand");
this.v1=null};E.Oz.prototype=new E.pC;E.Oz.prototype._M=function(b,h,G,H){this.v1=H;this.a4W=this.U6.wconf[0];
this.finish(b,h,G,H)};E.Oz.prototype.wv=function(b,h,G,H,B){if(!H.mN)return;var j=new hb(w.E.r);j.S=E.Ck;
j.data={q:"h_stepbck"};B.Q(j);var s=H.x-this.v1.x,q=Math.max(0,Math.min(255,Math.round(this.a4W+s/4)));
this.U6.wconf[0]=q;this.OH(B);this.finish(b,h,G,this.v1)};E.Oz.prototype.om=function(b,h,G,H,B){this.U6.wconf[0]=this.a4W;
this.OH(B)};E.Oz.prototype.getSelection=function(b,h,G,H){var B=this.EA;B=b.s.Fj(H.x,H.y);var j=E.pC.ajZ(new cJ(Math.floor(B.x),Math.floor(B.y)),this.U6.wconf,this.U6.sall);
return j};E.Oz.aqf=function(b,h,G,H,B){if(h.x<0||h.x>b.j||h.y<0||h.y>b._)return null;var j,s=new io(0,0,b.j,b._);
if(H)j=b.Nw();else{var q=b.T.length,a=null;if(q!=1){alert(q==0?"No layer selected.":"More than one layer selected.");
return null}var Q=b.R[b.T[0]],l=Q.nD<=0?null:Q.nD==1?Q.Y1():Q.T0(b).u;if(B||l&&l.Da)a=l;if(a==null&&Q.add.lsct!=null&&Q.add.lsct!=c1.GR){alert("No layer selected.");
return null}if(a==null&&s.TW(Q.rect))j=Q.buffer;else{j=e.U(s.X()*4);if(a==null)e.JE(Q.buffer,Q.rect,j,s);
else E.Qb.Uv(a.channel,a.rect,a.color,j,s)}}var U=E.Oz.pH(j,s,h,null,G),N=e.VM(U,s),R=e.U(N.X());e.wX(U,s,R,N);
return{rect:N,channel:R}};E.Oz.hI=function(b,h,G){var H=h.j,B=h._,s=0,q=0,Q=0,a=0;b=new Uint32Array(b.buffer);
var j=[],l=G.length;for(var Y=0;Y<l;Y++){var U=G[Y],N=Math.round(U.x-.5-h.x),R=Math.round(U.y-.5-h.y);
N=Math.max(0,Math.min(H-1,N));R=Math.max(0,Math.min(B-1,R));var S=R*H+N,g=b[S];j.push([g&255,g>>8&255,g>>16&255,g>>>24])}return j};
E.Oz.pH=function(b,h,G,H,B){b=new Uint32Array(b.buffer);var j=h.j,s=h._,q=j*s;if(H==null)H=E.Oz.hI(b,h,[G]);
var Q=Math.round(G.x-.5-h.x),a=Math.round(G.y-.5-h.y),l=a*j+Q,U=Date.now(),N=e.U(j*s),R=B[0],S=1/R,g=B[1]&&R>0?255:0;
if(B[2]){var i=e.U(N.length),y=new Uint32Array(q),o=1;y[0]=Q<<16|a;i[l]=1;while(o>0){var v=y[o-1];o--;
var Z=v>>>16,W=v&65535,Y=W*j+Z,d=E.Oz.IG(b[Y],H);if(d>R){var $=g*(1-Math.max(0,Math.min(1,(d-R)*S)));
N[Y]=~~$}else{N[Y]=255;if(W!=s-1&&i[Y+j]==0){y[o++]=Z<<16|W+1;i[Y+j]=1}if(W!=0&&i[Y-j]==0){y[o++]=Z<<16|W-1;
i[Y-j]=1}if(Z!=j-1&&i[Y+1]==0){y[o++]=Z+1<<16|W;i[Y+1]=1}if(Z!=0&&i[Y-1]==0){y[o++]=Z-1<<16|W;i[Y-1]=1}}}}else{for(var Y=0;
Y<q;Y++){var d=E.Oz.IG(b[Y],H);if(d<=R)N[Y]=255}for(var W=0;W<s;W++)for(var Z=0;Z<j;Z++){var Y=W*j+Z;
if(N[Y]==0&&(Z>0&&(N[Y-1]==255||W>0&&N[Y-j-1]==255||W<s-1&&N[Y+j-1]==255)||Z<j-1&&(N[Y+1]==255||W>0&&N[Y-j+1]==255||W<s-1&&N[Y+j+1]==255)||W>0&&N[Y-j]==255||W<s-1&&N[Y+j]==255)){var d=E.Oz.IG(b[Y],H),$=g*(1-Math.max(0,Math.min(1,(d-R)*S)));
N[Y]=~~$}}}return N};E.Oz.IG=function(b,h){var G=h.length,H=E.Oz.aAc(b,h[0]),Y=1;while(Y!=G){H=Math.min(H,E.Oz.aAc(b,h[Y]));
Y++}return H};E.Oz.aAc=function(b,h){var G=b&255,H=b>>>8&255,B=b>>>16&255,j=b>>>24&255;if(h[3]==0)return j<5?0:255;
var s=Math.max(Math.abs(G-h[0]),Math.max(Math.abs(H-h[1]),Math.abs(B-h[2])));return j==0?255:s};E.nQ=function(b,h){if(h)E.Qb.call(this);
else if(b)E.Qb.call(this,[10,49],E.Px,"tools/camove");else E.Qb.call(this,[10,26],E.ct,"tools/patch");
this.YS=null;this.L6=null;this.f=null;this.ZP=null;this.U5=new cJ;this.Rz=null;this.Jy=null};E.nQ.prototype=new E.Qb;
E.nQ.prototype.Ay=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y);if(b.e&&e.cE(j,b.e.channel,b.e.rect)){var s=new io(0,0,b.j,b._),q=s.D4(b.e.rect);
if(!b.s5()||q.Zx())return;if(!0){var Q=e.U(q.X());e.wX(b.e.channel,b.e.rect,Q,q);b.e={channel:Q,rect:q}}this.Rc(b);
this.Ir(b);this.ZP=j;this.U5=new cJ(j.x-b.e.rect.x,j.y-b.e.rect.y);this.Jy=e.U(b.e.rect.X()*4);this.Jy.fill(255);
if(this.U6.patch==1){var a=b.R[b.T[0]];a.fo(b,b.e,!0);if(a.lD==null)this.ZP=null}this.Rz=b.e.rect.clone()}else{this.L6={m:[j.x,j.y],Gc:["M"]};
this.YS=j}};E.nQ.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y);if(this.ZP){if(this.U6.patch==1){if(b.ql.length==0){var s=b.R[b.T[0]].lD,q=j.x-this.U5.x,Q=j.y-this.U5.y;
E.uW.sJ(b,b.T[0],Math.round(q-s.eQ.x),Math.round(Q-s.eQ.y))}}else this.adJ(b,j,"clone")}if(this.YS){this.L6.Gc.push("L");
this.L6.m.push(j.x,j.y);this.YS=j;b.A.wY=this.L6;b.qV=!0}};E.nQ.prototype.dq=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y);
if(this.ZP){var s=b.e.rect.clone();if(this.id==E.Px){var q=b.R[b.T[0]];q.Ao(b,q.lD);b.e.rect=this.Rz.clone();
var Q=e.U(b.e.rect.X()*4);e.aj(b.e.channel,Q,3);this.p5(b,"sheal",Q,b.e.rect,b.e.rect);b.e.rect=s;s=s.gJ(this.Rz)}this.adJ(b,j,"heal");
this.finish(b,s,null,null,!0);b.c(s);this.ZP=null}if(this.YS){var a=E.pC.oY(this.U6.setop,H.W(ap.J3),H.W(ap.p0)),l=new hb(w.E.IK,!0);
if(this.L6.m.length<=4)l.data=E.pC.V$();else l.data=E.pC.ZJ(this.L6.m,a);h.Q(l);this.YS=null;b.A.wY=null;
b.qV=!0}};E.nQ.prototype.z1=function(){return this.f};E.nQ.prototype.Fy=function(b,h,G,H,B){E.Qb.prototype.Fy.call(this,b,h,G,H,B);
this.tf(B,H)};E.nQ.prototype.tf=function(b,h){var G="auto;";if(h!=null&&h.W(ap.J3)&&!h.W(ap.p0)||this.U6.setop=="union")G="copy";
var H=new hb(w.E.b,!0);H.data={q:w.p.dm,ji:G};if(this.caller)this.caller.Q(H)};E.nQ.prototype.adJ=function(b,h,G){var H=new cJ(Math.round(this.ZP.x-h.x),Math.round(this.ZP.y-h.y));
if(this.U6.patch==1)H.ve(-H.x,-H.y);this.f=H;this.p5(b,G,this.Jy,b.e.rect,b.e.rect);this.c(b,b.e.rect)};
E.ahG=function(){E.nQ.call(this,!0);this.U6.patch=1};E.ahG.prototype=new E.nQ(!0,!0);E.Gi=function(b){if(b)E.Qb.call(this,[10,52],E.ald,"tools/meraser");
else E.Qb.call(this,[10,13],E.a7$,"tools/pbucket");this.nf=!1;this.aae=b};E.Gi.prototype=new E.Qb;E.Gi.prototype.enable=function(b,h,G,H){var B=new hb(w.E.b,!0);
B.data={q:w.p.dm,ji:"default"};h.Q(B)};E.Gi.prototype.rN=function(b,h){};E.Gi.prototype.Ay=function(b,h,G,H,B){if(this.R3(b,h,G,H,B,!0))return;
this.nf=!0};E.Gi.prototype.Jl=function(b,h,G,H,B){if(this.R3(b,h,G,H,B))return};E.Gi.prototype.dq=function(b,h,G,H,B,j){this.enable(b,h,G,H);
var s=this.nf;this.nf=!1;if(!s||j)return;if(!b.s5())return;var q=b.s.Fj(B.x,B.y),Q=E.Oz.aqf(b,q,this.U6.wconf,this.U6.sall,!0);
if(Q==null)return;var a=e.U(Q.rect.X()*4);e.Zi(a,(G.nU&255)<<16|(G.nU>>8&255)<<8|(G.nU>>16&255)<<0);
e.aj(Q.channel,a,3);this.Rc(b);this.p5(b,this.aae?"erase":"draw",a,Q.rect,Q.rect);this.c(b,Q.rect);this.finish(b,Q.rect)};
E.ms=function(){E.pC.call(this,[10,14],E.atp,"tools/plasso");this.xT="crosshair";this.y1=[];this.GM=null;
this.L6=null;this.al4=0};E.ms.prototype=new E.pC;E.ms.prototype.disable=function(b,h,G,H){this.gx(b)};
E.ms.prototype._M=function(b,h,G,H){this.y1=[ap.TD,ap.Y6]};E.ms.prototype.BB=function(b){return this.y1.indexOf(b)!=-1};
E.ms.prototype.xX=function(b){return this.L6!=null};E.ms.prototype.sE=function(){return this.L6!=null};
E.ms.prototype.W1=function(){return this.L6!=null};E.ms.prototype.wv=function(b,h,G,H){if(this.L6==null)return;
var B=this.L6,j=B.m,s=j.length-2,q=this.EA;if(this.M6.bo(1)&&G.W(ap.p0)&&H.mN){j.push(0,0);B.Gc.push("L");
s+=2}else if(G.W(ap.J3))q=E.Yk.wk(new cJ(j[s-2],j[s-1]),q);j[s]=q.x;j[s+1]=q.y;b.A.wY=B;b.qV=!0};E.ms.prototype.om=function(b,h,G,H){var B=Date.now();
if(this.L6==null)this.L6={m:[this.EA.x,this.EA.y,this.EA.x,this.EA.y],Gc:["M","L"]};else{this.wv(b,h,G,H);
if(B-this.al4<250||cJ.o0(this.EA,new cJ(this.L6.m[0],this.L6.m[1]))<E.Et(b,H)){this.GM=this.L6;this.finish(b,h,G,H);
this.gx(b);return}this.L6.Gc.push("L");this.L6.m.push(this.EA.x,this.EA.y)}this.al4=B;b.A.wY=this.L6};
E.ms.prototype.gx=function(b){this.L6=null;this.y1=[];if(b!=null){b.A.wY=null;b.qV=!0}};E.ms.prototype.Z1=function(b,h,G,H){E.pC.prototype.Z1.call(this,b,h,G,H);
if(H.W(ap.Ac)&&this.L6==null&&this.GM&&b.e!=null){var B=new hb(w.E.r);B.S=E.Ck;B.data={q:"h_stepbck"};
h.Q(B);this._M(b,G,H,null);this.L6=this.GM;return}if(this.L6==null)return;if(H.W(ap.TD)||H.W(ap.Y6)){this.L6.m.pop();
this.L6.m.pop();this.L6.Gc.pop();this.wv(b,G,H)}if(H.W(ap.pr)){if(this.L6.m.length>4){this.GM=this.L6;
this.finish(b,G,H)}this.L6=null}if(H.W(ap.Ac)){this.L6=null}b.A.wY=this.L6;b.qV=!0};E.ms.prototype.getSelection=function(b,h,G,H){return E.pC.ZJ(this.L6.m,null,this.U6.anta)};
E.K0=function(){E.pC.call(this,[10,10],E.ayW,"tools/mlasso");this.xT="crosshair";this.y1=[];this.d=[];
this.DY=[];this.Yr=[];this._Y=null;this.By=null;this.k4=null;this.RH=0;this.yE=0};E.K0.prototype=new E.pC;
E.K0.prototype.disable=function(b,h,G,H){this.clear(b)};E.K0.prototype.xX=function(b){return this.d.length!=0};
E.K0.prototype.W1=function(){return this.d.length!=0};E.K0.prototype.BB=function(b){return this.y1.indexOf(b)!=-1};
E.K0.prototype._M=function(b,h,G,H){this.y1=[ap.TD,ap.Y6];var B=this.cJ(this.dp,b);if(this.d.length!=0&&(cJ.o0(B,this.d[0])<E.Et(b,H)||Date.now()-this.RH<300)){this.VC(b,this.d[0]);
this.finish(b,h,G);this.clear(b);return}this.RH=Date.now();if(this.d.length!=0)B=this.dC(B,b);else{var j=b.j,s=b._,q=e.U(j*s),Q=b.Nw(),a=j*s*4;
for(var Y=0;Y<a;Y+=4)q[Y>>>2]=~~(.5+e.ZK(Q[Y],Q[Y+1],Q[Y+2])*(Q[Y+3]*(1/255)));this._Y=e.vE.aor(q,j,s);
this.k4=new Uint16Array(q.length)}this.VC(b,B);this.yE=G.W(ap.p0)?1:0;this.wB(b)};E.K0.prototype.VC=function(b,h){var G=this.d;
this.DY[G.length]=this.Yr.length;if(G.length!=0){e.vE.ZL(this.By,h.y*b.j+h.x);var H=this.OA(b,h);H.reverse();
var B=E.K0.as2(b,H);this.Yr=this.Yr.concat(B)}G.push(h);this.aDs(b)};E.K0.prototype.aDs=function(b){var h=this.d[this.d.length-1],G=h.y*b.j+h.x;
this.By=e.vE.a4r(this._Y.aM,this._Y.Vp,G);this.k4.fill(0)};E.K0.prototype.cJ=function(b,h){return new cJ(Math.floor(Math.max(0,Math.min(h.j-1,b.x))),Math.floor(Math.max(0,Math.min(h._-1,b.y))))};
E.K0.prototype.clear=function(b){this.Yr=[];this.d=[];this.DY=[];this._Y=null;this.By=null;this.k4=null;
if(b!=null){b.A.wY=null;b.A.fj=[];b.qV=!0}this.y1=[]};E.K0.prototype.wv=function(b,h,G,H){var B=this.d,j=B.length;
if(j==0)return;var s=this.dC(this.cJ(this.EA,b),b),q=this.OA(b,s);for(var Y=0;Y<q.length;Y++){var Q=q[Y],a=new cJ(Q%b.j,Math.floor(Q/b.j));
if(this.k4[Q]>30&&cJ.o0(a,B[j-1])>20){this.VC(b,a);return}this.k4[Q]++}if(this.yE==1&&H.mN)this.VC(b,s);
this.wB(b)};E.K0.prototype.wB=function(b){var h=this.d;if(h.length!=0){var G=this.dC(this.cJ(this.EA,b),b),H=this.OA(b,G);
H.reverse();var B=E.K0.as2(b,H),j=this.Yr.concat(B),s=b.A.wY={m:j,Gc:["M"]};for(var Y=2;Y<j.length;Y+=2)s.Gc.push("L")}b.A.fj=[];
for(var Y=0;Y<h.length;Y++)b.A.fj.push(h[Y].x+.5,h[Y].y+.5);b.qV=!0};E.K0.prototype.om=function(b,h,G,H){};
E.K0.prototype.Z1=function(b,h,G,H){if(this.d.length==0)return;if(H.W(ap.TD)||H.W(ap.Y6)){this.d.pop();
this.Yr=this.Yr.slice(0,this.DY[this.d.length]);this.DY.pop();if(this.d.length==0)this.clear(b);else this.aDs(b);
this.wB(b)}if(H.W(ap.pr)){var B=this.cJ(this.EA,b);this.VC(b,B);this.finish(b,G,H);this.clear(b)}if(H.W(ap.Ac)){this.clear(b)}};
E.K0.prototype.getSelection=function(b,h,G,H){return E.pC.ZJ(this.Yr,null,this.U6.anta)};E.K0.prototype.OA=function(b,h){var G=this.d[this.d.length-1],H=G.y*b.j+G.x,B=h.y*b.j+h.x;
if(this.yE==1)return[B,H];var j=[B];while(B!=H){B=this.By.R6[B];j.push(B);if(j.length>5e3){console.log(j);
throw"e"}}return j};E.K0.as2=function(b,h){var G=[],H=b.j;for(var Y=0;Y<h.length;Y++){var B=h[Y];G.push(B%H+.5,Math.floor(B/H)+.5)}return G};
E.K0.prototype.dC=function(b,h){var G=h.j,H=h._,B=b.clone(),s=3;e.vE.ZL(this.By,b.y*G+b.x);var j=this.By.Mt[b.y*G+b.x];
for(var q=-s+1;q<s;q++)for(var Q=-s+1;Q<s;Q++){var a=b.x+Q,l=b.y+q;if(a<0||a>=G||l<0||l>=H)continue;
e.vE.ZL(this.By,l*G+a);if(this.By.Mt[l*G+a]<j)B.ve(a,l)}return B};E.dV=function(){E.af.call(this,[10,36],E.El,"tools/ruler");
this.VD=null;this.Yu=null;this.ax=null;this.k6=null;this.QK=null};E.dV.prototype=new E.af;E.dV.prototype.xX=function(b){return b.mN};
E.dV.prototype.enable=function(b,h,G,H){E.af.prototype.enable.call(this,b,h,H,G);if(b){this.T9(b);var B=new cJ;
this.GK(h,w.E.b,{q:w.p.XM,S:this.id,y0:B,YA:B,Z8:null,O4:b.O4,ma:b.j,xN:b.xN})}};E.dV.prototype.disable=function(b,h,G,H){if(b)this.gx(b)};
E.dV.prototype.Jd=function(b,h,G,H,B){if(b.q=="unit"){var j=this.VD,s=b.P;G.xN={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:s[0]},logicalLength:{t:"doub",v:s[1]},logicalUnits:{t:"TEXT",v:s[2]}}}};
this.GK(h,w.E.b,{q:w.p.XM,S:this.id,y0:j[0],YA:j[1],Z8:j[2],O4:G.O4,ma:G.j,xN:G.xN})}if(b.q=="reset"){this.VD=this.ax=null;
this.T9(G)}};E.dV.prototype.Ay=function(b,h,G,H,B){var j=E.Et(b,B),s=b.s.Fj(B.x,B.y);s.x=Math.round(s.x);
s.y=Math.round(s.y);var q=this.VD;this.Yu=q?q.slice(0):null;var Q=q&&cJ.o0(s,q[0])<j,a=q&&cJ.o0(s,q[1])<j,l=q&&q[2]&&cJ.o0(s,q[2])<j;
if(Q||a||l){if(H.W(ap.p0)&&q.length==2){if(a){var U=q[0];q[0]=q[1];q[1]=U}q[2]=q[0].clone();this.ax=[2]}else this.ax=[Q?0:a?1:2]}else if(q&&E.dV.aBp(q[0],q[1],s)<j&&Math.min(q[0].x,q[1].x)-5<=s.x&&s.x<=Math.max(q[0].x,q[1].x)+5&&Math.min(q[0].y,q[1].y)-5<=s.y&&s.y<=Math.max(q[0].y,q[1].y)+5){this.ax=[];
this.QK=[];for(var Y=0;Y<q.length;Y++){this.ax.push(Y);this.QK.push(q[Y].clone())}this.k6=s}else{this.VD=[s.clone(),s.clone()];
this.ax=[1]}};E.dV.prototype.Jl=function(b,h,G,H,B){if(this.ax==null)return;var j=this.VD,s=this.ax,q=b.s.Fj(B.x,B.y);
q.x=Math.round(q.x);q.y=Math.round(q.y);if(s.length>1){var Q=q.x-this.k6.x,a=q.y-this.k6.y;for(var Y=0;
Y<j.length;Y++){j[Y]=this.QK[Y].clone();j[Y].offset(Q,a)}}else{j[s[0]].ve(q.x,q.y);if(H.W(ap.J3)){j[s[0]]=E.Yk.wk(j[1-s[0]],j[s[0]])}}this.T9(b);
this.GK(h,w.E.b,{q:w.p.XM,S:this.id,y0:j[0],YA:j[1],Z8:j[2],O4:b.O4,ma:b.j,xN:b.xN});b.s.zq=e.N.sm([j[0].x,j[0].y,j[1].x,j[1].y])};
E.dV.prototype.dq=function(b,h,G,H,B,j){this.ax=null;if(j){this.VD=this.Yu.slice(0);this.T9(b)}};E.dV.prototype.GK=function(b,h,G){var H=new hb(h,!0);
H.data=G;b.Q(H)};E.dV.prototype.T9=function(b){var h=this.VD;if(h==null)this.gx(b);else{var G=[h[1].x,h[1].y,h[0].x,h[0].y],H=["M","L"];
if(h.length>2){G.push(h[2].x,h[2].y);H.push("L")}b.A.wY={Gc:H,m:G};b.A.fj=G}b.qV=!0};E.dV.prototype.gx=function(b){b.A.wY=null;
b.A.fj=[]};E.dV.aBp=function(b,h,G){var H=h.x-b.x,B=h.y-b.y,j=Math.abs(B*G.x-H*G.y+h.x*b.y-h.y*b.x),s=Math.sqrt(H*H+B*B);
return s==0?0:j/s};E.bV=function(){E.Qb.call(this,[10,19],E.Si,"tools/sharpen");this.gr="copy"};E.bV.prototype=new E.Qb;
E.bV.prototype.Ay=function(b,h,G,H,B){var j=this.U6.pdetail?ft.oI:ft.Si;if(H.W(ap.p0))j=ft.PE;this.WV(b,G,H,B,this.U6.strn,j);
if(this.Aw==null)return;this.C2(b)};E.bV.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.sw=function(){E.Qb.call(this,[10,24],E.ae,"tools/shbrush");
this.gr="draw";this.U6.opacity=.5};E.sw.prototype=new E.Qb;E.sw.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,1);
if(this.Aw==null)return;this.Ir(b);this.C2(b)};E.sw.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);
if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.sw.prototype.dq=function(b,h,G,H,B){if(this.Aw==null)return;
this.p5(b,"sheal",this.Aw.JV(),this.Aw.Ki(),this.Aw.pn(),null);this.c(b,this.Aw.pn());E.Qb.prototype.dq.call(this,b,h,G,H,B)};
E.ro=function(){E.Qb.call(this,[10,20],E.fv,"tools/smudge");this.gr="copy"};E.ro.prototype=new E.Qb;
E.ro.prototype.Ay=function(b,h,G,H,B){var j=this.U6.brush.toolOptions;this.WV(b,G,H,B,this.U6.strn,ft.fv);
if(this.Aw==null)return;this.C2(b)};E.ro.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.OJ=function(){E.Qb.call(this,[10,23],E.qi,"tools/sponge");
this.gr="sponge"};E.OJ.prototype=new E.Qb;E.OJ.prototype.Ay=function(b,h,G,H,B){this.WV(b,G,H,B,this.U6.flow);
if(this.Aw==null)return;this.C2(b)};E.OJ.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);if(this.Df)this.o7(b,G,B);
if(this.Aw==null)return;if(!B.mN)return;this.HW(b,G,H,B);this.C2(b)};E.Qf=function(){E.af.call(this,[10,17],E.TC,"tools/zoom");
this.Q6=!1;this.Sa=!0;this.Qv=!1;this.VR=0;this.Kk=null;this.qz=null;this.f_=0;this.xk=null;this.atD=0;
this.GE=new fL([{name:[8,0],ef:"Ctrl + +"},{name:[8,1],ef:"Ctrl + -",oq:!0},{name:[20,3],ef:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],ef:"Ctrl + 1"}],[{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!0}},{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!1}},{K:w.E.r,S:E.TC,i:{q:"adapt",P:"fitscr"}},{K:w.E.r,S:E.TC,i:{q:"adapt",P:"pixel"}}])};
E.Qf.prototype=new E.af;E.Qf.prototype.Of=function(b,h,G,H,B){var j=this.GE;j.a();j.parent=h;j.update(b,G);
var s=new hb(w.E.b,!0);s.data={q:w.p.YB,Wn:j,x:B._V+2,y:B.ZO+1};h.Q(s)};E.Qf.prototype.enable=function(b,h,G,H){this.kk(h,H);
if(b&&Date.now()-this.VR<300)this.Jd({q:"adapt",P:"pixel"},h,b,H,G);this.VR=Date.now()};E.Qf.prototype.Ay=function(b,h,G,H,B){this.qz=new cJ(B.x,B.y);
this.f_=b.s.D;this.xk=b.s.f.clone()};E.Qf.prototype.Jl=function(b,h,G,H,B){if(this.qz==null)return;var j=Math.exp(Math.log(this.f_)+(B.x-this.qz.x)/64);
j=Math.max(.02,Math.min(E.Qf.PF[0],j));b.s.D=this.f_;b.s.f=this.xk.clone();this.Jd({q:"zoom",D:j,lx:this.qz,Qv:this.Qv},h,b,H,G)};
E.Qf.prototype.dq=function(b,h,G,H,B){if(cJ.o0(this.qz,B)<4){var j=this.a2x(H);this.Jd({q:"zoom",Sa:j,lx:B,Qv:this.Qv},h,b,H,G)}this.qz=null};
E.Qf.PF=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
E.Qf.Mk=function(b,h,G,H){var B=1;while(b*B*1/2>G||h*B*1/2>H)B*=1/2;if(b*B*2/3>G||h*B*2/3>H)B*=1/2;else if(b*B>G||h*B>H)B*=2/3;
return B};E.Qf.amr=function(b,h){var G=E.Qf.a9T(b);if(h&&G==0)return b;if(!h&&G==E.Qf.PF.length-1)return b;
return E.Qf.PF[h?G-1:G+1]};E.Qf.a9T=function(b){var h=0;while(E.Qf.PF[h]>b)h++;return h};E.Qf.mT=function(b,h,G,H){var B=b.tR;
if(H==0||H==null){H=E.Qf.amr(b.D,G);if(H==b.D)return}var j=b.Fj(h.x,h.y);j.x=Math.max(0,Math.min(B.j,j.x));
j.y=Math.max(0,Math.min(B._,j.y));if(!1){}else{var s=b.si(),q=b.D/H;s.translate(-j.x,-j.y);s.scale(q,q);
s.translate(j.x,j.y);b.arw(s)}};E.Qf.prototype.Jd=function(b,h,G,H,B){if(b.q=="pzoom"){if(typeof b.P=="string")return;
b={q:"zoom",D:b.P/100}}if(b.q=="prvw"){G.add.prvw=1-G.add.prvw;G.qV=!0}var j=0,s=!1,q=null;if(b.q=="adapt"){var Q=0;
if(b.P=="pixel")Q=1;if(b.P=="fitscr"){var Q=0,a=G.s.q5.j,l=G.s.q5._,U=new io(0,0,G.j,G._),N=e.N.Q0(U).m,R=new eq;
R.rotate(G.s.ej);e.N.h(N,R,N);var S=e.N.MP(N),g=B.EW?e.VJ.GC+4:8;Q=Math.min((a-g*2)/S.j,(l-g*2)/S._);
G.s.f.ve(0,0)}q=new cJ(Math.round(G.s.q5.j/2),Math.round(G.s.q5._/2));j=Q;E.Qf.mT(G.s,q,s,j);G.Jg=!0}if(b.q.startsWith("multi")){function i(F){var x=F[0].x-F[1].x,X=F[0].y-F[1].y;
return Math.sqrt(x*x+X*X)}function y(F){return new cJ((F[0].x+F[1].x)/2,(F[0].y+F[1].y)/2)}function o(F){var x=F[0].x-F[1].x,X=F[0].y-F[1].y;
return Math.atan2(X,x)}var v=b.fd,Z=y(v);if(b.q=="multidown"){this.Kk=[v,G.s.D,G.s.Fj(Z.x,Z.y),G.s.ej]}else{var W=E.Qf.PF,_=.15;
j=this.Kk[1]*i(v)/i(this.Kk[0]);j=Math.max(W[W.length-1],Math.min(W[0],j));if(j!=G.s.D)E.Qf.mT(G.s,Z,s,j);
var d=this.Kk[2],$=G.s.yF(d.x,d.y),I=G.s.f;I.x=Math.round(I.x+Z.x-$.x);I.y=Math.round(I.y+Z.y-$.y);var k=this.Kk[3]+(o(v)-o(this.Kk[0]));
k=k%(2*Math.PI);while(k<0)k+=2*Math.PI;if(k<_||k>2*Math.PI-_)k=0;G.s.ej=k;G.Jg=!0}}if(b.q=="scroll"){q=b.lx;
var W=E.Qf.PF,D=b.Vs.y,A=1+Math.abs(D)*8e-4*(b.aij?10:1);if(D>0)A=1/A;j=G.s.D*A;E.Qf.mT(G.s,q,s,Math.min(W[0],Math.max(W[W.length-1],j)));
G.Jg=!0}if(b.q=="zoom"){var F=b.Qv?h.aO:[G];for(var Y=0;Y<F.length;Y++){var K=F[Y],V=K.s;q=b.lx?b.lx:new cJ(Math.round(V.q5.j/2),Math.round(V.q5._/2));
if(b.D!=null)j=b.D;else s=b.Sa;E.Qf.mT(V,q,s,j);K.Jg=!0}}if(b.q=="mskView"){var r=G.R[G.T[0]];if(r.nD<=0){r.nD=1;
G.P6=!0}var c=r.nD==3?r.T0(G).u:r.Y1();if(b.P==0){G.s.M=[1,1,1];c.Da=!1}if(b.P==1){G.s.M=[1,1,1];c.Da=!0}if(b.P==2){G.s.M=[0,0,0];
c.Da=!0}for(var Y=0;Y<G.$B.length;Y++)G.$B[Y].Da=!1;G.ql=[];G.qV=!0}};E.Qf.prototype.Z1=function(b,h,G,H){if(this.Q6!=H.W(ap.p0)){this.Q6=H.W(ap.p0);
var B={q:w.p.XM,S:this.id,Q6:this.Q6},j=new hb(w.E.b,!0);j.data=B;h.Q(j);this.kk(h,H)}};E.Qf.prototype.kk=function(b,h){var G=new hb(w.E.b,!0),H=this.a2x(h);
G.data={q:w.p.dm,ji:H?"zoom-in":"zoom-out"};b.Q(G)};E.Qf.prototype.Fy=function(b,h,G,H){this.Sa=b.Sa;
this.Qv=b.Qv;this.kk(h,H)};E.Qf.prototype.a2x=function(b){var h=this.Sa;if(b.W(ap.Jn)&&b.W(ap.zb))h=!0;
if(this.Q6)h=!h;return h};E.Qf.auo=function(b,h){if(b.W(ap.za)||b.W(ap.alR)){h.S=E.TC;h.data={q:"zoom",Sa:!0}}if(b.W(ap.Od)){h.S=E.TC;
h.data={q:"zoom",Sa:!1}}if(b.W(ap.r9)){h.S=E.TC;h.data={q:"adapt",P:"fitscr"}}if(b.W(ap.yp)){h.S=E.TC;
h.data={q:"adapt",P:"pixel"}}};E.n8=function(b,h,G){E.af.call(this,b,h,G);this.rX=null;this.Cc=null;
this.KB=null;this.a8K=0};E.n8.prototype=new E.af;E.n8.hp=function(b,h){var G={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},H=b==null?{classID:"null",null:G,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:G,Usng:{t:"type",v:{classID:b}},__name:"Stroke"};
if(h)H.Prs={t:"bool",v:!0};return{f6:b==null?"fill":"stroke",yo:H}};E.n8.prototype.enable=function(b,h,G,H,B){this.Cc=G;
var j=new hb(w.E.b,!0);j.data={q:w.p.dm,ji:"default"};h.Q(j)};E.n8.prototype.Of=function(b,h,G,H,B){var j=b.wV(),s=j[0],q=j[1];
if(q.length==0)return;var Q=s[q[0]],a=Q.add.vmsk,l=b.s.Fj(B.x,B.y),U=4*E.V()/b.s.D,N=new io(l.x-U,l.y-U,U*2,U*2),R=e.n.h$(a.d,N)[0];
if(R.length!=0){a._B=R;b.qV=!0}var S=e.n.cE(a.d,l).V9;if(S!=-1){a.T=[S];b.qV=!0}var g=new hb(w.E.b,!0);
g.data={q:w.p.XM,S:this.id,FC:B,FK:b,sV:G};h.Q(g)};E.n8.prototype.aud=function(b,h){var G=new hb(w.E.b,!0);
G.data={q:w.p.wP,CI:ec.ZN};if(!h.U9)b.Q(G);G.data={q:w.p.wP,CI:ec.I9};if(!h.x$.N6)b.Q(G)};E.n8.prototype.hk=function(b,h,G,H,B){if(G.vu!=this.id&&B==null)return;
if(b.T.length==0)return;var j=b.R[b.T[0]],s=j.add.vmsk,q=j.add.vstk;if(fq==0){var Q=dE.Y3(j.add);this.rX=b;
this.KB=h;if(j._5()&&s!=null&&(JSON.stringify(q)!=JSON.stringify(G.XA)||JSON.stringify(Q)!=JSON.stringify(G.h6))){this.a8K=Date.now();
var a=new hb(w.E.b,!0);a.data={q:w.p.wP,CI:ec.Eq,P:Q};h.Q(a);a.data={q:w.p.wP,CI:ec.$N,P:q};h.Q(a)}}else{var l=null;
for(var Y=0;Y<b.T.length;Y++){var j=b.R[b.T[Y]],U=j.add.vstl;if(U==null)continue;if(l==null)l=JSON.parse(JSON.stringify(U));
else{for(var N in U){if(l[N]==null)continue;if(U[N]==U.g9){if(JSON.stringify(U[N])!=JSON.stringify(l[N]))delete l[N]}else if(U[N]==U.E_){if(JSON.stringify(U[N])!=JSON.stringify(l[N]))delete l[N]}else if(U[N]!=l[N])delete l[N]}}}if(l==null)return;
var R=JSON.stringify(l);if(R!=JSON.stringify(G.a6)){var a=new hb(w.E.b,!0);a.data={q:w.p.wP,CI:ec.VZ,P:l};
h.Q(a)}}};E.n8.prototype.rN=function(b,h){if(this.rX==null)return;if(h==ec.GH||h==ec.Eq||h==ec.$N){if(Date.now()-this.a8K<50)return;
var G=h==ec.Eq,H=this.rX,B=G?b.h6:b.XA,j=[],s=H.T;for(var Y=0;Y<s.length;Y++){var q=s[Y],Q=H.R[q];if(!Q._5()||Q.add.vmsk==null)continue;
j.push(q)}var a=new hb(w.E.r,!0);a.S=E.nc;a.data={q:C.XJ,UQ:j,OI:G,P:B};if(j.length!=0)this.KB.Q(a)}};
E.n8.prototype.adp=function(b){if(typeof b=="number"){var h=new hb(w.E.IK,!0);h.data=E.kQ.s4(0);h.data.yo.Usng.v.Type.v.Clr.v=e.F.t1({$:b>>>16&255,B:b>>>8&255,J:b>>>0&255});
this.KB.Q(h)}};E.n8.prototype.Jd=function(b,h,G,H,B){this.KB=h;if(b.q=="newfill"){if(b.qp==0){var j=new hb(w.E.b,!0);
j.data={q:w.p.C9,ut:"colorpicker",UT:B.nU,jO:this.adp.bind(this)};h.Q(j)}}else if(b.q=="smplp"){if(G==null)return;
var s=G.wV(),q=s[0],Q=s[1];if(Q.length==0){alert("No paths selected");return}var a=q[Q[0]];if(a.add.vmsk.T.length<=0){alert("No paths selected");
return}if(this.mt==null){this.mt=a.add.vmsk.clone();this.uM=JSON.stringify(a.add.vogk);this.L6=a;this.rX=G}var j=new hb(w.E.b,!0);
j.data={q:w.p.C9,ut:"simplifypath",Wy:100,QF:this.akN.bind(this)};h.Q(j)}else if(b.q=="pathedit"){var l=b.DF,U="",N=G.N6.slice(0),R=G.xe.slice(0),S=G.N6.slice(0),g=G.xe.slice(0);
if(l=="rnm"){var i=-1-b.V9,y=N[i],o=cj.Kw(b.name,y.add);if(i!=0)S[i]=o;else{g=[S.length];S.push(o);S[0]=cj.Kw("Work Path")}U="Rename"}else if(l=="new"){var o=cj.Kw("Path "+N.length);
if(b.a9z){var s=G.wV(),q=s[0],Q=s[1],v=q[Q[0]];o.add.vmsk=v.add.vmsk.clone();o.add.vogk=JSON.parse(JSON.stringify(v.add.vogk));
if(v.V9==-1){var Z=S[g[0]]=cj.Kw("Path "+N.length);Z.name=v.name;Z.V9=v.V9}}S.push(o);g=[S.length-1];
U="New"}else if(l=="del"){if(g.length==0)return;g.sort(function(F,P){return F-P});if(g[0]==0){S[0]=cj.Kw(N[0].name);
g=g.slice(1)}var W=0;while(g.length!=0){S.splice(g[0]-W,1);g=g.slice(1);W++}U="Delete"}else if(l=="fromsel"){var a=S[0]=cj.Kw("Work Path");
g=[0];if(G.e==null)return;var d=G.e.channel.slice(0);for(var Y=0;Y<d.length;Y++)d[Y]=d[Y]>128?2:1;var $=G.e.rect.clone();
$.Mx(1,1);var I=e.U($.X());e.wX(d,G.e.rect,I,$);var k=b0.iG(I,$.j,$._,Math.round($.X()*5e-4)),q=b0.wV(k),_=new eq(1,0,0,1,-1+G.e.rect.x,-1+G.e.rect.y);
for(var Y=0;Y<q.length;Y++)e.N.h(q[Y].path.m,_,q[Y].path.m);for(var Y=0;Y<q.length;Y++){var D=q[Y];if(D.color==1&&D.parent==-1)continue;
var A=e.N.zv(q[Y].path,!1);A[2].Vj=0;a.add.vmsk.d=a.add.vmsk.d.concat(A.slice(2))}a.add.vogk=C.AA(a.add.vmsk.d);
U="Selection to"}var F=new eN(U+" Path",this);F.data={Yu:N,L5:R,aDr:S,gG:g};if(l=="fromsel"){F.data.QU=G.e;
F.data._r=null}G.vU(F);this.uF(F.data,G)}else{var K=b.VH,s=G.wV(b.q=="append"||b.q=="fromAction"),q=s[0],Q=s[1],a=q[Q[0]],V=a.add.vmsk,r=a.add.vogk,c=V.clone(),x=V.clone(),X=JSON.stringify(r);
if(b.q=="fromAction"){var M=b.E7,f=M.f6,t=M.yo,n=t.T;if(f=="set"){if(n){r.push(e.Bs.KR(n));x.d.push({type:0,Vj:1,length:0});
e.Bs.CG(r,x);K=[12,76,0]}else throw t}else if(f=="draw"){r=[e.Bs.KR(t.Shp)];x.d.push({type:0,Vj:1,length:0});
e.Bs.CG(r,x);E.n8.ah0(x.d,t.AntA.v,B.nU,h);return}else throw f}else if(b.q=="remove"){if(b.dN&&x._B.length!=0){x.d=e.n.ap_(x.d,x._B,r,b.a1S);
var L=e.n.bF(x.d);for(var Y=0;Y<x.T.length;Y++)if(x.T[Y]>=L){x.T.splice(Y,1);Y--}x._B=[];K="Delete Anchors"}else{if(x.T.length==0)return;
var W=0;for(var Y=0;Y<x.T.length;Y++){r.splice(x.T[Y]+W,1);W--}x.d=e.n.avX(x.d,x.T);x.T=[];x._B=[];if(K==null)K="Delete Paths"}}if(b.q=="append"){E.n8.zA(b.aC0,x,r)}this.zV(G,a.V9,x,r);
this.PK(G,K,a.V9,c,x.clone(),null,X,JSON.stringify(r))}};E.n8.ah0=function(b,h,G,H){var B=new C.cW;B.d=B.d.concat(b.slice(2));
var j=B.Y1();if(!h)e.round(j.channel);var s=e.U(j.rect.X()*4);e.Zi(s,(G&255)<<16|(G>>8&255)<<8|(G>>16&255)<<0);
e.aj(j.channel,s,3);var q=new hb(w.E.r,!0);q.S=E.pp;q.data={q:"draw",Ny:{buffer:s,rect:j.rect.clone()},VH:this.name};
H.Q(q)};E.n8.QY=function(b,h){var G=e.n.awE(b.d,b.T),H=[];for(var Y=0;Y<b.T.length;Y++)H.push(JSON.parse(JSON.stringify(h[b.T[Y]])));
return[G,H]};E.n8.zA=function(b,h,G){var H=e.n.bF(h.d),B=e.n.bF(b[0]);h.d=h.d.concat(b[0].slice(2));
h.T=[];for(var Y=0;Y<B;Y++)h.T.push(H+Y);for(var Y=0;Y<B;Y++)G.push(JSON.parse(JSON.stringify(b[1][Y])))};
E.n8.prototype.BB=function(b,h){if(h==null)return!1;var G=h.wV(),H=G[0],B=G[1];if(B.length==0)return!1;
var j=H[B[0]],s=j.add.vmsk;if(s&&s.T.length+s._B.length!=0)return[ap.TD,ap.Y6].indexOf(b)!=-1};E.n8.prototype.Z1=function(b,h,G,H){if(b==null)return;
var B=b.wV(),j=B[0],s=B[1];if(s.length==0)return;var q=j[s[0]],Q=q.add.vmsk;if(H.W(ap.Ac)||H.W(ap.pr)||this.id==E.MY&&H.W(ap.As)&&Q._B.length==1){Q._B=[];
b.qV=!0}if(Q.T.length!=0){var a=H.in(b?b.s.ej:0);if(a.x!=0||a.y!=0){var l=Q.clone(),U=Q.clone(),N=new eq(1,0,0,1,a.x,a.y),R=q.add.vogk,S=JSON.stringify(R);
if(H.W(ap.p0)){var g=E.n8.QY(U,R);E.n8.zA(g,U,R)}e.n.Gl(U.d,N,U.T);e.Bs.h(R,e.t.UE(N),U.T);this.zV(b,q.V9,U,R);
this.PK(b,"Move Paths",q.V9,l,U.clone(),!0,S,JSON.stringify(R))}if(H.W(ap.TD)||H.W(ap.Y6))this.Jd({q:"remove",dN:this.id==E.MY},h,b,H,G)}};
E.n8.prototype.PK=function(b,h,G,H,B,j,s,q){var Q=new eN(h,this);Q.data={zj:G,r2:H,Tb:B,aDM:j,a7B:s,Zd:q};
b.vU(Q)};E.n8.prototype.uF=function(b,h){if(b.zj!=null)this.zV(h,b.zj,b.Tb.clone(),JSON.parse(b.Zd));
else{h.N6=b.aDr.slice(0);h.xe=b.gG.slice(0);h.qV=h.P6=!0}if(b.QU||b._r){h.e=b._r;h.nh=!0}};E.n8.prototype.sv=function(b,h){if(b.zj!=null)this.zV(h,b.zj,b.r2.clone(),JSON.parse(b.a7B));
else{h.N6=b.Yu.slice(0);h.xe=b.L5.slice(0);h.qV=h.P6=!0}if(b.QU||b._r){h.e=b.QU;h.nh=!0}};E.n8.prototype.zV=function(b,h,G,H){var B=h<0?b.N6[-1-h]:h<1e6?b.R[h]:b.R[h-1e6].add.TySh,j=B.add.vmsk;
j.channel=null;j.GD=!0;if(j.Sb){j.Sb.channel=null;j.Sb.GD=!0}B.add.vmsk=G;B.add.vogk=H;if(1e6<=h){b_.hl(B);
var s=b.R[h-1e6],q=B,Q=this.Cc;jK.rk(s,Q.B7);b.c()}else if(0<=h){G.GD=!0;B.vw(b);b.c()}b.qV=b.P6=!0};
E.kQ=function(b,h,G,H){E.n8.call(this,b,h,G);this.U6={shape:e3.Az(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{$G:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aBe=H;this.Ul=null;this.qr=null;this.Rv=null;this.M6=new dL};E.kQ.prototype=new E.n8;E.kQ.prototype.xX=function(b){return b.mN&&this.id!=E.yx};
E.kQ.prototype.enable=function(b,h,G,H,B){this.Cc=G;var j=new hb(w.E.b,!0);j.data={q:w.p.dm,ji:"crosshair"};
h.Q(j)};E.kQ.prototype.Z1=function(b,h,G,H){E.n8.prototype.Z1.call(this,b,h,G,H);this.M6.Z1(H);this.vx(h,G)};
E.kQ.prototype.vx=function(b,h){var G=new hb(w.E.b,!0);G.data={q:w.p.XM,S:this.id,ux:this.mn(h)};b.Q(G)};
E.kQ.prototype.mn=function(b){var h=this.M6.xf(0),G=this.M6.bo(0),H=E.pC.oY(this.U6.binop,h,G);if(b.hU==1&&H==0)H=1;
return H};E.kQ.prototype.iq=function(b,h,G,H){};E.kQ.prototype.Ay=function(b,h,G,H,B){var j=G.hU;if(j!=2)this.aud(h,G);
if(j==2&&!b.s5())return;var s=b.s.Fj(B.x,B.y);s=E.uW.HV(b,s,G);this.Rv=[s.x,s.y];this.Ul=s;this.qr=new cJ(0,0);
this.M6.Ay(H)};E.kQ.prototype.a6a=function(b,h,G,H){var B=[this.Ul.clone(),h.clone()];G=this.M6.xf(1)||G.W(ap.J3)||this.M6.bo(1)?G:null;
if(this.aBe)B=E.kQ.s3(B[0],B[1],G,!0,this.U6.cstr);if(b)b.s.zq=new io(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);
return this.iq(B[0],B[1],this.M6.xf(1)&&G.W(ap.J3),this.Rv,b.s,H)};E.kQ.prototype.aoS=function(b,h,G){var H=b.s.Fj(h.x,h.y);
if(this.id==E.yx)return H;var B=this.U6.cstr;if(B.$G==2){var j=new io(H.x-B.x,H.y-B.y,B.x,B.y),s=E.uW.VP(b,j,G);
H.x+=s[0];H.y+=s[1];E.uW.jy(b,j,s)}else H=E.uW.HV(b,H,G);return H};E.kQ.prototype.Jl=function(b,h,G,H,B){if(this.Ul==null)return;
var j=this.Rv,s=j.length,q=B?this.aoS(b,B,G):new cJ(j[s-2],j[s-1]);if(H.W(ap.Jn))this.Ul=q.SX(this.qr);
else this.qr=q.SX(this.Ul);j.push(q.x,q.y);if(this.U6.shape==null)this.U6.shape=G.Co[0];var Q=this.a6a(b,q,H,!0)[0],a=e.N.nT(Q);
b.A.wY=a;if(this.id!=E.yx&&this.id!=E.JX&&this.id!=E.v3)E.af.Sk(B,b.s.zq,b,G);b.qV=!0;this.M6.Jl()};
E.kQ.prototype.axu=function(b,h,G,H){var B=b[4].clone();if(H){B.x-=h/2;B.y-=G/2}if(this.id==E.JX){h/=2;
G/=2;B.x+=h;B.y+=G;G=-G;h=0}var j=this.iq(B,new cJ(B.x+h,B.y+G),!1,this.Rv);this.awA(b[0],b[1],b[2],j)};
E.kQ.prototype.awA=function(b,h,G,H){var B=G.hU,j=new hb(w.E.IK,!0);if(B==0)j.data=E.kQ.aiZ(H[1],G);
else if(B==1){var s={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:H[1]};
j.data={f6:"set",yo:s}}else{var s={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:H[1]};j.data={f6:"draw",yo:s}}h.Q(j);
if(H[1].v.classID=="customShape"&&H[1].v.Nm.v.startsWith("--")){var q=b.wV(),Q=q[0],a=q[1],l=Q[a.pop()],U=l.add.vmsk,N=l.add.vogk;
e.Bs.a3x(N);var R=U.clone();R.d=H[0];this.zV(b,l.V9,R,N)}};E.kQ.prototype.dq=function(b,h,G,H,B,j){if(this.Ul==null)return;
var s=this.aoS(b,B,G),q=this.mn(G),Q=G.hU,a=this.Rv,l=a.length;if(this.id==E.yx&&l<=4){}else if(l<=4){s.x=Math.round(s.x);
s.y=Math.round(s.y);var U=new hb(w.E.b);U.data={q:w.p.C9,ut:"createshape",awO:this.axu.bind(this),abx:this.name,asN:[b,h,G,H,s]};
if(!j)h.Q(U)}else if(l!=2){var N=this.a6a(b,s,H),R=N[0],S=b.wV(!0),g=S[0],i=S[1],y=i.length-1;if(Q==1&&R.length>2||Q==0&&q!=0&&y!=-1&&g[i[y]].V9>=0){R[2].Vj=[1,2,3,0][q-1];
var o=g[i.pop()],v=o.add.vmsk,Z=o.add.vogk,W=v.clone(),d=v.clone(),$=JSON.stringify(Z);d.d=d.d.concat(R.slice(2));
d.T=[e.n.bF(d.d)-1];var I=e.Bs.KR(N[1]);Z.push(I?I:e.Bs.TI());this.zV(b,o.V9,d,Z);this.PK(b,this.name,o.V9,W,d,null,$,JSON.stringify(Z))}else if(Q==0){this.awA(b,h,G,N)}else if(Q==2){E.n8.ah0(R,this.U6.anta,G.nU,h)}}this.Ul=null;
b.A.wY=null;b.A.VE=null;b.A.sn=[];b.s.zq=null;b.qV=!0;this.M6.dq();this.vx(h,G)};E.kQ.prototype.Fy=function(b,h,G,H,B){for(var G in b)this.U6[G]=b[G]};
E.kQ.s3=function(b,h,G,H,B){var j=b.x,s=b.y,q=h.x,Q=h.y;if(B&&B.$G==2){if(H){q=Math.round(q);Q=Math.round(Q)}j=q-B.x;
s=Q-B.y}else{var a=0;if(B&&B.$G==1)a=B.y/B.x;else if(G&&G.W(ap.J3))a=1;if(a!=0){if(H){if(j<q)j=Math.floor(j);
else j=Math.ceil(j);if(s<Q)s=Math.floor(s);else s=Math.ceil(s)}var l=Math.abs(q-j),U=Math.abs(Q-s),N=l;
if(U/l<a)N*=U/l/a;q=q>j?j+N:j-N;Q=Q>s?s+N*a:s-N*a}if(G&&G.W(ap.p0)){j-=q-j;s-=Q-s}}var b=new cJ(j,s),h=new cJ(q,Q);
if(H)E.kQ.aie(b,h);return[b,h]};E.kQ.aie=function(b,h){if(b.x>h.x){var G=b.x;b.x=h.x;h.x=G}if(b.y>h.y){var G=b.y;
b.y=h.y;h.y=G}b.x=Math.floor(b.x);b.y=Math.floor(b.y);h.x=Math.ceil(h.x);h.y=Math.ceil(h.y)};E.kQ.aeC=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
E.kQ.s4=function(b,h){var G=E.kQ.aeC(),H=G.Usng.v.Type;if(h==null){H.v=JSON.parse(JSON.stringify(dE.td[b]));
H.v.classID=["solidColorLayer","gradientLayer","patternLayer"][b]}else E.lk.to(h,H.v,b);return{f6:"make",yo:G}};
E.kQ.aiZ=function(b,h){var G=h.h6,H=JSON.parse(JSON.stringify(h.XA));H.fillEnabled.v=G.Z_!=0;var B=E.kQ.s4(Math.max(0,G.Z_-1),G.Tf);
B.yo.Usng.v.Shp=b;B.yo.Usng.v.strokeStyle={t:"Objc",v:H};return B};E.Vz=function(b){E.n8.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][b],[E.MY,E.a03,E.a2A,E.abp,E.ajX][b],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][b]);
this.yE=b;this.Ix=null;this.Cp=null;this.mt=null;this.uM=null;this.Nn=0;this.ky=null;this.MJ=!1;this.CZ=!1;
this.IB=!1;this.yy=!1;this.FU=!1;this.Nk=!1;this.VR=0};E.Vz.prototype=new E.n8;E.Vz.prototype.xX=function(b){return this.mt!=null};
E.Vz.prototype.Z1=function(b,h,G,H){if(!H.W(ap.p0))this.FU=!1;if(this.yE==1&&(H.W(ap.TD)||H.W(ap.Y6))&&this.BB(ap.TD,b)){this.Jd({q:"remove",dN:!0},h,b,H,G);
return}if(this.Cp)this.tf(b,h,G,H,this.Cp);E.n8.prototype.Z1.call(this,b,h,G,H)};E.Vz.prototype.WI=function(b,h,G,H){var B=b.s.Fj(H.x,H.y,!0),j=E.uW.HV(b,B,h),s=this.yE,q=h.hU,Q=this.Nn;
if(q==2)q=0;var a=b.wV(q==1),l=a[0],U=a[1],N=l[U.pop()],R=N?N.add.vmsk:null;if(q==0&&Q!=0&&N&&N.V9>=0)q=1;
var S=E.Et(b,H);if(s<2&&q==0&&(R==null||R._B.length==0&&e.n.cE(R.d,B,!0,S).V9==-1))return["new",!0];
if(R==null)return[null];var g=R.d,i=e.n.h$(g,new io(B.x-S,B.y-S,S*2,S*2),R._B,!0),y=e.n.cE(g,B,!0,S);
if(s<3&&y.V9!=-1&&i[0].length==0)return["add"];if((i[3]!=0||y.V9!=-1)&&(G.W(ap.p0)||s==4))return["cnv"];
var o=i[0].length==1&&g[i[0][0]-1]&&(g[i[0][0]-1].v!=null||g[i[0][0]-1].type==0||g[i[0][0]-1].length==1);
if(o)return[s==0||s==3?"del":s==2?"mva":"mov"];if(s<2){var v=e.n.Xd(g,e.n.RZ(g,R._B[0]));if(v!=-1&&cJ.o0(B,g[v+1].v)<S)return["fin"];
if(R._B.length!=1)return["new"];return["nrm"]}return[null]};E.Vz.prototype.Ay=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y,!0),s=E.uW.HV(b,j,G),q=this.yE,Q=G.hU,a=this.Nn;
if(Q==2)Q=0;var l=b.wV(Q==1),U=l[0],N=l[1],R=U[N.pop()],S=R?R.add.vmsk:null;if(Q==0&&a!=0&&R&&R.V9>=0)Q=1;
var g=E.Et(b,B),i=this.WI(b,G,H,B);if(i[0]==null)return;if(i[1]){var y=new hb(w.E.IK,!0),o=e.Bs.AS("customShape",[0,0,1,1],null,null,null,"--");
y.data=E.kQ.aiZ(o,G);h.Q(y);this.Nk=!0;l=b.wV(!0);U=l[0];N=l[1];R=U[N.pop()];S=R.add.vmsk;S.d=S.d.slice(0,2)}var v=R.add.vogk,Z=S.d;
this.mt=S.clone();this.uM=JSON.stringify(v);this.Ix=B;this.aud(h,G);var W=e.n.h$(Z,new io(j.x-g,j.y-g,g*2,g*2),S._B,!0),d=e.n.cE(Z,j,!0,g);
if(i[0]=="add"){var $=e.n.Xd(Z,d.V9),I=Z[$].length;while(I<=d.Fs){d.Fs-=I;$+=I+1}var k={type:4,o$:s.clone(),v:s.clone(),PY:s.clone()},_=$+2+d.Fs,D=$+1+(1+d.Fs)%I,A=Z[_-1],F=Z[D];
if(!A.v.TW(A.PY)||!F.o$.TW(F.v)){var K=e.N.agF(A.v,A.PY,F.o$,F.v,d.EG);A.PY=K[0];k.o$=K[1];k.v=K[2];
k.PY=K[3];F.o$=K[4]}this.yy=!0;Z.splice(_,0,k);Z[$].length++;S._B=[_];if(q==1){k.o$.x+=2;this.MG(S)}}else if(i[0]=="cnv"){var V=-1;
if(W[0].length!=0){V=W[0][0];var r=Z[V],c=r.type>=3?3:0,x=V==Z.length-1;r.type=c+1;if(!(q==4&&H.W(ap.p0))&&!(q==0&&x))r.o$=r.v.clone();
r.PY=r.v.clone();this.yy=!0;if(q==0&&!x)this.FU=!0}else if(W[1].length+W[2].length!=0){var V=W[2][0];
if(V==null){V=W[1][0];this.CZ=!0}var r=Z[V],c=r.type>=3?3:0;r.type=c+2}else V=e.n.Xd(Z,d.V9)+d.Fs+1;
if(V!=-1)S._B=[V]}else if(i[0]=="mva"){this.IB=!0;S._B=[W[0][0]]}else if(i[0]=="mov"){var V=W[0][0],X=Z[V],M=X.v,f=Math.abs(e.N.su(X.o$.x,X.o$.y,M.x,M.y,X.PY.x,X.PY.y));
if(f>.01){X.o$=M.clone();X.PY=M.clone()}if(Date.now()-this.VR<300){var t=X.o$.TW(M)&&X.PY.TW(M);if(t)X.PY.offset(2,2);
else{X.o$=M.clone();X.PY=M.clone()}this.VR=0}else this.VR=Date.now();S._B=[V];this.MG(S)}else if(i[0]=="del"){var V=W[0][0],$=e.n.Xd(Z,e.n.RZ(Z,V)),o=Z[$],n=$+o.length;
if(V!=n||o.type==0){Z[$].length--;Z.splice(V,1);n--;if(o.length==0){Z.splice($,1);n=-1}}if(n!=-1)S._B=[n];
else S._B=[]}else if(i[0]=="fin"){var $=e.n.Xd(Z,e.n.RZ(Z,S._B[0]));Z[$].type=0;S._B=[$+1];this.ky=s;
this.MJ=!0;this.yy=!0}else{var L=0;if(i[0]=="new"){S.T=[e.n.bF(Z)];Z.push({type:3,length:1,Vj:[1,2,3,0][Math.max(0,a-1)],ts:0,$V:0,$S:0});
L=Z.length;v.push(e.Bs.TI())}if(i[0]=="nrm"){var $=e.n.Xd(Z,e.n.RZ(Z,S._B[0])),X=$+Z[$].length;Z[$].length++;
L=X+1;if(X==$+1&&Z[$].length!=2)L=$+1}if(H.W(ap.J3)&&Z[L-1]&&Z[L-1].v)s=E.Yk.wk(Z[L-1].v,s);var k={type:4,o$:s.clone(),v:s.clone(),PY:s.clone()};
Z.splice(L,0,k);S._B=[L];this.ky=s;if(this.yE==1){k.o$.x+=2;this.MG(S)}this.yy=!0;this.VR=Date.now()}this.zV(b,R.V9,S,v);
b.qV=!0};E.Vz.prototype.MG=function(b){var h=b.d,G=b._B[0],H=e.n.Xd(h,e.n.RZ(h,G))+1,B=h[H-1].length;
if(B<3)return;var j=[],s=[];for(var Y=0;Y<5;Y++){var q=H+(G-H-2+Y+5*B)%B;s.push(q);var Q=h[q].v;j.push(Q.x,Q.y)}var a=e.N.azY(j);
for(var Y=1;Y<4;Y++){var l=Y*4,U=h[s[Y]],Q=U.v,N=U.o$.TW(Q)&&U.PY.TW(Q);if(!N){U.o$.ve(a[l],a[l+1]);
U.PY.ve(a[l+2],a[l+3])}else{U.o$=Q.clone();U.PY=Q.clone()}}};E.Vz.prototype.tf=function(b,h,G,H,B){var j=this.WI(b,G,H,B)[0],s=null;
if(j==null)s="default";else s=E.Vz.m1(j);var q=new hb(w.E.b,!0);q.data={q:w.p.dm,ji:s};h.Q(q)};E.Vz.prototype.Jl=function(b,h,G,H,B){this.Cp=B;
if(this.mt==null){this.tf(b,h,G,H,B);return}var j=this.Ix;if(j&&cJ.o0(j,B)<E.Et({s:{D:1}},B))return;
this.Ix=null;var s=b.s.Fj(B.x,B.y),q=E.uW.HV(b,s,G),Q=b.wV(G.hU==1),a=Q[0],l=Q[1],U=a[l.pop()],N=U.add.vmsk,R=N.d,S=R[N._B[0]];
if(this.yE==1){var g=S.v.TW(S.o$)&&S.v.TW(S.PY);S.v=s.clone();S.o$=s.clone();S.PY=s.clone();if(!g)S.o$.x+=2;
this.MG(N)}else if(H.W(ap.Jn)){if(H.W(ap.J3))q=E.Yk.wk(this.ky,q);var i=S.v.SX(S.PY),y=S.o$.SX(S.v);
S.PY=q;S.v=q.add(i);S.o$=S.v.add(y)}else if(this.IB){var o=S.o$.SX(S.v),v=S.PY.SX(S.v);S.v=q;S.o$=S.v.add(o);
S.PY=S.v.add(v)}else{if(H.W(ap.J3))q=E.Yk.wk(S.v,q);if(this.CZ){var Z=S.o$;S.o$=S.PY;S.PY=Z}if(this.MJ){var W=cJ.o0(S.v,q),d=W==0?0:cJ.o0(S.v,S.PY)/W;
S.PY.x=S.v.x+d*(q.x-S.v.x);S.PY.y=S.v.y+d*(q.y-S.v.y)}else S.PY=q;var $=S.type>=3?3:0;if(this.yy&&!this.FU)S.type=$+H.W(ap.p0)?2:1;
if(S.type-$==1){S.o$=S.v.add(S.v.SX(q))}this.ky=q;if(this.CZ){var Z=S.o$;S.o$=S.PY;S.PY=Z}}this.zV(b,U.V9,N,U.add.vogk);
b.qV=!0};E.Vz.prototype.dq=function(b,h,G,H,B){if(this.mt==null)return;var j=b.wV(G.hU==1),s=j[0],q=j[1],Q=s[q.pop()],a=Q.add.vmsk,l=Q.add.vogk;
if(this.MJ){a._B=[];this.zV(b,Q.V9,a,Q.add.vogk)}var U=this.mt.d.length,N=a.d.length;if(!this.Nk)this.PK(b,this.MJ?"Close Path":(U==N?"Move":U<N?"Add":"Delete")+" Anchor Point",Q.V9,this.mt,a.clone(),null,this.uM,JSON.stringify(l));
this.Nk=!1;this.MJ=!1;this.CZ=!1;this.IB=!1;this.yy=!1;this.mt=null};E.Vz.prototype.Fy=function(b,h,G,H,B){this.Nn=b.binop};
E.Vz.auY={};E.Vz.m1=function(b){var h=E.Vz.auY[b],G=64,q=2,Q=10,a=25,l=5,U=35;if(h)return h;var H=new io(0,0,G,G),B=-.38,j=e.tM(G,G);
j.clearRect(0,0,G,G);var s=E.V();j.save();j.lineWidth=q;j.translate(4-q/2,4-q/2);j.rotate(B);if(s<1.5){var N=.66;
Q*=N;a*=N;l*=N;U*=N}j.lineJoin="miter";j.beginPath();if(b=="cnv"){j.moveTo(-Q,a);j.lineTo(0,0);j.lineTo(Q,a);
j.stroke()}else{j.moveTo(0,0);j.lineTo(Q,a);j.lineTo(l,U);j.lineTo(-l,U);j.lineTo(-Q,a);j.lineTo(0,0);
j.moveTo(0,0);j.lineTo(0,a);j.fillStyle="white";j.fill();j.stroke();j.fillStyle="black";j.fillRect(-l-1,U,2*l+2,6);
j.beginPath();j.arc(0,a-2,2.5,0,2*Math.PI,!1);j.fill();j.rotate(-B);j.translate(24,7);j.beginPath();
if(b=="add"||b=="del"||b=="new"){j.moveTo(-5,0);j.lineTo(5,0);if(b=="add"){j.moveTo(0,-5);j.lineTo(0,5)}if(b=="new"){j.moveTo(-2.5,-4.5);
j.lineTo(2.5,4.5);j.moveTo(2.5,-4.5);j.lineTo(-2.5,4.5)}}else if(b=="fin")j.arc(0,0,5,0,2*Math.PI,!1);
else if(b=="mov"||b=="mva"){for(var Y=0;Y<4;Y++){j.moveTo(0,0);j.lineTo(-7,0);var R=1+q;j.moveTo(-7+R,-R);
j.lineTo(-7,0);j.lineTo(-7+R,R);j.rotate(Math.PI/2)}}j.stroke()}j.restore();var S=new Uint8Array(j.getImageData(0,0,G,G).data.buffer),g=e.U(G*G);
e.uA(S,g,3);var i=e.U(G*G),y=[3,5,3,4,8,4,3,5,3];y=e.aU.Ol(y);e.aU.Ui(g,i,G,G,y);for(var Y=0;Y<i.length;
Y++)i[Y]=Math.min(255,i[Y]*2);e.aU.Ui(i,g,G,G,y);for(var Y=0;Y<g.length;Y++)g[Y]=Math.min(255,g[Y]*2);
var o=S.slice(0);S.fill(255);e.aj(g,S,3);e.z.Nm("norm",o,H,S,H,H,1);E.Vz.auY[b]=h={jb:S,O2:H,WG:new cJ(4,4)};
return h};E.vI=function(){E.kQ.call(this,[10,30],E.yx,"tools/fpen",!1)};E.vI.prototype=new E.kQ;E.vI.prototype.iq=function(b,h,G,H,B,j){var s=H.length-1,q=Math.sqrt((H[s-1]-H[0])*(H[s-1]-H[0])+(H[s]-H[1])*(H[s]-H[1]))<6/B.D;
return[e.n.Dn(H,q,j),e.Bs.AS("customShape",[0,0,1,1],null,null,null,"--")]};E.Rl=function(){E.n8.call(this,[10,27],E.YK,"tools/pselect");
this.EZ=null;this.LC=!1;this.L6=null;this.mt=null;this.xE=null;this.uM=null;this.n6=null;this.aR=null;
this.TH=null;this.C5=null};E.Rl.prototype=new E.n8;E.Rl.prototype.xX=function(b){return b.mN};E.Rl.prototype.Ay=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=b.wV(),q=s[0],Q=s[1],a,l;
for(var Y=0;Y<Q.length;Y++){var U=q[Q[Y]],N=U.add.vmsk,R=e.n.cE(N.d,j).V9;if(R!=-1){this.L6=a=U;l=R}for(var S=0;
S<N.VD.length;S++){var g=e.n.aeA(N.d,N.VD[S]);if(g==null)continue;var i=cJ.o0(g,j);if(i<4*E.V()/b.s.D){var y=b.R[U.V9-1e6].add.TySh,o=y.HZ.Curve,v=y.h,Z=o.Reversed;
o.Reversed=!1;var o=j0.tI(y.HZ.Curve);o.Reversed=Z;e.N.h(o[0],v,o[0]);this.TH=[o,S,v.G*v.tW-v.J*v.YW];
this.L6=a=U;l=0}}if(this.TH)break}if(a!=null){var N=a.add.vmsk;N._B=[];var W=N.T.indexOf(l);if(H.W(ap.J3)){if(W==-1){N.T.push(l);
this.LC=!0}else N.T.splice(W,1)}else{if(W==-1)N.T=[l];this.LC=!0}this.aR=e.n.d4(N.d,N.T)}this.EZ=j;this.C5=new a5(j);
b.P6=!0;b.qV=!0};E.Rl.prototype.Jl=function(b,h,G,H,B){if(this.EZ==null)return;var j=b.s.Fj(B.x,B.y);
if(this.LC){j=this.C5.$X(j,H);var s=this.L6;if(this.mt==null){this.mt=this.xE=s.add.vmsk.clone();this.uM=this.n6=JSON.stringify(s.add.vogk);
if(H.W(ap.p0)){var q=this.mt.clone(),Q=JSON.parse(this.uM),a=E.n8.QY(q,Q);E.n8.zA(a,q,Q);this.xE=q;this.n6=JSON.stringify(Q)}}var q=this.xE.clone(),Q=JSON.parse(this.n6);
if(this.TH){var l=this.TH,U=l[0][0],N=e.N._X(U,j.x,j.y);q.VD[l[1]]=l[0][1][N];var R=U[N*2],S=U[N*2+1],g=(U[N*2+2]-R)*(j.y-S)-(U[N*2+3]-S)*(j.x-R);
if(l[2]<0)g=-g;q.Wa=g>0}else{var i=this.aR.clone(),y=i.x,o=i.y;i.offset(j.x-this.EZ.x,j.y-this.EZ.y);
i.x=Math.round(i.x);i.y=Math.round(i.y);var v=E.uW.VP(b,i,G),Z=new eq(1,0,0,1,i.x-y+v[0],i.y-o+v[1]);
e.n.Gl(q.d,Z,q.T);e.Bs.h(Q,e.t.UE(Z),q.T);E.uW.jy(b,i,v)}this.zV(b,s.V9,q,Q)}else{var W=this.EZ;b.A.wY=e.N.Q0(new io(W.x,W.y,j.x-W.x,j.y-W.y));
b.qV=!0}};E.Rl.prototype.dq=function(b,h,G,H,B){if(this.EZ==null)return;var j=b.s.Fj(B.x,B.y),s=this.L6,q=s?s.add.vmsk:null;
if(this.LC){var Q=JSON.stringify(s.add.vogk);if(!this.EZ.TW(j))this.PK(b,"Move Paths",s.V9,this.mt,q,null,this.uM,Q);
if(b!=null&&b.A.VE){b.A.VE=null;b.qV=!0}}else{var a=b.wV(),l=a[0],U=a[1];if(U.length!=0){var N=l[U[0]];
q=N.add.vmsk;var R=this.EZ,S=new io(R.x,R.y,j.x-R.x,j.y-R.y),g=e.n.aA$(q.d,S);if(H.W(ap.J3)){for(var Y=0;
Y<g.length;Y++)if(q.T.indexOf(g[Y])==-1)q.T.push(g[Y])}else q.T=g}b.A.wY=null;b.qV=!0}this.EZ=null;this.mt=null;
this.TH=null;this.LC=!1;this.C5=null};E.Rl.prototype.akN=function(b){var h=this.L6,G=this.rX,H=h.add.vmsk,B=h.add.vogk,j=B.length;
if(b=="confirm"){if(H!=this.mt)this.PK(G,[12,94,2],h.V9,this.mt,H,null,this.uM,JSON.stringify(B));this.gx();
return}if(b=="cancel"){this.zV(this.rX,this.L6.V9,this.mt.clone(),JSON.parse(this.uM));this.gx()}else{var H=this.mt.clone(),B=JSON.parse(this.uM);
H.d=e.n.alL(H.d,H.T,b);this.zV(this.rX,this.L6.V9,H,B)}};E.Rl.prototype.gx=function(){this.L6=null;this.mt=null;
this.EZ=null;this.Yo=this.Zw=-1;this.C5=null};E.Rl.prototype.hk=function(b,h,G,H){E.n8.prototype.hk.call(this,b,h,G,H);
if(G.vu!=this.id)return;if(b.T.length==0)return;var B=b.wV(),j=B[0],s=B[1];if(s.length==0)return;var q=j[s[0]],Q=q.add.vmsk,a=q.add.vstk,l=q.add.vogk,U=new hb(w.E.b,!0);
U.data={q:w.p.XM,S:this.id,$Y:"main",SU:Q?Q:null,Bs:l};h.Q(U)};E.Rl.prototype.Fy=function(b,h,G,H,B){var j=b.Fo;
if(j.SU){var s=G.wV(),q=s[0],Q=s[1];if(Q.length==0)return;var a=q[Q[0]],l=a.add.vmsk.clone(),U=JSON.stringify(a.add.vogk),N=j.SU;
this.zV(G,a.V9,N,j.Bs);var R=[18,5];if(l.d.length==N.d.length)R=l.T[0]==N.T[0]?"Fill Rule":"Path Order";
this.PK(G,R,a.V9,l,N,null,U,JSON.stringify(j.Bs))}};E.hj=function(){E.n8.call(this,[10,28],E.sr,"tools/dselect");
this.Yo=-1;this.Zw=-1;this.sk=null;this.EZ=null;this.L6=null;this.mt=null;this.uM=null;this.rX=null;
this.RH=0;this.cR={psnap:!1};this.C5=null};E.hj.prototype=new E.n8;E.hj.prototype.xX=function(b){return b.mN};
E.hj.prototype.Fy=function(b){this.cR=b};E.hj.prototype.Jd=function(b,h,G,H,B){if(b.q=="crnr"){if(G==null)return;
var j=G.wV(),s=j[0],q=j[1];if(q.length==0){alert("No paths selected");return}var Q=s[q[0]],a=Q.add.vmsk;
if(a._B.length==0){alert("No corners selected");return}for(var Y=0;Y<a._B.length;Y++){var l=a.d[a._B[Y]];
if(!l.v.TW(l.PY)||!l.v.TW(l.o$)){alert("Only sharp corners can be rounded");return}}if(this.mt==null){this.mt=Q.add.vmsk.clone();
this.uM=JSON.stringify(Q.add.vogk);this.L6=Q;this.rX=G}var U=new hb(w.E.b,!0);U.data={q:w.p.C9,ut:"cornerradius",Wy:5,QF:this.an9.bind(this)};
h.Q(U)}else E.n8.prototype.Jd.call(this,b,h,G,H,B)};E.hj.prototype.an9=function(b){if(b=="confirm"){var h=this.rX,G=this.L6,H=G.add.vmsk,B=G.add.vogk;
this.PK(h,[12,94,0],G.V9,this.mt,H,null,this.uM,JSON.stringify(B));this.gx();return}var H=this.mt.clone(),B=JSON.parse(this.uM),j=H._B;
if(b=="cancel"){}else{var s=[];for(var Y=0;Y<j.length;Y++){var q=j[Y],Q=e.n.RZ(H.d,q,!0),U=0;if(s.indexOf(Q)!=-1)continue;
s.push(Q);var a=e.n.Xd(H.d,Q,!0),l=H.d[a].length,N=[];for(var R=0;R<l;R++){var S=H._B.indexOf(a+R+1)==-1?0:b;
N.push(S);if(S!=0)U++}e.n.qF(H.d,a,N);for(var R=0;R<j.length;R++)if(j[R]>a+l)j[R]+=U}this.bS(H,B);H._B=[]}this.zV(this.rX,this.L6.V9,H,B);
if(b=="cancel")this.gx()};E.hj.prototype.disable=function(b,h,G,H){this.Qz(b)};E.hj.prototype.Ay=function(b,h,G,H,B){this.Qz(b);
var j=b.s.Fj(B.x,B.y),U,N,R;this.sk=j.clone();var s=b.wV(),q=s[0],Q=s[1];if(Q.length==0)return;var a=E.Et(b,B),l=new io(j.x-a,j.y-a,a*2,a*2);
for(var S=0;S<Q.length;S++){U=this.L6=q[Q[S]];N=U.add.vmsk;R=e.n.h$(N.d,l);if(R[0].length+R[1].length+R[2].length!=0)break}var g=[!1,!1,!1];
for(var Y=0;Y<3;Y++){for(var i=0;i<R[Y].length;i++){var y=R[Y][i],o=N.d[y];if(N._B.indexOf(y)!=-1||Y==1&&N._B.indexOf(y-1)!=-1&&!o.v.TW(o.o$)||Y==2&&N._B.indexOf(y+1)!=-1&&!o.v.TW(o.PY)){R[Y]=[y];
g[Y]=!0;break}}}if(R[0].length!=0&&(g[0]||!g[1]&&!g[2])){var v=R[0][0],Z=N._B.indexOf(v);if(H.W(ap.J3)){if(Z==-1)N._B.push(v);
else{N._B.splice(Z,1);b.qV=!0;return}}else if(Z==-1)N._B=[v];this.Yo=v;this.Zw=0}else if(R[1].length!=0&&g[1]){this.Yo=R[1][0];
this.Zw=1}else if(R[2].length!=0&&g[2]){this.Yo=R[2][0];this.Zw=2}else{var W=e.n.cE(N.d,j,!0,a);if(W.V9==-1)this.EZ=j;
else{N.T=[W.V9];N._B=[]}}if(this.mt==null){this.mt=U.add.vmsk.clone();this.uM=JSON.stringify(U.add.vogk)}this.C5=new a5(j);
b.qV=!0};E.hj.prototype.Jl=function(b,h,G,H,B){if(b==null)return;var j=b.s.Fj(B.x,B.y),s=this.L6;if(this.Yo!=-1){var q=this.mt.clone(),Q=s.add.vogk,a=q.d[this.Yo];
a=[a.v,a.o$,a.PY][this.Zw];if(H.W(ap.J3)){if(this.Zw==0){j=this.C5.$X(j,H);j.x+=a.x-this.sk.x;j.y+=a.y-this.sk.y}else j=E.Yk.wk(q.d[this.Yo].v,j)}else{if(this.cR.psnap){j.x=Math.round(j.x);
j.y=Math.round(j.y)}j=E.uW.HV(b,j,G)}if(this.Zw==0){var l=new eq(1,0,0,1,j.x-a.x,j.y-a.y);e.n.Gl(q.d,l,null,q._B)}else{var U=q.d[this.Yo],N=U.o$,R=U.PY;
if(this.Zw==2){N=U.PY;R=U.o$}if(H.W(ap.p0)&&(U.type==1||U.type==4))U.type++;N.ve(j.x,j.y);if(U.type==1||U.type==4){var S=cJ.o0(N,U.v),g=cJ.o0(R,U.v);
if(g!=0){R.x=U.v.x-(N.x-U.v.x)*(g/S);R.y=U.v.y-(N.y-U.v.y)*(g/S)}}}this.bS(q,Q);this.zV(b,s.V9,q,Q)}else if(this.EZ!=null){var i=this.EZ;
b.A.wY=e.N.Q0(new io(i.x,i.y,j.x-i.x,j.y-i.y));b.qV=!0}else{var y=b.wV(),o=y[0],v=y[1],s,q,d;if(v.length==0)return;
var Z=E.Et(b,B),W=new io(j.x-Z,j.y-Z,Z*2,Z*2);for(var $=0;$<v.length;$++){s=o[v[$]];q=s.add.vmsk;d=e.n.h$(q.d,W);
if(d[0].length+d[1].length+d[2].length!=0)break}this.Qz(b);for(var Y=0;Y<3;Y++){for(var I=0;I<d[Y].length;
I++){var k=d[Y][I],_=q.d[k];_=Y==0?_.v:Y==1?_.o$:_.PY;b.A.qA.push(_.x,_.y);b.qV=!0}}}};E.hj.prototype.Qz=function(b){if(b&&b.A.qA.length!=0){b.A.qA=[];
b.qV=!0}};E.hj.prototype.dq=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=this.L6,q=s?s.add.vmsk:null,Q=s?s.add.vogk:null;
if(this.Yo!=-1){if(Date.now()-this.RH<300){var a=q.d[this.Yo],l=this.Zw,U=null;if(l==0){var N=a.o$.TW(a.v),R=a.PY.TW(a.v);
if(!N&&!R){U="Anchor Type";if(a.type==1||a.type==4)a.type++;else{a.type--;a.PY=a.v.add(a.v.SX(a.o$))}}else{U="Add Handles";
if(N&&R){a.o$.x-=30;a.PY.x+=30}else if(N)a.o$=a.v.add(a.v.SX(a.PY));else if(R)a.PY=a.v.add(a.v.SX(a.o$))}}else{U="Remove Handle";
if(l==1)a.o$.CX(a.v);else a.PY.CX(a.v)}this.bS(q,Q);this.zV(b,s.V9,q,Q);this.PK(b,U,s.V9,this.mt,q,null,this.uM,JSON.stringify(Q))}else if(!this.sk.TW(j)){this.PK(b,"Drag Anchors",s.V9,this.mt,q,null,this.uM,JSON.stringify(Q))}this.RH=Date.now()}else if(this.EZ!=null){var S=this.EZ,g=new io(S.x,S.y,j.x-S.x,j.y-S.y);
if(g.j<0)g.x+=g.j;if(g._<0)g.y+=g._;g.j=Math.abs(g.j);g._=Math.abs(g._);var i=e.n.h$(q.d,g);q._B=i[0].concat(H.W(ap.J3)?q._B:[]);
b.A.wY=null}this.gx();b.qV=!0};E.hj.prototype.gx=function(){this.L6=null;this.mt=null;this.EZ=null;this.Yo=this.Zw=-1;
this.C5=null};E.hj.prototype.bS=function(b,h){for(var Y=0;Y<b._B.length;Y++){var G=e.n.RZ(b.d,b._B[Y]);
e.Bs.u7(h,G)}};E.hj.prototype.Z1=function(b,h,G,H){if(b==null)return;var B=b.wV(),j=B[0],s=B[1];if(s.length==0)return;
var q=j[s[0]],Q=q.add.vmsk;if(Q==null||Q._B.length==0)return;var a=q.add.vogk,l=JSON.stringify(a),U=H.in(b?b.s.ej:0);
if(U.x!=0||U.y!=0){var N=Q.clone(),R=Q.clone(),S=new eq(1,0,0,1,U.x,U.y);e.n.Gl(R.d,S,null,R._B);this.bS(R,a);
this.zV(b,q.V9,R,a);this.PK(b,"Move Anchors",b.T[0],N,R.clone(),!0,l,JSON.stringify(a))}if(H.W(ap.TD)||H.W(ap.Y6))this.Jd({q:"remove",dN:!0,a1S:!0},h,b,H,G)};
E.hj.prototype.PK=function(b,h,G,H,B,j,s,q){var Q=b.vc();if(j&&Q!=null&&Q.S==this&&Q.data.aDM&&Q.data.zj==G&&JSON.stringify(Q.data.r2._B)==JSON.stringify(H._B)){Q.data.Tb=B;
Q.data.Zd=q}else{var Q=new eN(h,this);Q.data={zj:G,r2:H,Tb:B,aDM:j,a7B:s,Zd:q};b.vU(Q)}};E.Rect=function(){E.kQ.call(this,[10,32],E.c2,"tools/rect",!0)};
E.Rect.prototype=new E.kQ;E.Rect.prototype.iq=function(b,h,G){var H=this.U6.crad,B=h.x-b.x,j=h.y-b.y;
return[e.n.NT.Rect(b.x,b.y,B,j,H),e.Bs.AS("Rctn",[b.x,b.y,h.x,h.y],[H,H,H,H])]};E.yT=function(){E.kQ.call(this,[10,33],E.Ou,"tools/ellipse",!0)};
E.yT.prototype=new E.kQ;E.yT.prototype.iq=function(b,h,G){var H=h.x-b.x,B=h.y-b.y;return[e.n.NT.yT(b.x,b.y,H,B),e.Bs.AS("Elps",[b.x,b.y,h.x,h.y])]};
E.d6=function(){E.kQ.call(this,[10,34],E.JX,"tools/pshape",!1);this.U6.aopts=[!1,!0,50,100,0]};E.d6.prototype=new E.kQ;
E.d6.prototype.iq=function(b,h,G){var H=this.U6.pshape,B=this.U6.crad,j=this.U6.irad/100,s=this.U6.sides,q=this.U6.width,Q=this.U6.aopts,a=this.U6.length,i;
h=h.clone();var l=b.x,U=b.y,N=h.x,R=h.y,S=Math.sqrt((N-l)*(N-l)+(R-U)*(R-U)),g=Math.atan2(-R+U,N-l);
if(G)g=Math.round(g*180/Math.PI/15)*15*Math.PI/180;if(H==0)i=e.n.NT.hD(l,U,S,g,s,B);if(H==1)i=e.n.NT.an8(l,U,S,g,s,B,j);
if(H==2)i=e.n.NT.OO(b.x,b.y,h.x,h.y,q,Q);if(H==3)i=e.n.NT.ahF(l,U,S,g,a);return[i,e.Bs.AS("customShape",[b.x,b.y,h.x,h.y],null,null,null,"--")]};
E.d6.prototype.Z1=function(b,h,G,H){E.kQ.prototype.Z1.call(this,b,h,G,H);var B=H.in(),j=this.U6,s,q;
if(B.y!=0){var Q=-B.y,a=j.pshape;if(a<2){s="sides";q=Math.max(3,Math.min(100,j.sides+Q))}else if(a==2){s="width";
q=Math.max(1,Math.min(100,j.width+Q))}else if(a==3){s="length";q=Math.max(4,Math.min(40,j.length+Q))}}if(B.x!=0){s="pshape";
q=Math.max(0,Math.min(3,j.pshape+B.x))}if(s){var l=new hb(w.E.b,!0),U={};U[s]=q;j[s]=q;l.data={q:w.p.XM,S:this.id,DF:"vals",aw4:U};
h.Q(l);this.Jl(b,h,G,H)}};E.YX=function(){E.kQ.call(this,[10,35],E.v3,"tools/line",!1)};E.YX.prototype=new E.kQ;
E.YX.prototype.iq=function(b,h,G){var H=this.U6.width,B=this.U6.aopts;h=h.clone();if(G){h=E.Yk.wk(b,h)}if(fq==1)H=0;
return[e.n.NT.OO(b.x,b.y,h.x,h.y,H,B),e.Bs.AS("Ln",null,null,[b.x,b.y,h.x,h.y],H,null,B)]};E.pk=function(){E.kQ.call(this,[10,31],E.qN,"tools/cshape",!0)};
E.pk.prototype=new E.kQ;E.pk.prototype.iq=function(b,h,G){var H=this.U6.shape,B=H.rc.j/H.rc._,j=C.cW.O6(H.d);
h=h.clone();if(G){h.y=b.y+(h.x-b.x)/B}var s=h.x-b.x,q=h.y-b.y;e.n.Gl(j,new eq(s,0,0,q,b.x,b.y));return[j,e.Bs.AS("customShape",[b.x,b.y,h.x,h.y],null,null,null,H.Mn)]};
E.Y=function(b,h,G){E.af.call(this,b,h,G);this.X_=0;this.R=null;this.wh=null;this.sV=null;this.jw=1;
this.cr=0;this.qS=!0;this.K4=!1;this.cursor=null;this.Ei=null;this.QU=null;this.lr=!1;this.IO=null;this.a2l=0;
this.Q3=null;this.yE=0;this.wb=null;this.VB=null;this.Qa=null;this.j4=null;this.a5V=null;this.wl=null};
E.Y.prototype=new E.af;E.Y.y$=function(b,h,G){var H={classID:"null",null:aX.eP(G?"Lyr":"Dcmn",!0)};if(b)H.Angl={t:"UntF",v:{type:"#Ang",val:h}};
else H.Axis={t:"enum",v:{Ornt:h}};return{f6:b?"rotateEventEnum":"flip",yo:H}};E.Y.prototype.Of=function(b,h,G,H,B){var j=new hb(w.E.b,!0);
j.data={q:w.p.XM,S:this.id,FC:B,FK:b,sV:G};h.Q(j);this.Id=!1};E.Y.prototype.xX=function(b){return this.VB&&this.VB.aet()};
E.Y.prototype.Jd=function(b,h,G,H,B){this.sV=B;if(b.q=="again"&&this.Q3==null)return;if(!this.CE(G,B))return;
if(this.VB){this.aES(b,this.VB.V6(),h,G,H,B);this.x_(G,B,0,!0);this.I$(G);return}this.ahA(G,b.o==null,b.o);
this.axZ(G);this.aES(b,b.a0w,h,G,H,B);this.Po(G,h,b.VH,!1)};E.Y.prototype.aES=function(b,h,G,H,B,j){var s=this.wb;
if(h==null){var q=b.ok!=null?b.ok:4;h=this.VB.awl()[q]}var Q=h.x,a=h.y;if(b.q=="rot"&&b.P!=Math.PI&&(s.j+s._&1)==1){Q=Math.floor(Q);
a=Math.floor(a)}var l=new eq;l.translate(-Q,-a);if(b.q=="rot")l.rotate(b.P);if(b.q=="scl")l.scale(b.P.x,b.P.y);
if(b.q=="mat")l.concat(b.P);l.translate(Q,a);if(b.q=="again")l=this.Q3;var U=e.t.UE(l);if(b.q=="dtr"){var N=e.t;
U=N.Z$(b.P,N.U(-Q,-a));U=N.Z$(N.U(Q,a),U)}var R=this.VB.eF();e.t.h(U,R);this.VB.LY(R);if(b.Ee){var S=b.Ee.v;
this.Fy({$Y:"switchWarp"},G,H,B);this.Fy({$Y:"wrp",Ee:S},G,H,B)}};E.Y.prototype.W1=function(){return!0};
E.Y.prototype.CE=function(b,h,G){if(b==null)return!1;if(this.id==E.KT)return b.e!=null;var H=b.bZ(!0,null,null,!0);
if(this.id==E.C8&&b.R[H[0]].rect.Zx()){alert("Layer is empty.");return!1}for(var Y=0;Y<H.length;Y++){var B=b.R[H[Y]];
if(B.Xb(2)||B.Xb(31)){alert(bp.get([6,57,0]));return!1}if(B.add.artb){alert("You can not transform the whole artboard");
return!1}if(B.add.TySh)if(!jK.Ln(B.add.TySh,h.B7))return!1;if(B.add.SoLd){if(H.length==1&&(G&&G.vX==-1)&&(B.Y1()&&B.Y1().lc||B.add.vmsk&&B.add.vmsk.lc)){alert("Unlink masks before transforming Smart Object");
return!1}if(!b.avP(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+b.WC(B.add.SoLd.Idnt.v)._6+")");
return!1}}}if(b.e==null)return!0;if(!b.s5())return!1;return b.aal()};E.Y.prototype.Ay=function(b,h,G,H,B){var j=this.go(B,b),s=j[0],q=j[1],Q=this.yE==0?this.VB:this.Qa;
b.s.D*=q;this.K4=Q.Ay(b,G,H,s,null,null,B);if(!this.K4&&fq==1){this.Po(b,h,null,!0);return}this.I$(b,s);
b.s.D/=q;if(this.K4&&Q.eB(s)){if(Date.now()-this.a2l<250)this.Po(b,h,null,!0);this.a2l=Date.now()}};
E.Y.prototype.tf=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.dm,ji:this.cursor};b.Q(h)};E.Y.prototype.go=function(b,h){var G=1;
b=h.s.Fj(b.x,b.y);if(this.yE==1){var H=e.t.Kt(this.VB.eF(),this.wb);G=e.t.lt(H).$K();var B=e.t.Q6(H);
b=e.t.a2k(B,b)}return[b,G]};E.Y.prototype.Jl=function(b,h,G,H,B){var j=this.go(B,b),s=j[0],q=j[1],Q=this.yE==0?this.VB:this.Qa;
if(!B.mN){var a="default";if(Q){var l=Q.qc(s,b.s.D*q,null,B);if(l)a=l}if(a!=this.cursor){this.cursor=a;
this.tf(h)}if(this.Qa){this.I$(b,s)}}if(!this.K4)return;b.s.D*=q;var U=this.v9=Q.Jl(b,G,H,s,this.qS);
b.s.D/=q;this.x_(b,G,0,!0);this.I$(b,s);this.vl(h)};E.Y.prototype.dq=function(b,h,G,H,B){var j=this.go(B,b),s=j[0],q=j[1];
this.VB.dq(b,G,H,s);if(this.Qa){var Q=this.Qa.dq(b,G,H,s);if(Q){this.vl(h,!0);this.I$(b)}}if(this.v9){var a=this.ZE(),l=e.N.Q0(this.wb).m;
e.t.h(a,l);this.VB.LY(l);this.v9=null}this.K4=!1};E.Y.prototype.Z1=function(b,h,G,H){if(H.W(ap.pr))this.Po(b,h,null,!0);
else if(H.W(ap.Ac))this.oO(b,h);else{var B=this.VB.Z1(b,G,H);if(B){this.x_(b,G,0,!0);this.vl(h)}}};E.Y.prototype.Fy=function(b,h,G,H){if(b.$Y=="commit")this.Po(G,h,null,!0);
else if(b.$Y=="cancel")this.oO(G,h);else if(b.$Y=="switchWarp"){this.yE=1-this.yE;this.ajt();this.I$(G);
this.vl(h)}else if(b.$Y=="wrp"){this.Qa.ap$(b.Ee);this.I$(G);this.x_(G,this.sV,0,!0)}else if(b.$Y=="splt")this.Qa.ani(b.P);
else if(b.$Y=="ctyp"){this.VB.adM(b.Sn);this.I$(G);this.vl(h)}else if(b.$Y=="cen"){this.VB.aj1(b.WG);
this.I$(G);this.x_(G,this.sV,0,!0)}else if(b.$Y=="trn"){var B=e.t.UE(b.FO),j=this.wb,s=e.t.Kt(this.VB.eF(),this.wb);
B[6]=s[6],B[7]=s[7];var q=[j.x,j.y,j.x+j.j,j.y,j.x+j.j,j.y+j._,j.x,j.y+j._];e.t.h(B,q);this.jw=b.jw;
if(b.cr!=this.cr){this.cr=b.cr;this.agL(G)}this.qS=b.qS;this.VB.LY(q);this.I$(G);this.x_(G,this.sV,0,!0)}};
E.Y.prototype.I$=function(b,h){if(this.yE==0)this.VB.XU(b,this.sV);else{this.Qa.XU(b,h);var G=this.ZE();
e.t.h(G,b.A.$D.m);e.t.h(G,b.A.Kx);e.t.h(G,b.A.ir)}};E.Y.prototype.Po=function(b,h,G,H){this.x_(b,this.sV,this.jw);
var B=new eN(G?G:this.name,this),W="";if(this.X_==0)B.data={type:this.X_,R:this.R,IO:this.wh,oF:E.Y.J2(b,this.R)};
else if(this.X_==1){var j=b.R[this.R[0]],s;if(j.lD.nD<=0){s=e.U(j.lD.eQ.X());e.uA(j.lD.qe,s,3)}else s=b.e.channel;
var q={rect:j.lD.eQ.clone(),channel:s};B.data={type:this.X_,o:this.R[0],QU:this.QU,_r:q,Ei:this.Ei,lr:this.lr,lD:j.lD,IO:this.IO,oF:{O2:j.lD.eQ,VN:j.lD.qe}}}else if(this.X_==2){B.data={type:this.X_,QU:this.QU,_r:{rect:b.e.rect.clone(),channel:b.e.channel.slice(0)}}}b.vU(B);
var Q=this.wb,a=e.t.Kt(this.VB.eF(),Q),l=this.wh,U=l?l[0]:null;if(l&&l.length==1&&U[4]){var N=E.Y.DM(U[4].nonAffineTransform),Q=e.N.MP(e.hC.kB(U[4].quiltWarp.v)[3]),R=e.t.Kt(N,Q);
a=e.t.Z$(a,e.t.Q6(R))}var S=e.t.lt(a),g=this.VB.V6(),i=new eq;i.translate(g.x,g.y);i.concat(S);i.translate(-g.x,-g.y);
S=i.clone();var y=-Math.atan2(-S.J,S.G),o=new eq;o.rotate(y);S.concat(o);function v(_,D){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][D],val:_}}}var Z=aX.eP("Lyr",!0);
if(this.id==E.KT)Z.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var d=E.Y.a1g;for(var $ in d)if(d[$]==this.VB.eb)W=$;
if(W==""){W="Qcsi";i.Kv=i.d0=0}var I={classID:"null",null:Z,FTcs:{t:"enum",v:{QCSt:W}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:v(i.Kv,0),Vrtc:v(i.d0,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:v(Math.atan(S.YW/S.tW)*180/Math.PI,2),Vrtc:v(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:v(100*0,1),Vrtc:v(100*0,1)}},Wdth:v(S.G*100,1),Hght:v(S.tW*100,1),Angl:v(y*180/Math.PI,2)};
if(W=="Qcsi")I.Pstn={t:"Objc",v:{Hrzn:v(g.x,0),Vrtc:v(g.y,0)}};var k=this.Qa?this.Qa.CF():null;if(k&&!e.hC.lv(k)){I.quiltWarp={t:"Objc",v:k}}this.KB=h;
this.track({f6:"transform",yo:I});this.escape(b,h,H)};E.Y.a1g={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
E.Y.prototype.oO=function(b,h){if(this.X_==0)E.Y.iJ(b,this.R,this.wh);else if(this.X_==1){var G=b.R[this.R[0]];
b.e=this.QU;if(!this.lr){G.lD.eQ=this.IO.O2;G.lD.qe=this.IO.VN;G.Cw(b,0,0,b.e)}else{G.Ao(b,this.Ei)}b.c();
b.nh=!0}else if(this.X_==2){b.e=this.QU;b.nh=!0}this.escape(b,h,!0)};E.Y.prototype.escape=function(b,h,G){this.VB.clear(b);
if(this.Qa)this.Qa.clear(b);this.VB=null;this.Qa=null;this.wl=null;this.yE=0;if(G)this.GK(h,w.E.b,{q:w.p.BU})};
E.Y.prototype.uF=function(b,h){if(b.type==0)E.Y.iJ(h,b.R,b.oF);else{if(b.type==1){var G=h.R[b.o];if(b.lr){G.lD=b.lD}else{G.lD.eQ=b.oF.O2;
G.lD.qe=b.oF.VN}G.Cw(h,0,0,h.e);h.c()}h.e={rect:b._r.rect.clone(),channel:b._r.channel.slice(0)};h.nh=!0}};
E.Y.prototype.sv=function(b,h){if(b.type==0)E.Y.iJ(h,b.R,b.IO);else{if(b.type==1){var G=h.R[b.o];if(b.lr){G.Ao(h,b.Ei)}else{G.lD.eQ=b.IO.O2;
G.lD.qe=b.IO.VN;G.Cw(h,0,0,h.e)}h.c()}h.e=b.QU;h.nh=!0}};E.Y.prototype.ahA=function(b,h,G){b.wV();var H=[];
if(G==null)for(var Y=0;Y<b.xe.length;Y++)if(b.N6[b.xe[Y]].add.vmsk.d.length>2)H.push(-1-b.xe[Y]);var B=[],j=b.s.M;
if(j[0]+j[1]+j[2]==3)if(G!=null||H.length==0||b.mS!=null&&b.mS.length!=0){if(b.T.length==1){var s=b.R[b.T[0]];
if(s.fu()&&s.ZB)B=[b.T[0]]}if(B.length==0)B=b.bZ(h,G,null,!0)}B=B.concat(H);for(var Y=0;Y<b.ql.length;
Y++)B.push(-1e3-b.ql[Y]);this.R=B};E.Y.prototype.enable=function(b,h,G,H,B,j){if(this.cursor==null)this.cursor="default";
this.tf(h);if(this.VB)return;this.sV=G;this.ahA(b,!0);this.axZ(b,j&&j.vX!=null&&j.vX!=-1?j.vX:null);
this.vl(h,null,b);this.I$(b);if(j&&j.vX==-1)this.Fy({$Y:"switchWarp"},h,b,H)};E.Y.prototype.Ch=function(){return[this.qS?1:0]};
E.Y.prototype.L2=function(b,h,G){if(b&&b[0]!=null)this.qS=b[0]==1};E.Y.prototype.vl=function(b,h,G){var H={q:w.p.XM,S:this.id};
if(this.yE==0){var B=e.t.Kt(this.VB.eF(),this.wb),j=e.t.lt(B);H.FO={GF:j,Sn:this.VB.atc(),WG:this.VB.V6(),O2:this.wb.clone(),qS:this.qS}}else{H.aqa=h;
H.Ee=this.Qa.CF()}if(G){H.$B=["---"];for(var Y=0;Y<G.$B.length;Y++)H.$B.push(G.$B[Y].name)}H.afW=this.Qa!=null;
this.GK(b,w.E.b,H)};E.Y.prototype.axZ=function(b,h){var G=this.id==E.KT,H=!0,B=this.R[0],j=b.R[B],q=null,Q=null,a=null,N=null;
if(G){this.X_=2;this.QU=b.e}else if(b.e&&this.R.length==1&&B>=0&&!j.rect.Zx()){this.X_=1;this.QU=b.e;
this.Ei=j.lD;this.lr=!1;if(!j.tv(b,b.e)){this.lr=!0;j.fo(b,b.e,!1)}this.IO={VN:j.lD.qe,O2:j.lD.eQ}}else{this.X_=0;
this.wh=E.Y.J2(b,this.R,null);for(var Y=0;Y<this.wh.length;Y++)if(this.wh[Y][3]!=null)H=!1}var s=this.X_==1;
if(this.wh&&this.wh.length==1){var l=this.wh[0];if(l[2]!=null)Q=l[2].SU;if(l[3]==null)s=!0;if(l[3]!=null)a=l[3];
if(l[4]!=null){q=b.R[this.R[0]].add.SoLd;if(l[1]||l[2])s=!1}}var U=G?b.e.rect.clone():E.Y.Ki(b,this.R);
this.wb=U;if(!G&&Q&&fq==1){N=Q.me();this.j4=e.t.Kt(N,this.wb)}else if(!G&&a&&fq==1){var R=b.R[this.R[0]],a=R.add.TySh;
N=e.N.Q0(R.Z5.fc).m;e.N.h(N,a.h,N);this.j4=e.t.Kt(N,this.wb)}else if(!G&&q){N=E.Y.DM(q.nonAffineTransform);
this.wb=e.N.MP(e.hC.kB(q.quiltWarp.v)[3]);if(s)this.Qa=new ej(q.quiltWarp.v);this.j4=e.t.Kt(N,this.wb)}else{if(s||G)this.Qa=new ej(e.hC.U(this.wb));
this.j4=[1,0,0,0,1,0,0,0];if(this.id==E.C8)h=3;N=[U.x,U.y,U.x+U.j,U.y,U.x+U.j,U.y+U._,U.x,U.y+U._]}this.VB=new eR(N,!0,!0,H,!1,!1,h);
this.a5V=[1,0,0,0,1,0,0,0];this.agL(b)};E.Y.prototype.agL=function(b){if(this.id==E.C8){var h,G,j=null;
if(this.wh&&b.e==null){var H=this.wh[0][0],B=H.xm;h=B[0];G=B[1]}else if(this.IO){h=this.IO.VN;G=this.IO.O2}if(this.cr!=0)j=b.$B[this.cr-1].tn(G);
this.wl=e.Bj.ao0(h,G.j,G._,j)}};E.Y.Ki=function(b,h){if(h==null)h=b.bZ(!0,null,null,!0);var G=new io,H=new io;
if(b.e&&h.length==1&&h[0]>=0)G=b.e.rect.clone();else for(var Y=0;Y<h.length;Y++){var B=h[Y],j=0<=B?b.R[B]:-1e3<B?b.N6[-1-B]:b.$B[-1e3-B],s=j.add?j.add.vmsk:null,q=0<=B?j.xu(b,h.length==1,!1,!0):-1e3<B?e.n.d4(s.d,h.length==1&&s.T.length!=0?s.T:null):j.rect.clone();
G=G.gJ(q);if(B>0&&j.add.artb)H=H.gJ(j.Ey())}return!H.Zx()?H:G};E.Y.prototype.GK=function(b,h,G,H){var B=new hb(h,!0);
B.data=G;if(H)B.S=H;b.Q(B)};E.Y.J2=function(b,h,G){var H=[];for(var Y=0;Y<h.length;Y++){var B=h[Y],j,s;
if(B>=0){j=b.R[B];s=j._j(b,G,!0)}else if(B>-1e3){j=b.N6[-1-B];s=[2]}else{H.push([null,null,null,null,null,null,null,b.$B[-1e3-B].clone()]);
continue}var q=[],Q=s.indexOf(0)!=-1;if(Q){var a={xm:j.add.SoLd?null:[j.buffer.slice(0),j.rect.clone()]};
q.push(a);if(j.Ag()){var l=j.T0(b);a.aBL=l.buffer.slice(0);a.aCT=l.rect.clone()}}else q.push(null);if(s.indexOf(1)!=-1)q.push(j.Y1().clone());
else q.push(null);if(s.indexOf(2)!=-1)q.push({SU:j.add.vmsk.clone(),QA:j.add.vstk?JSON.parse(JSON.stringify(j.add.vstk)):null,Tf:j.add.vstk?dE.Y3(b.R[B].add):null,a6:j.add.vstl?JSON.stringify(j.add.vstl):null,Bs:j.add.vogk?JSON.parse(JSON.stringify(j.add.vogk)):null});
else q.push(null);if(j.add.TySh&&Q){b_.hl(j.add.TySh);q.push(j.add.TySh.h.clone())}else q.push(null);
if(j.add.SoLd&&Q)q.push(JSON.parse(JSON.stringify(j.add.SoLd)));else q.push(null);if(s.indexOf(3)!=-1)q.push(j.T0(b).u.clone());
else q.push(null);if(j.add.lmfx)q.push(JSON.stringify(j.add.lmfx));else q.push(null);H.push(q)}return H};
E.Y.iJ=function(b,h,G){for(var Y=0;Y<h.length;Y++){var H=h[Y],B=0<=H?b.R[H]:-1e3<H?b.N6[-1-H]:b.$B[-1e3-H],j=G[Y];
if(j[0]){if(j[0].xm){B.rect=j[0].xm[1].clone();B.buffer=j[0].xm[0].slice(0)}if(B.Ag()){var s=B.T0(b);
s.buffer=j[0].aBL.slice(0);s.rect=j[0].aCT.clone()}}if(j[1]){B.Y1().channel=j[1].channel.slice(0);B.Y1().rect=j[1].rect.clone();
B.Y1().GD=!0}if(j[2]){B.add.vmsk=j[2].SU.clone();if(j[2].Tf)dE.$M(B.add,j[2].Tf);if(j[2].QA)B.add.vstk=JSON.parse(JSON.stringify(j[2].QA));
if(j[2].Bs)B.add.vogk=JSON.parse(JSON.stringify(j[2].Bs));if(j[2].a6)B.add.vstl=JSON.parse(j[2].a6)}if(j[3]){B.add.TySh.h=j[3].clone();
b_.hz(B.add.TySh)}if(j[4]){B.add.SoLd=JSON.parse(JSON.stringify(j[4]))}if(j[5]){var q=B.T0(b).u;q.channel=j[5].channel.slice(0);
q.rect=j[5].rect.clone()}if(j[6]){B.add.lmfx=JSON.parse(j[6])}if(j[7]){B.channel=j[7].channel.slice(0);
B.rect=j[7].rect.clone();B.GD=!0}if(0<=H){B.vw(b);B.c();if(j[4])B.gE(b,!1)}}b.c()};E.Y.J6=function(b,h,G,H,B,j,s,q,Q,a){if(typeof j[0]=="number"){var l=[];
for(var Y=0;Y<G.length;Y++)l[Y]=j;j=l}for(var Y=0;Y<G.length;Y++){var U=j[Y],N=e.t.lt(U),R=N.$K(),S=G[Y],g=0<=S?b.R[S]:-1e3<S?b.N6[-1-S]:b.$B[-1e3-S],i=H[Y];
if(g.add&&g.add.lmfx&&q)eQ.K7(g.add.lmfx,R);if(i[0]&&!i[3]&&!i[4]&&!i[5]){var y=i[0].xm;if(Q){var o=Q.D4(y[1]),v=e.U(o.X()*4);
e.JE(y[0],y[1],v,o);y=[v,o]}var Z=E.Y.nW(y,B,U,s,B==0?g.buffer.buffer:null,null,null,a);if(Z){g.rect=Z.rect;
g.buffer=Z.buffer}}if(i[1]){var W=g.Y1();E.Y.pW(b,i[1],W,B,U,s,W.lc&&s&&!e.hC.lv(s)&&i[0]?i[0].xm[1]:null);
if(Q){var o=W.rect.D4(Q),d=e.U(o.X());e.wX(W.channel,W.rect,d,o);W.channel=d;W.rect=o}}if(i[2]){var $=s&&!e.hC.lv(s),I=i[2].SU.clone(),k=G.length==1&&I.T.length!=0,_=G.length==1&&I._B.length>1;
if(_)k=!1;var D=k?I.T:null,A=_?I._B:null;if($){var F=e.hC.kB(s);e.t.h(U,F[3]);e.n.aBI(I.d,F,D,A)}else e.n.a18(I.d,U,D,A);
if(g.add.vstk&&q){g.add.vstk.strokeStyleLineWidth.v.val=i[2].QA.strokeStyleLineWidth.v.val*R;var K=i[2].Tf;
if(K&&K.Z_==3){K=JSON.parse(JSON.stringify(K));var V=K.Tf.phase.v;K.Tf.Scl.v.val=Math.round(K.Tf.Scl.v.val*R);
V.Hrzn.v=Math.round(V.Hrzn.v*R);V.Vrtc.v=Math.round(V.Vrtc.v*R);dE.$M(g.add,K)}}if(g.add.vogk){g.add.vogk=JSON.parse(JSON.stringify(i[2].Bs));
if($||_)e.Bs.a3x(g.add.vogk);else e.Bs.h(g.add.vogk,U,G.length>1?[]:I.T,q)}if(g.add.vstl){var r=g.add.vstl=JSON.parse(i[2].a6);
for(var c=0;c<2;c++){var x=c==0?r.E_:r.g9;if(x==null||x[3]==null)continue;var X=x[3],M=new eq(X[0],X[1],X[2],X[3],X[4],X[5]);
M.concat(N);x[3]=[M.G,M.J,M.YW,M.tW,M.Kv,M.d0]}}I._o*=R;var f=new eq;f.rotate(I.vt);f.concat(N);I.vt=Math.atan2(-f.J,f.G);
g.add.vmsk=I;if(g.add.vogk)e.Bs.CG(g.add.vogk,g.add.vmsk)}if(i[3]){var M=i[3].clone();M.concat(N);g.add.TySh.h=M;
b_.hz(g.add.TySh);jK.rk(g,h.B7)}if(i[4]){var t=g.add.SoLd,n=E.Y.DM(i[4].nonAffineTransform);e.t.h(U,n);
var L=e.N.sm(n);if(eR.gB(n)){if(s){var P=e.N.MP(e.hC.kB(i[4].quiltWarp.v)[3]),d=e.t.Kt(n,P),z=e.N.MP(e.hC.kB(s)[3]);
n=[z.x,z.y,z.x+z.j,z.y,z.x+z.j,z.y+z._,z.x,z.y+z._];e.t.h(d,n);t.quiltWarp.v=s}var T=e.t.Kt(n),p=n;if(!e.t.mK(T)){T[6]=T[7]=0;
p=[0,0,1,0,1,1,0,1];e.t.h(T,p)}t.Trnf=E.Y.Ll(p);t.nonAffineTransform=E.Y.Ll(n);if(t.filterFX)t.filterFX=JSON.parse(JSON.stringify(i[4].filterFX));
E.Y.amo(t,N);g.gE(b,B==0,h.B7)}}if(i[5])E.Y.pW(b,i[5],g.T0(b).u,B,U,s);if(i[7])E.Y.pW(b,i[7],g,B,U,s);
if(0<=S){if(!a)g.r6();g.vw(b);g.c()}}b.c()};E.Y.pJ=function(b,h){var G=h.$K(),H=0;e.HL(b);var B=e.a0j(b,h,.3,4);
H=B[0];h=B[1];var j=b[H],s=b[H+1],q=s.j,Q=s._,a=e.N.Q0(s).m;e.N.h(a,h,a);var l=e.N.sm(a),U=e.U(l.X()),N=l.x,R=l.y,S=l.j,g=l._,i=h.clone();
i.Q6();var y=i.At(new cJ(0,0)),o=i.At(new cJ(1,0)),v=o.x-y.x,Z=o.y-y.y;for(var W=0;W<g;W++){var d=i.G*(N+.5)+i.YW*(W+R+.5)+i.Kv,$=i.J*(N+.5)+i.tW*(W+R+.5)+i.d0;
for(var I=0;I<S;I++){U[W*S+I]=Math.floor(.5+e.t.a2V(d,$,j,q,Q));d+=v;$+=Z}}return{rect:l,channel:U}};
E.Y.Mp=function(b,h,G,H,B,j){if(G==null)G=!1;return E.Y.nW(b,G?0:1,e.t.UE(h),null,H,B,j,G)};E.Y.nW=function(b,h,G,H,B,j,s,q){if(q==null)q=!1;
if(q&&s)throw"e";var Q={},l=0;if(H&&!e.hC.lv(H)){var a=e.hC.kB(H);e.t.h(G,a[3]);Q.rect=e.N.sm(a[3]);
Q.buffer=e.U(Q.rect.X()*4);e.ac.drawImage(a,b[0],b[1].j,b[1]._,Q.buffer,Q.rect,h==0);return Q}if(e.t.mK(G)){e.tT(b);
var U=.3,l=0,N=e.t.lt(G),R=b[1],S=R.X()*N.$K();if(q&&S>4e6)U=S>8e6?2.2:1.2;var g=e.a0j(b,N,U,16);l=g[0];
G=e.t.UE(g[1])}var i=b[l],R=b[l+1],y=e.t.Z$(G,e.t.UE(new eq(R.j,0,0,R._,R.x,R.y))),o=[0,0,1,0,1,1,0,1];
e.t.h(y,o);Q.rect=e.N.sm(o);if(s)Q.rect=Q.rect.D4(s);if(q){while((Q.rect.j&3)!=0)Q.rect.j++;while((Q.rect._&3)!=0)Q.rect._++}if(!eR.gB(o)||Q.rect.j>1e5||Q.rect._>1e5||Q.rect.X()>3e4*3e4)return null;
var v=Q.rect.X()*4;if(B&&B.byteLength>=v&&v>=B.byteLength>>2){Q.buffer=new Uint8Array(B)}else{Q.buffer=e.U(v)}e.t.drawImage(y,i,R.j,R._,Q.buffer,Q.rect,h==0,j,q);
if(h==2&&Q.buffer){var Z=Q.rect.j,W=Q.rect._,d;d=[0,-1,0,-1,16,-1,0,-1,0];d=e.aU.Ol(d);var $=Q.buffer.slice(0);
e.aU.c_($,Q.buffer,Z,W,d,255,!1,!0)}if(Q.buffer)return Q};E.Y.pW=function(b,h,G,H,B,j,s){var q=h.rect,Q=h.channel;
if(s){q=s;Q=h.tn(q)}if(h.color==255)e.Q6(Q);var a=e.U(q.X()*4);e.aj(Q,a,3);var l=E.Y.nW([a,q],H,B,j);
if(l){G.rect=l.rect;G.channel=e.U(l.rect.X());e.uA(l.buffer,G.channel,3);G.GD=!0}if(h.color==255){e.Q6(Q);
if(l)e.Q6(G.channel)}};E.Y.amo=function(b,h){var G=b.filterFX;if(G)G=G.v.filterFXList;if(G)G=G.v;if(G)for(var H=0;
H<G.length;H++){var B=G[H].v.Fltr;if(B==null||B.v.classID!="rigidTransform")continue;B=B.v;console.log(B);
var j=[];for(var s=0;s<4;s++)j.push(B["PuX"+s].v,B["PuY"+s].v);e.N.h(j,h,j);for(var s=0;s<4;s++){B["PuX"+s].v=j[s*2];
B["PuY"+s].v=j[s*2+1]}var q=["PinP","posFinalPins"],Q=["originalVertexArray","deformedVertexArray"],a=B.puppetShapeList.v;
for(var l=0;l<a.length;l++){var U=a[l].v;for(var N=0;N<q.length;N++){var R=E.Y.DM(U[q[N]]);e.N.h(R,h,R);
U[q[N]]=E.Y.Ll(R);var S=new Uint8Array(U[Q[N]].v),g=new Float32Array(S.buffer);e.N.h(g,h,g);var i=[];
for(var y=0;y<S.length;y++)i[y]=S[y];U[Q[N]].v=i}}}};E.Y.DM=function(b){var h=[],G=b.v.length;for(var Y=0;
Y<G;Y++)h.push(b.v[Y].v);return h};E.Y.Ll=function(b){var h={t:"VlLs",v:[]},G=b.length;for(var Y=0;Y<G;
Y++)h.v.push({t:"doub",v:b[Y]});return h};E.Y.prototype.ajt=function(){var b=e.N.MP(e.hC.kB(this.Qa.CF())[3]),h=e.t.Kt(this.VB.eF(),this.wb),G=[b.x,b.y,b.x+b.j,b.y,b.x+b.j,b.y+b._,b.x,b.y+b._];
e.t.h(h,G);this.VB.LY(G);this.wb=b};E.Y.prototype.ZE=function(){var b=e.t.Kt(this.VB.eF(),this.wb);if(this.v9)b=e.t.Z$(b,e.t.UE(this.v9));
return b};E.Y.prototype.x_=function(b,h,G,H){var B=this.ZE();B=e.t.Z$(B,e.t.Q6(this.j4));var j=this.Qa?this.Qa.CF():null;
if(this.X_==0){var s=this.Q3=e.t.lt(B);if(this.id==E.C8){var q=this.wh[0][0],Q=q.xm,a=Q[1],l=~~(a.j*Math.max(0,s.G)),U=~~(a._*Math.max(0,s.tW)),N=new io(Math.round(s.G*a.x+s.Kv),Math.round(s.tW*a.y+s.d0),l,U),R=e.Bj.h(this.wl,N),S=b.R[this.R[0]];
S.buffer=R;S.rect=N;S.c();b.c()}else E.Y.J6(b,h,this.R,this.wh,G,B,j,null,null,H)}else if(this.X_==1){var g=b.R[this.R[0]],a=this.IO.O2;
if(g.nD<=0){var i=this.IO.VN,y=this.QU,o=null;if(j&&!e.hC.lv(j)&&!y.rect.TW(a)){var R=e.U(y.rect.X()*4);
e.JE(i,a,R,y.rect);i=R;a=y.rect}if(this.id==E.C8){var s=this.Q3=e.t.lt(B),l=~~(a.j*Math.max(0,s.G)),U=~~(a._*Math.max(0,s.tW)),N=new io(Math.round(s.G*a.x+s.Kv),Math.round(s.tW*a.y+s.d0),l,U),R=e.Bj.h(this.wl,N);
o={buffer:R,rect:N}}else o=E.Y.nW([i,a],G,B,j);if(o){g.lD.qe=o.buffer;g.lD.eQ=o.rect;var v=e.U(o.rect.X());
e.uA(g.lD.qe,v,3);b.e={channel:v,rect:g.lD.eQ.clone()}}}else{var Z=e.U(a.X()*4);e.aj(this.IO.VN,Z,3);
var o=E.Y.nW([Z,a],G,B,j);if(o){g.lD.qe=e.U(o.rect.X());e.uA(o.buffer,g.lD.qe,3);g.lD.eQ=o.rect}this.aF5(b,G,B,j)}g.Cw(b,0,0,b.e);
if(G!=0){g.r6();e.r6(b.e)}b.nh=!0;b.c()}else if(this.X_==2)this.aF5(b,G,B,j)};E.Y.prototype.aF5=function(b,h,G,H){var B=this.QU.rect,j=e.U(B.X()*4);
e.aj(this.QU.channel,j,3);var s=E.Y.nW([j,B],h,G,H),q=e.U(s.rect.X());e.uA(s.buffer,q,3);b.e={channel:q,rect:s.rect};
b.nh=!0};E.Y.prototype.disable=function(b,h,G,H){if(this.VB)this.Po(b,h,null,!0)};E.ark=function(){E.Y.call(this,[10,16],E.E4,"tools/transform")};
E.ark.prototype=new E.Y;E.adc=function(){E.Y.call(this,[7,10],E.KT,"tools/transform")};E.adc.prototype=new E.Y;
E.aam=function(){E.Y.call(this,[10,48],E.C8,"tools/transform")};E.aam.prototype=new E.Y;E.RR=function(b,h,G){E.af.call(this,[10,46],E.iA,"tools/transform");
this.AC=[1,1,2,!0];this.cy="rigidTransform";this.Hq=null;this.aF6=null;this.Q7=null;this.Ov=null;this.Cp=null;
this.M0=null;this.vO=[]};E.RR.prototype=new E.af;E.RR.prototype.W1=function(){return!0};E.RR.TA=function(b){if(b==null)return!1;
if(b.T.length!=1)return!1;var h=b.R[b.T[0]];return h.add.SoLd||b.s5(!1)};E.RR.prototype.CE=function(b,h){return E.RR.TA(b)};
E.RR.prototype.enable=function(b,h,G,H,B,j,s){this.aF6=j.jl;var q=j.jl,Q,g=null;if(q){var a=b.R[q.o];
if(a.add.SoLd.filterFX!=null){var l=a.add.SoLd.filterFX.v.filterFXList.v;if(l[q.index])Q=JSON.parse(JSON.stringify(l[q.index].v.Fltr.v))}}var U=Q==null,a=b.R[b.T[0]],N=a.buffer,R=a.rect,S=a.add.SoLd;
if(S){var i=S.nonAffineTransform.v;g=[];for(var Y=0;Y<4;Y++)g.push(i[Y*2].v,i[Y*2+1].v);if(U)this.pm("edit",h);
var y=a.T0(b);N=y.buffer;R=y.rect}this.Hq={buffer:N.slice(0),rect:R.clone(),aB5:g};if(U)Q=E.RR.yv(this.Hq,this.AC);
this.Q7=Q;this.Ov=E.RR.eO(this.Q7,this.AC);this.QC();this.T9(b);if(U)this.BL(h);var o=new hb(w.E.b,!0);
o.data={q:w.p.XM,S:this.id,CI:this.AC};h.Q(o);o.data={q:w.p.dm,ji:"default"};h.Q(o)};E.RR.prototype.disable=function(b,h,G,H){if(this.Ov)this.Po(b,h,!0)};
E.RR.prototype.QC=function(b){var h=this.Ov;this.vO=[];for(var Y=0;Y<h.length;Y++){var G=h[Y];for(var H=0;
H<G.T.length;H++)this.vO.push([Y,G.T[Y]]);G.EY=e.SG.apT(G);if(b)e.SG.af7(G)}};E.RR.prototype.Fy=function(b,h,G,H){if(b.$Y=="commit")this.Po(G,h,!0);
else if(b.$Y=="cancel")this.oO(G,h,!0);else if(b.$Y=="prm"){var B=!1;for(var Y=0;Y<3;Y++)if(this.AC[Y]!=b.CI[Y])B=!0;
this.AC=b.CI;if(B){this.Q7=E.RR.yv(this.Hq,this.AC,this.Q7);this.Ov=E.RR.eO(this.Q7,this.AC);this.QC(!0);
this.BL(h)}this.T9(G)}else if(b.$Y=="moveDepth"){var j=this.Ov;for(var s=0;s<j.length;s++){var q=j[s];
for(var Y=0;Y<q.T.length;Y++){var Q=q.T[Y];q.sQ[Q]+=b.ag9?1:-1}}this.BL(h)}};E.RR.prototype.BB=function(b,h){return b==ap.TD||b==ap.Y6};
E.RR.prototype.Z1=function(b,h,G,H){var B=H.in();if(H.W(ap.pr))this.Po(b,h,!0);else if(H.W(ap.Ac))this.oO(b,h,!0);
else if(H.W(ap.TD)||H.W(ap.Y6)){var j=this.Ov;for(var s=0;s<j.length;s++){var q=j[s];q.T.sort(function(l,U){return U-l});
for(var Y=0;Y<q.T.length;Y++){var Q=q.T[Y],a=Q*2;q.sQ.splice(Q,1);q.hs.splice(Q,1);q.hf.splice(Q,1);
q.I5.splice(Q,1);q.SY.splice(a,2);q.w4.splice(a,2)}q.T=[];if(q.I5.length==0){q.Sp=q.Y0.slice(0);q.YJ=q.Y0.slice(0)}}this.QC(!0);
this.BL(h);this.T9(b)}else if(B.x!=0||B.y!=0){this.a5j(b,B.x,B.y,h);this.tN=null}};E.RR.prototype.Po=function(b,h,G){this.pm("confirm",h);
this.escape(b,h,G)};E.RR.prototype.oO=function(b,h,G){this.pm("cancel",h);this.escape(b,h,G)};E.RR.prototype.escape=function(b,h,G){b.A.wY=null;
b.A.qA=[];b.A.qG=[];b.qV=!0;this.Ov=null;var H=new hb(w.E.b,!0);H.data={q:w.p.BU};if(G)h.Q(H)};E.RR.prototype.Ay=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=j.x,q=j.y,Q=this.Ov,a=null,l=[0,2,4,1.2,1.2,1.2],U=-1,N=E.Et(b,B);
for(var Y=0;Y<Q.length;Y++){var R=Q[Y],S=e.N._X(R.w4,s,q,N);if(S!=-1)a=[Y,S];if(U==-1&&e.SG.a0Z.aDL(R.YJ,R.Oq,s,q))U=Y}if(a==null&&U!=-1){var R=Q[U];
E.RR.atP(R,s,q,s,q,0);a=[U,R.I5.length-1];R.EY=e.SG.apT(R)}this.Cp=j;if(a){var g=Q[a[0]].T.indexOf(a[1])!=-1;
if(H.W(ap.J3)&&!g){Q[a[0]].T.push(a[1]);this.vO.push(a)}else if(!g){Q[a[0]].T=[a[1]];this.vO=[a]}}this.T9(b)};
E.RR.atP=function(b,h,G,H,B,j){var s=e.N._X(b.YJ,h,G);b.I5.push(s);b.w4.push(H,B);b.SY.push(b.YJ[s*2]-h,b.YJ[s*2+1]-G);
b.hf.push(0);b.hs.push(!1);b.sQ.push(j)};E.RR.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=this.Cp;
if(s)this.a5j(b,j.x-s.x,j.y-s.y,h)};E.RR.prototype.a5j=function(b,h,G,H){var B={},j=this.vO,s=this.Ov;
if(this.tN==null){this.tN=[];for(var Y=0;Y<s.length;Y++)this.tN.push(s[Y].w4.slice(0))}for(var Y=0;Y<j.length;
Y++){var q=this.vO[Y],Q=q[0],a=s[q[0]],l=q[1]*2;a.w4[l+0]=this.tN[Q][l+0]+h;a.w4[l+1]=this.tN[Q][l+1]+G;
B[Q]=Q}for(var Q in B)e.SG.af7(this.Ov[B[Q]]);this.T9(b);this.BL(H)};E.RR.prototype.pm=function(b,h){var G=new hb(w.E.r,!0);
G.S=E.c7;G.data={q:b,jl:this.aF6,cy:this.cy,ZV:this.Q7};h.Q(G)};E.RR.prototype.dq=function(b,h,G,H,B){this.Cp=null;
this.tN=null};E.RR.prototype.BL=function(b){E.RR.ano(this.Ov,this.AC,this.Q7);this.pm("edit",b)};E.RR.prototype.T9=function(b){var h=this.Ov,G=this.Q7;
b.A.wY={m:[],Gc:[]};b.A.qA=[];b.A.qG=[];for(var Y=0;Y<h.length;Y++){var H=h[Y];for(var B=0;B<H.w4.length;
B+=2){var j=b.A.qG;if(H.T.indexOf(B>>>1)!=-1)j=b.A.qA;j.push(H.w4[B],H.w4[B+1])}if(this.AC[3])e.N.concat(b.A.wY,e.N.a5X(H.YJ,H.Oq))}b.qV=!0};
E.RR.yv=function(b,h,G){var H=b.buffer,B=b.rect,j=b.aB5,s=gY.Az("rigidTransform");if(j)for(var Y=0;Y<4;
Y++){s["PuX"+Y].v=j[Y*2];s["PuY"+Y].v=j[Y*2+1]}var q=s.puppetShapeList.v,Q=e.SG.aAT(H,B.j,B._,h[1],h[2]),a=[];
for(var l=0;l<Q.length;l++){var U={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
U.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var N=Q[l];q.push({t:"Objc",v:U});var R=N.Y0.slice(0);e.N.h(R,new eq(1,0,0,1,B.x,B.y),R);var S=N.Oq;
for(var Y=0;Y<S.length;Y+=3){var g=S[Y+1];S[Y+1]=S[Y+2];S[Y+2]=g}a.push({Oq:S,Y0:R,Sp:R,YJ:R,I5:[],SY:[],w4:[],EY:null,T:[],hf:[],hs:[],sQ:[]})}if(G){var i=E.RR.eO(G,[]),y=a[0];
for(var Y=0;Y<i.length;Y++){var o=i[Y];for(var v=0;v<o.T.length;v++)y.T.push((y.w4.length>>>1)+o.T[v]);
for(var v=0;v<o.I5.length;v++){var Z=o.I5[v]*2,W=o.Y0[Z]-o.SY[v*2],d=o.Y0[Z+1]-o.SY[v*2+1];E.RR.atP(y,W,d,o.w4[v*2],o.w4[v*2+1],o.sQ[v])}}}E.RR.ano(a,h,s);
return s};E.RR.eO=function(b,h){var G=E.Y.DM,H=b.puppetShapeList.v,B=[];for(var j=0;j<H.length;j++){var s=H[j].v;
h[0]=s.meshRigidity.v-1;h[1]=s.meshQuality.v-1;h[2]=s.meshExpansion.v;var q=s.pinVertexIndices.v.length,Q=s.meshBoundaryPath.v.pathComponents.v;
if(Q.length!=0){var a=Q[0].v.SbpL.v[0].v.Pts;a.v=[]}var l=new Uint32Array(new Uint8Array(s.indexArray.v).buffer),U=new Float32Array(new Uint8Array(s.originalVertexArray.v).buffer),N=new Float32Array(new Uint8Array(s.deformedVertexArray.v).buffer),R=[],S=[],g=[];
for(var Y=0;Y<l.length;Y++)R.push(l[Y]);for(var Y=0;Y<U.length;Y++){S.push(U[Y]);g.push(N[Y])}var i=G(s.pinVertexIndices),y=G(s.pinOffsets),o=G(s.posFinalPins),v=G(s.PnRt),Z=G(s.PnOv),W=G(s.PnDp),d=G(s.selectedPin);
B.push({Oq:R,Y0:S,Sp:g.slice(0),YJ:g,I5:i,SY:y,w4:o,EY:null,hf:v,hs:Z,sQ:W,T:d})}return B};E.RR.ano=function(b,h,G){function H(N,R){var S=[];
for(var Y=0;Y<N.length;Y++)S.push({t:R,v:N[Y]});return S}function B(N,R,S){var g=new(S?Uint32Array:Float32Array)(N),i=new Uint8Array(g.buffer);
for(var Y=0;Y<i.length;Y++)R[Y]=i[Y]}var j=G.puppetShapeList.v;for(var s=0;s<j.length;s++){var q=b[s],Q=j[s].v;
Q.meshRigidity.v=h[0]+1;Q.meshQuality.v=h[1]+1;Q.meshExpansion.v=h[2];B(q.Oq,Q.indexArray.v,!0);B(q.Y0,Q.originalVertexArray.v);
B(q.YJ,Q.deformedVertexArray.v);var a=[];for(var Y=0;Y<q.I5.length;Y++){var l=q.I5[Y]*2,U=Y*2;a[U]=q.Y0[l]-q.SY[U];
a[U+1]=q.Y0[l+1]-q.SY[U+1]}Q.PinP.v=H(a,"doub");Q.pinVertexIndices.v=H(q.I5,"long");Q.pinOffsets.v=H(q.SY,"doub");
Q.posFinalPins.v=H(q.w4,"doub");Q.PnRt.v=H(q.hf,"long");Q.PnOv.v=H(q.hs,"bool");Q.PnDp.v=H(q.sQ,"doub");
Q.selectedPin.v=H(q.T,"long")}};E.gt=function(b,h,G){E.af.call(this,b?b:[10,40],h?h:E.B0,G?G:"tools/slice");
this.x4=null;this.KB=null;this.Ow=null;this.ajM=null;this.fE=null;this.GE=null};E.gt.prototype=new E.af;
E.gt.cE=function(b,h){var G=-1;for(var Y=0;Y<b.length;Y++){var H=E.gt.Pq(b,Y);if(H[0]<=h.x&&h.x<=H[2]&&H[1]<=h.y&&h.y<=H[3]){G=Y;
break}}return G};E.gt.prototype.Jd=function(b,h,G,H,B){if(G==null)return;this.w2(G);if(b.q=="fromAction"){var j=b.E7,s=j.f6,q=j.yo,Q=G.Wb(),a=G.t2(),l=a==-1?new io(0,0,G.j,G._):G.R[a].Ey();
if(s=="divide"){if(G.qB.length!=0){var U=G.qB[0],N=E.gt.Pq(G.Rd,U);l=new io(N[0],N[1],N[2]-N[0],N[3]-N[1]);
G.Rd.splice(U,1);G.qB=[]}Q=[[],[]];for(var R=0;R<2;R++){var S=["Across","Down"][R],g=q["pixels"+S]?0:1,i=q[["pixels","slices"][g]+S];
if(i==null)continue;i=i.v;var y=R==0?l.x:l.y,o=R==0?l.j:l._;if(g==0)for(var Y=1;Y*i<o;Y++){Q[0].push([R,y+Y*i]);
Q[1].push(a)}else{var v=Math.floor(o/i);for(var Y=1;Y<i;Y++){Q[0].push([R,y+Y*v]);Q[1].push(a)}}}}var Z=[l.x,l.x+l.j],W=[l.y,l.y+l._];
for(var Y=0;Y<Q[0].length;Y++){var d=Q[0][Y],$=Math.round(d[1]),I=Q[1][Y];if(I!=-1&&I!=a)continue;if(d[0]==0&&Z.indexOf($)==-1)Z.push($);
if(d[0]==1&&W.indexOf($)==-1)W.push($)}Z.sort(function(x,X){return x-X});W.sort(function(x,X){return x-X});
for(var k=1;k<W.length;k++)for(var _=1;_<Z.length;_++){G.Rd.push(E.gt.rz());E.gt.wc(G.Rd,G.Rd.length-1,[Z[_-1],W[k-1],Z[_],W[k]]);
G.qV=!0}}else if(b.q=="reorder"){if(G.qB.length==0)return;var D=G.Rd,A=G.qB;A.sort(function(x,X){return x-X});
console.log(A);var F=D.slice(0),K=[],V=[];for(var Y=0;Y<A.length;Y++){var U=A[Y],r=D[U];V.push(r);F.splice(F.indexOf(r),1)}var c=Math.max(0,Math.min(F.length,A[0]-b.dir));
for(var Y=0;Y<V.length;Y++){F.splice(c+Y,0,V[Y]);K.push(c+Y)}G.Rd=F;G.qB=K}else if(b.q=="delete"){var D=G.Rd.slice(0);
for(var Y=0;Y<G.qB.length;Y++)G.Rd.splice(G.Rd.indexOf(D[G.qB[Y]]),1);G.qB=[]}else if(b.q=="deleteAll"){G.Rd=[];
G.qB=[]}else{G.Rd[G.qB[0]].v=b;G.qV=!0}this.ap(G)};E.gt.prototype.enable=function(b,h,G,H,B,j){E.af.prototype.enable.call(this,b,h,G,H,B,j);
if(!G.x$.Rd){var s=new hb(w.E.b,!0);s.data={q:w.p.wP,CI:ec.S6};h.Q(s)}};E.gt.prototype.disable=function(){this.x4=null;
this.KB=null};E.gt.prototype.Of=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=E.gt.cE(b.Rd,j);if(s==-1)return;
this.x4=b;this.KB=h;b.qB=[s];b.qV=!0;if(this.GE==null){this.GE=new fL([{name:[5,4]},{name:[8,11,1],gR:!0}]);
this.GE.O("select",this.Xa,this)}var q=this.GE;q.parent=h;q.a();q.update(b,G);var Q=new hb(w.E.b,!0);
Q.data={q:w.p.YB,Wn:q,x:B._V+2,y:B.ZO+1};h.Q(Q)};E.gt.prototype.Xa=function(b){var h=this.GE.QO()[0],G=this.x4;
if(h==0){this.w2(G);G.Rd.splice(G.qB[0],1);G.qB=[];G.qV=!0;this.ap(G)}if(h==1){var H=new hb(w.E.b,!0);
H.data={q:w.p.C9,ut:"soptions",P:G.Rd[G.qB[0]].v};this.KB.Q(H)}};E.gt.prototype.Ay=function(b,h,G,H,B){if(b==null)return;
this.w2(b);var j=b.s.Fj(B.x,B.y);j=E.uW.HV(b,j,G,[!0,null,!1]);j.x=Math.round(j.x);j.y=Math.round(j.y);
this.fE=j;b.Rd.unshift(E.gt.rz());b.qB=[0];E.gt.wc(b.Rd,0,[j.x,j.y,j.x+20,j.y+20]);b.qV=!0};E.gt.prototype.Jl=function(b,h,G,H,B){if(this.Ow==null)return;
var j=b.s.Fj(B.x,B.y),s=this.fE;j=E.uW.HV(b,j,G,[!0,null,!1]);j.x=Math.round(j.x);j.y=Math.round(j.y);
var q=[s.x,s.y,j.x,j.y];E.gt.a7g(q);E.gt.wc(b.Rd,0,q);b.qV=!0};E.gt.prototype.dq=function(b,h,G,H,B){this.ap(b);
this.fE=null};E.gt.prototype.w2=function(b){this.Ow=JSON.stringify(b.Rd);this.ajM=JSON.stringify(b.qB)};
E.gt.prototype.ap=function(b){var h=JSON.stringify(b.Rd);if(h!=this.Ow){var G=new eN(this.name,this);
G.data={IO:this.Ow,oF:h,ao5:this.ajM,acz:JSON.stringify(b.qB)};b.vU(G)}this.Ow=null};E.gt.prototype.sv=function(b,h){h.Rd=JSON.parse(b.IO);
h.qB=JSON.parse(b.ao5);h.qV=!0};E.gt.prototype.uF=function(b,h){h.Rd=JSON.parse(b.oF);h.qB=JSON.parse(b.acz);
h.qV=!0};E.gt.prototype.BB=function(b,h){return h!=null&&h.qB.length!=0&&(b==ap.TD||b==ap.Y6)};E.gt.prototype.Z1=function(b,h,G,H){if(b==null)return;
if(H.W(ap.TD)||H.W(ap.Y6))this.Jd({q:"delete"},h,b,H,G);var B=H.in();if(B.x!=0||B.y!=0){this.w2(b);E.gt.ua(b,B);
this.ap(b)}};E.gt.prototype.Fy=function(b,h,G,H,B){};E.gt.a6N=function(b,h,G,H){var B=new cJ(-h.x,-h.y),j=h.j/G.j,s=h._/G._,q=[0,0,h.j,h._];
for(var Y=0;Y<b.length;Y++){var Q=E.gt.Pq(b,Y);if(H){Q[0]=Math.round(Q[0]*j);Q[1]=Math.round(Q[1]*s);
Q[2]=Math.round(Q[2]*j);Q[3]=Math.round(Q[3]*s)}else{E.gt.i8(Q,B);E.gt.ajY(Q,q)}if(Q[0]>=Q[2]||Q[1]>=Q[3]){b.splice(Y,1);
Y--;continue}E.gt.wc(b,Y,Q)}};E.gt.ua=function(b,h){var G=b.Rd;for(var Y=0;Y<b.qB.length;Y++){var H=E.gt.Pq(G,b.qB[Y]);
E.gt.i8(H,h);E.gt.wc(G,b.qB[Y],H)}};E.gt.ajY=function(b,h){if(b[0]<h[0])b[0]=h[0];if(b[1]<h[1])b[1]=h[1];
if(h[2]<b[2])b[2]=h[2];if(h[3]<b[3])b[3]=h[3]};E.gt.i8=function(b,h){b[0]=Math.round(b[0]+h.x);b[2]=Math.round(b[2]+h.x);
b[1]=Math.round(b[1]+h.y);b[3]=Math.round(b[3]+h.y)};E.gt.wc=function(b,Y,h){var G=b[Y].v.bounds.v;G.Left.v=h[0];
G.Top.v=h[1];G.Rght.v=h[2];G.Btom.v=h[3]};E.gt.Pq=function(b,Y){var h=b[Y].v.bounds.v;return[h.Left.v,h.Top.v,h.Rght.v,h.Btom.v,Y]};
E.gt.a7g=function(b){if(b[2]<b[0]){var h=b[0];b[0]=b[2];b[2]=h}if(b[2]==b[0])b[2]++;if(b[3]<b[1]){var h=b[1];
b[1]=b[3];b[3]=h}if(b[3]==b[1])b[3]++};E.gt.MP=function(b,h){var G=1e9,H=-1e9,B=1e9,j=-1e9;for(var Y=0;
Y<h.length;Y++){var s=E.gt.Pq(b,h[Y]);G=Math.min(G,s[0]);B=Math.min(B,s[1]);H=Math.max(H,s[2]);j=Math.max(j,s[3])}return[G,B,H,j]};
E.gt.rz=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
E.So=function(){E.gt.call(this,[10,41],E.Zc,"tools/sselect");this.fE=null;this.Du=null;this.rb=null;
this.M0=null;this.LR=!1};E.So.prototype=new E.gt;E.So.prototype.Ay=function(b,h,G,H,B){if(b==null)return;
var j=b.s.Fj(B.x,B.y),s=E.So.a5W(j,4/b.s.D,b.Rd,b.qB);s.pop();if(s.length!=0){this.fE=j;this.rb=s;this.w2(b);
return}var q=b.Rd,Q=E.gt.cE(q,j);if(Q==-1)b.qB=[];else{var a=b.qB.indexOf(Q);if(H.W(ap.J3)){if(a==-1)b.qB.push(Q);
else b.qB.splice(a,1)}else{b.qB.sort(function(g,i){return g-i});if(a==-1)b.qB=[Q];this.fE=j;this.w2(b);
this.Du=E.gt.MP(q,b.qB);this.M0=[];for(var Y=0;Y<b.qB.length;Y++)this.M0.push(E.gt.Pq(q,b.qB[Y]));if(H.W(ap.p0)){var l=q.slice(0),U=b.qB,N=[];
for(var Y=0;Y<U.length;Y++){var Q=U[Y],R=l[Q],S=q.indexOf(R);N.push(S);q.splice(S,0,JSON.parse(JSON.stringify(R)))}b.qB=N}}}b.qV=!0};
E.So.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y);if(this.fE==null){var s=E.So.a5W(j,4/b.s.D,b.Rd,b.qB),q=s.pop(),Q=s.length==0?"default":["ew","nwse","ns","nesw"][q]+"-resize",a=new hb(w.E.b,!0);
a.data={q:w.p.dm,ji:Q};h.Q(a);return}if(!this.LR&&j.TW(this.fE))return;this.LR=!0;var l=b.Rd,s=this.rb;
if(s){j=E.uW.HV(b,j,G,[!0,null,!1]);var U=Math.round(j.x),N=Math.round(j.y);for(var Y=0;Y<s.length;Y+=2){var R=E.gt.Pq(l,s[Y]),S=s[Y+1];
R[S]=(S&1)==0?U:N;E.gt.a7g(R);E.gt.wc(l,s[Y],R)}}else{var g=j.SX(this.fE),i=this.Du.slice(0);E.gt.i8(i,g);
var y=new io(i[0],i[1],i[2]-i[0],i[3]-i[1]),o=E.uW.VP(b,y,G,[!0,null,!1],!0);E.uW.jy(b,y,o);g.x+=o[0];
g.y+=o[1];for(var Y=0;Y<b.qB.length;Y++)E.gt.wc(l,b.qB[Y],this.M0[Y]);E.gt.ua(b,g)}b.qV=!0};E.So.prototype.dq=function(b,h,G,H,B){if(this.fE==null)return;
this.ap(b);b.A.VE=null;b.qV=!0;this.fE=null;this.rb=null;this.M0=null;this.LR=!1};E.So.a5W=function(b,h,G,H){var B=b.x,j=b.y,s=[],q=-1,Q=[];
for(var Y=0;Y<H.length;Y++){var a=H[Y],l=E.gt.Pq(G,a),U=l[0],N=l[1],R=l[2],S=l[3];if(B<U-h||R+h<B||j<N-h||S+h<j)continue;
var g=[B<U+h,j<N+h,R-h<B,S-h<j],i=-1;for(var y=0;y<4;y++){if(g[y]&&g[y+1&3])i=1+2*(y&1);if(g[y])s.push(a,y)}if(i==-1){if(g[0]||g[2])i=0;
if(g[1]||g[3])i=2}if(i!=-1){q=i;Q.push(a)}}var o=s.length;for(var Y=0;Y<o;Y+=2){var a=s[Y],v=s[Y+1],Z=E.gt.Pq(G,a)[v];
for(var y=0;y<H.length;y++){var W=H[y];if(Q.indexOf(W)!=-1)continue;var l=E.gt.Pq(G,W);if(l[v&1]==Z)s.push(W,v&1);
if(l[2+(v&1)]==Z)s.push(W,2+(v&1))}}s.push(q);return s};E.pi=function(){E.pC.call(this,[10,44],E.aqU,"tools/oselect");
this.xT="crosshair";this.a4i=0};E.pi.prototype=new E.pC;E.pi.prototype._M=function(b,h,G,H){if(Math.random()<1/(1+this.a4i)){alert("The cross should be fully inside the object.",3500);
this.a4i++}};E.pi.prototype.wv=function(b,h,G,H){E.lV._l(b,E.pC.sp,this.KB);if(!H.mN||!this.Aa)return;
var B=this.Ki(b,G,!1),j=B.j,s=B._,q=B.x,Q=B.y,a=B.x+j,l=B.y+s,U=q+j/2,N=Q+s/2,R=E.pi.an1;b.A.wY={m:[q,Q,a,Q,a,l,q,l,U-j*R,N,U+j*R,N,U,N-s*R,U,N+s*R],Gc:"M L L L Z M L M L".split(" ")};
b.qV=!0};E.pi.an1=.12;E.pi.prototype.om=function(b,h,G,H){b.A.wY=null;b.qV=!0;this.finish(b,h,G,H)};
E.pi.prototype.getSelection=function(b,h,G,H){if(this.dp.TW(this.EA)||!this.Aa)return null;var B=this.Ki(b,G,!1),j=b.R[b.T[0]];
if(B.Zx()||!B.XR(j.rect))return null;return E.pC.H8("ObSl",B)};E.lV=function(){E.Qb.call(this,[10,37],E.Qw,"tools/qselect");
this.gr="qselect"};E.lV.prototype=new E.Qb;E.lV.prototype.Ay=function(b,h,G,H,B){E.lV._l(b,E.pC.sp,h,!0);
this.WV(b,G,H,B,1);if(this.Aw==null)return;this.C2(b)};E.lV.prototype.Jl=function(b,h,G,H,B){this.EJ(b,h,G);
E.lV._l(b,E.pC.sp,h);if(this.Df)this.o7(b,G,B);if(this.Aw==null)return;if(!B.mN)return;var j=this.HW(b,G,H,B);
if(j!=1)this.C2(b)};E.lV._l=function(b,h,G,H){if(b&&h.key!=E.lV.w3(b)){h.key=E.lV.w3(b);var B=b.R[b.T[0]].rect.X(),s="Image Analysis ...";
if(B==0)return;var j=B>1e6&&H!=!0,q=new hb(w.E.b,!0);q.data={q:w.p.vW,fL:s};if(j)G.Q(q);var Q=function(){var a=E.lV.apB(b);
for(var l in a)h[l]=a[l];var q=new hb(w.E.b,!0);q.data={q:w.p.zx,fL:s};if(j)G.Q(q)};if(H)Q();else setTimeout(Q,30)}};
E.lV.w3=function(b){var h=b.T[0],G=b.R[h],H=G.rect,B=H.j,j=H._,s=B*j,q=G.buffer;return[h,H.x,H.y,B,j,q[0],q[1],q[2],q[3]].join(",")};
E.lV.apB=function(b){var h=b.T[0],G=b.R[h],H=G.rect,B=H.j,j=H._,s=B*j,q=G.buffer,Q=Date.now(),a=e.U(s);
a.fill(128);var l=e.ZD.t0(q,B,j);console.log(Date.now()-Q);var U={key:E.lV.w3(b),NC:q,rect:H.clone(),Ps:B,CN:j,BD:12,zE:a,jF:l,e:e.U(s),qy:null,ex:null,YG:null};
E.lV.hB(U,null,b);return U};E.lV.hB=function(b,h,G){var H=b.Ps,B=b.CN,j=0,s=0,q=Date.now(),Q=b.qy!=null&&e.ZD.zG(b.qy.Oq,b.qy.zf,b.zE)==-1;
j=Date.now()-q;q=Date.now();if(!Q){var a=e.ZD.zG(b.jF.Oq,b.jF.zf,b.zE),l=0;while(a!=-1){var U=[],N=[],R=b.jF.Oq;
for(var S=0;S<B;S++)for(var g=0;g<H;g++){var Y=S*H+g;if(R[Y]==a){var i=b.zE[Y];if(i==0)U.push(g,S);if(i==255)N.push(g,S)}}var y=G.R[G.T[0]],o=y.buffer;
e.ZD.t0.cf(o,H,B,b.jF,U,N);a=e.ZD.zG(b.jF.Oq,b.jF.zf,b.zE);l++;if(l>=10){console.log("too many subdivisions");
break}}b.qy=e.ZD.Dn(b.jF,H,B,b.zE,b.BD);b.ex=e.ZD.aE$(b.NC,H,B,b.qy.Oq,b.qy.zf);b.YG=[b.ex[0].slice(0),[]];
s=Date.now()-q;q=Date.now()}var q=Date.now();if(h){b.YG[0].set(b.ex[0]);var v=b.ex[1],Z=b.YG[1];for(var W=0;
W<v.length;W++)Z[W]=v[W].slice(0);e.ZD.afk(b.qy.Oq,H,B,b.qy.zf,b.zE,b.e,b.YG)}};E._7=function(){E.af.call(this,[10,50],E.Z4,"tools/artb");
this.J8=null;this.lY=!1;this.VB=null;this.LE=!1;this.aaP=null;this.r1=100;this.sI=null;this.RH=0};E._7.prototype=new E.af;
E._7.prototype.Jd=function(b,h,G,H,B){this.uL(G,b.auH,h,b.vX)};E._7.afo=function(b,h){var G=b[0],H=0,B=0;
if(G==0)B=-1;else if(G==1)H=1;else if(G==2)B=1;else H=-1;return[20/h.k1,b[1]+H*60/h.k1,b[2]+B*60/h.k1]};
E._7.prototype.Fy=function(b,h,G,H,B){this.J8=b.CI;this.RH=Date.now()};E._7.prototype.hk=function(b,h,G,H){if(G.vu!=this.id)return;
if(b==null||b.T.length!=1){this.gx(b);return}var B=b.T[0],j=b.R[B],s=j.add.artb;if(s==null){this.gx(b);
return}if(this.LE)return;if(Date.now()-this.RH>50){this.J8={};var q=["artboardBackgroundType","Clr"];
for(var Y=0;Y<q.length;Y++)if(s[q[Y]])this.J8[q[Y]]=JSON.parse(JSON.stringify(s[q[Y]]));var Q=new hb(w.E.b,!0);
Q.data={q:w.p.XM,S:this.id,Mo:this.J8};h.Q(Q)}var a=j.Ey(),l=e.N.Q0(a).m,U=this.VB=new eR(l,!0,!1,!1,!0,!1,3,!1);
U.XU(b,G,!1);var N={m:[1,0],Gc:["M"]};for(var Y=1;Y<30;Y++){var R=Math.PI*2*Y/30;N.m.push(Math.cos(R),Math.sin(R));
N.Gc.push("L")}N.Gc.push("Z","M","L","M","L");N.m.push(-.5,0,.5,0,0,-.5,0,.5);var S=a.x+a.j/2,g=a.y+a._/2,i=this.r1*1.1,y=this.aaP=[S,a.y,a.x+a.j,g,S,a.y+a._,a.x,g],o=[0,-i,i,0,0,i,-i,0],v=b.root.children;
b.A.Dz=[];for(var Y=0;Y<4;Y++){var Z=new cJ(y[Y*2]+o[Y*2],y[Y*2+1]+o[Y*2+1]),W=!1;for(var d=0;d<v.length;
d++){var j=v[d].o;if(j.add.artb==null)continue;var a=j.Ey();if(a.G_(Z))W=!0}if(W){y[Y*2]=1e9;continue}b.A.Dz.push([Y,y[Y*2],y[Y*2+1]])}};
E._7.prototype.disable=function(b,h,G,H,B){this.gx(b)};E._7.prototype.gx=function(b){if(this.VB){this.VB.clear(b);
this.VB=null;b.A.Dz=null}};E._7.prototype.Ay=function(b,h,G,H,B){this.RH=Date.now();var j=b.s.Fj(B.x,B.y),s=this.VB;
if(s){var q=new hb(w.E.r),Q=s.WI(null,j,b,B);if(Q<9){this.LE=s.Ay(b,G,H,j,null,!0,B);return}else if(s.eB(j)){q.S=E.rQ;
q.data={q:"disabAuto"};h.Q(q);var a=new hb(w.E.b);a.data={q:w.p.CJ,S:E.rQ,anY:!0};h.Q(a);return}else{var l=-1,U=b.A.Dz;
for(var Y=0;Y<U.length;Y++){var N=E._7.afo(U[Y],b.s);if(cJ.o0(j,new cJ(N[1],N[2]))<N[0])l=U[Y][0]}if(l!=-1){var R=b.R[b.T[0]].Ey(),S=R.clone(),g=(l==0||l==2?R._:R.j)+this.r1;
if(l==0||l==3)g=-g;if(l==0||l==2)R.y+=g;else R.x+=g;if(H.W(ap.p0)){var i=new io(0,0,b.j,b._);q.S=E.nc;
q.data={q:C.hR};h.Q(q);E.uW.a5(b,b.bZ(null,b.T[0],null,!0),null,R.x-S.x,R.y-S.y);b.T=b.T.slice(b.T.length-1);
var y=E.w8.zy(b);if(y){var o=b.vc();o.data.wb=i;o.data.H3=y;o.data.e2=b.T}}else this.uL(b,R,h);return}}}this.sI=E.uW.HV(b,j,G)};
E._7.prototype.uL=function(b,h,G,H){if(H==null)H=0;var B=b.R.slice(0),j=[b.R.length+1],s=b.Cx();s.cb(bp.get([1,16,0])+" "+(b.add.artd==null?1:b.root.children.length+1));
s.add.lsct=c1.$I;s.b8(h);if(this.J8){var q=s.add.artb,Q=this.J8;for(var a in Q)q[a]=Q[a]}s.Am="pass";
s.Xp=24;if(H==0){if(b.add.artd||h.D4(new io(0,0,b.j,b._)).Zx())B.push(b.b2());else B.unshift(b.b2())}else{var l=b.bZ();
l.sort(function(g,i){return g-i});var U=E.lk.HY(b,l,B.length-1,!1,null,!1),N=U.pop(),R=U.pop();B=U.pop();
B.splice(b.R.length-l.length,0,b.b2())}B.push(s);var S=new hb(w.E.r);S.S=E.nc;S.data={q:C.op,tG:B,_r:j,VH:[1,16,2]};
G.Q(S)};E._7.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=this.VB,q=this.sI;if(s){if(this.LE){s.Jl(b,G,H,j)}else{var Q=s.qc(j,b.s.D,null,B);
if(Q==null)Q="default";var a=new hb(w.E.b,!0);a.data={q:w.p.dm,ji:Q};h.Q(a)}}if(q){var l=this.Pq(b,j,H,G);
b.A.wY=e.N.Q0(l);b.qV=!0;E.af.Sk(B,l,b,G)}};E._7.prototype.dq=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=this.sI;
if(this.LE){this.VB.dq(b,G,H,j);this.LE=!1;var q=e.N.sm(this.VB.eF()),Q=C.OG(q),a=b.R[b.T[0]],l=JSON.parse(JSON.stringify(a.add.artb));
l.artboardRect.v=Q;var U=new hb(w.E.r,!0);U.S=E.nc;U.data={q:C.fp,Vu:l};h.Q(U)}if(s){var N=this.Pq(b,j,H,G);
if(N.X()>20)this.uL(b,N,h);b.A.wY=null;b.qV=!0;this.sI=null;b.A.sn=[]}};E._7.prototype.Pq=function(b,h,G,H){var B=this.sI,j=E.uW.HV(b,h,H),s=E.kQ.s3(B,j,G,!0);
B=s[0];j=s[1];return e.N.sm([B.x,B.y,j.x,j.y])};E.pL=function(){E.af.call(this,[10,50],E.fz,"tools/artb");
this.VB=null;this.mH=!1;this.Cc=null;this.xx=null;this.Ah=null;this.pd=null;this.a6x=null;this.qx=null;
this.v1=null};E.pL.prototype=new E.af;E.pL.prototype.BB=function(b,h){return b==ap.TD||b==ap.Y6};E.pL.prototype.Z1=function(b,h,G,H){if(H.W(ap.TD)||H.W(ap.Y6))this.Jd({q:"del"},h,b,H,G)};
E.pL.prototype.Jd=function(b,h,G,H,B){var j=G.add.arts;this.xx=JSON.stringify(j);if(b.q=="del"){for(var Y=0;
Y<j.length;Y++)if(j[Y].T){j.splice(Y,1);Y--}}if(b.q=="new"){for(var Y=0;Y<j.length;Y++)j[Y].T=!1;var s=G.d7(),q=s.x+s.j+20;
j.push({Lw:"Artboard "+(j.length+1),rc:[q,s.y,q+100,s.y+100],T:!0})}if(b.q=="rpl"){var Q=0;for(var Y=0;
Y<j.length;Y++)if(j[Y].T)Q=Y;j[Q]=b.P}this.a4D(G);this.Gv(G)};E.pL.prototype.disable=function(b,h,G,H,B){this.mH=!1};
E.pL.prototype.enable=function(b,h,G,H,B){this.mH=!0;this.Cc=G;this.Gv(b)};E.pL.prototype.gx=function(b){};
E.pL.prototype.Ay=function(b,h,G,H,B){var j=this.v1=b.s.Fj(B.x,B.y),s=b.add.arts;this.xx=JSON.stringify(s);
var q=this.VB,Q=q?q.qc(j,b.s.D,null,B):null,a=H.W(ap.zb)||H.W(ap.J3);if(q&&!a&&(e.N.MP(q.eF()).G_(j)||Q)){}else{var l=-1;
for(var Y=0;Y<s.length;Y++)if(e.N.MP(s[Y].rc).G_(j))l=Y;if(l==-1)this.xL(b,-1);else if(a)s[l].T=!s[l].T;
else this.xL(b,l);this.Gv(b)}if(this.VB){this.VB.Ay(b,G,H,j,null,!0,B)}b.qV=!0};E.pL.prototype.Jl=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=b.add.arts,q=JSON.parse(this.Ah);
if(this.VB){this.VB.Jl(b,G,H,j);if(B.mN){var Q=e.N.MP(this.VB.eF()),a=this.a6x,l=new eq;l.translate(-a.x,-a.y);
l.scale(Q.j/a.j,Q._/a._);l.translate(Q.x,Q.y);var U=this.VB.WI(H,j,b,B);for(var Y=0;Y<s.length;Y++){var N=s[Y];
if(!N.T)continue;if(e.N.MP(q[Y].rc).Zx())N.rc=[Q.x,Q.y,Q.x+Q.j,Q.y+Q._];else{N.rc=q[Y].rc.slice(0);e.N.h(N.rc,l,N.rc)}}if(U==10){E.uW.a5(b,this.pd,null,Q.x-this.qx.x,Q.y-this.qx.y);
this.qx=Q}b.c()}var R="default",S=this.VB.qc(j,b.s.D,null,B);if(S)R=S;var g=new hb(w.E.b,!0);g.data={q:w.p.dm,ji:R};
h.Q(g)}else if(B.mN&&cJ.o0(j,this.v1)>=6/b.s.D){s.push({Lw:"Artboard "+(s.length+1),rc:[0,0,0,0],T:!0});
this.Gv(b);this.VB.Ay(b,G,H,this.v1,null,!0,B)}};E.pL.prototype.dq=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y),s=b.add.arts,q=JSON.parse(this.Ah),Q=H.W(ap.zb)||H.W(ap.J3);
if(!Q&&cJ.o0(this.v1,j)<6/b.s.D){var a=-1;for(var Y=0;Y<s.length;Y++)if(e.N.MP(s[Y].rc).G_(j))a=Y;if(a!=-1){this.xL(b,a);
this.Gv(b)}if(e.N.MP(q[q.length-1].rc).Zx()){this.VB.clear(b);s.pop()}}if(this.VB){var l=this.VB.WI(H,j,b,B);
this.VB.dq(b,G,H,j);if(!j.TW(this.v1))this.a4D(b,l==10?j.SX(this.v1):null)}};E.pL.prototype.a4D=function(b,h){var G=new eN([10,50],this);
G.data={Wy:this.xx,bq:JSON.stringify(b.add.arts)};if(h){G.data.T=this.pd;G.data.u2=h}b.vU(G)};E.pL.prototype.Gv=function(b){var h=b.add.arts,G=new io,H=0,B=[];
for(var Y=0;Y<h.length;Y++)if(h[Y].T){var j=e.N.MP(h[Y].rc);G=G.gJ(j);b.root.Hk(j,B);H++}if(H==0){if(this.VB)this.VB.clear(b);
b.qV=!0;this.VB=null;return}this.Ah=JSON.stringify(h);this.pd=B;this.a6x=this.qx=G;var s=e.N.Q0(G).m;
this.VB=new eR(G.Zx()?null:s,!0,!1,!1,!1,!1,3);if(!G.Zx())this.VB.XU(b,this.Cc)};E.pL.prototype.xL=function(b,h){var G=b.add.arts;
for(var Y=0;Y<G.length;Y++)G[Y].T=h==Y};E.pL.prototype.uF=function(b,h){h.add.arts=JSON.parse(b.bq);
if(b.T)E.uW.a5(h,b.T,null,b.u2.x,b.u2.y);if(this.mH)this.Gv(h);h.qV};E.pL.prototype.sv=function(b,h){h.add.arts=JSON.parse(b.Wy);
if(b.T)E.uW.a5(h,b.T,null,-b.u2.x,-b.u2.y);if(this.mH)this.Gv(h);h.qV};function eR(b,h,G,H,B,j,s,q){this.Yu=null;
this.VD=b?b.slice(0):null;this.IA=1;this.eb=4;this.EA=null;this.R7=null;this.BA=null;this.Z3=-1;this.mM=null;
this.arh=!1;this.ats=[];for(var Y=0;Y<8;Y++)this.ats.push(aT.asW(0,PIMG.rotate,-.5,-.5,-45-Y*45));this.ayu=h;
this.aeM=G;this.a4V=H;this.avr=B;this.azB=j;this.vX=s;this.asT=q==null?1:q}eR.prototype.aet=function(){return this.Z3!=-1};
eR.prototype.eF=function(){return this.VD.slice(0)};eR.prototype.LY=function(b){this.VD=b};eR.prototype.awl=function(){return this.q3(this.VD)};
eR.prototype.atc=function(){return this.eb};eR.prototype.adM=function(b){this.eb=b};eR.prototype.V6=function(b){if(b==null)b=this.VD;
if(this.eb==9)return this.EA;else return this.q3(b)[this.eb]};eR.prototype.aj1=function(b){if(this.eb==9)this.EA=b.clone();
else{var h=this.V6(),G=new eq(1,0,0,1,b.x-h.x,b.y-h.y);e.N.h(this.VD,G,this.VD)}};eR.prototype.HS=function(b){this.IA=b};
eR.prototype.qc=function(b,h,G,H,B){var j=this.Fz(null,b,h,H),s;if(j==9)return"default";if(j==10){if(G)return null;
return!this.ayu?"move":null}if(j==-1||j==4)return null;if(j==11){var q=this.V6().SX(b);if(B==null)B=Math.atan2(q.y,q.x);
s=90-B*180/Math.PI;var Q=Math.round(8*(s/360));Q=(Q+8)%8;return this.ats[Q]}else{var a=this.UB(b,this.VD);
s=[135,90,45,180,0,0,225,270,315][j]*Math.PI/180;var l=e.t.Kt(this.VD);return eR.aDk(l[0],l[3],s)}};
eR.aDk=function(b,h,G){var H=Math.atan2(-h,b);if(G)H+=G;var B="ew nesw ns nwse ew nesw ns nwse".split(" "),j=Math.round(8*(H/(2*Math.PI)));
j=(j+8)%8;return B[j]+"-resize"};eR.prototype.UB=function(b,h){var G=e.t.Q6(e.t.Kt(h)),H=new Float64Array(2);
e.t.Vc(b.x,b.y,G,H);return new cJ(H[0],H[1])};eR.prototype.eB=function(b){var h=this.UB(b,this.VD);return 0<=h.x&&h.x<=1&&0<=h.y&&h.y<=1};
eR.prototype.Ay=function(b,h,G,H,B,j,s,q){this.arh=j;this.mM=H;var Q=b.s.D,a;if(this.VD==null)H=E.uW.HV(b,H,h);
this.BA=H.clone();if(this.VD==null){if(q==null)q=0;var l=new eq;l.rotate(q);var U=l.At(new cJ(1,1));
this.BA.offset(U.x,U.y);var N=B==null?1:1/B,R=this.VD=[0,0,1,0,1,N,0,N];l.translate(H.x,H.y);e.N.h(this.VD,l,this.VD);
a=8}else{a=this.Fz(G,H,Q,s);if(0<=a&&a<=8)this.BA=this.q3(this.VD)[a];if(a==9){this.eb=9;this.EA=H.clone()}}this.Yu=this.VD.slice(0);
this.Z3=a;this.XU(b,h);this.R7=this.V6();return a!=-1};eR.prototype.WI=function(b,h,G,H){return this.Fz(b,h,G.s.D,H)};
eR.prototype.Fz=function(b,h,G,H){var B=-1,j=this.q3(),s=[0,2,6,8,1,3,5,7],q=H?E.Et({s:{D:G}},H):8*E.V()/G,Q=cJ.o0(j[0],j[2]),a=cJ.o0(j[0],j[6]),l=this.UB(h,this.VD);
l.x*=Q;l.y*=a;var U=new io(0,0,Q,a);U.Mx(q,q);if(B==-1)if(cJ.o0(this.V6(),h)<q)B=9;if(B==-1)for(var Y=0;
Y<s.length;Y++)if(cJ.o0(j[s[Y]],h)<q)B=s[Y];if(B==-1&&U.G_(l)){if(Math.abs(l.y-0)<q)B=1;if(Math.abs(l.x-0)<q)B=3;
if(Math.abs(l.y-a)<q)B=7;if(Math.abs(l.x-Q)<q)B=5}if(B==-1&&b&&b.W(ap.p0))B=9;if(B==-1||this.vX==4){if(this.eB(h)){if(this.ayu)B=10}else{var N=[3,.85][fq];
U.Mx(N*q,N*q);B=U.G_(l)&&this.vX!=3?11:10;if(B==10&&fq==1)B=-1}}return B};eR.prototype.Jl=function(b,h,G,H,B){if(this.Z3==-1)return;
this.mM=H;var j=G&&G.W(ap.J3),s=G&&G.W(ap.p0),q=G&&G.W(ap.zb),Q=b.s.D,a=this.BA,l=this.Z3,U=this.q3(),N=E.uW.HV(b,a,h),R=E.uW.HV(b,H,h),S,g;
if(l==9){var U=this.q3(),i=-1;for(var Y=0;Y<U.length;Y++)if(cJ.o0(U[Y],R)*Q<10)i=Y;this.eb=i==-1?9:i;
this.EA=j?E.Yk.wk(N,R):R.clone()}else if(l==10){g=e.N.MP(this.Yu);var y=g.x,o=g.y;g.offset(H.x-a.x,H.y-a.y);
if(this.a2g()){g.x=Math.round(g.x);g.y=Math.round(g.y)}S=E.uW.VP(b,g,h);var v=new eq(1,0,0,1,g.x-y+S[0],g.y-o+S[1]);
e.N.h(this.Yu,v,this.VD)}else if(l==11){var Z=this.V6(this.Yu),W=Z.SX(H),d=Z.SX(a),$=Math.atan2(W.y,W.x),I=Math.atan2(d.y,d.x),v=new eq(1,0,0,1,-Z.x,-Z.y),k=Math.PI/12;
if(j)v.rotate(Math.round((I-$)/k)*k);else v.rotate(I-$);v.translate(Z.x,Z.y);e.N.h(this.Yu,v,this.VD)}else{var _=j,D;
if(B&&!q)_=!_;if(this.azB)_=!0;var A=this.Yu,F=l==0||l==2||l==6||l==8;if(this.vX==1){if(F)j=s=q=!0}else if(this.vX==2&&F&&this.arh!=!0)q=!0;
if(this.vX==3)q=!1;else if(this.vX==5){j=q=!0}if(this.a4V&&F&&q){var Y=[0,0,2,0,0,0,6,0,4,0][l],K=-1,V=R.x,r=R.y;
if(j){var c=Y+6&7,x=Y+10&7,X=eR.aa2(A[Y],A[Y+1],A[c],A[c+1],R.x,R.y),M=eR.aa2(A[Y],A[Y+1],A[x],A[x+1],R.x,R.y),f=X[2]<M[2]?X:M;
V=f[0];r=f[1];if(s)K=X[2]<M[2]?c:x}else if(s)K=Y+4&7;D=A.slice(0);if(K!=-1){var t=A[K],n=A[K+1],L=(A[Y]+t)/2,P=(A[Y+1]+n)/2;
D[K]=L-(V-L);D[K+1]=P-(r-P)}D[Y]=V;D[Y+1]=r}else if(F&&s){var Z=this.R7,z=Z.x,T=Z.y,p=N.x-z,m=N.y-T,O=1,cb=1;
if(Math.abs(p)>=1)O=(R.x-z)/p;if(Math.abs(m)>=1)cb=(R.y-T)/m;if(_)O=cb=(O+cb)/2;var v=new eq;v.translate(-z,-T);
v.scale(O,cb);v.translate(z,T);D=A.slice(0);e.N.h(D,v,D)}else{if(this.a2g()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var cX=[0,1,2,5,8,7,6,3],e$=cX[(cX.indexOf(l)+4)%8],fz=[];
for(var Y=0;Y<3;Y++)for(var K=0;K<3;K++)fz.push(new cJ(K/2,Y/2));var Z=this.R7,eC=s&&(this.eb==4||this.eb==9)?this.UB(Z,A):fz[e$],hw=s&&(this.eb==4||this.eb==9)?Z:U[e$];
if(F&&_){function az(cc,aO,bZ){var d_=aO[0]-cc[0],ee=aO[1]-cc[1],b4=e.N.yH(bZ[0],bZ[1],-ee,d_,cc[0],cc[1],d_,ee);
return[bZ[0]-ee*b4,bZ[1]+d_*b4]}while(!0){var av=az([hw.x,hw.y],[a.x,a.y],[R.x,R.y]);av=new cJ(av[0],av[1]);
av=E.uW.HV(b,av,h);if(cJ.o0(av,R)<1e-6)break;R=av}}var ia=this.UB(R,A),iJ=this.UB(a,A),cx=new eq,hP=new eq,O=(ia.x-eC.x)/(iJ.x-eC.x);
if(O==0)O=1e-4;var cb=(ia.y-eC.y)/(iJ.y-eC.y);if(cb==0)cb=1e-4;if(this.avr){O=Math.max(O,0);cb=Math.max(cb,0)}if(F){if(_)cx.scale(O,O);
else cx.scale(O,cb)}else if(l!=4){var iS=_,e4=q&&j;if(e4)iS=!1;if(l==1||l==7)cx.scale(iS?cb:1,e4?1:cb);
else cx.scale(e4?1:O,iS?O:1);if(this.aeM&&q){if(l==1||l==7)hP.YW=(ia.x-eC.x)/(ia.y-eC.y);else hP.J=(ia.y-eC.y)/(ia.x-eC.x)}}var v=new eq;
v.translate(-eC.x,-eC.y);v.concat(cx);v.concat(hP);v.translate(eC.x,eC.y);D=[0,0,1,0,1,1,0,1];e.N.h(D,v,D);
var f=e.t.Kt(A);e.t.h(f,D)}if(eR.gB(D))this.VD=D}this.XU(b,h);if(S)E.uW.jy(b,g,S)};eR.aa2=function(b,h,G,H,B,j){var s=G-b,q=H-h,Q=B-b,a=j-h,l=s*s+q*q,U=Q*s+a*q,N=U/l,R=b+N*s,S=h+N*q,g=B-R,i=j-S;
return[R,S,Math.sqrt(g*g+i*i)]};eR.prototype.a2g=function(){var b=this.VD;return Math.abs(b[1]-b[3])<1e-6&&Math.abs(b[2]-b[4])<1e-6||Math.abs(b[0]-b[2])<1e-6&&Math.abs(b[3]-b[5])<1e-6};
eR.gB=function(b){return e.N.asS(b)||e.N.asS([b[6],b[7],b[4],b[5],b[2],b[3],b[0],b[1]])};eR.prototype.dq=function(b,h,G,H){this.Z3=-1;
this.mM=null;b.A.VE=null;b.A.sn=[];b.qV=!0};eR.prototype.Z1=function(b,h,G){var H=G.in(b?b.s.ej:0);if(H.x||H.y){var B=new eq(1,0,0,1,H.x,H.y);
e.N.h(this.VD,B,this.VD);this.XU(b,h);return!0}return!1};eR.prototype.q3=function(b){if(b==null)b=this.VD;
var h=b[6]-b[0],G=b[7]-b[1],H=b[4]-b[2],B=b[5]-b[3],j=[b[0],b[1],b[2],b[3],b[0]+h/2,b[1]+G/2,b[2]+H/2,b[3]+B/2,b[6],b[7],b[4],b[5]],s=[];
for(var Y=0;Y<3;Y++){var q=Y*4,Q=j[q+0],a=j[q+1],l=j[q+2],U=j[q+3];s.push(new cJ(Q,a));s.push(new cJ(Q+(l-Q)/2,a+(U-a)/2));
s.push(new cJ(l,U))}return s};eR.prototype.XU=function(b,h,G){if(b.A==null)return;if(G==null)G=!1;var H=this.IA,B=this.q3(),j=B[0],s=B[2],q=B[6],Q=B[8],a={Gc:[],m:[]};
if(H==0)b.A.wY=a;else b.A.$D=a;a.Gc.push("M","L","L","L","Z");a.m.push(j.x,j.y,s.x,s.y,Q.x,Q.y,q.x,q.y);
var l=this.asT;if(l>1){b.A.JS=JSON.parse(JSON.stringify(a));var U=s.SX(j),N=q.SX(j),R=Q.SX(s),S=Q.SX(q);
for(var Y=1;Y<l;Y++){a.Gc.push("M","L","M","L");var g=Y/l;a.m.push(j.x+U.x*g,j.y+U.y*g,q.x+S.x*g,q.y+S.y*g);
a.m.push(j.x+N.x*g,j.y+N.y*g,s.x+R.x*g,s.y+R.y*g)}}b.s.zq=new io(0,0,cJ.o0(B[0],B[2]),cJ.o0(B[0],B[6]));
if(this.Z3!=-1&&this.Z3<9&&this.mM){var i=b.s.yF(this.mM.x,this.mM.y);E.af.Sk(i,b.s.zq,b,h)}if(!G){var y=[];
if(H==0)b.A.fj=y;else b.A.Kx=y;for(var Y=0;Y<B.length;Y++)if(Y!=4)y.push(B[Y].x,B[Y].y);var o=this.V6();
y.push(o.x,o.y)}b.qV=!0};eR.prototype.clear=function(b){b.s.zq=null;b.A.VE=null;b.A.wY=null;b.A.$D=null;
b.A.JS=null;b.A.fj=[];b.A.Kx=[];b.qV=!0};function ej(b){this.hC=null;this.Z3=-1;this.np=null;this.aeW=null;
this.vz=null;this.bW=-1;this.atW=null;this.ap$(b)}ej.prototype.CF=function(){return JSON.parse(JSON.stringify(this.hC))};
ej.prototype.ap$=function(b){this.hC=JSON.parse(JSON.stringify(b))};ej.prototype.ani=function(b){this.bW=b};
ej.prototype.eB=function(b){return!0};ej.prototype.qc=function(b,h,G,H){var B=this.Fz(b,h,H);if(B==-1)return"default";
return"pointer"};ej.prototype.Ay=function(b,h,G,H,B,j,s){if(this.bW!=-1)return!0;this.Z3=this.Fz(H,b.s.D,s);
var q=e.hC.kB(this.hC),Q=e.ac.Mv(q,H),a=0<Q[0]&&Q[0]<1&&0<Q[1]&&Q[1]<1;this.np=a?Q:null;this.aeW=JSON.stringify(q);
this.atW=JSON.stringify(this.hC);this.vz=H;return this.Z3!=-1||a};ej.prototype.Fz=function(b,h,G){var H=G?E.Et({s:{D:h}},G)*2:20*E.V()/h,B=this.hC,j=ej.ash(B),s=-1;
if(j){s=e.N._X(j,b.x,b.y,H);if(s!=-1)s+=1e6}else{var q=e.hC.kB(B);s=e.N._X(q[3],b.x,b.y,H);if(s!=-1&&this.VQ(q,s)==null)s=-1}return s};
ej.prototype.Jl=function(b,h,G,H){if(this.bW!=-1)return;var B=this.hC,j=this.Z3,s=this.np,q=JSON.parse(this.aeW),Q=q[0],a=q[1],l=q[3];
if(j>=1e6){var U=B.warpStyle.v.warpStyle,N=e.hC.Ki(B);if(U=="warpCylinder"){this.hC=B=JSON.parse(this.atW);
var R=E.Y.DM(B.warpValues),S=(R[2]-R[0])/(R[1]-R[3]),g=R[4]*S*N._,i=R[5]*S*N._,y=H.x-this.vz.x,o=H.y-this.vz.y;
R[0]=N.x;R[1]=N.y+N._;R[2]=N.x+N.j;R[3]=N.y;j-=1e6;if(j==0){R[0]+=y;R[1]+=o}if(j==1){R[2]+=y;R[3]+=o}if(j==2){g+=2*o;
i+=2*o}if(j==3){i+=2*o}if(j==4){R[6]=Math.max(0,Math.min(1,R[6]-2*y/N.j))}var v=e.N.MP(R.slice(0,4)),Z=v.j/N.j,W=v._/N._;
R[4]=g/v.j;R[5]=i/v.j;B.warpValues=E.Y.Ll(R);var d=new eq;d.translate(-N.x,-N.y);d.scale(Z,W);d.translate(v.x,v.y);
if(j<4)return d}else{var $=B.warpRotate.v.Ornt,I=$=="Vrtc",k=e.hC.aum[U],_=I?-H.x/N.j:-H.y/N._;_+=k[1];
if(k[1]>.5)_=-_;_/=k[2];var Z=N.j/N._;if(I)Z=1/Z;if(k[3])_/=Z;B.warpValue.v=100*Math.max(-1,Math.min(1,_))}}else if(j!=-1){var D=[j],y=H.x-l[j*2],o=H.y-l[j*2+1];
if(Q*a>16){var A=this.VQ(q,j);if(A[0]==0){var F=Math.floor(j/Q),K=j-F*Q;if(K>0)D.push(j-1);if(K<Q-1)D.push(j+1);
if(F>0)D.push(j-Q);if(F<a-1)D.push(j+Q)}}for(var Y=0;Y<D.length;Y++){l[D[Y]*2]+=y;l[D[Y]*2+1]+=o}e.hC.Sd(B,q)}else if(s){e.ac.acO(q,s[0],s[1],H.x-this.vz.x,H.y-this.vz.y);
e.hC.Sd(B,q)}};ej.prototype.dq=function(b,h,G,H){var B=this.bW;this.np=null;this.bW=-1;if(B!=-1){var j=e.hC.kB(this.hC),s=e.ac.Mv(j,H);
if(B==0||B==1)e.ac.split(j,0,s[0]);if(B==0||B==2)e.ac.split(j,1,s[1]);e.hC.Sd(this.hC,j)}b.qV=!0;return B!=-1};
ej.prototype.Z1=function(b,h,G){var H=G.in();if(H.x||H.y){var B=new eq(1,0,0,1,H.x,H.y);e.N.h(this.VD,B,this.VD);
this.XU(b)}};ej.prototype.VQ=function(b,Y){var h=b[0],G=b[1],H=this.Z3,B=Math.floor(H/h),j=H-B*h,s=H%3,q=H%3,Q=s==0&&q==0,B=Math.floor(Y/h),j=Y-B*h,s=j%3,q=B%3;
if(s!=0&&q!=0)return null;if(s==0&&q==0)return[0];else{var a=0;if(q==0)a=s==1?Y-1:Y+1;if(s==0)a=q==1?Y-h:Y+h;
if(h*G>16){var l=H==Y||H==Y+1||H==Y-1||H==Y+h||H==Y-h;if(Q&&(l||H==Y+2||H==Y-2||H==Y+2*h||H==Y-2*h)){}else if(!Q&&l){}else return null}return[1,a]}};
ej.ash=function(b,h){var h=b.warpStyle.v.warpStyle,H;if(h=="warpCustom"||h=="warpNone")return null;var G=e.hC.kB(b);
if(h=="warpCylinder"){var B=b.warpValues.v;H=[0,1,1,0,.5,0,.5,1,.75-.25*B[6].v,.5]}else{var j=b.warpRotate.v.Ornt,s=e.hC.aum[h];
H=j=="Hrzn"?[s[0],s[1]]:[s[1],s[0]]}e.ac.h(G,H,new io(0,0,1,1));return H};ej.prototype.XU=function(b,h){var G=this.hC,H=G.warpStyle.v.warpStyle,B=e.hC.kB(G),j=B[0],s=B[1],q=B[3],Q=b.A.$D={Gc:[],m:[]},a=b.A.Kx=[],l=b.A.ir=[],U=this.Z3;
if(H=="warpCustom")for(var N=0;N<s;N++)for(var R=0;R<j;R++){var Y=N*j+R,S=this.VQ(B,Y);if(S==null)continue;
var g=q[2*Y],i=q[2*Y+1],y=l;if(S[0]==0)y=Y==U&&j*s>16?l:a;else{var o=S[1];Q.Gc.push("M","L");Q.m.push(g,i,q[2*o],q[2*o+1])}y.push(g,i)}else{var v=ej.ash(G);
if(v)for(var Y=0;Y<v.length;Y++)a.push(v[Y])}for(var N=0;N+1<s;N+=3)for(var R=0;R+1<j;R+=3){Q.Gc.push("M","C","C","C","C");
var Y=N*j+R,Z=Y+j+j,W=[Y,Y+1,Y+2,Y+3,Y+j+3,Z+3,Z+j+3,Z+j+2,Z+j+1,Z+j,Z,Y+j,Y];for(var Y=0;Y<W.length;
Y++){var g=q[W[Y]*2],i=q[W[Y]*2+1];Q.m.push(g,i)}}var d=[],$=[];function I(k,R,A){for(var W=0;W<=A;W++){$.push(W==0?"M":"L");
if(k==0)d.push(R,W/A);else d.push(W/A,R)}}if(h)h=e.ac.Mv(B,h);for(var k=0;k<2;k++){var _=B[2][k],D=k==0?j:s,A=D*5;
for(var F=1;F<D;F++){var K=Math.floor((F-1)/3),V=F-(1+K*3);if(V==0)continue;var R=_[K]+V/3*(_[K+1]-_[K]);
I(k,R,A)}var r=this.bW;if(h&&r!=-1&&(r==0||r-1==k))I(k,h[k],A)}e.ac.h(B,d,new io(0,0,1,1));e.N.concat(Q,{m:d,Gc:$});
b.qV=!0};ej.prototype.clear=function(b){b.A.$D=null;b.A.Kx=[];b.A.ir=[];b.qV=!0};function dL(){this.cv=!1;
this.zM=!1;this.aku=!1;this.aqp=!1;this.jQ=!1;this.J1=!1;this.Oi=0;this.FY=0}dL.prototype.Ay=function(b){this.cv=!0;
this.zM=!1;this.jQ=b.W(ap.J3);this.J1=b.W(ap.p0);this.Oi=this.jQ?0:1;this.FY=this.J1?0:1};dL.prototype.Z1=function(b){var h=this.aqp=b.W(ap.J3),G=this.aku=b.W(ap.p0);
if(this.zM){if(this.Oi==0&&!h)this.Oi++;if(this.Oi==1&&h)this.Oi++;if(this.FY==0&&!G)this.FY++;if(this.FY==1&&G)this.FY++}};
dL.prototype.Jl=function(){this.zM=!0};dL.prototype.dq=function(){this.cv=!1};dL.prototype.bo=function(Y){if(Y==0)return this.cv?this.J1:this.aku;
if(Y==1)return this.zM?this.FY==2:!1};dL.prototype.xf=function(Y){if(Y==0)return this.cv?this.jQ:this.aqp;
if(Y==1)return this.zM?this.Oi==2:!1};E.History=function(){E.af.call(this,"History",E.Ck);this.x7=!0;
this.a7q=0};E.History.prototype=new E.af;E.History.prototype.Jd=function(b,h,G,H){G.Jg=!0;if(b.q=="h_itemchange"){if(b.index<G.Wt)for(var Y=G.Wt;
Y>b.index;Y--)this.dv(G);if(b.index>G.Wt)for(var Y=G.Wt;Y<b.index;Y++)this.mA(G)}if(b.q=="h_stepfwd")this.mA(G);
if(b.q=="h_stepbck")this.dv(G);if(b.q=="h_undoredo"){var B=this.x7||this.a7q!=G.Wt;if(B){this.dv(G);
B=!1}else{this.mA(G);B=!0}this.x7=B;this.a7q=G.Wt}if(b.q=="h_clear"){if(b.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
G.history=[new eN([1,0],null)];G.Wt=0}else this.x7=!0};E.History.prototype.dv=function(b){if(b.Wt==0)return;
var h=b.history[b.Wt];h.S.sv(h.data,b);b.Wt--};E.History.prototype.mA=function(b){if(b.Wt==b.history.length-1)return;
var h=b.history[b.Wt+1];h.S.uF(h.data,b);b.Wt++};E.lk=function(){E.af.call(this,"Layers",E.nc);this.KB=null};
E.lk.prototype=new E.af;E.lk.prototype.Jd=function(b,h,G,H,B){this.KB=h;var j=b.q,s=b.o!=null?b.o:G.T.length!=0?G.T[0]:G.R.length-1,q=G.R[s];
G.P6=!0;var Q=H.W(ap.p0),a=H.W(ap.J3),l=H.W(ap.zb);if(j==C.P_&&G.e==null&&(G.T.length>1||!G.s5(!1)||G.R[G.T[0]].fu()))j=C.hR;
if(j==C.Ud){var U=new eN([6,33],this),N=q.fu()?["pass"].concat(aq.B5):aq.B5,R=N[b.bq],S=b.o!=null?[b.o]:G.T,g=JSON.stringify(S),i=[];
for(var Y=0;Y<S.length;Y++)i.push(G.R[S[Y]].Am);U.data={q:j,UQ:g,vY:i,bq:R};G.vU(U);this.uF(U.data,G);
this.track(aX.Sg("Md",{t:"enum",v:{BlnM:aq.Wz(R)}}))}if(j==C.iY){var U,y=G.vc(),S=b.o!=null?[b.o]:G.T,g=JSON.stringify(S);
if(y&&y.data&&y.data.q==j&&y.data.UQ==g)U=y;else{var o=aX.Sg("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(o);var i=[];for(var Y=0;Y<S.length;Y++)i.push(G.R[S[Y]].opacity);U=new eN([6,32],this);U.data={q:j,UQ:g,vY:i,bq:b.bq,We:o.yo};
G.vU(U)}U.data.bq=b.bq;U.data.We.T.v.Opct.v.val=Math.round(b.bq*100/255);this.uF(U.data,G)}if(j==C.FE){if(q.add.iOpa==null)q.add.iOpa=255;
var U,y=G.vc();if(y&&y.data&&y.data.q==j&&y.data.o==s)U=y;else{U=new eN("Fill Opacity Change",this);
U.data={q:j,o:s,vY:q.add.iOpa,bq:b.bq};G.vU(U)}U.data.bq=b.bq;this.uF(U.data,G)}if(j==C.NN){var v=b.bq,Z=b.o!=null?[b.o]:G.T.slice(0),W=[],d=[],U;
for(var $=0;$<Z.length;$++){var I=G.R[Z[$]];if(I.add.lspf==null)I.add.lspf=0;var i=I.add.lspf,R=i;for(var Y=0;
Y<v[0].length;Y++){var k=v[1][Y],_=1<<k;if((R&_)==0&&v[0][Y])R^=_;else if((R&_)!=0&&!v[0][Y])R^=_}W.push(i);
d.push(R)}var y=G.vc(),S=JSON.stringify(Z);if(y&&y.data&&y.data.q==j&&JSON.stringify(y.data.UQ)==S){U=y;
U.data.bq=d}else{var U=new eN([6,57,1],this);U.data={q:j,UQ:S,vY:W,bq:d};G.vU(U)}this.uF(U.data,G)}if(j==C._3){var D="----",A=b.VW,R=null;
for(var Y=0;Y<fx.NE.q6.length;Y++)if(q.add[fx.NE.q6[Y]])D=fx.NE.q6[Y];var F=q.add[D];if(A=="TySh")R=b_.V0(50,50,B.Ge);
var U=new eN("Layer Type",this);U.data={q:j,o:s,aqJ:[D,F],VW:[A,R]};G.vU(U);this.uF(U.data,G)}if(j==C.LX){var Z=[];
if(Q){var K=G.vc(),V=K?K.data:null;if(K!=null&&K.S==this&&V.q==C.LX&&V.UQ.length!=1){var r=new hb(w.E.r);
r.S=E.Ck;r.data={q:"h_stepbck"};h.Q(r);if(V.o==s)return}var c=G.root.DE(s),x=c,X=[b.o];while(x.parent!=G.root){X.push(x.parent.index);
x=x.parent}for(var Y=0;Y<G.R.length;Y++){var M=G.R[Y],x=G.root.DE(Y),f=X.indexOf(Y)!=-1?!0:M.yY()&&c.depth<x.depth;
if(f!=M.yY())Z.push(Y)}}else if(b.UQ)Z=b.UQ;else{Z.push(s);var t=G.R[s].yY(),o={f6:t?"hide":"show",yo:{classID:t?"Hd":"Shw",null:{t:"VlLs",v:[aX.eP("Lyr",!0)]}}};
this.track(o)}var U=new eN("Layer visibility",this,!0);U.data={q:j,UQ:Z,o:s};G.vU(U);this.uF(U.data,G)}if(j==C.Cr){if(B.vu==E.Z4){var n=new hb(w.E.b);
n.data={q:w.p.CJ,S:E.rQ};h.Q(n)}var L=b.a7C,P=b.wU,p,escape=!1,m=!1;if(b.y_){if(l&&(P==0||P==1||P==2)){var z=0;
if(a)z++;if(Q)z+=2;var T=new hb(w.E.r,!0);T.S=E.Bi;T.data={q:"fromlayer",Fo:[b.o,P,z]};h.Q(T);return}}var o={f6:"select",yo:{classID:"null",MkVs:{t:"bool",v:!1}}};
G.a34();if(H.W(ap.zb)||b.aq==0){var O=G.T.indexOf(s);if(O==-1)G.T.push(s);else if(G.T.length>1){if(b.aq!=0)G.T.splice(O,1)}G.T.sort(function(U,jM){return U-jM});
o.yo.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};p=s}else if(a&&!Q&&P>0){j=P==1?C.TL:P==2?C.$P:C.$R;
escape=!0}else if((a||b.aq==1)&&G.T.length>0){var cb=Math.min(s,G.T[0]),cX=Math.max(s,G.T[G.T.length-1]);
G.T=[];for(var Y=cb;Y<=cX;Y++)if(G.R[Y].add.lsct!=c1.cH)G.T.push(Y);o.yo.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
p=s}else{p=s;if(s>=G.R.length)return;var M=G.R[s];if(M&&M.fu()&&b.acs)M.add.lsct=c1.$I;else if(G.T.length==1&&G.T[0]==s&&Math.max(0,P)==M.nD){m=!0;
G.P6=!1}if(!m){G.T=[s];G.cY()}}if(!m){if(p!=null&&p<G.R.length){o.yo.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:G.R[p].getName()}}]},this.track(o)}if(!escape){console.log("no escape");
if(G.T.length==1){var e$=G.T[0];for(var Y=0;Y<G.R.length;Y++){if(Y==e$)continue;var I=G.R[Y];I.nD=0;
I.ZB=!1}var q=G.R[e$];if(P==2){q.ZB=!q.ZB;G.xe=[]}else if(q){q.nD=P<=0?0:P}}else for(var Y=0;Y<G.R.length;
Y++){var I=G.R[Y];I.nD=0;I.ZB=!1}G.mS=null;G.Jg=!0}}if(b.y_&&Q){if((P==1||P==3)&&L!=null){var T=new hb(w.E.r,!0);
T.S=E.TC;T.data={q:"mskView",P:L!=0?0:a?1:2};h.Q(T)}else{this.Jd({q:C.iy,o:b.o},h,G,H,B)}}}if(j==C.TL||j==C.$R){var fz=j==C.TL,eC=fz?q.Y1():q.T0(G).u;
if(eC==null)return;var U=new eN(eC.isEnabled?fz?[6,15]:[6,42]:fz?[6,14]:[6,41],this);U.data={q:j,o:s};
G.vU(U);this.uF(U.data,G)}if(j==C.$P){var eC=q.add.vmsk;if(eC==null)return;var U=new eN(eC.isEnabled?[6,17]:[6,16],this);
U.data={q:j,o:s};G.vU(U);this.uF(U.data,G)}if(j==C.ae2){var hw=q.add.lsct==c1.$I?c1.N_:c1.$I,x=G.root.DE(G.R.indexOf(q)),ia=!1;
if(H.W(ap.zb)){var az=x.parent;for(var Y=0;Y<az.children.length;Y++){var av=az.children[Y].o;if(av.fu())av.add.lsct=hw}}else q.add.lsct=hw;
for(var Y=0;Y<G.T.length;Y++){var iJ=G.T[Y];if(x.D6<iJ&&iJ<x.index)ia=!0}if(ia)G.T=[x.index];G.Jg=!0}if(j==C.iy){if(!G.HX(s))return;
var U=new eN(q.wi?[6,19]:[6,18],this);U.data={q:j,o:s};G.vU(U);if(b.bq==null||b.bq!=q.wi)this.uF(U.data,G)}if(j==C.als){if(q.mx())q.Xp-=32;
else q.Xp+=32;G.Jg=!0}if(j==C.fb||j==C.oA){var U;if(j==C.fb)U=new eN(q.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(j==C.oA)U=new eN(q.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);U.data={q:j,o:s};G.vU(U);this.uF(U.data,G)}if(j==C.kl||j==C.K9){var e$=b.index,U;
if(j==C.kl)U=new eN(q.add.lmfx[dE.CM[e$[0]]].v[e$[1]].v.enab.v?[6,30,0]:[6,29],this);if(j==C.K9)U=new eN(q.add.SoLd.filterFX.v.filterFXList.v[e$].v.enab.v?[6,44]:[6,43],this);
U.data={q:j,o:s,index:b.index};G.vU(U);this.uF(U.data,G)}if(j==C.Dv){if(b.src==b.rA)return;var cx=G.R[b.src],hP=G.R[b.rA],iS=cx.add.lmfx?JSON.stringify(cx.add.lmfx):"",e4=hP.add.lmfx?JSON.stringify(hP.add.lmfx):"";
if(hP.add.lmfx==null){hP.add.lmfx=JSON.parse(dE.default);for(var Y=0;Y<dE.order.length;Y++)hP.add.lmfx[dE.CM[Y]]={t:"VlLs",v:[]}}if(b.G0==null){hP.add.lmfx=JSON.parse(iS);
if(!Q)delete cx.add.lmfx}else{var cc=b.G0[0],aO=dE.CM[cc];if(dE.aDJ.indexOf(dE.order[cc])==-1)hP.add.lmfx[aO].v=[];
hP.add.lmfx[aO].v.push(cx.add.lmfx[aO].v[b.G0[1]]);if(!Q)cx.add.lmfx[aO].v.splice(b.G0[1],1)}var bZ=cx.add.lmfx?JSON.stringify(cx.add.lmfx):"",d_=hP.add.lmfx?JSON.stringify(hP.add.lmfx):"";
if(!hP.mx())hP.Xp+=32;var U=new eN("Move Layer Styles",this);U.data={q:j,fX:b.src,ED:b.rA,a4f:iS,ak$:e4,aEA:bZ,ao8:d_};
G.vU(U);this.uF(U.data,G)}if(j==C.Jp){if(b.src!=null)s=b.src;var I=G.R[s],ee=JSON.stringify(I.add.SoLd),b4=JSON.parse(ee),hA=b4.filterFX.v.filterFXList.v;
hA.splice(b.G0,1);var U=new eN([6,53],this);U.data={q:C.Th,cz:[{zj:s,bc:[ee,JSON.stringify(b4)]}]};G.vU(U);
this.uF(U.data,G)}if(j==C.ade){var f$=Q,cx=G.R[b.src],hP=G.R[b.rA],e_=[];if(cx!=hP&&hP.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(cx==hP&&!f$&&b.G0==b.fW)return;if(cx==hP&&b.G0==-1)return;var fJ=cx.T0(G),ee=JSON.stringify(cx.add.SoLd),b4=JSON.parse(ee),hA=b4.filterFX.v.filterFXList.v;
if(cx==hP){hA.splice(b.fW,0,hA[b.G0]);if(!f$)hA.splice(b.G0+(b.G0<b.fW?0:1),1);e_.push({zj:b.src,bc:[ee,JSON.stringify(b4)]})}else if(b.G0==-1){var dV=b4.filterFX;
if(!f$){delete b4.filterFX;e_.push({zj:b.src,bc:[ee,JSON.stringify(b4)],zB:[fJ,null]})}var ix=hP.Ag()?hP.T0(G):null,b9=cj.aeF(fJ),hV=JSON.stringify(hP.add.SoLd),gq=JSON.parse(hV);
gq.placed.v=b9.id;gq.filterFX=dV;e_.push({zj:b.rA,bc:[hV,JSON.stringify(gq)],zB:[ix,b9]})}else{var eH=hA[b.G0];
if(!f$){hA.splice(b.G0,1);e_.push({zj:b.src,bc:[ee,JSON.stringify(b4)]})}var hV=JSON.stringify(hP.add.SoLd),gq=JSON.parse(hV);
if(gq.filterFX==null)gq.filterFX=gY.Aq();var eP=gq.filterFX.v.filterFXList.v;eP.splice(b.fW,0,eH);var c2={zj:b.rA,bc:[hV,JSON.stringify(gq)]};
if(!hP.Ag()){var b9=cj.aAq(hP.add.SoLd.placed.v);c2.zB=[null,b9]}e_.push(c2)}var U=new eN([6,52],this);
U.data={q:C.Th,cz:e_};G.vU(U);this.uF(U.data,G)}if(j==C.Wi){var eC=q.Y1(),U=new eN(eC.lc?[6,26]:[6,25],this);
U.data={q:j,o:s};G.vU(U);this.uF(U.data,G);this.track({f6:"set",yo:{classID:"setd",null:{t:"obj ",v:[aX.eP("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:eC.lc}}}}})}if(j==C.s6){var eC=q.add.vmsk,U=new eN(eC.lc?[6,28]:[6,27],this);
U.data={q:j,o:s};G.vU(U);this.uF(U.data,G)}if(j==C._x){var U=new eN("Variables / Datasets",this),bL=JSON.stringify([G.W7,G.xC]);
if(bL==b.P)return;U.data={q:j,ahQ:bL,ai$:b.P};G.vU(U);this.uF(U.data,G)}if(j==C.UH){var dg=[],U;for(var Y=0;
Y<G.T.length;Y++){var $=G.T[Y],M=G.R[$];if(M.add.vogk)dg.push($,JSON.stringify(M.add.vogk))}for(var Y=0;
Y<G.xe.length;Y++){var $=G.xe[Y],M=G.N6[$];if(M.add.vogk)dg.push(-1-$,JSON.stringify(M.add.vogk))}e.Bs.aCa(G,b.P,b.agj);
var cN=[];for(var Y=0;Y<G.T.length;Y++){var $=G.T[Y],M=G.R[$];if(M.add.vogk)cN.push($,JSON.stringify(M.add.vogk))}for(var Y=0;
Y<G.xe.length;Y++){var $=G.xe[Y],M=G.N6[$];if(M.add.vogk)cN.push(-1-$,JSON.stringify(M.add.vogk))}var y=G.vc();
if(y&&y.data&&y.data.q==j){var dH=!0;for(var Y=0;Y<dg.length;Y+=2)if(dg[Y]!=y.data.sg[Y])dH=!1;if(dH){U=y;
U.data.WO=cN}}if(U==null){var U=new eN([12,91,1],this);U.data={q:j,sg:dg,WO:cN};G.vU(U)}this.uF(U.data,G)}if(j==C.fp){var kM=JSON.stringify(q.add.artb),a_=JSON.stringify(b.Vu),U;
G.R[s].add.artb=JSON.parse(a_);var g4=new io(0,0,G.j,G._),iY=E.w8.f$(G),y=G.vc();if(y&&y.data&&y.data.q==j&&y.data.o==s){U=y;
U.data.Vu=a_}if(U==null){var U=new eN("Editing Artboard",this);U.data={q:j,o:s,at7:kM,Vu:a_,wb:g4};G.vU(U)}U.data.H3=iY;
this.uF(U.data,G)}if(j==C.XG){var cN=G.$B.slice(0),fa=G.ql.slice(0),ka=G.e,b1=G.e,f=G.s.M.slice(0);if(b.DF=="seltochannel"){var bg=b.Fo[0],cl=cN[bg]=cN[bg].clone(),x=e.ym.Ai(G.e,cl,b.Fo[1]);
cl.channel=x.channel;cl.rect=x.rect}if(b.DF=="fromAction"){var c0=b.P.f6,kL=b.P.yo;if(c0=="make"||c0=="duplicate"){var c_=cN.length,aw=!1,kq=!1;
if(G._a())c_--;var cA=new C.Tc;cA.name="Alpha "+(c_+1);if(c0=="make"){var f4=kL.Nw.v;cA.color=0;fa=[c_];
cA.Da=!0;cA.S$=f4.Opct.v;if(f4.Nm)cA.name=f4.Nm.v;if(f4.classID=="SCch"){aw=!0;b1=null;cA.qp=1}for(var Y=0;
Y<G.$B.length;Y++)G.$B[Y].Da=!1;f=[0,0,0]}else{var M=G.R[G.T[0]],gF=M.nD==1?M.Y1():M.nD==3?M.T0(G).u:null,fm=kL.null.v[0].v;
if(kL.Nm)cA.name=kL.Nm.v;if(fm.keyID=="fsel")aw=!0;else if(gF){cA.channel=gF.channel.slice(0);cA.rect=gF.rect.clone();
cA.color=gF.color}else{var aP=E.pC.ai2(G);b1=E.pC.adG(G,aP);cA.color=0;cA.rect=b1.rect;cA.channel=b1.channel}}if(aw){cA.color=0;
if(G.e){cA.rect=G.e.rect.clone();cA.channel=G.e.channel.slice(0)}if(kq){cA.color=255-cA.color;e.Q6(cA.channel)}}cN.splice(c_,0,cA)}else if(c0=="delete"){if(q&&q.Y1()&&q.nD==1){this.Jd({q:C.PU},h,G,H,B);
return}var hh=G.ql;hh.sort(function(U,jM){return jM-U});if(hh.length==0)return;for(var Y=0;Y<hh.length;
Y++)cN.splice(hh[Y],1);fa=[];f=[1,1,1]}else if(c0=="show"||c0=="hide"){var gW=kL.null.v,cg=null,f0=!1;
for(var Y=0;Y<gW.length;Y++){var hk=gW[Y].v[0].v,aQ=hk.enum;if(aQ=="Trgt"){if(cN[fa[0]]==null)continue;
cN[fa[0]]=cN[fa[0]].clone();cN[fa[0]].Da=c0=="show";f0=!0}else{var bg=["Rd","Grn","Bl"].indexOf(aQ);
if(cg==null)cg=G.s.M.slice(0);cg[bg]=c0=="show"?1:0}}if(cg){var r=new hb(w.E.r,!0);r.S=E.Uy;r.data={q:"setcls",M:cg};
h.Q(r);if(!f0)return}}}if(b.DF=="rnm"){cN[b.V9]=cN[b.V9].clone();cN[b.V9].name=b.name}var U=new eN("Channel Edit",this);
U.data={q:j,sg:G.$B.slice(0),L5:G.ql.slice(0),WO:cN,gG:fa,QU:ka,_r:b1,a4H:G.s.M.slice(0),a8F:f};this.uF(U.data,G);
G.vU(U)}if(j==C.op){var fj=new io(0,0,G.j,G._),U=new eN(b.VH,this);U.data={q:C.op,zo:G.R.slice(0),tG:b.tG,KO:G.T.slice(0),e2:b._r};
G.vU(U);this.uF(U.data,G);var fd=E.w8.zy(G);if(fd){U.data.wb=fj;U.data.H3=fd}}if(j==C.rU){var iu=G.bZ(null,b.o),hl=1e10;
if(iu.length==0)return;if(G.R.length==iu.length){alert("Project must have at least 1 layer");return}var en=[];
for(var Y=0;Y<G.R.length;Y++)if(iu.indexOf(Y)==-1)en.push(G.R[Y]);for(var Y=0;Y<iu.length;Y++)hl=Math.min(hl,iu[Y]);
while(hl>en.length-1)hl--;hl=Math.max(hl,0);while(en[hl].name=="</Layer group>")hl++;this.track({f6:"delete",yo:{classID:"Dlt",null:aX.eP("Lyr",!0)}});
var g4=new io(0,0,G.j,G._),U=new eN([6,31],this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[hl]};
G.vU(U);this.uF(U.data,G);var iY=E.w8.f$(G);if(iY){U.data.H3=iY;U.data.wb=g4;E.w8.zy(G)}}if(j==C.km){if(!H.W(ap.J3))return;
var U=new eN("Switch Layer Link",this);U.data={q:j,o:b.o};G.vU(U);this.uF(U.data,G)}if(j==C.Bx){var hh=b.a3T?b.a3T:G.T,ed=0,bS=!1;
if(hh.length==0)return;if(hh.length==1&&G.R[hh[0]].VF==0){alert(bp.get([15,7,5]));return}var hG=[];for(var Y=0;
Y<G.R.length;Y++){var i0=G.R[Y].VF;hG.push(i0);ed=Math.max(ed,i0)}var dC=-1,ir=-1;for(var Y=0;Y<hh.length;
Y++){var i0=G.R[hh[Y]].VF;if(i0==0)bS=!0;else if(dC==-1||dC==i0)dC=i0;else ir=i0}if(!bS)for(var Y=0;
Y<hh.length;Y++)G.R[hh[Y]].VF=0;else if(dC!=-1&&ir==-1)for(var Y=0;Y<hh.length;Y++)G.R[hh[Y]].VF=dC;
else for(var Y=0;Y<hh.length;Y++)G.R[hh[Y]].VF=ed+1;var ih=[];for(var Y=0;Y<G.R.length;Y++){var i0=G.R[Y].VF;
if(ih[i0]==null)ih[i0]=0;ih[i0]++}for(var Y=0;Y<G.R.length;Y++){var i0=G.R[Y].VF;if(ih[i0]==1)G.R[Y].VF=0}var a$=hG;
hG=[];for(var Y=0;Y<G.R.length;Y++){var i0=G.R[Y].VF;hG.push(i0);ed=Math.max(ed,i0)}var U=new eN(bS?[6,54,0]:[6,54,1],this);
U.data={q:C.Bx,ayD:a$,adr:hG};G.vU(U);this.uF(U.data,G)}if(j==C.hR&&(b.o!=null||G.T.length!=0)||j==C.x1){var cC=G.LZ(j==C.hR?b.o:s,null,b.amI),dT;
if(j==C.x1){var I=cC[0],c0=I.add.SoLd.Idnt.v,jq=G.WC(c0).clone();I.add.SoLd.Idnt.v=jq.Af=cj.pw()+c0.slice(8);
G.add.lnk2.push(jq)}if(j==C.hR){var kz={f6:"duplicate",yo:{classID:"null",null:aX.eP("Lyr",!0)}};if(b.f0){cC[cC.length-1].cb(b.f0);
kz.Nm={t:"TEXT",v:b.f0}}this.track(kz);b.auE=b.o}j=C.Dk;b.R=cC;b.$J=G;b.BQ=G}if(j==C.Dk){var ce,cp,ht=b.$J,kE=b.BQ,j4=0,j8=0,dm=ht.t2(),bG=!1,bi,im=0,ch=0;
if(ht!=kE){console.log("ADDLAYERS different projs");var ce=new io(0,0,ht.j,ht._),cp=new io(0,0,kE.j,kE._),ie=[],b5=[],eh=new io;
for(var Y=0;Y<b.R.length;Y++){var I=b.R[Y];eh=eh.gJ(I.rect);if(I.add.SoLd==null)continue;var c0=I.add.SoLd.Idnt.v;
if(ie.indexOf(c0)==-1){ie.push(c0);b5.push(cj.pw()+c0.slice(8))}I.add.SoLd.Idnt.v=b5[ie.indexOf(c0)];
var fJ=I.T0(ht);if(fJ){ht.kw(fJ);kE.RJ(fJ)}}if(dm==-1&&!b.X0&&b.avB&&!cp.XR(eh)){j4=-eh.x;j8=-eh.y}if(ie.length>0){if(kE.add.lnk2==null)kE.add.lnk2=[];
for(var Y=0;Y<ie.length;Y++){var jl=ht.WC(ie[Y]),jq=jl.clone();jq.Af=b5[Y];kE.add.lnk2.push(jq)}}}var ka=kE.T.slice(0);
ka.sort(function(U,jM){return U-jM});var en=kE.R.slice(0),b1=[],cE=-1;for(var Y=0;Y<ka.length;Y++)cE=Math.max(cE,ka[Y]);
if(b.auE!=null)cE=b.auE;if(b.X0){cE=b.X0-1;var cI=kE.R[b.X0].Ey();j4+=cI.x;j8+=cI.y}if(dm!=-1&&(ht!=kE||b.X0)){var de=ht.R[dm].Ey();
j4-=de.x;j8-=de.y}var i9=kE.Wb();for(var Y=0;Y<i9[0].length;Y++){var iC=i9[1][Y];if(iC!=-1)i9[1][Y]=en[iC]}cE++;
for(var Y=0;Y<b.R.length;Y++){var M=b.R[Y],fF=M.add.artb;en.splice(cE,0,M);b1.push(cE);cE++;if(fF){bi=!0;
var jo=fF.guideIndeces;if(jo){jo=jo.v;for(var ds=0;ds<jo.length;ds++){i9[0].push(ht.bE[jo[ds].v].slice(0));
i9[1].push(M);bG=!0}}}}for(var Y=0;Y<i9[0].length;Y++){var iC=i9[1][Y];if(iC!=-1)i9[1][Y]=en.indexOf(iC)}for(var Y=0;
Y<b.R.length;Y++){var M=b.R[Y];if(M.add.lsct==c1.cH){if(im==0)ch++;im++}else if(M.fu())im--}if(ch==1)b1=[cE-1];
var U=new eN([6,0],this);U.data={q:C.op,zo:kE.R.slice(0),tG:en,KO:ka,e2:b1};if(bG){U.data.P3=[kE.Wb(),i9]}kE.vU(U);
this.uF(U.data,kE);if(j4!=0||j8!=0)E.uW.a5(kE,kE.bZ(),null,j4,j8);if(bi){U.data.wb=new io(0,0,kE.j,kE._);
U.data.H3=E.w8.f$(kE);E.w8.zy(kE)}}if(j==C.uI){var ao=b.o!=null?[b.o]:G.bZ(),en=G.R.slice(0);for(var Y=0;
Y<ao.length;Y++){var M=G.R[ao[Y]].clone();M.vH(G);en.splice(ao[Y],1,M)}var U=new eN([6,8],this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:G.T.slice(0)};
G.vU(U);this.uF(U.data,G)}if(j==C.a1F){var en=G.R.slice(0),M=en[G.T[0]]=en[G.T[0]].clone(),hN=M.add.lmfx,gn,cI;
delete M.add.lmfx;var eX=G.T[0],f1=eX+1;if(M.fu()){var h_=G.R[G.T[0]].Z5;cI=h_.apy;gn=h_.Yw;var x=G.root.DE(eX);
eX=x.D6}else{cI=M.rect;gn=e.U(cI.X());e.uA(M.buffer,gn,3)}var jJ=eQ.x0(hN,M.add.fxrp,gn,cI,G,cI).type;
for(var Y=0;Y<dE.order.length;Y++){var iA=dE.order[Y],cw=jJ[iA];cw.reverse();for(var ds=0;ds<cw.length;
ds++){var gu=cw[ds],S=G.Cx(),il=Y>7;if(iA=="ebbl"){if(gu.Gg||gu.Vq){var aE=gu.Gg?gu.Gg:gu.Vq;if(gu.Gg)delete gu.Gg;
else delete gu.Vq;if(gu.Vq||gu.vL)ds--}else if(gu.vL||gu.bA){var aE=gu.bA?gu.bA:gu.vL;if(gu.bA){delete gu.bA;
if(gu.vL)ds--}il=!0}gu=aE}S.Am=gu.Yn;S.opacity=Math.round(255*gu.ux);S.buffer=gu.Ur;S.rect=gu.KZ.clone();
S.rect.offset(cI.x,cI.y);if(iA=="FrFX"){S.buffer=S.buffer.slice(0);e.aj(gu.ih?gu.ih:gu.bP,S.buffer,3);
if(gu.ih){il=!0;delete gu.ih;if(gu.bP)ds--}}S.wi=!il;S.cb(M.getName()+"'s "+bp.get(dE.names[Y]));en.splice(il?eX:f1,0,S);
if(il)f1++}}var U=new eN("Styles to Layers",this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[f1-1]};
G.vU(U);this.uF(U.data,G)}if(j==C.aDi){var ao=G.bZ(),en=G.R.slice(0),cL=new io(0,0,G.j,G._);for(var Y=0;
Y<ao.length;Y++){var ba=G.R[ao[Y]],hZ=ba.yY();ba.lW(!0);var ax=G.root.DE(ao[Y]);if(ba.fu())continue;
if(ax==null)continue;var M=ba.clone();M.vH(G);var gU=ax.Ki(G,!0),gs=G.R;G.Rf([ba]);G.c();G.lJ();M.buffer=e.U(gU.X()*4);
e.JE(G.Nw(),cL,M.buffer,gU);M.rect=gU;M.opacity=255;M.add.iOpa=255;M.Am="norm";M.c();M.Z5.cq=!0;G.Rf(gs);
if(M.add.lmfx)delete M.add.lmfx;M.u=M.Sb=null;en.splice(ao[Y],1,M);M.lW(hZ);ba.lW(hZ)}var U=new eN([6,34],this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:G.T.slice(0)};G.vU(U);this.uF(U.data,G)}if(j==C.a0x){var ao=G.bZ(),en=G.R.slice(0);
for(var Y=0;Y<ao.length;Y++){var M=G.R[ao[Y]],f6=M.add.TySh;if(f6==null)continue;var I=new j0(f6.HZ,B.B7,f6.AT),fs=e.N.UC(jK.M1(I,f6,!0));
for(var gk in fs){var dR=fs[gk],av=M.clone();delete av.add.TySh;av.Xp=av.Xp|1<<4;av.add.SoCo=JSON.parse(JSON.stringify(dE.td[0]));
var e7=av.add.SoCo.Clr.v;e7.Rd.v=parseInt(gk.slice(1,3),16);e7.Grn.v=parseInt(gk.slice(3,5),16);e7.Bl.v=parseInt(gk.slice(5,7),16);
var g$=new C.cW;g$.d=e.N.zv(dR,!1);if(av.add.vmsk!=null){av.add.vmsk.azF();g$.concat(av.add.vmsk)}av.add.vmsk=g$;
av.add.vstk=dE.QA.Az(!0);av.AA();av.vw(G);en.splice(en.indexOf(M),0,av)}en.splice(en.indexOf(M),1)}var b1=G.T.slice(0);
for(var Y=b1.length-1;Y>=0;Y--)if(b1[Y]>=en.length)b1.splice(Y,1);var U=new eN([6,40],this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:b1};
G.vU(U);this.uF(U.data,G)}if(j==C.avG){var bD=G.T.length,hq,fS;if(bD<2){alert("Select two or more layers.");
return}for(var Y=0;Y<bD;Y++){var de=G.R[G.T[Y]].rect;hq=Y==0?de:hq.D4(de);fS=Y==0?de:fS.gJ(de)}if(hq.X()*1.2>fS.X()){alert("stacking images");
var al=[],dG=[];for(var Y=0;Y<bD;Y++){var M=G.R[G.T[Y]];al.push(M.buffer);dG.push(M.rect)}var eK=e.ai7.EP(al,dG),gC=eK[0],kw=eK[1],kH=[];
for(var Y=0;Y<bD;Y++){var eC=new C.Tc;eC.color=255;eC.rect=kw;eC.channel=gC[Y];kH.push(G.T[Y],null,eC)}var U=new eN("Focus-Stack",this);
U.data={q:C.li,IU:kH};G.vU(U);this.uF(U.data,G);return}if(!G.e1())return;var av=G.R[G.T[0]].clone(),en=[];
for(var Y=0;Y<G.R.length;Y++)if(G.T.indexOf(Y)==-1)en.push(G.R[Y]);en.splice(G.T[0],0,av);for(var Y=1;
Y<bD;Y++)if(G.R[G.T[Y]].rect.X()>2e6){alert("Blended areas are too large.");return}for(var Y=1;Y<bD;
Y++){var M=G.R[G.T[Y]],kw=M.rect.clone();kw.Mx(1,1);var jM=e.U(kw.X()*4);e.JE(M.buffer,M.rect,jM,kw);
av.extend(kw);var kA=e.U(kw.X()*4);e.JE(av.buffer,av.rect,kA,kw);var U=e.U(kw.X());e.uA(jM,U,3);e.round(U,200);
e.aj(U,jM,3);e.z.Nm("norm",jM,kw,kA,kw,kw,1);e.Cg.XS(kA,U,kw);e.JE(kA,kw,av.buffer,av.rect)}var U=new eN([2,10,0],this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[G.T[0]]};G.vU(U);this.uF(U.data,G)}if(j==C.$u){var en=G.R.slice(0),fa=G.T.slice(0);
for(var Y=0;Y<en.length;Y++){var M=en[Y],bj=M.add.vmsk;if(M._5()&&bj&&M.add.vstk.strokeEnabled.v&&!M.add.vstk.fillEnabled.v){var eM=bj.d,d6=0,gN=-1;
for(var ds=0;ds<eM.length;ds++){if((eM[ds].type==0||eM[ds].type==3)&&eM[ds].Vj!=-1){d6++;if(eM[ds].type==3&&gN==-1){eM[ds].ts=eM[ds].Vj=1;
gN=ds}}}if(d6>1&&gN!=-1&&d6<10){console.log("separating an open path into a new layer");M=M.clone();
bj=M.add.vmsk;eM=bj.d;var S=eM[gN].length,js=M.clone();js.add.lyid=G.RO();bj.d=eM.slice(0,2).concat(eM.slice(gN,gN+S+1));
bj.T=[];M.vw(G);M.c();var aD=js.add.vmsk.d;js.add.vmsk.d=aD.slice(0,gN).concat(aD.slice(gN+S+1,aD.length));
js.add.vmsk.T=[];js.vw(G);en[Y]=M;en.splice(Y+1,0,js);for(var ds=0;ds<fa.length;ds++)if(fa[ds]>Y)fa[ds]++;
var bO=fa.indexOf(Y);if(bO!=-1){fa.splice(bO+1,0,Y+1)}}}}if(en.length!=G.R.length){var U=new eN("Splitting open paths",this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:fa};G.vU(U);this.uF(U.data,G)}}if(j==C.tZ){this.Jd({q:C.$u},h,G,H,B);
var ka=G.T.slice(0),gs=G.R.slice(0),ao=G.bZ();if(ao.length==0)return;G.arH(ao,!1,b.B9);var U=new eN([6,36,0],this);
U.data={q:C.op,zo:gs,tG:G.R.slice(),KO:ka,e2:G.T.slice(0)};G.vU(U);this.uF(U.data,G)}if(j==C.abH){var ee=q.add.SoLd;
if(ee==null)return;var c0=ee.Idnt.v,kR=G.WC(c0);kR.Nw(!1);var jm=kR.P0[0],kw=kR.P0[1];if(e.qP(jm)){alert("The smart object contains transparency.");
return}var es=aT.JR("jpg").kf([[jm.buffer]],kw.j,kw._,[90]);this.Jd({q:C.qX,data:new Uint8Array(es),_6:"image.jpg"},h,G,H,B);
console.log(G.add);return}if(j==C.qX){var cL=b.tR,c0=b.id;if(cL==null)cL=G;if(c0==null)c0=q.add.SoLd.Idnt.v;
var jl=cL.WC(c0),jq=jl.clone();jq.raw=b.data;jq._6=b._6;var dc=aT.ni(b.data.buffer);if(dc=="psd"){jq.Vx="8BIM";
jq.Z_="8BPB"}else{jq.Vx="    ";jq.Z_="    "}jq.Nw(!1);jl.Nw(!1);var U=new eN([6,36,1],this);U.data={q:C.qX,id:c0,oK:jl,z7:jq};
cL.vU(U);this.uF(U.data,cL)}if(j==C.se){var U=new eN([6,36,4],this);U.data={q:j,o:s,Wy:q.add.SoLd.Impr.v.classID,bq:b.bq};
G.vU(U);this.uF(U.data,G)}if(j==C.a98){var jT,hX;if(b.du){jT=b.tR;hX=b.du}else{b.tR.UL();b.tR.Xu();b.tR.c();
b.tR.lJ();b.tR.Nw();jT=aT.JR("PSD").kf(b.tR,0,0,[!0,!0]);hX=b.tR.name}if(!(jT instanceof ArrayBuffer))throw"e";
jT=new Uint8Array(jT);var O=b.RI;if(O==null){if(G.T.length==0)O=G.T.length;else{var iJ=G.T[G.T.length-1],S=G.R[iJ];
O=S.fu()?iJ:iJ+1}}var eJ=new io(0,0,G.j,G._),hR=G.t2();if(hR!=-1)eJ=G.R[hR].Ey();var f5=G._t(jT,hX,null,null,eJ,B.B7,h),en=G.R.slice(0);
en.splice(O,0,f5);var U=new eN([6,36,2],this);U.data={q:C.op,zo:G.R.slice(),tG:en,KO:G.T.slice(0),e2:[en.indexOf(f5)]};
G.vU(U);this.uF(U.data,G)}if(j==C.q$&&b.DF=="merge"){var f2=[],dk=G.root.children,jt=0;for(var Y=0;Y<dk.length;
Y++){var x=dk[Y],M=x.o,kS=x.children,bz=!0;if(!M.fu()||kS.length==0)continue;for(var ds=0;ds<kS.length;
ds++)if(!kS[ds].o.getName().startsWith("_a_")){bz=!1;break}if(bz)f2.push(G.R.indexOf(M))}var g9=[];for(var Y=0;
Y<f2.length;Y++)if(G.T.indexOf(f2[Y])!=-1)g9.push(f2[Y]);if(g9.length>=2)f2=g9;if(f2.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var ah=[];for(var Y=0;Y<f2.length;Y++)ah.push(G.R[f2[Y]].getName());var cw=[];for(var g6=0;g6<f2.length;
g6++){var x=G.root.DE(f2[g6]),c2=[[],[],0,g6];cw.push(c2);for(var Y=0;Y<x.children.length;Y++){var $=x.children[Y].index,M=x.children[Y].o,cA=M.getName(),iT=20,hO=cA.split(",");
if(hO.length>1){var cM=parseInt(hO.pop());if(!isNaN(cM)&&cM!=0)iT=cM}if(iT<17)iT=17;c2[0].push(M);c2[1].push(iT);
c2[2]+=iT}}cw.sort(function(U,jM){return jM[2]-U[2]});if(cw[0][2]>2e3){var hf=0,em=0;for(var Y=0;Y<cw.length;
Y++){var ke=cw[Y][1].length/cw[Y][2];if(ke>em){em=ke;hf=Y}}var b7=(cw[0][2]/1e3).toFixed(1),iQ=window.confirm("- \""+ah[cw[0][3]]+"\" is "+b7+" seconds long\n"+"- \""+ah[cw[hf][3]]+"\" is playing at "+Math.round(em*1e3)+" frames per second\n"+"A merged animation must be "+b7+" sec, up to "+Math.round(cw[0][2]*em)+" frames. Proceed?");
if(!iQ)return}var ff=cw[0],aC=ff[2];for(var iC=1;iC<cw.length;iC++){var c2=cw[iC],kn=1,b8=c2[1].slice(0),ct=0;
while((kn+1)*c2[2]<=ff[2]){kn++;b8=b8.concat(c2[1])}c2[1]=b8;c2[2]*=kn;var bA=ff[2]/c2[2];for(var Y=0;
Y<c2[1].length;Y++){var e8=Math.floor(c2[1][Y]*bA);c2[1][Y]=e8;ct+=e8}while(ct<aC){ct++;c2[1][c2[1].length-1]++}c2[2]=ct}var hL=[],iG=[],e8=[];
for(var Y=0;Y<cw.length;Y++){hL.push(0);iG.push(0)}while(jt<aC){var fw=1e9,c_=-1;for(var Y=0;Y<cw.length;
Y++){var fO=cw[Y][1],eX=hL[Y];if(eX!=fO.length&&iG[Y]+fO[eX]<jt+fw){c_=Y;fw=iG[Y]+fO[eX]-jt}}iG[c_]+=cw[c_][1][hL[c_]];
hL[c_]++;if(fw!=0){e8.push(fw);jt+=fw}}for(var Y=1;Y<e8.length;Y++){var f_=e8[Y];if(f_<16&&(e8[Y-1]<16||Y<e8.length-1&&16<=e8[Y+1])){e8[Y-1]+=f_;
e8.splice(Y,1);Y--}}var hZ=[],cL=new io(0,0,G.j,G._);for(var Y=0;Y<G.R.length;Y++){hZ[Y]=G.R[Y].yY();
G.R[Y].lW(!1)}var ha=G.T.slice(0);G.T=f2;var iu=G.bZ();iu.sort(function(U,jM){return U-jM});var en=[];
for(var Y=0;Y<G.R.length;Y++){if(iu.indexOf(Y)==-1)en.push(G.R[Y])}cw.sort(function(U,jM){return U[3]-jM[3]});
function km(fO,dM){var Y=0,a1=0;while(a1+fO[Y]<=dM){a1+=fO[Y];Y++}return Y}jt=0;en.splice(iu[0],0,G.b2());
for(var hK=0;hK<e8.length;hK++){var Z=[];for(var Y=0;Y<cw.length;Y++){var eX=km(cw[Y][1],jt)%cw[Y][0].length,M=cw[Y][0][eX];
Z.push(M)}var M=G.Cx();for(var Y=0;Y<cw.length;Y++){var iL=Z[Y],az=G.R[f2[Y]];iL.lW(!0);az.lW(!0)}G.c();
G.lJ();var jm=G.Nw();M.rect=e.Qn(jm,cL,2);M.buffer=e.U(M.rect.X()*4);e.JE(jm,cL,M.buffer,M.rect);for(var Y=0;
Y<cw.length;Y++){var iL=Z[Y],az=G.R[f2[Y]];iL.lW(!1);az.lW(!1)}M.lW(hK==0);M.cb("_a_frm"+hK+","+e8[hK]);
en.splice(iu[0]+1+hK,0,M);jt+=e8[hK]}var M=G.Cx();M.cb(ah.join(" + "));M.Am="pass";M.add.lsct=c1.N_;
M.Xp=24;en.splice(iu[0]+1+e8.length,0,M);for(var Y=0;Y<G.R.length;Y++)G.R[Y].lW(hZ[Y]);var U=new eN([6,12,0],this);
U.data={q:C.op,zo:G.R,tG:en,KO:ha,e2:[iu[0]+1+e8.length]};G.vU(U);this.uF(U.data,G)}if(j==C._e||j==C.oB){var e9=G.T.length==1&&!G.R[G.T[0]].fu(),gi=!0,f5=null,b1;
if(e9&&G.T[0]==0)return;var gs=G.R.slice(0),ka=G.T.slice(0);if(e9)G.T=[s,s-1];if(j==C.oB){G.T=[];for(var Y=0;
Y<G.R.length;Y++)if(G.R[Y].yY())G.T.push(Y)}var ao=G.bZ();ao.sort(function(U,jM){return U-jM});var fr=new io,cL=new io(0,0,G.j,G._);
for(var Y=0;Y<ao.length;Y++){var $=ao[Y],M=G.R[$];if(M.fu()||M.getName()=="</Layer group>")continue;
gi=gi&&M._5()&&M.add.vmsk!=null;fr=fr.gJ(G.root.DE($).Ki(G,!0))}if(b.ym!=null&&!gi){alert("Select shape layers only.");
return}if(gi){var bj=null,cq=b.ym;for(var Y=0;Y<ao.length;Y++){var S=G.R[ao[Y]];if(S.rect.X()==0)continue;
if(f5==null){f5=S.clone();bj=f5.add.vmsk}else{var S=G.R[ao[Y]],aD=C.cW.O6(S.add.vmsk.d);if(cq!=null)for(var ds=0;
ds<aD.length;ds++)if(aD[ds].Vj!=null&&aD[ds].Vj!=-1)aD[ds].Vj=[1,2,3,0][cq];bj.d=bj.d.concat(aD.slice(2));
f5.add.vogk=f5.add.vogk.concat(JSON.parse(JSON.stringify(S.add.vogk)))}}f5.add.vmsk.GD=!0;f5.vw(G)}else if(cL.ku(fr)){f5=G.Cx();
f5.cb(G.R[ao[ao.length-1]].getName());f5.rect=fr;f5.buffer=e.U(fr.X()*4);var hz=G.add.artd;delete G.add.artd;
var d2=G.Nw(ao);if(hz)G.add.artd=hz;e.JE(d2,cL,f5.buffer,fr);f5.r6();f5.c()}else{G.arH(ao,!0);f5=G.R[G.T[0]];
G.R.splice(G.T[0],1);var jO=G.WC(f5.add.SoLd.Idnt.v);G.add.lnk2.splice(G.add.lnk2.indexOf(jO),1);delete f5.add.SoLd}var jV=Q,iB=-1;
if(b.yo&&b.yo.Dplc&&b.yo.Dplc.v)jV=!0;if(jV&&j==C.oB&&ka.length!=0&&G.R[ka[0]].P4()&&G.R[ka[0]].rect.Zx()){iB=ka[0]}if(iB!=-1||e9){var ig=G.R[iB!=-1?iB:s-1];
f5.cb(ig.getName());f5.add.lclr=ig.add.lclr}var en=[];for(var Y=0;Y<G.R.length;Y++)if(jV||ao.indexOf(Y)==-1)if(Y!=iB)en.push(G.R[Y]);
var ad=ao[ao.length-1],iP=ad==G.R.length-1?null:G.R[ad+1],gl=iP?en.indexOf(iP):en.length;en.splice(gl,0,f5);
b1=[gl];var U=new eN([6,12,0],this);U.data={q:C.op,zo:gs,tG:en,KO:ka,e2:b1};G.vU(U);this.uF(U.data,G)}if(j==C.alg){var av=G.Cx();
av.rect=new io(0,0,G.j,G._);av.buffer=e.U(av.rect.X()*4);e.Zi(av.buffer,4294967295);e.z.Nm("norm",G.Nw(),av.rect,av.buffer,av.rect,av.rect,1);
av.cb("Background");av.add.lspf=1<<2;var U=new eN([6,12,1],this);U.data={q:C.op,zo:G.R.slice(),tG:[av],KO:G.T.slice(0),e2:[0]};
G.vU(U);this.uF(U.data,G)}var kJ=j==C.P_||j==C.KJ;if(j==C.Wf||j==C.TZ||j==C.OW||j==C.W5||kJ){var M=kJ?G.LZ()[0]:G.Cx(),kf=bp.get([0,3]),gP=b.f0,k9=!1,fY,ab;
if(j==C.OW)kf=bp.get([12,76,1]);if(kJ){if(G.e){var ba=G.R[G.T[0]],kt=ba.tP(G,G.e);if(kt==null){alert("Copied area is empty");
return}M.rect=kt.rect;M.buffer=kt.VN;M.vH(G);M.lW(!0)}else gP=M.getName();M.add.lspf=0;M.wi=!1;if((M.Xp&1)!=0)M.Xp--}if(j==C.W5){M.rect=E.lk.apP(b.Ny,G);
M.buffer=b.Ny.buffer.slice(0);if(b.a62&&G.e){M.u=new C.Tc;M.u.rect=G.e.rect;M.u.color=0;M.u.channel=G.e.channel.slice(0)}}if(j==C.Wf){this.track({f6:"make",yo:{classID:"Mk",null:aX.eP("Lyr")}})}if(j==C.TZ){M.Xp|=16;
var dY=b.yo.Usng.v,iK=dY.Type.v,fQ=eZ.Vl[iK.classID];kf=bp.get(eZ.names[fQ]);if(dY.Nm)gP=dY.Nm.v;M.add[fQ]=gY.Az(fQ);
if(M.add[fQ]==null)M.add[fQ]={};for(var jF in iK)M.add[fQ][jF]=JSON.parse(JSON.stringify(iK[jF]));M.u=E.lk.axU(G);
M.nD=1}if(j==C.OW){M.Xp|=16;var kL=b.yo,dY=kL.Usng.v,gE=dY.Type.v,gj=dY.Shp;if(dY.Nm)gP=dY.Nm.v;if(gj==null){var dF=G.wV(),fs=dF[0],bw=dF[1];
if(bw.length!=0&&fs[bw[0]].V9<0){var ii=fs[bw[0]].add;M.add.vmsk=ii.vmsk.clone();M.add.vstk=dE.QA.Az(!0);
M.add.vogk=JSON.parse(JSON.stringify(ii.vogk));G.xe=[]}else M.u=E.lk.axU(G)}else{M.add.vmsk=new C.cW;
M.add.vstk=JSON.parse(JSON.stringify(dY.strokeStyle?dY.strokeStyle.v:dE.QA.Az(!0)));M.add.vogk=[];if(gj){var aF=e.Bs.KR(gj);
if(aF){M.add.vogk=[aF];M.add.vmsk.d.push({type:0,Vj:1,length:0});e.Bs.CG(M.add.vogk,M.add.vmsk)}else{gj=gj.v;
var be=gj.classID;if(be=="Plgn"){var hk=gj.Cntr.v,de=gj.corner.v;hk=new cJ(hk.Hrzn.v.val,hk.Vrtc.v.val);
de=new cJ(de.Hrzn.v.val,de.Vrtc.v.val);M.add.vmsk.d=e.n.NT.hD(hk.x,hk.y,Math.sqrt(de.x*de.x+de.y*de.y),Math.atan2(de.y,de.x),gj.sides.v,0)}else if(be=="customShape"){var gz=e.Bs.sj(gj),bT=gz[2]-gz[0],iF=gz[3]-gz[1],gB=B.Co,bC,hu;
for(var Y=0;Y<gB.length;Y++)if(gB[Y].Mn==gj.Nm.v)bC=gB[Y];if(bC){hu=C.cW.O6(bC.d);e.n.Gl(hu,new eq(bT,0,0,iF,gz[0],gz[1]))}else hu=e.n.NT.Rect(gz[0],gz[1],bT,iF,0);
M.add.vmsk.d=hu}M.AA()}}}if(fq==0){var gA={solidColorLayer:0,gradientLayer:1,patternLayer:2}[gE.classID],aj=["SoCo","GdFl","PtFl"][gA];
M.add[aj]=JSON.parse(JSON.stringify(dE.td[gA]));if(gA==0)M.add[aj].Clr.v=e.F.t1(e.M5(B.nU));E.lk.to(gE,M.add[aj],gA);
if(gj==null)kf=bp.get([6,48,0,gA]);if(aj=="PtFl"){var eG=M.add[aj].Ptrn.v,hO=eQ.E1(eG,B.hK);if(hO==null)hO=eQ.E1(eG,G.add.Patt);
eG.Idnt.v=hO.id;G.lN(hO)}M.vw(G)}else{M.add.vstl=JSON.parse(JSON.stringify(B.a0$))}}var bD=E.lk.Z7(G,kf+" ");
M.cb(kf+" "+(bD+1));if(gP)M.cb(gP);var dq=G.T.length==0?G.R.length-1:G.T[G.T.length-1],bB=G.R[dq];if(fq==0&&j==C.OW&&bB.P4()&&bB.rect.Zx()){k9=!0;
M.cb(bB.getName());fY=dq}else{fY=dq+(j==C.Wf&&l&&!a?0:1);if(bB&&bB.add.lsct==c1.$I)fY--}if(b.ai6)fY=Math.max(0,fY-1);
var en=G.R.slice(0);if(j==C.KJ){var dB=en[G.T[0]]=en[G.T[0]].clone(),gS=G.e.channel.slice(0);e.Q6(gS);
e.Iq(gS,G.e.rect,dB.buffer,dB.rect)}en.splice(fY,k9?1:0,M);var ex=[5,2];if(j==C.Wf)ex=[6,13];if(j==C.TZ)ex=[6,1];
if(j==C.OW){ex=[6,48,1];var gj=b.yo.Usng.v.Shp;if(gj){var dw={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[gj.v.classID];
if(dw)ex=dw}}if(kJ){ex=[6,49,j==C.P_?0:1]}if(kJ||j==C.OW||j==C.W5||j==C.TZ)if(G.e)ab=[G.e,null];var U=new eN(ex,this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[fY],WZ:ab};G.vU(U);this.uF(U.data,G);if(j==C.OW&&gj==null&&gA!=0||j==C.TZ){var n=new hb(w.E.b);
n.data={q:w.p.tb,ut:jd.nI.HH};h.Q(n)}}if(j==C.ah9){var en=G.R.slice(0),M=G.R[G.T[0]],bd=M.rect.X(),f9=bd*4,e$=en.indexOf(M),ig=G.Cx();
ig.cb("Decomposition");ig.add.lsct=c1.$I;ig.Am="pass";ig.Xp=24;en.splice(e$+1,0,ig);en.splice(e$+1,0,G.b2());
var hY=M.clone();hY.cb("Residual");en.splice(e$+2,0,hY);function fw(U,jM,Y){jM[Y]+=128-U[Y];jM[Y+1]+=128-U[Y+1];
jM[Y+2]+=128-U[Y+2];jM[Y+4]+=128-U[Y+4];jM[Y+5]+=128-U[Y+5];jM[Y+6]+=128-U[Y+6]}en.splice(e$,0);var kv=Date.now();
for(var i8=0;i8<5;i8++){var js=hY.clone();en.splice(e$+3,0,js);js.opacity=128;js.Am="lLit";js.cb("Scale "+(i8+1));
gY.oS(1<<i8,e.Zt.lC,hY.buffer,M.rect);var gz=hY.buffer,kk=new Uint8ClampedArray(js.buffer.buffer);for(var Y=0;
Y<f9;Y+=8)fw(gz,kk,Y)}var U=new eN("Wavelet Decompose",this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[e$+2]};
G.vU(U);this.uF(U.data,G)}if(j==C.mI){var M=G.Cx(),kf=bp.get([0,4]),bD=E.lk.Z7(G,kf+" ");M.cb(kf+" "+(bD+1));
M.Am="pass";M.add.lsct=c1.$I;M.Xp=24;if(b.f0)M.cb(b.f0);if(b.On!=null)M.add.lclr=b.On;var iW=G.b2(),dq=s,fY=dq+(l?0:1),en=G.R.slice(0);
en.splice(fY,0,iW,M);var U=new eN([6,20],this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[fY+1]};
G.vU(U);this.uF(U.data,G)}if(j==C.pQ||j==C.EN){var iN=j==C.pQ?b.source:G.T[0],ey,g3,b$=G.T.indexOf(iN)!=-1,iV=Q|b.a3A,cF,fw=null;
if(b$)cF=G.bZ();else cF=G.Xe(iN);cF.sort(function(U,jM){return U-jM});if(j==C.pQ){ey=b.target;g3=b.ng>.5}else if(b.target!=null){ey=Math.min(b.target,G.R.length-1);
g3=b.target<G.R.length;G.fH=!0}else{var kF=b.DF;g3=kF>1;if(kF==0){ey=G.R.length-1}if(kF==1){ey=cF[cF.length-1]+1;
var S=G.Xe(ey);if(S.indexOf(iN)==-1)ey+=S.length-1}if(kF==2){ey=cF[0]-1;var S=G.Xe(ey);if(S.indexOf(iN)==-1)ey-=S.length-1}if(kF==3){ey=0;
if(G.R[0].add.lnsr=="bgnd")ey++}if(ey<0||ey>G.R.length-1)return;G.fH=!0}if(cF.indexOf(ey)!=-1&&!iV)return;
var aU=E.lk.HY(G,cF,ey,g3,iV?G.LZ(b$?null:iN):null,j==C.pQ&&b.ng>.8),aK=aU.pop(),fa=aU.pop(),en=aU.pop(),eO=G.T;
G.T=[iN];var dm=G.t2();G.T=[ey];var jZ=G.t2();if(jZ==ey&&!g3)jZ=-1;G.T=eO;if(iN==dm){}else if(dm!=jZ){var fw=new cJ(0,0);
if(dm!=-1){var kw=G.R[dm].Ey();fw.x-=kw.x;fw.y-=kw.y}if(jZ!=-1){var kw=G.R[jZ].Ey();fw.x+=kw.x;fw.y+=kw.y}}var U=new eN(iV?[6,0]:[6,35],this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:fa,jX:fw};G.vU(U);this.uF(U.data,G);var kL={classID:"move",null:aX.eP("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:aK+(g3?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:iV}};
this.track({f6:"move",yo:kL})}if(j==C.Qp){var bB=b.Sz;if(b.ZM){if(q==null||!q.fu())return;var x=G.root.DE(s),iR=G.R.indexOf(x.mW),en=G.R.slice(0);
en.splice(s,1);en.splice(iR,1);var fa=[];for(var Y=iR;Y<s-1;Y++)fa.push(Y);if(bB){var cb=s-2;en[cb]=en[cb].clone();
en[cb].Sz=!1}var U=new eN(bB?[6,6,0]:"Ungroup Layers",this);U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:fa};
G.vU(U);this.uF(U.data,G)}else{var M=G.Cx(),jr=bp.get([0,4])+" ";M.cb(jr+(E.lk.Z7(G,jr)+1));M.Am="pass";
if(bB){if(G.T.length==1){alert("Select more than one layer for a clipping group.");return}M.cb("<Clip Group>")}if(b.f0)M.cb(b.f0);
if(b.On!=null)M.add.lclr=b.On;M.add.lsct=G.T.length==1?c1.$I:c1.N_;M.Xp=24;var iW=G.b2(),cF=G.bZ();if(cF.length==0)return;
cF.sort(function(U,jM){return U-jM});var en=[];for(var Y=0;Y<G.R.length;Y++)if(cF.indexOf(Y)==-1)en.push(G.R[Y]);
var dq=G.T[G.T.length-1]-cF.length;en.splice(dq+1,0,iW);for(var Y=0;Y<cF.length;Y++)en.splice(dq+2+Y,0,G.R[cF[Y]]);
en.splice(dq+2+cF.length,0,M);if(bB){var cb=dq+cF.length+1;en[cb]=en[cb].clone();en[cb].Sz=!0}var U=new eN(bB?[6,6,0]:[6,9],this);
U.data={q:C.op,zo:G.R.slice(0),tG:en,KO:G.T.slice(0),e2:[en.indexOf(M)]};G.vU(U);this.uF(U.data,G);var o={f6:"make",NJ:!0};
o.yo={classID:"Mk",null:aX.eP("layerSection"),From:aX.eP("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:M.getName()}}}};
this.track(o)}}if(j==C.a3i){if(G.T.length!=1)return;var O=G.T[0],hC=Q;if(G.R[O].Y1()==null&&!H.W(ap.zb)){j=C.k5;
b.vX=G.e?!hC?"RvlS":"HdSl":!hC?"RvlA":"HdAl"}else{j=C.u4;b.av0=!0}}if(j==C.k5){if(G.T.length!=1)return;
var O=G.T[0],M=G.R[O];if(M.add.vmsk&&M.u==null)M.vw(G);var an=M.Y1();if(an==null||b.aaZ){var U=new eN(b.f0?b.f0:[6,21],this),kx=new C.Tc,bo=b.vX,go=bo=="RvlS"||bo=="HdSl";
if(bo=="RvlS"||bo=="HdAl"||bo=="Trns")kx.color=0;if(go){kx.channel=G.e.channel.slice(0);kx.rect=G.e.rect.clone();
if(bo=="HdSl")e.Q6(kx.channel)}if(bo=="Trns"){kx.rect=M.rect.clone();kx.channel=e.U(M.rect.X());e.uA(M.buffer,kx.channel,3)}U.data={q:C.li,IU:[O,an,kx],WZ:go?[G.e,null]:null,ama:bo=="Trns"};
G.vU(U);this.uF(U.data,G);G.R[O].nD=1;this.track({f6:"make",yo:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:bo}}}})}}else if(j==C.aft){var cx=G.R[b.src],hP=G.R[b.rA],U=new eN([6,21],this),gm=cx.Y1(),ag=hP.Y1(),eC=[b.src,gm,null,b.rA,ag,gm];
if(Q||a){var cA=gm.clone();if(Q)eC=[b.rA,ag,cA];else eC[5]=cA;if(a){e.Q6(cA.channel);cA.color=255-cA.color}}U.data={q:C.li,IU:eC};
G.vU(U);this.uF(U.data,G)}if(j==C.PU){if(G.T.length!=1)return;var O=s,a4=G.R[O].Y1();if(a4!=null){var U=new eN([6,22],this);
U.data={q:C.li,IU:[s,a4,null]};G.vU(U);this.uF(U.data,G)}}if(j==C.qL){var gs=G.R.slice(0),av=q.clone(),gF=av.Y1();
e.Iq(gF.tn(av.rect),av.rect,av.buffer,av.rect);E.lk.R0(G,av);av.r6();G.R[G.T[0]]=av;var U=new eN([5,8],this);
U.data={q:C.op,zo:gs,tG:G.R.slice(),KO:G.T.slice(0),e2:G.T.slice(0)};G.vU(U);this.uF(U.data,G)}if(j==C.jz){if(G.T.length!=1)return;
var O=G.T[0];if(G.R[O].T0(G).u==null){var U=new eN([6,45],this);U.data={q:j,o:O,u:new C.Tc};G.vU(U);
this.uF(U.data,G)}}if(j==C.cU){if(G.T.length!=1)return;var O=G.T[0];if(G.R[O].T0(G).u!=null){var U=new eN([6,46],this);
U.data={q:j,o:O,u:G.R[O].T0(G).u};G.vU(U);this.uF(U.data,G)}}if(j==C.R_){if(b.src==null&&G.T.length!=1)return;
if(b.src!=null)s=b.src;if(G.R[s].Ag()){var U=new eN([6,47],this),ee=JSON.stringify(G.R[s].add.SoLd),b4=JSON.parse(ee);
delete b4.filterFX;U.data={q:C.Th,cz:[{zj:s,bc:[ee,JSON.stringify(b4)],zB:[G.R[s].T0(G),null]}]};G.vU(U);
this.uF(U.data,G)}}if(j==C.u4){if(G.T.length!=1)return;if(q.add.vmsk==null){var U=new eN([6,23],this),eM=G.wV(),hh=eM[1],eM=eM[0],kx,aF;
if(b.av0&&hh.length!=0){var ii=eM[hh[0]].add;kx=ii.vmsk.clone();aF=ii.vogk}else{kx=new C.cW;aF=[];kx.d[1].all=b.Qc?0:1}U.data={q:j,o:s,WX:!0,u:kx,Bs:JSON.stringify(aF),QA:null};
if(q._5()){U.data.QA=Stroke.QA.Az(!0)}G.vU(U);this.uF(U.data,G)}}if(j==C.St){var cx=G.R[b.src],hP=G.R[b.rA];
if(hP.add.vmsk)return;var U=new eN([6,23],this),bj=cx.add.vmsk;U.data={o:b.rA,WX:cx.ZB,u:bj.clone(),Bs:JSON.stringify(cx.add.vogk),QA:cx.add.vstk?JSON.stringify(cx.add.vstk):null};
if(Q){U.data.q=C.u4}else{U.data.q=j;U.data.src=b.src;U.data.rA=b.rA}G.vU(U);this.uF(U.data,G)}if(j==C.Wc||j==C.c6){if(G.T.length!=1)return;
var M=G.R[s],bj=M.add.vmsk;if(bj!=null){var bl=j==C.c6,U=new eN(bl?[6,8]:[6,24],this);U.data={q:C.Wc,o:s,WX:M.ZB,u:bj,Bs:JSON.stringify(M.add.vogk),QA:M.add.vstk?JSON.stringify(M.add.vstk):null};
if(bl){U.data.Sb=bj.Y1(M.add.vstk);U.data.Sb.NY=!1}G.vU(U);this.uF(U.data,G)}}if(j==C.n2){var U=new eN("Metadata",this);
U.data={q:j,IO:JSON.stringify(G.wp),oF:JSON.stringify(b.oF)};G.vU(U);this.uF(U.data,G)}if(j==C.as){var j5=b.rA?b.rA:G,jY=j5.name,gP=b.P+".psd";
if(jY==gP)return;var U=new eN([6,37],this);U.data={q:j,a4P:jY,f0:gP};if(b.arU!=!0)j5.vU(U);this.uF(U.data,j5)}if(j==C.q$&&b.DF.endsWith("makeframes")){var ck=[],kQ=b.DF.startsWith("make");
for(var Y=0;Y<G.T.length;Y++){var $=G.T[Y],M=G.R[$],dz=M.getName(),cs=dz.startsWith("_a_");if(kQ==cs||M.add.lsct==c1.cH)continue;
var iy=kQ?"_a_"+dz:dz.slice(3);ck.push([$,dz,iy,M.add.lnsr,null])}var U=new eN([6,37],this);U.data={q:C.Ti,CI:ck};
G.vU(U);this.uF(U.data,G)}if(j==C.Ti){var jY=q.getName(),gP=b.name.substring(0,255);if(jY==gP)return;
var U=new eN([6,37],this);U.data={q:j,CI:[[s,jY,gP,q.add.lnsr,null]]};G.vU(U);this.uF(U.data,G);this.track(aX.Sg("Nm",{t:"TEXT",v:gP}))}if(j==C.iE){var gG=G.bZ(),hv=[],cy=[];
for(var Y=0;Y<gG.length;Y++){hv.push(G.R[gG[Y]].add.lclr);cy.push(b.aDN)}var U=new eN([6,38],this);U.data={q:j,R:gG,a1L:hv,On:cy};
G.vU(U);this.uF(U.data,G)}if(j==C.d_){var U=G.history[G.Wt];if(U!=null&&U.S==this&&U.data.q==j&&U.data.o==b.UO&&U.data.bq.ib==b.Fc.ib)U.data.bq=b.Fc;
else{U=new eN("Mask Density / Feather",this);U.data={q:j,o:b.UO,Wy:G.R[b.UO].XI(b.Fc.ib),bq:b.Fc};G.vU(U)}this.uF(U.data,G)}if(j==C.XJ){var jD=JSON.stringify(b.P),jX=JSON.parse(jD),U=G.history[G.Wt];
if(U!=null&&U.S==this&&U.data.q==j&&U.data.OI==b.OI&&U.data.UQ.join(",")==b.UQ.join(",")){for(var Y=0;
Y<b.UQ.length;Y++)U.data.PZ[Y]=jX;if(U.data.yo&&jX.Z_!=0)E.lk.to(jX.Tf,U.data.yo.T.v,jX.Z_-1)}else{U=new eN([11,6],this);
U.data={q:j,UQ:b.UQ,OI:b.OI,ahJ:[],PZ:[]};var iw=!1;for(var Y=0;Y<b.UQ.length;Y++){var $=b.UQ[Y],M=G.R[$],hj=b.OI?dE.Y3(M.add):JSON.parse(JSON.stringify(M.add.vstk));
U.data.ahJ.push(hj);U.data.PZ.push(jX);if(JSON.stringify(hj)!=jD)iw=!0}if(!iw)return;G.vU(U);if(b.OI&&jX.Z_>0){var kL=U.data.yo={classID:"setd",null:aX.eP("contentLayer",!0),T:{t:"Objc",v:{}}};
E.lk.to(jX.Tf,kL.T.v,jX.Z_-1);this.track({f6:"set",yo:kL})}}if(b.OI&&jX.Z_==3)G.lN(eQ.E1(jX.Tf.Ptrn.v,B.hK));
if(!b.OI){var i4=jX.strokeStyleContent.v;if(i4.classID==dE.QA.kR[2])G.lN(eQ.E1(i4.Ptrn.v,B.hK))}this.uF(U.data,G)}if(j==C.ck){var ge=B.a6,gw=[];
for(var Y=0;Y<G.T.length;Y++){var $=G.T[Y],M=G.R[$],eD=M.add.vstl;if(eD==null)continue;var hj=JSON.stringify(eD);
for(var cL in ge)eD[cL]=ge[cL];var jX=JSON.stringify(eD);if(hj==jX)continue;gw.push([$,hj,jX])}if(gw.length!=0){var K=G.vc();
if(K&&K.S==this&&K.data.q==j&&K.data.f3.length==gw.length){var dH=!0;for(var Y=0;Y<gw.length;Y++)if(gw[Y][0]!=K.data.f3[Y][0])dH=!1;
if(dH){for(var Y=0;Y<gw.length;Y++)K.data.f3[Y][2]=gw[Y][2];G.c();return}}var U=new eN("Style Change",this);
U.data={q:j,f3:gw};G.vU(U);G.c()}}};E.lk.HY=function(b,h,G,H,B,j){var s=b.R[G],q=[];if(B)q=b.R.slice(0);
else for(var Y=0;Y<b.R.length;Y++)if(h.indexOf(Y)==-1)q.push(b.R[Y]);var Q=q.indexOf(s);if(j&&s.fu()&&s.add.lsct==c1.N_)Q-=b.Xe(G).length-1;
var a=[];for(var Y=0;Y<h.length;Y++){var l=Q+(H?0:1)+Y,U=B?B[Y]:b.R[h[Y]];q.splice(l,0,U);a.push(l)}return[q,a,Q]};
E.lk.to=function(b,h,G){var H=[dE.L1,dE.WH,dE.aa][G];if(h.classID==null)h.classID=["solidColorLayer","gradientLayer","patternLayer"][G];
for(var Y=0;Y<H.length;Y++)if(b[H[Y]])h[H[Y]]=JSON.parse(JSON.stringify(b[H[Y]]))};E.lk.axU=function(b){var h=new C.Tc;
if(b.e!=null){h.color=0;h.channel=b.e.channel.slice(0);h.rect=b.e.rect.clone()}return h};E.lk.dA=function(b,h,G,H,B){var j=H.j/G.j,s=H._/G._,q=H.j/2,Q=H._/2,a=e.N.Q0(H).m;
for(var Y=0;Y<b.R.length;Y++){var l=b.R[Y],U=l.add.SoLd;if(U==null||U.Idnt.v!=h)continue;var N=j!=1||s!=1;
if(N){var R=E.Y.DM(U.nonAffineTransform),S=e.t.Kt(R,H),g=new eq;g.translate(-q,-Q);g.scale(j,s);g.translate(q,Q);
var i=e.t.Z$(S,e.t.UE(g)),y=a.slice(0);e.t.h(i,y);U.Trnf=E.Y.Ll(y);U.nonAffineTransform=E.Y.Ll(y);if(e.hC.lv(U.quiltWarp.v)){var o=U.quiltWarp.v.bounds.v;
o.Rght.v.val=H.j;o.Btom.v.val=H._}}l.gE(b,null,B,!N)}b.c()};E.lk.auX=function(b,h,G){h.color=255-h.color;
e.Q6(h.channel);h.GD=!0;b.vw(G);G.c()};E.lk.prototype.sv=function(b,h){var G=b.q,H=h.R[b.o];h.P6=!0;
if(G==C.qX){h.add.lnk2.splice(h.add.lnk2.indexOf(b.z7),1,b.oK);E.lk.dA(h,b.id,b.z7.P0[1],b.oK.P0[1])}if(G==C.se){H.add.SoLd.Impr.v.classID=b.Wy;
H.gE(h)}if(G==C.Ud){var B=JSON.parse(b.UQ);for(var Y=0;Y<B.length;Y++)h.R[B[Y]].Am=b.vY[Y];h.c()}if(G==C.iY){var B=JSON.parse(b.UQ);
for(var Y=0;Y<B.length;Y++)h.R[B[Y]].opacity=b.vY[Y];h.c()}if(G==C.NN){var B=JSON.parse(b.UQ);for(var Y=0;
Y<B.length;Y++)if(h.R[B[Y]].add.lsct!=c1.cH)h.R[B[Y]].add.lspf=b.vY[Y]}if(G==C._3){var j=b.VW,s=b.aqJ;
delete H.add[j[0]];if(s[0]!="----")H.add[s[0]]=s[1]}if(G==C.FE){H.add.iOpa=b.vY;h.c()}if(G==C.LX){for(var Y=0;
Y<b.UQ.length;Y++){var q=h.R[b.UQ[Y]];q.lW(!q.yY())}h.c()}if(G==C.TL){var Q=H.Y1();Q.isEnabled=!Q.isEnabled;
H.vw(h);h.c()}if(G==C.$R){var Q=H.T0(h).u;Q.isEnabled=!Q.isEnabled;H.c();h.c()}if(G==C.$P){var Q=H.add.vmsk;
Q.isEnabled=!Q.isEnabled;if(!Q.isEnabled){if(H.Sb){H.u=H.Sb;H.Sb=null}else H.u=null}else if(H.u){H.Sb=H.u;
H.u=null}H.vw(h);h.c()}if(G==C.iy){H.wi=!H.wi;h.c()}if(G==C.fb){H.add.lmfx.masterFXSwitch.v=!H.add.lmfx.masterFXSwitch.v;
H.Z5.cq=!0;h.c()}if(G==C.oA){H.add.SoLd.filterFX.v.enab.v=!H.add.SoLd.filterFX.v.enab.v;H.O3(h);h.c()}if(G==C.kl){var a=b.index,l=H.add.lmfx[dE.CM[a[0]]].v[a[1]].v;
l.enab.v=!l.enab.v;H.Z5.cq=!0;h.c()}if(G==C.Dv){var U=h.R[b.fX],N=h.R[b.ED],R=b.a4f,S=b.ak$;if(R=="")delete U.add.lmfx;
else U.add.lmfx=JSON.parse(R);if(S=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(S);U.Z5.cq=!0;N.Z5.cq=!0;
h.c()}if(G==C.K9){var g=H.add.SoLd.filterFX.v.filterFXList.v[b.index].v;g.enab.v=!g.enab.v;H.O3(h);h.c()}if(G==C.alP){H.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(b.aga));
H.O3(h);h.c()}if(G==C.Wi){var Q=H.Y1();Q.lc=!Q.lc}if(G==C.s6){var Q=H.add.vmsk;Q.lc=!Q.lc}if(G==C._x){var i=JSON.parse(b.ahQ);
h.W7=i[0];h.xC=i[1]}if(G==C.UH){var i=b.sg;for(var Y=0;Y<i.length;Y+=2){var y=i[Y],q=y>=0?h.R[y]:h.N6[-1-y];
q.add.vogk=JSON.parse(i[Y+1]);e.Bs.CG(q.add.vogk,q.add.vmsk);if(y>=0)q.vw(h)}h.c()}if(G==C.fp){H.add.artb=JSON.parse(b.at7);
h.c();E.w8.qR(h,b)}if(G==C.XG){h.e=b.QU;if(b.a4H)h.s.M=b.a4H.slice(0);h.$B=b.sg.slice(0);h.ql=b.L5.slice(0);
h.qV=h.Jg=!0}if(G==C.km){H.T4=!H.T4}if(G==C.Bx){var o=b.ayD;for(var Y=0;Y<o.length;Y++)h.R[Y].VF=o[Y]}if(G==C.op){if(b.jX)E.uW.a5(h,h.T,null,-b.jX.x,-b.jX.y);
if(b.KO)h.T=b.KO;if(b.WZ)h.e=b.WZ[0];h.mS=null;h.c();E.w8.qR(h,b);h.Rf(b.zo);if(b.P3)h.VK(b.P3[0])}if(G==C.li){for(var Y=0;
Y<b.IU.length;Y+=3)E.lk.R0(h,h.R[b.IU[Y]],b.IU[Y+1]);if(b.WZ){var v=b.WZ[0];if(v==null)delete h.e;else h.e=v}if(b.ama){var q=h.R[b.IU[0]];
e.aj(b.IU[2].channel,q.buffer,3)}}if(G==C.jz){H.T0(h).u=null;H.c();h.c()}if(G==C.cU){H.T0(h).u=b.u;H.c();
h.c()}if(G==C.Th){E.lk.acM(h,b.cz,0)}if(G==C.u4){E.lk.Ld(h,H,!0)}if(G==C.St){E.lk.Ld(h,h.R[b.rA],b.u.isEnabled);
E.lk.BG(h,h.R[b.src],b)}if(G==C.Wc){if(b.Sb)E.lk.R0(h,H,null);E.lk.BG(h,H,b)}if(G==C.n2){h.wp=JSON.parse(b.IO)}if(G==C.as){h.name=b.a4P}if(G==C.Ti){for(var Y=0;
Y<b.CI.length;Y++){var Z=b.CI[Y],q=h.R[Z[0]];q.cb(Z[1]);if(Z[3])q.add.lnsr=Z[3];else delete q.add.lnsr}}if(G==C.iE){for(var Y=0;
Y<b.R.length;Y++)h.R[b.R[Y]].add.lclr=b.a1L[Y]}if(G==C.XJ){var W=b.ahJ;for(var Y=0;Y<b.UQ.length;Y++){var q=h.R[b.UQ[Y]],d=W[Y];
if(!b.OI)q.add.vstk=JSON.parse(JSON.stringify(d));else dE.$M(q.add,JSON.parse(JSON.stringify(d)));q.eA(h)}h.c()}if(G==C.ck){for(var Y=0;
Y<b.f3.length;Y++){var $=b.f3[Y];h.R[$[0]].add.vstl=JSON.parse($[1])}h.c()}if(G==C.d_){H.a2U(b.Wy);H.vw(h);
h.c()}h.Jg=!0};E.lk.prototype.uF=function(b,h){var G=b.q,H=h.R[b.o];h.P6=!0;if(G==C.qX){h.add.lnk2.splice(h.add.lnk2.indexOf(b.oK),1,b.z7);
E.lk.dA(h,b.id,b.oK.P0[1],b.z7.P0[1])}if(G==C.se){H.add.SoLd.Impr.v.classID=b.bq;H.gE(h)}if(G==C.Ud){var B=JSON.parse(b.UQ);
for(var Y=0;Y<B.length;Y++)h.R[B[Y]].Am=b.bq;h.c()}if(G==C.iY){var B=JSON.parse(b.UQ);for(var Y=0;Y<B.length;
Y++)h.R[B[Y]].opacity=b.bq;h.c()}if(G==C.NN){var B=JSON.parse(b.UQ);for(var Y=0;Y<B.length;Y++)if(h.R[B[Y]].add.lsct!=c1.cH)h.R[B[Y]].add.lspf=b.bq[Y]}if(G==C._3){var j=b.aqJ,s=b.VW;
delete H.add[j[0]];if(s[0]!="----")H.add[s[0]]=s[1]}if(G==C.FE){H.add.iOpa=b.bq;h.c()}if(G==C.LX){for(var Y=0;
Y<b.UQ.length;Y++){var q=h.R[b.UQ[Y]];q.lW(!q.yY())}h.c()}if(G==C.TL){var Q=H.Y1();Q.isEnabled=!Q.isEnabled;
H.vw(h);h.c()}if(G==C.$R){var Q=H.T0(h).u;Q.isEnabled=!Q.isEnabled;H.c();h.c()}if(G==C.$P){var Q=H.add.vmsk;
Q.isEnabled=!Q.isEnabled;if(!Q.isEnabled){if(H.Sb){H.u=H.Sb;H.Sb=null}else H.u=null}else if(H.u){H.Sb=H.u;
H.u=null}H.vw(h);h.c()}if(G==C.iy){H.wi=!H.wi;h.c()}if(G==C.fb){H.add.lmfx.masterFXSwitch.v=!H.add.lmfx.masterFXSwitch.v;
H.Z5.cq=!0;h.c()}if(G==C.oA){H.add.SoLd.filterFX.v.enab.v=!H.add.SoLd.filterFX.v.enab.v;H.O3(h);h.c()}if(G==C.kl){var a=b.index,l=H.add.lmfx[dE.CM[a[0]]].v[a[1]].v;
l.enab.v=!l.enab.v;H.Z5.cq=!0;h.c()}if(G==C.Dv){var U=h.R[b.fX],N=h.R[b.ED],R=b.aEA,S=b.ao8;if(R=="")delete U.add.lmfx;
else U.add.lmfx=JSON.parse(R);if(S=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(S);U.Z5.cq=!0;N.Z5.cq=!0;
h.c()}if(G==C.K9){var g=H.add.SoLd.filterFX.v.filterFXList.v[b.index].v;g.enab.v=!g.enab.v;H.O3(h);h.c()}if(G==C.alP){H.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(b.afV));
H.O3(h);h.c()}if(G==C.Wi){var Q=H.Y1();Q.lc=!Q.lc}if(G==C.s6){var Q=H.add.vmsk;Q.lc=!Q.lc}if(G==C._x){var i=JSON.parse(b.ai$);
h.W7=i[0];h.xC=i[1]}if(G==C.UH){var i=b.WO;for(var Y=0;Y<i.length;Y+=2){var y=i[Y],q=y>=0?h.R[y]:h.N6[-1-y];
q.add.vogk=JSON.parse(i[Y+1]);e.Bs.CG(q.add.vogk,q.add.vmsk);if(y>=0)q.vw(h)}h.c()}if(G==C.fp){H.add.artb=JSON.parse(b.Vu);
h.c();E.w8.Im(h,b)}if(G==C.XG){h.e=b._r;if(b.a8F)h.s.M=b.a8F.slice(0);h.$B=b.WO.slice(0);h.ql=b.gG.slice(0);
h.qV=h.Jg=!0}if(G==C.km){H.T4=!H.T4}if(G==C.Bx){var o=b.adr;for(var Y=0;Y<o.length;Y++)h.R[Y].VF=o[Y]}if(G==C.op){h.a34();
var v=b.tG,Z=0,W;for(var Y=0;Y<v.length;Y++){var q=v[Y],d=q.add.lsct;if(d==c1.cH)Z++;else if(d==c1.$I||d==c1.N_)Z--;
if(q.add.artb&&Z!=0)W="Artboards can not be inside folders."}if(W){h.history.pop();h.Wt--;alert(W);return}if(b.e2)h.T=b.e2;
if(b.WZ)h.e=b.WZ[1];h.mS=null;h.c();h.Rf(b.tG);E.w8.Im(h,b);if(b.jX)E.uW.a5(h,h.T,null,b.jX.x,b.jX.y);
if(b.P3)h.VK(b.P3[1])}if(G==C.li){for(var Y=0;Y<b.IU.length;Y+=3)E.lk.R0(h,h.R[b.IU[Y]],b.IU[Y+2]);if(b.WZ){var $=b.WZ[1];
if($==null)delete h.e;else h.e=$}if(b.ama){var q=h.R[b.IU[0]],I=q.buffer;for(var Y=0;Y<I.length;Y+=4)I[Y+3]=255}}if(G==C.jz){H.T0(h).u=b.u;
H.nD=0;H.c();h.c()}if(G==C.cU){H.T0(h).u=null;H.nD=0;H.c();h.c()}if(G==C.Th){E.lk.acM(h,b.cz,1)}if(G==C.u4){E.lk.BG(h,H,b)}if(G==C.St){E.lk.Ld(h,h.R[b.src],b.u.isEnabled);
E.lk.BG(h,h.R[b.rA],b)}if(G==C.Wc){E.lk.Ld(h,H,b.u.isEnabled);if(b.Sb)E.lk.R0(h,H,b.Sb)}if(G==C.n2){h.wp=JSON.parse(b.oF)}if(G==C.as){h.name=b.f0}if(G==C.Ti){for(var Y=0;
Y<b.CI.length;Y++){var k=b.CI[Y],q=h.R[k[0]];q.cb(k[2]);if(k[4])q.add.lnsr=k[4];else delete q.add.lnsr}}if(G==C.iE){for(var Y=0;
Y<b.R.length;Y++)h.R[b.R[Y]].add.lclr=b.On[Y]}if(G==C.XJ){var _=b.PZ;for(var Y=0;Y<b.UQ.length;Y++){var q=h.R[b.UQ[Y]],D=_[Y];
if(!b.OI)q.add.vstk=JSON.parse(JSON.stringify(D));else dE.$M(q.add,JSON.parse(JSON.stringify(D)));q.eA(h)}h.c()}if(G==C.ck){for(var Y=0;
Y<b.f3.length;Y++){var A=b.f3[Y];h.R[A[0]].add.vstl=JSON.parse(A[2])}h.c()}if(G==C.d_){H.a2U(b.bq);H.vw(h);
h.c()}h.Jg=!0};E.lk.Z7=function(b,h){var G=0;for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y].getName();if(H.startsWith(h)){var B=H.slice(h.length).trim(),j=parseInt(B);
if(!isNaN(j)&&j+""==B&&j>G)G=j}}return G};E.lk.acM=function(b,h,G){for(var Y=0;Y<h.length;Y++){var H=h[Y],B=b.R[H.zj];
if(H.bc){B.add.SoLd=JSON.parse(H.bc[G])}if(H.zB){if(H.zB[1-G]!=null)b.kw(H.zB[1-G]);if(H.zB[G]!=null)b.RJ(H.zB[G]);
else B.nD=0}B.gE(b)}};E.lk.apP=function(b,h){var G=b.aZ,H=b.rect.clone();if(G!=null&&(G.x!=h.j||G.y!=h._)){H.x=Math.floor((h.j-H.j)/2);
H.y=Math.floor((h._-H._)/2)}else if(G==null){var B=new io(0,0,h.j,h._),j=h.t2();if(j!=-1)B=h.R[j].Ey();
H.x+=B.x;H.y+=B.y}return H};E.lk.atv=function(b,h){if(h.Sb)h.Sb=null;else h.u=null;h.vw(b);b.c();h.nD=0};
E.lk.R0=function(b,h,G){var H=h.Y1();if(H==null&&G==null)return;if(H)E.lk.atv(b,h);if(G==null)return;
if(h.u)h.Sb=G;else h.u=G;h.vw(b);b.c()};E.lk.Ld=function(b,h,G){if(h.Sb&&G){h.u=h.Sb;h.Sb=null}else if(h.u&&G){h.u=null}delete h.add.vogk;
delete h.add.vstk;delete h.add.vmsk;h.vw(b);h.ZB=!1;b.mS=[];b.c()};E.lk.BG=function(b,h,G){h.add.vogk=JSON.parse(G.Bs);
if(G.QA)h.add.vstk=JSON.parse(G.QA);else delete h.add.vstk;h.add.vmsk=G.u.clone();if(h.u&&h.add.vmsk.isEnabled)h.Sb=h.u;
h.vw(b);h.ZB=G.WX;b.mS=[b.R.indexOf(h)];b.xe=[];b.c()};E.kU=function(){E.af.call(this,"Layer Styles",E._s);
this.W3=null;this.$H=null;this.i3=null;this.Qy=[];this.RE=null};E.kU.prototype=new E.af;E.kU.prototype.Jd=function(b,h,G,H,B){var j=b.o;
if(j==null)j=G.T[0];var s=G.R[j],q=b.V9;if(this.W3==null){this.i3=E.kU.Ik(G,s);this.W3=JSON.stringify(this.i3);
if(s.add.lmfx)this.$H=JSON.stringify(s.add.lmfx)}if(s.add.lmfx==null){s.add.lmfx=JSON.parse(dE.default);
for(var Y=0;Y<dE.order.length;Y++)s.add.lmfx[dE.CM[Y]]={t:"VlLs",v:[]}}if(b.q=="scaleeffects"){if(b.P=="confirm"||b.P=="cancel"){this.Jd({q:b.P},h,G,H,B);
return}s.add.lmfx=JSON.parse(this.$H);eQ.K7(s.add.lmfx,b.P/100)}else if(b.q=="changeprop"){var Q=null;
if(q!=0){var a=this.Qy[q[0]];if(a==null)a=dE.Qy[q[0]];a=JSON.parse(a);var l=s.add.lmfx[dE.CM[q[0]]].v;
if(l[q[1]]==null)l[q[1]]={t:"Objc",v:a};Q=l[q[1]].v;for(var U in a)if(Q[U]==null)Q[U]=a[U]}if(b.q=="changeprop"){if(q==0){this.i3[b.Pm].v=b.P;
E.kU.H7(G,s,this.i3)}else if(b.Pm=="lagl"){if(Q.uglg&&Q.uglg.v){G.vG(b.P.val);this.i3.gagl.v.val=G.lR()}else Q[b.Pm].v=b.P}else if(b.Pm=="Lald"){if(Q.uglg.v){G.JP(b.P.val);
this.i3.aeJ=G.dk()}else Q[b.Pm].v=b.P}else if((q[0]==3||q[0]==8)&&(b.Pm=="Clr"||b.Pm=="Grad")){if(b.Pm=="Clr"){Q.Clr={t:"Objc",v:b.P};
delete Q.Grad}if(b.Pm=="Grad"){Q.Grad={t:"Objc",v:b.P};delete Q.Clr}}else{Q[b.Pm].v=b.P}if(q!=0)this.Qy[q[0]]=JSON.stringify(Q)}if(q!=0)if(Q.Ptrn)G.lN(eQ.E1(Q.Ptrn.v,B.hK))}else if(b.q=="setstl"){var N=b.P.Lefx;
if(N)eQ.aAk(N,G,B.hK);eQ.axo(b.P,s,null,G);this.i3=E.kU.Ik(G,s)}else if(b.q=="st_dupsingle"){var R=s.add.lmfx[dE.CM[b.Zh[0]]].v;
if(R[b.Zh[1]]==null)return;var S=JSON.parse(JSON.stringify(R[b.Zh[1]]));R.splice(b.Zh[1],0,S)}else if(b.q=="st_movsingle"){var g=b.Zh[1],R=s.add.lmfx[dE.CM[b.Zh[0]]].v;
if(R[b.Zh[1]]==null)return;var i=Math.max(0,Math.min(R.length-1,g+b.au6)),y=R[i];R[i]=R[g];R[g]=y}else if(b.q=="cancel"){if(this.$H==null)delete s.add.lmfx;
else s.add.lmfx=JSON.parse(this.$H);E.kU.H7(G,s,JSON.parse(this.W3));this.W3=null;this.$H=null}else if(b.q=="confirm"){var o=JSON.stringify(s.add.lmfx),v=new eN([11,6],this);
v.data={R:[j],f2:[this.$H],jM:[o],Rh:[this.W3],Sx:[JSON.stringify(this.i3)]};G.vU(v);this.W3=null;this.$H=null;
if(o!=null){var Z=JSON.parse(o);he.E3(Z);Z.classID="Lefx";delete Z.masterFXSwitch;var W=new hb(w.E.IK);
W.G2=!0;W.data={f6:"set",NJ:!0};var d=aX.eP("Lyr",!0);d.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
W.data.yo={__name:"Set",classID:"setd",null:d,T:{t:"Objc",v:Z}};h.Q(W)}}else if(b.q=="st_copy"){this.RE=[this.W3,this.$H];
this.W3=null;this.$H=null}else if(b.q=="st_paste"||b.q=="st_clear"){if(b.q=="st_paste"&&this.RE==null)return;
var $=b.o!=null?[b.o]:G.T.slice(0),I=[],k=[],_=[],D=[];for(var Y=0;Y<$.length;Y++){var s=G.R[$[Y]],A=E.kU.Ik(G,s);
I.push(s.add.lmfx?JSON.stringify(s.add.lmfx):null);_.push(JSON.stringify(A));if(b.q=="st_paste"){k.push(this.RE[1]);
D.push(this.RE[0])}else{k.push(null);A.lrMd.v=0;A.Opct.v.val=100;A.iOpa.v.val=100;A.blIf={v:[]};for(var F=0;
F<10;F++)A.blIf.v.push(0,0,255,255);D.push(JSON.stringify(A))}}var v=new eN([11,6],this);v.data={R:$,f2:I,jM:k,Rh:_,Sx:D};
this.uF(v.data,G);G.vU(v);this.W3=null;this.$H=null}else{var K=this.i3,Z=null;if(b.q=="st_delsingle"){Z=JSON.parse(this.$H);
Z[dE.CM[b.Zh[0]]].v.splice(b.Zh[1],1);Z=JSON.stringify(Z)}if(Z==null)delete s.add.lmfx;else s.add.lmfx=JSON.parse(Z);
if(K!=null)E.kU.H7(G,s,K);var v=new eN([11,6],this);v.data={R:[b.o],f2:[this.$H],jM:[Z],Rh:[this.W3],Sx:[JSON.stringify(K)]};
G.vU(v);this.W3=null;this.$H=null}s.Z5.cq=!0;G.P6=!0;G.c()};E.kU.Ik=function(b,h){if(h.add.iOpa==null)h.add.iOpa=255;
if(h.add.brst==null)h.add.brst=[1,1,1];var G=h.fu()?["pass"].concat(aq.B5):aq.B5;return{lrMd:{v:G.indexOf(h.Am)},Opct:{v:{type:"#Prc",val:Math.round(h.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(h.add.iOpa*100/255)},t:"UntF"},blIf:{v:h.mj.slice(0)},brst:{v:h.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:b.lR()}},aeJ:b.dk(),fu:h.fu()}};
E.kU.H7=function(b,h,G){var H=h.fu()?["pass"].concat(aq.B5):aq.B5;h.Am=H[G.lrMd.v];h.opacity=Math.round(G.Opct.v.val*255/100);
h.add.iOpa=Math.round(G.iOpa.v.val*255/100);h.mj=G.blIf.v.slice(0);h.add.brst=G.brst.v.slice(0);b.vG(G.gagl.v.val);
b.JP(G.aeJ)};E.kU.prototype.sv=function(b,h){for(var Y=0;Y<b.R.length;Y++){var G=h.R[b.R[Y]],H=b.f2[Y];
if(H==null)delete G.add.lmfx;else G.add.lmfx=JSON.parse(H);E.kU.H7(h,G,JSON.parse(b.Rh[Y]));G.Z5.cq=!0}h.P6=!0;
h.c()};E.kU.prototype.uF=function(b,h){for(var Y=0;Y<b.R.length;Y++){var G=h.R[b.R[Y]],H=b.jM[Y];if(H==null)delete G.add.lmfx;
else G.add.lmfx=JSON.parse(H);E.kU.H7(h,G,JSON.parse(b.Sx[Y]));G.Z5.cq=!0}h.P6=!0;h.c()};E.jx=function(){E.af.call(this,"Layer Comps",E.To)};
E.jx.prototype=new E.af;E.jx.prototype.Jd=function(b,h,G,H){var B=JSON.parse(JSON.stringify(G.AK)),j=JSON.parse(JSON.stringify(G.AK)),s=null,q=null,Q=null,a=-1,l=!1;
if(b.q=="delLC"){var U=E.jx._Z(G.AK,b.V9),N=G.AK.lastAppliedComp?G.AK.lastAppliedComp.v:0;j.list.v.splice(U,1);
if(N==b.V9)delete j.lastAppliedComp;s="Delete Layer Comp"}if(b.q=="editLC"){var U=E.jx._Z(G.AK,b.V9),R=j.list.v[U].v;
if(b.f0!=null)R.Nm.v=b.f0;if(b.ay7!=null){var S=b.ay7,g=R.capturedInfo.v,i=g&(1<<S)-1;g=g>>S;if((g&1)==1)g--;
else g++;R.capturedInfo.v=(g<<S)+i}s="Layer Comp properties"}if(b.q=="setLC"){E.jx.Dw(G);if(b.V9==0)delete j.lastAppliedComp;
else j.lastAppliedComp={t:"long",v:b.V9};s="Switch Layer Comp";l=!0}if(b.q=="updLC"){E.jx.Dw(G);q=E.jx.amj(G,b.V9);
Q=E.jx.fG(G,b.V9);j.lastAppliedComp={t:"long",v:b.V9};s="Update Layer Comp";a=b.V9;l=!0}if(b.q=="addLC"){E.jx.Dw(G);
var y=1;for(var Y=0;Y<j.list.v.length;Y++)y=Math.max(y,j.list.v[Y].v.compID.v)+1;y+=Math.floor(Math.random()*1e4);
var o={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(j.list.v.length+1)},compID:{t:"long",v:y},capturedInfo:{t:"long",v:7}}};
j.list.v.push(o);j.lastAppliedComp={t:"long",v:y};s="New Layer Comp";var v=E.jx.fG(G,y);E.jx.Qs(G,v,y)}var Z=new eN(s,this);
Z.data={ajg:B,auC:j,aEf:q,afw:Q,V9:a,wB:l};this.uF(Z.data,G);G.vU(Z)};E.jx.prototype.uF=function(b,h){h.AK=b.auC;
h.P6=!0;if(b.afw)E.jx.Qs(h,b.afw,b.V9);if(b.wB){var G=h.AK.lastAppliedComp?h.AK.lastAppliedComp.v:0,H=E.jx._Z(h.AK,G),B=H==-1?null:h.AK.list.v[H].v,j=B?B.capturedInfo.v:7;
E.jx.Vw(h,G,j);h.c()}};E.jx.prototype.sv=function(b,h){h.AK=b.ajg;h.P6=!0;if(b.aEf)E.jx.Qs(h,b.aEf,b.V9);
if(b.wB){var G=h.AK.lastAppliedComp?h.AK.lastAppliedComp.v:0,H=E.jx._Z(h.AK,G),B=H==-1?null:h.AK.list.v[H].v,j=B?B.capturedInfo.v:7;
E.jx.Vw(h,G,j);h.c()}};E.jx.Dw=function(b){if(b.AK.lastAppliedComp!=null||!b.Pw)return;var h=E.jx.fG(b,0);
E.jx.Qs(b,h,0);b.Pw=!1};E.jx.R5=function(b,h,G){b.v.Hrzn.v+=h;b.v.Vrtc.v+=G};E.jx._Z=function(b,h){var G=b.list.v;
for(var Y=0;Y<G.length;Y++)if(G[Y].v.compID.v==h)return Y;return-1};E.jx.a24=function(b){var h=b.layerSettings.v,B=null;
if(h.length==0)return;var G="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),H=h[0].v;
if(H.enab==null)H.enab={t:"bool",v:!0};if(H.Ofst==null)H.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Y=0;Y<h.length;Y++){var j=h[Y].v;if(B==null)B=JSON.parse(JSON.stringify(j));else for(var s=0;
s<G.length;s++){var q=G[s];if(j[q])B[q]=JSON.parse(JSON.stringify(j[q]))}h[Y].v=JSON.parse(JSON.stringify(B))}};
E.jx.a86=function(b,h){var G=b.add.shmd.cmls,H=G.layerSettings.v;for(var B=0;B<H.length;B++){var j=H[B].v,s=j.compList.v[0].v;
if(s==h)return B}return-1};E.jx.a15=function(b,h){var G=E.jx.a86(b,h);return G==-1?null:b.add.shmd.cmls.layerSettings.v[G].v};
E.jx.Vw=function(b,h,G){for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y],B=H.add.shmd.cmls;if(B==null)continue;
var j=B.layerSettings.v,s=E.jx.a15(H,h);if(s==null){H.lW(!1);continue}if((G&1)!=0){if(s.enab)H.lW(s.enab.v);
else H.lW(!0)}if((G&2)!=0){if(s.Ofst){var q=s.Ofst.v,Q=H.xu(b),a=Math.round(q.Hrzn.v-Q.x),l=Math.round(q.Vrtc.v-Q.y);
if(a!=0||l!=0)E.uW.a5(b,[Y],null,a,l)}}if((G&4)!=0){if(s.Lefx){var U=JSON.parse(JSON.stringify(s.Lefx.v));
he.KP(U);if(JSON.stringify(U)!=JSON.stringify(H.add.lmfx)){H.add.lmfx=U;H.Z5.cq=!0}}else delete H.add.lmfx;
if(s.blendOptions){var N=s.blendOptions.v;if(N.Opct)H.opacity=Math.round(255*N.Opct.v.val/100);if(N.fillOpacity)H.add.iOpa=Math.round(255*N.fillOpacity.v.val/100);
if(N.Md)H.Am=H.add.lsct==c1.cH?"norm":aq.ah(N.Md.v.BlnM)}else{H.opacity=255;H.Am=H.fu()?"pass":"norm";
H.add.iOpa=255}}}};E.jx.amj=function(b,h){var G={};for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y];if(H.add.shmd==null||H.add.shmd.cmls==null)continue;
G["l"+H.add.lyid]=JSON.parse(JSON.stringify(E.jx.a15(H,h)))}return G};E.jx.fG=function(b,h){var G={};
for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y],B=H.add.lyid;G["l"+B]=E.jx.aty(b,H,h)}return G};E.jx.aty=function(b,h,G){var H=h.add.shmd?h.add.shmd.cmls:null,B={classID:"null"},j=h.xu(b),s={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:j.x},Vrtc:{t:"long",v:j.y}}};
B.compList={t:"VlLs",v:[{t:"long",v:G}]};B.enab={t:"bool",v:h.yY()};B.Ofst=JSON.parse(JSON.stringify(s));
B.FXRefPoint=JSON.parse(JSON.stringify(H&&H.origFXRefPoint?H.origFXRefPoint:s));B.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:aq.Wz(h.Am)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*h.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:h.add.iOpa!=null?100*h.add.iOpa/255:100}}}};
if(h.add.vmsk){B.vectorMask={t:"Objc",v:{classID:"null"}};B.vectorMask.v.Ofst=JSON.parse(JSON.stringify(s))}if(h.add.lmfx){B.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(h.add.lmfx))};
he.E3(B.Lefx.v)}return B};E.jx.a7T=function(b,h){var G=h.add.lyid;if(h.add.shmd==null)h.add.shmd={};
if(h.add.shmd.cmls==null){h.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:G},layerSettings:{t:"VlLs",v:[{t:"Objc",v:E.jx.aty(b,h,0)}]}}}};
E.jx.Qs=function(b,h,G){for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y],B=H.add.lyid;E.jx.a7T(b,H);var j=H.add.shmd.cmls,s=j.layerSettings.v,q=h["l"+B];
if(q!=null)q={t:"Objc",v:JSON.parse(JSON.stringify(q))};var Q=E.jx.a86(H,G);if(Q==-1){if(q==null)continue;
else s.push(q)}else{if(q==null)s.splice(Q,1);else s[Q]=q}}};E.jx.fs=function(b,h){for(var Y=0;Y<b.R.length;
Y++){var G=b.R[Y],H=G.add.lyid;if(G.add.shmd==null||G.add.shmd.cmls==null)continue;var B=G.xu(b),j=Math.round(B.x),s=Math.round(B.y);
if(!h){j=-j;s=-s}var q=G.add.shmd.cmls,Q=q.layerSettings.v;if(q.origFXRefPoint)E.jx.R5(q.origFXRefPoint,-j,-s);
for(var a=0;a<Q.length;a++){var l=Q[a].v;E.jx.R5(l.Ofst,j,s);var U=l.imageMask,N=l.vectorMask;if(U&&U.v.Ofst)E.jx.R5(U.v.Ofst,j,s);
if(N&&N.v.Ofst)E.jx.R5(N.v.Ofst,j,s)}}};E.HR=function(){E.af.call(this,"Adjust Edit",E.ig);this.oF=null;
this.EH=null};E.HR.prototype=new E.af;E.HR.pB=function(b,h,G,H){if(H)h/=4;var B=0,j=0,s=255,q=0,Q=0,a=255;
while(j+b[B]<h){j+=b[B];B++}while(q+b[s]<h){q+=b[s];s--}if(H){B-=Math.round(b[B]/(G/32));s+=Math.round(b[s]/(G/32));
if(B<0)Q=Math.round(-B*255/(s-B));if(s>255)a=255-Math.round((s-255)*255/(s-B))}return[Math.max(B,0),Math.min(s,255),Q,a,100]};
E.HR.prototype.Jd=function(b,h,G,H,B){var j=b.q;if(j=="auto"){var s=b.nw,q=E.HR.getData(G);for(var Y=0;
Y<q.length;Y++){var Q=q[Y],a;if(s<3){}else{var l=gY.Az("hue2");bV.r8(l,0,[0,-100,0]);a=eZ.q9("hue2",l)}eZ.BN(a,Q.VN,Q.Hv,Q.O2)}E.HR.on(G,q);
E.HR.yj(G,q,s<3?[4,16,s]:[19,7,0],this);G.c()}if(j=="edit_layer")this.aot(b,h,G,H);if(j=="edit"||j=="confirm"||j=="cancel")this.w_(b,h,G,B,!0);
if(j=="start"){if(G.T.length==0)return;var U=G.R[G.T[0]];if(U.add.SoLd&&U.nD<=0&&G.ql.length==0){var N=new hb(w.E.r,!0);
N.S=E.c7;N.data={q:"start",cy:b.xU,ZV:b.ZV};h.Q(N);return}if(!G.e1(h,null,!0))return;if(iq[b.xU]&&b.ZV==null){if(G.T.length!=1)alert("Will be applied to "+G.T.length+" layers.");
var N=new hb(w.E.b,!0);N.data={q:w.p.C9,ut:"afw_"+b.xU};h.Q(N)}else{this.w_({q:"edit",ZV:b.ZV,cy:b.xU},h,G,B);
this.w_({q:"confirm",cy:b.xU},h,G,B)}}};E.HR.prototype.aot=function(b,h,G,H){var B=b.q,j=G.T[0],s=G.R[j],q=eZ.get(s.add),N;
if(s.add[q]==null)return;var Q=JSON.parse(JSON.stringify(s.add[q]));for(var a in b.P)Q[a]=b.P[a];var l=JSON.parse(JSON.stringify(Q));
for(var a in eZ.Vl)if(eZ.Vl[a]==q)l.classID=a;var U=G.history[G.Wt];if(U&&U.S==this&&U.data.Wy!=null&&U.data.o==j)N=U;
else{var R=new hb(w.E.IK,!0),S={classID:"setd",null:aX.eP("AdjL",!0),T:{t:"Objc",v:l}};R.data={NJ:!0,f6:"set",yo:S};
h.Q(R);var N=new eN([6,39],this);N.data={o:j,Wy:s.add[q],bq:Q,We:S};G.vU(N)}N.data.bq=Q;N.data.We.T.v=l;
this.uF(N.data,G)};E.HR.getData=function(b,h,G){var H=[],B=new io(0,0,b.j,b._),j=b.ql.length!=0?[-1-b.ql[0]]:b.T;
for(var Y=0;Y<j.length;Y++){var s=j[Y],q=s<0?null:b.R[s],Q={o:s,i6:s<0?1:q.nD};H.push(Q);var a=b.$B[-1-s];
if(0<=s)a=q.nD<=0?null:q.nD==1?q.Y1():q.T0(b).u;var l=a?a.rect:q.rect;if(b.e){Q.O2=b.e.rect.D4(h||a!=null?B:l)}else Q.O2=h||a!=null?l.gJ(B):l.clone();
if(G)Q.O2=G[Y].O2.clone();var U=Q.O2.X();Q.VN=e.U(U*4);if(a)E.Qb.Uv(a.channel,a.rect,a.color,Q.VN,Q.O2);
else e.JE(q.buffer,l,Q.VN,Q.O2);Q.Hv=Q.VN.slice(0);if(b.e){Q.IU=e.U(U);e.wX(b.e.channel,b.e.rect,Q.IU,Q.O2)}}return H};
E.HR.azk=function(b,h,G){if(h==null)return h;var H=eZ.Me(b,h),j;if(H==-1)return h;var B=G.length>>>2,s=e.fl(G),q=.001*B;
if(H==0||H==2)j=[[0,255,0,255,100],E.HR.pB(s[1],q,B,H==2),E.HR.pB(s[2],q,B,H==2),E.HR.pB(s[3],q,B,H==2)];
if(H==1)j=[E.HR.pB(s[0],q*.33,B,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var Q=gY.Az("levl");
for(var Y=0;Y<4;Y++)b3.r8(Q,Y,j[Y]);return Q};E.HR.aeo=function(b,h,G,H){var B,j;if(G.t=="name"){var s=0;
for(var q=0;q<b.R.length;q++)if(b.R[q].getName()==G.v.val)s=q;if(b==h&&s==H.o){B=H.VN;j=H.O2}else{var Q=b.R[s];
B=Q.buffer;j=Q.rect}}else{j=new io(0,0,b.j,b._);B=b==h?H.jb:b.Nw()}return[B,j]};E.HR.prototype.w_=function(b,h,G,H){if(this.oF==null){if(b.cy=="aply")G.R[G.T[0]].extend(new io(0,0,G.j,G._));
this.oF=E.HR.getData(G,null,b.cy=="fade"?G.vc().data:null);if(b.cy=="aply"||b.cy=="matc")this.oF[0].jb=G.Nw()}if(b.q=="edit"){this.EH=[b.cy,b.ZV];
var B=this.oF[0],j=E.HR.azk(b.cy,b.ZV,B.VN),s=eZ.q9(b.cy,j);if(b.cy=="fade"||b.cy=="matc"||b.cy=="aply")s=b.ZV;
if(s!=null){for(var q=0;q<this.oF.length;q++){var Q=this.oF[q];if(b.pK)e.MI(Q.VN,Q.Hv);else if(b.cy=="fade"){var a=aq.ah(b.ZV.Md.v.BlnM),l=b.ZV.Opct.v.val/100,U=G.vc().data[q];
e.MI(U.VN,Q.Hv);if(a=="norm")e.z.hT(Q.VN,Q.O2,Q.Hv,Q.O2,null,null,null,Q.O2,l);else{var N=eQ.pZ();N.Ej=!0;
for(var Y=0;Y<U.VN.length;Y+=4)if(U.VN[Y+3]!=Q.VN[Y+3]){N=null;break}e.z.Nm(a,Q.VN,Q.O2,Q.Hv,Q.O2,Q.O2,l,N)}}else if(b.cy=="matc"){var R;
if(s.noReference&&s.noReference.v)R=Q.VN;else{var S=s.Srce.v,g=S[1].v.val,i=h.aO,y=G;for(var Y=0;Y<i.length;
Y++)if(i[Y].name==g)y=i[Y];var o=E.HR.aeo(y,G,S[0],Q);R=o[0]}fv(Q.VN,Q.O2.j,Q.O2._,R,Q.Hv,[s.Lght.v,s.ClrR.v,s.Fade.v,s.neutralizeColor?s.neutralizeColor.v:!1])}else if(b.cy=="aply"){s=s.With.v;
var v=s.T.v,o=E.HR.aeo(G,G,v[1],Q),R=o[0],Z=o[1],W=s.Clcl?s.Clcl.v.Clcn:null,a=W?aq.ah(W):"norm",l=s.Opct?s.Opct.v.val/100:1,d=["RGB","Rd","Grn","Bl","Trsp"].indexOf(v[0].v.enum),j=s.Invr&&s.Invr.v;
if(j||d!=0){R=R.slice(0);if(j)e.an5(R);if(d!=0){var $=e.U(Z.X());e.uA(R,$,d-1);if(d==4)e.Q6($);for(var I=0;
I<3;I++)e.aj($,R,I)}}if(W=="Add"||W=="Sbtr"){var k=1/s.Scl.v,_=s.Ofst.v,D=W=="Add"?1:-1,A=new Uint8ClampedArray(Q.Hv.buffer);
for(var Y=0;Y<R.length;Y+=4){A[Y]=(Q.VN[Y]+D*R[Y])*k+_;A[Y+1]=(Q.VN[Y+1]+D*R[Y+1])*k+_;A[Y+2]=(Q.VN[Y+2]+D*R[Y+2])*k+_}}else{var N=eQ.pZ();
N.Ej=s.PrsT&&s.PrsT.v;Q.Hv.fill(0);Q.Hv.set(Q.VN);e.z.Nm(a,R,Z,Q.Hv,Q.O2,Q.O2,l,N)}}else eZ.BN(s,Q.VN,Q.Hv,Q.O2)}E.HR.on(G,this.oF)}}if(b.q=="cancel"){E.HR.azU(G,this.oF);
this.oF=null}if(b.q=="confirm"){var F={fade:[2,11],aply:[2,12],matc:[4,18]},K=F[b.cy];if(K==null)K=eZ.names[b.cy];
var V=eZ.Me(b.cy,this.EH[1]);if(V!=-1)K=[4,16,V];E.HR.yj(G,this.oF,K,this);this.oF=null;if(V==-1)E.HR.gv(h,this.EH)}G.c()};
E.HR.gv=function(b,h){var G=h[0],H=h[1],B,j;if(eZ.G7[G]){B=eZ.G7[G];if(iq[G])j=H}if(gY.G7[G]){B=gY.G7[G];
if(iq[G])j=H}if(G=="fade"){B="fade";j=H}if(G=="matc"){B="matchColor";j=H}if(G=="aply"){B="applyImageEvent";
j=H}if(G=="GEfc"){if(j.GEfs)j=j.GEfs.v[0].v}if(B==null)return;var s=new hb(w.E.IK,!0);s.data={NJ:!0,f6:B};
if(j){j=JSON.parse(JSON.stringify(j));s.data.yo=j}b.Q(s)};E.HR.azU=function(b,h){E.HR.H1(b,h)};E.HR.yj=function(b,h,G,H){for(var Y=0;
Y<h.length;Y++){var B=h[Y],j=b.R[B.o],s=B.o<0?b.$B[-1-B.o]:B.i6<=0?null:B.i6==1?j.Y1():j.T0(b).u;if(s){s.r6();
s.GD=!0;if(j)j.vw(b)}else{j.r6();j.c()}delete B.Hv;delete B.IU}var q=new eN(G,H);q.data=h;b.vU(q);b.P6=!0};
E.HR.on=function(b,h,G){for(var Y=0;Y<h.length;Y++){var H=h[Y],B=b.R[H.o],j=G?H.VN:H.Hv,s=H.O2;if(H.i6==0){B.extend(s);
if(H.IU){e.JE(H.VN,s,B.buffer,B.rect);e.z.hT(j,s,B.buffer,B.rect,H.IU,s,0,s,1)}else e.JE(j,s,B.buffer,B.rect)}else{var q=H.o<0?b.$B[-1-H.o]:H.i6==1?B.Y1():B.T0(b).u;
q.extend(s);if(H.IU){var Q=e.U(s.X()*4);e.MI(H.VN,Q);e.z.hT(j,s,Q,s,H.IU,s,0,s,1);E.Qb.C4(Q,s,q)}else E.Qb.C4(j,s,q);
q.GD=!0;if(B)B.vw(b)}if(B)B.c()}if(!G)E.HR.aup(b,h)};E.HR.H1=function(b,h){for(var Y=0;Y<h.length;Y++){var G=h[Y],H=b.R[G.o],B=G.O2,j=e.U(B.X()*4);
if(G.i6==0){e.JE(H.buffer,H.rect,j,B);H.extend(B);e.JE(G.VN,B,H.buffer,H.rect);H.r6()}else{var s=G.o<0?b.$B[-1-G.o]:G.i6==1?H.Y1():H.T0(b).u;
E.Qb.Uv(s.channel,s.rect,s.color,j,B);s.extend(B);E.Qb.C4(G.VN,B,s);s.r6();s.GD=!0;if(H)H.vw(b)}G.VN=j;
if(H)H.c()}b.P6=!0};E.HR.Aj=function(b){var h=0;for(var Y=0;Y<b.length;Y++)h+=b[Y].VN.length;return h};
E.HR.aup=function(b,h){var G=E.HR.anw(b),H=~G;if(G==16777215)return;for(var Y=0;Y<h.length;Y++){var B=h[Y],j=b.R[B.o],s=B.O2;
if(B.i6!=0)continue;j.extend(s);var q=s.x-j.rect.x,Q=s.y-j.rect.y,a=j.rect.j,l=new Uint32Array(B.VN.buffer),U=new Uint32Array(j.buffer.buffer);
for(var N=0;N<s._;N++)for(var R=0;R<s.j;R++){var S=N*s.j+R,g=(N+Q)*a+(R+q);U[g]=U[g]&G|l[S]&H}j.r6();
j.c()}b.c()};E.HR.anw=function(b){var h=b.s.M;return h[2]*16711680|h[1]*65280|h[0]*255};E.HR.prototype.sv=function(b,h){var G=h.R[b.o];
if(b.Wy!=null)G.add[eZ.get(G.add)]=b.Wy;else E.HR.H1(h,b);h.c()};E.HR.prototype.uF=function(b,h){var G=h.R[b.o];
if(b.Wy!=null)G.add[eZ.get(G.add)]=b.bq;else E.HR.H1(h,b);h.c()};E.HR.prototype.Aj=function(b){return b.Wy==null?E.HR.Aj(b):0};
E.Jo=function(){E.af.call(this,"Filter Edit",E.c7);this.oF=null;this.I2=null;this.q=null;this.EH=null};
E.Jo.prototype=new E.af;E.Jo.prototype.Jd=function(b,h,G,H,B){if(b.q=="start"){if(G.T.length==0)return;
var j=G.R[G.T[0]];if(j.add.SoLd&&j.nD<=0&&G.ql.length==0){}else if(!G.e1(h,null,!0))return;var s=b.cy;
if((iq[s]||gY.L[s])&&b.ZV==null){if(G.T.length!=1)alert("Will be applied to "+G.T.length+" layers.");
var q=new hb(w.E.b,!0);q.data=E.Jo.aiU(s,this.IL(G,s));h.Q(q)}else{var Q={q:"edit",cy:s,ZV:b.ZV,jl:this.IL(G)};
this.Jd(Q,h,G,H,B);Q.q="confirm";delete Q.ZV;this.Jd(Q,h,G,H,B)}}if(b.q=="edit"||b.q=="cancel"||b.q=="confirm"){if(b.q=="edit")this.EH=[b.cy,b.ZV];
if(b.jl)this.alW(b,h,G,B);else this.ayk(b,h,G,B)}if(b.q=="applylast"&&this.EH!=null){var Q={q:"edit",cy:this.EH[0],ZV:this.EH[1],jl:this.IL(G)};
this.Jd(Q,h,G,H,B);Q.q="confirm";delete Q.ZV;this.Jd(Q,h,G,H,B)}};E.Jo.aiU=function(b,h){var G=gY.L[b];
if(G)return{q:w.p.CJ,S:G,Mo:{jl:h}};else return{q:w.p.C9,ut:"afw_"+b,jl:h}};E.Jo.prototype.IL=function(b,h){var G=b.R[b.T[0]],H;
if(G.add.SoLd&&G.nD<=0&&b.ql.length==0){H={o:b.T[0],index:0};if(G.add.SoLd.filterFX!=null){var B=G.add.SoLd.filterFX.v.filterFXList.v;
H.index=B.length;for(var Y=0;Y<B.length;Y++)if(gY.AF(B[Y].v)==h&&gY.L[h])H.index=Y}}return H};E.Jo.prototype.alW=function(b,h,G,H){var B=G.R[b.jl.o],j=b.cy;
if(b.q=="edit"){if(this.q==null){var s=gY.names[j];if(s==null)s=eZ.names[j];if(j=="blendOptions")s=[14,10];
this.q=new eN(s,this);this.q.data={jl:b.jl,agg:JSON.parse(JSON.stringify(B.add.SoLd))}}if(!B.Ag()){B.add.SoLd.filterFX=gY.Aq();
var q=this.q.data.zB=cj.aAq(B.add.SoLd.placed.v);G.RJ(q);if(G.e){q.u.channel=G.e.channel.slice(0);q.u.rect=G.e.rect.clone();
q.u.color=0;this.q.data.QU=G.e;G.e=null}B.gE(G)}var Q=B.add.SoLd.filterFX.v.filterFXList.v;if(Q[b.jl.index]==null){Q.push(gY.pY(j,H))}if(b.ZV){Q[b.jl.index].v.enab.v=b.pK!=!0;
if(j=="blendOptions")Q[b.jl.index].v.blendOptions.v=b.ZV;else Q[b.jl.index].v.Fltr.v=b.ZV}this.q.data.aCm=JSON.parse(JSON.stringify(B.add.SoLd));
this.uF(this.q.data,G)}if(b.q=="cancel"){if(this.q)this.sv(this.q.data,G);this.q=null}if(b.q=="confirm"){if(this.q)G.vU(this.q);
E.HR.gv(h,this.EH);this.q=null}};E.Jo.prototype.ew=function(b){return{$:b>>>16,B:b>>>8&255,J:b&255}};
E.Jo.prototype.ayk=function(b,h,G,H){if(this.oF==null){var B=gY.MA(b.cy,b.ZV);this.oF=E.HR.getData(G,B.x!=0||B.y!=0,b.cy=="VaPo"?[{O2:b.jb[1]}]:null)}if(b.q=="edit"){var j=JSON.stringify(b.ZV);
if((b.ZV==null||j!=this.I2)&&b.pK!=!0)for(var Y=0;Y<this.oF.length;Y++){var s=this.oF[Y],q={rect:s.O2,buffer:s.VN},Q={rect:s.O2,buffer:s.Hv};
if(b.cy=="Avrg"&&s.IU){q.buffer=s.VN.slice(0);e.Bp(s.IU,q.buffer)}gY.BN(b.cy,q,b.ZV,this.ew(H.nU),this.ew(H.W9),Q,[G.add.lnk2?G.add.lnk2:[],G.R[G.T[0]].Y1(),G.$B,G.wV()]);
if(b.cy=="VaPo"){e.JE(b.jb[0],b.jb[1],Q.buffer,Q.rect)}if(b.cy=="Avrg"&&s.IU){var a=s.VN.length;for(var Y=0;
Y<a;Y+=4)s.Hv[Y+3]=s.VN[Y+3]}this.I2=j}E.HR.on(G,this.oF,b.pK)}if(b.q=="cancel"){E.HR.azU(G,this.oF);
this.oF=null;this.I2=null}if(b.q=="confirm"){if(b.cy=="VaPo"){this.oF.a5R=JSON.stringify(G.jN);this.oF.m7=JSON.stringify(b.P);
G.jN=b.P}E.HR.yj(G,this.oF,gY.names[b.cy],this);this.oF=null;this.I2=null;E.HR.gv(h,this.EH)}G.c();G.P6=!0};
E.Jo.prototype.sv=function(b,h){if(b.m7)h.jN=JSON.parse(b.a5R);if(b.jl){var G=h.R[b.jl.o];if(b.zB)h.kw(b.zB);
if(b.QU)h.e=b.QU;G.add.SoLd=JSON.parse(JSON.stringify(b.agg));if(G.Ag())G.O3(h);else{G.gE(h);G.nD=0}}else E.HR.H1(h,b);
h.c();h.P6=!0};E.Jo.prototype.uF=function(b,h){if(b.m7)h.jN=JSON.parse(b.m7);if(b.jl){var G=h.R[b.jl.o];
if(b.zB)h.RJ(b.zB);if(b.QU)h.e=null;G.add.SoLd=JSON.parse(JSON.stringify(b.aCm));if(G.Ag())G.O3(h);else G.gE(h);
if(!G.mx())G.Xp+=32}else E.HR.H1(h,b);h.c();h.P6=!0};E.Jo.prototype.Aj=function(b){return b.jl==null?E.HR.Aj(b):0};
var ec={GH:"0",pp:"1",bX:"2",CR:"3",u_:"3.5",vr:"4",Pl:"5",HG:"6",vF:"7",r:"8",v_:"8.5",WS:"8.8",Mw:"9",ML:"10",Te:"11",Eq:"12",$N:"13",mp:"14",Ie:"15",Hx:"16",jU:"17",VZ:"18",KI:"21",tS:"22",ZN:"23",dH:"23.0",_U:"23.1",V8:"23.2",I9:"23.3",sR:"23.4",S6:"23.5",H9:"23.6",a8m:"30",Pr:"31",N7:"40",Wr:"41",Gf:"42"};
ec.VA={};ec.VA[ec.pp]=["abr","brushes",hH,[9,3],3];ec.VA[ec.bX]=["grd","gradients",dU,[12,37],4];ec.VA[ec.CR]=["shc","contours",h3,[12,21],0];
ec.VA[ec.u_]=["acv","curves",hc,[4,2],0];ec.VA[ec.vr]=["asl","styles",aM,[12,22],5];ec.VA[ec.Pl]=["pat","patterns",jx,[12,62],6];
ec.VA[ec.HG]=["csh","shapes",e3,[12,77],7];ec.VA[ec.vF]=["aco","swatches",ja,[9,8],0];ec.VA[ec.r]=["atn","actions",aY,[9,9],2];
ec.VA[ec.v_]=["tpl","tpresets",cn,[9,12],0];ec.VA[ec.WS]=["icc","profiles",bm,"LUTs",8];function eN(b,h,G){if(G==null)G=!1;
this.name=b;this.S=h;this.HF=G;this.data=null;this.atY=Date.now()}eN.prototype.Aj=function(){return this.S?this.S.Aj(this.data):0};
var aX={};aX.eP=function(b,h){var G={t:"Clss",v:{classID:b}};if(h)G={t:"Enmr",v:{classID:b,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[G]}};aX.Sg=function(b,h){var G={classID:"Lyr"};G[b]=h;return{f6:"set",yo:{classID:"null",null:aX.eP("Lyr",!0),T:{t:"Objc",v:G}}}};
aX.aqS=function(b,h,G,H,B){var j=new hb(w.E.IK,!0),s=[],Y=0,q=aX.aJ(h,G,H,s);while(s.length!=0){var Q=s.pop();
Y++;if(!Q.H)continue;console.log(Y-1);if(Q.f6=="conditional"){var a=b.R[b.T[0]],l=Q.yo.null.v.Cndt,U=!1;
if(l=="Bckg")U=!1;else if(l=="Pxel"&&b.s5(!1))U=!0;else if(l=="Adjs"&&eZ.get(a.add))U=!0;else if(l=="Shp"&&a.add.vogk)U=!0;
else if(l=="Grup"&&a.fu())U=!0;else if(l=="Opn"&&b!=null)U=!0;else if(l=="32Bt")U=!1;else if(l=="RGB")U=!0;
var N=Q.yo.then,R=Q.yo.else;if(U&&N)aX.aJ(h,N.v[0].v.val,N.v[1].v.val,s);if(!U&&R)aX.aJ(h,R.v[0].v.val,R.v[1].v.val,s)}else if(Q.f6=="stop"){if(Q.yo.Cntn&&Q.yo.Cntn.v==!0)window.confirm(Q.yo.Msge.v);
else{alert(Q.yo.Msge.v);break}}else if(Q.f6=="play"){var S=Q.yo.null.v,g=new hb(w.E.b,!0);g.data={q:w.p.Av,Fo:[S[0].v.val,S[1].v.val]};
B.Q(g)}else{j.data={f6:Q.f6,yo:Q.yo};B.Q(j)}}};aX.lF=function(b,h,G){var H;for(var Y=0;Y<b.length;Y++){if(b[Y].VH!=G)continue;
var B=b[Y].q5;for(var j=0;j<B.length;j++){if(B[j].VH!=h)continue;H=B[j]}}return H};aX.aJ=function(b,h,G,H){var B=aX.lF(b,h,G).q5,j=B.length;
for(var Y=0;Y<j;Y++)H.push(B[j-1-Y])};aX.a9F=function(b){var h=b.f6,G=b.yo,H,s,q,Q,a;if(G&&G.null)H=G.null.v[0];
if(G&&H==null&&G.At)H=G.At.v[0];if(H&&H.t=="obj ")H=H.v[0];var B=H&&H.v?H.v.classID:null,j=["purge"];
if(j.indexOf(h)!=-1)return h[0].toUpperCase()+h.slice(1);if(h=="GEfc"||h=="paintDaubs")return hn.names[G.GEfk.v.GEft][1];
a=eZ.G7;for(s in a)if(a[s]==h)q=s;a=gY.G7;for(s in a)if(a[s]==h)Q=s;a=gY.G7;for(s in a)if(s==h)Q=s;if(q){var l=eZ.Me(q,G);
if(l!=-1)return[4,16,l];return eZ.names[q]}if(Q)return gY.names[Q];var U=aX.a0K;if(h=="make"){if(H){if(B=="AdjL")return[6,1];
else if(B=="layerSection")return G.From?[6,9]:[6,20];else if(B=="Lyr")return[6,13];else if(B=="Chnl"&&H.v.enum=="Msk")return[6,2];
else if(B=="contentLayer")return[6,48,1];else if(B=="BckL")return"Make Background Layer";else if(B=="Path")return"Make Path";
else if(B=="TxLr")return"Make Text Layer";else if(B=="slice")return"Make Slices";else if(B=="Dcmn")return[11,7];
else if(B=="Gd")return[23,4]}if(G.Nw){B=G.Nw.v.classID;if(B=="Dcmn")return[11,7];else if(B=="Chnl"||B=="SCch")return"New Channel"}}else if(h=="deselect"){if(B=="Path")return"Deselect current path";
else throw B}else if(h=="draw"){return"Draw"}else if(h=="select"){if(B=="Chnl"){var N={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[H.v.enum];
if(N==null)N="";return"Select "+N+" Channel"}else if(B=="Mn")return"Select Panel \""+H.v.enum+"\"";else if(B=="Lyr"){if(H.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[H.v.enum]+" Layer";
return"Select Layer \""+H.v.val+"\""}else if(B=="Path")return"Select Path";else if(B=="Brsh")return"Select Brush";
else if(B=="Dcmn")return"Select Document"}else if(U[h]&&B=="Chnl"){var R=H.v.keyID=="fsel";return U[h]+" "+(R?"Selection":"Channel")}else if(h=="set"){if(B=="Lyr")return"Set Current Layer";
else if(B=="AdjL")return[6,39];else if(B=="contentLayer")return[6,48,2];else if(B=="Prpr"){var S=H.v.keyID;
if(S=="TxtS")return"Set Text Style";else if(S=="paragraphStyle")return"Set Paragraph Style";else if(S=="Lefx")return[11,6];
else console.log(S)}else if(B=="Clr")return"Set "+(H.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(B=="Brsh")return"Set Brush";else if(B=="Path")return"Set Work Path";else console.log(B)}else if(h=="move"){if(B=="Lyr")return"Move Layer";
else if(B=="Chnl"&&H.v.keyID=="fsel")return[7,7];else console.log(B)}else if(h=="show"||h=="hide"){var g="";
if(B=="Lyr")g="Layer";if(B=="Chnl")g="Channel";if(B=="filterFX")g="Filter Effect";return(h=="show"?"Show":"Hide")+" "+g}else if(h=="reset"){if(B=="Clr")return"Reset Colors"}else if(h=="exchange"){if(B=="Clr")return[22,7,0]}else if(h=="rotateEventEnum")return[2,5];
else if(h=="flip"){var i=G.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,i?2:3]]}if(h=="duplicate"&&B=="Dcmn")return"Duplicate first document";
if(B=="Chnl"){if(h=="duplicate"){if(H.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(h=="delete")return"Delete Channel"}if(h=="transform")return H&&H.v.keyID=="fsel"?[7,10]:[10,16];
var y={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:G?B=="Lyr"?[6,31]:B=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},o=y[h];
if(o==null)o=aX.aql[h];if(o)return o;return h};aX.aql={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
aX.a0K={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
aX.aEv=function(b,h,G,H){var B=b.f6,j=b.yo,s=!1,q=new hb(w.E.r,!0),U,N,R,S;q.S=E.nc;var Q=new hb(w.E.b,!0),a=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(a.indexOf(B)!=-1)return;var l=B;while(l.length<4)l+=" ";S=eZ.G7;for(U in S)if(S[U]==l)N=U;S=gY.G7;
for(U in S)if(S[U]==l)R=U;S=gY.G7;for(U in S)if(U==l)R=U;if(B=="fade")N=B;if(B=="matchColor")N="matc";
if(B=="applyImageEvent")N="aply";if(N){q.S=E.ig;q.data={q:"start",xU:N,ZV:j}}else if(R){q.S=E.c7;q.data={q:"start",cy:R,ZV:j}}else if(B=="GEfc"||B=="paintDaubs"){q.S=E.c7;
q.data={q:"start",cy:"GEfc",ZV:j}}else if(B=="imageSize"||B=="canvasSize"||B=="revealAll"||B=="trim"||B=="crop"){q.S=E.$b;
q.data={q:"fromAction",E7:b}}else if(B=="fill"||B=="stroke"||B=="delete"&&j==null){var g=null;if(H.T.length!=0)g=H.R[H.T[0]];
var i=e.M5(G.nU);if(g!=null&&B=="fill"&&g.add.TySh){var y="var c = new SolidColor();  c.rgb.red="+i.$+";  c.rgb.green="+i.B+";  c.rgb.blue="+i.J+";  app.activeDocument.activeLayer.textItem.color = c;";
Q.data={q:w.p.um,gp:y}}else if(g!=null&&B=="delete"&&g.add.TySh){q.S=E.rd;q.data={q:"insertText",P:""}}else if(g!=null&&B=="fill"&&g._5()){var q=new hb(w.E.IK,!0),j={classID:"setd",null:aX.eP("contentLayer",!0),T:{t:"Objc",v:{}}};
E.lk.to({Clr:{t:"Objc",v:e.F.t1(e.M5(G.nU))}},j.T.v,0);q.data={f6:"set",yo:j};h.Q(q);return}else if(B=="stroke"&&j&&j.null==null){q.S=E.UA;
q.data={q:"stroke",aD5:j}}else{if(B=="stroke"&&j&&j.Usng)q.S=E.G7[j.Usng.v.classID];else q.S=G.vu==E.ln?E.ln:E.pp;
q.data={q:"fromAction",E7:b}}}else if(B=="colorRange"||B=="grow"||B=="similar"){q.S=E.tz;q.data={q:"fromAction",E7:b}}else if(B=="set"&&j&&j.T&&j.T.v.Ordn=="Al"&&G.vu==E.rd&&h.FV().W1()){q.S=E.rd;
q.data={q:"selectAll"}}else if(aX.aql[B]||aX.a0K[B]&&(!1||j.With&&j.With.v[0].v.keyID=="fsel"||j.From&&j.From.v[0].v.keyID=="fsel"||j.null&&j.null.v[0].v.keyID=="fsel"||j.T.v[0]&&j.T.v[0].v.keyID=="fsel")){q.S=E.Bi;
q.data={q:"fromAction",E7:b}}else if(B=="rasterizeLayer"){q.data={q:j.What?C.aDi:C.uI}}var o={copyToLayer:C.P_,cutToLayer:C.KJ,mergeLayersNew:C._e,mergeVisible:C.oB,flattenImage:C.alg,newPlacedLayer:C.tZ};
if(o[B])q.data={q:o[B],yo:j};if(q.data){h.Q(q);return}if(B=="collapseAllGroupsEvent"){for(var Y=0;Y<H.R.length;
Y++){var g=H.R[Y];if(g.fu())g.add.lsct=c1.N_}H.Jg=!0;return}if(B=="desaturate"||B=="Dstt"){q.S=E.ig;
q.data={q:"auto",nw:3};if(H&&H.R[H.T[0]].add.SoLd==null)h.Q(q);return}if(B=="close"){if(j&&j.Svng.v.YsN=="Ys"){Q.data={q:w.p.my};
h.Q(Q)}Q.data={q:w.p.L3,wK:H};h.Q(Q);return}if(B=="save"){Q.data={q:w.p.my};h.Q(Q);return}if(B=="copyMerged"){Q.data={q:w.p.xA,pc:!0,Eg:!0};
h.Q(Q);return}if(B=="placedLayerReplaceContents")Q.data={q:w.p.vd,fD:!0};var o={placedLayerEditContents:w.p.ajs,placedLayerExportContents:w.p.ap7,copyEvent:w.p.xA,paste:w.p.CA};
if(o[B])Q.data={q:o[B],Eg:!0};if(Q.data){h.Q(Q);return}var v=j.null?j.null.v:null,Z=v?v[0].v.classID:"";
if(B=="make"){if(j.null==null&&j.Nw)Z=j.Nw.v.classID;if(Z=="AdjL"){q.data={q:C.TZ,yo:j}}else if(Z=="layerSection"){q.data=j.From?{q:C.Qp}:{q:C.mI};
if(j.Usng){var W=j.Usng.v;if(W.Nm)q.data.f0=W.Nm.v;if(W.Clr)q.data.On=aX.qK(W)}}else if(Z=="Lyr"){if(j.Usng&&j.Usng.v.length==2)q.data={q:C.a1F};
else{q.data={q:C.Wf};if(j.Usng)q.data.f0=j.Usng.v.Nm.v;if(j.below&&j.below.v)q.data.ai6=!0}}else if(Z=="Chnl"&&j.At&&j.At.v[0].v.enum=="Msk"){q.data={q:C.k5,vX:j.Usng.v.UsrM}}else if(Z=="Chnl"||Z=="SCch"){q.data={q:C.XG,DF:"fromAction",P:b}}else if(Z=="contentLayer"){q.data={q:C.OW,yo:j}}else if(Z=="BckL"){H.R[H.T[0]].aF0();
return}else if(Z=="Dcmn"){if(j.Nw==null)return;var d=j.Nw.v;Q.data={q:w.p.zX,tR:cj.aD_(d,G)}}else if(Z=="Ptrn")Q.data={q:w.p.Qt,CI:0};
else if(Z=="Path"){var $=j.At;if($&&$.v&&$.v[0]&&$.v[0].v&&$.v[0].v.enum=="vectorMask"){q.S=E.nc;var I=j&&j.Usng&&j.Usng.v.vectorMaskEnabled=="RvlA";
q.data={q:C.u4,Qc:!I}}else{q.S=E.YK;q.data={q:"pathedit",DF:"fromsel"}}}else if(Z=="TxLr"){q.S=E.rd;
q.data={q:"fromAction",E7:b}}else if(Z=="slice"){q.S=E.B0;q.data={q:"fromAction",E7:b}}else if(Z=="Gd"){var k=[[],[]],d=j.Nw.v;
k[d.Ornt.v.Ornt=="Vrtc"?0:1].push(d.Pstn.v.val);var _=bU.CO(k);E.uW.ZX(_,H.Wb());q.S=E.rQ;q.data={q:"gids",ez:_}}else{console.log(B,Z,j);
throw"e"}}else if(B=="divide"){q.S=E.B0;q.data={q:"fromAction",E7:b}}else if(B=="deselect"){if(Z=="Path"){H.xe=[];
H.mS=[];H.Jg=H.qV=!0;return}else throw Z}else if(B=="selectNoLayers"){H.T=[];H.P6=!0}else if(B=="selectAllLayers"){H.T=[];
for(var Y=0;Y<H.R.length;Y++)H.T.push(Y);H.P6=!0;return}else if(B=="select"){var D=E.G7;if(Z=="Lyr"){var A=j.selectionModifier,F=A?A.v.selectionModifierType:null,K=aX.rF(H,v[0]),V=0;
if(K==-1){alert("Layer "+v[0].v.val+" does not exist.");return}var g=H.R[K];if(g.fu()&&g.Y1()&&A==null)V=1;
q.data={q:C.Cr,o:K,aq:F?["addToSelection","addToSelectionContinuous"].indexOf(F):null,wU:V}}else if(Z=="Path"){if(v[0].v.keyID=="WrPt"){H.xe=[0];
H.Jg=H.qV=!0;return}else throw v[0]}else if(Z=="Chnl"){var r=v?v[0].v.enum:"",c=["Rd","Grn","Bl"].indexOf(r);
if(c!=-1){var x=j.Extd&&j.Extd.v?H.s.M.slice(0):[0,0,0];x[c]=1;q.S=E.Uy;q.data={q:"setcls",M:x}}else q.data={q:C.Cr,o:K,wU:r=="RGB"?0:1}}else if(Z=="Dcmn"){if(h.aO.length<2)return;
Q.data={q:w.p.aew,dir:j.null.v[0].v.val}}else if(Z=="Brsh"){var X=G.CB.list,M;for(var Y=0;Y<X.length;
Y++){if(X[Y].v.Nm.v.split("/").pop()==v[0].v.val)M=X[Y].v}if(G.vu==E.rQ){Q.data={q:w.p.CJ,S:E.pp};h.Q(Q)}Q.data={q:w.p.wP,CI:ec.mp,sS:M}}else if(Z=="Mn"){if(v[0].v.enum=="Scl")Q.data={q:w.p.CJ,S:E.E4,Mo:{vX:3}};
if(v[0].v.enum=="Plce")Q.data={q:w.p.vd,ad4:!0};if(v[0].v.enum=="ZmIn"){q.S=E.TC;q.data={q:"zoom",Sa:!0}}if(v[0].v.enum=="ZmOt"){q.S=E.TC;
q.data={q:"zoom",Sa:!1}}if(v[0].v.enum=="FtOn"){q.S=E.TC;q.data={q:"adapt",P:"fitscr"}}}else if(D[Z]){Q.data={q:w.p.CJ,S:D[Z]}}else throw Z}else if(B=="draw"){q.S=E.YK;
q.data={q:"fromAction",E7:b}}else if(B=="gradientClassEvent"){q.S=E.RS;q.data={q:"fromAction",E7:b}}else if((B=="set"||B=="reset"||B=="exchange")&&Z=="Clr"){Q.data={q:w.p.wP,CI:ec.KI,DF:B=="reset"?3:2};
if(B=="set"){Q.data.DF=v[0].v.keyID=="FrgC"?0:1;var f=e.F.an(j.T.v);Q.data.P=f.$<<16|f.B<<8|f.J}}else if(B=="set"){if(Z=="AdjL"){var t=j.T.v.classID;
t=eZ.Vl[t];q.S=E.ig;if(t)q.data={q:"edit_layer",P:j.T.v}}else if(Z=="Lyr"){var n=j.T.v,K=aX.rF(H,v[0]);
for(var L in n){if(L=="classID")continue;q.S=E.nc;if(L=="Nm")q.data={q:C.Ti,name:n.Nm.v};else if(L=="Opct")q.data={q:C.iY,bq:Math.round(n.Opct.v.val*255/100)};
else if(L=="fillOpacity")q.data={q:C.FE,bq:Math.round(n.fillOpacity.v.val*255/100)};else if(L=="Md")q.data={q:C.Ud,bq:aq.$$.indexOf(n.Md.v.BlnM)+(H.R[K].fu()?1:0)};
else if(L=="Usrs")q.data={q:C.Wi,o:K};else if(L=="Blnd"){q.S=E._s;q.data={q:"setstl",o:K,P:{blendOptions:{t:"objc",v:n}}};
h.Q(q);q.data={q:"confirm",o:K}}else if(L=="userMaskFeather"||L=="userMaskDensity"){var P=n.userMaskFeather,z=n.userMaskDensity,K=H.T[0],T=H.R[K].XI(0);
if(P)T.fV=P.v.val;if(z)T.pA=z.v.val;q.data={q:C.d_,UO:K,Fc:T}}else if(L=="Clr"){var i=aX.qK(n);q.data={q:C.iE,aDN:i}}else if(L=="Lefx")aX.a2i(h,K,n.Lefx.v,G);
else{console.log(j);throw L}if(q.data){h.Q(q);delete q.data}}q.data={};var g=H.R[K];g.a8W()}else if(Z=="Prpr"){var n=JSON.parse(JSON.stringify(j.T.v)),K=aX.rF(H,j.null.v[1]),g=H.R[K],p=v[0].v.keyID;
if(p=="TxtS"||p=="paragraphStyle"){var m=g.add.TySh,O=JSON.parse(JSON.stringify(m.HZ)),cb=b_.v4(O),e$=b_.XN(O,0,cb.length-2);
if(p=="TxtS")b_.a7Q(n,e$);else b_.a05(n,e$);b_.V1(O,0,cb.length-1,e$);q.S=E.rd;q.data={q:"newED",xj:K,wI:O}}else if(p=="Lefx"){for(var fz in n)if(n[fz].v){if(fz=="Scl")n[fz].v.val=100}aX.a2i(h,K,n,G);
q.data={}}else throw p}else if(Z=="contentLayer"){var K=aX.rF(H,v[0]),n=j.T.v,eC=!0;if(n.classID=="shapeStyle"){if(n.strokeStyle){n=n.strokeStyle.v;
eC=!1}else n=n.FlCn.v}if(eC){var hw={solidColorLayer:0,gradientLayer:1,patternLayer:2}[n.classID],az=dE.Y3(H.R[K].add),R=az.Z_==hw+1?az.Tf:dE.td[hw];
R=JSON.parse(JSON.stringify(R));E.lk.to(n,R,hw);q.data={q:C.XJ,UQ:[K],OI:!0,P:{Z_:hw+1,Tf:R}}}else{var av=JSON.parse(JSON.stringify(H.R[K].add.vstk));
for(var fz in n)av[fz]=n[fz];q.data={q:C.XJ,UQ:[K],OI:!1,P:av}}}else if(Z=="Brsh"){var M=JSON.parse(JSON.stringify(G.CB.WD)),ia=j.T.v;
if(ia.masterDiameter)M.Brsh.v.Dmtr.v.val=ia.masterDiameter.v.val;else console.log("unknown brush parameters");
Q.data={q:w.p.wP,CI:ec.mp,sS:M}}else if(Z=="Path"){q.S=E.YK;q.data={q:"fromAction",E7:b}}else{console.log(v[0],j);
throw Z}}else if(B=="move"){if(Z=="Lyr"){var n=j.T.v;if(n.classID=="Ofst"){q.data={q:"trsl",GX:n.Hrzn.v.val,AQ:n.Vrtc.v.val};
q.S=E.rQ}else{var iJ,cx;if(n[0].t=="Enmr"){if(n[0].v.enum=="Frnt")cx=0;else if(n[0].v.enum=="Nxt")cx=1;
else if(n[0].v.enum=="Prvs")cx=2;else if(n[0].v.enum=="Back")cx=3;else throw"e"}else iJ=n[0].v.val;q.data={q:C.EN,target:iJ,DF:cx,a3A:j.Dplc?j.Dplc.v:!1}}}else if(Z=="Chnl"&&v[0].v.keyID=="fsel"){q.S=E.Bi;
q.data={q:"fromAction",E7:b}}}else if(B=="groupEvent"||B=="ungroup")q.data={q:C.iy};else if(B=="show"||B=="hide"){var hP=j.null.t;
if(hP=="obj "){if(v[0].v.val!=null)q.data={q:C.K9,index:v[0].v.val-1};else q.data={q:C.oA}}else if(hP=="VlLs"){var Z=v[0].v[0].v.classID;
if(Z=="Chnl")q.data={q:C.XG,DF:"fromAction",P:b};else{var iS=Z=="filterFX"?v:v[0].v;for(var Y=0;Y<iS.length;
Y++){if(Z=="filterFX")q.data={q:C.K9,index:iS[Y].v[0].v.val-1};else{var K=aX.rF(H,iS[Y]),e4=H.R[K].yY();
if(B=="show"&&e4||B=="hide"&&!e4)continue;q.data={q:C.LX,UQ:[K]}}h.Q(q)}return}}else throw hP}else if(B=="rotateEventEnum"){q.S=Z=="Lyr"?E.E4:E.$b;
var cc=j.Angl.v.val;q.data={q:"rot",VH:[2,5],P:-cc*Math.PI/180}}else if(B=="flip"){q.S=Z=="Lyr"?E.E4:E.$b;
var aO=j.Axis.v.Ornt=="Hrzn",bZ=aO?new cJ(-1,1):new cJ(1,-1);q.data={q:"scl",VH:[[2,6],[22,4,aO?2:3]],P:bZ}}else if(B=="transform"){var d_=1,ee=1,b4=0,hA=0,f$=0,e_=0,fJ=0,gq=null,eH=null;
if(j.Wdth)d_=j.Wdth.v.val/100;if(j.Hght)ee=j.Hght.v.val/100;if(j.Skew){var dV=j.Skew.v;b4=dV.Hrzn.v.val;
hA=dV.Vrtc.v.val}if(j.Ofst){var ix=j.Ofst.v;e_=ix.Hrzn.v.val;fJ=ix.Vrtc.v.val}if(j.Angl)f$=j.Angl.v.val;
var b9=new eq;b9.concat(new eq(d_,d_*Math.tan(hA*Math.PI/180),ee*Math.tan(b4*Math.PI/180),ee,0,0));b9.rotate(-f$*Math.PI/180);
b9.translate(e_,fJ);var hV=e.t.UE(b9);if(j.Usng){var ix=j.Usng.v;hV[6]=ix.Hrzn.v.val/100;hV[7]=ix.Vrtc.v.val/100}var eP=j.FTcs.v.QCSt;
if(eP=="Qcsi"){var c2=j.Pstn.v;gq=new cJ(c2.Hrzn.v.val,c2.Vrtc.v.val)}else eH=E.Y.a1g[eP];var v=j.null;
if(v&&v.v instanceof Array)v=v.v[0];var K=v?aX.rF(H,v):null;if(K==-1)K=null;q.S=v&&v.v.keyID=="fsel"?E.KT:E.E4;
q.data={q:"dtr",ok:eH,P:hV,Ee:j.warp,a0w:gq}}else if(B=="duplicate"){if(Z=="Chnl")q.data={q:C.XG,DF:"fromAction",P:b};
else if(Z=="Dcmn"){var bL=aT.JR("PSD").kf(H);dJ.BZ({url:H.name},bL,h);return}else if(Z=="Actn"){var dg=G.bL,cN=v[1].v.val,dH=null;
for(var Y=0;Y<dg.length;Y++)if(dg[Y].VH==cN)dH=dg[Y];var kM=aX.lF(dg,v[0].v.val,cN);kM=JSON.parse(JSON.stringify(kM));
kM.VH+=" copy";dH.q5.push(kM);return}else q.data={q:C.hR,f0:j.Nm?j.Nm.v:null}}else if(B=="delete"){if(Z=="filterFX"){if(v[0].v.val!=null)q.data={q:C.Jp,G0:v[0].v.val-1};
else q.data={q:C.R_}}else if(Z=="Path"){q.S=E.YK;q.data={q:"pathedit",DF:"del"}}else if(Z=="Lyr")q.data={q:C.rU};
else if(Z=="Chnl"&&v[0].v.enum=="Msk")q.data={q:C.PU};else if(Z=="Chnl")q.data={q:C.XG,DF:"fromAction",P:b};
else if(Z=="Cmnd"){var dg=G.bL,cN=v[2].v.val,kM=aX.lF(dg,v[1].v.val,cN);kM.q5.splice(v[0].v.val-1,1);
return}else if(Z=="Actn"){var dg=G.bL,cN=v[1].v.val,dH=null;for(var Y=0;Y<dg.length;Y++)if(dg[Y].VH==cN)dH=dg[Y];
var kM=aX.lF(dg,v[0].v.val,cN);dH.q5.splice(dH.q5.indexOf(kM),1);return}else if(Z=="ASet"){var dg=G.bL,cN=v[0].v.val,dH=null;
for(var Y=0;Y<dg.length;Y++)if(dg[Y].VH==cN)dH=dg[Y];if(dH==null)return;dg.splice(dg.indexOf(dH),1);
H.P6=!0;return}else throw Z}else if(B=="align"){if(j.Aply&&j.Aply.v.projection=="Auto"){q.S=E.$b;q.data={q:"auto-align"}}else{q.S=E.rQ;
var a_=j.Usng.v.ADSt,N={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[a_];if(N==null)throw a_;q.data={q:"algn",P:N}}}else if(B=="applyLocking"){var g4=j.layerLocking.v,iY;
if(g4.protectTransparency)iY=[[g4.protectTransparency.v],[0]];else if(g4.protectNone)iY=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(g4);throw"e"}q.data={q:C.NN,bq:iY}}if(q.data)h.Q(q);else if(Q.data)h.Q(Q);else{console.log(b);
alert("Unknown action \""+B+"\"");throw"e"}};aX.a2i=function(b,h,G,H){G=JSON.parse(JSON.stringify(G));
he.KP(G);if(G.masterFXSwitch==null)G.masterFXSwitch={t:"bool",v:!0};console.log(G);var B=dE.CM;for(var j=0;
j<B.length;j++)if(G[B[j]]){for(var Y=0;Y<G[B[j]].v.length;Y++){var s=G[B[j]].v[Y].v;for(var q=0;q<2;
q++){var Q=s[q==0?"TrnS":"MpgS"];if(Q&&Q.v.Crv==null){var a=Q.v,l=a.Nm.v.split("=").pop(),U=H.NX;for(var N=0;
N<U.length;N++){var R=U[N].Nm.v.split("=").pop();if(R==l)a.Crv=JSON.parse(JSON.stringify(U[N].Crv))}if(Q.v.Crv==null){console.log(Q);
throw"e"}}}}}var S=new hb(w.E.r,!0);S.S=E._s;S.data={q:"setstl",o:h,P:{Lefx:{t:"objc",v:G}}};b.Q(S);
S.data={q:"confirm",o:h};b.Q(S)};aX.qK=function(b){var h={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[b.Clr.v.Clr];
if(h==null)throw b.Clr.v.Clr;return h};aX.rF=function(b,h){var G=1e6,H=0,B=b.R.length;for(var Y=0;Y<b.T.length;
Y++){G=Math.min(G,b.T[Y]);H=Math.max(H,b.T[Y])}var j=h.t,s=-1;if(j=="name"){var q=h.v.val,s=-1;for(var Y=0;
Y<B;Y++)if(b.R[Y].getName()==q){s=Y;break}}else if(j=="Enmr"){if(b.T.length!=0)s=b.T[0];if(h.v.enum=="Frwr")s=H+1;
if(h.v.enum=="Bckw")s=G-1;if(h.v.enum=="Back")s=0;if(h.v.enum=="Frnt")s=B-1;s=(s+B)%B}else if(j=="prop"){if(h.v.keyID=="Bckg")s=0}else if(j=="indx")s=h.v.val-1;
return s};var eZ={};eZ.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
eZ.ahx=["expA","clrL","selc"];eZ.GL=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];eZ.ak3=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
eZ.po=[[13,1,1],[13,1,4],[13,1,5]];eZ.mq={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
eZ.Vl=function(){var b=JSON.parse(JSON.stringify(eZ.mq));delete b.GrMp;b.GdMp="grdm";return b}();eZ.G7={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
eZ.keys={levl:[ap.zb,ap.RY],curv:[ap.zb,ap.P2],hue2:[ap.zb,ap.Y5],nvrt:[ap.zb,ap.qv],blnc:[ap.zb,ap.ge]};
eZ.Bc=function(b){var h=gY.Az("mixr");h.Mnch={t:"bool",v:b.Dx};function G(H,Y){var B={classID:"ChMx"},j={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var s in j)B[s]={t:"UntF",v:{type:"#Prc",val:H[Y+j[s]]}};return{t:"Objc",v:B}}if(b.Dx)h.Gry=G(b.P,0);
else{h.Rd=G(b.P,0);h.Grn=G(b.P,5);h.Bl=G(b.P,10)}return h};eZ.tu=function(b){function h(H,B,Y){var j={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var s in j)if(H[s])B[Y+j[s]]=H[s].v.val}var G={Dx:!1,P:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(b.Mnch&&b.Mnch.v)G.Dx=!0;if(G.Dx)h(b.Gry.v,G.P,0);else{h(b.Rd.v,G.P,0);h(b.Grn.v,G.P,5);h(b.Bl.v,G.P,10)}return G};
eZ.get=function(b){for(var h in eZ.names)if(b[h]!=null)return h;return null};eZ.q9=function(b,h){var G=eZ.Nh,H;
if(b=="brit"){var B=h.Brgh?h.Brgh.v:0,j=h.Cntr?h.Cntr.v:0,s=h.useLegacy?h.useLegacy.v:!1;if(s){var q=B/255,Q=1+j/100;
if(Q>1)Q=1+Math.tan(Math.PI/2*j/101);var a=(1-Q)/2,l=e.G4.ow(q,q,q),U=[Q,0,0,a,0,Q,0,a,0,0,Q,a,0,0,0,1],N=e.G4.multiply(U,l),R=new e.Bh(256);
for(var Y=0;Y<256;Y++)R.$[Y]=Y;e.G4.transform(R,R,N);H={type:G.n7,vo:R.$,$k:R.$,Yn:R.$,nd:!1,vS:!1}}else{var S=1024,g=-30+60*(j+100)/200,i=[];
for(var Y=0;Y<4;Y++)i.push(e.S_.$O(Y/3*255,Y/3*255,!0));i[1].v.Hrzn.v=64;i[1].v.Vrtc.v=64-g;i[2].v.Hrzn.v=128+64;
i[2].v.Vrtc.v=128+64+g;i.sort(function(ht,kE){return ht.v.Hrzn.v-kE.v.Hrzn.v});var y=e.S_.i7(i,S);function o(ht,S){var i=[],g1=3;
for(var Y=0;Y<g1+1;Y++)i.push(e.S_.$O(Y/g1*255,Y/g1*255,!0));i[1].v.Hrzn.v=130-ht*26;i[1].v.Vrtc.v=130+ht*51;
i[2].v.Hrzn.v=233-ht*48;i[2].v.Vrtc.v=233+ht*10;return e.S_.i7(i,S)}var v=o(Math.abs(B)/100,S);if(B<0){var Z=[],W=1/S;
for(var Y=0;Y<S;Y++){var d=Y*W,$=Y;while(v[$]>d&&$>1)$--;Z[Y]=$*W}v=Z}var I=new Uint8Array(S);for(var Y=0;
Y<S;Y++){var k=Math.round((S-1)*v[Y]);I[Y]=Math.round(255*y[k])}H={type:G.n7,vo:I,$k:I,Yn:I,nd:!1,vS:!1}}}if(b=="levl"){var _=[],D,A,l,F,K,V;
for(var Y=0;Y<4;Y++)_.push(b3.CC(h,Y));D=-_[0][0]/255;A=1/(_[0][1]/255-_[0][0]/255);l=e.G4.multiply(e.G4.Cu(A,A,A),e.G4.ow(D,D,D));
F=e.G4.Cu(1/(_[1][1]/255-_[1][0]/255),1/(_[2][1]/255-_[2][0]/255),1/(_[3][1]/255-_[3][0]/255));K=e.G4.ow(-_[1][0]/255,-_[2][0]/255,-_[3][0]/255);
V=e.G4.multiply(F,K);var I=new e.Bh(256);for(var Y=0;Y<256;Y++)I.$[Y]=I.B[Y]=I.J[Y]=Y;var r=1/(_[0][4]/100),c=1/(_[1][4]/100),x=1/(_[2][4]/100),X=1/(_[3][4]/100);
e.G4.transform(I,I,V);for(var Y=0;Y<256;Y++){I.$[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.$[Y]/255,c))));
I.B[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.B[Y]/255,x))));I.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.J[Y]/255,X))))}e.G4.transform(I,I,l);
for(var Y=0;Y<256;Y++){I.$[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.$[Y]/255,r))));I.B[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.B[Y]/255,r))));
I.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.J[Y]/255,r))))}D=_[0][2]/255;A=_[0][3]/255-_[0][2]/255;
l=e.G4.multiply(e.G4.ow(D,D,D),e.G4.Cu(A,A,A));F=e.G4.Cu(_[1][3]/255-_[1][2]/255,_[2][3]/255-_[2][2]/255,_[3][3]/255-_[3][2]/255);
K=e.G4.ow(_[1][2]/255,_[2][2]/255,_[3][2]/255);V=e.G4.multiply(K,F);e.G4.transform(I,I,e.G4.multiply(l,V));
H={type:G.n7,vo:I.$,$k:I.B,Yn:I.J,nd:!1,vS:!1}}if(b=="curv"){var M=hc.CC(h,0).length==256?1:0,f=[];if(M==0){var t=e.S_.tL(hc.CC(h,0),256);
for(var Y=1;Y<4;Y++){var n=e.S_.tL(hc.CC(h,Y),256);f.push(e.S_.aax(n,t))}}else{var L=[];for(var Y=0;
Y<4;Y++){var P=new Uint8Array(256);L.push(P);var z=hc.CC(h,Y);for(var $=0;$<256;$++)P[$]=z[$]}for(var Y=1;
Y<4;Y++)f.push(e.S_.aax(L[Y],L[0]))}H={type:G.n7,vo:f[0],$k:f[1],Yn:f[2],nd:!1,vS:!1}}if(b=="expA"){var T=h.Exps,p=h.Ofst,m=h.gammaCorrection,O=T?T.v:0,cb=p?p.v:0,cX=m?m.v:1,I=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var h=Y/255,e$=Math.pow(Math.abs(cb),1/(Math.PI/2));if(cb>0){h=Math.max(cb/Math.E,h);
h=h*Math.exp(cb/1.75+O/Math.PI);h=(1-e$)*h+e$*1}else{h=h*Math.exp(-cb*1.75+O/Math.PI);h=h+-e$*1.14}h=Math.pow(h,1/cX);
h=Math.max(0,Math.min(1,h));I[Y]=Math.round(h*255)}H={type:G.n7,vo:I,$k:I,Yn:I,nd:!1,vS:!1}}if(b=="vibA"){var fz=(h.vibrance?h.vibrance.v:0)/100,eC=(h.Strt?h.Strt.v:0)/100,e$=1+fz*(fz>0?.25:.5),hw=.8+.2/e$;
H={type:G.Ts,CI:[fz,eC,hw,e$]}}if(b=="hue2"){var az=[],av=[],ia=[],iJ=h.Clrz?h.Clrz.v:!1;for(var Y=0;
Y<256;Y++){az[Y]=Y/255;av[Y]=0;ia[Y]=0}var cx=bV.CC(h,0),hP=eZ.tH(cx[1]/100);if(iJ){var iS=cx[0]/360;
for(var Y=0;Y<256;Y++){az[Y]=iS;av[Y]=hP}}else{for(var Y=0;Y<256;Y++){var e4=az[Y],cc=av[Y];az[Y]+=cx[0]/360;
for(var $=0;$<6;$++){var aO=bV.CC(h,$+1),bZ=aO.Sy,d_=aO.OR,e$=0;for(var ee=1;ee<4;ee++)if(d_[ee]<d_[0])d_[ee]+=360;
var b4=d_[0],hA=d_[1],f$=d_[2],e_=d_[3],fJ=e4*360;if(fJ<d_[0])fJ+=360;var dV=(fJ-b4)/(hA-b4),ix=(fJ-f$)/(e_-f$);
if(dV<0)e$=0;else if(dV<1)e$=dV;else if(ix<0)e$=1;else if(ix<1)e$=1-ix;else e$=0;var Q=eZ.tH(bZ[1]/100);
az[Y]+=e$*bZ[0]/360;av[Y]+=e$*Q;ia[Y]+=e$*bZ[2]/100}}for(var Y=0;Y<256;Y++){av[Y]=(1+av[Y])*(1+hP)-1;
ia[Y]=Math.max(-1,Math.min(1,ia[Y]))}}var b9=new Uint8Array(256),hV=new Uint8Array(256),gq=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var eH=az[Y],eC=av[Y],eP=ia[Y];if(eH>1)eH--;if(eH<0)eH++;eC=eZ.awr(eC);eC=(1+eC)*.5;
eP=(1+eP)*.5;b9[Y]=Math.round(255*eH);hV[Y]=Math.round(255*eC);gq[Y]=Math.round(255*eP)}var c2=cx[2]/100,bL=c2<0?-c2:c2,dg=c2<0?0:1;
H={type:G.j7,axX:b9,JW:hV,a4z:gq,abt:bL*dg,Fa:1-bL,aCA:cx[2]/100,apf:iJ?1:0}}if(b=="nvrt"){var I=new Uint8Array(256);
for(var Y=0;Y<256;Y++)I[Y]=255-Y;H={type:G.n7,vo:I,$k:I,Yn:I,nd:!1,vS:!1}}if(b=="post"){var cN=h.Lvls.v,I=new Uint8Array(256),e$=cN/255.001,dH=255/(cN-1);
for(var Y=0;Y<256;Y++)I[Y]=Math.floor(Y*e$)*dH;H={type:G.n7,vo:I,$k:I,Yn:I,nd:!1,vS:!1}}if(b=="grdm"){var kM=h.Grad.v,a_=h.Rvrs,S=1024,g4;
if(kM.Clrs){var iY=e.F.ei(kM,0,0);g4=e.F.aCh(kM,iY,S,a_?a_.v:!1)}else{g4=e.F.anA(kM,S,a_?a_.v:!1)}var fa=e.U(S),ka=e.U(S),b1=e.U(S);
e.uA(g4,fa,0);e.uA(g4,ka,1);e.uA(g4,b1,2);H={type:G.n7,vo:fa,$k:ka,Yn:b1,nd:!0,vS:!1}}if(b=="selc"){var bg=new Float32Array(9*3*2),cl=h.EX,c0=h.Mthd?h.Mthd.v.CrcM=="Absl":!1;
for(var $=0;$<9;$++){var kL=$*6,c_=dK.CC(h,$),cA=c_[0]/100,aw=c_[1]/100,kq=c_[2]/100,f4=c_[3]/100;if(c0){bg[kL]=bg[kL+1]=bg[kL+2]=1;
bg[kL+3]=cA*(1+f4)+f4;bg[kL+4]=aw*(1+f4)+f4;bg[kL+5]=kq*(1+f4)+f4}else{bg[kL+0]=(1+cA)*(1+f4);bg[kL+1]=(1+aw)*(1+f4);
bg[kL+2]=(1+kq)*(1+f4)}}H={type:G.mJ,a4e:bg}}if(b=="blwh"){var gF="Rd Yllw Grn Cyn Bl Mgnt".split(" "),H=[],cg=0,f0=0;
for(var Y=0;Y<6;Y++)H.push(h[gF[Y]].v);H.push(h.useTint.v,h.tintColor.v);var fm=[];for(var Y=0;Y<6;Y++)fm.push((H[Y]-50)/50);
var aP=e.F.an(H[7]);aP.$/=255;aP.B/=255;aP.J/=255;var hh=e.j$(aP.$,aP.B,aP.J),eP=e.i_(e.Jr(hh.CN,1,.5)),gW=hh.Xk*hh.ZV;
if(eP==.5)cg=f0=.5;else{cg=gW*(.5-eP)/(.5/eP-1);f0=1-gW*(.5-eP)-1/(2*(1-eP));f0/=1-1/(2*(1-eP))}H={type:G.PC,aik:fm,D2:H[6]?1:0,ajK:hh.CN,i_:eP,awJ:gW,ea:cg,aev:f0}}if(b=="blnc"){var _=[],hk=["ShdL","MdtL","HghL"];
for(var Y=0;Y<3;Y++){if(h[hk[Y]]==null){_[Y]=[0,0,0];continue}var cN=h[hk[Y]].v,aQ=cN[0].v/100,fj=cN[1].v/100,fd=cN[2].v/100,en=h.PrsL==null||h.PrsL.v?(Math.min(aQ,fj,fd)+Math.max(aQ,fj,fd))/2:0;
_[Y]=[aQ-en,fj-en,fd-en]}var f=[e.U(256),e.U(256),e.U(256)];for(var $=0;$<3;$++)for(var Y=0;Y<256;Y++){var d=Y*(1/255),hl=0,g=0,ed=0;
g=_[2][$];ed=Math.abs(g);if(g<0)hl=Math.pow(d,Math.SQRT2);else hl=1.63*(Math.pow(d+.04,.5)-.2);d=ed*hl+(1-ed)*d;
g=_[1][$];ed=Math.abs(g);if(g<0)hl=Math.pow(d,2);else hl=Math.min(2.35*(Math.pow(d+.09,.5)-.3),Math.pow(d,1/2));
d=ed*hl+(1-ed)*d;g=_[0][$];ed=Math.abs(g);if(g<0)hl=d<.4?0:Math.pow((d-.4)/.6,Math.SQRT2);else hl=Math.pow(d,Math.SQRT2/2);
d=ed*hl+(1-ed)*d;d=Math.max(0,Math.min(1,d));f[$][Y]=Math.round(d*255)}H={type:G.n7,vo:f[0],$k:f[1],Yn:f[2],nd:!1,vS:!1}}if(b=="phfl"){var hG=e.F.an(h.Clr.v),i0=[hG.$/255,hG.B/255,hG.J/255],bS=h.Dnst.v/100,f=[e.U(256),e.U(256),e.U(256)];
for(var $=0;$<3;$++)for(var Y=0;Y<256;Y++){var d=Y*(1/255),dC=d*i0[$];dC=Math.max(0,Math.min(1,dC));
d=bS*dC+(1-bS)*d;f[$][Y]=Math.round(d*255)}H={type:G.n7,vo:f[0],$k:f[1],Yn:f[2],nd:!1,vS:h.PrsL.v}}if(b=="thrs"){var I=e.U(256);
for(var Y=h.Lvl.v;Y<256;Y++)I[Y]=255;H={type:G.n7,vo:I,$k:I,Yn:I,nd:!0,vS:!1}}if(b=="mixr"){var ir=eZ.tu(h),N=[];
for(var Y=0;Y<ir.P.length;Y++)if(Y%5!=3)N.push(ir.P[Y]/100);if(ir.Dx){for(var ih=1;ih<3;ih++)for(var d=0;
d<4;d++)N[ih*4+d]=N[d]}H={type:G.iz,GF:N}}if(b=="rplc"){var cC=h.Mnm.v,dT=h.Mxm.v;H={type:G.zk,DW:[cC.Lmnc.v,cC.A.v,cC.B.v],x5:[dT.Lmnc.v,dT.A.v,dT.B.v],shift:[h.H.v/360,h.Strt.v/100,h.Lght.v/100],BD:h.Fzns.v/150}}if(b=="clrL"&&h.profile){var jq=new Uint8Array(h.profile.v),kz=ICC.R(jq.buffer),ce=[],cp=17,ce=ICC.U.sampleLUT(kz,cp);
H={type:G.Uc,VN:ICC.U.lutToRGBA8(ce,cp),auA:ce,aM:cp}}return H};eZ.Me=function(b,h){var G=-1;if(b!="levl"||h==null)G=-1;
else if(h.Auto)G=0;else if(h.AuCo)G=1;else if(h.autoBlackWhite)G=2;return G};eZ.Nh={n7:0,j7:1,Ts:2,mJ:3,PC:4,iz:5,zk:6,Uc:7};
eZ.tH=function(b){if(b<0)return b;return Math.pow(Math.tan(Math.PI/2*b),1.3)};eZ.awr=function(b){if(b<0)return b;
b=Math.pow(b,1/1.3);return Math.atan2(b,1)/(Math.PI/2)};eZ.BN=function(b,h,G,H){var B=eZ.Nh,j=Date.now();
if(cG.pl&&H.X()>300*300&&b.type!=B.n7&&b.type!=B.Uc){H=H.clone();H.x=H.y=0;var s=cG.t4(0,H.j,H._);s.set(h);
cG.UK(s,H);s.xo(H);eZ.s_(b,s.oG,H);s.get(G);return}if(b.type==B.Uc){var q=b.auA,Q=b.aM;ICC.U.applyLUT(q,Q,h,G);
var a=h.length;for(var Y=0;Y<a;Y+=4)G[Y+3]=h[Y+3]}if(b.type==B.iz)e.G4.avk(h,G,b.GF);if(b.type==B.PC){var l=b.awJ,U=b.i_,N=b.ea,R=b.aev,a=h.length;
for(var Y=0;Y<a;Y+=4){var H=h[Y]*(1/255),S=h[Y+1]*(1/255),g=h[Y+2]*(1/255),i=e.XH(H,S,g),y=0;for(var o=0;
o<6;o++)y+=Math.min(1,1.7*(1-i.Vp))*i.Xk*b.aik[o]*eZ.aoY(i.CN,o*(1/6));var v=Math.max(0,Math.min(1,i.Vp*(1+y)));
if(b.D2==1){var Z=0;if(v<N)Z=v*(.5/U);else if(v<R)Z=v+l*(.5-U);else Z=1-(1-v)*.5/(1-U);i.CN=b.ajK;i.Xk=Math.min(1,l+3*l*Math.abs(v-.5*(N+R)));
i.Vp=Z}else{i.CN=0;i.Xk=0;i.Vp=v}var W=e.Jr(i.CN,i.Xk,i.Vp);G[Y]=Math.round(W.$*255);G[Y+1]=Math.round(W.B*255);
G[Y+2]=Math.round(W.J*255)}}if(b.type==B.mJ){var d=b.a4e,a=h.length,$=1/255;for(var Y=0;Y<a;Y+=4){var H=h[Y]*$,S=h[Y+1]*$,g=h[Y+2]*$,i=e.XH(H,S,g),I=Math.max(H,Math.max(S,g)),k=Math.min(H,Math.min(S,g)),_=1-H,D=1-S,A=1-g,F=0,K=0,V=0;
for(var o=0;o<9;o++){var r=o*6,M=0;if(d[r]==1&&d[r+1]==1&&d[r+2]==1&&d[r+3]==0&&d[r+4]==0&&d[r+5]==0)continue;
var c=_*d[r]+d[r+3],x=D*d[r+1]+d[r+4],X=A*d[r+2]+d[r+5];if(o<6)M=eZ.aoY(i.CN,o*(1/6))*i.Xk*2*Math.min(i.Vp,1-i.Vp);
else if(o==6)M=Math.max(0,k-.5)*2;else if(o==7)M=1-(Math.abs(I-.5)+Math.abs(k-.5));else M=Math.max(0,.5-I)*2;
F+=(Math.max(0,Math.min(1,c))-_)*M;K+=(Math.max(0,Math.min(1,x))-D)*M;V+=(Math.max(0,Math.min(1,X))-A)*M}_=Math.max(0,Math.min(1,_+F));
D=Math.max(0,Math.min(1,D+K));A=Math.max(0,Math.min(1,A+V));H=1-_;S=1-D;g=1-A;G[Y]=Math.round(H*255);
G[Y+1]=Math.round(S*255);G[Y+2]=Math.round(g*255)}}if(b.type==B.n7){e.ah7(h,G,b.vo,b.$k,b.Yn,b.nd,b.vS)}if(b.type==B.j7){var f=new Uint32Array(h.buffer),t=new Uint32Array(G.buffer),a=f.length;
if(eZ.cV==null){eZ.cV=new Float64Array(256);for(var Y=0;Y<256;Y++)eZ.cV[Y]=eZ.tH(-1+2*Y/255)}var n=eZ.cV;
for(var Y=0;Y<a;Y++){var L=f[Y],H=(L&255)*(1/255),S=(L>>>8&255)*(1/255),g=(L>>>16&255)*(1/255),P=L>>>24,z=Math.min(H,S,g),T=Math.max(H,S,g),p=0,m=0,O=0;
p=e.XH(H,S,g).CN;var cb=~~(p*255+.5),cX=b.axX[cb]*(1/255),e$=b.JW[cb]*(1/255)*2-1,fz=b.a4z[cb]*(1/255)*2-1,y=-fz,eC=z;
if(0<fz){y=fz;eC=T}var hw=b.abt+b.Fa*y*eC,az=b.Fa*(1-y);H=hw+az*H;S=hw+az*S;g=hw+az*g;T=Math.max(H,S,g);
z=Math.min(H,S,g);O=(T+z)*.5;if(T!=z){var av=T-z;m=O>.5?av/(2-(T+z)):av/(T+z)}var ia=e$;if(b.apf==0){e$=n[Math.floor((1+e$)*127.5)];
ia=Math.min(m*(1+e$),1)}var W=e.Jr(cX,ia,O);H=W.$;S=W.B;g=W.J;t[Y]=P<<24|g*255<<16|S*255<<8|H*255}}if(b.type==B.zk){e.MI(h,G);
var f=new Uint32Array(h.buffer),t=new Uint32Array(G.buffer),a=f.length,iJ=b.BD,cx=1/iJ,hP={RY:b.DW[0],G:b.DW[1],J:b.DW[2]},iS={RY:b.x5[0],G:b.x5[1],J:b.x5[2]};
for(var Y=0;Y<a;Y++){var L=f[Y],e4=L&255,cc=L>>>8&255,aO=L>>>16&255,H=e4*(1/255),S=cc*(1/255),g=aO*(1/255),P=L>>>24,bZ=e.ec(e4,cc,aO),d_=e.aw7(bZ,hP,iS,iJ,cx);
if(d_==0)continue;var i=e.XH(H,S,g),cX=2+i.CN+b.shift[0];i.CN=cX-~~cX;i.Xk=Math.max(0,Math.min(1,i.Xk+b.shift[1]));
i.Vp=Math.max(0,Math.min(1,i.Vp+b.shift[2]));var W=e.Jr(i.CN,i.Xk,i.Vp);H=(1-d_)*H+d_*W.$;S=(1-d_)*S+d_*W.B;
g=(1-d_)*g+d_*W.J;t[Y]=P<<24|g*255<<16|S*255<<8|H*255}}if(b.type==B.Ts){var f=new Uint32Array(h.buffer),t=new Uint32Array(G.buffer),a=f.length,ee=b.CI[0],b4=b.CI[1],hA=b.CI[2],y=b.CI[3],f$=e.G4.kJ([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),e_=e.G4.Q6(f$),fJ=2.4;
function Q(gq){return Math.max(0,Math.min(1,gq))}function dV(gq){return Math.pow(gq,fJ)}function ix(gq){return Math.pow(gq,1/fJ)}function b9(H,S,g,gq){H=dV(H);
S=dV(S);g=dV(g);var eH=e.G4.m9(f$,[H,S,g,1]);eH[0]*=hA;eH[1]*=y;eH[2]*=y;var W=e.G4.m9(e_,eH);W[0]=ix(Q(W[0]));
W[1]=ix(Q(W[1]));W[2]=ix(Q(W[2]));return W}for(var Y=0;Y<a;Y++){var L=f[Y],H=(L&255)*(1/255),S=(L>>>8&255)*(1/255),g=(L>>>16&255)*(1/255),P=L>>>24,W=b9(H,S,g,ee);
H=W[0];S=W[1];g=W[2];var hV=e.XH(H,S,g);hV.Xk=Math.max(0,Math.min(1,hV.Xk*(1+b4)));W=e.Jr(hV.CN,hV.Xk,hV.Vp);
H=W.$;S=W.B;g=W.J;t[Y]=P<<24|g*255<<16|S*255<<8|H*255}}};eZ.s_=function(b,h,G){cG.xU.s_(b,h)};eZ.aoY=function(b,h){var G=e.JK(h,b)*6;
return Math.max(0,Math.min(1,G<0?1+G:1-G))};var gY={};gY.AF=function(b){var h=b.filterID.v;return h>16777215?J.a8J(h):b.Fltr.v.classID};
gY.HI=[{Tf:"GEfc"},{Tf:"LnCr"},{Tf:"Adobe Camera Raw Filter"},{Tf:"LqFy"},{Tf:"VaPo",oq:!0},{iZ:"3D",Xg:["lightFilterGradient","Dila"]},{iZ:[24,2],Xg:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{iZ:[24,4],Xg:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{iZ:[24,6],Xg:["AdNs","Dspc","DstS","Mdn ","denoise"]},{iZ:[24,8],Xg:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{iZ:[24,10],Xg:["Flam","Clds","DfrC","Fbrs","LnsF"]},{iZ:[24,12],Xg:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{iZ:[24,14],Xg:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{iZ:[24,16],Xg:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{iZ:"Fourier",Xg:["dDFT","iDFT"]}];
gY.G7={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
gY.yq={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
gY.L={rigidTransform:E.iA};gY.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gY.Az=function(b){var h=null;if(b=="GEfc")h={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:hn.Az("GlwE")}]}};
if(b=="LqFy"){var G={Ps:5,CN:5,map:new Float32Array(5*5*2)},H=new Uint8Array(ic.Qg(G)),B=[];for(var Y=0;
Y<H.length;Y++)B.push(H[Y]);h={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:B}}}if(b=="rigidTransform"){h={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(b=="LnCr")h={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(b=="adaptCorrect")h={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(b=="Dfs ")h={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(b=="Fbrs")h={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(b=="Embs")h={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(b=="oilPaint")h={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(b=="TrcC")h={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(b=="Wnd ")h={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(b=="lightFilterGradient")h={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(b=="boxblur")h={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(b=="GsnB")h={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(b=="Bokh")h={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(b=="MtnB")h={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(b=="RdlB")h={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(b=="surfaceBlur")h={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(b=="denoise")h={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(b=="Dspl")h={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(b=="Pnch")h={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(b=="Plr ")h={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(b=="Rple")h={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(b=="Shr ")h={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(b=="Sphr")h={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(b=="Twrl")h={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(b=="Wave")h={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(b=="ZgZg")h={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(b=="AdNs")h={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(b=="DstS")h={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(b=="Mdn ")h={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(b=="ClrH")h={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(b=="Crst")h={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(b=="Mztn")h={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(b=="Msc ")h={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(b=="Pntl")h={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(b=="LnsF")h={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(b=="Dthr")h={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(b=="Part")h={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(b=="Adobe Camera Raw Filter")h={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(b=="smartSharpen")h={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(b=="UnsM")h={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(b=="HghP")h={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(b=="HsbP")h={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(b=="Mxm ")h={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(b=="Mnm ")h={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(b=="Ofst")h={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(b=="Kale")h={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(b=="Rept")h={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(b=="Flam")h={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(b=="Ctoa")h={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(b=="brit")h={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(b=="levl")h={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(b=="curv")h={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(b=="expA")h={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(b=="vibA")h={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(b=="hue2")h={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(b=="blnc")h={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(b=="blwh")h={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(b=="phfl")h={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(b=="grdm")h={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(dE.Qy[6]).Grad};
if(b=="selc")h={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(b=="thrs")h={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(b=="mixr")h={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(b=="clrL")h={__name:"Color Lookup",classID:"colorLookup"};if(b=="post")h={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(b=="rplc")h={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(b=="fade")h={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(b=="aply")h={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(b=="matc"){h={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(b=="Dila")h={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(b=="blendOptions")h={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return h};gY.gu={sFlam:function(b,h){h[0]=b.Type.v;h[1]=b.Leng.v;h[2]=b.RndL.v;h[3]=b.Widt.v;h[4]=b.Angl.v;
h[5]=b.Intr.v;h[6]=b.Adpt.v;h[7]=b.Clr.v;h[8]=b.Qual.v;h[9]=b.Turb.v;h[10]=b.Jag.v;h[11]=b.Opct.v.val;
h[12]=b.Lins.v;h[13]=b.Botm.v;h[14]=b.Styl.v;h[15]=b.Shap.v;h[16]=b.RnSh.v;h[17]=b.Arng.v},gFlam:function(b,h){b.Type.v=h[0];
b.Leng.v=h[1];b.RndL.v=h[2];b.Widt.v=h[3];b.Angl.v=h[4];b.Intr.v=h[5];b.Adpt.v=h[6];b.Clr.v=h[7];b.Qual.v=h[8];
b.Turb.v=h[9];b.Jag.v=h[10];b.Opct.v.val=h[11];b.Lins.v=h[12];b.Botm.v=h[13];b.Styl.v=h[14];b.Shap.v=h[15];
b.RnSh.v=h[16];b.Arng.v=h[17]},sAdNs:function(b,h){h[0]=b.Nose.v.val;h[1]=["Gsn","Unfr"].indexOf(b.Dstr.v.Dstr);
h[2]=b.Mnch.v},gAdNs:function(b,h){b.Nose.v.val=h[0];b.Dstr.v.Dstr=["Gsn","Unfr"][h[1]];b.Mnch.v=h[2]},sDstS:function(b,h){h[0]=b.Rds.v;
h[1]=b.Thsh.v},gDstS:function(b,h){b.Rds.v=h[0];b.Thsh.v=h[1]},sGsnB:function(b,h){h[0]=b.Rds.v.val},gGsnB:function(b,h){b.Rds.v.val=h[0]},sDila:function(b,h){h[0]=b.Crop.v.val;
h[1]=b.Rds.v.val},gDila:function(b,h){b.Crop.v.val=h[0];b.Rds.v.val=h[1]},sHghP:function(b,h){h[0]=b.Rds.v.val},gHghP:function(b,h){b.Rds.v.val=h[0]},sHsbP:function(b,h){var G=["RGBC","HSBl","HSLC"];
h[0]=G.indexOf(b.Inpt.v.ClrS);h[1]=G.indexOf(b.Otpt.v.ClrS)},gHsbP:function(b,h){var G=["RGBC","HSBl","HSLC"];
b.Inpt.v.ClrS=G[h[0]];b.Otpt.v.ClrS=G[h[1]]},"sMxm ":function(b,h){var G="preserveShape";h[0]=b.Rds.v.val;
h[1]=b[G]?["squareness","Rndn"].indexOf(b[G].v[G]):0},"gMxm ":function(b,h){var G="preserveShape";b.Rds.v.val=h[0];
b[G]={t:"enum",v:{preserveShape:["squareness","Rndn"][h[1]]}}},"sMnm ":function(b,h){var G="preserveShape";
h[0]=b.Rds.v.val;h[1]=b[G]?["squareness","Rndn"].indexOf(b[G].v[G]):0},"gMnm ":function(b,h){var G="preserveShape";
b.Rds.v.val=h[0];b[G]={t:"enum",v:{preserveShape:["squareness","Rndn"][h[1]]}}},sMtnB:function(b,h){h[0]=[b.Angl.v];
h[1]=b.Dstn.v.val;console.log(h)},gMtnB:function(b,h){b.Angl.v=typeof h[0]=="number"?h[0]:h[0][0];b.Dstn.v.val=h[1]},sOfst:function(b,h){h[0]=b.Hrzn.v;
h[1]=b.Vrtc.v;h[2]=["Rpt","Bckg","Wrp"].indexOf(b.Fl.v.FlMd)},gOfst:function(b,h){b.Hrzn.v=h[0];b.Vrtc.v=h[1];
b.Fl.v.FlMd=["Rpt","Bckg","Wrp"][h[2]]},sPnch:function(b,h){h[0]=b.Amnt.v},gPnch:function(b,h){b.Amnt.v=h[0]},"sPlr ":function(b,h){h[0]=["RctP","PlrR"].indexOf(b.Cnvr.v.Cnvr)},"gPlr ":function(b,h){b.Cnvr.v.Cnvr=["RctP","PlrR"][h[0]]},sRple:function(b,h){h[0]=b.Amnt.v;
h[1]=["Sml","Mdm","Lrg"].indexOf(b.RplS.v.RplS)},gRple:function(b,h){b.Amnt.v=h[0];b.RplS.v.RplS=["Sml","Mdm","Lrg"][h[1]]},sTwrl:function(b,h){h[0]=b.Angl.v},gTwrl:function(b,h){b.Angl.v=h[0]},sZgZg:function(b,h){h[0]=b.Amnt.v;
h[1]=b.NmbR.v;h[2]=["ArnC","OtFr","PndR"].indexOf(b.ZZTy.v.ZZTy)},gZgZg:function(b,h){b.Amnt.v=h[0];
b.NmbR.v=h[1];b.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][h[2]]},sUnsM:function(b,h){h[0]=b.Amnt.v.val;h[1]=b.Rds.v.val;
h[2]=b.Thsh.v},gUnsM:function(b,h){b.Amnt.v.val=h[0];b.Rds.v.val=h[1];b.Thsh.v=h[2]},sWave:function(b,h){h[0]=b.NmbG.v;
h[1]=b.WLMn.v;h[2]=b.WLMx.v;h[3]=b.AmMn.v;h[4]=b.AmMx.v;h[5]=b.SclH.v;h[6]=b.SclV.v;h[7]=["WvSn","WvTr","WvSq"].indexOf(b.Wvtp.v.Wvtp);
h[8]=["WrpA","RptE"].indexOf(b.UndA.v.UndA);h[9]=b.RndS.v},gWave:function(b,h){b.NmbG.v=h[0];b.WLMn.v=h[1];
b.WLMx.v=h[2];b.AmMn.v=h[3];b.AmMx.v=h[4];b.SclH.v=h[5];b.SclV.v=h[6];b.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][h[7]];
b.UndA.v.UndA=["WrpA","RptE"][h[8]];if(h[9]!=null){var G=parseInt(h[9]);if(isNaN(G))G=248325464;G=Math.max(0,Math.min(268435455,G));
b.RndS.v=G}},sDspl:function(b,h){h[0]=b.HrzS.v;h[1]=b.VrtS.v;h[2]=0;h[3]=["WrpA","RptE"].indexOf(b.UndA.v.UndA)},gDspl:function(b,h){b.HrzS.v=h[0];
b.VrtS.v=h[1];b.UndA.v.UndA=["WrpA","RptE"][h[3]];b.DspF.v.pth=h[4]},sbrit:function(b,h){h[0]=b.Brgh?b.Brgh.v:0;
h[1]=b.Cntr?b.Cntr.v:0;h[2]=b.useLegacy?b.useLegacy.v:!1},gbrit:function(b,h){b.Brgh.v=h[0];b.Cntr.v=h[1];
if(h[2]!=null)b.useLegacy.v=h[2]}};gY.a3_=function(b){var h=new cJ(0,0);if(b.enab.v==!1)return h;var G=b.filterFXList.v;
for(var Y=0;Y<G.length;Y++){var H=G[Y].v;if(H.enab.v==!1)continue;var B=gY.AF(H),j=gY.MA(B,H.Fltr?H.Fltr.v:null);
if(j.x>h.x)h.x=j.x;if(j.y>h.y)h.y=j.y}return h};gY.MA=function(b,h){var G=0,H=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(b)!=-1){var B=h.Rds?h.Rds.v.val:1;
G=H=B*2.57}if(b=="MtnB")G=H=h.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(b)!=-1){G=H=1e4}if(b=="GEfc")return hn.MA(h);
return new cJ(Math.ceil(G),Math.ceil(H))};gY.Aq=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gY.pY=function(b,h){var G={$:h.nU>>16,B:h.nU>>8&255,J:h.nU&255},H={$:h.W9>>16,B:h.W9>>8&255,J:h.W9&255},B=gY.names[b];
if(B==null)B=eZ.names[b];var j=b;for(var s in eZ.mq)if(eZ.mq[s]==b)j=s;var q={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:bp.get(B)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:e.F.t1(G)},BckC:{t:"Objc",v:e.F.t1(H)},filterID:{t:"long",v:j.length==4?J.aEZ(j):777}}},Q=gY.Az(b);
if(Q)q.v.Fltr={t:"Objc",v:Q};return q};gY.oS=function(b,h,G,H){var B=Date.now(),j=cG.pl&&Math.max(H.j,H._)<=cG.ZI.getParameter(cG.ZI.MAX_TEXTURE_SIZE);
if(b<1){var s=Math.round(b*5),q=[1,2,1,2,[40,26,13,6,4,2][s],2,1,2,1];q=e.aU.Ol(q);if(!j){e.yB(G);var Q=G.slice(0);
e.aU.c_(Q,G,H.j,H._,q,255);e.ME(G)}else{var a=H.j,l=H._,U=cG.t4(0,a,l);U.set(G);var N=cG.t4(1,a,l),R=new Float32Array([1/a,1/l]);
cG.UK(N);cG.filter.s_({type:cG.filter.afM,mc:R,ayO:new Float32Array(q)},U.P9);N.get(G)}}else{var S=h==e.Zt.Is?0:h==e.Zt.lC?1:2,g=[];
while(S!=2&&b*[1,2.4][S]>20&&g.length<4){var i=e.hd(G,H);g.push(G,H);G=i.Ur;H=i.rect;b/=2}var a=H.j,l=H._;
if(!j||S==2&&b>15){e.yB(G);h(G,H,b);e.ME(G)}else{var U=cG.t4(0,a,l);U.set(G);var N=cG.t4(1,a,l),R=new Float32Array([1/a,1/l]);
if(S==0){var y=1;while(y<b)y<<=1;cG.UK(N);cG.filter.s_({type:cG.filter.PE,mc:R,ya:b,Mo:[0,0,y]},U.P9);
cG.UK(U);cG.filter.s_({type:cG.filter.PE,mc:R,ya:b,Mo:[0,1,y]},N.P9);U.get(G)}else if(S==1){var o=3,v=e.Zt.cg(b,o);
for(var Y=0;Y<o;Y++){var Z=v[Y]>>>1,W=1;while(W<Z)W<<=1;if(Z==0)continue;cG.UK(N);cG.filter.s_({type:cG.filter.PE,mc:R,ya:Z,Mo:[0,0,W]},U.P9);
cG.UK(U);cG.filter.s_({type:cG.filter.PE,mc:R,ya:Z,Mo:[0,1,W]},N.P9)}U.get(G)}else{var y=1;while(y<b)y<<=1;
cG.UK(N);cG.filter.s_({type:cG.filter.PE,mc:R,ya:b,Mo:[0,0,y]},U.P9);N.get(G)}}var d=Date.now();while(g.length!=0){var $=g.pop(),I=g.pop();
e.scale.a3Q(G,H.j,H._,I,$.j,$._);G=I;H=$}}};gY.a75=function(b,h,G,H){for(var Y=0;Y<b.length;Y++){G[Y]=b[Y]*(1/255);
H[Y]=0}FFT.fft2d(G,H);var B=h>>>1,j=16384,s=128,Q=100;while(s<h){s<<=1;j<<=2}var q=255/Math.log(j),a=-100;
for(var l=0;l<h;l++)for(var U=0;U<B;U++){var N=h+B+l&h-1,R=G[N*h+U],S=H[N*h+U],g=Math.sqrt(R*R+S*S),i=Math.atan2(S,R);
b[l*h+U]=Math.round(q*Math.log(g+1));b[l*h+B+U]=Math.round((Math.PI+i)*(255*.5/Math.PI))}};gY.a9R=function(b,h,G,H){G.fill(0);
H.fill(0);var B=h>>>1,j=16384,s=128;while(s<h){s<<=1;j<<=2}var q=255/Math.log(j),Q=[],a=[],l=[];for(var Y=0;
Y<256;Y++){Q[Y]=Math.exp(Y/q)-1;var U=Y*(2*Math.PI/255)-Math.PI;a[Y]=Math.sin(U);l[Y]=Math.cos(U)}for(var N=0;
N<h;N++)for(var R=0;R<B;R++){var S=h+B+N&h-1,g=Q[b[N*h+R]],U=b[N*h+B+R],i=g*l[U],y=g*a[U];G[S*h+R]=i;
H[S*h+R]=y;if(R!=0){var o=S==0?S*h+h-R:(h-S)*h+(h-R);G[o]=i;H[o]=-y}}FFT.ifft2d(G,H);for(var Y=0;Y<b.length;
Y++){b[Y]=Math.max(0,Math.min(255,~~(.5+255*G[Y])))}};gY.aDZ=new ArrayBuffer(512);gY.a5O=function(b){var h=gY.aDZ,G=b.length;
if(h.byteLength<G)gY.aDZ=h=new ArrayBuffer(G);var H=new Uint8Array(h);for(var Y=0;Y<G;Y+=4){H[Y]=b[Y];
H[Y+1]=b[Y+1];H[Y+2]=b[Y+2];H[Y+3]=b[Y+3]}return h};gY.BN=function(b,h,G,H,B,j,s){if(j==null)j={buffer:e.U(h.buffer.length),rect:h.rect.clone()};
j.buffer.set(h.buffer);var q=G&&G.RndS?G.RndS.v>>>1:0;if(b=="GEfc"){var Q=[];if(G.GEfs){var a=G.GEfs.v;
for(var Y=0;Y<a.length;Y++){var l=a[Y].v;if(l.GELv&&l.GELv.v==!1)continue;Q.push(l)}}else Q=[G];for(var Y=0;
Y<Q.length;Y++){var U;if(Y==0)hn.BN(b,h,Q[Y],H,B,j,s);else{if(U==null)U={buffer:e.U(h.buffer.length),rect:h.rect.clone()};
e.MI(j.buffer,U.buffer);hn.BN(b,U,Q[Y],H,B,j,s)}}}if(b=="Dila"){var N=G.Crop.v.val,R=G.Rds.v.val+N;R=R*R;
if(R==0)return;var S=h.rect,g=S.j,i=S._,y=g*i,o=h.buffer,U=j.buffer,v=e.U(y);e.uA(o,v,3);if(N!=0){var Z=S.clone();
Z.Mx(1,1);var W=e.U(Z.X());e.wX(v,S,W,Z);e.Q6(W);e.style.stroke(W,W,Z,N);e.Q6(W);e.wX(W,Z,v,S)}var d=e.style.tp(v,g,i);
U.fill(0);for(var $=0;$<i;$++)for(var I=0;I<g;I++){var Y=$*g+I,k=Y<<1,_=Y<<2,D=d[k],A=d[k+1];if(D*D+A*A<R){var F=($+A)*g+(I+D)<<2;
U[_]=o[F];U[_+1]=o[F+1];U[_+2]=o[F+2];U[_+3]=255}}}if(b=="blurbTransform"){}if(b=="Adobe Camera Raw Filter"){var S=h.rect,g=S.j,i=S._,y=g*i,K=y*4,V=y*3,r=new Float32Array(g*i*3),c=h.buffer;
for(var Y=0;Y<y;Y++){var x=Y*3,_=Y*4;r[x]=c[_]*(1/255);r[x+1]=c[_+1]*(1/255);r[x+2]=c[_+2]*(1/255)}var X=JSON.parse(JSON.stringify(G));
delete X.Upri;delete X.GuUr;var M=r.slice(0);kr(r,g,i,M,X);r=M;c=j.buffer;for(var Y=0;Y<y;Y++){var x=Y*3,_=Y*4;
c[_]=255*Math.max(0,Math.min(1,r[x]));c[_+1]=255*Math.max(0,Math.min(1,r[x+1]));c[_+2]=255*Math.max(0,Math.min(1,r[x+2]))}}if(b=="Fct "){var S=h.rect,g=S.j,i=S._,y=g*i,K=y*4;
function f(gB){var e_=gB.slice(0);for(var $=0;$<3;$++)for(var I=0;I<3;I++)e_[$*3+I]=gB[(2-I)*3+$];return e_}function t(hz,cO,dw,bd){var dG=0;
for(var $=0;$<3;$++)for(var I=0;I<3;I++)dG+=cO[$*3+I]*hz[(bd-1+$)*g+dw-1+I];return dG}var n=[8,5,2,5,2,-1,2,-1,-4],L=[5,5,5,2,2,2,-1,-1,-1],P=[2,2,2,2,2,2,2,2,2],z=[];
z.push(n);for(var Y=0;Y<3;Y++)z.push(f(z[z.length-1]));z.push(L);for(var Y=0;Y<3;Y++)z.push(f(z[z.length-1]));
z.push(P);for(var Y=0;Y<9;Y++)z[Y]=e.aU.Ol(z[Y]);var T=[-g-1,-g,-g+1,-1,0,1,g-1,g,g+1],p=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],m=e.U(y),cb=new Float32Array(y),M=e.U(y);
for(var cX=0;cX<3;cX++){e.uA(h.buffer,m,cX);for(var e$=0;e$<1;e$++){for(var $=1;$<i-1;$++)for(var I=1;
I<g-1;I++){var fz=$*g+I,eC=m[fz];cb[fz]=1e9;for(var Y=0;Y<9;Y++){var hw=t(m,z[Y],I,$),az=(hw-eC)*(hw-eC);
if(az<cb[fz])cb[fz]=az}}for(var $=1;$<i-1;$++)for(var I=1;I<g-1;I++){var av=0,ia=1e9;for(var Y=0;Y<9;
Y++){var iJ=$*g+I+T[Y],az=cb[iJ];if(az<ia){ia=az;av=m[iJ]}}M[$*g+I]=av}m.set(M)}e.aj(M,j.buffer,cX)}}if(b=="adaptCorrect"){var S=h.rect,g=S.j,i=S._,y=g*i,K=y*4,cx=G.sdwM.v,hP=cx.Amnt.v.val/100,iS=cx.Wdth.v.val/100,e4=cx.Rds.v,cc=G.hglM.v,aO=cc.Amnt.v.val/100,bZ=cc.Wdth.v.val/100,d_=cc.Rds.v;
e.apV.EP(h.buffer,j.buffer,g,i,hP,iS,e4,aO,bZ,d_,G.ClrC.v/100,G.Cntr.v/100)}if(b=="denoise"){var S=h.rect,g=S.j,i=S._,ee=G.channelDenoise.v[0].v;
e.aF1.asG(h.buffer,g,i,j.buffer,ee.Amnt.v/10,ee.EdgF.v/100)}if(b=="HsbP"){var b4=G.Inpt.v.ClrS,hA=G.Otpt.v.ClrS,S=h.rect,g=S.j,i=S._,y=g*i;
for(var Y=0;Y<y;Y++){var _=Y*4,e$=h.buffer[_]*(1/255),f$=h.buffer[_+1]*(1/255),e_=h.buffer[_+2]*(1/255);
if(b4=="RGBC"){}else if(b4=="HSLC"){var M=e.Jr(e$,f$,e_);e$=M.$;f$=M.B;e_=M.J}else if(b4=="HSBl"){var M=e.anV(e$,f$,e_);
e$=M.$;f$=M.B;e_=M.J}var fJ=e$,dV=f$,ix=e_;if(hA=="RGBC"){}else if(hA=="HSLC"){var M=e.XH(e$,f$,e_);
fJ=M.CN;dV=M.Xk;ix=M.Vp}else if(hA=="HSBl"){var M=e.adD(e$,f$,e_);fJ=M.CN;dV=M.Xk;ix=M.J}j.buffer[_]=~~(255*fJ);
j.buffer[_+1]=~~(255*dV);j.buffer[_+2]=~~(255*ix)}}if(b=="Fbrs"){var S=h.rect,g=S.j,i=S._;e.g.ans(h.buffer,g,i,j.buffer,[G.Vrnc.v,G.Strg.v,q]);
var b9=e.U(g*i);e.uA(j.buffer,b9,0);e.Q6(b9);hn.Xr(b9,j.buffer,H,B)}if(b=="Frgm"){var S=h.rect,g=S.j,i=S._,hV=h.buffer.slice(0);
e.yB(hV);e.g.alo(hV,g,i,j.buffer);e.ME(j.buffer)}if(b=="Flam"){var S=h.rect,g=S.j,i=S._,gq=G.Clr.v,eH={type:G.Type.v+1,length:G.Leng.v,af1:G.RndL.v,gn:G.Widt.v,axN:G.Angl.v,a7w:G.Intr.v,arI:G.Adpt.v,color:{$:gq.Rd.v,B:gq.Grn.v,J:gq.Bl.v},Gu:G.Qual.v+1,MV:G.Turb.v,eg:G.Jag.v,opacity:G.Opct.v.val,SK:G.Lins.v,arg:G.Botm.v,style:G.Styl.v+1,shape:G.Shap.v+1,aCG:G.RnSh.v,a1_:G.Arng.v,aji:!1},eP=s[3],c2=eP[0],bL=eP[1],dg=c2[bL.length!=0?bL[0]:0];
if(dg==null){alert("Make a path first");return}var cN=dg.add.vmsk.d,dH=e.n.bF(cN),kM=[];for(var F=0;
F<dH;F++){var a_=e.n.Xd(cN,F),g4=cN[a_];if(g4.length<2)continue;var iY=[];kM.push(iY);var fa=g4.length-(g4.type==3?1:0);
for(var fz=0;fz<fa;fz++){var ka=cN[a_+1+fz],b1=fz==g4.length-1?cN[a_+1]:cN[a_+1+fz+1],bg=ka.v,cl=ka.PY,n=b1.o$,c0=b1.v,kL=Math.round(cJ.o0(bg,c0)/5);
for(var c_=0;c_<kL;c_++){var cA=c_/kL,aw=1-cA,I=aw*aw*aw*bg.x+3*aw*aw*cA*cl.x+3*aw*cA*cA*n.x+cA*cA*cA*c0.x,$=aw*aw*aw*bg.y+3*aw*aw*cA*cl.y+3*aw*cA*cA*n.y+cA*cA*cA*c0.y;
iY.push(I,$)}}}var kq=[kM,eH],f4=Date.now(),gF=ai(kq);aW(h.buffer,g,i,j.buffer,gF,kq)}if(b=="Dfs "){var S=h.rect,g=S.j,i=S._,fm=["Nrml","DrkO","LghO","anisotropic"].indexOf(G.Md.v.DfsM);
if(fm<3)e.g.ar2(h.buffer,g,i,j.buffer,[fm]);else{var kq=[1.4,1.6,1,4,!1,2,[0,0,.001]],S=h.rect.clone();
S.x=S.y=0;e.zD.filter(h.buffer,S,j.buffer,kq)}}if(b=="TrcC"){var S=h.rect,g=S.j,aP=g<<2,i=S._,hh=G.Lvl.v,gW=G.Edg.v.CntE=="Lwr",cg=h.buffer,f0=j.buffer;
e.Zi(f0,16777215,4278190080);function hk(kt,iK){fj(kt,iK);fj(kt+1,iK+1);fj(kt+2,iK+2)}function aQ(kt,iK){fd(kt,iK);
fd(kt+1,iK+1);fd(kt+2,iK+2)}function fj(kt,iK){var fJ=cg[kt],dV=cg[iK];if(fJ>=hh&&dV<hh)f0[kt]=0;if(fJ<hh&&dV>=hh)f0[iK]=0}function fd(kt,iK){var fJ=cg[kt],dV=cg[iK];
if(fJ>hh&&dV<=hh)f0[iK]=0;if(fJ<=hh&&dV>hh)f0[kt]=0}if(gW)for(var $=1;$<i;$++)for(var I=1;I<g;I++){var _=$*g+I<<2;
hk(_,_-4);hk(_,_-aP)}else for(var $=1;$<i;$++)for(var I=1;I<g;I++){var _=$*g+I<<2;aQ(_,_-4);aQ(_,_-aP)}}if(b=="Embs"){var S=h.rect,g=S.j,i=S._,iu=-G.Angl.v*Math.PI/180,en=G.Hght.v,hl=G.Amnt.v/100;
en/=2;var D=Math.cos(iu)*en,A=Math.sin(iu)*en,cg=h.buffer,f0=j.buffer;f0.fill(0);var ed=new Uint32Array(cg.buffer),M=new Uint8Array(4),hG=new Uint32Array(M.buffer);
for(var $=0;$<i;$++)for(var I=0;I<g;I++){var i0=0,bS=0,dC=0;if(0<=I+D&&I+D<g&&0<=$+A&&$+A<i){e.t.LU(I+D+.5,$+A+.5,ed,g,i,hG,0,0);
i0+=M[0]-128;bS+=M[1]-128;dC+=M[2]-128}if(0<=I-D&&I-D<g&&0<=$-A&&$-A<i){e.t.LU(I-D+.5,$-A+.5,ed,g,i,hG,0,0);
i0-=M[0]-128;bS-=M[1]-128;dC-=M[2]-128}var _=$*g+I<<2;f0[_]=Math.max(0,Math.min(255,i0*hl+128));f0[_+1]=Math.max(0,Math.min(255,bS*hl+128));
f0[_+2]=Math.max(0,Math.min(255,dC*hl+128));f0[_+3]=cg[_+3]}}if(b=="ShrE"){var S=h.rect,g=S.j,i=S._;
e.g.aD3(h.buffer,g,i,j.buffer)}if(b=="Dspc"){var S=h.rect,g=S.j,i=S._;e.g.acq(h.buffer,g,i,j.buffer)}if(b=="Slrz"){var ir=j.buffer,ih=128;
for(var Y=0;Y<ir.length;Y+=4){if(ir[Y]>ih)ir[Y]=255-ir[Y];if(ir[Y+1]>ih)ir[Y+1]=255-ir[Y+1];if(ir[Y+2]>ih)ir[Y+2]=255-ir[Y+2]}}if(b=="Wnd "){var S=h.rect,g=S.j,i=S._,a$=["Wnd","Blst","Stgr"],cC=G.WndM.v.WndM;
e.g.ut(h.buffer,g,i,j.buffer,[a$.indexOf(cC),G.Drct.v.Drct!="Left"])}if(b=="Bokh"){var S=h.rect,g=S.j,i=S._,y=g*i,K=y*4,dT=h.buffer.slice(0),jq=G.BkDi.v.BtDi,kz=G.BkDc,ei=G.BkDs.v,ce=G.BkDp.v/255;
if(jq=="BeIn")ce=0;var cp=57*(.3+.7*((g+i)/2)/1750)*(G.BkIb.v/100)*(1+.2*Math.pow(ce,.1)),g1=parseInt(G.BkIs.v.BtIs.slice(3)),ht=-G.BkIr.v*Math.PI/180,kE=[];
for(var Y=0;Y<8;Y++){var j4=ht+Y*(Math.PI*2/g1),j8=ht+(Y+1)*(Math.PI*2/g1),dm=Math.cos(j4),ie=Math.sin(j4),b5=Math.cos(j8),eh=Math.sin(j8),jl=[0,0,0];
e.GF.$T([[dm,ie,1,0],[b5,eh,1,0],[1,1,1,1]],jl);if(jl[2]>0){jl[0]*=-1;jl[1]*=-1;jl[2]*=-1}kE.push(jl[0],jl[1],jl[2],0)}if(jq=="BeIn"){e.Zi(dT,0,16777215);
ce=1}else if(jq=="BeIt"&&kz.v.BtDc=="BeCt"){}else{var cE;if(jq=="BeIt"&&kz.v.BtDc=="BeCm")cE=s[1];else if(jq=="BeIa")cE=s[2][kz.v];
if(cE==null){e.Zi(dT,0,16777215)}else{var m;if(cE.rect.TW(S))m=cE.channel;else m=cE.tn(S);e.aj(m,dT,3)}}if(ei)for(var Y=0;
Y<K;Y+=4)dT[Y+3]=255-dT[Y+3];if(cG.pl){var cI=dT,de=g,i9=i,bG=1,bi=(G.BkSb.v==0||G.BkSt.v==255)&&jq=="BeIn";
if(!bi){var iC=0;for(var Y=0;Y<K;Y+=4)iC+=Math.abs(ce-dT[Y+3]*(1/255));iC=iC/y*cp;var fF=3.14*iC*iC*g*i/3e6;
if(fF>2e3){alert("too large radius");return}}while(bi&&3*(cp/bG)*(cp/bG)*g*i>500*2e3*2e3){var jo=e.agn(dT,new io(0,0,de,i9));
dT=jo.Ur;de=jo.rect.j;i9=jo.rect._;bG*=2}var f4=Date.now(),o=cG.t4(0,de,i9);o.set(dT);var ds=cG.t4(1,g,i);
cG.UK(ds);cG.filter.s_({type:cG.filter.amk,mc:new Float32Array([1/de,1/i9]),apv:ce,D5:cp/bG,aau:new Float32Array([G.BkSb.v/100,G.BkSt.v/255]),aq7:new Float32Array([G.BkNa.v/100,G.BkNt.v.BtNt=="BeNu"?0:1,G.BkNm.v?1:0]),a3Z:new Float32Array(kE.slice(0,16)),a2W:new Float32Array(kE.slice(16))},o.P9);
ds.get(j.buffer);var im=j.buffer;for(var Y=0;Y<K;Y+=4)im[Y+3]=h.buffer[Y+3]}}if(b=="rigidTransform"){var f4=Date.now(),ch=gY.a5O,o=h.buffer.slice(0),h_=0,jJ=0;
e.yB(o);var g=h.rect.j,i=h.rect._,ao=G.puppetShapeList.v,hN=[],gn=[],eX=[],f1=[];for(var fz=0;fz<ao.length;
fz++){var iA=ao[fz].v,k=h_*2,x=jJ*3,cw=iA.originalVertexArray.v.length>>>2,gu=iA.indexArray.v.length>>>2,il=new Float32Array(ch(iA.originalVertexArray.v));
for(var Y=0;Y<cw;Y++)hN[k+Y]=il[Y];var aE=new Float32Array(ch(iA.deformedVertexArray.v));for(var Y=0;
Y<cw;Y++)gn[k+Y]=aE[Y];var cL=new Uint32Array(ch(iA.indexArray.v));for(var Y=0;Y<gu;Y++)eX[x+Y]=h_+cL[Y];
var ba=[],hZ=[],ax=iA.PnDp.v;for(var Y=0;Y<ax.length;Y++){ba.push(iA.pinVertexIndices.v[Y].v);hZ.push(ax[Y].v)}var gU=e.SG.al6(il,cL,ba,hZ);
for(var Y=0;Y<gU.length;Y++)f1[h_+Y]=gU[Y];h_+=cw>>>1;jJ+=~~(gu/3)}var gs=new eq(1,0,0,1,-h.rect.x,-h.rect.y);
e.N.h(hN,gs,hN);e.N.h(gn,gs,gn);j.buffer.fill(0);e.SG.gU(o,g,i,j.buffer,g,i,hN,gn,f1,eX);e.ME(j.buffer)}if(b=="lightFilterGradient"){function f6(bg){var cO=1/Math.sqrt(bg[0]*bg[0]+bg[1]*bg[1]+bg[2]*bg[2]);
bg[0]*=cO;bg[1]*=cO;bg[2]*=cO}var g=h.rect.j,i=h.rect._,y=g*i,f4=Date.now(),fs=e.U(y),dV=.3,ix=.7;e.Rt(j.buffer,fs);
var gk=e.U(y);e.Zt.QE(fs,gk,j.rect,16);var dR=e.U(y);e.Zt.QE(fs,dR,j.rect,8);var e7=fs,g$=new Float32Array(y),bD=G.Dtl.v,hq=bD[2].v,fS=bD[1].v,al=bD[0].v,dG=G.Scl.v*40*G.textureScale.v/(hq+fS+al);
hq*=dG;fS*=dG;al*=dG;for(var Y=0;Y<y;Y++){var eK=gk[Y]*(1/255),gC=dR[Y]*(1/255),kw=e7[Y]*(1/255);kw=kw*kw;
g$[Y]=hq*eK+fS*gC+al*kw}var kH=G.blur.v;if(kH!=0){e.Zt.z_(g$,j.rect,kH)}var jM=g-1,kA=i-1;for(var $=0;
$<i;$++)for(var I=0;I<g;I++){var Y=$*g+I,_=Y*4,bj=g$[Y],D=dV*(g$[Y+(I==jM?0:1)]-bj)+ix*(bj-g$[Y-(I==0?0:1)]),A=dV*(g$[Y+($==kA?0:g)]-bj)+ix*(bj-g$[Y-($==0?0:g)]),bg=[1,0,D],cl=[0,1,A];
f6(bg);f6(cl);var j8=bg[0],eM=bg[2],d6=cl[1],gN=cl[2],js=-eM*d6,aD=-j8*gN,bO=j8*d6;j.buffer[_]=~~(127.5+js*127.5);
j.buffer[_+1]=~~(127.5+aD*127.5);j.buffer[_+2]=~~(127.5+bO*127.5)}}if(b=="defr"){var g=h.rect.j,i=h.rect._;
ek(h.buffer,g,i,j.buffer)}if(b=="dDFT"||b=="iDFT"){function kR(g1){if(g1==0)return 1;g1--;g1|=g1>>1;
g1|=g1>>2;g1|=g1>>4;g1|=g1>>8;g1|=g1>>16;return g1+1}var g=h.rect.j,i=h.rect._,jm=kR(Math.max(g,i)),es=jm>>>1,dc=new io(0,0,jm,jm),jT=new io(0,0,g,i);
jT.y=jm-i>>>1;var hX=g>>>1,eJ=new io(0,jT.y,hX,i),hR=new e.Bh(g*i);e.gZ(h.buffer,hR);var f5=new Float64Array(jm*jm),f2=new Float64Array(jm*jm),m=e.U(jm*jm);
FFT.init(jm);var dk=[hR.$,hR.B,hR.J];for(var Y=0;Y<3;Y++){var kS=dk[Y];m.fill(0);if(b=="dDFT"){e.wX(kS,jT,m,dc);
gY.a75(m,jm,f5,f2);e.wX(m,dc,kS,jT,eJ);eJ.x+=hX;dc.x-=es-hX;e.wX(m,dc,kS,jT,eJ);eJ.x-=hX;dc.x+=es-hX}else{e.wX(kS,jT,m,dc,eJ);
eJ.x+=es;jT.x+=es-hX;e.wX(kS,jT,m,dc,eJ);eJ.x-=es;jT.x-=es-hX;gY.a9R(m,jm,f5,f2);e.wX(m,dc,kS,jT)}}e.bh(hR,j.buffer)}if(b=="Avrg"){var bz=0,g9=0,ah=0,g6=0,iT=1;
for(var Y=0;Y<h.buffer.length;Y+=4){var v=h.buffer[Y+3];ah+=h.buffer[Y]*v;g9+=h.buffer[Y+1]*v;bz+=h.buffer[Y+2]*v;
g6+=v}var hO=1/g6;bz=Math.round(iT*(bz*hO)+(1-iT)*255);g9=Math.round(iT*(g9*hO)+(1-iT)*255);ah=Math.round(iT*(ah*hO)+(1-iT)*255);
e.Zi(j.buffer,bz<<16|g9<<8|ah,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(b)!=-1){var cM=G.Rds?G.Rds.v.val:1,hf=b=="boxblur"?e.Zt.Is:e.Zt.lC;
gY.oS(cM,hf,j.buffer,j.rect);if(b=="UnsM"||b=="smartSharpen"){var hl=(G.Amnt?G.Amnt.v.val:200)/100,em=0;
if(b=="UnsM")em=G.Thsh.v;else hl*=.75;for(var Y=0;Y<h.buffer.length;Y++){if((Y&3)==3){j.buffer[Y]=h.buffer[Y];
continue}var eC=h.buffer[Y],hw=j.buffer[Y],ke=hl*(eC-hw);if(ke>0)ke=Math.max(0,ke-em);else ke=Math.min(0,ke+em);
j.buffer[Y]=Math.max(0,Math.min(255,eC+ke))}}if(b=="HghP")for(var Y=0;Y<h.buffer.length;Y++){if((Y&3)==3){j.buffer[Y]=h.buffer[Y];
continue}var eC=h.buffer[Y],hw=j.buffer[Y];j.buffer[Y]=Math.max(0,Math.min(255,128+eC-hw))}}if(b=="AdNs"){var b7=new Uint8ClampedArray(j.buffer.buffer),iQ=255*G.Nose.v.val/100,aC;
if(G.Dstr.v.Dstr=="Gsn")aC=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else aC=function(){return Math.random()*2-1};for(var Y=0;Y<b7.length;Y+=4){var e$=b7[Y],f$=b7[Y+1],e_=b7[Y+2],b8,bA,ct;
if(G.Mnch.v){b8=bA=ct=aC()}else{b8=aC();bA=aC();ct=aC()}e$+=iQ*b8;f$+=iQ*bA;e_+=iQ*ct;b7[Y]=e$;b7[Y+1]=f$;
b7[Y+2]=e_}}var f4=Date.now();if(b=="Mdn "||b=="DstS"||b=="Mxm "||b=="Mnm "||b=="surfaceBlur"){var e$=0,e8=G.Thsh,iA=0;
if(e8)e8=e8.v;else e8=0;if(b=="Mdn "||b=="Mxm "||b=="Mnm "||b=="surfaceBlur")e$=G.Rds.v.val;else e$=G.Rds.v;
var jt=10*Math.ceil(e$/10),g=h.rect.j,i=h.rect._,hL=["Mnm ","Mxm ","surfaceBlur"].indexOf(b),iG=(iA==0?1:.75)*[.73,.73,1.2][hL]*(g*i*Math.pow(jt*jt,1.05))/6022387,fw=.6*(g*i*Math.pow(e$,1/2.6))/6500;
if(b=="Mxm "||b=="Mnm ")fw=g*i/13e3;var a2=G.preserveShape;if(a2&&a2.v.preserveShape=="Rndn")iA=1;if(cG.pl&&hL!=-1&&(iG<fw||iA==1)&&iG<500){var o=cG.t4(0,g,i);
o.set(h.buffer);var U=cG.t4(1,g,i);cG.UK(U);cG.filter.s_({type:cG.filter.axI,mc:new Float32Array([1/g,1/i]),D5:e$,axD:e8/255,Mo:[iA,hL,jt]},o.P9);
U.get(j.buffer)}else if(b=="Mxm "||b=="Mnm "){var g=h.rect.j,i=h.rect._;e.WP.aEd(h.buffer,j.buffer,g,i,1+Math.floor(G.Rds.v.val)*2,b=="Mxm ")}else{e$=Math.round(e$);
e.wG.mh=.5;e.wG.y7=e8;var hf=b=="surfaceBlur"?1:0;e.wG.st(h.buffer,j.buffer,g,i,e$,hf);if(b=="DstS")for(var Y=0;
Y<g*i*4;Y++){var eu=Math.abs(h.buffer[Y]-j.buffer[Y]);if(eu<=e8)j.buffer[Y]=h.buffer[Y]}}}if(b=="ClrH"){var eJ=h.rect.clone(),e9=0;
eJ.x=eJ.y=0;var e$=G.Rds.v;e$=e$*Math.sqrt(2);var g=eJ.j,i=eJ._,fO=e.tM(g,i),f_=new Float32Array(256);
for(var Y=0;Y<256;Y++){var gq=Y/255,cM=Math.sqrt(gq*(1/Math.PI));if(cM>.5)cM=.5+Math.pow((cM-.5)/(.564-.5),1.35)*.2;
f_[Y]=e$*cM}var ha=Math.floor(2*g/e$),km=Math.floor(2*i/e$),hK=10-(e$-54*Math.sqrt(2))*1.5,iL=[h.buffer,eJ];
e.tT(iL);while(iL[e9*2+1].j>1.5*g/e$)e9++;var i0=iL[e9*2+1],dC=iL[e9*2],gi=e.U(i0.X()),bG=1/(1<<e9),de=i0.j,i9=i0._,m=e.U(g*i);
for(var hz=0;hz<3;hz++){e.uA(dC,gi,hz);e.Q6(gi);var iu=Math.PI*G["Ang"+(hz+1)].v/180,gg=new eq;gg.translate(-g/2,-i/2);
gg.rotate(-iu);gg.translate(g/2,i/2);fO.clearRect(0,0,g,i);for(var $=-(km>>>2);$<km;$++)for(var I=-(ha>>>2);
I<ha;I++){var d2=gg.At(new cJ((I+.5)*e$-hK,($+.5)*e$-hK)),jO=Math.max(0,Math.min(d2.x*bG,de-.51)),jV=Math.max(0,Math.min(d2.y*bG,i9-.51)),y=~~e.t.Hp(jO,jV,gi,de,i9);
fO.beginPath();fO.arc(d2.x,d2.y,f_[y],0,2*Math.PI);fO.fill()}var iB=fO.getImageData(0,0,g,i);e.uA(iB.data,m,3);
e.Q6(m);e.aj(m,j.buffer,hz)}}if(b=="Crst"||b=="Pntl"){var g=h.rect.j,i=h.rect._,hf=b=="Crst"?e.ww.acA:e.ww.a54;
hf(h.buffer,g,i,j.buffer,G.ClSz.v,[Math.round(B.$),Math.round(B.B),Math.round(B.J)])}if(b=="Mztn"){var g=h.rect.j,i=h.rect._,y=g*i,hR=new e.Bh(y),ig=[hR.$,hR.B,hR.J];
e.gZ(h.buffer,hR);var cC=G.MztT.v.MztT,ad={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[cC],f4=Date.now(),iP=[];
for(var Y=0;Y<y;Y++){iP[Y]=Math.random()}var y=g*i,kJ=Math.round(y*ad[0]),kf=y-g-1;for(var Y=0;Y<kJ;
Y++){var gP=Math.random(),fk=1;if(gP<.5){fk=g;gP*=2}else gP=2*(gP-.5);var kt=Math.floor(gP*kf),iK=kt+fk;
iP[kt]=iP[iK]}var fQ=Math.round(g*ad[1]);for(var $=0;$<i;$++)for(var Y=0;Y<fQ;Y++){var gP=e.z.v0($*y+Y),kt=$*g+Math.floor(gP*(g-1));
iP[kt]=iP[kt+1]}var jF=new Float64Array(256);for(var Y=0;Y<256;Y++){var dF=Y/255,bw=2*(dF<.5?dF:1-dF);
bw=ad[2]+Math.pow(bw,ad[3])*(1-ad[2]);dF=dF<.5?bw*.5:1-bw*.5;jF[Y]=dF}for(var cX=0;cX<3;cX++){var m=ig[cX];
for(var $=0;$<i;$++){for(var I=0;I<g;I++){var Y=$*g+I,ii=m[Y],dF=jF[ii],gP=iP[Y];m[Y]=gP>dF?0:255}}}e.bh(hR,j.buffer)}if(b=="Msc "){var dH=G.ClSz.v.val,g=h.rect.j,i=h.rect._,aF=Math.ceil(g/dH),be=Math.ceil(i/dH),gz=e.U(aF*be*4);
e.scale.Ij(h.buffer,g,i,gz,aF,be,1/dH);e.scale.Ij(gz,aF,be,j.buffer,g,i,dH)}if(b=="Clds"||b=="DfrC"){var g=j.rect.j,i=j.rect._,y=g*i,bT=e.U(y);
if(b=="Clds")e.Zi(j.buffer,4278190080);var iF=e.U(256*4);for(var Y=0;Y<256;Y++){var _=Y<<2,gB=Y/255,cL=1-gB;
iF[_]=Math.round(gB*H.$+cL*B.$);iF[_+1]=Math.round(gB*H.B+cL*B.B);iF[_+2]=Math.round(gB*H.J+cL*B.J)}e.g.a1n(h.buffer,g,i,bT);
var bC=j.buffer;for(var Y=0;Y<y;Y++){var _=Y<<2,cX=bT[Y]<<2,e$=iF[cX],f$=iF[cX+1],e_=iF[cX+2];if(b=="Clds"){bC[_]=e$;
bC[_+1]=f$;bC[_+2]=e_}else{bC[_]=Math.abs(bC[4*Y]-e$);bC[_+1]=Math.abs(bC[4*Y+1]-f$);bC[_+2]=Math.abs(bC[4*Y+2]-e_)}}}if(b=="LnsF"){var g=h.rect.j,i=h.rect._,cC=["Zm","Nkn","Nkn1","PnVs"].indexOf(G.Lns.v.Lns),hu=G.FlrC.v,gA=[Math.min(cC,2),G.Brgh.v/100,hu.Hrzn.v,hu.Vrtc.v],f4=Date.now();
e.aCL(h.buffer,g,i,j.buffer,gA)}var aj=["Blr ","BlrM","Shrp","ShrM"].indexOf(b);if(aj!=-1){var eG=aj>1,g=h.rect.j,i=h.rect._,dq=e.aU.UP[aj],bB=h.buffer.slice(0);
if(!eG)e.yB(bB);e.aU.c_(bB,j.buffer,g,i,dq,255,!1,eG);if(!eG)e.ME(j.buffer)}if(b=="MtnB"){var k9=-G.Angl.v*Math.PI/180,fY=G.Dstn.v.val/2,f4=Date.now(),g=h.rect.j,i=h.rect._,S=h.rect.clone();
S.x=S.y=0;if(cG.pl){var f4=Date.now(),dB=j.buffer;dB.set(h.buffer);e.yB(dB);var gS=cG.t4(0,g,i);gS.set(dB);
var cg=e.U(4);cg[0]=Math.round(128+127*Math.cos(k9));cg[1]=Math.round(128+127*Math.sin(k9));new Uint32Array(dB.buffer).fill(new Uint32Array(cg.buffer)[0]);
var ex=cG.t4(1,g,i);ex.set(dB);cG.UK(gS,S);gS.xo(S);cG.filter.s_({type:cG.filter.ia,e7:ex.P9,mc:new Float32Array([1/g,1/i]),axd:fY/2,aA0:1},gS.oG);
gS.get(dB);e.ME(dB)}else{var gs=new eq;gs.rotate(k9);var M=E.Y.Mp([h.buffer,h.rect],gs,!1,null,!0);gY.oS(fY,e.Zt.aeB,M.buffer,M.rect);
gs.Q6();M=E.Y.Mp([M.buffer,M.rect],gs,!1,j.buffer.buffer,!0,j.rect)}console.log(Date.now()-f4)}if(b=="RdlB"){var g=h.rect.j,i=h.rect._,hl=G.Amnt.v,ab=G.BlrM.v.BlrM=="Zm",hz=G.Cntr.v,dw=hz.Hrzn.v,bd=hz.Vrtc.v,D=Math.max(dw,1-dw)*g,A=Math.max(bd,1-bd)*i,cM=Math.sqrt(D*D+A*A),f9=2*Math.PI*cM*1.5,hY=Math.round(f9),kv=Math.round(cM),eJ=new io(0,0,hY,kv),i8=e.U(hY*kv*4),kk=ab?4:1,iW=ab?.6:8*((g+i)/2)/1400,iN=.1,bG=1,ha=1;
e.t.azn(h.buffer,g,i,i8,hY,kv,dw,bd,kk,iN,bG,ha);var ey=ab?e.U(hY*kv*4):null;if(ab){e.t.BF(i8,ey,hY,kv);
var cA=ey;ey=i8;i8=cA;eJ.j=kv;eJ._=hY}gY.oS(iW*hl,e.Zt.aeB,i8,eJ);if(ab){e.t.BF(i8,ey,kv,hY);var cA=ey;
ey=i8;i8=cA;eJ.j=hY;eJ._=kv}e.t.awK(i8,hY,kv,j.buffer,g,i,dw,bd,kk,iN,bG,ha)}if(b=="Plr "){var g=h.rect.j,i=h.rect._;
if(G.Cnvr.v.Cnvr=="RctP")e.t.awK(h.buffer,g,i,j.buffer,g,i,.5,.5,1,0,2,g/i);else e.t.azn(h.buffer,g,i,j.buffer,g,i,.5,.5,1,0,2,g/i)}if(b=="FndE"){var g=h.rect.j,i=h.rect._;
e.aU.aF3(h.buffer,j.buffer,g,i)}if(b=="oilPaint"){var iu=G.LghD.v*Math.PI/180,g3=[Math.cos(iu),Math.sin(iu),.001],kq=[G.stylization.v,G.cleanliness.v,G.brushScale.v,G.microBrush.v,G.lightingOn.v,G.specularity.v,g3],S=h.rect.clone();
S.x=S.y=0;e.zD.filter(h.buffer,S,j.buffer,kq)}if(b=="Ofst"){var g=h.rect.j,i=h.rect._,b$=new Uint32Array(h.buffer.buffer),iV=new Uint32Array(j.buffer.buffer),cF=G.Hrzn.v,kF=G.Vrtc.v,aU=G.Fl.v.FlMd;
e.Zi(iV,0);if(aU=="Bckg"||aU=="Rpt"){var eJ=h.rect.clone();eJ.offset(cF,kF);e.JE(b$,eJ,iV,j.rect)}if(aU=="Rpt"){var dm,ie,b5,eh,aK;
cF=Math.max(-g,Math.min(g,cF));kF=Math.max(-i,Math.min(i,kF));dm=cF>0?cF:0;b5=cF>0?g:g+cF;ie=kF>0?0:kF+i;
eh=kF>0?kF:i;aK=kF>0?0:g*(i-1);for(var $=ie;$<eh;$++)for(var I=dm;I<b5;I++)iV[$*g+I]=b$[aK+I-cF];dm=cF>0?0:g+cF;
b5=cF>0?cF:g;ie=kF>0?kF:0;eh=kF>0?i:i+kF;aK=cF>0?0:g-1;for(var $=ie;$<eh;$++)for(var I=dm;I<b5;I++)iV[$*g+I]=b$[aK+g*($-kF)];
if(cF>=0&&kF>=0){dm=0;b5=cF;ie=0;eh=kF;aK=0}if(cF>=0&&kF<0){dm=0;b5=cF;ie=i+kF;eh=i;aK=g*(i-1)}if(cF<0&&kF>=0){dm=g+cF;
b5=g;ie=0;eh=kF;aK=g-1}if(cF<0&&kF<0){dm=g+cF;b5=g;ie=i+kF;eh=i;aK=g*i-1}for(var $=ie;$<eh;$++)for(var I=dm;
I<b5;I++)iV[$*g+I]=b$[aK]}if(aU=="Wrp"){cF=(cF+100*g)%g;kF=(kF+100*i)%i;var eJ=new io(cF-g,kF-i,g,i);
e.JE(b$,eJ,iV,j.rect);eJ.offset(g,0);e.JE(b$,eJ,iV,j.rect);eJ.offset(0,i);e.JE(b$,eJ,iV,j.rect);eJ.offset(-g,0);
e.JE(b$,eJ,iV,j.rect)}}if(b=="Rept"){var eO=G.Rsft.v.val/100,jZ=G.SpcX.v.val/100;jZ=Math.max(jZ,-.99);
var iR=G.SpcY.v.val/100;iR=Math.max(iR,-.99);var bG=G.Scl.v.val/100,gs=new eq;gs.rotate(G.Angl.v*Math.PI/180);
gs.scale(bG,bG);var jr={buffer:h.buffer,rect:h.rect};e.yV(jr);if(jr.rect.Zx()){jr.buffer=h.buffer;jr.rect=h.rect}var bC=jr.buffer,eJ=jr.rect,hC=e.Qn(bC,eJ,0),an=new Uint32Array(bC.buffer)[0];
if(!hC.Zx()&&!hC.TW(eJ)){var kx=e.U(hC.X()*4);e.JE(bC,eJ,kx,hC);bC=kx;eJ=hC}eJ.x=eJ.y=0;an=jZ==0&&iR==0&&!e.qP(h.buffer)||G.SpcC.v?an:0;
function bo(I){return I<0?Math.ceil(I):Math.floor(I)}var go=gs.At(new cJ(eJ.j,0));go.x=bo(go.x);go.y=bo(go.y);
var gm=gs.At(new cJ(0,eJ._));gm.x=bo(gm.x);gm.y=bo(gm.y);var M=E.Y.Mp([bC,eJ],gs,!1),jT=M.rect,f0=M.buffer,ag=Math.round(jT.x),a4=Math.round(jT.y),bl=Math.max(j.rect.j,j.rect._)/Math.min(eJ.j*bG*(1+jZ),eJ._*bG*(1+iR));
bl=Math.ceil(bl*1.7);e.Zi(j.buffer,an);for(var $=-bl;$<bl;$++){for(var I=-bl;I<bl;I++){var j5=(I+$*eO)*(1+jZ),jY=$*(1+iR);
jT.x=ag+Math.round(j5*go.x+jY*gm.x);jT.y=a4+Math.round(j5*go.y+jY*gm.y);if(jT.XR(j.rect))e.z.Nm("norm",f0,jT,j.buffer,j.rect,jT,1)}}}if(b=="Ctoa"){var B=e.F.an(G.Clr.v),e8=G.Trsp.v.val/100,ck=G.Opct.v.val/100;
e8=ck==0?0:e8/ck;var g=h.rect.j,i=h.rect._,kQ=~~B.$,dz=~~B.B,cs=~~B.J,aK=h.buffer,iJ=j.buffer;for(var $=0;
$<i;$++)for(var I=0;I<g;I++){var Y=$*g+I,_=Y<<2,eJ=aK[_],iy=aK[_+1],bC=aK[_+2],gG=Math.abs(kQ-eJ),hv=Math.abs(dz-iy),cy=Math.abs(cs-bC),jD=Math.max(gG,hv,cy)*(1/255);
jD=Math.max(0,Math.min(1,jD/ck));var jX=jD==0?0:1/jD,iw=e8==1?1:Math.max(0,Math.min(1,(jD-e8)/(1-e8)));
iJ[_]=Math.max(0,Math.min(255,(eJ-kQ*(1-jD))*jX));iJ[_+1]=Math.max(0,Math.min(255,(iy-dz*(1-jD))*jX));
iJ[_+2]=Math.max(0,Math.min(255,(bC-cs*(1-jD))*jX));iJ[_+3]=Math.min(iJ[_+3],~~(.5+iw*255))}}if(b=="Dthr"){function hj(I){return~~(.5+255*e.u0(I/255))}var fz=G.Plte.v,i4;
if(fz==0)i4=[4278190080,4294967295];else{var ge=[[1,1,1],[2,2,2],[3,3,2]][fz-1],gw=[1<<ge[0],1<<ge[1],1<<ge[2]],eD=[~~(255/(gw[0]-1)),~~(255/(gw[1]-1)),~~(255/(gw[2]-1))];
i4=[];for(var e$=0;e$<gw[0];e$++)for(var f$=0;f$<gw[1];f$++)for(var e_=0;e_<gw[2];e_++)i4.push(255<<24|hj(e_*eD[2])<<16|hj(f$*eD[1])<<8|hj(e$*eD[0]))}var g=h.rect.j,i=h.rect._,y=g*i,dM=y*4,dC=h.buffer.slice(0),a1=j.buffer;
for(var Y=0;Y<dM;Y++)dC[Y]=~~(.5+255*e.u0(dC[Y]/255));var c4=e.U(g*i);UPNG.encode.dither(dC,g,i,i4,a1,c4,G.Mthd?G.Mthd.v:1);
for(var Y=0;Y<dM;Y++)a1[Y]=~~(.5+255*e.Ea(a1[Y]/255))}if(b=="Part"){var fe=[G.RndS.v,G.Cont.v/100,G.Size.v,G.Dpth.v/100,G.Brgh.v/100,e.F.an(G.Clr.v),G.Time.v,G.Blnk.v,G.Fall.v,G.Turb.v/100];
e.Ff.mR(j.buffer,h.rect.j,h.rect._,fe)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(b)!=-1){var k6=s[0],g=h.rect.j,i=h.rect._,jF,cu=0;
if(b=="LqFy")jF=ic.wZ(new Uint8Array(G.LqMe.v).buffer);else{var gM=3;if(b=="Wave")gM=Math.min(3,G.WLMn.v);
jF={Ps:Math.floor(g/gM),CN:Math.floor(i/gM)};jF.map=new Float32Array(jF.Ps*jF.CN*2);if(b=="LnCr"){var dw=.5*(jF.Ps-1),bd=.5*(jF.CN-1),k5=Math.max(Math.abs(0-dw),Math.abs(1-dw)),g8=Math.max(Math.abs(0-bd),Math.abs(1-bd)),gg=Math.sqrt(k5*k5+g8*g8),eT=0,e1=0,a0=-1,dn=2,bG=G.LnSi.v/100,ab=1/bG,dv=G.LnIa.v/100,g5=dv==0?1e-6:dv*4.6,eY=ab/gg;
for(var $=0;$<jF.CN;$++){for(var I=0;I<jF.Ps;I++){var D=(I-dw)*eY,A=($-bd)*eY,e$=Math.sqrt(D*D+A*A)*g5,kB=Math.atan(e$),i3=dv>0?kB/e$:e$/kB,ha=dw+gg*i3*D,km=bd+gg*i3*A,Y=$*jF.Ps+I<<1;
jF.map[Y]=ha-I;jF.map[Y+1]=km-$}}}else if(b=="Kale"){var aF=jF.Ps,be=jF.CN,cQ=(aF-1)*.5,kA=(be-1)*.5,b6=G.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,eL=G.Mirr.v,aI=Math.PI*2/eL,hT=.5*aI;
for(var $=0;$<be;$++)for(var I=0;I<aF;I++){var D=I-cQ,A=$-kA,bM=Math.sqrt(D*D+A*A),iu=Math.atan2(A,D)+b6;
iu=iu%aI;if(iu>hT)iu=aI-iu;var ha=cQ+Math.cos(iu-b6)*bM,km=kA+Math.sin(iu-b6)*bM,Y=($*aF+I)*2;jF.map[Y]=ha-I;
jF.map[Y+1]=km-$}}else if(b=="Dspl"&&k6.length!=0){cu=G.UndA.v.UndA=="WrpA"?2:1;var hI=G.DspF.v.pth,iZ,j7=G.DspD,hi,eI,dh;
if(j7){var bz=j7.v;eI=bz[1]*256+bz[0];hi=bz[5]*256+bz[4];dh=new Uint8Array(bz.slice(10,10+hi*eI))}else{for(var Y=0;
Y<k6.length;Y++)if(k6[Y].Af==hI)iZ=k6[Y];if(iZ==null)iZ=k6[0];iZ.Nw();var gG=iZ.P0[1],dh=e.U(gG.X());
e.Rt(iZ.P0[0],dh);hi=gG.j;eI=gG._}jF={Ps:hi,CN:eI};jF.map=new Float32Array(jF.Ps*jF.CN*2);var gf=2.54*G.HrzS.v*hi/g,iH=2.54*G.VrtS.v*eI/i;
for(var $=0;$<jF.CN;$++){for(var I=0;I<jF.Ps;I++){var eu=-.5+dh[$*hi+I]*(1/255),Y=$*jF.Ps+I<<1;jF.map[Y]=eu*gf;
jF.map[Y+1]=eu*iH}}}else if(b=="Pnch"||b=="Twrl"||b=="Sphr"||b=="ZgZg"){var hl=1,k9=Math.PI,ji=0,kl=1,ef=0,hz=3,dH=1.53,i3=1;
if(b=="Pnch"||b=="Sphr"||b=="ZgZg")hl=G.Amnt.v/100;if(b=="ZgZg"){kl=G.NmbR.v;ef=["ArnC","OtFr","PndR"].indexOf(G.ZZTy.v.ZZTy)}if(b=="Twrl")k9=G.Angl.v*Math.PI/180;
if(b=="Sphr")ji=["Nrml","HrzO","VrtO"].indexOf(G.SphM.v.SphM);function hf(I){I=Math.pow(I,1-I*.3-I*I*(I*I)*.5);
return-.225*Math.sin(I*Math.PI)}function hr(i,cO,e$,dm,ie,b5,eh,i3){var D=b5-dm,A=eh-ie,gt=dm-i,cV=ie-cO,gB=D*D+A*A,e_=2*(D*gt+A*cV),hz=gt*gt+cV*cV-e$*e$,iE=Math.sqrt(e_*e_-4*gB*hz),bJ=i3/(2*gB),i5=(-e_+iE)*bJ,jk=(-e_-iE)*bJ;
return i3*Math.min(i5,jk)}var aF=jF.Ps,be=jF.CN,cQ=jF.Ps/2,kA=jF.CN/2,co=1/cQ,e$=Math.sqrt(hz*hz+1)/hz,kS=hz+Math.sqrt(1/(hz*hz));
if(hl<0){hz=1.72;e$=1;kS=hz;dH=-1;i3=-1}for(var $=0;$<be;$++){var A=($-kA)/kA;for(var I=0;I<aF;I++){var D=(I-cQ)*co;
if(ji==1)A=0;else if(ji==2)D=0;var h0=Math.sqrt(D*D+A*A);if(h0<1&&h0!=0){var Y=$*jF.Ps+I<<1;if(b=="Pnch"){var bf=-hl*hf(h0)/h0;
jF.map[Y]=D*bf*cQ;jF.map[Y+1]=A*bf*kA}else if(b=="Sphr"){var cA=hr(0,kS,e$,0,0,h0,hz,i3),hK=dH*hl*(cA-1);
jF.map[Y]=D*hK*cQ;jF.map[Y+1]=A*hK*kA}else if(b=="Twrl"){var iu=Math.atan2(A,D)-k9*(1-h0)*(1-h0),h4=Math.cos(iu),gR=Math.sin(iu);
jF.map[Y]=(h0*h4-D)*cQ;jF.map[Y+1]=(h0*gR-A)*kA}else if(b=="ZgZg"){var h4=0,gR=0,df=hl*(.5-.5*Math.cos(h0*kl*2*Math.PI))*(1-h0);
if(ef==0){var iu=Math.atan2(A,D)-3.5*df;h4=h0*Math.cos(iu);gR=h0*Math.sin(iu)}if(ef==1){df=100/g*df/h0;
h4=(1-df)*D;gR=(1-df)*A}if(ef==2){var P=512/g*df*Math.PI/4;h4=P+D;gR=P+A}jF.map[Y]=(h4-D)*cQ;jF.map[Y+1]=(gR-A)*kA}}}}}else if(b=="Shr "){var cN=JSON.parse(JSON.stringify(G.ShrP.v));
e.S_.h(cN,new eq(0,255/127,255/127,0,-2,0));var gd=e.S_.i7(cN,jF.CN,!0);cu=G.UndA.v.UndA=="WrpA"?2:1;
for(var $=0;$<jF.CN;$++){var D=-gd[$]*jF.Ps;for(var I=0;I<jF.Ps;I++){var Y=$*jF.Ps+I<<1;jF.map[Y]=D}}}else if(b=="Wave"){var d9=G.NmbG.v,jN=G.WLMn.v,j3=G.WLMx.v,dO=G.AmMn.v*(Math.PI/4),d7=G.AmMx.v*(Math.PI/4),hs=G.SclH.v/100,jC=G.SclV.v/100,cC=G.Wvtp.v.Wvtp,df=Math.sin;
if(cC=="WvTr")df=function(I){I*=2/Math.PI;return-.5+Math.abs(I%2-1)};if(cC=="WvSq")df=function(I){I*=2/Math.PI;
return 1+2*Math.floor(I%2-1)};var c6=[],c7=new e.z.Zy(G.RndS.v);for(var Y=0;Y<d9;Y++){c6.push(c7.get()*10);
c6.push(Math.PI*gM/(jN+c7.get()*(j3-jN)));c6.push(hs*(dO+c7.get()*(d7-dO))/gM);c6.push(c7.get()*10);
c6.push(Math.PI*gM/(jN+c7.get()*(j3-jN)));c6.push(jC*(dO+c7.get()*(d7-dO))/gM)}var cK=[],ay=[],cB=Math.max(jF.Ps,jF.CN);
for(var Y=0;Y<cB;Y++){var D=0,A=0;for(var c_=0;c_<d9;c_++){var h7=c_*6;D+=c6[h7+2]*df(c6[h7]+Y*c6[h7+1]);
A+=c6[h7+5]*df(c6[h7+3]+Y*c6[h7+4])}cK[Y]=A;ay[Y]=D}for(var $=0;$<jF.CN;$++){for(var I=0;I<jF.Ps;I++){var Y=$*jF.Ps+I<<1;
jF.map[Y]=ay[$];jF.map[Y+1]=cK[I]}}cu=G.UndA.v.UndA=="WrpA"?2:1}else if(b=="Rple"){cu=1;var hl=G.Amnt.v/100,fB=4,kO=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],ak=1,dp=1,gt=0,bH=["Sml","Mdm","Lrg"].indexOf(G.RplS.v.RplS);
if(bH==0){ak=1;dp=.2;gt=3}if(bH==2){ak=1;dp=2;gt=-1;kO=kO.reverse()}var g0=function(I,$){var hz=Math.cos,dG=0;
for(var Y=0;Y<fB;Y++)for(var c_=0;c_<fB;c_++)dG+=kO[Y*fB+c_]*hz(I*(Y+gt)-$*(c_+gt));return dG},kD=Math.floor(50/gM),et=new Float32Array(kD*kD*2),i7=dp*hl*.5/gM;
for(var $=0;$<kD;$++)for(var I=0;I<kD;I++){var dw=ak*I*2*Math.PI/kD,bd=ak*$*2*Math.PI/kD,k4=g0(dw,bd),D=(g0(dw+.01,bd)-k4)*100,A=(g0(dw,bd+.01)-k4)*100,Y=($*kD+I)*2;
et[Y]=D*i7;et[Y+1]=A*i7}for(var $=0;$<jF.CN;$++)for(var I=0;I<jF.Ps;I++){var gR=$%kD,h4=I%kD,Y=$*jF.Ps+I<<1,aS=gR*kD+h4<<1;
jF.map[Y]=et[aS];jF.map[Y+1]=et[aS+1]}}}e.NS.tJ(h.buffer,j.buffer,g,i,null,jF.map,jF.Ps,jF.CN,cu)}return j};
var hn={};hn.aB1="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");hn.T8="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
hn.da=["ScrC","ScrD","ScrL"];hn.Zp=["SDRD","SDHz","SDLD","SDVt"];hn.QJ="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
hn.WT="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");hn.PA="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
hn.HI=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];hn.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
hn.Az=function(b){var h;if(b=="ClrP")h={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(b=="Ct")h={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(b=="DryB")h={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(b=="FlmG")h={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(b=="Frsc")h={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(b=="NGlw")h={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(b=="PntD")h={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(b=="PltK")h={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(b=="PlsW")h={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(b=="PstE")h={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(b=="RghP")h={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(b=="SmdS")h={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(b=="Spng")h={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(b=="Undr")h={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(b=="Wtrc")h={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(b=="AccE")h={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(b=="AngS")h={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(b=="Crsh")h={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(b=="DrkS")h={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(b=="InkO")h={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(b=="Smie")h={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(b=="Spt")h={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(b=="SprS")h={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(b=="DfsG")h={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(b=="Gls")h={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(b=="OcnR")h={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(b=="BsRl")h={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(b=="ChlC")h={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(b=="Chrc")h={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(b=="Chrm")h={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(b=="CntC")h={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(b=="GraP")h={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(b=="HlfS")h={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(b=="NtPr")h={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(b=="Phtc")h={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(b=="Plst")h={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(b=="Rtcl")h={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(b=="Stmp")h={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(b=="TrnE")h={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(b=="WtrP")h={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(b=="GlwE")h={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(b=="Crql")h={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(b=="Grn")h={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(b=="MscT")h={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(b=="Ptch")h={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(b=="StnG")h={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(b=="Txtz")h={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
h.__name="Filter Gallery";h.classID="GEfc";h.GEfk={t:"enum",v:{GEft:b}};h.GELv={t:"bool",v:!0};return h};
hn.nd=function(b,h){for(var Y=0;Y<h.length;Y++)~~(h[Y]=(b[4*Y]+b[4*Y+1]+b[4*Y+2])*(1/3))};hn.ao4=function(b,h,G,H,B,j){var s=UPNG.quantize(b,h);
s={Oq:s.inds,qy:s.plte};if(j){var q=new Uint32Array(s.qy.length);for(var Y=0;Y<q.length;Y++)q[Y]=s.qy[Y].est.rgba;
s.Oq=e.a5x(new Uint8Array(b),G,H,new Uint8Array(q.buffer))}var Q=Math.floor((G+H)*.015);if(Q!=0&&B)e.ZD.a5B(s.Oq,G,H,Q);
return s};hn.BN=function(b,h,G,H,B,j,s){b=G.GEfk.v.GEft;var q=h.rect,Q=q.j,a=q._,l=Q*a,U=G.FlRs?G.FlRs.v>>>1:0;
function N(W){return W.$<<24|W.B<<16|W.J<<8|255}if(b=="ClrP")e.g.ac7(h.buffer,Q,a,j.buffer,[G.Pncl.v,G.StrP.v,G.PprB.v]);
if(b=="Ct"){var R=G.NmbL.v,S=G.EdgS.v,g=hn.ao4(h.buffer.buffer,R*2,Q,a,!0);for(var Y=0;Y<g.Oq.length;
Y++)g.Oq[Y]++;var i=new Uint8Array((Q+2)*(a+2));e.wX(g.Oq,new io(1,1,Q,a),i,new io(0,0,Q+2,a+2));var y=e.N.yS(i,Q+2,a+2,S,!1),o=new eq(1,0,0,1,-1,-1);
for(var Y=0;Y<y.length;Y++)e.N.h(y[Y].path.m,o,y[Y].path.m);var v=[],Z=g.qy;for(var Y=0;Y<Z.length;Y++){var W=Z[Y].est.q;
v.push({$:Math.round(255*W[0]),B:Math.round(255*W[1]),J:Math.round(255*W[2]),G:Math.round(255*W[3])})}var d=e.tM(Q,a);
for(var Y=0;Y<y.length;Y++){var $=y[Y],W=v[$.color-1];if(W.G==0)continue;d.fillStyle="rgba("+W.$+","+W.B+","+W.J+","+W.G/255+")";
d.beginPath();Typr.U.pathToContext({crds:$.path.m,cmds:$.path.Gc},d);d.fill()}if(!q.Zx()){var I=d.getImageData(0,0,Q,a);
e.MI(I.data,j.buffer)}}if(b=="DryB")e.g.a87(h.buffer,Q,a,j.buffer,[G.BrsS.v,G.BrsD.v,G.Txtr.v]);if(b=="FlmG")e.g.a5A(h.buffer,Q,a,j.buffer,[G.Grn.v,G.HghA.v,G.Intn.v,U]);
if(b=="Frsc")e.g.a10(h.buffer,Q,a,j.buffer,[G.BrsS.v,G.BrsD.v,G.Txtr.v]);if(b=="NGlw")e.g.aq3(h.buffer,Q,a,j.buffer,[G.Sz.v,G.Brgh.v,N(e.F.an(G.Clr.v)),N(H),N(B)]);
if(b=="PltK")e.g.al7(h.buffer,Q,a,j.buffer,[G.StrS.v,G.StDt.v,G.Sftn.v]);if(b=="PstE")e.g.ak_(h.buffer,Q,a,j.buffer,[G.EdgT.v,G.EdgI.v,G.Pstr.v]);
if(b=="RghP")e.g.a8X(h.buffer,Q,a,j.buffer,[G.StrL.v,G.StDt.v,hn.QJ.indexOf(G.TxtT.v.TxtT),G.Scln.v,G.Rlf.v,hn.T8.indexOf(G.LghD.v.LghD),G.InvT.v]);
if(b=="SmdS")e.g.ad2(h.buffer,Q,a,j.buffer,[G.StrL.v,G.HghA.v,G.Intn.v,G.FlRs?G.FlRs.v:0,U]);if(b=="Spng")e.g.aBf(h.buffer,Q,a,j.buffer,[G.BrsS.v,G.Dfnt.v,G.Smth.v,G.FlRs?G.FlRs.v:0,U]);
if(b=="Undr")e.g.aAO(h.buffer,Q,a,j.buffer,[G.BrsS.v,G.TxtC.v,hn.QJ.indexOf(G.TxtT.v.TxtT),G.Scln.v,G.Rlf.v,hn.T8.indexOf(G.LghD.v.LghD),G.InvT.v]);
if(b=="Wtrc")e.g.a7P(h.buffer,Q,a,j.buffer,[G.BrsD.v,G.ShdI.v,G.Txtr.v]);if(b=="AccE")e.g.afv(h.buffer,Q,a,j.buffer,[G.EdgW.v,G.EdgB.v,G.Smth.v]);
if(b=="AngS")e.g.aBO(h.buffer,Q,a,j.buffer,[G.DrcB.v,G.StrL.v,G.Shrp.v]);if(b=="Crsh")e.g.a0h(h.buffer,Q,a,j.buffer,[G.StrL.v,G.Shrp.v,G.Strg.v]);
if(b=="DrkS")e.g.asA(h.buffer,Q,a,j.buffer,[G.Blnc.v,G.BlcI.v,G.WhtI.v]);if(b=="InkO")e.g.atz(h.buffer,Q,a,j.buffer,[G.StrL.v,G.DrkI.v,G.LghI.v]);
if(b=="Smie")e.g.ayE(h.buffer,Q,a,j.buffer,[G.StrW.v,G.StrP.v,G.Cntr.v]);if(b=="DfsG")e.g.a0r(h.buffer,Q,a,j.buffer,[G.Grns.v,G.GlwA.v,G.ClrA.v,N(B),U]);
if(b=="CntC")e.g.azw(h.buffer,Q,a,j.buffer,[G.FrgL.v,G.BckL.v,hn.QJ.indexOf(G.TxtT.v.TxtT),G.Scln.v,G.Rlf.v,hn.T8.indexOf(G.LghD.v.LghD),G.InvT.v,N(B),N(H)]);
if(b=="ChlC")e.g.abG(h.buffer,Q,a,j.buffer,[G.ChrA.v,G.ChlA.v,G.StrP.v,U,N(B),N(H)]);var k=b=="GraP"||b=="Chrc"||b=="Plst"||b=="Rtcl"||b=="Stmp"||b=="TrnE";
if(k){var _=e.U(Q*a);if(b=="GraP")e.g.aBD(h.buffer,Q,a,j.buffer,[G.StrL.v,G.LgDr.v,hn.Zp.indexOf(G.SDir.v.StrD),U]);
if(b=="Chrc")e.g.aeS(h.buffer,Q,a,j.buffer,[G.ChAm.v,G.Dtl.v,G.LgDr.v]);if(b=="Plst")e.g.ar4(h.buffer,Q,a,j.buffer,[G.ImgB.v,hn.WT.indexOf(G.LghP.v.LghP),G.Smth.v]);
if(b=="Rtcl")e.g.aEx(h.buffer,Q,a,j.buffer,[G.Dnst.v,G.BlcL.v,G.WhtL.v,U]);if(b=="Stmp")e.g.ayF(h.buffer,Q,a,j.buffer,[G.LgDr.v,G.Smth.v]);
if(b=="TrnE")e.g.ajb(h.buffer,Q,a,j.buffer,[G.ImgB.v,G.Smth.v,G.Cntr.v,U]);e.uA(j.buffer,_,0);hn.Xr(_,j.buffer,H,B)}if(b=="NtPr")e.g.aBo(h.buffer,Q,a,j.buffer,[G.ImgB.v,G.Grns.v,G.Rlf.v,N(H),N(B),U]);
if(b=="WtrP")e.g.a7s(h.buffer,Q,a,j.buffer,[G.FbrL.v,G.Brgh.v,G.Cntr.v,U>>>1]);if(b=="Crql")e.g.afm(h.buffer,Q,a,j.buffer,[G.CrcS.v,G.CrcD.v,G.CrcB.v,U]);
if(b=="Grn")e.g.aDO(h.buffer,Q,a,j.buffer,[G.Intn.v,hn.PA.indexOf(G.Grnt.v.Grnt),G.Cntr.v,N(H),N(B),U]);
if(b=="MscT")e.g.aqz(h.buffer,Q,a,j.buffer,[G.TlSz.v,G.GrtW.v,G.LghG.v,U]);if(b=="Ptch")e.g.ayh(h.buffer,Q,a,j.buffer,[G.SqrS.v,G.Rlf.v,U]);
if(b=="Phtc"){function D(cN,dH,q,iu){e.Zt.jB(cN,dH,q,iu);for(var Y=0;Y<l;Y++)dH[Y]=Math.max(0,Math.min(255,128+cN[Y]-dH[Y]))}var A=G.Dtl.v,F=G.Drkn.v,K=e.U(l);
e.Rt(h.buffer,K);var V=e.U(l);D(K,V,q,1);if(A==1){A=2;F=Math.round(F/4)}var r=e.U(l);D(K,r,q,A);for(var Y=0;
Y<l;Y++)K[Y]=Math.max(0,Math.min(255,255-(V[Y]-r[Y])*F));hn.Xr(K,j.buffer,H,B)}if(b=="Spt"||b=="SprS"){var c,x=1,X=1;
c={Ps:Math.floor(Q/X),CN:Math.floor(a/X)};c.map=new Float32Array(c.Ps*c.CN*2);var M=new e.z.Zy(U),f=new Float32Array(8192),t=G.SprR.v,n=t<20?.018*t:.36+(t-20)*.128;
if(b=="SprS"){n=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][t]}for(var Y=0;
Y<8192;Y++)f[Y]=(-1+2*M.get())*n*70;for(var L=0;L<a;L++)for(var P=0;P<Q;P++){var z=L*Q+P<<1;c.map[z]=f[z%7919];
c.map[z+1]=f[(z+1)%7919]}var T=c.map.slice(0),p=b=="Spt"?G.Smth.v-1:1;if(b=="Spt"&&p!=0){hn.a1h(c.map,T,Q,a,p);
hn.ac0(T,c.map,Q,a,p)}if(b=="SprS"){var m=G.StrL.v>>>1,cb=m==0?2:1;hn.a1h(c.map,T,Q,a,cb);hn.ac0(T,c.map,Q,a,cb);
if(m!=0){var cX=hn.Zp.indexOf(G.SDir.v.StrD),e$=[1,1,1,0][cX],fz=[-1,0,1,1][cX],eC=2*m+1,hw=1/eC;for(var L=0;
L<a;L++)for(var P=0;P<Q;P++){var z=L*Q+P<<1,az=0,av=0;for(var Y=0;Y<eC;Y++){var ia=Math.max(0,Math.min(Q-1,P-(m+Y)*e$)),iJ=Math.max(0,Math.min(a-1,L-(m+Y)*fz)),cx=iJ*Q+ia<<1;
az+=c.map[cx];av+=c.map[cx+1]}T[z]=az*hw;T[z+1]=av*hw}c.map=T}}e.NS.tJ(h.buffer,j.buffer,Q,a,null,c.map,c.Ps,c.CN,x)}if(b=="BsRl"||b=="PlsW"||b=="Chrm"){var hP=Date.now(),iS=e.U(l),e4=iS.slice(0);
e.Rt(h.buffer,iS);var A=G.Dtl.v,cc=G.Smth.v;if(A!=15){e.Zt.QE(iS,e4,q,Math.round((15-A)*.5));e.MI(e4,iS)}var aO=1.4/Q,bZ=1.4/a,d_=new Float32Array(l),ee=new Float32Array(l),b4=new Float32Array(j.buffer.buffer);
for(var L=0;L<a;L++)for(var P=0;P<Q;P++){var Y=L*Q+P,e$=P==Q-1?iS[Y]-iS[Y-1]:iS[Y+1]-iS[Y],fz=L==a-1?iS[Y]-iS[Y-Q]:iS[Y+Q]-iS[Y],hA=P*aO-.7,f$=L*bZ-.7;
d_[Y]=e$==0?hA:e$*.4;ee[Y]=fz==0?f$:fz*.4}if(b=="BsRl"){var e_=(2+hn.T8.indexOf(G.LghD.v.LghD))*Math.PI*.25,az=Math.cos(e_);
if(Math.abs(az)<.1)az=0;az=Math.sign(az);var av=Math.sin(e_);if(Math.abs(av)<.1)av=0;av=Math.sign(av);
var fJ=1/(az*az+av*av);for(var L=0;L<a;L++)for(var P=0;P<Q;P++){var Y=L*Q+P,dV=Math.max(-1,Math.min(1,az*d_[Y])),ix=Math.max(-1,Math.min(1,av*ee[Y]));
e4[Y]=128+127*(dV+ix)*fJ}if(cc!=1){e.Zt.QE(e4,iS,q,Math.round((cc-1)*.5));e.MI(iS,e4)}hn.Xr(e4,j.buffer,H,B)}else{if(b=="Chrm")cc=5+cc;
if(cc>1)hn.oS(d_,ee,b4,q,cc-1);if(b=="PlsW"){var b9=new Uint8Array(d_.buffer);for(var Y=0;Y<l;Y++){var hV=Y<<2,e$=d_[Y],fz=ee[Y],gq=1/(Math.sqrt(1+e$*e$)*Math.sqrt(1+fz*fz)),eH=gq*gq,eP=eH*eH,W=~~(255*(eP*eP*eH));
b9[hV+0]=W;b9[hV+1]=W;b9[hV+2]=W;b9[hV+3]=W}j.buffer.set(h.buffer);e.z.Nm("norm",b9,q,j.buffer,q,q,G.HghS.v/20)}else if(b=="Chrm"){var c2=j.buffer,bL=Q>>>1,dg=a>>>1;
for(var Y=0;Y<l;Y++){var hV=Y<<2,e$=d_[Y],fz=ee[Y],cN={x:1,y:0,xM:e$};eQ.YO(cN);var dH={x:0,y:1,xM:fz};
eQ.YO(dH);var kM=eQ.a32(cN,dH),a_=1/kM.xM,g4=~~Math.max(0,Math.min(Q-1,bL-kM.x*a_*bL)),iY=~~Math.max(0,Math.min(a-1,dg-kM.y*a_*dg)),W=iS[iY*Q+g4];
c2[hV+0]=W;c2[hV+1]=W;c2[hV+2]=W}}}}if(b=="Gls"||b=="OcnR"||b=="Txtz"){var fa=b=="OcnR"?2:hn.QJ.indexOf(G.TxtT.v.TxtT),ka=hn.tl(fa),b1=ka[0],iS=ka[1],bg=b1.j,cl=b1._,eC=24,fm=0,aP,hh;
function c0(cE,cI,de){return~~(kL*(cE+cI)+8192)&127}var d_=new Float32Array(l),ee=new Float32Array(l),b4=new Float32Array(j.buffer.buffer),kL=b=="OcnR"?1/(1+(G.RplS.v-1)*.1):100/G.Scln.v;
if(fa==3)kL*=32/22.2;var hP=Date.now(),c_=kL,aO=1.4/Q,bZ=1.4/a;if(b=="Txtz"){c_*=1/255;eC=256}for(var L=0;
L<a;L++){var cA=c0(L,q.y,cl),iJ=cA+1&127;for(var P=0;P<Q;P++){var Y=L*Q+P,aw=c0(P,q.x,bg),ia=aw+1&127,kq=0,f4=0,gF=0;
if(b=="Txtz"){kq=e.t.Hp(kL*P,kL*L,iS,128,128);f4=e.t.Hp(kL*P,kL*L+1,iS,128,128);gF=e.t.Hp(kL*P+1,kL*L,iS,128,128)}else{kq=iS[cA*bg+aw];
f4=iS[iJ*bg+aw];gF=iS[cA*bg+ia]}d_[Y]=Math.max(-eC,Math.min((gF-kq)*c_,eC));ee[Y]=Math.max(-eC,Math.min((f4-kq)*c_,eC))}}if(b=="Txtz")hn.a47(d_,ee,b4,q,6);
else hn.oS(d_,ee,b4,q,b=="Txtz"?1:b=="OcnR"?3.5/kL:G.Smth.v);if(b=="Txtz")fm=G.InvT.v?-1:1;else if(b=="Gls"){fm=[1,.4,.5,.5,.5,.5,.5][fa]*(Math.exp(G.Dstr.v*.155)-1);
if(G.InvT.v)fm=-fm}else{fm=.5*(Math.exp(G.RplM.v*.155)-1)}var c2=j.buffer;if(b=="Txtz"){var e_=(2+hn.T8.indexOf(G.LghD.v.LghD))*Math.PI*.25,az=Math.cos(e_),av=Math.sin(e_);
aP={x:az,y:av,xM:0};eQ.YO(aP);hh=G.Rlf.v;hh=hh/4+Math.max(0,(hh-35)*2)}function gW(cN,dH,f0){var bS=e.z.overF(dH,cN,1),cE=(1-f0)*cN+f0*(f0*dH+(1-f0)*bS);
return cE*255}for(var L=0;L<a;L++)for(var P=0;P<Q;P++){var Y=L*Q+P,hV=Y<<2,e$=d_[Y],fz=ee[Y],cN={x:1,y:0,xM:e$};
eQ.YO(cN);var dH={x:0,y:1,xM:fz};eQ.YO(dH);var kM=eQ.a32(cN,dH);if(b=="Txtz"){var cg=eQ.arT(kM,aP)*fm,f0=1,W=1;
if(cg<0){W=0;cg=-cg}f0=Math.min(1,cg*hh);c2[hV+0]=~~gW(h.buffer[hV]*(1/255),W,f0);c2[hV+1]=~~gW(h.buffer[hV+1]*(1/255),W,f0);
c2[hV+2]=~~gW(h.buffer[hV+2]*(1/255),W,f0)}else{var a_=fm/kM.xM,g4=~~Math.max(0,Math.min(Q-1,P-kM.x*a_)),iY=~~Math.max(0,Math.min(a-1,L-kM.y*a_)),hk=iY*Q+g4<<2;
c2[hV+0]=h.buffer[hk];c2[hV+1]=h.buffer[hk+1];c2[hV+2]=h.buffer[hk+2]}}}if(b=="PntD"){var aQ=G.Shrp.v*.4,fj=G.BrsT.v.BrsT,fd={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[fj],iu=Math.round(G.Sz.v*.5);
e.wG.mh=fd[0];e.wG.st(h.buffer,j.buffer,Q,a,iu,0,[]);var en=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];en=e.aU.Ol(en);
var hl=j.buffer.slice(0);e.aU.c_(hl,j.buffer,Q,a,en,0);for(var Y=0;Y<h.buffer.length;Y++){var ed=j.buffer[Y]-hl[Y];
j.buffer[Y]=Math.max(0,Math.min(255,hl[Y]+aQ*ed))}}if(b=="GlwE"){var hG=j.buffer.slice(0);e.wG.mh=.5;
e.wG.st(h.buffer,hG,Q,a,G.Smth.v>>>1,0,[]);e.aU.aF3(hG,j.buffer,Q,a);e.MI(j.buffer,hG);e.Q6(hG);e.Zi(hG,4278190080,16777215);
e.WP.aEd(hG,j.buffer,Q,a,(G.EdgW.v>>>1)*2+1,!0);var i0=G.EdgB.v/10;for(var Y=0;Y<hG.length;Y++){if((Y&3)==3)continue;
var bS=j.buffer[Y];j.buffer[Y]=Math.max(0,Math.min(255,bS*i0))}}if(b=="StnG"){e.ww.ay8(h.buffer,Q,a,j.buffer,G.ClSz.v,[Math.round(H.$),Math.round(H.B),Math.round(H.J)],G.BrdT.v)}if(b=="HlfS"){var dC=G.HlSz.v,ir=dC*2+1,ih=G.Cntr.v,a$=hn.da.indexOf(G.ScrT.v.ScrT),l=Q*a,cC=l*4,dT=e.U(l),jq=h.buffer,kE=0,j4=0;
hn.nd(jq,dT);var kz=dT.slice(0);e.Zt.ag4(kz,dT,q,dC);var ce=Math.PI/ir,cp=new Float64Array(Q),az=new Float64Array(Q),ht=new Float64Array(2*Q);
for(var P=0;P<Q;P++){var aw=(P-(Q>>>1))*ce;cp[P]=aw*aw;az[P]=Math.cos(aw);var e$=P<<1;ht[e$]=Math.sin(e$*(1/4.5));
ht[e$+1]=Math.sin((e$+1)*(1/4.5))}for(var L=0;L<a;L++){var cA=(L-(a>>>1))*ce,av=Math.cos(cA),j8=cA*cA;
for(var P=0;P<Q;P++){var W=av;if(a$==0){var dm=.5+Math.sqrt(cp[P]+j8)*4.5;W=ht[~~dm]}else if(a$==1){W=az[P]*av}var Y=L*Q+P,ie=dT[Y]*(.75+.25*W),f0=jq[(Y<<2)+3]*(1/255),b5=Math.max(0,Math.min(255,~~ie));
kE+=b5*f0,j4+=f0;dT[Y]=b5}}kE/=j4;var eh=128+1.26*(kE-128),i0=.08+.25*Math.abs((128-kE)/128),jl=1+i0*ih;
for(var Y=0;Y<l;Y++){var ie=eh+(dT[Y]-eh)*jl;dT[Y]=Math.max(0,Math.min(255,~~ie))}if(ih>46)e.round(dT);
hn.Xr(dT,j.buffer,H,B)}for(var Y=0;Y<h.buffer.length;Y+=4)j.buffer[Y+3]=h.buffer[Y+3]};hn.Xr=function(b,h,G,H){var B=b.length,j=G.$,s=G.B,q=G.J,Q=H.$,a=H.B,l=H.J;
for(var Y=0;Y<B;Y++){var U=b[Y]*(1/255),N=1-U,R=Y<<2;h[R]=~~(j*N+Q*U);h[R+1]=~~(s*N+a*U);h[R+2]=~~(q*N+l*U)}};
hn.tl=function(b){if(b==6)b=2;var h="blocks canvas frosted tinylens brick burlap".split(" ")[b];if(hn.lj==null)hn.lj=[];
if(hn.lj[b]==null){var G,H;if(b==2){H=new io(0,0,128,128);var B=gY.Az("AdNs");B.Mnch.v=!0;B.Dstr.v.Dstr="Gsn";
B.Nose.v.val=50;var G=e.U(H.X()*4),j=G.slice(0);new Uint32Array(j.buffer).fill(4286611584);gY.BN("AdNs",{buffer:j,rect:H},B,0,0,{buffer:G,rect:H})}else{var s=aT.aC.get("tex/"+h,!0)[0];
H=s.jD;G=new Uint8Array(s.data)}var q=e.U(H.X());e.uA(G,q,0);hn.lj[b]=[H,q]}return hn.lj[b]};hn.oS=function(b,h,G,H,B){if(B<=1){B=Math.round(B);
hn.a47(b,h,G,H,[1,16,4][B]);return}var j=B*.42;if(b){e.Zt.z_(b,H,j,3)}if(h){e.Zt.z_(h,H,j,3)}};hn.a47=function(b,h,G,H,B){var j=e.aU.Ol([1,2,1,2,B,2,1,2,1]);
if(b){G.set(b);e.aU.ay0(b,G,H.j,H._,j);b.set(G)}if(h){G.set(h);e.aU.ay0(h,G,H.j,H._,j);h.set(G)}};hn.MA=function(b){if(b==null)return new cJ(0,0);
var h=0,G=b.GEfs?b.GEfs.v:[{v:b}];for(var Y=0;Y<G.length;Y++){var H=G[Y].v,j=1e4;if(H.GELv&&!H.GELv.v)continue;
var B=H.GEfk.v.GEft;if(B=="GlwE"||B=="Phtc"||B=="BsRl"||B=="PlsW"||B=="Chrm"||B=="Gls"||B=="OcnR"||B=="InkO")j=0;
h=Math.max(h,j)}return new cJ(h,h)};hn.a1p=function(b){var h=[0,0,0,0,0,0,0,0,0,0,0,0,0],G=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][b];
for(var Y=0;Y<13;Y++){var H=Y-6;h[Y]=1/(G*Math.sqrt(2*Math.PI))*Math.exp(-.5*(H/G)*(H/G))}return h};
hn.a1h=function(b,h,G,H,B){var j=hn.a1p(B),s=6,q=13;for(var Q=0;Q<H;Q++)for(var a=0;a<G;a++){var l=Q*G+a<<1,U=0,N=0;
for(var Y=0;Y<q;Y++){var R=a+Y-s,S=R<0?0:R>=G?G-1:R,g=(Q*G+S)*2,i=j[Y];U+=i*b[g];N+=i*b[g+1]}h[l]=U;
h[l+1]=N}};hn.ac0=function(b,h,G,H,B){var j=hn.a1p(B),s=6,q=13;for(var Q=0;Q<H;Q++)for(var a=0;a<G;a++){var l=Q*G+a<<1,U=0,N=0;
for(var Y=0;Y<q;Y++){var R=Q+Y-s,S=R<0?0:R>=H?H-1:R,g=(S*G+a)*2,i=j[Y];U+=i*b[g];N+=i*b[g+1]}h[l]=U;
h[l+1]=N}};function aq(){}aq.B2=[2,5,5,7,4,4];aq.B5="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
aq.$$="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
aq.US=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
aq.Qx=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
aq.ah=function(b){if(b=="passThrough")return"pass";return aq.B5[aq.$$.indexOf(b)]};aq.Wz=function(b){if(b=="pass")return"passThrough";
return aq.$$[aq.B5.indexOf(b)]};aq.getName=function(b){return aq.US[aq.B5.indexOf(b)]};function C(){this.rect=null;
this.buffer=null;this.Am="norm";this.opacity=255;this.wi=!1;this.Sz=!1;this.Xp=0;this.VF=0;this.T4=!0;
this.mj=[];for(var Y=0;Y<10;Y++)this.mj.push(0,0,255,255);this.name=null;this.add={};this.EB=null;this.m_=null;
this.u=null;this.Sb=null;this.ayP=30;this.GW=null;this.lM=null;this.ki=null;this.BT=null;this.nD=0;this.ZB=!1;
this.lD=null;this.Z5=new C.YY}C.YY=function(){this.xV=!0;this.cq=!0;this.Yw=e.U(0);this.av5=e.U(0);this.ka=null;
this.Oy={};this.acf=null;this.sA=null;this.Sv=null;this.tC=null;this.Mc=null;this.hZ=null;this.by=null;
this.Jx=null;this.JF=null;this.xc=null;this.Wj=null;this.tA=null;this.$t=!1};C.YY.prototype.awW=function(){this.xV=null;
this.cq=!1;this.ka=null;this.$t=cG.pl};C.YY.prototype.ae8=function(){eQ.ajF(this.Oy);this.Yw=e.U(0);
this.av5=e.U(0);if(this.tC)this.tC.delete();if(this.Mc)this.Mc.delete();this.tC=null;this.Mc=null;var b=[this.hZ,this.by,this.Jx,this.JF,this.xc,this.Wj];
for(var Y=0;Y<6;Y++)if(b[Y]!=null&&b[Y]instanceof cG.Bh)b[Y].delete();this.hZ=null;this.by=null;this.Jx=null;
this.JF=null;this.xc=null;this.Wj=null};C.prototype.c=function(b){if(b==null)b=this.rect.clone();if(this.Z5.ka==null)this.Z5.ka=b;
else this.Z5.ka=this.Z5.ka.gJ(b)};C.prototype.fu=function(){return this.add.lsct==c1.$I||this.add.lsct==c1.N_};
C.prototype._5=function(){var b=this.add;return b.SoCo!=null||b.GdFl!=null||b.PtFl!=null||b.vstl!=null};
C.prototype.a40=function(){var b=this.add.lmfx;if(b==null)return;var h=["GrFl","patternFill"];for(var Y=0;
Y<h.length;Y++){var G=dE.CM[dE.order.indexOf(h[Y])],H=b[G].v;if(H.length==0)continue;for(var B=0;B<H.length;
B++){var j=H[B].v;if(j.enab.v&&(j.Algn==null||!j.Algn.v))this.Z5.cq=!0}}};C.prototype.agN=function(){var b=this.u,h=this.Z5.xV;
if(this._5())b=this.Y1();if(!cG.pl)return b.H5();if(this.Z5.Mc==null||h||cG.pl!=this.Z5.$t){var G=b.Ki(),H=this.Z5.Mc,B=null;
if(h!=!0&&h!=null){B=h.clone();B.offset(-G.x,-G.y)}if(H==null||H.j!=G.j||H._!=G._){H=this.Z5.Mc=new cG.er(G.j,G._);
B=null}H.set(b.H5(),B)}return this.Z5.Mc};C.prototype.awj=function(b){var h=this.rect,G=this.buffer;
if(!cG.pl){var H=this.fU(b,G,h);if(H){G=H.Ur;h=H.rect}return G}if(this.Z5.ka!=null||cG.pl!=this.Z5.$t){var H=this.fU(b,G,h);
if(H){G=H.Ur;h=H.rect}var B=h;if(cG.pl!=this.Z5.$t||this.Z5.tC==null||this.Z5.tC.j!=B.j||this.Z5.tC._!=B._){if(this.Z5.tC)this.Z5.tC.delete();
this.Z5.tC=new cG.Bh(B.j,B._);this.Z5.tC.set(G)}else{var j=this.Z5.ka.clone();j.offset(-h.x,-h.y);this.Z5.tC.set(G,j)}}return this.Z5.tC};
C.prototype.Dc=function(){var b=this.u;if(this._5())b=this.Y1();return b!=null&&b.isEnabled&&(!b.rect.Zx()||b.an()!=255)};
C.prototype.fU=function(b,h,G){if(this.Ag()){var H=this.T0(b);if(H.u&&H.u.isEnabled&&(!H.u.rect.Zx()||H.u.color==0)){var B=this.add.SoLd.filterFX.v;
H.u.Hs=B.filterMaskDensity?B.filterMaskDensity.v:255;H.u._o=B.filterMaskFeather?B.filterMaskFeather.v:0;
var j=H.buffer,s=H.rect;if(s.X()<G.X()){s=G;j=e.U(s.X()*4);e.JE(H.buffer,H.rect,j,s)}var q=H.u.tn(G);
e.Q6(q);h=h.slice(0);e.z.hT(j,s,h,G,q,G,0,G,1);return{Ur:h,rect:G}}}};C.prototype.a2E=function(){var b={Hw:!1,Ax:!1,Ph:0,kW:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)b.Ax=!0;if(this.Y1()&&this.Y1().isEnabled)b.Hw=!0;if(b.Hw&&b.Ax){b.Ph=this.Y1().rect.x-this.add.vmsk.Y1().rect.x;
b.kW=this.Y1().rect.y-this.add.vmsk.Y1().rect.y}return b};C.prototype.vw=function(b,h){if(fq!=0)return;
if(h&&this.Y1()._o!=0){h=h.clone();var G=Math.round(this.Y1()._o*2.4);h.Mx(G,G)}var H=!1;if(this.add.lsct==c1.cH)return;
var B=this,j=this.Y1()!=null&&this.Y1().GD,s=this.add.vmsk!=null&&this.add.vmsk.GD,q=this.a2E(),Q=JSON.stringify(q)!=this.Z5.acf||q.Hw&&j||q.Ax&&s;
if(Q){if(q.Ax){var a=this.add.vmsk.Y1();if(q.Hw){this.u=this.Y1().Z$(a);this.Z5.sA=new cJ(this.u.rect.x-this.Y1().rect.x,this.u.rect.y-this.Y1().rect.y)}else this.u=a}if(this.u)H=!0;
if(this.u)this.Z5.Sv=new cJ(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);if(q.Hw)this.Y1().GD=!1;
if(q.Ax)this.add.vmsk.GD=!1;this.c(h)}else{if(q.Hw&&q.Ax){this.u.rect.x=this.Y1().rect.x+this.Z5.sA.x;
this.u.rect.y=this.Y1().rect.y+this.Z5.sA.y}}if(B._5()){this.eA(b)}if(B.P4()){var l;if(this.u)l=new cJ(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);
if(this.u&&this.u.isEnabled&&(this.Z5.Sv==null||!l.TW(this.Z5.Sv))){this.Z5.Sv=l;this.c(h);H=!0}}if(eZ.get(B.add)!=null)H=!0;
if(H){var U=this.Z5.xV;if(h&&U&&U!=!0)U=U.gJ(h);else U=h?h:!0;this.Z5.xV=U}this.Z5.acf=JSON.stringify(q)};
C.prototype.eA=function(b){if(fq!=0)return;var h=this,G=h.add.vstk,H=new io(0,0,b.j,b._),B,j=h.add.vmsk?this.add.vmsk.Y1():null,Q=!0,U;
if(j&&j.isEnabled&&j.an()==0)B=j.Ki().clone();else B=H;var s=h.Y1();if(s&&s.isEnabled&&s.an()==0)B=B.D4(h.u.Ki());
var q=j&&G;if(G&&(!G.strokeEnabled.v||G.strokeStyleLineWidth.v.val==0))q=!1;if(G&&!G.fillEnabled.v&&q)Q=!1;
var a=e.U(B.X()*4);if(Q){if(h.add.SoCo)eQ.Gj(a,h.add.SoCo.Clr.v);if(h.add.GdFl){var l=j&&j.color==0?e.n.d4(h.add.vmsk.d,null,!0):null;
eQ.XL(h.add.GdFl,a,B,b,null,l)}if(h.add.PtFl)eQ.a7(h.add.PtFl,a,B,b.add.Patt,h.add.fxrp)}if(q)U=dE.QA.mo.indexOf(G.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(j){var N=j.Hs;if(q)j.Hs=255;var R=e.U(B.X());if(j.an()!=0)R.fill(Math.round(j.an()));if(j&&j.isEnabled){var S=j.Ki(),g=j.H5();
if(S.TW(B))e.MI(g,R);else e.wX(g,S,R,B)}if(q&&U==2){}else{if(h.add.SoCo&&Q){e.aj(R,a,3)}else e.Iq(R,B,a,B)}if(q)j.Hs=N}h.buffer=a;
h.rect=B;if(q){var i=G.strokeStyleContent.v,y=dE.QA.kR.indexOf(i.classID),o=this.add.vmsk.Y1(G);if(U!=0&&!h.rect.TW(H))h.extend(h.rect.gJ(o.Ki()));
var N=o.Hs;o.Hs=255;var v=o.tn(h.rect);o.Hs=N;if(o.color==255)e.Q6(v);var Z=e.U(h.rect.X()*4);if(y==0)eQ.Gj(Z,i.Clr.v);
if(y==1)eQ.XL(i,Z,h.rect,b,null,j.color==0?j.rect:null);if(y==2)eQ.a7(i,Z,h.rect,b.add.Patt,h.add.fxrp);
var W=G.strokeStyleOpacity.v.val/100;if(W!=1)e.Ib(v,W);if(o.color==255)U=2-U;if(U<2){e.z.hT(Z,h.rect,h.buffer,h.rect,v,h.rect,255,h.rect,1,!1);
if(U==0)e.Bp(R,h.buffer)}if(U==2){e.Bp(v,Z);e.Q6(R);e.z.hT(Z,h.rect,h.buffer,h.rect,R,B,255,h.rect,1,!1);
e.Q6(R)}if(o.Hs!=255){var d=Z.slice(0);e.Zi(d,4278190080,16777215);e.z.Nm("norm",d,h.rect,h.buffer,h.rect,h.rect,1-o.Hs/255)}N=j.Hs;
j.Hs=255;this.av5=j.tn(h.rect);j.Hs=N}this.c()};C.prototype.gE=function(b,h,G,H){var B=this,j=B.add.SoLd.Idnt.v,s=B.add.SoLd,q=E.Y.DM(s.nonAffineTransform),Q=e.N.MP(q),a=b.UU(j,s.Crop?s.Crop.v:null,[Q.j,Q._],s.Impr.v.classID,G),o=null;
if(a==null)return;var l=a.P0;s.Sz.v.Wdth.v=l[1].j;s.Sz.v.Hght.v=l[1]._;if(fq!=0)return;var U=a.O4==null?s.Rslt.v.val:a.O4,N=s.quiltWarp.v;
if(e.hC.lv(N))N=null;var R=e.t.Kt(q,l[1]);if(N){var Q=e.N.MP(e.hC.kB(N)[3]),S=Q.x,g=Q.y,i=1/Q.j,y=1/Q._;
R=e.t.Kt(q);R=e.t.Z$(R,[i,0,-S*i,0,y,-g*y,0,0])}if(!h&&!B.Ag()&&N==null){var v=b.R.indexOf(B),Z=C.O7(B);
for(var Y=0;Y<v;Y++){var W=b.R[Y];if(W.add.SoLd&&!W.Ag()&&C.O7(W)[0]==Z[0]){var d=C.O7(W);o={buffer:W.buffer.slice(0),rect:W.rect.clone()};
o.rect.offset(Math.round(Z[1]-d[1]),Math.round(Z[2]-d[2]));break}}}if(o==null)o=E.Y.nW(l,h?0:1,R,N,null,null,null,h);
if(o==null){B.buffer=e.U();B.rect=new io}else if(B.Ag()){var $=B.T0(b);if(H){$.buffer.fill(0);e.JE(o.buffer,o.rect,$.buffer,$.rect)}else{$.buffer=o.buffer;
$.rect=o.rect.clone()}this.O3(b,h)}else{B.buffer=o.buffer;B.rect=o.rect}B.vw(b);B.c();b.c()};C.O7=function(b){var h=b.add.SoLd,G=h.Idnt.v,H=E.Y.DM(h.nonAffineTransform),B=e.t.Kt(H,new io(0,0,1e3,1e3)),j=h.quiltWarp.v;
if(e.hC.lv(j))j=null;return[[G,B[0],B[1],B[3],B[4],B[6],B[7],j==null].join(":"),B[2],B[5]]};C.prototype.O3=function(b,h){if(h==null)h=!1;
var G=this.T0(b),H=this.add.SoLd.filterFX.v,B=gY.a3_(H),j=new io(0,0,b.j,b._),s=G.rect.gJ(j),q=G.rect.clone();
q.Mx(B.x,B.y);var Q={buffer:null,rect:s.D4(q)};Q.buffer=e.U(Q.rect.X()*4);e.JE(G.buffer,G.rect,Q.buffer,Q.rect);
if(H.enab.v&&h==!1){var a=H.filterFXList.v;for(var Y=0;Y<a.length;Y++){var l=a[Y].v;if(l.enab.v==!1)continue;
var U=l.blendOptions.v,N=aq.ah(U.Md.v.BlnM),R=U.Opct.v.val/100,S=e.F.an(l.FrgC.v),g=e.F.an(l.BckC.v),i=gY.AF(l),y={buffer:e.U(Q.buffer.length),rect:Q.rect.clone()},o=l.Fltr?l.Fltr.v:null;
if(eZ.mq[i]!=null){var v=eZ.mq[i],Z=eZ.q9(v,o);if(Z)eZ.BN(Z,Q.buffer,y.buffer,Q.rect)}else gY.BN(i,Q,o,S,g,y,[b.add.lnk2?b.add.lnk2:[],this.Y1(),b.$B]);
if(N=="norm"&&R==1)Q=y;else if(N=="norm"){e.z.hT(y.buffer,y.rect,Q.buffer,Q.rect,null,null,null,Q.rect,R)}else{e.z.Nm(N,y.buffer,y.rect,Q.buffer,Q.rect,Q.rect,R)}}}this.rect=Q.rect;
this.buffer=Q.buffer;this.r6();this.c();b.c()};C.prototype.fo=function(b,h,G){this.lD=this.ao7(b,h,G)};
C.prototype.tP=function(b,h){var G=this.ao7(b,h,!0);if(G==null)return null;var H={wU:G.nD,VN:G.qe,rect:G.eQ};
if(H.wU==1||H.wU==3){var B=H.rect,j=e.U(B.j*B._*4);e.aj(H.VN,j,0);e.aj(H.VN,j,1);e.aj(H.VN,j,2);e.a2J(b.e.channel,b.e.rect,j,B);
H.VN=j}return H};C.prototype.ao7=function(b,h,G){var H,B,j,s,q,Q,a;if(this.nD<=0){var l=e.U(this.rect.X());
e.uA(this.buffer,l,3);H=e.ym.Ai(h,{channel:l,rect:this.rect},3);if(H==null)return null;var U=e.VM(H.channel,H.rect);
s=H.rect.clone();q=this.rect.clone();B=e.U(s.X()*4);e.JE(this.buffer,q,B,s);e.aj(H.channel,B,3);j=this.buffer.slice(0);
if(!G){var N=h.channel.slice(0);e.Q6(N);e.Iq(N,h.rect,j,q)}Q=this.buffer.slice(0);a=this.rect.clone()}if(this.nD==1||this.nD==3){var R=this.nD==1?this.Y1():this.T0(b).u;
s=h.rect.clone();q=R.rect.clone();B=R.BE(s);var j=R.channel.slice(0);if(!G)e.z.pb(R.color==255?e.b6(s.X()):e.TI(s.X()),s,j,q,h.channel,s,1);
Q=R.channel.slice(0);a=R.rect.clone()}return{nD:this.nD,qe:B,eQ:s,rc:j,Ta:q,cZ:Q,qs:a}};C.prototype.Ao=function(b,h){var G=this.lD;
if(G.nD==0){this.rect=G.qs;this.buffer=G.cZ;this.c()}if(G.nD==1||G.nD==3){var H=G.nD==1?this.Y1():this.T0(b).u;
H.channel=G.cZ;H.rect=G.qs;if(this.nD==1){H.GD=!0;this.vw(b)}if(this.nD==3)this.c()}this.lD=h};C.prototype.tv=function(b,h){if(this.nD<=0&&h.rect.TW(this.rect)){var G=e.U(this.rect.X());
e.uA(this.buffer,G,3);if(e.TW(b.e.channel,G)){var H=this.rect,B=this.buffer;this.lD={nD:this.nD,qe:B.slice(0),eQ:H.clone(),rc:e.U(0),Ta:new io,cZ:e.U(0),qs:new io};
return!0}}var j=this.lD;if(j==null)return!1;if(j.nD!=this.nD)return!1;if(!h.rect.TW(j.eQ))return!1;var s=j.Ta.gJ(j.eQ);
if(j.nD<=0){if(!s.TW(this.rect))return!1;var q=e.U(j.qe.length>>2);e.uA(j.qe,q,3);if(!e.TW(h.channel,q))return!1;
var Q=e.U(s.j*s._*4);e.JE(j.rc,j.Ta,Q,s);e.z.Nm("norm",j.qe,j.eQ,Q,s,s,1);return e.TW(Q,this.buffer)}if(j.nD==1||j.nD==3){var a=j.nD==1?this.Y1():this.T0(b).u;
if(!s.TW(a.rect))return!1;var l=e.U(s.X());l.fill(a.color);e.wX(j.rc,j.Ta,l,s);e.z.pb(j.qe,j.eQ,l,s,h.channel,s,1);
return e.TW(l,a.channel)}};C.prototype.Cw=function(b,h,G,H){var B=this.lD;B.eQ.offset(h,G);var j=B.Ta.gJ(B.eQ);
if(B.nD<=0){var s=e.U(j.X()*4);e.JE(B.rc,B.Ta,s,j);e.z.Nm("norm",B.qe,B.eQ,s,j,j,1);this.buffer=s;this.rect=j;
this.c()}else{var q=this.nD==1?this.Y1():this.T0(b).u,Q=e.U(j.X());Q.fill(q.color);e.wX(B.rc,B.Ta,Q,j);
e.z.pb(B.qe,B.eQ,Q,j,H.channel,j,1);q.channel=Q;q.rect=j.clone();if(this.nD==1){q.GD=!0;this.vw(b)}if(this.nD==3)this.c()}};
C.prototype.a3a=function(b){var h=[-1,0,1,2];if(b)h.push(3);if(this.u)h.push(-2);if(this.Sb)h.push(-3);
return h};C.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};C.prototype.cb=function(g1){this.add.luni=this.name=g1};
C.prototype.Cf=function(b){var h=this.add.lnsr,G=this.add.TySh;if(h=="rend"&&G){var H=b_.v4(G.HZ);this.cb(H.slice(0,H.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
C.prototype.yY=function(){return(this.Xp&1<<1)==0};C.prototype.P4=function(){return(this.Xp&1<<4)==0};
C.prototype.mx=function(){return(this.Xp&1<<5)!=0};C.prototype.aF0=function(){var b=this;if(b.add.lnsr!="bgnd"){b.add.lnsr="bgnd";
b.cb("Background");b.add.lspf=1<<2}};C.prototype.a8W=function(){var b=this;if(b.add.lnsr=="bgnd"){delete b.add.lnsr;
b.cb("Layer 0");b.add.lspf=0}};C.prototype.Xb=function(b){var h=this.add.lspf;return h==null?!1:(h>>b&1)!=0};
C.prototype.lW=function(b){if(b&&!this.yY())this.Xp-=2;if(!b&&this.yY())this.Xp+=2};C.prototype.JA=function(){var b=this.add.lmfx;
if(b==null)return!1;for(var h in b){if(h=="masterFXSwitch")continue;if(h=="Scl")continue;if(h=="classID")continue;
if(b[h].v.length>0)return!0}return!1};C.prototype.Ag=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
C.prototype.TY=function(){var b=this.add.lmfx;if(b==null)return!1;if(!b.masterFXSwitch.v)return!1;for(var h in b){if(h=="masterFXSwitch")continue;
if(h=="Scl")continue;if(h=="classID")continue;var G=b[h].v;for(var Y=0;Y<G.length;Y++)if(G[Y].v.enab.v)return!0}return!1};
C.prototype.QL=function(){var b=this,h=b.add.SoLd,G=b.add.TySh,H=b.add.vmsk,B=[];if(h)B=E.Y.DM(h.nonAffineTransform);
if(G&&this.Z5.fc){B=e.N.Q0(b.Z5.fc).m;e.N.h(B,G.h,B)}if(H)B=e.N.Q0(H.aun()).m;return B};C.prototype.xu=function(b,h,G,H){if(fq==1)return e.N.MP(this.QL());
var B=new io,j=this._j(b,G,H);if(j.indexOf(0)!=-1)B=B.gJ(this.rect);if(j.indexOf(1)!=-1){var s=this.Y1(),q=s.Ki();
B=G&&s.an()==0?B.Zx()?q:B.D4(q):B.gJ(q)}if(j.indexOf(2)!=-1){var Q=this.add.vmsk,a=this.add.vstk,l;if(h){if(Q._B.length>1){var U=e.n.hq(Q.d,null,Q._B);
l=e.N.MP(U);if(l.Zx())l=null}if(l==null)l=e.n.d4(Q.d,Q.T.length!=0?Q.T:null)}else l=e.n.d4(Q.d);if(!H&&a&&a.strokeEnabled.v){var N=a.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=a.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(N!="strokeStyleAlignInside"){var S=a.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")l=new io(0,0,b.j,b._);
else l.Mx(S,S)}}B=B.gJ(l)}if(j.indexOf(3)!=-1)B=B.gJ(this.T0(b).u.Ki());if(j.length==0&&this._5())B=H?new io(0,0,0,0):new io(0,0,b.j,b._);
return B};C.prototype.C7=function(){var b=this.add.artb,h=b.artboardBackgroundType.v,G=0;if(h==1)G=4294967295;
else if(h==2)G=4278190080;else if(h==3)G=0;else if(h==4){G=b.Clr.v;G=255<<24|G.Bl.v<<16|G.Grn.v<<8|G.Rd.v}else throw h;
return G};C.prototype.Ey=function(){var b=this.add.artb.artboardRect.v,h=b.Btom.v,G=b.Left.v,H=b.Rght.v,top=b.Top.v;
return new io(G,top,H-G,h-top)};C.prototype.b8=function(b){var h=C.OG(b);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=h};C.OG=function(b){var h={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
h.Btom.v=b.y+b._;h.Left.v=b.x;h.Rght.v=b.x+b.j;h.Top.v=b.y;return h};C.prototype._j=function(b,h,G){var H=[],B=this;
if(!h&&B.ZB&&G){H.push(2)}else if(B.nD<=0||h){if(B.P4()){if(fq==1&&B.add.TySh)H.push(0);if(fq==1&&B.add.SoLd)H.push(0);
else if(!this.rect.Zx()||B.add.SoLd)H.push(0)}if(B.Y1()&&!B.Y1().rect.Zx())if(B.Y1().lc||h)H.push(1);
if(B.add.vmsk)if(B.add.vmsk.lc||h)H.push(2);if(B.Ag()&&B.T0(b).u&&!B.T0(b).u.rect.Zx())H.push(3)}else if(B.nD==1){H.push(1);
if(B.Y1().lc&&!B.Y1().rect.Zx()){if(B.P4())if(!this.rect.Zx())H.push(0);if(B.add.vmsk)if(B.add.vmsk.lc)H.push(2)}}else if(B.nD==3&&!B.T0(b).u.rect.Zx())H.push(3);
if(B.add.artb&&H.indexOf(0)==-1)H.push(0);H.sort();return H};C.prototype.Y1=function(){var b=this;return b.Sb?b.Sb:b.add.vmsk&&b.add.vmsk.isEnabled?null:b.u};
C.prototype.T0=function(b){var h=this.add.SoLd.placed.v,G=b.add.FEid;if(G==null)return null;for(var Y=0;
Y<G.length;Y++)if(G[Y].id==h)return G[Y];return null};C.prototype.extend=function(b){e.aA5(this,b)};
C.prototype.aDe=function(b,h,G){var H=b.clone();if(this.TY()){var B=this.add.lmfx,j=h.root.DE(h.R.indexOf(this)),s=B.gradientFillMulti.v,q=!1;
for(var Y=0;Y<s.length;Y++)if(s[Y].v.enab.v&&s[Y].v.Algn.v)q=!0;if(q)H=H.gJ(j.Ki(h,!1));var Q=eQ.aA4(this.add.lmfx,h,G);
H.offset(Q.x,Q.y);H.j+=Q.j;H._+=Q._}return H};C.prototype.r6=function(){if(this.P4())e.yV(this);var b=this.Y1();
if(b)b.r6()};C.prototype.clone=function(){var b=new C;b.rect=this.rect.clone();b.buffer=this.buffer.slice(0);
b.Am=this.Am;b.opacity=this.opacity;b.wi=this.wi;b.Xp=this.Xp;b.name=this.name;b.mj=this.mj.slice(0);
if(this.u)b.u=this.u.clone();if(this.Sb)b.Sb=this.Sb.clone();for(var h in this.add)b.add[h]=he.clone(h,this.add[h]);
return b};C.prototype.vH=function(b){var h=this;if(h.add.TySh)delete h.add.TySh;if(h.add.SoLd){var G=this.fU(b,this.buffer,this.rect);
if(G){this.buffer=G.Ur;this.rect=G.rect;this.c()}delete h.add.SoLd}if(h.add.SoCo||h.add.GdFl||h.add.PtFl){if(h.add.vogk)delete h.add.vogk;
if(h.add.SoCo)delete h.add.SoCo;if(h.add.GdFl)delete h.add.GdFl;if(h.add.PtFl)delete h.add.PtFl;if(h.add.vmsk){console.log(h.Sb,h.u);
delete h.add.vmsk;if(h.Sb==null&&h.u)delete h.u;else if(h.Sb!=null&&h.u!=null){h.u=h.Sb;delete h.Sb}}}if(!h.fu()&&eZ.get(h.add)==null&&!this.P4())this.Xp-=16};
C.prototype.XI=function(b){var h=255,G=0;if(b==2){var H=this.add.SoLd.filterFX.v;if(H.filterMaskDensity)h=H.filterMaskDensity.v;
if(H.filterMaskFeather)G=H.filterMaskFeather.v}else{var B=b==0?this.Y1():this.add.vmsk;h=B.Hs;G=B._o}return{ib:b,pA:h,fV:G}};
C.prototype.a2U=function(b){if(b.ib==2){var h=this.add.SoLd.filterFX.v;if(b.pA==255)delete h.filterMaskDensity;
else h.filterMaskDensity={t:"long",v:b.pA};if(b.fV==0)delete h.filterMaskFeather;else h.filterMaskFeather={t:"doub",v:b.fV};
this.c()}else{var G=b.ib==0?this.Y1():this.add.vmsk;G.Hs=b.pA;G._o=b.fV;G.GD=!0}};C.prototype.AA=function(){var b=this,h=b.add.vmsk;
if(h==null)return;b.add.vogk=e.Bs.a6j(h.d)};C.AA=function(b){var h=[],G=e.n.bF(b);for(var H=0;H<G;H++)h.push(e.Bs.TI());
return h};var c1={GR:0,$I:1,N_:2,cH:3};C.Tc=function(){this.name="Mask";this.Da=!1;this.UT={$:255,B:0,J:0};
this.S$=50;this.qp=0;this.color=255;this.lc=!0;this.isEnabled=!0;this.NY=!1;this.Hs=255;this._o=0;this.rect=new io;
this.channel=e.U(0);this.gz=null;this.a4X=null;this.GD=!0};C.Tc.prototype.Z$=function(b){if(!this.isEnabled)return b;
var h=new C.Tc;h.color=Math.round(this.an()*b.an()/255);if(this.an()==0&&b.an()==0)h.rect=this.Ki().D4(b.Ki());
else if(b.an()==0)h.rect=b.Ki().clone();else if(this.an()==0)h.rect=this.Ki().clone();else h.rect=this.Ki().gJ(b.Ki());
h.channel=this.tn(h.rect);h.Hs=255;h._o=0;var G=b.tn(h.rect);e.ad_(G,h.rect,h.channel,h.rect);return h};
C.Tc.prototype.Ki=function(){if(this._o==0)return this.rect;var b=Math.ceil(this._o*2.2),h=this.rect.clone();
if(h.y==0){if(h.x==0)h.j+=b;else h.Mx(b,0);h._+=b}else h.Mx(b,b);return h};C.Tc.prototype.H5=function(){if(this._o==0&&this.Hs==255)return this.channel;
if(this._o==0){var b=this.channel.slice(0);e.Q6(b);e.Ib(b,this.Hs/255);e.Q6(b);return b}var h=this.Ki(),G=this.BE(h),b=e.U(h.X());
e.Zt.QE(G,b,h,this._o);if(this.Hs!=255){e.Q6(b);e.Ib(b,this.Hs/255);e.Q6(b)}return b};C.Tc.prototype.an=function(){return Math.round(255-(255-this.color)*(this.Hs/255))};
C.Tc.prototype.extend=function(b){e.extend(this,b,this.color)};C.Tc.prototype.r6=function(){if(this.color==255)e.Q6(this.channel);
e.r6(this);if(this.color==255)e.Q6(this.channel)};C.Tc.prototype.clone=function(){var b=new C.Tc;b.name=this.name;
b.Da=this.Da;b.UT=this.UT;b.S$=this.S$;b.qp=this.qp;b.color=this.color;b.lc=this.lc;b.isEnabled=this.isEnabled;
b.NY=this.NY;b.Hs=this.Hs;b._o=this._o;b.rect=this.rect.clone();b.channel=this.channel.slice(0);return b};
C.Tc.prototype.BE=function(b,h){if(h==null)h=e.U(b.X());h.fill(this.color);e.wX(this.channel,this.rect,h,b);
return h};C.Tc.prototype.tn=function(b,h){var G=this.Ki(),H=this.H5();if(h==null)h=e.U(b.X());h.fill(this.an());
e.wX(H,G,h,b);return h};C.cW=function(){this.lc=!0;this.isEnabled=!0;this.Hs=255;this._o=0;this.vt=0;
this.Vj=1;this.d=[{type:6},{type:8,all:0}];this.VD=[-3,-3];this.Wa=!1;this.Sb=null;this.GD=!0;this.T=[];
this._B=[]};C.cW.prototype.aun=function(b){var h=C.cW.O6(this.d),G=new eq;if(b)G.rotate(-this.vt);e.n.Gl(h,G);
return e.n.d4(h)};C.cW.prototype.me=function(){var b=this.aun(!0),h=e.N.Q0(b).m,G=new eq;G.rotate(this.vt);
e.N.h(h,G,h);return h};C.cW.prototype.offset=function(b,h){this.Sb=this.Y1();e.n.Gl(this.d,new eq(1,0,0,1,b,h));
this.Sb.rect.offset(b,h)};C.cW.prototype.Y1=function(b){if(!this.GD&&this.Sb&&b==null){this.Sb.isEnabled=this.isEnabled;
return this.Sb}var h=e.n.d4(this.d),G="strokeStyleLineAlignment",H="strokeStyleLineJoinType";if(h.X()>2e4*2e4)h=new io(0,0,100,100);
if(b&&b[G].v[G]!="strokeStyleAlignInside"){var B=1;if(b[H].v[H]=="strokeStyleMiterJoin"){var j=e.n.aod(this.d),s=j/2,q=Math.sin(s),Q=Math.cos(s);
Q/=q;q=1;var B=Math.sqrt(Q*Q+q*q);if(isNaN(B)||B<1)B=1}B*=b[G].v[G]=="strokeStyleAlignOutside"?1:.5;
var a=Math.ceil(b.strokeStyleLineWidth.v.val*B);a=Math.min(a,600);h.Mx(a,a)}h=e.N.lZ(h);var l=new C.Tc;
l.color=e.n.Pi(this.d)?0:255;l.lc=this.lc;l.isEnabled=this.isEnabled;l.NY=!0;l.rect=h;l.Hs=this.Hs;l._o=this._o;
l.channel=e.U(l.rect.X());if(!h.Zx())e.n.azf(this.d,l.channel,l.rect,b);if(b==null){this.Sb=l;this.GD=!1}return l};
C.cW.prototype.clone=function(){var b=new C.cW;b.lc=this.lc;b.isEnabled=this.isEnabled;b.Hs=this.Hs;
b._o=this._o;b.vt=this.vt;b.d=C.cW.O6(this.d);b.VD=this.VD.slice(0);b.Wa=this.Wa;b.T=this.T.slice(0);
b._B=this._B.slice(0);return b};C.cW.prototype.concat=function(b){var h=b.d.slice(2);if(h.length==0)return;
h[0].Vj=3;this.d=this.d.concat(h)};C.cW.O6=function(b){var h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y];
if(G.type>5||G.type==0||G.type==3)h.push(JSON.parse(JSON.stringify(G)));else h.push({type:G.type,o$:G.o$.clone(),v:G.v.clone(),PY:G.PY.clone()})}return h};
C.cW.auh=function(b,h,G){if(b.length!=h.length)return!1;for(var Y=2;Y<b.length;Y++){var H=b[Y],B=h[Y];
if(H.type!=B.type)return!1;if(H.type==0||H.type==3){if(H.length!=B.length||!G&&H.Vj!=B.Vj)return!1}else if(!H.o$.TW(B.o$)||!H.v.TW(B.v)||!H.PY.TW(B.PY))return!1}return!0};
C.cW.prototype.azF=function(){var b=this.d;for(var Y=3;Y<b.length;Y++)if(b[Y].type==0||b[Y].type==3)b[Y].Vj=-1};
C.gs=function(){this.type=null;this.PL=2;this.Af=null;this._6="";this.Z_="";this.Vx="";this.open=0;this.raw=null;
this.P0=null;this.ayI="none";this.rm=!1};C.gs.prototype.clone=function(){var b=new C.gs;b.type=this.type;
b.PL=this.PL;b.Af=this.Af;b._6=this._6;b.Z_=this.Z_;b.Vx=this.Vx;b.open=this.open;b.raw=new Uint8Array(this.raw.buffer.slice(0));
return b};C.gs.prototype.Nw=function(b,h,G,H,B){if(G==null)G="none";var j=this,s=aT.ni(j.raw.buffer),q=s=="svg"||s=="pdf"||s=="ai";
if(j.P0){var Q=h&&q&&Math.max(j.P0[1].j,j.P0[1]._)<Math.max(h[0],h[1]);if(!Q&&G==this.ayI&&!j.rm)return}this.ayI=G;
if(!q)b=0;if(s==null){alert("Unsupported format: "+J.lA(j.raw,0,4));return null}var a=aT.JR(s);if(s=="psd"&&fq==1){var l=gr.az_(j.raw)[0],U=new Uint8Array(l.data);
j.P0=[U,l.jD]}else if(a.hE){var N=new cj(name+(s=="psd"?"":"-"+s)+".psd"),U;a.ho(j.raw.buffer,N,h);var R=new io(0,0,N.j,N._);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(G)!=-1){var S=[];for(var Y=0;Y<N.R.length;
Y++){var g=N.R[Y],i=g.buffer;if(!g.rect.TW(R)){i=e.U(R.X()*4);e.JE(g.buffer,g.rect,i,R);console.log("resizing")}S.push(i)}U=e.U(R.X()*4);
e.stack.stack(S,U,G)}else{for(var Y=0;Y<N.R.length;Y++)if(N.R[Y]._5())N.R[Y].vw(N);if(H&&N.rm){var y=jK.tO(N,H,B);
j.rm=!y;if(y)jK.GA(N,H,B)}N.UL();N.c();N.lJ();U=N.Nw()}j.P0=[U,R];j.O4=N.O4!=null&&N.O4!=0?N.O4:72}else if(a){var o=a.ho(j.raw.buffer)[0];
j.P0=[new Uint8Array(o.data),o.jD];j.O4=o.O4!=null&&o.O4!=0?o.O4:72}if(j.P0){if(b==1){var i=j.P0[0],v=j.P0[1],Z=e.U(v.X());
e.uA(i,Z,3);var W=e.VM(Z,v),d=e.U(W.X()*4);e.JE(i,v,d,W);W.x=W.y=0;j.P0=[d,W]}e.tT(j.P0)}};C.hR="0";
C.rU="2";C.Bx="2.5";C.km="2.6";C.tZ="3";C.qX="4";C.se="4.5";C.abH="4.6";C.a98="5";C.x1="5.5";C.uI="6";
C.aDi="7";C.a1F="8";C._e="9";C.oB="9.3";C.alg="9.5";C.q$="9.6";C.TL="10";C.$P="11";C.$R="12";C.k5="13";
C.PU="13.1";C.aft="13.2";C.qL="13.3";C.li="13.4";C.u4="14";C.Wc="14.1";C.St="14.2";C.c6="14.3";C.Wi="17";
C.s6="18";C.a3i="19";C.UH="19.5";C.XG="19.6";C.fp="19.7";C._x="19.8";C.Ud="20";C.iY="21";C.NN="21.5";
C.FE="22";C._3="22.5";C.LX="23";C.alk="24";C.Cr="25";C.ae2="26";C.als="27";C.fb="28";C.kl="29";C.Dk="30";
C.iy="31";C.Wf="32";C.ah9="32.5";C.mI="33";C.TZ="34";C.W5="35";C.pQ="36";C.Dv="36.5";C.Qp="37";C.EN="37.5";
C.a5L="37.6";C.Ti="38";C.as="38.5";C.n2="38.6";C.op="39";C.iE="40";C.a0x="41";C.avG="42";C.oA="50";C.K9="51";
C.jz="52";C.cU="53";C.R_="54";C.ade="54.5";C.Jp="54.6";C.alP="54.7";C.Th="54.8";C.XJ="55";C.ck="55.5";
C.OW="56";C.P_="57";C.KJ="58";C.d_="59";C.$u="60";function k7(){this.depth=0;this.index=-1;this.o=null;
this.mW=null;this.D6=-1;this.children=null;this.parent=null;this.Nl=null}k7.prototype.amm=function(b,h){if(this.depth!=0)b.push(this.o.getName());
if(this.children)for(var Y=0;Y<this.children.length;Y++)this.children[Y].amm(b,h);if(b.length>h.ZV.length)h.ZV=b.slice(0);
if(this.depth!=0)b.pop()};k7.prototype.ag7=function(){var b=0;if(this.o.fu()){for(var Y=0;Y<this.children.length;
Y++)b+=this.children[Y].ag7()}else if(this.o.buffer)b+=this.o.buffer.length;return b};k7.prototype.DE=function(b){var h=this.Nl[b];
return this.Nl[b]};k7.prototype.Hk=function(b,h){var G=this.o;if(!G.yY()||G.Xb(2)||G.Xb(31))return null;
if(G.Dc()){var H=G.u.rect.XR(b);if(!H&&G.u.color==0)return}if(G.fu()){for(var Y=0;Y<this.children.length;
Y++){var g1=this.children[Y];g1.Hk(b,h)}}else if(fq==1){var B=G.QL();if(b.XR(e.N.MP(B))&&h.indexOf(this.index)==-1)h.push(this.index)}else if(G.rect.XR(b))h.push(this.index)};
k7.prototype.cE=function(b,h){var G=this.o;if(!G.yY()||G.Xb(2)||G.Xb(31))return null;if(G.Dc()){if(G.u.rect.G_(b)){if(!e.cE(b,G.u.channel,G.u.rect))return null}else if(G.u.color==0)return null}if(G.fu()){if(G.add.artb&&!G.Ey().G_(b))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var g1=this.children[Y],H=g1.cE(b,h);if(H&&h==null)return H}return null}else if(fq==1){if(G.add.vmsk){var B=G.add.vstk,j=!B.fillEnabled.v&&!G.Sz,s=B.strokeStyleLineWidth.v.val*.5,q=e.n.cE(G.add.vmsk.d,b,j,s);
return q.V9==-1?null:this}var Q=G.QL();if(b0.Xh(Q,b.x,b.y))return this}else if(G.add.TySh&&G.rect.G_(b)||e.a58(b,G.buffer,G.rect)){if(h==null)return this;
else h.push(this.index)}return null};k7.prototype.abO=function(b){var h=this.o;if(!h.yY()||h.Xb(2)||h.Xb(31))return null;
var G=h.add.vmsk;if(G&&G.isEnabled){var H=e.n.cE(G.d,b).V9;if(H!=-1)return{aD6:this,apQ:H}}if(h.fu()){if(h.add.artb&&!h.Ey().G_(b))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var g1=this.children[Y],B=g1.abO(b);if(B)return B}return null}return null};
k7.prototype.LL=function(b,h){b.push(this.index);if(this.o.fu()){b.push(this.D6);if(h)if(this.o.nD==1&&this.o.Y1().lc==!1)return;
for(var Y=0;Y<this.children.length;Y++)this.children[Y].LL(b)}};k7.S1=function(){var b=document.createElement("canvas");
return b.getContext("2d")};k7.aeY=function(b,h){var G,H;if(b.j>b._){G=h;H=Math.floor(h*(b._/b.j))}else{G=Math.floor(h*(b.j/b._));
H=h}return new cJ(G,H)};k7.RD=32;k7.MN=1;k7.prototype.DB=function(b,h,G){var H=k7.MN,B=this.o;if(B.fu()&&B.add.artb!=null)h=B.Ey();
var j=H==0?B.rect:h;if(j.Zx()||B.add.TySh)j=h;var s=k7.RD*E.V(),q=k7.aeY(j,s),Q=q.x,a=q.y,l=k7.aeY(h,s),U=eZ.get(B.add)!=null;
if(B._5()&&B.add.vmsk==null||B.add.TySh||U)Q=a=Math.max(a,16);else if(B.fu()){Q=a=Math.round(18*E.V())}else{Q=Math.max(Q,6);
a=Math.max(a,6)}if(G&&B.GW==null){B.GW=k7.S1();if(fq==0){B.lM=k7.S1();B.ki=k7.S1();B.BT=k7.S1()}}var N=B._5()&&B.add.vmsk;
if(fq==1&&!B.fu()){if(G)e.lU.aB9(B.GW,Q,a,b,this)}else if(N){if(G&&B.add.vstk)e.lU.$s(B.GW,Q,a,j,B.buffer,B.rect,!1,null,!B.add.vstk.fillEnabled.v&&!B.add.vstk.strokeEnabled.v);
if(G)e.lU.aib(B.GW,Q,a)}else if(B.add.TySh){if(G)e.lU.a5g(B.GW,a,a,B.add.TySh)}else if(B.add.SoCo){if(G)e.lU.amF(B.GW,a,a,B.add.SoCo)}else if(B.add.GdFl){if(G)e.lU.a7J(B.GW,a,a,B.add.GdFl)}else if(B.add.PtFl){if(G)e.lU.a4A(B.GW,a,a,B.add.PtFl,b)}else if(U){if(G)e.lU.afB(B.GW,a,a,B.add)}else if(B.add.SoLd){if(G)e.lU.$s(B.GW,Q,a,j,B.buffer,B.rect,!1);
if(G)e.lU.a5F(B.GW,Q,a,B.add.SoLd)}else if(B.fu()){}else{if(G){if(B.P4())e.lU.$s(B.GW,Q,a,j,B.buffer,B.rect,!1);
else{e.lU.adw(B.GW,a,a)}}}var R=B.Y1();if(G){if(R)e.lU.Mu(B.lM,l.x,l.y,h,R);if(B.Ag()&&B.T0(b)&&B.T0(b).u){var S=B.T0(b).u;
e.lU.Mu(B.BT,l.x,l.y,h,S)}if(!N&&B.add.vmsk){e.lU.Mu(B.ki,l.x,l.y,h,B.add.vmsk.Y1(),!0)}}if(R||B.add.vmsk)a=Math.max(a,l.y);
B.ayP=Math.max(a,16);if(G!=!0&&B.fu()&&(B.add.lsct==c1.$I||b.R.length<4e3))for(var Y=0;Y<this.children.length;
Y++)this.children[Y].DB(b,h)};k7.prototype.asb=function(b,h,G,H){this.depth=G;var B=b[h];if(H==null)H=[];
this.Nl=H;if(B.add.lsct==c1.cH){this.mW=B;this.D6=h-1;this.children=[];var Y=h+1;while(!0){var j=b[Y];
if(j==null)console.log(Y,b.length);if(j.add.lsct==c1.$I||j.add.lsct==c1.N_){if(B.add.lyid==j.add.lyid)B.add.lyid+=16777215;
this.o=j;this.index=Y-1;H[this.index]=this;H[h-1]=this;break}var s=new k7;s.parent=this;Y=s.asb(b,Y,G+1,H);
this.children.push(s)}return Y+1}else{this.o=B;this.index=h-1;H[this.index]=this;return h+1}};k7.prototype.mG=function(b,h,G,H){var B=this.DE(G),j=b;
while(B.parent!=null){j=B.o.aDe(j,h,H);B=B.parent}return j};k7.prototype.Ki=function(b,h){var G=this.o,H=new io;
if(!G.yY())return H;var B=G.Y1();if(G.fu())for(var Y=0;Y<this.children.length;Y++){var j=this.children[Y].Ki(b,!0);
H=H.gJ(j)}else if(eZ.get(G.add)!=null)H=G.Dc()&&G.u.color==0?G.u.Ki().clone():new io(0,0,b.j,b._);else if(G._5()&&G.add.vmsk&&G.add.vmsk.isEnabled&&G.add.vstk){H=G.rect.clone()}else if(G._5()&&B&&B.isEnabled&&B.an()!=0)H=new io(0,0,b.j,b._);
else{H=G.xu(b,!1,!0);if(G.add.vmsk)H=e.N.lZ(H)}return h?G.aDe(H,b):H};k7.Y5={delete:function(b){if(b&&b.j)b.delete()},U:function(b,h){return cG.pl?new cG.Bh(b,h):e.U(b*h*4)},Zu:function(b,h,G){if(cG.pl){if(b==null||b.j!=h||b._!=G){k7.Y5.delete(b);
return new cG.Bh(h,G)}}else{if(b==null||!(b instanceof Uint8Array)||b.length!=h*G*4){k7.Y5.delete(b);
return e.U(h*G*4)}}return b},wX:function(b,h,G,H,B){(cG.pl?cG.dt:e.JE)(b,h,G,H,B)},hT:function(b,h,G,H,B,j,s,q,Y,Q,a){(cG.pl?cG.z.Gp:e.z.hT)(b,h,G,H,B,j,s,q,Y,Q,a)},a0N:function(b,h,G,H,B,j,s,q){var Q=G.clone(),a=B.j,l=B._,U=Q.x,N=Q.y,R=Q.x+Q.j>a?-1:0,S=Q.x<0?2:1,g=Q.y+Q._>l?-1:0,i=Q.y<0?2:1;
for(var y=g;y<i;y++)for(var o=R;o<S;o++){Q.x=U+o*a;Q.y=N+y*l;k7.Y5.Nm(b,h,Q,H,B,j,s,q)}},Nm:function(b,h,G,H,B,j,s,q){if(cG.pl)cG.z.aCw(b,h,G,H,B,j,s,q);
else e.z.Nm(b,h,G,H,B,j,s,q)},Zi:function(b,h,G){if(cG.pl){cG.UK(b);cG.K6(h,G)}else e.Zi(b,h,G)},acY:function(b,h,G,H,B){if(cG.pl){cG.z.Gp(null,null,H,B,b,h,G,B,1,!1)}else{if(G==255)e.Iq(b,h,H,B);
else{var j=e.U(h.X());e.Ce(H,B,j,h);e.Ia(b,j);e.Zi(H,0,16777215);e.a2J(j,h,H,B)}}},CD:function(b,h,G,H){if(cG.pl)cG.z.Gp(null,null,G,H,b,h,0,H,1,!1);
else e.CD(b,h,G,H)}};k7.prototype.UX=function(b,h,G,H,B,j){var s=typeof j=="number";if(!this.o.fu()&&(s&&this.index>j||!s&&j.indexOf(this.index)==-1)){return}var q=this.o,Q=eQ.Ik(q),a=k7.Y5,l=q._5()?q.Y1():q.u;
if(!q.yY())return;if(q.Dc()&&l.rect.Zx()&&l.an()==0){return}if(q.add.vstk==null&&this.Ki(H,!1).Zx()){return}if(q._5()&&q.rect.Zx())return;
var U=this.Ki(H,!0).D4(G);if(!h.TW(G)&&!G.XR(U))return;if(q.fu()&&q.add.artb){var N=q.Ey();G=G.D4(N)}var R=k7.arb(q,B,Q);
if(!R){this.akY(b,h,G,H,B,j);return}q.Z5.hZ=a.Zu(q.Z5.hZ,U.j,U._);a.wX(b,h,q.Z5.hZ,U,G);this.akY(q.Z5.hZ,U,G,H,B,j);
a.hT(q.Z5.hZ,U,b,h,null,null,0,G,q.opacity/255,q.Am=="diss",Q.bR)};k7.arb=function(b,h,G){if(G.bR[0]*G.bR[1]*G.bR[2]==0)return!0;
return b.opacity!=255&&(h.length!=0||b.fu()||b.TY())};k7.aaT={Z5:{}};k7.prototype.akY=function(b,h,G,H,B,j){var s=this.o,q=eQ.Ik(s),Q=eZ.get(s.add)!=null,a=k7.Y5,l=k7.arb(s,B,q),U=l?1:s.opacity/255,N=s._5()?s.Y1():s.u,R=s.fu()&&q.l5==null&&(s.Am=="pass"||s.add.artb)&&!(B.length>0||q.fill!=1||s.TY()),S=!s.fu()&&!Q&&!s.TY()&&B.length==0,g=Q&&!s.TY()&&B.length==0,W=null,d=null,$=null,A;
if(R||S||g){var i=b,y=h;if(s.Dc()){y=this.Ki(H,!1);i=s.Z5.JF=a.Zu(s.Z5.JF,y.j,y._);a.wX(b,h,s.Z5.JF,y)}if(R)this.yb(i,y,G,H,j);
if(S)a.Nm(s.Am,s.awj(H),s.rect,i,y,G,U,q);if(g){var o=s.Dc()&&N.an()==0?N.Ki().clone():y.clone(),v=s.Z5;
if(o.TW(new io(0,0,H.j,H._)))v=k7.aaT;v.Jx=this.adN(i,y,v.Jx,o,s.add);q.Ej=!0;a.Nm(s.Am,v.Jx,o,i,y,G,U,q)}if(s.Dc())a.hT(i,y,b,h,s.agN(),N.Ki(),N.an(),G,1,s.Am=="diss");
s.Z5.awW();return}var Z=s.fu()&&s.Am=="pass"&&(B.length>0||q.fill!=1||s.TY()),o=s.rect;if(s.fu()){o=this.Ki(H,!1);
$=s.Z5.Jx=a.Zu(s.Z5.Jx,o.j,o._);a.Zi($,0);this.yb($,o,o,H,j);d=a.Zu(s.Z5.by,o.j,o._);a.wX($,o,d,o)}else if(Q){o=s.Dc()&&N.an()==0?N.Ki().clone():h.clone();
d=a.Zu(s.Z5.by,o.j,o._);a.Zi(d,4294967295)}else{o=s.rect;W=s.awj(H);d=a.Zu(s.Z5.by,o.j,o._);a.wX(W,o,d,o)}s.Z5.by=d;
if(s.Dc())a.acY(s.agN(),N.Ki(),N.an(),d,o);if(s.TY())if(s.Z5.ka||s.Z5.cq||s.Z5.$t!=cG.pl||s.Z5.xV||s.fu()){var I=s.add.vmsk,k=e.U(o.X());
if(eQ.adm(s.add.lmfx)){if(cG.pl){if(!s.fu()&&s.Y1()==null&&s.rect.TW(o)&&I==null)e.uA(s.buffer,k,3);
else{var _=e.U(o.X()*4);d.get(_);e.uA(_,k,3)}}else e.uA(d,k,3)}if(s.Z5.cq||s.Z5.$t!=cG.pl||!e.TW(k,s.Z5.Yw)){var D=null;
if(s._5()&&I&&I.isEnabled&&I.Y1().color==0)D=I.Y1().rect;eQ.ajF(s.Z5.Oy);s.Z5.Oy=eQ.aqE(k,o,s.add.lmfx,s.add.fxrp,H,D);
s.Z5.Yw=k;s.Z5.apy=o}}if(s.TY())eQ.asd(s.add.lmfx,s.Z5.Oy,o,b,h,G);if(s.fu()){W=a.Zu(s.Z5.JF,o.j,o._);
a.Zi(W,0);if(s.Am=="pass")a.wX(b,h,W,o);if(Z)a.CD($,o,W,o);this.yb(W,o,G,H,j);s.Z5.JF=W}if(Q){W=s.Z5.JF=this.adN(b,h,s.Z5.JF,o,s.add)}if(s.fu()||Q)A=W;
else{A=a.Zu(s.Z5.JF,o.j,o._);a.wX(W,o,A,o,G);s.Z5.JF=A}a.Zi(A,4278190080,16777215);for(var Y=0;Y<B.length;
Y++)B[Y].UX(A,o,G,H,[],j);var F=s.Z5.xc=a.Zu(s.Z5.xc,o.j,o._);a.wX(b,h,F,o,G);if(Q)q.Ej=!0;a.Nm(s.Am=="pass"?"norm":s.Am,A,o,F,o,G,1,q);
if(s.TY()){var K=s.Z5.Oy.type.FrFX,V=null;if(K.length!=0){V=K[0];for(var Y=0;Y<K.length;Y++)if(K[Y].yt.j>V.yt.j)V=K[Y];
s.Z5.Wj=a.Zu(s.Z5.Wj,V.yt.j,V.yt._);a.wX(b,h,s.Z5.Wj,V.yt,G);s.Z5.tA=a.Zu(s.Z5.tA,V.yt.j,V.yt._)}eQ.ael(s.add.lmfx,s.Z5.Oy,o,b,h,G,F,s.Z5.Wj,s.Z5.tA,V?V.yt:null)}if(!cG.pl){var r=e.U(o.X());
e.uA(d,r,3);d=r}a.hT(F,o,b,h,d,o,0,G,1,s.Am=="diss");s.Z5.awW()};k7.prototype.adN=function(b,h,G,H,B){var j=eZ.get(B),s;
if(j)s=eZ.q9(j,B[j]);var q=k7.Y5;G=q.Zu(G,H.j,H._);if(!(cG.pl&&h.TW(H)))q.wX(b,h,G,H);if(s){if(cG.pl){var Q=H.clone();
Q.x=Q.y=0;if(h.TW(H)){cG.UK(G,Q);eZ.s_(s,b.P9,Q)}else{cG.UK(G,H);G.xo(H);eZ.s_(s,G.oG,Q)}}else eZ.BN(s,G,G,H)}return G};
k7.prototype.yb=function(b,h,G,H,B){var j=h.j,s=h._,q=h.x,Q=h.y,g1=G,a=g1.x,l=g1.y,U=-1,N=-1,R=2,S=2;
if(!H.hy){U=N=0;R=S=1}var g=this.children;for(var Y=0;Y<g.length;Y++){var i=eZ.get(g[Y].o.add)!=null,y=[];
for(var o=Y+1;o<g.length;o++)if(g[o].o.wi)y.push(g[o]);else break;for(var v=N;v<S;v++)for(var Z=U;Z<R;
Z++){h.x=q+Z*j;h.y=Q+v*s;g1.x=a+Z*j;g1.y=l+v*s;if((Z!=0||v!=0)&&i)continue;g[Y].UX(b,h,g1,H,y,B)}Y+=y.length}h.x=q;
h.y=Q;g1.x=a;g1.y=l};(function(){k7.prototype.tq=function(B,j,s,q){var Q=this.o,a=Q.add.lmfx,l=Q.add.TySh,U=Q.add.SoLd,R=null;
if(!Q.yY())return;j.save();var N=Q.opacity/255*(Q.add.iOpa?Q.add.iOpa/255:1);j.globalAlpha*=N;j.globalCompositeOperation=aq.Qx[aq.B5.indexOf(Q.Am)];
var S=B.add.prvw==0;if(S){j.lineWidth=1/B.s.D;j.fillStyle="black"}var g=eQ.am1(Q,!1);if(g){R=j;var i=document.createElement("canvas");
i.width=j.canvas.width;i.height=j.canvas.height;var y=j.getTransform();j=i.getContext("2d");j.setTransform(y.a,y.b,y.c,y.d,y.e,y.f)}if(Q.fu()){var o=this.children,v=null;
for(var Y=0;Y<o.length;Y++)if(o[Y].o.Sz&&o[Y].o.yY())v=o[Y].o;if(v&&!S){j.beginPath();h(v,j);j.clip()}for(var Y=0;
Y<o.length;Y++)o[Y].tq(B,j,s,q)}else if(l){var Z=!0;if(Q.Z5.path==null){Z=jK.Ln(l,s.B7);if(Z)jK.rk(Q,s.B7,!1)}if(Z){{var W=l.h;
j.save();b(j,W);var d=Q.Z5.path;if(S){var $=d.Gc.slice(0);for(var Y=0;Y<$.length;Y++)if($[Y][0]=="#")$[Y]="#000000";
d={Gc:$,m:d.m}}jK.av8(d,j);j.restore()}}}else if(Q._5()&&Q.add.vmsk&&(!Q.Sz||S)){var I=Q.add.vmsk;j.beginPath();
h(Q,j);if(S){j.stroke()}else{var k=Q.add.vstl;if(k.E_.length!=0){var _=G(k.E_,I.d,B,j);if(_[1]){j.save();
b(j,_[1])}j.fillStyle=_[0];j.fill(["nonzero","evenodd"][I.Vj]);if(_[1]){j.restore()}}if(k.g9.length!=0){e.n.bl(k,j);
j.strokeStyle=G(k.g9,I.d,B,j,!0)[0];j.stroke()}}}else if(U){var D=U.filterFX;if(D){var _=D.v.filterFXList.v;
for(var Y=0;Y<_.length;Y++){var A=_[Y].v;if(!A.enab.v)continue;var F=gY.AF(A);if(F=="GsnB"){j.filter="blur("+A.Fltr.v.Rds.v.val*B.s.D+"px)"}}}var K=U.Idnt.v,V=B.UU(K,U.Crop?U.Crop.v:null),W=e.t.G3(U),r=V.P0;
if(S){var c=E.Y.DM(U.Trnf);j.moveTo(c[0],c[1]);for(var Y=2;Y<8;Y+=2)j.lineTo(c[Y],c[Y+1]);j.closePath();
j.stroke()}else H(B,Q,j,W,r)}if(g){R.save();R.setTransform(1,0,0,1,0,0);R.drawImage(j.canvas,0,0);R.restore();
j=R}j.globalAlpha/=N;j.globalCompositeOperation="source-over";j.restore()};function b(B,j){B.transform(j.G,j.J,j.YW,j.tW,j.Kv,j.d0)}function h(B,j){var s=B.add.vmsk.d;
for(var Y=0;Y<s.length;Y++){if(s[Y].type>5)continue;var q=s[Y].length;if(q==0)continue;var Q=s[Y].type==3;
e.n.akh(j,s,Y+1,q,0,0,Q);if(!Q)j.closePath();Y+=q}}function G(B,j,s,q,Q){if(B.length==3)return[CSS.ank(B),null];
else if(B.length==2){var a=s.DG[B[0]],l=1,U=a.jG;if(U==null){var N=document.createElement("canvas"),R=N.getContext("2d");
N.width=Math.round(a.j*l);N.height=Math.round(a._*l);R.scale(l,l);a.root.tq(a,R,{},null);U=a.jG=q.createPattern(N,"repeat")}var S=new eq(1/l,0,0,1/l,0,0),g=s.O4/72,i=new eq;
i.concat(S);var y=B[1][1];i.concat(new eq(y[0],y[1],y[2],y[3],g*y[4],g*y[5]));i.scale(1,-1);return[U,i]}else{var o=B[0],v=B[1],Z=B[2],W=-Z[5]*Math.PI/180,d=g7.Pe(B,j),$,S;
if(o==0){var I=[0,0,1,0];e.N.h(I,d,I);$=q.createLinearGradient(I[0],I[1],I[2],I[3])}else{var I=[Math.cos(W)*Z[6],Math.sin(W)*Z[6],0,0,1,0],k=Math.abs(d.G*d.J+d.YW*d.tW)<1e-9,_=Math.abs(d.G*d.G+d.J*d.J-d.YW*d.YW-d.tW*d.tW)<1e-9,D=k&&_;
if(D||Q){e.N.h(I,d,I);var A=I[4]-I[2],F=I[5]-I[3];$=q.createRadialGradient(I[0],I[1],0,I[2],I[3],Math.sqrt(A*A+F*F))}else{$=q.createRadialGradient(I[0],I[1],0,0,0,1);
S=d}}e.F.sy($,v);return[$,S]}}function H(B,j,s,q,Q){if(q==null)q=new eq;var a=j.buffer,l=j.rect;if(Q){var U=q.$K()*B.s.D,N=0;
while(1<<N/2<.5/U&&N+2<Q.length)N+=2;a=Q[N];l=Q[N+1];l=l.clone();l.x=l.y=0;var U=1<<N/2,R=new eq;R.scale(U,U);
R.concat(q);q=R}if(l.Zx())return;var S=document.createElement("canvas");S.width=l.j;S.height=l._;var g=S.getContext("2d");
g.putImageData(new ImageData(new Uint8ClampedArray(a.buffer),l.j,l._),0,0);s.transform(q.G,q.J,q.YW,q.tW,q.Kv,q.d0);
s.drawImage(S,l.x,l.y);q.Q6();s.transform(q.G,q.J,q.YW,q.tW,q.Kv,q.d0)}}());function cj(b){this.zi="psd";
this.U0=!1;this.name=b;this.lX=-1;this.hy=!1;this.hb=null;this.bB=null;this.kV=null;this.z9=null;this.j=0;
this._=0;this.buffer=null;this.R=[];this.$p={};this.add={};this.Gn=[];this.DG={};this.qy=[];this.jG=null;
this.mL=4;this.bm=null;this.O4=72;this.wp={};this.T=[];this.bE=[];this.Td=!1;this.Rd=[];this.qB=[];this.N6=[cj.Kw("Work Path")];
this.xe=[];this.mS=null;this.AK={classID:"CompList",list:{t:"VlLs",v:[]}};this.xN=null;this.jN=[];this.W7=[];
this.xC=[];this.root=null;this.et=null;this.rm=!1;this.an$=!1;this.atH=!1;this.Pw=!1;this.nh=!1;this.qV=!1;
this.Jg=!1;this.P6=!1;this.VS=!1;this.fH=!1;this.ka=null;this.dg=null;this.e=null;this.$B=[];this.ql=[];
this.A={D_:{},fj:[],Kx:[],ir:[],qA:[],qG:[],wY:null,$D:null,QZ:null,yW:null,VE:null,JS:null,el:null,kF:[],sn:[],Dz:null};
this.history=[new eN([1,0],null)];this.Wt=0;this.md=0;this.l$=0;this.yR=0;this.s=new kI(this);this.AO=null;
this.S0=null}cj.prototype.ak7=function(){var b=this,h=b.add.artd;return h!=null&&h.Cnt.v>1||b.add.arts&&b.add.arts.length>1};
cj.prototype.Us=function(b){if(b){if(b.length==30240){this.Us(null);return}this.$p.r1039=b;var h=ICC.R(b.buffer),B=null,j=17,Q,a;
if(h==null){this.Us(null);return}var G=h.header.spaceIn.toLowerCase(),H=JSON.stringify(h.tags.desc).toLowerCase();
try{B=ICC.U.profileName(h)}catch(ku){}if(G!="rgb "||B==null||G=="rgb "&&this.add.fcmy==1){this.Us(null);
return}console.log("We got an ICC profile!",h,B);try{var s=ICC.U.sampleLUT(h,j)}catch(ku){this.Us(null);
return}var q=s.slice(0),l=e.U(4),U=e.av("rgbToRgbC"),N=U[2],R=U[3];for(var Y=0;Y<s.length;Y+=3){l[0]=s[Y]*255;
l[1]=s[Y+1]*255;l[2]=s[Y+2]*255;ICC.U.applyLUT(R,N,l,l);q[Y]=l[0]/255;q[Y+1]=l[1]/255;q[Y+2]=l[2]/255}if(cG.pl){Q=new cG.Bh(j,j*j);
Q.set(ICC.U.lutToRGBA8(s,j));a=new cG.Bh(j,j*j);a.set(ICC.U.lutToRGBA8(q,j))}this.AO=[b,h,j,s,Q,q,a]}else{delete this.$p.r1039;
this.AO=null}};cj.prototype.I7=function(){return this.AO};cj.prototype.Lu=function(){if(this.AO)return this.AO;
if(this.add.fcmy==1){if(this.S0==null){var b=e.av("rgbToRgbC"),h=b[2],G=b[3],H;if(cG.pl){H=new cG.Bh(h,h*h);
H.set(ICC.U.lutToRGBA8(G,h))}this.S0=[null,null,h,null,null,G,H]}return this.S0}};cj.prototype.a34=function(){var b=this;
if(b.s.M.join("")!="111"){b.s.M=[1,1,1];b.qV=!0}for(var Y=0;Y<b.R.length;Y++){var h=b.R[Y],G=h.add.vmsk;
if(h.Ag()){var H=h.T0(b);if(H&&H.u&&H.u.Da){H.u.Da=!1;b.qV=!0}}var B=h.Y1();if(B&&B.Da){B.Da=!1;b.qV=!0}if(G){if(G.T.length!=0)G.T=[];
if(G._B.length!=0)G._B=[]}}};cj.prototype.ahN=function(){var b=this;return b.e!=null||b.wV()[1].length!=0||b.T.length>1};
cj.prototype.Wb=function(){var b=this.bE,h=[];for(var Y=0;Y<b.length;Y++)h[Y]=-1;var G=this.root.children;
for(var Y=0;Y<G.length;Y++){var H=G[Y],B=H.o.add.artb;if(B==null)continue;var j=B.guideIndeces;j=j?j.v:[];
for(var s=0;s<j.length;s++)h[j[s].v]=H.index}return[JSON.parse(JSON.stringify(b)),h]};cj.prototype.VK=function(b){this.bE=JSON.parse(JSON.stringify(b[0]));
var h=b[1],G=this.root.children;for(var Y=0;Y<G.length;Y++){var H=G[Y],B=H.o.add.artb;if(B==null)continue;
B.guideIndeces={t:"VlLs",v:[]}}for(var Y=0;Y<h.length;Y++)if(h[Y]!=-1)this.R[h[Y]].add.artb.guideIndeces.v.push({t:"long",v:Y})};
cj.prototype.a1I=function(b){var h=this;if(b[0])h.add.lnk2=b[0];else delete h.add.lnk2;if(b[1])h.add.FEid=b[1];
else delete h.add.FEid;if(b[2])h.add.Patt=b[2];else delete h.add.Patt};cj.prototype.aym=function(b){var h=this,G=[],H=[],B=[],S=null,g=null,i=null;
for(var Y=0;Y<b.length;Y++){var j=b[Y];if(j.add.SoLd){G.push(j.add.SoLd.Idnt.v);H.push(j.add.SoLd.placed.v)}if(j.add.PtFl)B.push(j.add.PtFl.Ptrn.v.Idnt.v);
if(j.add.lmfx){for(var s=0;s<dE.CM.length;s++){var q=j.add.lmfx[dE.CM[s]].v;for(var Q=0;Q<q.length;Q++)if(q[Q].v.Ptrn){var a=q[Q].v;
if(a.classID=="FrFX"&&a.PntT.v.FrFl!="Ptrn")continue;B.push(a.Ptrn.v.Idnt.v)}}}var l=j.add.vstk;if(l&&l.strokeStyleContent.v.classID=="patternLayer"){B.push(l.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var U=h.add.lnk2,N=h.add.FEid,R=h.add.Patt;
if(U){S=[];for(var Y=0;Y<U.length;Y++)if(G.indexOf(U[Y].Af)!=-1)S.push(U[Y]);if(S.length==0)S=null}if(N){g=[];
for(var Y=0;Y<N.length;Y++)if(H.indexOf(N[Y].id)!=-1)g.push(N[Y]);if(g.length==0)g=null}if(R){i=[];for(var Y=0;
Y<R.length;Y++)if(B.indexOf(R[Y].id)!=-1)i.push(R[Y]);if(i.length==0)i=null}return[S,g,i]};cj.prototype.sC=function(b){var h=this,G=h.root.DE(b==null?h.T[0]:b),H=!1;
while(G.parent!=null){H=H||G.o.Xb(31);G=G.parent}return H};cj.prototype._a=function(){var b=this.$B,h=this.$B.length;
if(h!=0&&b[h-1].name=="Quick Mask")return b[h-1]};cj.prototype.zL=function(){return this.zi==dX.QB("% |/!)")||this.zi==dX.Lm("gP")};
cj.prototype.LI=function(b){var h=this.add.artd;if(b!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:b},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};cj.prototype.RJ=function(b){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(b)==-1)this.add.FEid.push(b)};
cj.prototype.kw=function(b){var h=this.add.FEid.indexOf(b);this.add.FEid.splice(h,1);if(this.add.FEid.length==0)delete this.add.FEid};
cj.prototype.c=function(b){if(b==null)b=new io(0,0,this.j,this._);if(this.ka==null)this.ka=b;else this.ka=this.ka.gJ(b)};
cj.prototype.aq2=function(b){return this.ka!=null};cj.prototype.HX=function(b){var h=this.R[b],G=this.root.DE(b);
if(G==null)return!1;if(h.fu()||G.parent.children.indexOf(G)==0)return!1;return!0};cj.afK=function(b){if(b.add.lnk2)for(var Y=0;
Y<b.add.lnk2.length;Y++){var h=b.add.lnk2[Y].Af;b.add.lnk2[Y].Af=cj.pw()+h.slice(8);for(var G=0;G<b.R.length;
G++){var H=b.R[G].add.SoLd;if(H&&H.Idnt.v==h)H.Idnt.v=b.add.lnk2[Y].Af}}};cj.prototype.ev=function(b,h,G){b.sort(function(U,N){return U-N});
var top=b[b.length-1],H=this.R.slice(0),B=this.T.slice(0),j=[],s=[];for(var Y=0;Y<this.R.length;Y++){if(b.indexOf(Y)!=-1)s.push(this.R[Y]);
else j.push(this.R[Y])}this.Rf(s);this.T=[];var q=this.root.Ki(this,!0);if(h)q=q.D4(h);if(G)q=q.gJ(G);
if(q.Zx())q=new io(0,0,100,100);var Q=new io(-q.x,-q.y,this.j,this._),a=new Uint8Array(aT.JR("PSD").kf(this,0,0,[!0,!1]));
this.Rf(H);this.T=B;var l=new cj(this.R[top].getName());aT.JR("PSD").ho(a.buffer,l);delete l.add.artd;
l.Rd=[];l.Rf(l.R);l.VK([[],[]]);cj.afK(l);E.w8.IF(l,q);l.c();l.lJ();l.Nw();return[l,q,j,top]};cj.prototype.arH=function(b,h,G){var H=this.ev(b),B=H[0],j=H[1],s=H[2],top=H[3],q;
if(G=="jpg")q=new Uint8Array(aT.JR("JPG").kf([[B.Nw().buffer]],B.j,B._,[80]));else q=new Uint8Array(aT.JR("PSD").kf(B,null,null,[!0,!1]));
if(h)s=this.R.slice(0);var Q=this._t(q,B.name,j.x,j.y);if(top==this.R.length-1)s.push(Q);else s.splice(h?top+1:top-b.length+1,0,Q);
this.Rf(s);this.T=[s.indexOf(Q)]};cj.pw=function(b){if(b==null)b="";var h="";while(h==""||h==b){h="";
for(var Y=0;Y<8;Y++)h+=Math.floor(Math.random()*16).toString(16)}return h};cj.prototype.lN=function(b){if(b==null)return;
if(this.add.Patt==null)this.add.Patt=[];var h=this.add.Patt;for(var Y=0;Y<h.length;Y++)if(h[Y].id==b.id)return;
h.push(b)};cj.prototype.asp=function(b){for(var Y=0;Y<this.R.length;Y++){var h=this.R[Y],G=h.add.SoLd;
if(G&&G.Idnt.v==b)h.gE(this)}};cj.prototype._t=function(b,h,G,H,B,j,s){if(this.add.lnk2==null)this.add.lnk2=[];
var q=null;for(var Y=0;Y<this.add.lnk2.length;Y++)if(e.TW(b,this.add.lnk2[Y].raw)){q=this.add.lnk2[Y].Af;
break}if(q==null){var Q=aT.ni(b.buffer);q=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f";var a=new C.gs;a.Af=q;
a.Vx=Q=="psd"?"8BIM":"    ";a._6=h+"."+Q;a.Z_=Q=="psd"?"8BPB":"    ";a.open=0;a.raw=b;a.type="liFD";
a.PL=2;this.add.lnk2.push(a)}var l=this.UU(q,null,null,null,j,s),U=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f",N=this.Cx(),R=l?l.P0[1]:new io;
N.cb(h);N.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:q},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:U},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:e.hC.U(R)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.j},Hght:{t:"doub",v:R._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:l?l.O4:72}}};
var S=R.clone();if(G!=null)S.offset(G,H);if(l!=null&&B){var Q=aT.ni(b.buffer),g=B.x,i=B.y,y=B.j,o=B._;
S=l.P0[1].clone();S.offset(g+G,i+H);var v=v=this.O4/(Q=="pdf"?144:l.O4?l.O4:this.O4);S.j=S.j*v;S._=S._*v;
var Z=Math.max(S.j/y,S._/o);if(Z>1.0001){S.j=S.j/Z;S._=S._/Z}S.x=Math.round(g+(y-S.j)/2);S.y=Math.round(i+(o-S._)/2)}var W=e.N.Q0(S).m;
N.add.SoLd.Trnf=E.Y.Ll(W);N.add.SoLd.nonAffineTransform=E.Y.Ll(W);if(l){if(B)N.gE(this,!1);else if(fq==0){N.rect=S;
N.buffer=l.P0[0].slice(0)}}return N};cj.prototype.d7=function(){var b=this.add.arts,h=new io;for(var Y=0;
Y<b.length;Y++)h=h.gJ(e.N.sm(b[Y].rc));return h};cj.prototype.arv=function(b,h,G){var H=this.d7();if(h==null){h=H.j;
G=H._}var B=e.tM(h,G);B.save();B.translate(-H.x,-H.y);B.scale(h/H.j,G/H._);this.root.tq(this,B,b,new io(0,0,h,G));
B.restore();return B.getImageData(0,0,h,G).data.buffer};cj.prototype.Nw=function(b){if(b!=null){this.c();
this.lJ(b);var h=this.buffer;if(cG.pl)this.et.get(h);else h=h.slice(0);this.c();this.lJ();return h}if(this.ka){this.lJ();
this.ka=null}if(cG.pl&&this.dg){this.et.get(this.buffer);this.dg=null;this.Jg=!0}return this.buffer};
cj.prototype.a8g=function(){for(var Y=0;Y<this.R.length;Y++)this.R[Y].a40();this.c()};cj.prototype.acJ=function(){for(var Y=0;
Y<this.R.length;Y++)if(this.R[Y].add.lmfx)this.R[Y].Z5.cq=!0};cj.prototype.RO=function(){var b=this.$p.r1044;
if(b==null){b=this.$p.r1044=new Uint8Array(4);var h=0;for(var Y=0;Y<this.R.length;Y++)h=Math.max(h,this.R[Y].add.lyid);
J.N2(b,0,h)}var G=J.C(b,0);J.N2(b,0,G+1);return G+1};cj.prototype.s5=function(b,h,G){if(b==null)b=!0;
var H=this;if(H.ql.length!=0)return!0;if(H.T.length!=1){if(b)alert(H.T.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.e1(b,h,G)};cj.prototype.e1=function(b,h,G){if(b==null)b=!0;if(h==null)h=!1;var H=this;
if(H.ql.length!=0)return!0;for(var Y=0;Y<H.T.length;Y++){var B=H.R[H.T[Y]],j=h||B.nD<=0;if(B.add.lsct!=null&&B.add.lsct!=c1.GR&&B.nD!=1){if(b)alert(bp.get([15,7,2]));
return!1}if(j&&!B.P4()){if(b)alert(bp.get([15,7,2]));return!1}if(j&&B.add.TySh){return this.aEc(b,[15,7,3],G)}if(j&&B.add.SoLd){return this.aEc(b,[15,7,4],G)}if(B.Xb(1)||H.sC(H.T[Y])){if(b)alert(bp.get([6,57,0]));
return!1}}return!0};cj.prototype.aEc=function(b,h,G){if(b&&typeof b=="object"){var H=new hb(w.E.b);H.data={q:w.p.C9,ut:"confirm"};
H.data.P=bp.get(h)+". "+bp.get([6,8])+"?";var B=b;H.data.QF=function(){var j=new hb(w.E.IK,!0);j.data={f6:"rasterizeLayer",yo:{classID:"rasterizeLayer",null:aX.eP("Lyr",!0)}};
B.Q(j)};b.Q(H);return!1}if(b)alert(bp.get(h));return!1};cj.prototype.a0d=function(b){var h=this.root.DE(b);
if(h.parent)return h.o.yY()&&this.a0d(h.parent.index);else return h.o.yY()};cj.prototype.t2=function(b){var h=this;
if(b){var G=0;for(var Y=0;Y<h.T.length;Y++)if(h.R[h.T[Y]].add.artb)G++;if(G>1)return-1}if(h.add.artd&&h.T.length!=0){var H=h.root.DE(h.T[0]);
while(H.parent.parent)H=H.parent;if(H.o.add.artb)return H.index}return-1};cj.prototype.o2=function(){var b=this.t2();
if(b!=-1){var h=this.R[b].Ey();return new cJ(h.x,h.y)}return new cJ(0,0)};cj.prototype.aal=function(){var b=this.R[this.T[0]];
if(b.nD<=0&&!b.rect.XR(this.e.rect)){alert("Selected area is empty.");return!1}if(this.T.length==1&&this.e){var h=e.U(this.e.channel.length);
e.Ce(b.buffer,b.rect,h,this.e.rect);e.Ia(this.e.channel,h);if(e.jC(h,0)){alert("Selected area is empty.");
return!1}}return!0};cj.prototype.lR=function(){if(this.$p["r"+1037]==null)this.vG(30);return J.dj(this.$p["r"+1037],0)};
cj.prototype.vG=function(b){if(this.$p["r"+1037]==null)this.$p["r"+1037]=new Uint8Array(4);if(J.dj(this.$p["r"+1037],0)==b)return;
J.AU(this.$p["r"+1037],0,b);this.acJ()};cj.prototype.dk=function(){if(this.$p["r"+1049]==null)this.JP(30);
return J.dj(this.$p["r"+1049],0)};cj.prototype.JP=function(b){if(this.$p["r"+1049]==null)this.$p["r"+1049]=new Uint8Array(4);
if(J.dj(this.$p["r"+1049],0)==b)return;J.AU(this.$p["r"+1049],0,b);this.acJ()};cj.prototype.WC=function(b){if(this.add.lnk2==null)return null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(this.add.lnk2[Y].Af==b)return this.add.lnk2[Y];return null};
cj.prototype.avP=function(b){var h=this.WC(b);if(h==null)return!1;var G=aT.ni(h.raw.buffer);if(G==null)return!1;
if(aT.JR(G)!=null||G=="psd")return!0;return!1};cj.prototype.UU=function(b,h,G,H,B,j){var s=this.WC(b);
if(s==null)return null;s.Nw(h,G,H,B,j);if(s.P0)return s};cj.prototype.au_=function(){var b=this.j,h=this._;
if(cG.pl&&this.et==null)this.et=new cG.Bh(b,h,!0);if(this.buffer==null||this.buffer.length!=b*h*4||cG.pl&&(this.et.j!=b||this.et._!=h)){this.buffer=e.U(b*h*4);
if(this.et)this.et.delete();if(cG.pl)this.et=new cG.Bh(b,h,!0)}};cj.prototype.ahK=function(){this.au_();
if(cG.pl){this.et.set(this.buffer)}};cj.prototype.lJ=function(b){if(fq!=0)throw"redrawing in vector mode";
var h=this.j,G=this._,H=new io(0,0,h,G),B=this.hy?H:H.D4(this.ka);this.au_();if(B.Zx())return;if(!B.TW(H)){if(!cG.pl){var j=e.TI(B.X()*4);
e.JE(j,B,this.buffer,H)}if(cG.pl){cG.UK(this.et,B);cG.K6(0)}}else{if(cG.pl){this.et.set(null)}else{this.buffer.fill(0)}}var s=Date.now(),q=cG.pl?this.et:this.buffer;
if(b==null)b=1e9;var Q=this.root.children;for(var Y=0;Y<Q.length;Y++){var a=Q[Y].o;if(a.yY()&&a.add.artb&&this.add.artd){var l=a.Ey(),U=B.D4(l),N=a.C7();
if(N!=0){if(cG.pl){cG.UK(q,U);cG.K6(N);cG.K6(N)}else e.a6L(q,H,U,N)}}}this.root.UX(q,H,B,this,[],b);
this.dg=this.ka.clone()};cj.prototype.Cx=function(b){var h=new C;h.rect=new io(0,0,0,0);h.buffer=e.U(1);
h.add.luni=new cJ(0,0);if(b!=!0)h.add.lyid=this.RO();h.add.lsct=c1.GR;h.add.lclr=0;h.add.fxrp=new cJ(0,0);
return h};cj.prototype.b2=function(b){var h=this.Cx(b);h.cb("</Layer group>");h.add.lsct=c1.cH;h.Xp=24;
return h};cj.prototype.wz=function(){return this.Wt!=this.md};cj.prototype.vU=function(b){while(this.history.length>this.Wt+1)this.history.pop();
if(this.md>this.Wt)this.md=-1;if(b.S.id!=E.To){this.Pw=!0;if(this.AK.lastAppliedComp){delete this.AK.lastAppliedComp;
this.Jg=!0}}this.history.push(b);this.Wt++;this.Jg=!0;var h=fH.RW()?60:30,G=0;for(var Y=this.history.length-1;
Y>=0;Y--){var H=this.history[Y];if(H.HF)continue;G++;if(G==h){this.Wt-=Y;this.history=this.history.slice(Y);
break}}};cj.prototype.vc=function(){if(this.Wt!=this.history.length-1)return null;return this.history[this.history.length-1]};
cj.prototype.bZ=function(b,h,G,H){if(b==null)b=!1;var B=h!=null?[h]:this.T.slice(0);if(H){var j=[];for(var Y=0;
Y<B.length;Y++){var s=this.R[B[Y]],q=s.VF;if(s.T4&&q!=0&&j.indexOf(q)==-1)j.push(q)}if(j.length!=0)for(var Y=0;
Y<this.R.length;Y++){var s=this.R[Y],q=s.VF;if(s.T4&&q!=0&&j.indexOf(q)!=-1&&B.indexOf(Y)==-1)B.push(Y)}}var Q=[];
for(var Y=0;Y<B.length;Y++){var a=this.Xe(B[Y],b);for(var l=0;l<a.length;l++)if(Q.indexOf(a[l])==-1)Q.push(a[l]);
if(G){var g1=this.root.DE(B[Y]);while(g1.parent!=null&&g1.parent.parent!=null){g1=g1.parent;if(Q.indexOf(g1.index)==-1){Q.push(g1.index,g1.D6)}}}}return Q};
cj.prototype.LZ=function(b,h,G){var H=this,B=H.bZ(!1,b,null,G);B.sort(function(v,Z){return v-Z});var j={};
for(var s=0;s<H.R.length;s++){var q=H.R[s].getName();j[q]=!0}var Q=[];for(var Y=0;Y<B.length;Y++){var a=H.R[B[Y]].clone(),i,y;
a.add.lyid=H.RO();a.add.lspf=0;if(a.Ag()){var l=a.T0(H),U=cj.aeF(l);H.RJ(U);a.add.SoLd.placed.v=U.id}else if(a.add.SoLd){var N=a.add.SoLd.placed.v;
a.add.SoLd.placed.v=cj.pw(N.slice(0,8))+N.slice(8)}a.vw(H);var R=a.getName(),S=R.length;while(48<=R.charCodeAt(S-1)&&R.charCodeAt(S-1)<=57)S--;
var g=parseInt(R.slice(S));if(isNaN(g)){if(R.endsWith(" copy")){g=1;i=R.slice(0,R.length-5)}else{g=0;
i=R}}else if(R.slice(0,S).endsWith(" copy ")){g=g;i=R.slice(0,S-6)}else{g=0;i=R}g++;while(!0){y=i+" copy"+(g==1?"":" "+g);
if(j[y]==null)break;g++}var o=B.indexOf(this.root.DE(B[Y]).parent.index)!=-1;if(R=="Background"&&H.R.length==1)y="Layer 1";
if(h!=!0&&!o)a.cb(y);j[y]=!0;Q.push(a)}return Q};cj.aeF=function(b){return{id:cj.pw(b.id.slice(0,8))+b.id.slice(8),buffer:b.buffer.slice(0),rect:b.rect.clone(),u:b.u?b.u.clone():null}};
cj.aAq=function(b){return{id:b,rect:new io,buffer:e.U(1),u:new C.Tc}};cj.Kw=function(b,h){if(h==null)h={vmsk:new C.cW};
if(h.vogk==null){h.vogk=[];var G=e.n.bF(h.vmsk.d);for(var H=0;H<G;H++)h.vogk.push(e.Bs.TI())}return{name:b,V9:0,add:h}};
cj.prototype.wV=function(b){var h=[],G=[],H=this;for(var Y=1;Y<H.N6.length;Y++){var B=H.N6[Y];B.V9=-1-Y;
h.push(B);if(H.xe.indexOf(Y)!=-1)G.push(h.length-1)}if(H.N6[0].add.vmsk.d.length>2){var B=H.N6[0];B.V9=-1;
h.push(B);if(H.xe.indexOf(0)!=-1)G.push(h.length-1)}var j=H.mS==null;if(j)H.mS=[];for(var Y=H.T.length-1;
Y>=0;Y--){var s=H.T[Y],q=H.R[s],Q=q.add.TySh;if(q.add.vmsk!=null){var B=cj.Kw("\""+q.getName()+"\" Shape Path",q.add);
B.V9=s;h.push(B);if(j&&(q.ZB||q._5()))H.mS.push(s);if(H.mS.indexOf(s)!=-1)G.push(h.length-1)}if(b!=!0&&Q&&Q.add&&e.hC.lv(Q.If)){var B=cj.Kw("\""+q.getName().slice(0,10)+"..\" Text Path",Q.add);
B.V9=1e6+H.T[Y];h.push(B);G.push(h.length-1)}}if(G.length==0&&b){H.N6[0].V9=-1;H.xe=[0];G.push(h.length);
h.push(H.N6[0])}return[h,G]};cj.prototype.Xe=function(Y,b){var h=[],g1=this.root.DE(Y);if(g1)g1.LL(h,b);
return h};cj.prototype.Xu=function(){this.root.DB(this,new io(0,0,this.j,this._))};cj.prototype.Rf=function(b){for(var Y=0;
Y<this.R.length;Y++){var h=this.R[Y];if(b.indexOf(h)==-1){h.Z5.ae8();h.c()}}var G=0;for(var Y=0;Y<b.length;
Y++)if(b[Y].add.artb)G++;this.LI(G);this.R=b.slice(0);this.UL()};cj.prototype.UL=function(){var b=this.R,h=b.length;
this.root=new k7;var G=this.Cx(!0);G.Am="pass";G.add.lsct=c1.$I;G.cb("");var H=this.b2(!0),B=[H];for(var Y=0;
Y<h;Y++)B.push(b[Y]);B.push(G);this.root.asb(B,0,0);if(this.T.length==0)this.T=[h-1]};cj.prototype.cY=function(){if(this.T.length!=1)return;
var b=this.root.DE(this.T[0]);while(b.parent!=null){var h=b.parent.o;h.add.lsct=c1.$I;b=b.parent}this.qV=this.aqx=!0};
cj.prototype.atw=function(){this.UL();var b=[this.root],fR=0;while(b.length!=0){var top=b.pop();fR++;
if(top.o.add.lsct==c1.$I)for(var Y=0;Y<top.children.length;Y++)b.push(top.children[Y])}if(fR>1e3){var h=this.root.children;
for(var Y=0;Y<h.length;Y++)if(h[Y].o.add.lsct==c1.$I)h[Y].o.add.lsct=c1.N_}};cj.VO=function(b,h,G,H,B,j,s,q){if(q==null)q="sRGB IEC61966-2.1";
var Q={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:H},artboard:{t:"bool",v:j},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:b*72/G}},Hght:{t:"UntF",v:{type:"#Rlt",val:h*72/G}},Rslt:{t:"UntF",v:{type:"#Rsl",val:G}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:B}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:q}}}};
if(B=="Clr")Q.Nw.v.FlCl={t:"Objc",v:s};return{f6:"make",yo:Q}};cj.aD_=function(b,h){var G=0,H=0,B=72,j=h.arV,s=b.preset&&b.preset.v=="Clipboard";
if(s){G=j.j;H=j._}else{G=b.Wdth.v.val;H=b.Hght.v.val;B=b.Rslt.v.val;G=Math.round(G*B/72);H=Math.round(H*B/72)}var q=new cj((b.Nm?b.Nm.v:bp.get([11,7]))+".psd");
q.j=G;q._=H;q.O4=B;var Q=b.Fl?b.Fl.v.Fl:"Wht";if(b.artboard&&b.artboard.v){var a=q.Cx();a.cb(bp.get([1,16,0])+" 1");
a.add.lsct=c1.$I;a.b8(new io(0,0,G,H));a.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[Q]};
if(Q=="Clr")a.add.artb.Clr={t:"Objc",v:e.F.t1(e.F.an(b.FlCl.v))};a.Am="pass";a.Xp=24;var l=q.Cx();l.cb("Layer 1");
q.Rf([q.b2(),l,a]);q.LI(1);q.T=[1]}else if(fq==0){var U=q.Cx(),N=0;U.cb("Background");q.Rf([U]);U.add.lspf=1<<2;
if(Q=="Clr"){N=e.F.an(b.FlCl.v);N=255<<24|Math.round(N.J)<<16|Math.round(N.B)<<8|Math.round(N.$)}else{var R=h.W9;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;N={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[Q]}U.rect=new io(0,0,G,H);
U.buffer=e.U(G*H*4);e.Zi(U.buffer,N);U.r6()}if(fq==0)q.buffer=e.U(G*H*4);var S=b.profile;if(S){var g={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[S.v];
if(g)q.Us(aT.aC.get(g))}return q};cj.prototype.aoh=function(){var b=this,h=b.add.arts=[],G=!0;b.add.prvw=1;
b.UL();var H=b.root.children;for(var Y=0;Y<H.length;Y++)if(!H[Y].o.fu())G=!1;if(!G||b.R.length==0){b.R.unshift(b.b2());
var B=b.Cx();B.cb("Layer 1");B.add.lsct=c1.$I;B.Am="pass";B.Xp=24;b.R.push(B);for(var Y=0;Y<b.T.length;
Y++)b.T[Y]++;b.P6=!0}if(b.add.artd){delete b.add.artd;var j=[];for(var Y=0;Y<b.R.length;Y++){var B=b.R[Y],s=B.add.artb;
if(s==null)continue;var q=B.Ey();delete B.add.artb;h.push({Lw:B.getName(),rc:[q.x,q.y,q.x+q.j,q.y+q._],T:!1});
var Q=s.artboardBackgroundType.v;if(Q!=1&&Q!=3){var a=b.root.DE(Y).mW;j.push([a,Q,q,e.F.an(s.Clr.v)])}}for(var Y=0;
Y<j.length;Y++){var a=j[Y][0],Q=j[Y][1],q=j[Y][2],l=j[Y][3],B=b.Cx();B.cb("Background");B.add.vmsk=new C.cW;
B.add.vmsk.d=e.n.NT.Rect(q.x,q.y,q.j,q._);B.add.vstk=dE.QA.Az(!0);B.add.vstl=dE.a6.Az();B.add.vstl.E_=[null,[1,1,1],[0,0,0],[],[l.$/255,l.B/255,l.J/255],[1,1,1]][Q];
B.AA();b.R.splice(b.R.indexOf(a)+1,0,B);b.UL()}console.log(j)}else h.push({Lw:"Artboard",rc:[0,0,b.j,b._],T:!1});
if(b.name.endsWith(".psd"))b.name=b.name.slice(0,-4)+".ai";if(b.buffer)b.buffer=null;for(var Y=0;Y<b.R.length;
Y++){var B=b.R[Y],q=B.rect;if(B.fu()&&B.add.vmsk){var U=b.Cx();b.R.splice(Y,0,U);U.cb("<Clipping Path>");
U.Sz=!0;U.add.vogk=B.add.vogk;delete B.add.vogk;U.add.vmsk=B.add.vmsk;delete B.add.vmsk;U.add.vstk=dE.QA.Az();
U.add.SoCo=JSON.parse(dE.Qy[dE.order.indexOf("SoFi")]);U.add.vstl={};console.log("mask here!")}else if(B._5()&&B.add.vstl==null){if(B.add.vmsk==null){B.add.vmsk=new C.cW;
B.add.vmsk.d=e.n.NT.Rect(0,0,b.j,b._);B.add.vstk=dE.QA.Az(!0);B.AA()}var N=B.add.vstl=cj.Mm(B.add)}delete B.add.lmfx;
if(B.add.SoLd||B.add.TySh||B.add.vmsk||q.Zx())continue;var R=q.j,S=q._,g=e._1(B.buffer,R,S)?"JPG":"PNG";
if(R*S<700*700)g="PNG";var i=aT.JR(g).kf([[B.buffer.buffer]],R,S),y=b.R[Y]=b._t(new Uint8Array(i),B.getName(),q.x,q.y);
y.lW(B.yY())}};cj.Mm=function(b,h){var G=b.vstk,Q=null,a=null;if(G==null)G=dE.QA.Az(!0);var H=dE.QA.Lo(G),B=dE.Y3(b),j=dE.Sc(G);
function s(Q){var g=e.F.an(Q.Clr.v);return[g.$/255,g.B/255,g.J/255]}var q=b.lmfx;if(q)Q=q.solidFillMulti.v[0];
if(Q)Q=Q.v;if(Q&&(!Q.enab.v||Q.Opct.v.val<50))Q=null;if(q)a=q.frameFXMulti.v[0];if(a)a=a.v;if(a&&(!a.enab.v||a.Opct.v.val<50))a=null;
var l=b.vmsk,U=l?l.d:e.n.NT.Rect(0,0,h.j,h._);for(var N=0;N<2;N++){var R=N==0?B:j,S=[];if(R.Z_==1)S=bW.MW(R.Tf.Clr.v);
if(R.Z_==2){S=b[N==0?"_fstl":"_sstl"];if(S==null||fq==0)S=g7.U_(R.Tf,U)}if(N==0&&Q)S=s(Q);if(N==1&&a){S=s(a);
H.nx=a.Sz.v.val;H.fJ=dE.stroke.types.indexOf(a.Styl.v.FStl);H.VV=1}if(N==0)H.E_=S;else H.g9=S}return H};
function kI(b){this.tR=b;this.D=0;this.k1=1;this.f=new cJ(0,0);this.Nt=new cJ(0,0);this.ej=0;this.M=[1,1,1];
this.Q5=0;this.q5=new io(0,0,1,1);this.axm=new io(0,0,b.j,b._);this.zq=null;this.wQ=null;this.xP=new Uint32Array(0);
this.jH=null;this.WL=null;this.Ut=e.U(0);this.Mb=null;this.j0=null}kI.prototype.si=function(b){var h=new eq,G=this.q5,H=this.tR,B=b?this.k1:this.D,j=b?this.Nt:this.f,s=Math.round((G.j-H.j*B)/2+j.x),q=Math.round((G._-H._*B)/2+j.y);
h.translate(-s,-q);h.scale(1/B,1/B);var Q=H.j/2,a=H._/2;h.translate(-Q,-a);h.rotate(this.ej);h.translate(Q,a);
return h};kI.prototype.arw=function(b){var h=this.q5,G=this.tR,H=Math.atan2(-b.J,b.G),B=G.j/2,j=G._/2;
b.translate(-B,-j);b.rotate(-H);b.translate(B,j);var s=1/b.$K();b.scale(s,s);var q=-b.Kv,Q=-b.d0,a=Math.round(q-(h.j-G.j*s)/2),l=Math.round(Q-(h._-G._*s)/2);
if(Math.abs(s-Math.round(s))<1e-6)s=Math.round(s);this.ej=H;this.D=s;this.f=new cJ(a,l)};kI.prototype.Fj=function(b,h,G){var H=this.si(),B=H.At(new cJ(b,h));
if(G){B.x=Math.round(B.x);B.y=Math.round(B.y)}return B};kI.prototype.yF=function(b,h){var G=this.si();
G.Q6();return G.At(new cJ(b,h))};function dE(){}dE.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
dE.CM="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
dE.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];dE.aDJ=["DrSh","IrSh","SoFi","GrFl","FrFX"];
dE.L1=["Clr"];dE.WH="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");dE.aa=["Ptrn","Angl","Scl","Algn","phase"];
dE.eI={mz:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",azL:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",ab$:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",afq:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Oh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
dE.eI.mz="\"Clr\": "+dE.eI.mz;dE.eI.F="\"Grad\":"+dE.eI.azL+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
dE.eI.Oh="\"Ptrn\":"+dE.eI.Oh+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
dE.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
dE.Qy=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+dE.eI.mz+","+dE.eI.F+","+dE.eI.Oh+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dE.eI.mz+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dE.eI.F+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dE.eI.Oh+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
dE.F={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
dE.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],xh:["SClr","GrFl","Ptrn"],am0:[[13,0],[12,37],[12,62]]};
dE.cu={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aui:["SrcC","SrcE"],aAe:[[19,5,1],[12,69]]};dE.rZ={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],axz:["SfBL","PrBL","Slmt"],azG:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
dE.QA={L7:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],mo:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],kR:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+dE.eI.mz+"}")},strokeStyleResolution:{t:"doub",v:72}},Az:function(b,h){var G=JSON.parse(dE.QA.adv);
if(b)G.fillEnabled.v=!0;if(h)G.strokeEnabled.v=!0;return G},Lo:function(b,h,G){if(h==null)h={};if(G==null)G=1;
var H=b.strokeStyleLineDashSet.v,B=h.nx=b.strokeStyleLineWidth.v.val*G;h.dE=b.strokeStyleMiterLimit.v;
h.wt=b.strokeStyleLineDashOffset.v.val;h.VV=dE.QA.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
h.vB=dE.QA.L7.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType);h.fJ=dE.QA.mo.indexOf(b.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
h.t7=[];for(var Y=0;Y<H.length;Y++)h.t7.push(H[Y].v.val*B);if(h.t7.length==1&&h.t7[0]==0)h.t7=[];return h},write:function(b,h,G){if(G==null)G=1;
var H=h.nx,B=h.dE,j=h.t7,s=h.wt,q=h.VV,Q=h.vB,a=h.fJ;if(H!=null)H=b.strokeStyleLineWidth.v.val=Math.max(.4,H*G);
else H=b.strokeStyleLineWidth.v.val;if(a!=null)b.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[a];
if(B!=null)b.strokeStyleMiterLimit.v=B;if(j!=null)b.strokeStyleLineDashSet.v=eQ.FA(j,G/H);if(s!=null)b.strokeStyleLineDashOffset.v.val=s;
if(q!=null)b.strokeStyleLineJoinType.v.strokeStyleLineJoinType=dE.QA.join[q];if(Q!=null)b.strokeStyleLineCapType.v.strokeStyleLineCapType=dE.QA.L7[Q]}};
dE.QA.adv=JSON.stringify(dE.QA.default);dE.a6={Az:function(){return{E_:[1,1,1],g9:[0,0,0],nx:1,dE:0,t7:[],wt:0,VV:0,vB:0,fJ:1}},ayj:function(b){var h=b_.an(b.StrokeColor),G=dE.a6.Az();
G.fJ=b.FillFirst?1:2;var H=b._LineCap,B=b._LineJoin,j=b._MiterLimit,s=b._LineDashOffset,q=b._LineDashArray,Q=b.OutlineWidth;
if(H)G.vB=H;if(B)G.VV=B;if(j)G.dE=j;if(q)G.t7=q;if(Q!=null)G.nx=Q;G.g9=[h.$/255,h.B/255,h.J/255];return G},aA_:function(b,h){h.FillFirst=b.fJ==1;
h._LineCap=b.vB;h._LineJoin=b.VV;h._MiterLimit=b.dE;h._LineDashArray=b.t7}};dE.Sc=function(b){var h=b.strokeEnabled.v,G=b.strokeStyleContent.v;
return h?{Z_:1+dE.QA.kR.indexOf(G.classID),Tf:G}:{Z_:0}};dE.bl=function(b,h){var G=h.Z_;b.strokeEnabled.v=G!=0;
if(G!=0){b.strokeStyleContent.v=h.Tf;h.Tf.classID=dE.QA.kR[G-1]}};dE.Y3=function(b){var h=b.vstk,G=null;
if(h&&!h.fillEnabled.v)G={Z_:0};else if(b.SoCo)G={Z_:1,Tf:b.SoCo};else if(b.GdFl)G={Z_:2,Tf:b.GdFl};
else if(b.PtFl)G={Z_:3,Tf:b.PtFl};return G};dE.$M=function(b,h){var G=b.vmsk,H=b.vstk,B=h.Z_;if(H)H.fillEnabled.v=B!=0;
if(B>0){var j=["SoCo","GdFl","PtFl"][B-1];for(var Y=0;Y<3;Y++)delete b[["SoCo","GdFl","PtFl"][Y]];b[j]=h.Tf}};
dE.td=[{classID:"null",Clr:JSON.parse(dE.Qy[5]).Clr},{classID:"null",Grad:JSON.parse(dE.Qy[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(dE.Qy[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var eQ={};eQ.ach=function(b,h){function G(b,N){if(b==null||!b.masterFXSwitch.v)return null;var R=b[N].v,S;
if(R.length!=0){S=R[0].v;if(!S.enab.v)S=null}return S}var H=h.SoCo,B=h.GdFl,j=G(b,"solidFillMulti"),s=G(b,"gradientFillMulti");
if(j==null&&s==null)return[H,B];var q=eQ.aAg;if(H&&j&&s==null){var Q=JSON.parse(JSON.stringify(H));Q.Clr.v=q(j.Clr.v,H.Clr.v,j);
return[Q,null]}if(B&&j&&s==null){var a=JSON.parse(JSON.stringify(B)),l=a.Grad.v.Clrs.v;for(var Y=0;Y<l.length;
Y++){var U=l[Y].v.Clr;U.v=q(j.Clr.v,U.v,j)}return[null,a]}if(H&&s){var a=JSON.parse(JSON.stringify(s)),l=a.Grad.v.Clrs.v;
for(var Y=0;Y<l.length;Y++){var U=l[Y].v.Clr;U.v=q(U.v,H.Clr.v,s)}return[null,a]}return[j,s]};eQ.mi={p8:e.U(4),iR:e.U(4),$:new io(0,0,1,1)};
eQ.aAg=function(b,h,G){var H=aq.ah(G.Md.v.BlnM),B=G.Opct.v.val/100,j=eQ.mi;b=e.F.an(b);h=e.F.an(h);j.p8[0]=b.$;
j.p8[1]=b.B;j.p8[2]=b.J;j.p8[3]=255;j.iR[0]=h.$;j.iR[1]=h.B;j.iR[2]=h.J;j.iR[3]=255;e.z.Nm(H,j.p8,j.$,j.iR,j.$,j.$,B);
return{classID:"RGBC",Rd:{t:"doub",v:j.iR[0]},Grn:{t:"doub",v:j.iR[1]},Bl:{t:"doub",v:j.iR[2]}}};eQ.afr=function(b,h,G){var H=b;
b=b.slice(0);var B=aq.B5[aq.$$.indexOf(h.Md.v.BlnM)],j=e.F.an(h.Clr.v),s=4278190080|Math.round(j.J)<<16|Math.round(j.B)<<8|Math.round(j.$),q=e.U(G.X()*4);
e.Zi(q,s);e.z.Nm(B,q,G,b,G,G,h.Opct.v.val/100);for(var Y=0;Y<b.length;Y+=4)b[Y+3]=H[Y+3];return b};eQ.K7=function(b,h){var G=["Sz","blur","Sftn","Dstn"];
for(var Y=0;Y<dE.order.length;Y++){var H=dE.order[Y],B=b[dE.CM[Y]].v;for(var j=0;j<B.length;j++){var s=B[j].v;
for(var q=0;q<G.length;q++){var Q=s[G[q]];if(Q){var a=Q.v.val,l=a;l=Math.max(a==0?0:1,l*h);if(H=="ChFX")l=Math.min(l,250);
if(H=="ebbl"){if(G[q]=="blur")l=Math.min(l,250);if(G[q]=="Sftn")l=Math.min(l,16)}Q.v.val=Math.round(l)}}if(H=="ebbl"||H=="patternFill"||H=="FrFX")if(s.Ptrn&&s.Scl)s.Scl.v.val=Math.max(1,Math.min(1e3,s.Scl.v.val*h))}}};
eQ.aA4=function(b,h,G){var H=new io(-.5,-.5,1,1);for(var Y=0;Y<dE.order.length;Y++){var B=dE.order[Y],j=b[dE.CM[Y]].v;
for(var s=0;s<j.length;s++){var q=j[s].v,U;if(!q.enab.v)continue;var Q=q.blur?q.blur.v.val+1:0,a=q.Ckmt?q.Ckmt.v.val/100:0,l=Math.round(Q*a);
if(B=="DrSh"||B=="IrSh"&&G){U=new io(-.5,-.5,1,1);U.Mx(Q,Q);eQ.rV(U,q,h,0)}if(B=="St3D"){U=new io(-.5,-.5,1,1);
eQ.rV(U,q,h,Math.PI,"Angl")}if(B=="OrGl"||B=="IrGl"&&G){U=new io(-.5,-.5,1,1);U.Mx(Q,Q)}if(B=="FrFX"){var N=eQ.no(q),R=N[1];
if(G)R=Math.max(N[0],R);U=new io(-.5,-.5,1,1);U.Mx(Math.ceil(R),Math.ceil(R))}if(B=="ebbl"){var Q=q.blur.v.val,S=q.bvlS.v.BESl;
if(S=="Embs"||S=="PlEb")Q/=2;var g=["OtrB","InrB","Embs","PlEb","strokeEmboss"],i=["SfBL","PrBL","Slmt"],y=["In","Out"],o=q.bvlT.v.bvlT!="SfBL"?Q:Q*.43,v=Math.round(Q);
U=new io(-v-1,-v-1,2*v+2,2*v+2)}if(G&&B=="ChFX"){U=new io(-.5,-.5,1,1);U.Mx(Q,Q);var Z=U.clone();eQ.rV(U,q,h,0);
eQ.rV(Z,q,h,Math.PI);U=U.gJ(Z)}if(U)H=H.gJ(U)}}if(H.x!=Math.ceil(H.x)){H.x=Math.ceil(H.x);H.j-=1}if(H.y!=Math.ceil(H.y)){H.y=Math.ceil(H.y);
H._-=1}H.j=Math.floor(H.j);H._=Math.floor(H._);return H};eQ.no=function(b){var h,G,H=0,B=0;if(b.Sz){h=b.Sz.v.val;
G=dE.stroke.types.indexOf(b.Styl.v.FStl)}else{h=b.Wdth.v;G=["Insd","Cntr","Otsd"].indexOf(b.Lctn.v.StrL)}if(G==0)H=h;
if(G==1)H=B=h/2;if(G==2)B=h;return[H,B]};eQ.a9V=function(b){if(cG.pl&&b.vA==null){b.vA=new cG.Bh(b.KZ.j,b.KZ._);
b.vA.set(b.Ur);delete b.Ur;if(b.bP){b.yP=new cG.er(b.KZ.j,b.KZ._);b.yP.set(b.bP);delete b.bP}if(b.ih){b.Rp=new cG.er(b.KZ.j,b.KZ._);
b.Rp.set(b.ih);delete b.ih}}};eQ.a50=function(b){if(b.vA)b.vA.delete();if(b.yP)b.yP.delete();if(b.Rp)b.Rp.delete()};
eQ.ajF=function(b){if(b.all==null)return;for(var Y=0;Y<b.all.length;Y++){eQ.a50(b.all[Y])}};eQ.aqE=function(b,h,G,H,B,j){var s=eQ.x0(G,H,b,h,B,j);
for(var Y=0;Y<s.all.length;Y++)eQ.a9V(s.all[Y]);return s};eQ.adm=function(b){for(var Y=0;Y<dE.order.length;
Y++){var h=dE.order[Y],G=dE.CM[Y],H=b[G].v;for(var B=0;B<H.length;B++){var j=H[B].v;if(j.enab.v&&["patternFill","GrFl","SoFi"].indexOf(h)==-1)return!0}}return!1};
eQ.x0=function(b,h,G,H,B,j){if(j==null)j=H;var s=0,q=0;for(var Y=0;Y<dE.order.length;Y++){var Q=dE.order[Y],a=dE.CM[Y],l=b[a].v;
for(var U=0;U<l.length;U++){var N=l[U].v;if(Q=="DrSh"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0)s=Math.max(s,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(Q=="OrGl"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0&&N.GlwT.v.BETE=="SfBL")s=Math.max(s,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(Q=="OrGl"&&N.enab.v&&N.blur.v.val>0&&N.GlwT.v.BETE=="PrBL")s=Math.max(s,N.blur.v.val);if(Q=="FrFX"&&N.enab.v&&N.Sz.v.val>0){if(N.Styl.v.FStl=="OutF")s=Math.max(s,N.Sz.v.val);
if(N.Styl.v.FStl=="CtrF")s=Math.max(s,Math.ceil(N.Sz.v.val/2));q=Math.max(q,eQ.no(N)[1])}}}var R=new eQ.pS(G,H,s,eQ.adm(b)),S=-H.x,g=-H.y,i={type:{},all:[]};
for(var y=0;y<dE.order.length;y++){var Q=dE.order[y],a=dE.CM[y];i.type[Q]=[];for(var o=b[a].v.length-1;
o>=0;o--){var v=b[a].v[o].v,$;if(!v.enab.v)continue;var Z=v.blur?v.blur.v.val:0,W=v.Ckmt?v.Ckmt.v.val/100:0,d=Z*W;
if(Q=="St3D"){var I=Math.max(1e-4,1-v.Srnk.v.val/100),K=2,az=0;function k(_,hP,v){var ih=v.Angl.v.val;
ih*=Math.PI/180;var t=v.Dstn.v.val,kR=Math.cos(ih)*t,jm=-Math.sin(ih)*t,es=I+hP*(1-I),e4=new eq;e4.translate(-_.j/2,-_._/2);
e4.scale(es,es);e4.translate(_.j/2,_._/2);e4.translate((1-hP)*kR,(1-hP)*jm);return e4}var _=H.clone(),D=G;
_.x=_.y=0;var A=Date.now(),F=_.clone();F.Mx(K,K);var V=e.U(F.X());e.wX(D,_,V,F);F.x=F.y=0;e.Zt.QE(V,V,F,2);
var r=e.U(F.X()*4);r.fill(255);e.YP(V,r);var c=e.U(_.X()),x=_.j,X=_._,M=F.j,f=eQ.auN(v,B),t=Math.cos(f[1]),n=-Math.cos(f[0])*t,L=Math.sin(f[0])*t;
if(Math.abs(n)<.001&&Math.abs(L)<.001)n=L=0;for(var P=0;P<X;P++)for(var z=0;z<x;z++){var Y=(P+K)*M+z+K,T=V[Y+1]-V[Y-1],p=V[Y+M]-V[Y-M],m=T*T+p*p;
if(m>10){var O=1/Math.sqrt(m);c[P*x+z]=Math.max(0,Math.min(255,128+127*(n*O*T+L*O*p)))}}var cb=[D,_],cX=k(_,0,v),e$=e.N.Q0(_).m,fz=e$.slice(0);
e.N.h(e$,cX,fz);var eC=_.gJ(e.N.sm(fz)),hw=e.U(eC.X()*4);for(var Y=0;Y<8;Y+=2){var T=e$[Y]-fz[Y],p=e$[Y+1]-fz[Y+1];
az=Math.max(az,Math.sqrt(T*T+p*p))}var av=Math.round(az/2),ia=e.F.an(v.Clr.v);ia.$/=255;ia.B/=255;ia.J/=255;
var iJ=v.Drkn.v.val/100;for(var cx=0;cx<av;cx++){var hP=cx/av,iS=1-iJ+hP*iJ,e4=k(_,hP,v),cc=_.clone(),aO=D;
if(I!=1){var bZ=E.Y.pJ(cb,e4);cc=bZ.rect;aO=bZ.channel}else{var d_=e4.At(new cJ(0,0));cc.x+=Math.round(d_.x);
cc.y+=Math.round(d_.y)}var ee=e.U(cc.X()*4);if(n!=0||L!=0){var b4=cc.j,hA=cc._,f$=ia.$,e_=ia.B,fJ=ia.J,dV=e4.clone();
dV.Q6();var ix=dV.At(new cJ(.5,.5)),b9=dV.At(new cJ(1.5,1.5)),T=b9.x-ix.x,p=b9.y-ix.y;for(var P=0;P<hA;
P++){for(var z=0;z<b4;z++){var Y=P*b4+z,hV=Y*4,gq=Math.max(0,Math.min(x-1,~~(.5+T*z))),eH=Math.max(0,Math.min(X-1,~~(.5+p*P))),eP=c[eH*x+gq],c2=-1+2*eP*(1/255),bL=-c2,dg=0;
if(c2>0){bL=0;dg=c2}ee[hV]=255*(1-bL)*(dg+(1-dg)*f$)*iS;ee[hV+1]=255*(1-bL)*(dg+(1-dg)*e_)*iS;ee[hV+2]=255*(1-bL)*(dg+(1-dg)*fJ)*iS}}}else eQ.Gj(ee,v.Clr.v,null,iS);
e.aj(aO,ee,3);e.z.Nm("norm",ee,cc,hw,eC,cc,1)}$={Ur:hw,KZ:eC}}else if(Q=="DrSh"){var cN=R.nN(d,Z-d,!0),dH=cN.o6,kM=cN.O2.clone();
eQ.HB(dH,v,!1);if(v.Cntn&&v.Cntn.v){var a_=new io;eQ.rV(a_,v,B,0);var g4=kM.clone();g4.offset(-a_.x,-a_.y);
g4=g4.gJ(kM);var iY=e.U(g4.X());e.wX(dH,kM,iY,g4);var fa=Math.sqrt(a_.x*a_.x+a_.y*a_.y),ka=dH.slice(0);
for(var Y=0;Y<fa-1;Y++){var T=Math.round(-a_.x*Y/fa),p=Math.round(-a_.y*Y/fa),b1=cN.O2.clone();b1.offset(T,p);
e.aeh(ka,b1,iY,g4)}dH=iY;kM=g4}kM.offset(S,g);eQ.rV(kM,v,B,0);var hw=e.U(kM.X()*4);eQ.Gj(hw,v.Clr.v);
e.aj(dH,hw,3);$={Ur:hw,KZ:kM,alu:v.layerConceals.v}}else if(Q=="IrSh"){var cN=R.nN(d,Z-d,!1);eQ.rV(cN.O2,v,B,0);
var kM=R.rect().clone(),dH=e.U(kM.X());dH.fill(255);e.wX(cN.o6,cN.O2,dH,kM);eQ.HB(dH,v,!0,!0);var hw=e.U(kM.X()*4);
eQ.Gj(hw,v.Clr.v);e.aj(dH,hw,3);kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="GrFl"){var hw=e.U(R.rect().X()*4);
eQ.XL(v,hw,R.rect(),B,null,j);var kM=R.rect().clone();kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="SoFi"){var hw=e.U(R.o6().length*4);
eQ.Gj(hw,v.Clr.v);var kM=R.rect().clone();kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="ebbl"){var bg=!1;
if(bg)console.log(v);var A=Date.now(),cl=A,c0=v.bvlS.v.BESl,kL=v.bvlT.v.bvlT;if(c0=="strokeEmboss"){var c_=b.frameFXMulti.v;
if(c_.length==0)continue;c_=c_[0].v;if(!c_.enab.v)continue;var cA=c_.Styl.v.FStl;if(cA=="OutF")c0="OtrB";
if(cA=="CtrF")c0="Embs";if(cA=="InsF")c0="InrB"}var Z=v.blur.v.val;if(Z==0)Z=.7;if(c0=="Embs"||c0=="PlEb")Z/=2;
var aw=["OtrB","InrB","Embs","PlEb","strokeEmboss"],kq=["SfBL","PrBL","Slmt"],f4=["In","Out"],gF=kL!="SfBL"?Z:Z*.45,fm=Math.round(Z),aP=R.rect().clone(),hh=aP.clone();
hh.Mx(fm,fm);var x=hh.j,X=hh._,gW=x*X,cg=e.U(gW);e.wX(R.o6(),aP,cg,hh);var f0=e.style.ip(cg,x,X);e.Q6(cg);
var hk=e.style.ip(cg,x,X);if(bg)console.log("distTransform computed",Date.now()-A);A=Date.now();for(var Y=0;
Y<gW;Y++){var aQ=hk[Y]-f0[Y];hk[Y]=aQ}for(var Y=0;Y<gW;Y++){var aQ=hk[Y];if(aQ<-gF)hk[Y]=-gF;else if(aQ>gF)hk[Y]=gF}if(bg)console.log("summing + cropping",Date.now()-A);
A=Date.now();if(kL=="SfBL"){var fj=Math.pow(Z*.21,1.22);if(!0)fj=Math.max(fj,2);e.Zt.z_(hk,hh,fj,2);
console.log(fj)}if(bg)console.log("blurring",Date.now()-A);A=Date.now();var fd=hk,iu=f0;iu.set(fd);if(v.useShape.v){var en=Math.min(100,v.Inpr.v.val+1)/100;
if(c0!="OtrB"&&c0!="InrB")en=1;var hl=e.S_.i7(v.MpgS.v.Crv.v,2e3),ed=Math.round(2e3/en);hl=e.S_.aA8(hl,ed,c0=="InrB");
var hG=.5/gF;for(var Y=0;Y<gW;Y++){var i0=fd[Y],bS=.99999*(i0+gF)*hG;fd[Y]=-gF+2*gF*hl[~~(bS*(ed-1))]}if(bg)console.log("applying shape",Date.now()-A);
A=Date.now()}if(v.useTexture.v){var ee=e.U(x*X*4);eQ.a7(v,ee,hh,B.add.Patt,h);var dC=e.U(x*X);e.Rt(ee,dC);
e.Zt.ag4(dC,dC,hh,1);var ir=Z*v.textureDepth.v.val*(1/100)*(1/255);if(v.InvT.v)ir=-ir;for(var Y=0;Y<gW;
Y++)fd[Y]+=-ir*dC[Y];if(bg)console.log("applying texture",Date.now()-A);A=Date.now()}var f=eQ.auN(v,B),ih=f[0],a$=f[1],n=Math.cos(ih)*Math.cos(a$),L=-Math.sin(ih)*Math.cos(a$),cC=Math.sin(a$),dT=c0=="PlEb",jq=new Float32Array(gW),kz=jq;
jq.fill(cC);if(dT){kz=new Float32Array(gW);kz.fill(cC)}var ei=(v.bvlT.v.bvlT=="SfBL"?1:.5)*(v.bvlD.v.BESs=="In"?1:-1)*v.srgR.v.val/100,ce=-.125*ei;
for(var P=0;P<X;P++){var cp=P==0?0:-x,ht=P==X-1?0:x,Y=P*x;for(var z=0;z<x;z++,Y++){var kE=z==0?Y:Y-1,j4=z==x-1?Y:Y+1,T=fd[j4]-fd[kE],p=fd[Y+ht]-fd[Y+cp],cE=1;
if(T==0&&p==0)continue;var j8=fd[kE+cp],dm=fd[j4+cp],ie=fd[kE+ht],b5=fd[j4+ht],eh=ce*(dm+2*T+b5-j8-ie),jl=ce*(ie+2*p+b5-j8-dm),cI=1/Math.sqrt(eh*eh+jl*jl+1);
eh*=cI;jl*=cI;cE*=cI;var de=eh*n+jl*L+cE*cC;jq[Y]=Math.max(0,de);if(!dT)continue;var i9=-eh*n-jl*L+cE*cC;
kz[Y]=Math.max(0,i9)}}if(bg)console.log("raycasting",Date.now()-A);A=Date.now();if(v.Sftn.v.val!=0){e.Zt.z_(jq,hh,v.Sftn.v.val*.43,2);
if(dT)e.Zt.z_(kz,hh,v.Sftn.v.val*.43,2)}if(bg)console.log("softening",Date.now()-A);A=Date.now();var bG=eQ.JC(v.hglC.v,0),bi=eQ.JC(v.sdwC.v,0),iC=new Uint8Array(jq.buffer),fF=new Uint32Array(iC.buffer),jo=new Uint8Array(fd.buffer),ds=new Uint32Array(jo.buffer),im=iC,ch=jo,ao=fF,hN=ds;
if(dT){im=new Uint8Array(kz.buffer);ao=new Uint32Array(im.buffer);ch=new Uint8Array(iu.buffer);hN=new Uint32Array(ch.buffer)}var gn=1/cC,eX=1/(1-cC),hG=1/gF,hl=e.S_.i7(v.TrnS.v.Crv.v,1024),f1=new Float32Array(2500);
for(var Y=0;Y<2500;Y++){var z=Math.max(0,Math.min(1,(Y-500)*.001));f1[Y]=Math.pow(z,.2)}for(var P=0;
P<X;P++)for(var z=0;z<x;z++){var Y=P*x+z,h_=4*Y+3,jJ=~~(jq[Y]*1023),iA=hl[jJ],cw=(iu[Y]+gF*.993)*hG,gu=f1[~~(500+cw*1e3)],il=gu*(1-Math.min(1,iA*gn)),aE=gu*(1-Math.min(1,(1-iA)*eX));
ds[Y]=~~(.5+255*il)<<24|bi;fF[Y]=~~(.5+255*aE)<<24|bG;if(!dT)continue;var cL=hl[~~(kz[Y]*1023)],ba=gu*(1-Math.min(1,cL*gn)),hA=gu*(1-Math.min(1,(1-cL)*eX));
hN[Y]=~~(.5+255*ba)<<24|bi;ao[Y]=~~(.5+255*hA)<<24|bG}if(bg)console.log("baking textures",Date.now()-A);
A=Date.now();hh=R.rect().clone();hh.Mx(fm,fm);hh.offset(S,g);$={aio:v.bvlS.v.BESl=="strokeEmboss"};var hZ=aq.ah(v.hglM.v.BlnM),ax=v.hglO.v.val/100,gU=aq.ah(v.sdwM.v.BlnM),gs=v.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(c0)!=-1){$.Vq={Ur:iC,KZ:hh,Yn:hZ,ux:ax};$.Gg={Ur:jo,KZ:hh,Yn:gU,ux:gs}}if(["OtrB","Embs","PlEb"].indexOf(c0)!=-1){$.vL={Ur:im,KZ:hh,Yn:hZ,ux:ax};
$.bA={Ur:ch,KZ:hh,Yn:gU,ux:gs}}if(bg)console.log(Date.now()-cl)}else if(Q=="patternFill"){var f6=R.rect(),hw=e.U(f6.X()*4);
eQ.a7(v,hw,f6,B.add.Patt,h);var kM=f6.clone();kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="ChFX"){var hw=e.U(R.o6().length*4);
eQ.Gj(hw,v.Clr.v);var Z=v.blur.v.val,fs=R.rect().clone();fs.Mx(Z,Z);var gk=e.U(fs.X()),dR=e.U(fs.X());
e.wX(R.o6(),R.rect(),dR,fs);e.Zt.QE(dR,gk,fs,Z*.43);var e7=e.S_.tL(v.MpgS.v.Crv.v,256,!0);e.a1k(gk,e7);
var g$=e.U(R.o6().length),bD=e.U(R.o6().length),hq=R.rect().clone();eQ.rV(hq,v,B,0);e.wX(gk,fs,g$,hq);
hq=R.rect().clone();eQ.rV(hq,v,B,Math.PI);e.wX(gk,fs,bD,hq);var fS=g$.length;for(var Y=0;Y<fS;Y++)hw[4*Y+3]=Math.abs(g$[Y]-bD[Y]);
if(v.Invr.v)for(var Y=0;Y<fS;Y++)hw[4*Y+3]=255-hw[4*Y+3];var kM=R.rect().clone();kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="OrGl"){var cN;
if(v.GlwT.v.BETE=="SfBL")cN=R.nN(d,Z-d,!0);else cN=R.aqn(Z,W,!0);var dH=cN.o6,kM=cN.O2,al=dH.slice(0);
eQ.apn(dH,v);var hw=e.U(kM.X()*4);if(v.Grad==null){eQ.Gj(hw,v.Clr.v);eQ.HB(dH,v,!1)}else{eQ.HB(dH,v,null);
var dG={r1:dH,cK:255,xJ:0,w7:kM};eQ.XL(v,hw,kM,B,dG);var eK=v.Nose.v.val/100,gC=kM.j;for(var Y=0;Y<al.length;
Y++){var kw=255,kH=al[Y];if(kH<32){var cw=(kH+al[Y-1]+al[Y+1]+al[Y-gC]+al[Y+gC])*.2-1;kw=Math.min(255,Math.round(Math.max(0,cw)*8))}dH[Y]=kw}eQ.aEH(dH,v)}e.aj(dH,hw,3);
kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="IrGl"){var cN;if(v.GlwT.v.BETE=="SfBL")cN=R.nN(d,Z-d,!1);
else cN=R.aqn(Z,W,!1);var dH=cN.o6,kM=cN.O2;eQ.apn(dH,v);if(v.glwS.v.IGSr=="SrcC")e.Q6(dH);var hw=e.U(kM.X()*4);
if(v.Grad==null){eQ.Gj(hw,v.Clr.v);eQ.HB(dH,v,!0)}else{eQ.HB(dH,v,null);var dG={r1:dH,cK:255,xJ:0,w7:kM};
eQ.XL(v,hw,kM,B,dG);dH.fill(255);eQ.aEH(dH,v)}e.aj(dH,hw,3);kM.offset(S,g);$={Ur:hw,KZ:kM}}else if(Q=="FrFX"){var jM=eQ.no(v),kA=jM[0],bj=jM[1],kM=R.rect().clone(),eM=null,d6=null;
kM.Mx(Math.ceil(q),Math.ceil(q));if(bj>0){var cN=R.nN(bj,0,!0);d6=cN.o6;if(d6.length<kM.X()){d6=e.U(kM.X());
e.wX(cN.o6,cN.O2,d6,kM)}}if(kA>0){var cN=R.nN(kA,0,!1);eM=e.U(kM.X());eM.fill(255);e.wX(cN.o6,cN.O2,eM,kM)}kM.offset(S,g);
var hw=e.U(kM.X()*4),gN=v.PntT.v.FrFl;if(gN=="SClr")eQ.Gj(hw,v.Clr.v);if(gN=="GrFl")eQ.XL(v,hw,kM,B,R.amh(kA,bj));
if(gN=="Ptrn")eQ.a7(v,hw,kM,B.add.Patt,h);var js=v.overprint,aD=js?js.v:!1;if(aD){var bO=eM?eM:d6;if(eM&&d6)e.ym.D4(eM,d6,bO);
e.aj(bO,hw,3)}$={Ur:hw,KZ:kM,ih:d6,bP:eM,ayg:aD}}i.type[Q].push($);if(Q=="ebbl"){if($.Vq)i.all.push($.Vq,$.Gg);
if($.vL)i.all.push($.vL,$.bA)}else{$.Yn=aq.ah(v.Md.v.BlnM);$.ux=v.Opct.v.val/100,i.all.push($)}}}return i};
eQ.YO=function(b){var h=1/Math.sqrt(b.x*b.x+b.y*b.y+b.xM*b.xM);b.x*=h;b.y*=h;b.xM*=h};eQ.a32=function(b,h){return{x:b.y*h.xM-b.xM*h.y,y:b.xM*h.x-b.x*h.xM,xM:b.x*h.y-b.y*h.x}};
eQ.arT=function(b,h){return b.x*h.x+b.y*h.y+b.xM*h.xM};eQ.aEH=function(b,h){var G=h.Nose.v.val/100;if(G>0)for(var Y=0;
Y<b.length;Y++){var H=b[Y];H=Math.min(510-(1+G)*e.style.v0(Y),H);b[Y]=H}};eQ.Ik=function(b){var h=eQ.pZ(),G=b.mj,H=!1;
for(var Y=0;Y<32;Y+=8)if(G[Y]+G[Y+1]+G[Y+4]+G[Y+5]!=0||G[Y+2]+G[Y+3]+G[Y+6]+G[Y+7]!=1020)H=!0;if(H){G=G.slice(0);
for(var Y=0;Y<40;Y+=4){var B=G[Y]/255,j=G[Y+1]/255,s=G[Y+2]/255,q=G[Y+3]/255;G[Y]=B-.001;G[Y+1]=B==j?1e6:1/(j-B);
G[Y+2]=s==q?-1e6:1/(s-q);G[Y+3]=q+.001}}var Q=b.add.iOpa!=null?b.add.iOpa/255:h.fill,a=b.add.vstk;if(a&&!a.fillEnabled.v&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))Q=0;
return{fill:Q,l5:H?G:null,bR:b.add.brst!=null?b.add.brst:h.bR,ahr:b.add.knko!=null?b.add.knko:h.ahr,style:!1,Ej:!1}};
eQ.pZ=function(){return{fill:1,l5:null,bR:[1,1,1],ahr:0,style:!1,Ej:!1}};eQ.a26=function(b,h,G,H,B,j,s,q){if(q==null)q=1;
if(s==null)s=new eq;var Q=b.yr[1].j,a=b.yr[1]._,l=new eq,U=B<2;if(U)l.translate(-Q/2,-a/2);if(B==0){q*=Math.max(G/Q,H/a)}else if(B==1){q*=Math.min(G/Q,H/a)}else if(B==2){l.scale(1/Q,1/a);
l.concat(s);l.scale(G,H)}else if(B==3){q=q}l.scale(q,q);if(U)l.translate(G/2,H/2);l.concat(j);h.Ptrn.v.Idnt.v=b.id;
h.Scl.v.val=Math.round(100*l.$K());h.Angl.v.val=Math.round(180*Math.atan2(-l.J,l.G)/Math.PI);h.Algn.v=!0;
var N=h.phase.v;N.Hrzn.v=Math.round(l.Kv);N.Vrtc.v=Math.round(l.d0)};eQ.E1=function(b,h){if(h==null)return null;
var G=b.Idnt.v,H=b.Nm.v;for(var Y=0;Y<h.length;Y++)if(h[Y].id==G)return h[Y];for(var Y=0;Y<h.length;
Y++)if(h[Y].name==H)return h[Y];return null};eQ.aAk=function(b,h,G){var H=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Y=0;Y<H.length;Y++){var B=b.v[H[Y]].v;for(var j=0;j<B.length;j++)if(B[j].v.Ptrn)h.lN(eQ.E1(B[j].v.Ptrn.v,G))}};
eQ.aBN=function(b,h,G){var H=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Y=0;Y<H.length;
Y++){var B=b.v[H[Y]].v;for(var j=0;j<B.length;j++)if(B[j].v.Ptrn){var s=B[j].v.Ptrn.v,q=eQ.E1(s,G),Q=eQ.E1(s,h.add.Patt);
if(q==null&&Q)G.push(Q)}}};eQ.a7=function(b,h,G,H,B){var j=eQ.E1(b.Ptrn.v,H);if(j!=null&&!G.Zx()){var s=j.yr,q=s[0],Q=s[1],a=0;
e.tT(s);var l=(b.Scl?b.Scl.v.val:100)/100;while((l<.3||l==.5)&&s[a+2]){l*=Q.j/s[a+3].j;a+=2;q=s[a];Q=s[a+1]}var U=e.scale.a7(q,Q.j,Q._),N=b.phase?b.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=b.Angl?b.Angl.v.val:0,S=-G.x+N.Hrzn.v-1,g=-G.y+N.Vrtc.v-1;
if(b.Algn!=null&&!b.Algn.v){}else{S+=B.x;g+=B.y}if(h)e.scale.a8q(U,h,G.j,G._,l,l,S+1,g+1,R*Math.PI/180);
else return[U,l,S+1,g+1,R*Math.PI/180]}};eQ.XL=function(b,h,G,H,B,j,s,q){if(j==null)j=G;var Q=b.Type?b.Type.v.GrdT:"shapeburst",a=b.Algn&&b.Algn.v?j:new io(0,0,H.j,H._),l=b.Angl?e.F.a4$(b,a):[new cJ(0,0),new cJ(100,0)],U=l[0].x,N=l[0].y,R=l[1].x-U,S=l[1].y-N,g=Math.sqrt(R*R+S*S);
g=1/(2*g*g);var i=[R*g,S*g,-S*g,R*g],y=b.Rvrs?b.Rvrs.v:!1,o=b.Dthr?b.Dthr.v:!1;e.F.qU(b.Grad.v,h,G,i,U,N,y,dE.F.types.indexOf(Q),s==null?0:s,q==null?0:q,B,o)};
eQ.a78=function(b,h,G){for(var Y=0;Y<b.all.length;Y++){var H=b.all[Y];H.yt=H.KZ.clone();H.yt.offset(h,G)}};
eQ.asd=function(b,h,G,H,B,j){var s=cG.pl?eQ.a83:eQ.axQ;eQ.a78(h,G.x,G.y);var q=h.type.DrSh;for(var Y=0;
Y<q.length;Y++)if(!q[Y].alu)s(q[Y],H,B,j)};eQ.ael=function(b,h,G,H,B,j,s,q,Q,a){var l=G,U=cG.pl?eQ.a83:eQ.axQ,N=cG.pl?cG.z.Gp:e.z.hT,R;
R=h.type.DrSh;for(var Y=0;Y<R.length;Y++)if(R[Y].alu)U(R[Y],H,B,j);R=h.type.St3D;for(var Y=0;Y<R.length;
Y++)U(R[Y],H,B,j);R=h.type.OrGl;for(var Y=0;Y<R.length;Y++)U(R[Y],H,B,j);var S="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var g=0;g<S.length;g++){var R=h.type[S[g]];for(var Y=0;Y<R.length;Y++)U(R[Y],s,l,j)}var i=h.type.ebbl[0],y=i!=null&&i.aio;
R=h.type.FrFX;for(var Y=0;Y<R.length;Y++){var o=R[Y];k7.Y5.wX(q,a,Q,a,j);U(o,Q,a,j);if(y&&Y==R.length-1){if(i.bA)U(i.bA,Q,a,j);
if(i.vL)U(i.vL,Q,a,j);if(i.Gg)U(i.Gg,Q,a,j);if(i.Vq)U(i.Vq,Q,a,j)}if(o.ayg){if(o.bP||o.yP){U(o,s,l,j)}if(o.ih||o.Rp){U(o,H,B,j)}}else{if(o.bP||o.yP)N(Q,a,s,l,cG.pl?o.yP:o.bP,o.yt,0,j,1);
if(o.ih||o.Rp)N(Q,a,H,B,cG.pl?o.Rp:o.ih,o.yt,0,j,1)}}if(!y&&i!=null){if(i.bA)U(i.bA,H,B,j);if(i.vL)U(i.vL,H,B,j);
if(i.Gg)U(i.Gg,s,l,j);if(i.Vq)U(i.Vq,s,l,j)}};eQ.axQ=function(b,h,G,H){var B=eQ.pZ();B.fill=b.ux;B.style=!0;
e.z.Nm(b.Yn,b.Ur,b.yt,h,G,H,1,B)};eQ.a83=function(b,h,G,H){var B=eQ.pZ();B.fill=b.ux;B.style=!0;cG.z.aCw(b.Yn,b.vA,b.yt,h,G,H,1,B)};
eQ.apn=function(b,h){var G=1-h.Inpr.v.val/100,H=1+Math.tan(G*(Math.PI/2)),B=b.length;for(var Y=0;Y<B;
Y++)b[Y]=Math.min(255,Math.round(b[Y]*H))};eQ.HB=function(b,h,G,H){var B=h.blur.v.val,j=Math.round(B*(h.Ckmt.v.val/100));
if(B>j){var s=e.S_.tL(h.TrnS.v.Crv.v,256,H!=!0);e.a1k(b,s)}if(G!=null&&h.Nose.v.val>0)e.style.WB(b,h.Nose.v.val/100,G)};
eQ.JC=function(b,h,G){if(h==null)h=255;var H=e.F.an(b);if(G!=null){H.$=Math.round(H.$*G);H.B=Math.round(H.B*G);
H.J=Math.round(H.J*G)}return h<<24|H.J<<16|H.B<<8|H.$};eQ.Gj=function(b,h,G,H){var B=new Uint32Array(b.buffer);
B.fill(eQ.JC(h,G,H))};eQ.rV=function(b,h,G,H,B){var j=h.uglg&&h.uglg.v?G.lR():h[B?B:"lagl"].v.val;j=j*Math.PI/180+H;
var s=Math.cos(j)*h.Dstn.v.val,q=Math.sin(j)*h.Dstn.v.val;b.x-=Math.round(s);b.y+=Math.round(q)};eQ.auN=function(b,h){var G=b.uglg&&b.uglg.v?h.lR():b.lagl.v.val;
G=G*(Math.PI/180);var H=b.uglg&&b.uglg.v?h.dk():b.Lald.v.val;H=H*(Math.PI/180);return[G,H]};eQ.ag5=function(b){if(b==null||!b.masterFXSwitch.v)return null;
var h=b.frameFXMulti.v,G=null;for(var Y=0;Y<h.length;Y++)if(h[Y].v.enab.v)G=h[Y].v;if(G==null)return null;
var H=dE.QA.Az();eQ.aCR(G,H);return H};eQ.aCR=function(b,h){var G=dE.stroke.xh.indexOf(b.PntT.v.FrFl),H=[dE.L1,dE.WH,dE.aa][G],B=h.strokeStyleContent.v={classID:dE.QA.kR[G]};
for(var Y=0;Y<H.length;Y++)B[H[Y]]=b[H[Y]];h.strokeEnabled=b.enab;h.strokeStyleLineWidth=b.Sz;h.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dE.QA.mo[dE.stroke.types.indexOf(b.Styl.v.FStl)];
h.strokeStyleOpacity=b.Opct;h.strokeStyleBlendMode=b.Md;h.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
eQ.FA=function(b,h){var G=[];for(var Y=0;Y<b.length;Y++)G.push({t:"UntF",v:{type:"#Nne",val:b[Y]*h}});
return G};eQ.am1=function(b,h){var G=b.opacity/255*(b.add.iOpa?b.add.iOpa/255:1),H=b.add.TySh,B=b.fu()||b._5()&&b.add.vmsk&&b.add.vstk.fillEnabled.v&&b.add.vstk.strokeEnabled.v;
if(H){var j=H.HZ.EngineDict.StyleRun.RunArray,s=j[0].StyleSheet.StyleSheetData,q=0;if(s.FillFlag)q++;
if(s.StrokeFlag)q++;if(s._FillBackgroundFlag)q++;if(q>1)B=!0}return B&&(h||G!=1||b.Am!="pass"&&b.Am!="norm")};
eQ.pS=function(b,h,G,H){this.H_=h.clone();this.aDc=h.clone();this.aDc.Mx(G,G);if(H){this.H_.Mx(1,1);
this.fR=e.U(this.H_.X());e.wX(b,h,this.fR,this.H_)}else this.fR=b;this.IZ=null;this.HK=null;this.fA=null};
eQ.pS.prototype.o6=function(){return this.fR};eQ.pS.prototype.rect=function(){return this.H_};eQ.pS.prototype.oW=function(){return this.aDc};
eQ.pS.prototype.ZM=function(){if(this.IZ)return this.IZ;this.IZ=this.o6().slice(0);e.Q6(this.IZ);return this.IZ};
eQ.pS.prototype.dR=function(){if(this.HK)return this.HK;this.HK=e.style.ip(this.ZM(),this.rect().j,this.rect()._);
return this.HK};eQ.pS.prototype.GG=function(){if(this.fA)return this.fA;var b=this.oW(),h=e.U(b.X());
e.wX(this.o6(),this.rect(),h,b);var G=Date.now();this.fA=e.style.ip(h,b.j,b._);return this.fA};eQ.pS.prototype.amh=function(b,h){var G={cK:-h,xJ:b,w7:null,r1:null};
if(h==0){G.w7=this.rect();G.r1=this.dR();return G}var H=this.GG().slice(0),B=this.oW();G.w7=B;G.r1=H;
for(var Y=0;Y<H.length;Y++)H[Y]=-H[Y];if(b==0)return G;var j=this.dR(),s=this.rect();for(var q=0;q<s._;
q++)for(var Q=0;Q<s.j;Q++){var a=q*s.j+Q,l=(q+s.y-B.y)*B.j+Q+s.x-B.x;H[l]+=j[a]}return G};eQ.pS.prototype.nN=function(b,h,G){var H=Math.ceil(b+h),B={O2:this.rect().clone(),o6:null};
B.O2.Mx(H,H);B.o6=e.U(B.O2.X());if(b==0&&h==0)e.MI(G?this.o6():this.ZM(),B.o6);else{var j=e.U(B.O2.X());
e.wX(this.o6(),this.rect(),j,B.O2);if(!G)e.Q6(j);if(b!=0){if(G)e.style.$v(j,B.O2,this.GG(),this.oW(),b);
else e.style.$v(j,B.O2,this.dR(),this.rect(),b)}if(h!=0)e.Zt.QE(j,B.o6,B.O2,Math.max(1,h*.43));else B.o6=j}return B};
eQ.pS.prototype.aqn=function(b,h,G){var H=b*(h-.5),B={O2:this.rect().clone(),o6:null};if(G)B.O2.Mx(b,b);
B.o6=e.U(B.O2.X());var j=B.O2.j,s=B.O2._,q=G?this.GG():this.dR(),Q=G?this.oW():this.rect(),a=B.O2,l=a.D4(Q),j=l.j,s=l._,U=l.x-a.x,N=l.y-a.y,R=l.x-Q.x,S=l.y-Q.y,g=1-h*2;
for(var i=0;i<s;i++)for(var y=0;y<j;y++){var o=q[(i+S)*Q.j+y+R],v=o/b;B.o6[(i+N)*a.j+y+U]=Math.max(0,Math.min(255,255-255*((v+g)/(1+g))))}return B};
eQ.axo=function(b,h,G,H){var B=b.Lefx,j=b.blendOptions;if(B){var s=h.add.lmfx;if(G==null)G=s?s.Scl.v.val:100;
h.add.lmfx=JSON.parse(JSON.stringify(B.v));if(h.add.lmfx.Scl==null)h.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
eQ.K7(h.add.lmfx,G/h.add.lmfx.Scl.v.val);if(s)h.add.lmfx.Scl.v.val=s.Scl.v.val;var q=B.v.gagl;if(q&&H)H.vG(q.v.val)}else delete h.add.lmfx;
if(j){j=j.v;if(j.Md)h.Am=aq.ah(j.Md.v.BlnM);if(j.Opct)h.opacity=Math.round(j.Opct.v.val*255/100);if(j.fillOpacity)h.add.iOpa=Math.round(j.fillOpacity.v.val*255/100);
if(j.Blnd){var Q=[];for(var Y=0;Y<10;Y++)Q.push(0,0,255,255);var a=j.Blnd.v,l="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var Y=0;Y<a.length;Y++){var U=a[Y].v,N=8*["Gry","Rd","Grn","Bl"].indexOf(U.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){Q[N+R]=U[l[R]].v}}h.mj=Q}}};eQ.ae9=function(b){var h="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),G=[],H=b.mj;
for(var Y=0;Y<4;Y++){var B=Y*8;if(H[B]+H[B+1]+H[B+4]+H[B+5]==0&&H[B+2]+H[B+3]+H[B+6]+H[B+7]==4*255)continue;
var j={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Y]}}]}}};
G.push(j);for(var s=0;s<8;s++)j.v[h[s]]={t:"long",v:H[Y*8+s]}}var q={classID:"blendOptions"};if(b.Am!="norm")q.Md={t:"enum",v:{BlnM:aq.Wz(b.Am)}};
if(b.opacity!=255)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(b.opacity*100/255)}};if(b.add.iOpa!=null)q.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(b.add.iOpa*100/255)}};
if(G.length!=0)q.Blnd={t:"VlLs",v:G};var Q={es:{classID:"null",Idnt:{t:"TEXT",v:cj.pw()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},Zv:{classID:"Styl",blendOptions:{t:"Objc",v:q}}},a=b.add.lmfx;
if(a)Q.Zv.Lefx={t:"Objc",v:a};return Q};function f7(){}f7.mu=function(b){return JSON.parse(JSON.stringify(b))};
f7.C3=function(b){var h=f7.mu(f7.ag3),G=h.Brsh.v;if(b!=null){delete G.Hrdn;G.classID="sampledBrush";
G.sampledData={t:"TEXT",v:b}}return h};f7.ag3={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
f7.a1c=function(b,h){var G=["opVr","szVr"],H=["usePaintDynamics","useTipDynamics"];for(var Y=0;Y<2;Y++){var B=G[Y];
if(b[B]==null)b[B]=JSON.parse(f7.YO.mU[B]);b[B].v.bVTy.v=h[Y]?2:0;if(h[Y])b[H[Y]].v=!0}f7.YO.alI(b)};
f7.YO={};f7.YO.check=function(b){var h=f7.YO.wR;for(var Y=0;Y<h.length;Y++)if(b[h[Y]]==null)b[h[Y]]=JSON.parse(f7.YO.mU[h[Y]]);
var G=[];for(var Y=0;Y<h.length;Y++)G.push(h[Y]);var H=f7.YO.a3f;for(var Y=0;Y<H.length;Y++){var B=H[Y][0],j=H[Y][1],s=!0;
for(var q=0;q<B.length;q++)s=s&&b[B[q]].v==!0;if(s)for(var q=0;q<j.length;q++){if(b[j[q]]==null)console.log("Missing conditional parameter "+j[q]);
else G.push(j[q])}}for(var Q in b)if(G.indexOf(Q)==-1&&Q!="toolOptions")console.log("Extra parameter "+Q);
b=b.Brsh.v;h=f7.YO.sS.wR;for(var Y=0;Y<h.length;Y++)if(b[h[Y]]==null)b[h[Y]]=JSON.parse(f7.YO.sS.mU[h[Y]]);
G=[];for(var Y=0;Y<h.length;Y++)if(b[h[Y]])G.push(h[Y]);else console.log("Missing default parameter "+h[Y]);
H=f7.YO.sS.a3D[b.classID];for(var Y=0;Y<H.length;Y++)if(b[H[Y]]==null&&H[Y]!="dtipsGridSize"&&H[Y]!="dtipsErodibleTipHeightMap"&&b.a13!=1)console.log("Missing conditional parameter "+H[Y]);
else G.push(H[Y]);for(var Q in b)if(G.indexOf(Q)==-1)console.log("Extra parameter "+Q)};f7.YO.alI=function(b){var h=f7.YO.a3f;
for(var Y=0;Y<h.length;Y++){var G=h[Y][0],H=h[Y][1],B=!0;for(var j=0;j<G.length;j++)B=B&&b[G[j]]&&b[G[j]].v==!0;
if(B){for(var j=0;j<H.length;j++)if(b[H[j]]==null){b[H[j]]=JSON.parse(f7.YO.mU[H[j]])}}else for(var j=0;
j<H.length;j++)if(b[H[j]]!=null){delete b[H[j]]}}};f7.YO.sS={};f7.YO.sS.wR="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
f7.YO.sS.mU={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};f7.YO.sS.a3D={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
f7.YO.a3f=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
f7.YO.wR="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
f7.YO.mU={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function a5(b,h){this.aFh=b;this.ej=h==null?0:h;this.dir=0}a5.prototype.$X=function(b,h){var G=this.aFh,H=new cJ(b.x-G.x,b.y-G.y),B=new eq;
B.rotate(-this.ej);H=B.At(H);if(this.dir==0&&!G.TW(b))this.dir=Math.abs(H.x)<Math.abs(H.y)?1:2;if(h.W(ap.J3)){if(this.dir==1)H.x=0;
if(this.dir==2)H.y=0}B.Q6();H=B.At(H);var j=new cJ(G.x+H.x,G.y+H.y);return j};a5.prototype.a8h=function(b){if(b.W(ap.J3))return this.dir;
return 0};var aV=function(){function b(){this.ahE={}}b.a7V=function(h,G){var H=h.clone();H.Kv-=Math.floor(H.Kv);
H.d0-=Math.floor(H.d0);var B=new cJ(G,0),j=new cJ(0,G),s=H.At(B),q=H.At(j),Q=new cJ(H.Kv,H.d0);return[s,q,Q]};
b.aaJ=function(h,G){var H=cJ.o0;return H(h[0],G[0])+H(h[1],G[1])+H(h[2],G[2]);return dsum};b.prototype.anM=function(h){var G=this.ahE,H=G[h];
if(H==null)H=G[h]={jI:[],hW:0,X:0,a8j:0,amC:0};H.hW=Date.now();while(Object.keys(G).length>3){var B="",j=Date.now();
for(var s in G){var q=G[s].hW;if(q<j){j=q;B=s}}delete G[B]}return H};b.prototype.aqC=function(h,G){var H=h.jI,B,j=1e6;
for(var Y=0;Y<H.length;Y++){var s=H[Y],q=b.aaJ(s._o,G);if(q<j){B=s;j=q}}return B};b.prototype.anQ=function(h,G){var H=h.jI;
H.push(G);h.X+=G.rect.X();if(H.length>1e3||h.X>100*100*1600){console.log("pruning",h.X,H.length);H.sort(function(j,s){return s.hW-j.hW});
while(H.length>500||h.X>100*100*800){var B=H.pop();h.X-=B.rect.X()}}};return b}();function ft(b,h,G,H,B,j,s,q,Q){this.t8=h;
this.oJ=G;this.W9=j;this.Fo=H;this.ee=null;this.qk=null;this.g6=0;this.an_=0;this.at2=0;this.YL=0;this.oV=0;
this.LW=Q==null?Math.floor(Math.random()*16777215):Q;this.GS=Q==null?Math.floor(Math.random()*16777215):Q;
this.jD=new io;this.oz=new io;if(q!=null){this.Ur=q}else{var a=ft.aCQ;if(a.length!=s.X()*4)a=e.U(s.X()*4);
else a.fill(0);this.Ur=ft.aCQ=a}this.rect=s.clone();this.yK=[];this.Gx=[];this.EA=null;this.nU=0;this.J=null;
this.a1l="";this.qD=null;this.aEV(b,B)}ft.aCQ=e.U(16);ft.prototype.aEV=function(b,h){this.nU=h;this.J=b;
this.a1l=JSON.stringify(b)+JSON.stringify(this.Fo.h3);this.qD=ft.adf(this.J,this.t8,this.oJ)};ft.prototype.moveTo=function(b,h,G){G=this.ab2(G);
this.g6=G;var H=new cJ(b,h),B=this.J.Brsh.v.Dmtr.v.val;this.ee=H.clone();this.qk=H.clone();this.EA=H.clone();
this.yK=[b,h];this.Gx=[G];if(this.Fo.df!=ft.fv){var j=this.J.angleDynamics,s=j?j.v.bVTy.v==6:!1;this.nO(s?new io:this.aah(H,this.a36(G),G,new cJ(0,0)))}this.YL=H.clone()};
ft.prototype.lineTo=function(b,h,G){G=this.ab2(G);var H=this.yK,B=H.length,j=H[B-2],s=H[B-1];if(b==j&&h==s)return;
var q=this.J.Brsh.v.Dmtr.v.val,Q=Math.ceil(q)+1,a=new io(Math.round(j),Math.round(s),0,0);a.Mx(Q,Q);
var l=new io(Math.round(b),Math.round(h),0,0);l.Mx(Q,Q);this.yK.push(b,h);this.Gx.push(G);B+=2;if(B>=6)this.nO(this.ayV(B))};
ft.prototype.ab2=function(b){if(b==null)b=1;b=Math.max(.05,Math.min(5,b));if(isNaN(b)){alert("Pressure is not a number");
throw"e"}return b};ft.prototype.nO=function(b){this.jD=b;this.oz=this.oz.gJ(b)};ft.prototype.finish=function(){var b=this.yK,h=b.length,G;
if(h==4)G=this.AW(b[h-2],b[h-1],this.Gx[(h>>1)-1],!0);if(h>4)G=this.ayV(h+2);if(G)this.nO(G)};ft.prototype.Ki=function(){return this.rect.clone()};
ft.prototype.zw=function(){return this.jD.D4(this.rect)};ft.prototype.pn=function(){return this.oz.D4(this.rect)};
ft.prototype.JV=function(){return this.Ur};ft.prototype.ayV=function(b){var h=this.yK,G=this.Gx,H=h[b-6],B=h[b-5],j=h[b-4],s=h[b-3],q=G[(b>>1)-3],Q=G[(b>>1)-2],a=new cJ(0,0),l=new cJ(0,0);
if(8<=b)a=ft.aep(h[b-8],h[b-7],H,B,j,s);if(b<=h.length)l=ft.aep(h[b-2],h[b-1],j,s,H,B);var U=H+a.x,N=B+a.y,R=j+l.x,S=s+l.y,g=new io,i=this.ags()?1:10;
for(var Y=0;Y<i;Y++){var y=(Y+1)/i,o=1-y,v=o*o*o*H+3*y*o*o*U+3*y*y*o*R+y*y*y*j,Z=o*o*o*B+3*y*o*o*N+3*y*y*o*S+y*y*y*s,W=this.AW(v,Z,q+y*(Q-q));
g=g.gJ(W)}return g};ft.aep=function(b,h,G,H,B,j){var s=b-G,q=h-H,Q=B-G,a=j-H,l=Math.sqrt(s*s+q*q),U=Math.sqrt(Q*Q+a*a),N=Math.acos((s*Q+q*a)/(l*U))/Math.PI,R=.35,S=.1;
N=S+N*(R-S);var g=B-b,i=j-h,y=Math.sqrt(g*g+i*i),o=N*U/y;return new cJ(g*o,i*o)};ft.prototype.AW=function(b,h,G,H){var B=new io,j=this.Fo.aC9;
if(j==null)j=0;if(j==0||H){B=this.akg(b,h,G);return B}var s=this.EA,q=b-s.x,Q=h-s.y,a=Math.sqrt(q*q+Q*Q);
q/=a;Q/=a;if(a>j){var l=s.x+q*(a-j),U=s.y+Q*(a-j);B=this.akg(l,U,G);this.EA.ve(l,U)}return B};ft.prototype.ags=function(){var b=this.J,h=b.Brsh.v.Dmtr.v.val;
return this.Fo.h3&&h==1};ft.prototype.akg=function(b,h,G){var H=new io,B=new cJ(b,h),j=this.Fo.df,s=B.SX(this.qk);
s.normalize(1);var q=cJ.o0(this.qk,B),Q=-this.an_,a=this.qk.clone();if(this.ags()){if(q>.99){var l=this.qk;
ft.apr(l,B,this.Ur,this.rect,this.qK(this.J));H=e.N.sm([l.x,l.y,B.x,B.y]);Q=q}else B=this.qk}else while(!0){var U=this.g6+(G-this.g6)*(Math.max(0,Q)/q),N=this.a36(U),R=this.axc()*(N+this.at2)/2*this.qD.ai1;
if(j==ft.fv)R=1;R=Math.max(R,.5);if(Q+R<q){Q+=R;this.oV+=R;var S=new cJ(this.qk.x+s.x*Q,this.qk.y+s.y*Q),y=1;
if(j==ft.fv){var g=a.clone();g.x+=s.x>0?1:-1;var i=a.clone();i.y+=s.y>0?1:-1;if(cJ.o0(g,S)<cJ.o0(i,S))S=g;
else S=i;Q=cJ.o0(S,this.qk)}if(this.J.useScatter.v==!0){y=this.J.Cnt.v;var o=this.J.countDynamics.v.jitter.v.val/100,v=o*(-1+2*this.YT());
y+=Math.round(y*v)}for(var Y=0;Y<y;Y++){var Z=this.aah(S,N,G,s);H=H.gJ(Z)}a=S}else break}this.an_=q-Q;
this.qk=B;this.g6=G;return H};ft.prototype.axc=function(){var b=this.J.Brsh.v,h=b.Spcn.v.val,G=Math.max(5,b.Rndn.v.val);
return G/100*(h/100)};ft.prototype.a36=function(b){var h=this.J,G=h.Brsh.v.Dmtr.v.val;if(h.useTipDynamics.v){var H=G*(h.minimumDiameter.v.val/100);
G=H+(G-H)*(1-this.YT(this.GS)*(h.szVr.v.jitter.v.val/100));G*=ft.cw(h,"szVr",b,this.oV)}return G};ft.cw=function(b,h,G,H){var B=1,j=b[h].v,s=j.bVTy.v,q=j.fStp.v;
if(s==1)B*=Math.max(0,(q-H)/q);if(s==2)B*=G;return B};ft.prototype.aah=function(b,h,G,H){var B=this.Fo.JI,g=0;
B=Math.min(1,B);var j=this.J,s=this.J.Brsh.v,q=s.Dmtr.v.val,Q=this.Fo,a=Q.df,l=Q.a5r,U=this.qD.yr[1],N=new eq;
N.translate(-U.j/2,-U._/2);N.scale(1/this.qD.ak9,1/this.qD.ak9);N.scale(h/q,h/q);N.scale(1,Math.max(5,s.Rndn.v.val)/100);
if(j.usePaintDynamics&&j.usePaintDynamics.v){var R=j.opVr.v.jitter.v.val/100,S=j.prVr.v.jitter.v.val/100;
B*=1-this.YT()*R;B*=1-this.YT()*S;B*=ft.cw(j,"opVr",G,this.oV)*ft.cw(j,"prVr",G,this.oV)}if(j.useTipDynamics.v){var i=j.angleDynamics.v,y=j.minimumRoundness.v.val/100;
N.scale(1,y+(1-y)*Math.round(100-this.YT()*j.roundnessDynamics.v.jitter.v.val)/100);g+=(-.5+this.YT())*4*Math.PI*(i.jitter.v.val/100);
g+=ft.cw(j,"angleDynamics",G,this.oV)*2*Math.PI;if(i.bVTy.v==6)g+=Math.atan2(-H.y,H.x)}g+=s.Angl.v.val*(Math.PI/180);
N.rotate(g);if(j.useScatter.v){var o=(-1+2*this.YT())*j.scatterDynamics.v.jitter.v.val/100;N.translate(-o*h*H.y,o*h*H.x)}N.translate(b.x,b.y);
var v=this.a5H(N,b,h),Z=v.rect.clone();if(a==null){var W=this.qK(j);e.Zi(v.Je,Math.round(W.J*255)<<16|Math.round(W.B*255)<<8|Math.round(W.$*255)<<0,4278190080);
if(this.oz.Zx()&&this.rect.TW(v.rect)&&B==1)this.Ur=v.Je.slice(0);else{var d=-1,$=2,I=-1,k=2;if(!Q.hy){d=I=0;
$=k=1}for(var _=I;_<k;_++)for(var D=d;D<$;D++){var A=v.rect.clone();A.x+=D*this.rect.j;A.y+=_*this.rect._;
if(A.XR(this.rect)){Z=Z.gJ(A);e.z.a07(v.Je,A,this.Ur,this.rect,A,B)}}}}if(a==ft.fv){var F=new cJ(v.rect.x+v.rect.j/2,v.rect.y+v.rect._/2),K=Math.round(F.x-this.YL.x),V=Math.round(F.y-this.YL.y),r=v.rect.clone();
r.offset(-K,-V);var c=r.D4(this.rect);c.offset(K,V);e.JE(this.Ur,this.rect,v.Je,r);e.z.a1B(v.Je,v.rect,this.Ur,this.rect,v.zE,v.rect,B)}if(a==ft.PE||a==ft.Si||a==ft.oI){var x=v.rect.D4(this.rect),X;
if(x.TW(v.rect))X=v.zE;else{X=e.U(x.X());e.wX(v.zE,v.rect,X,x)}var M=e.U(x.X()*4);e.JE(this.Ur,this.rect,M,x);
if(a==ft.Si){var f=M.slice(0),t=e.aU.Ol([-1,-1,-1,-1,25,-1,-1,-1,-1]);e.aU.c_(M,f,x.j,x._,t,0);e.MI(f,M)}else if(a==ft.oI){var n=gY.Az("UnsM");
n.Amnt.v.val=15;n.Thsh.v=0;n.Rds.v.val=5;var f=e.U(M.length);gY.BN("UnsM",{buffer:M,rect:x},n,0,0,{buffer:f,rect:x});
e.MI(f,M)}else{gY.oS(1,e.Zt.Is,M,x)}e.z.a1B(M,x,this.Ur,this.rect,X,x,B)}this.at2=h;this.YL=F;this.GS++;
return Z};ft.prototype.qK=function(b){var h=ft.a2f(this.nU);if(b.useColorDynamics&&b.useColorDynamics.v){var G=1-this.YT()*b.clVr.v.jitter.v.val/100,H=ft.a2f(this.W9);
h.$=G*h.$+(1-G)*H.$;h.B=G*h.B+(1-G)*H.B;h.J=G*h.J+(1-G)*H.J;var B=(-.5+this.YT())*b.H.v.val/100,j=(-1+2*this.YT())*b.Strt.v.val/100,s=(-1+2*this.YT())*b.Brgh.v.val/100,q=e.j$(h.$,h.B,h.J);
q.CN=(q.CN+B+1)%1;q.Xk=q.Xk+j;if(q.Xk<0)q.Xk=-q.Xk;if(q.Xk>1)q.Xk=1-(q.Xk-1);q.ZV=q.ZV+s;if(q.ZV<0)q.ZV=-q.ZV;
if(q.ZV>1)q.ZV=1-(q.ZV-1);h=e.LM(q.CN,q.Xk,q.ZV)}return h};ft.prototype.YO=function(b){return Math.max(0,Math.min(1,b))};
ft.prototype.YT=function(b){if(b==null){b=this.LW++}return ft.hash(b)};ft.a2f=function(b){return{$:(b>>16&255)/255,B:(b>>8&255)/255,J:(b>>0&255)/255}};
ft.hash=function(b){b=b^61^b>>16;b=b+(b<<3);b=b^b>>4;b=b*668265261;b=b^b>>15;return(b&16777215)/16777215};
ft.ay5=new aV;ft.prototype.a5H=function(b,h,G){var H=Math.sqrt(this.qD.yr[1].X()),B=H*b.$K(),j=B<10?1:B<50?1.5:B<200?3:8;
if(B<30)j=0;var s=ft.ay5,q=s.anM(this.a1l),Q=this.Fo.h3,a=aV.a7V(b,H),l=s.aqC(q,a);if(l&&aV.aaJ(l._o,a)>j)l=null;
if(l){l.rect.x=Math.round(l.aoo.x+b.Kv);l.rect.y=Math.round(l.aoo.y+b.d0);l.hW=Date.now()}else{var U=Math.round(this.J.Brsh.v.Dmtr.v.val),N;
if(Q&&U<=3){N={channel:e.U(U*U),rect:new io(Math.round(h.x-U/2),Math.round(h.y-U/2),U,U)};N.channel.fill(255)}else if(b.G==1&&b.J==0&&b.YW==0&&b.tW==1){N={channel:this.qD.yr[0],rect:this.qD.yr[1].clone()};
N.rect.x=Math.round(b.Kv);N.rect.y=Math.round(b.d0)}else{if(b.$K()>1e-4)N=E.Y.pJ(this.qD.yr,b)}if(Q){for(var Y=0;
Y<N.channel.length;Y++)N.channel[Y]=N.channel[Y]>127?255:0}if(N==null)N={channel:e.U(0),rect:new io};
l={Je:e.U(N.rect.X()*4),zE:N.channel,rect:N.rect,aoo:new cJ(N.rect.x-b.Kv,N.rect.y-b.d0),_o:a,hW:Date.now()};
e.aj(l.zE,l.Je,3);if(q)s.anQ(q,l)}return l};ft.adf=function(b,h,G){var H,B,j,s=b.Brsh.v.Dmtr.v.val,q=b.Brsh.v.classID;
if(q=="computedBrush"){var Q=b.Brsh.v.Hrdn.v.val/100;B=s<100?1.4:1;j=1;H=e.aEm.axs(s,Q,B)}if(q=="sampledBrush"){var a;
for(var Y=0;Y<h.length;Y++)if(h[Y].id==b.Brsh.v.sampledData.v)a=h[Y];H=a.yr;var l=H[1];B=Math.max(l.j,l._)/s;
j=Math.min(l.j,l._)/Math.max(l.j,l._)}return{ak9:B,ai1:j,yr:H}};ft.cj=null;ft.ZI=null;ft.DB=function(b,h,G,H,B,j){var s=ft.cj,q=ft.ZI;
if(s==null){ft.cj=s=document.createElement("canvas");ft.ZI=q=s.getContext("2d")}if(j==null)j=H;if(s.width!=j||s.height!=B){s.width=j;
s.height=B}else q.clearRect(0,0,j,B);q.fillStyle="#000000";q.font=Math.floor(10*E.V())+"px sans-serif";
var Q=b.Brsh.v.Dmtr.v.val,a=""+Q,l=b.useBrushSize;if(l&&l.v)a="---";var U=q.measureText(a);q.fillText(a,(H-U.width)/2,B-2);
var N=H,R=B-10*E.V(),S=Math.min(N,R),g=b.Brsh.v.classID;if(g=="computedBrush"){q.translate(N/2,R/2);
q.rotate(-b.Brsh.v.Angl.v.val*Math.PI/180);q.scale(1,.1+.9*b.Brsh.v.Rndn.v.val/100);var i=Math.min(.95*S/2,Q/2)+.5,y=.9*b.Brsh.v.Hrdn.v.val/100,o=q.createRadialGradient(0,0,0,0,0,i);
o.addColorStop(y,"rgba(0,0,0,1)");o.addColorStop((.5+y)/1.5,"rgba(0,0,0,.5)");o.addColorStop(1,"rgba(0,0,0,0)");
q.fillStyle=o;q.fillRect(-i,-i,2*i,2*i);q.setTransform(1,0,0,1,0,0)}else if(g=="sampledBrush"){var v,I=0;
for(var Y=0;Y<h.length;Y++)if(h[Y].id==b.Brsh.v.sampledData.v)v=h[Y];var Z=v.yr;e.HL(Z);var W=Z[0],d=Z[1].j,$=Z[1]._;
while((d>N||$>R)&&Z[I+2]){I+=2;W=Z[I];d=Z[I+1].j;$=Z[I+1]._}if(d*$!=0){var k=e.U(d*$*4);e.aj(W,k,3);
var _=new ImageData(new Uint8ClampedArray(k.buffer),d,$);q.putImageData(_,Math.round((N-d)/2),Math.round((R-$)/2))}}else{}return s.toDataURL()};
ft.Dl=function(b,h,G,H){if(G==0)G=1;var B=b.Brsh.v,j=B.Dmtr.v.val,s=B.Dmtr.v.val=Math.min(H!=null?Math.round(H*2.6):3e3,j*G),q=B.Hrdn?B.Hrdn.v.val/100:1,Q=H!=null?H:Math.round(s*(1+.55*(1-q)))+4,U;
Q=Math.max(15,Math.min(Q,3e3));var a=new io(0,0,Q,Q),l=new ft(b,h,null,{JI:1},16711712,0,a);B.Dmtr.v.val=j;
l.moveTo(a.j/2,a._/2);var N=l.JV(),R=l.Ki();if(a.TW(R))U=N;else{U=e.U(a.X()*4);e.JE(N,R,U,a)}return[U,a,s]};
ft.aC6=function(b,h,G,H){var B=h.j,j=B>>>1;for(var Y=0;Y<4;Y++){var s=6-Y;b[B*(j-s)+j-1]=H;b[B*(j-s)+j]=G;
b[B*(j-s)+j+1]=H;b[B*(j+s)+j-1]=H;b[B*(j+s)+j]=G;b[B*(j+s)+j+1]=H;b[B*(j-1)+j-s]=H;b[B*j+j-s]=G;b[B*(j+1)+j-s]=H;
b[B*(j-1)+j+s]=H;b[B*j+j+s]=G;b[B*(j+1)+j+s]=H}};ft.m1=function(b,h,G,H){var B=ft.Dl(b,h,G),j=B[0].slice(0),s=B[1],q=B[2],Q=s.X(),a=e.U(Q);
e.uA(j,a,3);var l=e.U(Q);e.e.akQ(a,l,s,E.V()>1.9);if(q<3||e.jC(l,0)||H&&q>12){ft.aC6(l,s,255,0)}var U=[3,5,3,4,8,4,3,5,3];
U=e.aU.Ol(U);e.aU.Ui(l,a,s.j,s._,U);e.Zi(j,4294967295);e.aj(a,j,3);for(var Y=0;Y<Q;Y++)if(l[Y]==255){j[Y<<2]=j[(Y<<2)+1]=j[(Y<<2)+2]=0;
j[(Y<<2)+3]=255}return{jb:j,O2:s,WG:new cJ(s.j/2,s._/2)}};ft.apr=function(b,h,G,H,B){var j=4278190080|Math.round(B.J*255)<<16|Math.round(B.B*255)<<8|Math.round(B.$*255)<<0;
G=new Uint32Array(G.buffer);var s=Math.floor(b.x),q=Math.floor(b.y),Q=Math.floor(h.x),a=Math.floor(h.y),l=Math.abs(Q-s),U=Math.abs(a-q),N=s<Q?1:-1,R=q<a?1:-1,S=l-U;
while(!0){G[q*H.j+s]=j;if(s==Q&&q==a)break;var g=2*S;if(g>-U){S-=U;s+=N}if(g<l){S+=l;q+=R}}};ft.fv="0";
ft.PE="1";ft.Si="2";ft.oI="3";var jK={};jK.rk=function(b,h,G){if(G==null)G=!0;var H=b.add.TySh,B=H.HZ,j=new j0(B,h,H.AT);
b.Z5.fc=j.Hc();var s=b.Z5.path=jK.M1(j,H);if(fq!=0)return[s,j,null];var q=jK.gU(s,H.h,b_.lm(H));if(G){b.rect=q.O2;
b.buffer=q.Ur;b.c()}return[s,j,q]};jK.gU=function(b,h,G){b={Gc:b.Gc,m:b.m.slice(0)};e.N.h(b.m,h,b.m);
var H=e.N.sm(b.m),B=0;if(H.Zx())return{Ur:e.U(0),O2:new io};for(var Y=0;Y<b.Gc.length;Y++){var j=b.Gc[Y];
if(j[0]=="O"&&j[1]=="-")B=Math.max(B,parseFloat(j.split("-")[2]))}B=Math.ceil(B*h.$K()/2);H.Mx(B,B);
var s=e.tM(H.j,H._);s.translate(-H.x,-H.y);jK.av8(b,s);var q=s.getImageData(0,0,H.j,H._),Q=new Uint8Array(q.data.buffer);
if(G==0)for(var Y=0;Y<Q.length;Y+=4)Q[Y+3]=Q[Y+3]>80?255:0;if(G==3)for(var Y=0;Y<Q.length;Y+=4)Q[Y+3]=Math.min(255,Q[Y+3]*1.5);
s.resetTransform();s.beginPath();return{Ur:Q,O2:H}};jK.M1=function(b,h,G){var H=h.h,B=h.HZ;jK.YD=H.$K();
var j=b_.lm(h),s=Math.max(H.J*H.J,H.YW*H.YW)<1e-9?H:null;if(j==3||j==4)s=null;var q={Gc:[],m:[]};jK.awd(b,q,s,!0);
jK.awd(b,q,s,!1);q=jK.JT(q,h,b,G);return q};jK.YD=1;jK.JT=function(b,h,G,H){if(b==null)return b;if(G&&G.vo)e.N.h(b.m,G.vo,b.m);
if(G&&!e.hC.lv(h.If)){var B=b_.Ki(h,G);if(!B.Zx()){if(b.Gc){b=e.N.N5(b);var j=Math.min(B.j,B._)/8;if(j<1)j=1;
b=e.N.cf(b,j)}var s=e.hC.kB(h.If,B);e.ac.h(s,b.m,B)}}var q=h.h;if(H)e.N.h(b.m,q,b.m);return b};jK.av8=function(b,h){h.save();
h.miterLimit=2;Typr.U.pathToContext({crds:b.m,cmds:b.Gc},h);h.restore()};jK.Ln=function(b,h,G){var H=j0.arQ(G),B=b.HZ,j=B.ResourceDict.FontSet,s=B.ResourceDict.StyleSheetSet[0].StyleSheetData,q=B.EngineDict.StyleRun.RunLengthArray,Q=B.EngineDict.StyleRun.RunArray,a=b_.v4(B),l=!0,U={},N=0;
for(var Y=0;Y<Q.length;Y++){var R=Q[Y].StyleSheet.StyleSheetData.Font;if(R==null)R=s.Font;for(var S=0;
S<q[Y];S++){var g=a.charCodeAt(N+S),i=R+","+(g>128?g:-1);if(U[i]==null){U[i]=1;if(h.Oe(j[R].Name,g)==null)l=!1}}N+=q[Y]}return l&&H};
jK.tO=function(b,h,G){var H=!0;for(var B=0;B<b.R.length;B++){var j=b.R[B],s=j.add.TySh;if(s!=null&&!jK.Ln(s,h,G))H=!1}return H};
jK.GA=function(b,h,G){for(var H=0;H<b.R.length;H++){var B=b.R[H],j=B.add.TySh;if(j!=null&&jK.Ln(j,h,G)){jK.rk(B,h);
b.c()}}};jK.awd=function(b,h,G,H){var B=new eq;for(var Y=0;Y<b._P.length;Y++)jK.ap9(b.bJ,b._P[Y],h,B,G,H)};
jK.ap9=function(b,h,G,H,B,j){H.translate(h.ZP.x,h.ZP.y);for(var Y=0;Y<h.Yr.length;Y++){var s={},q=h.Yr[Y];
if(!q.e3)break;var Q=H.clone();Q.translate(q.ZP.x,q.ZP.y);if(B){var a=B.d0+Q.d0*B.tW;Q.d0=(Math.round(a)-B.d0)/B.tW}for(var l=q.start;
l<q.end;l++)jK.aCk(b,h.$Z[l],h,s,G,Q,j)}H.translate(-h.ZP.x,-h.ZP.y)};jK.aCk=function(b,h,G,H,B,j,s){j.translate(h.ZP.x,h.ZP.y);
for(var q=h.Ng;q<=h.jf;q++){var Q=G.Wx[q],a=Q.O2.j,l=b[G.a3v+Q.OX],U=l.g_._FillBackgroundFlag;if(l.gw=="\n"||s&&!U)continue;
var N=l.g_.FontSize/l.jh.head.unitsPerEm,R=j.clone();R.translate(Q.ZP.x+Q.Ph*N,Q.ZP.y-Q.kW*N);var S=new eq;
S.scale(N,-N);if(l.g_.FauxItalic)S.concat(new eq(1,0,-Math.tan(.18),1,0,0));S.translate(0,l.PM);S.scale(l.scale.x,l.scale.y);
if(l.g_.BaselineShift!=null)S.translate(0,-l.g_.BaselineShift);if(Q.ej!=0){S.rotate(-Q.ej)}S.concat(R);
var g=(l.g_.OutlineWidth?l.g_.OutlineWidth:1)*jK.YD;if(s){B.Gc.push(jK.qK(l.g_._FillBackgroundColor));
var i=1.005*Q.O2._/N,y=new io(-Q.Ph,-i*.27,1.03*Q.O2.j/(N*l.scale.x),i);if(l.g_.StrokeFlag)y.Mx(g/N,g/N);
e.N.concat(B,e.N.Q0(y),S);B.Gc.push("X");continue}if(l.g_.FillFlag)B.Gc.push(jK.qK(l.g_.FillColor));
if(l.g_.StrokeFlag){var o=dE.a6.ayj(l.g_);B.Gc.push(jK.ak0(o))}if(Q.path.Gc.length!=0&&l.gw!="\t"){if(l.g_.FauxBold){var v=l.g_.FontSize/2048*27*l.scale.x,Z=Math.cos(Q.ej)*v,W=Math.sin(Q.ej)*v;
S.Kv+=Z;S.d0+=W;e.N.concat(B,Q.path,S);S.Kv-=Z+Z;S.d0-=W+W;e.N.concat(B,Q.path,S)}else e.N.concat(B,Q.path,S)}if(l.gw!="\n"){var d=Q.O2.j/N;
if(l.g_.Underline){if(H.k$==null)H.k$=l.jh.post.underlineThickness;if(H.a4u==null)H.a4u=l.jh.post.underlinePosition;
var $=0,I=H.a4u-H.k$/2,k=-H.k$;e.N.concat(B,{Gc:["M","L","L","L","Z"],m:[$,I,$+d,I,$+d,I+k,$,I+k]},S)}if(l.g_.Strikethrough){var _=l.jh["OS/2"].yStrikeoutSize,D=l.jh["OS/2"].yStrikeoutPosition,$=0,I=D+_/2,k=-_;
e.N.concat(B,{Gc:["M","L","L","L","Z"],m:[$,I,$+d,I,$+d,I+k,$,I+k]},S)}}var A=l.g_.FillFlag,F=l.g_.FillFirst;
if(F==null)F=!0;if(A&&F)B.Gc.push("X");if(l.g_.StrokeFlag)B.Gc.push("OX");if(A&&!F)B.Gc.push("X")}j.translate(-h.ZP.x,-h.ZP.y)};
jK.ak0=function(b){var h=b.g9,G=["O","#"+e.Z0(e.wd({$:h[0],B:h[1],J:h[2]},1)),b.nx];G.push(b.vB,b.VV,b.dE,b.wt,b.t7.join(","));
return G.join("-")};jK.avi=function(b){var h=parseFloat,G=b.split("-"),H=e.M5(parseInt(G[1].slice(1),16));
return{g9:[H.$/255,H.B/255,H.J/255],nx:h(G[2]),vB:h(G[3]),VV:h(G[4]),dE:h(G[5]),wt:h(G[6]),t7:G[7].split(",").map(h),fJ:G[8]=="1"?2:0}};
jK.qK=function(b){return"#"+e.Z0(e.wd(b_.an(b)))};function j0(b,h,G){var H=b_.RQ(b),B,j,s=b_.B_(b),q=b._LineOrientation==2?new eq:null,U,R;
if(b.Curve)j=j0.tI(b.Curve);if(H!=0){B=new io(s[0],s[1],s[2],s[3]);if(q){var Q=B.j;B.j=B._;B._=Q;q.translate(0,-s[2])}if(H==2){B.j=j[5]-j[4];
B._=9999}}this._P=[];this.bJ=[];this.qp=H;this.vo=q;var a=this.aBq=b_.v4(b),l=-1,N=-1;for(var Y=0;Y<a.length;
Y++){var S=U,g=b_.awB(b,Y);if(g!=l){l=g;S=U=b_.a0b(b,g)}var i=R,g=b_.adS(b,Y);if(g!=N){N=g;i=R=b_.adx(b,g)}var y={gw:a.charAt(Y),g_:S,jh:null,O9:-1,eM:b_.arq(b,Y),PM:0,scale:new cJ(0,0),PV:0,lineHeight:0,ii:0},o=b.ResourceDict.FontSet[S.Font].Name,v=y.jh=h.Oe(o,a.charCodeAt(Y));
y.scale.x=S.HorizontalScale==null?1:S.HorizontalScale;y.scale.y=S.VerticalScale==null?1:S.VerticalScale;
var Z=v["OS/2"],W=v.hhea;if(S.FontCaps==1&&y.gw!=y.gw.toUpperCase()){var d=Z.sxHeight?Z.sxHeight/Z.sTypoAscender:.76;
y.scale.x*=d;y.scale.y*=d}var $=1/v.head.unitsPerEm*S.FontSize;if(S.FontBaseline==1){var d=b.ResourceDict.SuperscriptSize;
y.scale.x*=d;y.scale.y*=d;y.PM-=b.ResourceDict.SuperscriptPosition*S.FontSize}if(S.FontBaseline==2){var d=b.ResourceDict.SubscriptSize;
y.scale.x*=d;y.scale.y*=d;y.PM+=b.ResourceDict.SubscriptPosition*S.FontSize}y.PV=j0.PV(v)*S.FontSize;
var I=i.AutoLeading;y.lineHeight=S.FontSize*(I==null?1.2:I);if(S.AutoLeading==!1)y.lineHeight=S.Leading;
if(y.gw=="\n"&&a[Y-1]!="\n")y.lineHeight=0;if(y.lineHeight==0)y.lineHeight=.01;this.bJ.push(y)}var k=this._P,_=[0];
for(var Y=0;Y<b.EngineDict.ParagraphRun.RunLengthArray.length;Y++){var D=new j0.gj(b,h,this.bJ,Y,B,_,H==1?j:null);
k.push(D)}if(q){if(H==0)q.translate(0,k[0].$Z[0].PV/2);q.rotate(-Math.PI/2)}if(H==2){var A=b.Curve.Points,F=j[0],K=j[1],V=j[2],r=j[3],c=j[4],x=j[5];
for(var Y=0;Y<k.length;Y++)for(var X=0;X<k[Y].Yr.length;X++)if(!(Y==0&&X==0))k[Y].Yr[X].e3=!1;var D=k[0],M=D.Yr[0];
D.ZP.ve(0,0);M.ZP.ve(0,0);for(var X=M.start;X<M.end;X++){var f=D.$Z[X],t=f.ZP.x;f.ZP.x=0;for(var n=f.Ng;
n<=f.jf;n++){var L=D.Wx[n],P=L.O2.j/2;L.ZP.x+=t;var z=j0.a9d(F,(c+L.ZP.x+P)%r);L.ZP.x=z[0]-P*z[2];L.ZP.y=z[1]-P*z[3];
L.ej=Math.atan2(z[3],z[2])}}}if(G){var T=G.VAlign.v;if(T!=0&&b_.RQ(b)==1){var p=b_.B_(b)[3],m=this.Hc()._,O=0;
if(T==1)O=p-m;if(T==2)O=(p-m)/2;for(var Y=0;Y<this._P.length;Y++)this._P[Y].ZP.y+=O}}}j0.PV=function(b){var h=b._hhhh;
if(h==null){var G=Typr.U,H=G.codeToGlyph(b,104),B=e.N.MP(Typr.U.glyphToPath(b,H).crds)._;h=b._hhhh=B*(1/b.head.unitsPerEm)}return h};
j0.prototype.arx=function(){return!this.aDD(0)};j0.prototype.a9I=function(){return this.aDD(1)};j0.prototype.aDD=function(b){var h=this._P,G=!0,H=0;
for(var Y=0;Y<h.length;Y++){var B=h[Y].Yr,j=B.length;H+=j;for(var s=0;s<j;s++)G&=B[s].e3}return[G,H][b]};
j0.tI=function(b,h,G){if(h==null)h=.25;var H=b.Points,B=H.length,j=B>>>3,s=b.TextOnPathTRange,q=b.Reversed,N=0,R=0;
if(q){var Q=H.slice(0);for(var Y=0;Y<B;Y+=2){Q[Y]=H[B-2-Y];Q[Y+1]=H[B-1-Y]}H=Q;s=[j-s[1]%j,j-s[0]%j]}var a=[],l=[0],U=[0];
for(var Y=0;Y<B;Y+=8){var S=H[Y+6]-H[Y+0],g=H[Y+7]-H[Y+1],i=Math.round(Math.sqrt(S*S+g*g)/h),y=G&&Y==B-8?i+1:i;
for(var o=0;o<y;o++){var v=o/i,Z=1-v,W=Z*Z*Z*H[Y+0]+3*Z*Z*v*H[Y+2]+3*Z*v*v*H[Y+4]+v*v*v*H[Y+6],d=Z*Z*Z*H[Y+1]+3*Z*Z*v*H[Y+3]+3*Z*v*v*H[Y+5]+v*v*v*H[Y+7];
a.push(W,d);if(Y+o!=0){var S=W-N,g=d-R;U.push(U[U.length-1]+Math.sqrt(S*S+g*g));l.push((Y>>>3)+v)}N=W;
R=d}}var h=U.length,$=U[h-1],I=j0.Tv(s[0]%j,l),k=j0.Tv(s[1]%j,l),_=U[I%h],D=U[k%h];if(_>=D)D+=$;return[a,l,U,$,_,D]};
j0.Tv=function(b,h){var Y=0;while(h[Y]<b)Y++;return Y};j0.a9d=function(b,h){var G=0,Y=0,H,B,j;while(G<h){H=b[Y+2]-b[Y];
B=b[Y+3]-b[Y+1];j=Math.sqrt(H*H+B*B);G+=j;Y+=2}return[b[Y],b[Y+1],H/j,B/j]};j0.prototype.akG=function(b){return this.bJ[b]};
j0.prototype.aD7=function(b){for(var h=0;h<this._P.length;h++){var G=this._P[h];for(var H=0;H<G.Yr.length;
H++){var B=G.Yr[H],j=G.$Z[B.start].start,s=G.$Z[B.end-1].end;if(j<b&&b<s)return[j,s-1]}}return[0,1]};
j0.prototype.ad6=function(b,h){var G=-1,H=this._P;if(this.qp==2){var B=1e9,j=0,s=H[0],q=s.Yr[0];for(var Q=q.start;
Q<q.end;Q++){var a=s.$Z[Q];for(var l=a.Ng;l<=a.jf;l++){var U=s.Wx[l],N=U.O2.j,R=b.x-U.ZP.x,S=b.y-U.ZP.y,g=R*R+S*S;
if(g<B){B=g;j=U.OX}}}if(j!=0&&this.aBq.codePointAt(j-1)>65535)j--;return j}for(var i=0;i<H.length;i++){var s=H[i];
for(var y=0;y<s.Yr.length;y++){G++;var q=s.Yr[y],o=s.Yr[y+1];if(o==null&&i<H.length-1)o=H[i+1].Yr[0];
if(h!=null){if(G!=h)continue}else{if(o!=null&&s.ZP.y+q.ZP.y<b.y)continue}for(var Q=q.start;Q<q.end;Q++){var a=s.$Z[Q];
for(var l=a.Ng;l<=a.jf;l++){var U=s.Wx[l],N=U.O2.j,v=s.ZP.x+q.ZP.x+a.ZP.x,Z=v+U.ZP.x,W=v+(l<a.jf?s.Wx[l+1].ZP.x:U.ZP.x+N);
if(b.x<=W||Q+1==q.end&&l==a.jf){var d=s.a3v+U.OX,$=this.bJ[d],I=$.ii&1;if($.gw!="\n"&&(I==0&&b.x>Z+N/2||I==1&&b.x<Z+N/2))d+=this.aBq.codePointAt(d)>65535?2:1;
return d}}}}}};j0.prototype.dJ=function(b){var h={O2:new io,PJ:0},G=0;for(var H=0;H<this._P.length;H++){var B=this._P[H];
for(var j=0;j<B.Yr.length;j++){var s=B.Yr[j];h.PJ=G;G++;for(var q=s.start;q<s.end;q++){var Q=B.$Z[q];
for(var a=Q.start;a<Q.end;a++){if(a==b){var l=this.bJ[a],U=l.O9,N=B.Wx[U].OX,R=1;while(B.Wx[U]!=null&&B.Wx[U].OX==N){var S=B.Wx[U],g=B.ZP.x+s.ZP.x+Q.ZP.x+S.ZP.x,i=B.ZP.y+s.ZP.y+Q.ZP.y+S.ZP.y;
h.O2=h.O2.gJ(new io(g,i-l.lineHeight,S.O2.j,l.lineHeight));h.ej=S.ej;U+=R}return h}}}}}};j0.prototype.Hc=function(){var b=Infinity,h=Infinity,G=-Infinity,H=-Infinity;
for(var Y=0;Y<this._P.length;Y++){var B=this._P[Y];for(var j=0;j<B.Yr.length;j++){var s=B.Yr[j];if(!s.e3)break;
for(var q=s.start;q<s.end;q++){var Q=B.$Z[q];for(var a=Q.Ng;a<=Q.jf;a++){var l=B.Wx[a],U=l.O2,N=B.ZP.x+s.ZP.x+Q.ZP.x+l.ZP.x,R=B.ZP.y+s.ZP.y+Q.ZP.y+l.ZP.y;
b=Math.min(b,N+U.x);h=Math.min(h,R+U.y);G=Math.max(G,N+U.x+U.j);H=Math.max(H,R+U.y+U._)}}}}return new io(b,h,G-b,H-h)};
j0.l6=function(b){return 19968<=b&&b<=40959||12288<=b&&b<=12543};j0.bW=function(b,h,G,H,B,j,s){var q=[j],Q=0;
for(var Y=j;Y<s;Y++){if(G[Y]==null)console.log(Y,j,s,G);var a=G[Y].gw,l=a.charCodeAt(0);if(l==32||l==9){q.push(Q,Y,1,Y+1);
Q=0}else if(l==3851){q.push(Q+1,Y+1);Q=0}else if(j0.l6(l)){q.push(Q,Y);Q=1}else if(Y!=j&&G[Y].ii!=G[Y-1].ii){q.push(Q,Y);
Q=1}else Q++}q.push(Q);var U=[];for(var Y=0;Y<q.length;Y+=2){var N=q[Y],R=q[Y+1];if(R==0)continue;U.push(new j0.anR(b,h,G,H,B,N,R))}return U};
j0.av4=function(b,h,G,H,B,j,s){var q=[0,h?h.j:1e9],Q=[];if(H){var a=b[j].PV,l=B+(B==0?a:b[j].lineHeight),U=l-a*.9,N=e.N.aq9(H[0],U),R=N.length,S=e.N.aq9(H[0],l),g=S.length;
if(R!=0&&g!=0){var i=0,y=0,o=[];while(i<R&&y<g){var v=Math.max(N[i],S[y]),Z=N[i+1],W=S[y+1],d=Math.min(Z,W);
if(v<d)o.push(v,d);if(Z<W)i+=2;else y+=2}if(o.length!=0)q=o}}for(var $=0;$<q.length;$+=2){var I=0,k=j,_=h?q[$+1]-q[$]-G.StartIndent-G.EndIndent-(j==0?G.FirstLineIndent:0):Infinity;
while(j!=b.length){var D=b[j],A=I==0||(D.YH||D.pv)||I+D.O2.j<_;if(!A)break;I+=D.O2.j;j++}Q.push(j-k)}s[0]=Q;
s[1]=q;s[2]=j};j0.a2d=function(b,h){var G=b.length,H=new Uint32Array(G),B=new Uint8Array(G),j=0;for(var Y=0;
Y<G;Y++){B[Y]=0;var s=b.charCodeAt(Y);H[Y]=s;if(s>j)j=s}if(j>1424)B=j0.ame(H,h);return B};j0.a7U=function(b){return b=="ß"?b:b.toUpperCase()};
j0.gj=function(b,h,G,H,B,j,s){this.$Z=[];this.Yr=[];this.ZP=new cJ(0,0);this.Wx=null;this.$Z=null;this.g_=b_.adx(b,H);
var q=this.g_,U=0,S="",v=0,Z=1,n=0;if(H!=0){var Q=q.SpaceBefore;if(Q!=null)j[0]+=Q}var a=b.EngineDict.ParagraphRun.RunLengthArray,l=a[H];
for(var Y=0;Y<H;Y++)U+=a[Y];var N=q._Direction?q._Direction:0;this.a3v=U;var R=b_.v4(b).slice(U,U+l);
for(var g=0;g<R.length;g++){var i=R.charAt(g);S+=G[U+g].g_.FontCaps==0?i:j0.a7U(i)}R=S;var y=j0.a2d(R,N),o=[],W=y[0]&1,d=G[U].jh;
G[U].ii=y[0];for(var Y=1;Y<R.length;Y++){var i=G[U+Y],$=y[Y];i.ii=$;if($!=W||i.jh!=d){o.push(v,Z);v=Y;
Z=1;W=$;d=i.jh}else Z++}o.push(v,Z);var I=this.Wx=[];for(var Y=0;Y<o.length;Y+=2){var k=o[Y],_=o[Y+1],D=(G[U+k].ii&1)==0,A=R.slice(k,k+_),F=Typr.U.shapeHB(G[U+k].jh,A,D),K=[],c=0;
for(var g=0;g<F.length;g++){var V=F[g];K.push({B:V.g,OX:V.cl,_V:V.ax,ZO:V.ay,Ph:V.dx,kW:V.dy})}F=K;var r=F.slice(0);
if(!D)r.reverse();for(var g=0;g<A.length;g++){while(c+1<r.length&&r[c+1].OX<=g){c++}while(c>0&&r[c-1].OX==g)c--;
G[U+k+g].O9=I.length+(D?c:r.length-c-1)}for(var g=0;g<F.length;g++){I.push(F[g]);F[g].OX+=k;var i=G[U+F[g].OX];
if(i.eM!=-1&&i.eM<i.jh.maxp.numGlyphs){F[g].B=i.eM;var x=i.jh.hmtx;if(x){var X=Object.keys(x)[0];F[g]._V=x[X][i.eM]}}if(i.gw=="\n")F[g]._V=0;
if(i.gw=="\t")F[g]._V=i.jh.head.unitsPerEm*36/i.g_.FontSize}}var M=b_.kg(q),f=this.$Z=j0.bW(b,h,G,U,I,U,U+l),t=this.Yr,L=-1,S=[null,null,0];
while(n<f.length){j0.av4(f,B,q,s,j[0],n,S);L++;var P={start:n,end:0,O2:new io,ZP:new cJ(0,0),e3:!0},cx=0,hP=0;
t.push(P);P.end=S[2];if(P.start==P.end)throw"e";var z=P.end==f.length;function T(r,k,cc){var aO=cc-k>>>1;
for(var Y=0;Y<aO;Y++){var bZ=r[k+Y];r[k+Y]=r[cc-1-Y];r[cc-1-Y]=bZ}}for(var p=1;p<5;p++){var m=-1;for(var Y=P.start;
Y<P.end;Y++){var $=G[f[Y].start].ii;if(m==-1&&$>=p)m=Y;else if(m!=-1&&$<p){T(f,m,Y);m=-1}}var O=P.end;
if(N==0&&f[O-1].YH)O--;if(m!=-1)T(f,m,O)}var cb=S[0],cX=S[1],m=n,e$=n;for(var fz=0;fz<cX.length;fz+=2){var eC=B?cX[fz+1]-cX[fz]-q.StartIndent-q.EndIndent-(n==0?q.FirstLineIndent:0):Infinity,hw=0;
m=e$;e$+=cb[fz>>>1];var az=this.a43(m,e$,f,N,B!=null);if(B){if(M==1||z&&M==4)hw=az[1]+(eC-az[0]);if(M==2||z&&M==5)hw=az[1]+(eC-az[0])/2;
if(e$-m==1&&f[m].O2.j>eC)hw=0;if(L==0)hw+=q.FirstLineIndent;hw+=q.StartIndent}else{if(M==0)hw=q.StartIndent+q.FirstLineIndent;
if(M==1)hw=-az[0]-q.EndIndent;if(M==2)hw=-az[0]/2}hw+=cX[fz];if(B&&M>2&&(M==6||!z))this.anh(m,e$,f,eC,N,hw);
else{var av=hw;for(var Y=m;Y<e$;Y++){var ia=f[Y],iJ=ia.O2.j;ia.ZP.x=av;if(ia.yD=="\t")iJ=Math.ceil((av+4)/36)*36-av;
av+=iJ}}}n=P.end;for(var Y=P.start;Y<P.end;Y++){var iS=f[Y].O2.clone();iS.a3P(f[Y].ZP);P.O2=P.O2.gJ(iS);
cx=Math.max(cx,f[Y].PV);hP=Math.max(hP,f[Y].lineHeight)}P.ZP.y=L==0?0:t[L-1].ZP.y+hP;if(L==0){if(H==0&&B)j[0]+=cx;
if(H!=0)j[0]+=hP;this.ZP.y=j[0]}else j[0]+=hP;if(B)P.e3=this.ZP.y+P.ZP.y<B.y+B._||H==0&&L==0}var e4=q.SpaceAfter;
if(e4!=null)j[0]+=e4};j0.gj.prototype.a43=function(b,h,G,H,B){var j=0,s=0;for(var Y=b;Y<h;Y++)j+=G[Y].O2.j;
if(B){if(H==0)for(var Y=h-1;Y>=b;Y--)if(G[Y].YH||G[Y].pv)j-=G[Y].O2.j;else break;if(H==1)for(var Y=b;
Y<h;Y++)if(G[Y].YH||G[Y].pv){var q=G[Y].O2.j;j-=q;s-=q}else break}return[j,s]};j0.gj.prototype.anh=function(b,h,G,H,B,j){var s=0,q=0,Q=0,a=0;
for(var Y=b;Y<h;Y++)if(G[Y].YH)Q++;else{s+=G[Y].O2.j;q++}if(B==0)for(var Y=h-1;Y>=b;Y--)if(G[Y].YH||G[Y].pv){if(G[Y].YH){Q--}}else break;
if(B==1)for(var Y=b;Y<h;Y++)if(G[Y].YH||G[Y].pv){if(G[Y].YH){Q--;a++}}else break;if(q<=1||Q==0){if(q==1)G[b].ZP.x=j;
return}var l=(H-s)/Q,U=-a*l;for(var Y=b;Y<h;Y++){if(G[Y].YH)this.Wx[G[Y].Ng].O2.j=G[Y].O2.j=l;G[Y].ZP.x=j+U;
U+=G[Y].O2.j}};j0.anR=function(b,h,G,H,B,j,s){this.yD="";for(var Y=0;Y<s;Y++)this.yD+=G[j+Y].gw;this.YH=s==1&&(G[j].gw==" "||G[j].gw=="\t");
this.pv=s==1&&G[j].gw=="\n";this.start=j;this.end=j+s;this.O2=new io;this.ZP=new cJ(0,0);this.PV=0;this.lineHeight=0;
var q=0,Q=0;if(s==0){this.lineHeight=G[j].lineHeight;this.PV=G[j].PV;this.O2=new io(0,-G[j].lineHeight,0,G[j].lineHeight)}var a=G[j].O9,l=G[j+s-1].O9;
if(l<a){var U=a;a=l;l=U}while(l+1<B.length&&B[l].OX==B[l+1].OX){l++}this.Ng=a;this.jf=l;for(var N=a;
N<=l;N++){var R=B[N],S=G[H+R.OX],g=b._LineOrientation==2&&(S.g_.BaselineDirection!=2||j0.l6(S.gw.charCodeAt(0))),i=Typr.U.glyphToPath(S.jh,R.B),W=0;
R.path={Gc:i.cmds,m:i.crds};var y=S.g_.FontSize,o=1/S.jh.head.unitsPerEm*y;if(!S.g_.AutoKerning)q+=S.g_.Kerning*2*o*S.scale.x;
R.ZP=new cJ(q,0);R.ej=0;if(g&&R.path.m.length>0){R.ej=-Math.PI/2;R.ZP.x+=y*.83;R.ZP.y=-y*.3+R._V*o/2;
R._V=y/o}var v=R._V*o*S.scale.x;R.O2=new io(0,-S.lineHeight,v,S.lineHeight);var Z=R.O2.clone();Z.a3P(R.ZP);
if(S.g_.Tracking!=null)W=S.g_.Tracking*.001*y;if(S.g_.FauxBold==!0)W+=.027*y;q+=v+W;if(N<B.length-2)R.O2.j+=W;
if(s==1&&S.gw==" "){Z.j+=2*W;R.ZP.x+=W}else if(s==1&&S.gw!=null&&j0.l6(S.gw.charCodeAt(0)))Z.j+=W;this.O2=this.O2.gJ(Z);
this.PV=Math.max(this.PV,S.PV);this.lineHeight=Math.max(this.lineHeight,S.lineHeight)}};j0._8=0;j0.arQ=function(b){if(j0._8==2)return!0;
if(j0._8==1)return!1;j0._8=1;function h(){fetch(fH.J5("code/ext/fribidi.wasm")).then(function(G){return G.arrayBuffer()}).then(function(G){return WebAssembly.instantiate(G)}).then(function(G){var H=G.instance.exports,B=H.memory,j=16,s=256,q=1,Q=j|s,a=j|s|q;
j0.ame=function(U,N){var R=U.length,S=R*4+4+R*4+R*4+R;aT.Q1(H,S+R+1e7);var g=new Uint8Array(B.buffer),i=new Uint32Array(B.buffer),y=H.calloc(S,1),o=y+R*4,v=o+4,Z=v+R*4,W=Z+R*4;
i.set(U,y>>>2);i[o>>>2]=N==0?Q:a;H.fribidi_get_bidi_types(y,R,v);H.fribidi_get_bracket_types(y,R,v,Z);
H.fribidi_get_par_embedding_levels_ex(v,Z,R,o,W);var d=g.slice(W,W+R);H.free(y);return d};j0._8=2;var l=new hb(w.E.b,!0);
l.data={q:w.p.wP,hb:"add",CI:ec.ML,U$:null};b.Q(l)})}Typr.U.initHB(fH.J5("code/ext/hb.wasm"),h);return!1};
function b_(){}b_.mu=function(b){return JSON.parse(JSON.stringify(b))};b_.IR=function(b,h){for(var G in h)b[G]=h[G]};
b_.V0=function(b,h,G,H){var B=b_.a7j();if(G)b_.V1(B,0,0,G);var j=new eq;if(H!=null)j.rotate(H);j.translate(Math.round(b),Math.round(h));
var s={h:j,HZ:B};s.AT=b_.ahO();s.If=e.hC.U();s.In=new io;return s};b_.adF=function(b){var h=["CharacterDirection",0];
for(var Y=0;Y<h.length;Y+=2){if(b[h[Y]]!=null&&b[h[Y]]!=h[Y+1]){throw"e";console.log(h[Y],b[h[Y]])}}if(b instanceof Array)for(var Y=0;
Y<b.length;Y++)b_.adF(b[Y]);else if(b instanceof Object)for(var G in b)b_.adF(b[G])};b_.kg=function(b,h){if(h==null)h=b.Justification;
var G=b._Direction?b._Direction:0;if(G==1){if(h==0||h==3)h++;else if(h==1||h==4)h--}return h};b_.hl=function(b){if(b.add==null)return;
var h=b.HZ,G=h.Curve,H=b.add.vmsk,B=H.d,j=e.N.nT(B,2).m,s=b.h.clone();s.Q6();e.N.h(j,s,j);var q=j.slice(0,8);
for(var Q=8;Q<j.length;Q+=6)q.push(j[Q-2],j[Q-1],j[Q],j[Q+1],j[Q+2],j[Q+3],j[Q+4],j[Q+5]);G.Points=q;
G.TextOnPathTRange=H.VD.slice(0);G.Reversed=H.Wa;if(b_.RQ(h)==1){var G=j0.tI(h.Curve),a=e.N.MP(G[0]);
b_.A6(h,[0,0,a.j,a._].map(Math.round));for(var Y=0;Y<q.length;Y+=2){q[Y]-=a.x;q[Y+1]-=a.y}var l=new eq(1,0,0,1,a.x,a.y);
l.concat(b.h);b.h=l}};b_.hz=function(b){if(b.add==null)return;var h=b.add.vmsk,G=b.HZ.Curve,H=G.Points,B={Gc:["M"],m:[H[0],H[1]]};
for(var Y=0;Y<H.length;Y+=8){B.Gc.push("C");B.m.push(H[Y+2],H[Y+3],H[Y+4],H[Y+5],H[Y+6],H[Y+7])}e.N.h(B.m,b.h,B.m);
var j=e.N.zv(B,!0);h.d=j;h.Wa=G.Reversed;h.VD=G.TextOnPathTRange.slice(0);b.add.vogk=C.AA(j)};b_.an=function(b){var h={$:0,B:0,J:0};
if(b){var G=b.Values;if(b.Type==1)h={$:G[1]*255,B:G[2]*255,J:G[3]*255};else if(b.Type==2){var H={classID:"CMYC",Cyn:{t:"doub",v:G[1]*100},Mgnt:{t:"doub",v:G[2]*100},Ylw:{t:"doub",v:G[3]*100},Blck:{t:"doub",v:G[4]*100}};
h=e.F.an(H)}else console.log("Unknown color type")}return h};b_.a2Y=function(b){for(var Y=0;Y<b.length;
Y++){var h=b[Y].StyleSheet.StyleSheetData,G=h.FillColor;if(G&&G.Type==2){var H=b_.an(G);G.Type=1;G.Values=[1,H.$/255,H.B/255,H.J/255]}}};
b_.Ki=function(b,h){var G;if(b_.RQ(b.HZ)==1){var H=b_.B_(b.HZ);G=new io(0,0,H[2]-H[0],H[3]-H[1])}else{G=h.Hc();
if(h.vo){var B=h.vo.clone(),j=e.N.Q0(G);e.N.h(j.m,B,j.m);G=e.N.MP(j.m)}}return G};b_.Z$=function(b){var h=b[0];
for(var Y=0;Y<b.length;Y++)h=b_.agD(h,b[Y]);return h};b_.agD=function(b,h){var G={};for(var H in b)if(JSON.stringify(b[H])==JSON.stringify(h[H]))G[H]=b[H];
return G};b_.HC=function(b,h){var G=b.uh,H=-1;for(var Y=0;Y<G.length;Y++)if(G[Y].Name==h)H=Y;if(H==-1){H=G.length;
G.push({FontType:1,Name:h,Script:0,Synthetic:0})}b.bJ.Font=H};b_.v4=function(b){return b.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
b_.V3=function(b,h){b.EngineDict.Editor.Text=h.replace(/\n/g,"\r")};b_.RQ=function(b){return b.Curve&&b.Curve.TextOnPathTRange[0]>=0?2:b.EngineDict.Rendered.Shapes.Children[0].ShapeType};
b_.vj=function(b,h){var G=b.EngineDict.Rendered.Shapes.Children[0];G.ShapeType=h;var H=G.Cookie.Photoshop;
H.ShapeType=h;H.Base.ShapeType=h;if(h==0){delete H.BoxBounds;H.PointBase=[0,0]}if(h==1){delete H.PointBase;
H.BoxBounds=[0,0,1,1]}};b_.B_=function(b){return b.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
b_.A6=function(b,h){b.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=h};b_.arq=function(b,h){var G=b.EngineDict.AlternateGlyphRun;
if(G==null)return-1;var H=b_.hM(G.RunLengthArray,h).dD;if(G.RunArray[H]==null)return-1;var B=G.RunArray[H].Glyph;
return B==null?-1:B};b_.aC5=function(b,h,G){var H=b.EngineDict.AlternateGlyphRun;if(H==null){H=b.EngineDict.AlternateGlyphRun=b_.atQ();
H.RunArray.push({});H.RunLengthArray.push(b_.v4(b).length)}var B=b_.hM(H.RunLengthArray,h),j=B.dD,s=h-B.x9,q=H.RunArray[j],Q=JSON.stringify(q),a=H.RunLengthArray[j];
if(s!=0){H.RunArray.splice(j,0,JSON.parse(Q));H.RunLengthArray.splice(j,0,s);H.RunLengthArray[j+1]-=s;
j++;a-=s;s=0}if(a!=1){H.RunArray.splice(j+1,0,JSON.parse(Q));H.RunLengthArray.splice(j+1,0,a-1);H.RunLengthArray[j]=1;
a=1}q.Glyph=G};b_.awB=function(b,h){var G=b.EngineDict.StyleRun.RunLengthArray;return b_.hM(G,h).dD};
b_.a0b=function(b,h){var G=b.ResourceDict.StyleSheetSet[0].StyleSheetData,H={};for(var B in G)H[B]=G[B];
var j=b.EngineDict.StyleRun.RunArray[h].StyleSheet.StyleSheetData;b_.IR(H,j);return H};b_.adS=function(b,h){var G=b.EngineDict.ParagraphRun.RunLengthArray;
return b_.hM(G,h).dD};b_.adx=function(b,h){var G=b.ResourceDict.ParagraphSheetSet[0].Properties,H={};
for(var B in G)H[B]=G[B];var j=b.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;b_.IR(H,j);
var s=["StartIndent","EndIndent","FirstLineIndent"];for(var Y=0;Y<3;Y++)if(H[s[Y]]==null)H[s[Y]]=0;return H};
b_.ph=function(b,h,G){if(G=="")return;var H=b_.v4(b);b_.V3(b,H.substring(0,h)+G+H.substring(h,H.length));
var B=b.EngineDict.StyleRun,j=B.RunLengthArray,s=b_.hM(j,h-1);j[s.dD]+=G.length;var q=b.EngineDict.AlternateGlyphRun;
if(q){var j=q.RunLengthArray,s=b_.hM(j,h-1);j[s.dD]+=G.length}var Q=b.EngineDict.ParagraphRun,j=Q.RunLengthArray,a=b_.hM(j,h),l=G.split("\n");
if(l.length==1){j[a.dD]+=G.length;return}j.splice(a.dD+1,0,j[a.dD]-(h-a.x9));Q.RunArray.splice(a.dD+1,0,b_.mu(Q.RunArray[a.dD]));
j[a.dD]-=j[a.dD+1];j[a.dD]+=l[0].length+1;for(var Y=1;Y<l.length-1;Y++){Q.RunArray.splice(a.dD+Y,0,b_.mu(Q.RunArray[a.dD+Y-1]));
Q.RunLengthArray.splice(a.dD+Y,0,l[Y].length+1)}j[a.dD+l.length-1]+=l[l.length-1].length};b_.Dj=function(b,h,G){var H=b_.v4(b);
b_.V3(b,H.substring(0,h)+H.substring(G,H.length));b_.z6(b.EngineDict.ParagraphRun,h,G,!0);b_.z6(b.EngineDict.StyleRun,h,G,!1);
var B=b.EngineDict.AlternateGlyphRun;if(B)b_.z6(B,h,G,!1)};b_.z6=function(b,h,G,H){var B=b.RunLengthArray,j=b_.hM(B,h),s=b_.hM(B,G),q=[];
for(var Y=0;Y<B.length;Y++)for(var Q=0;Q<B[Y];Q++)q.push(Y);q.splice(h,G-h);var a=[];for(var Y=0;Y<B.length;
Y++)a.push(0);for(var Y=0;Y<q.length;Y++)a[q[Y]]++;for(var Y=0;Y<B.length;Y++){if(a[Y]==0){a.splice(Y,1);
B.splice(Y,1);b.RunArray.splice(Y,1);Y--}else if(a[Y]<B[Y])B[Y]=a[Y]}if(H&&j.dD!=s.dD&&j.x9!=h){B[j.dD]+=B[j.dD+1];
B.splice(j.dD+1,1);b.RunArray.splice(j.dD+1,1)}};b_.V1=function(b,h,G,H){var B=b.EngineDict.Editor.Text.length;
if(G==B-2)G++;if(H.bJ.Font!=null)b.ResourceDict.FontSet=H.uh.slice(0);if(h<=G)b_.a6z(b.EngineDict.StyleRun,H.bJ,h,G,!0);
b_.a6z(b.EngineDict.ParagraphRun,H._P,h,G,!1)};b_.XN=function(b,h,G){var H={uh:b.ResourceDict.FontSet.slice(0),bJ:[],_P:[]},B=b.EngineDict.StyleRun.RunLengthArray,j=b_.hM(B,h).dD,s=b_.hM(B,G).dD;
for(var Y=j;Y<=s;Y++){var q=b_.mu(b.ResourceDict.StyleSheetSet[0].StyleSheetData),Q=b.EngineDict.StyleRun.RunArray;
if(Q.length==0)continue;var a=Q[Y].StyleSheet.StyleSheetData;b_.IR(q,a);H.bJ.push(q)}var l=b.EngineDict.ParagraphRun.RunLengthArray,U=b_.hM(l,h).dD,N=b_.hM(l,G).dD;
for(var Y=U;Y<=N;Y++){var R=b.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;H._P.push(b_.mu(R[Y].ParagraphSheet.Properties))}H.bJ=H.bJ.length==0?{}:b_.Z$(H.bJ);
H._P=H._P.length==0?{}:b_.Z$(H._P);return H};b_.a6z=function(b,h,G,H,B){var j=b.RunLengthArray;if(B){var s=b_.hM(j,G);
if(s.x9!=G){var q=j[s.dD];j.splice(s.dD,0,G-s.x9);j[s.dD+1]=q-j[s.dD];b.RunArray.splice(s.dD+1,0,b_.mu(b.RunArray[s.dD]))}var Q=b_.hM(j,H);
if(Q.x9+j[Q.dD]-1!=H){var q=j[Q.dD];j.splice(Q.dD,0,H-Q.x9+1);j[Q.dD+1]=q-j[Q.dD];b.RunArray.splice(Q.dD+1,0,b_.mu(b.RunArray[Q.dD]))}}var s=b_.hM(j,G),Q=b_.hM(j,H);
if(B)for(var Y=s.dD;Y<=Q.dD;Y++)b_.IR(b.RunArray[Y].StyleSheet.StyleSheetData,h);else for(var Y=s.dD;
Y<=Q.dD;Y++)b_.IR(b.RunArray[Y].ParagraphSheet.Properties,h)};b_.aBA=function(b,h,G){var H=b.EngineDict.StyleRun.RunLengthArray,B=[],j=0;
for(var Y=0;Y<H.length;Y++){var s=H[Y];for(var q=0;q<s;q++)if(h<=j+q&&j+q<G)B.push(Y);j+=s}var Q=B[0],a=[];
for(var Y=0;Y<B.length;Y++){var l=B[Y]-Q;if(l==a.length)a.push(0);a[l]++}return a};b_.awH=function(b){var h=b.EngineDict.StyleRun,G=h.RunArray,H=h.RunLengthArray;
for(var Y=0;Y<H.length-1;Y++){var B=G[Y].StyleSheet.StyleSheetData,j=G[Y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(B)==JSON.stringify(j)){G.splice(Y+1,1);H[Y]+=H[Y+1];H.splice(Y+1,1);Y--}}};b_.lm=function(b){var h=b.AT.AntA.v.Annt;
h=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(h);if(h==-1)h=1;return h};b_.zg=function(b,h){b.AT.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][h]};
b_.uU=function(b,h){var G,H;G=["FontSize","Leading","BaselineShift","OutlineWidth"];H=b.bJ;for(var Y=0;
Y<G.length;Y++)if(H[G[Y]]!=null)H[G[Y]]*=h;G=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
H=b._P;for(var Y=0;Y<G.length;Y++)if(H[G[Y]]!=null)H[G[Y]]*=h};b_.ahc=function(){return b_.XN(b_.mu(b_.auc),0,0)};
b_.ahO=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
b_.hM=function(b,h){var G=0,Y=0;while(G+b[Y]<=h){G+=b[Y];Y++}return{dD:Y,x9:G}};b_.a7j=function(){var b=b_.mu(this.auc);
return b};b_.a05=function(b,h){var G=h._P};b_.a7Q=function(b,h){var G=h.bJ,H;H=b.Undl;if(H&&H.v.Undl=="underlineOnLeftInVertical")G.Underline=!0;
H=b.syntheticItalic;if(H)G.FauxItalic=H.v};b_.aeG={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
b_.a9_={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
b_.atQ=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};b_.auc={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b_.aeG))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b_.aeG))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(b_.a9_))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var j2={};j2.apZ=function(b){var h=j2.a1u(b._0,b._1);j2.aEh(h,b._0);return h};j2.aa5=function(b,h,G){var H={};
H._98={_0:"i7"};H._0=j2.auz(b,h,G?G._0:null);H._1=j2.ay4(b,h,H._0,G?G._1:null);return H};j2.auz=function(b,h,G){var H={};
H._1=j2.abf(b,G?G._1:null);H._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};H._3=JSON.parse(JSON.stringify(j2.aay));
H._4=JSON.parse(JSON.stringify(j2.aiw));H._5=j2.ary(b,H._1._0,G?G._5:null);H._6=j2.afU(b,G?G._6:null);
H._8=j2.aek(b,h,G?G._8:null);H._9=j2.akI;return H};j2.aEh=function(b,h){j2.aiI(b,h._5,h._1._0)};j2.abf=function(b,h){var G=[],H=[];
for(var Y=0;Y<b.length;Y++){var B=b[Y].ResourceDict.FontSet;for(var j=0;j<B.length;j++){var s=B[j];if(H.indexOf(s.Name)!=-1)continue;
G.push(s);H.push(s.Name)}}var q={_0:[]};for(var Y=0;Y<G.length;Y++){var Q=G[Y],a={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+Q.Name,_1:"i"+Q.Script,_2:"i"+Q.FontType}}};
if(Q.Script==0)delete a._0._0._1;q._0.push(a)}return q};j2.ary=function(b,h,G){var H={_0:[],_1:[]},B={_0:JSON.parse(JSON.stringify(j2.a5b))};
j2.asj(B._0,b[0].ResourceDict.StyleSheetSet[0],h,b[0].ResourceDict.FontSet);H._0.push(B);H._1.push({_0:"i0"});
H._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});H._1.push({_0:"i1"});return H};j2.aiI=function(b,h,G){var H=h._0[0];
for(var Y=0;Y<b.length;Y++)j2.a7O(H._0,b[Y].ResourceDict.StyleSheetSet[0],G,b[Y].ResourceDict.FontSet)};
j2.afU=function(b,h){var G={_0:[],_1:[]},H={_0:JSON.parse(JSON.stringify(j2.oh))};j2.Qo(H._0,b[0].ResourceDict.ParagraphSheetSet[0]);
G._0.push(H);G._1.push({_0:"i0"});H={_0:JSON.parse(JSON.stringify(j2.oh))};j2.Qo(H._0,b[0].ResourceDict.ParagraphSheetSet[0]);
H._0._0="sBasic Paragraph";H._0._6="i0";G._0.push(H);G._1.push({_0:"i1"});return G};j2.aek=function(b,h,G){var H={_0:[]};
for(var Y=0;Y<b.length;Y++){var B=b[Y].Curve,j={};H._0.push({_0:j});var s=b_.RQ(b[Y]);j._1={};j._2={};
j._2._0="i"+s;if(b[Y]._LineOrientation==2)j._2._1="i2";if(s==0){delete j._1;j._2._6=["f-1","f-1"];j._2._11={_4:"i-1",_7:!1}}else if(s==1&&B==null){var q=b_.B_(b[Y]),Q=q[2],a=q[3];
j._1._0=j2.bi("f",[0,0,0,0,Q,0,Q,0,Q,0,Q,0,Q,a,Q,a,Q,a,Q,a,0,a,0,a,0,a,0,a,0,0,0,0]);j._2._6=["f-2","f-2"];
j._2._11={_4:"i-2",_7:!1}}else if(s==1){var q=b_.B_(b[Y]),Q=q[2],a=q[3];j._1._0=j2.bi("f",B.Points);
j._2._6=["f-3","f-3"];j._2._11={_4:"i-3",_7:!1}}else if(s==2){j._1._0=j2.bi("f",B.Points);j._2._6=j2.bi("f",B.TextOnPathTRange);
j._2._11={_0:B.Reversed,_3:"i0",_5:"f0",_7:!1}}}return H};j2.ay4=function(b,h,G,H){var B={};B._0=JSON.parse(JSON.stringify(j2.ab8));
B._1=j2.axw(b,h,G,H?H._1:null);B._2=JSON.parse(JSON.stringify(j2.a5b._6));B._3=JSON.parse(JSON.stringify(j2.oh._5));
return B};j2.a1u=function(b,h){return j2.afR(b,h._1)};j2.axw=function(b,h,G,H){var B=[],j=G._1._0;for(var Y=0;
Y<b.length;Y++){var s=b[Y],q={_0:{}};B.push(q);q._0._0="s"+s.EngineDict.Editor.Text;q._0._0=q._0._0;
var Q=q._0._5={_0:[]},a=s.EngineDict.ParagraphRun;for(var l=0;l<a.RunArray.length;l++){var U={_0:{}};
Q._0.push(U);U._0._0={_0:"s",_5:{},_6:"i1"};j2.Qo(U._0._0,a.RunArray[l].ParagraphSheet);U._1="i"+a.RunLengthArray[l]}var N=q._0._6={_0:[]};
a=s.EngineDict.StyleRun;for(var l=0;l<a.RunArray.length;l++){var R={_0:{}};N._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
j2.asj(R._0._0,a.RunArray[l].StyleSheet,j,s.ResourceDict.FontSet);R._1="i"+a.RunLengthArray[l]}a=s.EngineDict.AlternateGlyphRun;
if(a){var S=q._0._9={_0:[]};for(var l=0;l<a.RunArray.length;l++){var g={_0:{}};S._0.push(g);var i=a.RunArray[l];
if(i.Glyph!=null){g._0._0={_0:"i"+i.Glyph,_1:"e"}}g._1="i"+a.RunLengthArray[l]}}q._0._10={_0:"i4",_2:!0};
q._1=j2.view.a9w(s,null,Y,null)}return B};j2.afR=function(b,h){var G=[],H=b._1._0;if(h)for(var Y=0;Y<h.length;
Y++){var B=b_.a7j();G.push(B);var j=h[Y];B.EngineDict.Editor.Text=j._0._0.slice(1);var s=B.EngineDict.ParagraphRun.RunArray[0],q=B.EngineDict.ParagraphRun,Q=j._0._5;
if(Q)for(var a=0;a<Q._0.length;a++){var l=Q._0[a];q.RunLengthArray[a]=parseInt(l._1.slice(1));q.RunArray[a]=JSON.parse(JSON.stringify(s));
j2.aoE(l._0._0,q.RunArray[a].ParagraphSheet)}else{q.RunLengthArray[0]=b_.v4(B).length}var U=j._0._6;
q=B.EngineDict.StyleRun;if(U)for(var a=0;a<U._0.length;a++){var N=U._0[a];q.RunLengthArray[a]=parseInt(N._1.slice(1));
q.RunArray[a]={StyleSheet:{StyleSheetData:{}}};j2.a7O(N._0._0,q.RunArray[a].StyleSheet,H,B.ResourceDict.FontSet)}else{q.RunLengthArray[0]=b_.v4(B).length;
q.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return G};j2.asj=function(b,h,G,H,B){b._0="s"+(h.Name?h.Name:"");
var j=b._6,s=B?B._6:null,q=h.StyleSheetData;if(q.Font!=null){var Q=H[q.Font].Name,a=-1;for(var Y=0;Y<G.length;
Y++)if("s"+Q==G[Y]._0._0._0){a=Y;break}j._0="i"+a}if(q.FontSize!=null)j._1="f"+q.FontSize;if(q.FauxBold!=null)j._2=q.FauxBold;
if(q.FauxItalic!=null)j._3=q.FauxItalic;if(q.AutoLeading!=null)j._4=q.AutoLeading;if(q.Leading!=null)j._5="f"+q.Leading;
if(q.HorizontalScale!=null)j._6="f"+q.HorizontalScale;if(q.VerticalScale!=null)j._7="f"+q.VerticalScale;
if(q.Tracking!=null)j._8="i"+q.Tracking;if(q.BaselineShift!=null)j._9="f"+q.BaselineShift;if(q.AutoKerning!=null)j._11="i"+(q.AutoKerning?1:0);
if(q.FontCaps!=null)j._12="i"+q.FontCaps;if(q.FontBaseline!=null)j._13="i"+q.FontBaseline;if(q.Strikethrough!=null)j._15="i"+(q.Strikethrough?1:0);
if(q.Underline!=null)j._16="i"+(q.Underline?2:0);if(q.Ligatures!=null)j._18=q.Ligatures;if(q.DLigatures!=null)j._19=q.DLigatures;
if(q.BaselineDirection!=null)j._35="i"+q.BaselineDirection;if(q.Language!=null)j._38="i"+q.Language;
if(q.FillColor!=null)j._53=j2.qK(q.FillColor);if(q.StrokeColor!=null)j._54=j2.qK(q.StrokeColor);if(q.FillFlag!=null)j._56=q.FillFlag;
if(q.StrokeFlag!=null)j._57=q.StrokeFlag;if(q.FillFirst!=null)j._58=q.FillFirst;if(q.OutlineWidth!=null)j._63="f"+q.OutlineWidth;
if(q._FillBackgroundColor!=null)j._79=j2.qK(q._FillBackgroundColor);if(q._FillBackgroundFlag!=null)j._80=q._FillBackgroundFlag;
if(q._LineCap!=null)j._61="i"+q._LineCap;if(q._LineJoin!=null)j._62="i"+q._LineJoin;if(q._MiterLimit!=null)j._64="f"+q._MiterLimit;
if(q._LineDashOffset!=null)j._65="f"+q._LineDashOffset;if(q._LineDashArray!=null)j._66=j2.bi("f",q._LineDashArray)};
j2.qK=function(b){return{_99:"/SimplePaint",_0:{_0:"i1",_1:j2.bi("f",b.Values)}}};j2.a7O=function(b,h,G,H){var B=b._6;
if(B==null)return;var j=h.StyleSheetData;if(B._0){var s=parseInt(B._0.slice(1)),q=G[s]._0._0._0.slice(1);
b_.HC({bJ:j,uh:H},q)}if(B._1!=null)j.FontSize=parseFloat(B._1.slice(1));if(B._2!=null)j.FauxBold=B._2;
if(B._3!=null)j.FauxItalic=B._3;if(B._4!=null)j.AutoLeading=B._4;if(B._5!=null)j.Leading=parseFloat(B._5.slice(1));
if(B._6!=null)j.HorizontalScale=parseFloat(B._6.slice(1));if(B._7!=null)j.VerticalScale=parseFloat(B._7.slice(1));
if(B._8!=null)j.Tracking=parseFloat(B._8.slice(1));if(B._9!=null)j.BaselineShift=parseFloat(B._9.slice(1));
if(B._11!=null)j.AutoKerning=parseFloat(B._11.slice(1))==1;if(B._12!=null)j.FontCaps=parseFloat(B._12.slice(1));
if(B._13!=null)j.FontBaseline=parseFloat(B._13.slice(1));if(B._15!=null)j.Strikethrough=parseFloat(B._15.slice(1))==1;
if(B._16!=null)j.Underline=parseFloat(B._16.slice(1))==1;if(B._18!=null)j.Ligatures=B._18;if(B._19!=null)j.DLigatures=B._19;
if(B._35!=null)j.BaselineDirection=parseFloat(B._35.slice(1));if(B._38!=null)j.Language=parseFloat(B._38.slice(1));
if(B._53!=null)j.FillColor=j2.kA(B._53);if(B._54!=null)j.StrokeColor=j2.kA(B._54);if(B._56!=null)j.FillFlag=B._56;
if(B._57!=null)j.StrokeFlag=B._57;if(B._63!=null)j.OutlineWidth=parseFloat(B._63.slice(1));if(B._79!=null)j._FillBackgroundColor=j2.kA(B._79);
if(B._80!=null)j._FillBackgroundFlag=B._80;if(B._61!=null)j._LineCap=parseFloat(B._61.slice(1));if(B._62!=null)j._LineJoin=parseFloat(B._62.slice(1));
if(B._64!=null)j._MiterLimit=parseFloat(B._64.slice(1));if(B._65!=null)j._LineDashOffset=parseFloat(B._65.slice(1));
if(B._66!=null)j._LineDashArray=j2.YQ(B._66)};j2.kA=function(b){var h=b._0._0,G=[1,0,0,0],H=j2.YQ(b._0._1);
if(h=="i0")G[1]=G[2]=G[3]=H[1];else if(h=="i1")G=H;else if(h=="i2")G=[1].concat(UDOC.C.cmykToRgb(H.slice(1)));
else console.log("unknown color type",h,H);return{Type:1,Values:G}};j2.Qo=function(b,h){b._0="s"+(h.Name?h.Name:"");
var G=b._5,H=h.Properties;if(H.Justification!=null)G._0="i"+H.Justification;if(H.FirstLineIndent!=null)G._1="f"+H.FirstLineIndent;
if(H.StartIndent!=null)G._2="f"+H.StartIndent;if(H.EndIndent!=null)G._3="f"+H.EndIndent;if(H.SpaceBefore!=null)G._4="f"+H.SpaceBefore;
if(H.SpaceAfter!=null)G._5="f"+H.SpaceAfter;if(H.AutoLeading!=null)G._7="f"+H.AutoLeading;if(H.AutoHyphenate!=null)G._9=H.AutoHyphenate;
if(H._Direction!=null)G._33="i"+H._Direction;if(H._ComposerEngine!=null)G._35="i"+H._ComposerEngine};
j2.aoE=function(b,h){var G=b._5;if(G==null)return;var H=h.Properties;if(G._0)H.Justification=parseInt(G._0.slice(1))};
j2.bi=function(b,h){var G=[];for(var Y=0;Y<h.length;Y++)G.push(b+h[Y]);return G};j2.YQ=function(b){var h=[];
for(var Y=0;Y<b.length;Y++)h.push(parseFloat(b[Y].slice(1)));return h};j2.aay={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
j2.aiw={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
j2.a5b={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
j2.oh={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
j2.akI={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
j2.ab8={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var eW={};eW.a1$=function(b){return eW._9(b,eW.jT,0)};eW.azI=function(b){return eW.Es(b,eW.jT)};eW._9=function(b,h,G){var H;
if(typeof b=="string")return b;if(b instanceof Array){H=[];for(var Y=0;Y<b.length;Y++)H[Y]=eW._9(b[Y],h,G+1)}else{H={};
var B={};for(var j in h){var s=h[j],q="_"+s[0];if(b[q]!=null){H[j]=s[1]?eW._9(b[q],s[1],G+1):b[q];B[q]=!0}}for(var j in b){if(B[j]==null){if(j.length>3)continue;
console.log(h,B);console.log(j,b);throw"e"}}}return H};eW.Es=function(b,h){var G;if(typeof b=="string")return b;
else if(b instanceof Array){G=[];for(var Y=0;Y<b.length;Y++)G[Y]=eW.Es(b[Y],h)}else{G={};var H={};for(var B in h){var j=h[B],s="_"+j[0];
if(b[B]!=null){G[s]=j[1]?eW.Es(b[B],j[1]):b[B];H[B]=!0}}for(var B in b){if(H[B]==null){console.log(h,H);
console.log(B,b);throw"e"}}}return G};eW.IA={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
eW.$$={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,eW.IA],_StrokeColor:[54,eW.IA],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,eW.IA],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
eW.afT={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,eW.$$],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
eW.azc={_Name:[0],_Features:[5,eW.afT],_Parent:[6],_UUID:[97]};eW.aF2={_Name:[0],_Parent:[5],_Features:[6,eW.$$],_UUID:[97]};
eW.jT={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,eW.aF2]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,eW.azc]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,eW.azc]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,eW.aF2]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,eW.$$],_OriginalNormalParagraphFeatures:[3,eW.afT],_4:[4]}]};
j2.view={};j2.view.a9w=function(b,h,G,H){var B={},j=b_.RQ(b);B._0=[{_0:"i"+G}];return B};function CSS(){}CSS.at1=function(b,h){var G=b.add,H=G.vmsk,B=G.vstk,j=G.lmfx,s=G.TySh,q=[],Q=CSS.Y3(j,G),a=b.opacity/255*(b.add.iOpa!=null?b.add.iOpa/255:1);
if(a!=1)q.push("opacity: "+a.toFixed(3));if(b._5()&&H){var l=e.n.d4(H.d);if(!l.Zx()){q.push("width: "+Math.round(l.j)+"px");
q.push("height: "+Math.round(l._)+"px")}var U=e.n.a90(H.d);if(U>0)q.push("border-radius: "+Math.round(U)+"px")}else if(s){var N=s.HZ;
if(b_.RQ(N)==1){var l=b_.B_(N);q.push("width: "+Math.round(l[2])+"px");q.push("height: "+Math.round(l[3])+"px")}CSS.au9(q,b_.XN(N,0,0),s.h,!1,!1,Q[0])}CSS.ab1(h,j,q);
if(s==null)CSS.a8V(Q,q);if(B==null||!B.strokeEnabled.v)B=eQ.ag5(j);if(B&&B.strokeEnabled.v){var R=B.strokeStyleContent.v,S=R.classID,g=B.strokeStyleOpacity.v.val/100,i=B.strokeStyleLineWidth.v.val,y="";
if(S=="solidColorLayer")y=CSS.le(R.Clr.v,g);q.push("border: "+i+"px solid "+y)}return q};CSS.ab1=function(b,h,G){if(h==null||!h.masterFXSwitch.v)return;
var H=h.dropShadowMulti.v.concat(h.innerShadowMulti.v);for(var Y=0;Y<H.length;Y++){var B=H[Y].v;if(B.enab.v){var j=B.classID=="IrSh",s=B.Dstn.v.val,q=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)q=b.lR()*Math.PI/180;var Q=s*Math.cos(q),a=s*Math.sin(q),l=(Q==0?"0 ":CSS.anG(-Q)+"px ")+(a==0?"0 ":CSS.anG(a)+"px ")+B.blur.v.val/2+"px "+CSS.le(B.Clr.v,B.Opct.v.val/100);
if(j)G.push("box-shadow: inset "+l);else G.push("filter: drop-shadow("+l+")")}}};CSS.Y3=function(b,h){var G=eQ.ach(b,h),H=G[0],B=G[1],j,s;
if(H){j=CSS.le(H.Clr.v,h.iOpa!=null?h.iOpa/255:1)}else if(B){s=CSS.U_(B)}return[j,s]};CSS.a8V=function(b,h){if(b[0])h.push("background-color: "+b[0]);
if(b[1])h.push("background-image: "+b[1])};CSS.Hh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.anG=function(g1){return""+parseFloat(g1.toFixed(3))};CSS.ur=function(b){if(b==null)return{$:0,B:0,J:0};
var h=b.indexOf("(");if(h!=-1){var G=b.slice(h+1,b.length-1).split(",");for(var Y=0;Y<G.length;Y++){var H=G[Y].trim();
G[Y]=parseFloat(H)*(H.endsWith("%")?255/100:1)}if(b.startsWith("hsl")){var B=e.Jr(G[0]/360,G[1]/255,G[2]/255);
B.$*=255;B.B*=255;B.J*=255;return B}return{$:G[0],B:G[1],J:G[2]}}if(b.charAt(0)!="#"){var j=CSS.Hh;if(j[b])b=j[b];
else console.log("unknown color "+b)}b=b.slice(1);if(b.length==4)b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]+b[3]+b[3];
if(b.length==3)b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2];var s=-1;if(b.length==8){s=parseInt(b.slice(6),16);b=b.slice(0,6)}b=parseInt(b,16);
var q={$:b>>16&255,B:b>>8&255,J:b&255};if(s!=-1)q.G=s;return q};CSS.le=function(b,h){return CSS._K(e.F.an(b),h)};
CSS._K=function(b,h){if(h==null)h=1;var G=Math.round(b.$),H=Math.round(b.B),B=Math.round(b.J),j=G<<16|H<<8|B;
return h==1?"#"+e.Z0(j):"rgba("+G+","+H+","+B+","+h+")"};CSS.ank=function(b,h){return CSS._K({$:b[0]*255,B:b[1]*255,J:b[2]*255},h)};
CSS.U_=function(b){var h=b.Grad.v;if(h.Clrs==null)return"";var G=h.Clrs.v.slice(0),H=h.Trns.v.slice(0),B=b.Ofst.v,j=b.Type.v.GrdT=="Rdl"?1:0,s=(j==1?"radial":"linear")+"-gradient",q=j==0?Math.round(-b.Angl.v.val+90)+"deg":"circle at center",Q=b.Rvrs.v,a=e.F.a2N(h,Q);
for(var Y=0;Y<a.length;Y++){var l=a[Y],U=l[1];q+=", "+CSS._K({$:U[0]*255,B:U[1]*255,J:U[2]*255},l[2])+" "+Math.round(l[0]*100)+"%"}return s+"("+q+")"};
CSS.au9=function(b,h,G,H,B,j){var s=h.bJ,q=H?1:G.$K(),Q=Math.round(s.FontSize*q);b.push("font-size: "+Q+"px");
var a=s.Tracking;if(!H&&a!=null&&a!=0)b.push("letter-spacing: "+Math.round(a*Q/1e3)+"px");if(!s.AutoLeading)b.push("line-height: "+Math.round(s.Leading*q)+"px");
if(s.Strikethrough)b.push("text-decoration: line-through");if(s.Underline)b.push("text-decoration: underline");
if(s.FontCaps==2)b.push("text-transform: uppercase");var l=b_.an(s.FillColor);l=[l.$,l.B,l.J].map(Math.round);
b.push((H?"fill: ":"color: ")+(j?j:"#"+e.Z0(l[0]<<16|l[1]<<8|l[2])));var U=h.uh[s.Font].Name;if(U){var N=ku.fM.Oe(U),R="",S=null,g=null;
if(N!=null&&U!=ku.Vi(N))N=null;if(B&&N)R+="\""+U+"\", ";var i=U.toLowerCase();if(N){S=ku.a6S(N)[0];if(N["OS/2"])g=N["OS/2"].usWeightClass}else{S=CSS.akz(U);
if(i.indexOf("light")!=-1)g=300;else if(i.indexOf("medium")!=-1)g=500;else if(i.indexOf("black")!=-1||i.indexOf("extrabold")!=-1)g=800;
else if(i.indexOf("bold")!=-1)g="bold"}if(S!=null)R+="\""+S+"\"";if(g!=null)b.push("font-weight: "+g);
if(i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1)b.push("font-style: italic");if(R)b.push("font-family: "+R)}var y=h._P.Justification;
if(y!=null&&y!=0)if(H){}else b.push("text-align: "+["left","right","center"][y%3])};CSS.akz=function(b){b=b.split("-")[0];
while(b.endsWith("MT")||b.endsWith("PS"))b=b.slice(0,b.length-2);var h=!0;for(var Y=0;Y<b.length;Y++){var G=b.charAt(Y);
if(!h&&G.toLowerCase()!=G){b=b.slice(0,Y)+" "+b.slice(Y);Y++;h=!0}else h=!1}return b};function fx(){}fx.Zf={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fx.ly=function(b,h){var G=Date.now(),H=b.split("\n"),B;if(H.length==1)H=b.split("\r");for(var Y=0;Y<H.length;
Y++)if(H[Y].trim()[0]=="#"){H[Y]=""}b=H.join("\n");try{B=acorn.parse(b)}catch(ku){console.log(ku);return}var j=JSON.parse(JSON.stringify(fx.NE.Qe));
j.__return=!1;j.__continue=!1;j.__break=!1;j.__throw=!1;j.__fs={};j.__window={};fx.eval(B,h,j);var s=j.__fs;
if(Object.keys(s).length!=0){var q=UZIP.encode(s);dJ.save(q,"output.zip")}};fx.eval=function(b,h,G){var H=b.type;
if(!1){}else if(H=="Program"||H=="BlockStatement"){var B=b.body;for(var Y=0;Y<B.length;Y++){var j=B[Y].type;
if(j=="FunctionDeclaration")G[B[Y].id.name]=B[Y]}for(var Y=0;Y<B.length;Y++){var j=B[Y].type,s=fx.eval(B[Y],h,G);
if(G.__continue&&G.__pif==null){G.__continue=!1;return s}if(G.__return||G.__break||G.__throw)return s}}else if(H=="ReturnStatement"){G.__return=!0;
return b.argument?fx.wA(b.argument,h,G):null}else if(H=="BreakStatement"){G.__break=!0}else if(H=="ContinueStatement"){G.__continue=!0}else if(H=="VariableDeclaration"){var q=b.declarations;
for(var Y=0;Y<q.length;Y++)fx.eval(q[Y],h,G)}else if(H=="VariableDeclarator"){G[b.id.name]=b.init?fx.wA(b.init,h,G):null}else if(H=="FunctionDeclaration"){G[b.id.name]=b}else if(H=="MemberExpression"){var Q=fx.wA(b.object,h,G),s;
if(G.__throw)return;var a=b.computed?fx.wA(b.property,h,G):fx.eval(b.property,h,G);if(Q.M!=null)s=fx.NE.Pm(Q,a,h,G);
else if(Q==window&&fx.Zf[a]){}else s=Q[a];return s}else if(H=="ArrayExpression"){var l=[],U=b.elements;
for(var Y=0;Y<U.length;Y++)l.push(fx.wA(U[Y],h,G));return l}else if(H=="ObjectExpression"){var l={},U=b.properties;
for(var Y=0;Y<U.length;Y++){var N=U[Y],R=U[Y].key.name?U[Y].key.name:U[Y].key.value;l[R]=fx.wA(U[Y].value,h,G)}return l}else if(H=="ExpressionStatement"){return fx.eval(b.expression,h,G)}else if(H=="NewExpression"){var S=b.arguments,g=b.callee,i=g.type,y=g.name,o=[],l=null;
for(var Y=0;Y<S.length;Y++)o.push(fx.wA(S[Y],h,G));if(y=="Array")l=new window[y];else if(i=="Identifier")l=fx.NE.arB(y,o,h,G);
else throw"e";if(l==null)throw"new "+y;return l}else if(H=="CallExpression"){var S=b.arguments,g=b.callee,i=g.type,v={};
for(var Z in G)v[Z]=G[Z];var o=[];for(var Y=0;Y<S.length;Y++)o.push(fx.wA(S[Y],h,G));if(i=="Identifier"){var W=g.name,d=G[W];
if(d&&d.M=="AppFunc"){W=d.Lw;d=null}if(d){if(d.params){var $=d.params;for(var Y=0;Y<$.length;Y++)v[$[Y].name]=o[Y];
return fx.eval(d.body,h,v)}else{return d.apply(null,o)}}else if(fx.NE.acg.indexOf(W)!=-1)return fx.NE.nV({M:"Application"},W,o,h,G);
else if(window[W]==null)console.log("Unknown function "+W);else if(fx.Zf[W])alert(W+"() not available");
else{var I=window[W].apply(window,o);return I}}else if(i=="MemberExpression"){var Q=fx.wA(g.object,h,G),a=g.computed?fx.wA(g.property,h,G):fx.eval(g.property,h,G);
if(Q==window&&fx.Zf[a])return;if(Q.M!=null)return fx.NE.nV(Q,a,o,h,G);else if(a=="sort"&&Q[0]&&Q[0].M=="Layer"){return Q.sort(function(z,T){return z.P.getName()>T.P.getName()?1:-1})}else if(a=="toSource")return JSON.stringify(Q);
else return Q[a].apply(Q,o)}else if(i=="FunctionExpression"){return fx.eval(g.body,h,G)}else console.log(b)}else if(H=="AssignmentExpression"){var k=b.operator,_=b.left,D=_.type,A=fx.wA(_,h,G),F=fx.wA(b.right,h,G),s=null;
if(!1){}else if(k=="=")s=F;else if(k=="+=")s=A+F;else if(k=="-=")s=A-F;else if(k=="*=")s=A*F;else if(k=="/=")s=A/F;
else if(k=="%=")s=A%F;else if(k=="&=")s=A&F;else if(k=="|=")s=A|F;else if(k=="&&=")s=A&&F;else if(k=="||=")s=A||F;
else console.log(b);if(D=="Identifier"){var K=_.name;if(G.hasOwnProperty(K))G[K]=s;else G.__window[K]=s}else if(D=="MemberExpression"){var V=fx.eval(_.property,h,G),r=fx.wA(_.object,h,G);
if(r.M!=null)fx.NE.aiW(r,V,s,h,G);else r[V]=s}else console.log(b);return s}else if(H=="Identifier")return b.name;
else if(H=="Literal")return b.value;else if(H=="UpdateExpression"){var k=b.operator,c=b.argument.name,l=fx.wA(b.argument,h,G),x=G;
if(x[c]==null)x=G.__window;if(!1){}else if(k=="++"){x[c]++;return b.prefix?x[c]:x[c]-1}else if(k=="--"){x[c]--;
return b.prefix?x[c]:x[c]+1}else console.log(b)}else if(H=="UnaryExpression"){var k=b.operator,X=fx.wA(b.argument,h,G);
if(X&&X.M=="UnitValue"){if(k=="-")return-X.P;else return fx.aE2(X.P,k)}else return fx.aE2(X,k)}else if(H=="BinaryExpression"||H=="LogicalExpression"){var k=b.operator,_=fx.wA(b.left,h,G);
if(H=="LogicalExpression"&&k=="&&"&&!_)return _;var X=fx.wA(b.right,h,G);if(_==null||X==null)return fx.Tx(_,X,k);
else if(_.M=="UnitValue"&&X.M=="UnitValue")return fx.Tx(_.P,X.P,k);else if(_.M=="UnitValue")return fx.Tx(_.P,X,k);
else if(X.M=="UnitValue"){if(k=="-")return-(_-X.P);else return fx.Tx(_,X.P,k)}else return fx.Tx(_,X,k)}else if(H=="IfStatement"){var M=fx.wA(b.test,h,G),f=G.__pif,s=null;
G.__pif=!0;if(M)s=fx.eval(b.consequent,h,G);else if(b.alternate)s=fx.eval(b.alternate,h,G);G.__pif=f;
return s}else if(H=="ConditionalExpression"){var M=fx.wA(b.test,h,G);if(M)return fx.wA(b.consequent,h,G);
else if(b.alternate)return fx.wA(b.alternate,h,G)}else if(H=="ForInStatement"){fx.eval(b.left,h,G);var t=b.left.declarations[0].id.name,n=fx.wA(b.right,h,G);
for(var Z in n){G[t]=Z;var L=fx.eval(b.body,h,G);if(G.__break)break;if(G.__return)return L}G.__break=!1}else if(H=="ForStatement"){fx.eval(b.init,h,G);
while(fx.eval(b.test,h,G)){var L=fx.eval(b.body,h,G);if(G.__break)break;if(G.__return)return L;fx.eval(b.update,h,G)}G.__break=!1}else if(H=="WhileStatement"){while(fx.eval(b.test,h,G)){var L=fx.eval(b.body,h,G);
if(G.__break)break;if(G.__return)return L}G.__break=!1}else if(H=="DoWhileStatement"){do{var L=fx.eval(b.body,h,G);
if(G.__break)break;if(G.__return)return L}while(fx.eval(b.test,h,G));G.__break=!1}else if(H=="TryStatement"){fx.eval(b.block,h,G);
if(G.__throw){var P=b.handler;G[P.param.name]=G.__throw;G.__throw=!1;fx.eval(P.body,h,G);delete G[P.param.name]}}else if(H=="EmptyStatement"){}else console.log(b)};
fx.Tx=function(b,h,G){if(G=="+")return b+h;else if(G=="-")return b-h;else if(G=="*")return b*h;else if(G=="/")return b/h;
else if(G=="%")return b%h;else if(G=="^")return b^h;else if(G=="&")return b&h;else if(G=="&&")return b&&h;
else if(G=="|")return b|h;else if(G=="||")return b||h;else if(G=="<")return b<h;else if(G==">")return b>h;
else if(G=="=="){if(b!=null&&h!=null&&b.M&&h.M)return b.P==h.P;return b==h}else if(G=="===")return b===h;
else if(G=="<=")return b<=h;else if(G==">=")return b>=h;else if(G=="!=")return b!=h;else if(G=="!==")return b!==h;
else if(G=="<<")return b<<h;else if(G==">>")return b>>h;else console.log(G)};fx.aE2=function(b,h){if(h=="-")return-b;
else if(h=="!")return!b;else if(h=="~")return~b;else if(h=="+")return b;else if(h=="typeof")return typeof b;
else console.log(h,b)};fx.wA=function(b,h,G){var H=b.type;if(H=="Identifier")return fx.atJ(b.name,h,G);
else return fx.eval(b,h,G)};fx.atJ=function(b,h,G){if(b=="undefined")return undefined;else if(G.hasOwnProperty(b))return G[b];
else if(b=="app")return{M:"Application"};else if(b=="Folder")return{M:"Folder"};else if(b=="File")return{M:"File"};
else if(b=="$")return{M:"$"};else if(fx.NE.a8f.indexOf(b)!=-1)return fx.NE.Pm({M:"Application"},b,h,G);
else if(fx.NE.acg.indexOf(b)!=-1)return{M:"AppFunc",Lw:b};else if(G.__window.hasOwnProperty(b))return G.__window[b];
else if(window[b]&&!fx.Zf[b])return window[b];else{G[b]=null;return null}};fx.NE={};fx.NE.arB=function(b,h,G,H){var B;
if(b=="SolidColor")B={M:b,P:[1,0,0,0]};if(b=="RGBColor")B={M:b,P:[1,0,0,0]};if(b=="Window")B={M:b,P:new jQ(h[0],h[1],h[2])};
if(b=="ExportOptionsSaveForWeb")B={M:b,P:{B9:"png",Ro:100}};if(b=="PhotoshopSaveOptions")B={M:b,P:{B9:"psd"}};
if(b=="PNGSaveOptions")B={M:b,P:{B9:"png",Ro:100}};if(b=="JPEGSaveOptions")B={M:b,P:{B9:"jpg",Ro:100}};
if(b=="PDFSaveOptions")B={M:b,P:{B9:"pdf",a2H:""}};if(b=="File")B={M:b,P:h[0]};if(b=="ActionReference")B={M:b,P:{t:"obj ",v:[]}};
if(b=="ActionDescriptor")B={M:b,P:{t:"Objc",v:{classID:"null"}}};if(b=="ActionList")B={M:b,P:{t:"VlLs",v:[]}};
if(b=="UnitValue")B={M:b,P:h.length==0?0:parseFloat(h[0])};return B};fx.NE.a8f="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
fx.NE.acg="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
fx.NE.Pm=function(b,h,G,H){var B=G.Yh,j=G.IC();if(!1){}else if(h=="typename"){if(b.M=="Layer")return b.P.fu()?"LayerSet":"ArtLayer";
else return b.M}else if(["Document","Layer"].indexOf(b.M)!=-1&&["layers","artLayers","layerSets"].indexOf(h)!=-1){var s=j;
if(b.M=="Document")s=b.P;else s=b.nl;var q=s.root,Q={M:"Layers",aAv:h,P:[],nl:s};if(b.M=="Layer")q=s.root.DE(s.R.indexOf(b.P));
if(q.children==null)return null;for(var Y=0;Y<q.children.length;Y++){var a=q.children[Y].o,l=a.fu();
if(l&&h=="artLayers"||!l&&h=="layerSets")continue;Q.P.push({M:"Layer",P:a,nl:s})}Q.P.reverse();return Q}else if(b.M=="Documents"||b.M=="Layers"||b.M=="HistoryStates"||b.M=="LayerComps"){if(!1){}else if(h=="length")return b.P.length;
else if(Number.isInteger(h))return b.P[h];else console.log(b.M+": unknown property ",h)}else if(b.M=="Application"){if(!1){}else if(h=="activeDocument")return{M:"Document",P:G.IC()};
else if(h=="documents"){var Q={M:"Documents",P:[]};for(var Y=0;Y<G.aO.length;Y++)Q.P.push({M:"Document",P:G.aO[Y]});
return Q}else if(h=="fonts")return{M:"TextFonts"};else if(h=="preferences")return{M:"Preferences"};else if(h=="displayDialogs")return{M:"DialogModes"};
else if(h=="foregroundColor"||h=="backgroundColor"){var U=h[0]=="f"?B.nU:B.W9;return{M:"SolidColor",P:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(h=="UI")return{M:"UI"};
else if(h=="version")return 30;else console.log(b,h)}else if(b.M=="Document"){var j=b.P;if(!1){}else if(h=="activeLayer"){var a=j.R[j.T[0]];
return{M:"Layer",P:a,nl:j}}else if(h=="pixelAspectRatio")return 1;else if(h=="resolution")return j.O4;
else if(h=="width")return j.j;else if(h=="height")return j._;else if(h=="name")return j.name;else if(h=="saved")return!j.wz();
else if(h=="selection")return{M:"Selection"};else if(h=="activeHistoryState")return{M:"HistoryState",V9:j.Wt};
else if(h=="source")return j.bB;else if(h=="layerComps"){var N=j.AK.list.v,R=[];for(var Y=0;Y<N.length;
Y++)R.push({M:"LayerComp",P:Y});return{M:"LayerComps",P:R}}else if(h=="historyStates"){var S=[];for(var Y=0;
Y<j.history.length;Y++)S.push({M:"HistoryState",V9:Y});return{M:"HistoryStates",P:S}}else if(h=="mode")return 7;
else if(h=="colorSamplers"){var Q={M:"ColorSamplers",aAv:h,P:j.Gn.slice(0),nl:j};return Q}else console.log(b,h)}else if(b.M=="LayerComp"){if(h=="name")return j.AK.list.v[b.P].v.Nm.v;
else throw h}else if(b.M=="ColorSamplers"){if(Number.isInteger(h))return{M:"ColorSampler",P:b.P[h]};
else if(h=="length")return j.Gn.length}else if(b.M=="ColorSampler"){if(h=="color"){var U=E.NK.Yj(j,j.s.yF(b.P.x,b.P.y),1,2);
return{M:"SolidColor",P:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(h=="position")return[b.P.x,b.P.y]}else if(b.M=="Layer"){var g={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=b.P;
if(!1){}else if(h=="visible")return a.yY();else if(h=="selected")return j.T.indexOf(j.R.indexOf(a))!=-1;
else if(h=="grouped")return a.wi;else if(g[h]!=null)return a.Xb(g[h]);else if(h=="opacity")return a.opacity*100/255;
else if(h=="fillOpacity")return(a.add.iOpa==null?255:a.add.iOpa)*100/255;else if(h=="blendMode")return a.Am;
else if(h=="name")return a.getName();else if(h=="textItem")return{M:"TextItem",P:a};else if(h=="bounds"){var i=E.Y.Ki(j,[j.R.indexOf(a)]);
return fx.NE.azC(i,j)}else if(h=="parent"){var y=G.aO,s;for(var Y=0;Y<y.length;Y++)if(y[Y].R.indexOf(a)!=-1)s=y[Y];
var o=s.root.DE(s.R.indexOf(a)).parent;return o.depth==0?{M:"Document",P:s}:{M:"Layer",P:o.o,nl:s}}else if(h=="kind"){var v=fx.NE.q6;
for(var Y=0;Y<v.length;Y++)if(a.add[v[Y]]!=null)return Y;return 0}else if(h=="isBackgroundLayer")return a.add.lnsr="bgnd";
else if(h=="itemIndex")return j.R.indexOf(a)+1;else console.log(b,h)}else if(b.M=="Selection"){if(!1){}else if(h=="bounds"){if(j.e==null)H.__throw={message:"no selection"};
else return fx.NE.azC(j.e.rect,j)}else console.log(b,h)}else if(b.M=="TextItem"){var Z=b.P.add.TySh,W=Z.HZ,d=b_.v4(W),$=Z.h.$K(),I=b_.XN(W,0,0);
if(h=="contents")return d.slice(0,d.length-1).replace(/\n/g,"\r");else if(h=="font")return I.bJ.Font!=null?I.uh[I.bJ.Font].Name:null;
else if(h=="size")return fx.NE.ri(I.bJ.FontSize*$,j);else if(h=="leading")return fx.NE.ri(I.bJ.Leading*$,j);
else if(h=="tracking")return fx.NE.ri(I.bJ.Tracking);else if(h=="baselineShift")return fx.NE.ri(I.bJ.BaselineShift);
else if(h=="fauxBold")return I.bJ.FauxBold;else if(h=="fauxItalic")return I.bJ.FauxItalic;else if(h=="kind")return 1-b_.RQ(W);
else if(h=="useAutoLeading")return I._P.AutoLeading;else if(h=="hyphenation")return I._P.AutoHyphenate;
else if(h=="justification")return fx.NE.ri(I._P.Justification);else if(h=="color")return{M:"SolidColor",P:I.bJ.FillColor.Values.slice(0)};
else if(h=="width"||h=="height"){var k=b_.B_(W),_=(k[2]-k[0])*$,D=(k[3]-k[1])*$;return fx.NE.ri(h=="width"?_:D,j)}else if(h=="position"){var A=Z.h;
return fx.NE.ar1([A.Kv,A.d0],j)}else if(h=="horizontalScale"||h=="verticalScale"){var F=h[0].toUpperCase()+h.slice(1);
return Math.round(I.bJ[F]*100)}else if(h=="antiAliasMethod")b_.lm(Z);else if(h=="totalTextStyle"){var Q={};
for(var K=0;K<2;K++){var V=["Style","Paragraph"][K],r=W.EngineDict[V+"Run"].RunLengthArray,c=[],x=0;
for(var Y=0;Y<r.length;Y++){var X=b_.XN(W,x,Math.min(x+r[Y],d.length-2));x+=r[Y];c.push(K==0?X.bJ:X._P);
Q.fontSet=X.uh}Q[V]={runs:r,styles:c}}return JSON.stringify(Q)}else if(h=="transform"){var A=Z.h;return JSON.stringify([A.G,A.J,A.YW,A.tW,A.Kv,A.d0])}else console.log(b,h)}else if(b.M=="Preferences"){if(h=="rulerUnits")return B.x$.Bl;
else console.log(b,h)}else if(b.M=="SolidColor"){if(h=="rgb")return{M:"RGBColor",P:b.P};if(h=="cmyk")return{M:"CMYKColor",P:e.M8(b.P.slice(1))};
else console.log(b,h)}else if(b.M=="RGBColor"){var i=Math.round(255*b.P[1]),M=Math.round(255*b.P[2]),f=Math.round(255*b.P[3]);
if(!1){}else if(h=="red")return i;else if(h=="green")return M;else if(h=="blue")return f;else if(h=="hexValue")return"#"+e.Z0(i<<16|M<<8|f).toUpperCase();
else console.log(b,h)}else if(b.M=="CMYKColor"){var t=[];for(var Y=0;Y<4;Y++)t.push(Math.round(b.P[Y]*100));
var n=["cyan","magenta","yellow","black"].indexOf(h);if(n!=-1)return t[n];else console.log(b,h)}else if(b.M=="UnitValue"){if(h=="value")return b.P;
else throw"e"}else if(b.M=="ExportOptionsSaveForWeb"){if(h=="format")return b.P.B9;else if(h=="PNG8"||h=="interlaced")return!1;
else if(h=="quality")return b.P.Ro;else if(h=="transparency")return!0;else throw h}else if(b.M=="PNGSaveOptions"||b.M=="JPEGSaveOptions"||b.M=="PDFSaveOptions"){return 0}else if(b.M=="$"){if(h=="localize")return!1;
else if(h=="os")return"Windows";else throw h}else if(b.M=="ActionList"){if(h=="count")return b.P.v.length;
else throw h}else console.log(b,h)};fx.NE.azC=function(b,h){return fx.NE.ar1([b.x,b.y,b.x+b.j,b.y+b._],h)};
fx.NE.ar1=function(b,h){var G=[];for(var Y=0;Y<b.length;Y++)G.push(fx.NE.ri(b[Y],h));return G};fx.NE.Fx=function(b){var h=[];
for(var Y=0;Y<b.length;Y++)h.push(b[Y].M?b[Y].P:b[Y]);return h};fx.NE.ri=function(b,h){return{M:"UnitValue",P:b}};
fx.NE.ar0=function(b,h){if(b.M=="UnitValue")return b.P;return b};fx.NE.aiW=function(b,h,G,H,B){var j=new hb(w.E.r,!0),s=new hb(w.E.b,!0),q=H.IC(),Q=H.Yh;
if(!1){}else if(b.M=="Application"){if(!1){}else if(h=="activeDocument"){s.data={q:w.p.zX,tR:G.P};H.Q(s)}else if(h=="displayDialogs"){}else if(h=="foregroundColor"||h=="backgroundColor"){var a=G.P,l=a[1]*255<<16|a[2]*255<<8|a[3]*255<<0;
s.data={q:w.p.wP,CI:ec.KI,DF:h=="foregroundColor"?0:1,P:l};H.Q(s)}else console.log(b,h,G)}else if(b.M=="Document"){var U=b.P;
if(!1){}else if(h=="name"){j.S=E.nc;j.data={q:C.as,P:G,arU:!0,rA:U};q.Jg=!0}else if(h=="source")U.bB=G;
else if(h=="activeLayer"){U.T=[U.R.indexOf(G.P)]}else if(h=="activeHistoryState"){j.S=E.Ck;j.data={q:"h_itemchange",index:G.V9}}else console.log(b,h)}else if(b.M=="Layer"){j.S=E.nc;
var N={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},R=b.P,S=q.R.indexOf(R);
if(!1){}else if(h=="visible"){if(R.yY()!=G)j.data={q:C.LX,o:S}}else if(h=="opacity"){j.data={q:C.iY,o:S,bq:Math.round(255*G/100)}}else if(h=="fillOpacity"){j.data={q:C.FE,o:S,bq:Math.round(255*G/100)}}else if(h=="blendMode"){j.data={q:C.Ud,o:S,bq:aq.B5.indexOf(G)}}else if(h=="name"){j.data={q:C.Ti,o:S,name:G}}else if(N[h]!=null){j.data={q:C.NN,o:S,bq:[[G],[N[h]]]}}else if(h=="kind"){j.data={q:C._3,o:S,VW:fx.NE.q6[G]}}else if(h=="grouped"){j.data={q:C.iy,o:S,bq:G}}else console.log(b,h,G)}else if(b.M=="TextItem"){j.S=E.rd;
var R=b.P,g=R.add.TySh,i=JSON.parse(JSON.stringify(g.HZ)),y=g.h.clone(),o=g.h.$K(),v=b_.v4(i),Z=b_.XN(i,0,v.length-2),W=!1;
if(!1){}else if(h=="contents"){b_.Dj(i,0,v.length-1);b_.ph(i,0,G.replace(/\r/g,"\n"))}else if(h=="size"){Z.bJ.FontSize=(G.P!=null?G.P:G)/o;
W=!0}else if(h=="leading"){Z.bJ.Leading=(G.P!=null?G.P:G)/o;W=!0}else if(h=="tracking"){Z.bJ.Tracking=G.P!=null?G.P:G;
W=!0}else if(h=="baselineShift"){Z.bJ.BaselineShift=G.P!=null?G.P:G;W=!0}else if(h=="fauxBold"){Z.bJ.FauxBold=G;
W=!0}else if(h=="fauxItalic"){Z.bJ.FauxItalic=G;W=!0}else if(h=="kind"){var d=b_.RQ(i);if(d==1&&G==1){var $=new j0(i,H.Yh.B7,g.AT)._P[0],I=$.Yr[0].end,k=$.$Z[I-1].end;
b_.Dj(i,0,v.length-1);b_.ph(i,0,v.slice(0,k-1))}if(d==G)b_.vj(i,1-G)}else if(h=="useAutoLeading"){Z._P.AutoLeading=G;
W=!0}else if(h=="hyphenation"){Z._P.AutoHyphenate=G;W=!0}else if(h=="justification"){Z._P.Justification=G;
W=!0}else if(h=="font"){b_.HC(Z,G);W=!0}else if(h=="color"){Z.bJ.FillColor.Values=G.P.slice(0);W=!0}else if(h=="width"||h=="height"){var _=b_.B_(i).slice(0),D=fx.NE.ar0(G);
if(h=="width")_[2]=Math.round(_[0]+D/o);else _[3]=Math.round(_[1]+D/o);b_.A6(i,_)}else if(h=="position"){y.Kv=G[0];
y.d0=G[1]}else if(h=="horizontalScale"||h=="verticalScale"){var A=h[0].toUpperCase()+h.slice(1);Z.bJ[A]=G/100;
W=!0}else if(h=="antiAliasMethod")b_.zg(g,G);else console.log(b,h,G);if(W)b_.V1(i,0,v.length-1,Z);j.data={q:"newED",xj:q.R.indexOf(R),wI:i,h:y}}else if(b.M=="Preferences"){if(!1){}else if(h=="rulerUnits"){var F=JSON.parse(JSON.stringify(Q.x$));
F.Bl=G;s.data={q:w.p.wP,CI:ec.dH,bq:F};H.Q(s)}else console.log(b,h,G)}else if(b.M=="SolidColor"){if(h=="rgb")b.P=G.P;
else throw h}else if(b.M=="RGBColor"){if(!1){}else if(h=="red")b.P[1]=G/255;else if(h=="green")b.P[2]=G/255;
else if(h=="blue")b.P[3]=G/255;else if(h=="hexValue"){var K=e.ahS(G.slice(1));b.P[1]=(K>>>16&255)/255;
b.P[2]=(K>>>8&255)/255;b.P[3]=(K>>>0&255)/255}else console.log(b,h)}else if(b.M=="ExportOptionsSaveForWeb"){if(h=="format")b.P.B9=G;
else if(h=="PNG8"||h=="transparency"||h=="interlaced"){}else if(h=="quality")b.P.Ro=G;else throw h}else if(b.M=="PNGSaveOptions"||b.M=="JPEGSaveOptions"){if(h=="quality")b.P.Ro=Math.round(100*G/12)}else if(b.M=="PDFSaveOptions"){if(h=="preset")b.P.a2H=G}else if(b.M=="$"){if(h=="localize"){}}else console.log(b,h,G);
if(j.data!=null)H.Q(j)};fx.NE.nV=function(b,h,G,H,B){var j=b.M,s=null,q=new hb(w.E.r,!0),Q=new hb(w.E.IK,!0),a=new hb(w.E.b,!0),l=H.IC(),U=H.aO;
if(!1){}else if(j=="Application"){if(!1){}else if(h=="charIDToTypeID"){var N=G[0].trim(),R={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return R[N]?R[N]:N}else if(h=="stringIDToTypeID"){var S=G[0].trim(),R={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},g=R[S];
return g==null?S:g}else if(h=="typeIDToStringID"){return G[0].trim()}else if(h=="executeAction"){var i;
if(G[1]){i=G[1].P.v;i.classID=G[0]}var y={setd:"set"},o=y[G[0]];if(o==null)o=G[0];var v=eZ.mq[G[0]];
if(v&&eZ.G7[v])o=eZ.G7[v];Q.data={f6:o,yo:i}}else if(h=="executeActionGet"){var Z=G[0].P.v,s={};if(Z.length==1){var W=s.classID=Z[0].v.classID;
if(W=="Lyr"){var d=aX.rF(l,Z[0]),$=l.R[d],I=$.add.SoLd,k=$.add.SoCo;if(I)s.smartObjectMore={t:"Objc",v:{transform:I.nonAffineTransform}};
if(k)s.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(k))}]}}return{M:"ActionDescriptor",P:{t:"null",v:s}}}if(Z.length==2){var W=s.classID=Z[1].v.classID,S=Z[0].v.keyID;
if(W=="Dcmn"){var _=l;if(S=="numberOfLayers")s[S]={t:"long",v:_.R.length};else throw S}else if(W=="Lyr"){var d=aX.rF(l,Z[1]),$=l.R[d],D=$.add.TySh;
if(S=="textKey"){if(D){var A=D.HZ.EngineDict.StyleRun.RunArray,F=D.HZ.ResourceDict.FontSet,K=[];for(var Y=0;
Y<A.length;Y++){var V=A[Y].StyleSheet.StyleSheetData,r=F[V.Font].Name,c=H.Yh.B7.Oe(r);if(c&&c.name.postScriptName!=r)c=null;
K.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:c!=null},fontPostScriptName:{t:"TEXT",v:r}}}}})}s[S]={t:S,v:{textStyleRange:{t:"obj ",v:K}}}}}else throw S}else if(W=="ASet"){var x=H.Yh.bL,X=s.classID=Z[0].v.classID;
if(X=="Actn"){s.NmbC={t:"long",v:aX.lF(x,Z[0].v.val,Z[1].v.val).q5.length}}else throw X}else throw W;
return{M:"ActionDescriptor",P:{t:"null",v:s}}}}else if(h=="doAction"){a.data={q:w.p.Av,Fo:[G[0],G[1]]}}else if(h=="bringToFront"){}else if(h=="open"){a.data={q:w.p.iv,CI:{url:G[0]}};
if(G[2]&&U.length!=0)a.data.CI.gb=U.indexOf(l)}else if(h=="echoToOE"){a.data={q:w.p.Ko,CI:G[0]}}else if(h=="showWindow"){a.data={q:w.p.C9,ut:G[0]}}else if(h=="UnitValue"){return G[0]+" "+G[1]}else console.log(h)}else if(j=="LayerComp"){if(h=="apply"){q.S=E.To;
q.data={q:"setLC",V9:l.AK.list.v[b.P].v.compID.v}}else throw h}else if(j=="Document"){var l=b.P;if(!1){}else if(h=="crop"){var M=G[0];
Q.data=E.w8.alT([M[0],M[1],M[2]-M[0],M[3]-M[1]])}else if(h=="trim"){var f=[];for(var Y=0;Y<4;Y++)f.push(G[Y+1]!=null?G[Y+1]:!0);
Q.data=E.w8.EF(G[0]!=null?G[0]:0,f)}else if(h=="suspendHistory"){var t=acorn.parse(G[1]);fx.eval(t,H,B)}else if(h=="save"){a.data={q:w.p.my}}else if(h=="saveToOE"){a.data={q:w.p.my,YC:G}}else if(h=="rotateCanvas"){Q.data=E.Y.y$(!0,G[0])}else if(h=="resizeImage"||h=="resizeCanvas"){var n=G[0],L=G[1];
if(n!=null){if(typeof n!="number"){n=l.j*parseFloat(n.slice(0,n.length-1))/100;L=l._*parseFloat(L.slice(0,L.length-1))/100}n=Math.round(n);
L=Math.round(L)}if(h=="resizeCanvas")Q.data=E.w8.adn(n,L,G[2]);else Q.data=E.w8.NW(n,L,G[2],n!=null?1:null)}else if(h=="paste"){a.data={q:w.p.CA,aoy:G.length!=0&&G[0],Eg:!0};
H.Q(a);a.data=null;return{M:"Layer",P:l.R[l.T[0]],nl:l}}else if(h=="close"){a.data={q:w.p.L3,wK:l}}else if(h=="exportDocument"||h=="saveAs"){var P=B.__fs,z=h=="exportDocument"?G[2].P:G[1].P,T=G[0].P.replace(":","").replace("~/","");
if(!T.toLowerCase().endsWith("."+z.B9))T+="."+z.B9;var p=aT.JN(l,z.B9,null,null,z.B9=="pdf"?null:[z.Ro],H.Yh);
P[T]=new Uint8Array(p)}else if(h=="flatten"){Q.data={f6:"flattenImage"}}else if(h=="clearHistory"){q.S=E.Ck;
q.data={q:"h_clear",force:!0}}else console.log(b,h,G)}else if(j=="Layer"){var m=b.P,d=l.R.indexOf(m);
if(!1){}else if(h=="copy"){fx.NE.e8(l,H,0);a.data={q:w.p.xA,pc:G[0],zj:d,Eg:!0};H.Q(a);delete a.data;
fx.NE.e8(l,H,1)}else if(h=="clear"){fx.NE.e8(l,H,0);Q.data={f6:"delete"};H.Q(Q);delete Q.data;fx.NE.e8(l,H,1)}else if(h=="autoLevels"||h=="autoContrast"){if(h=="autoContrast")Q.data={f6:"levels",yo:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else Q.data={f6:"levels",yo:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(h=="duplicate"){if(G.length==0){var O=l.T.slice(0);
q.data={q:C.hR,o:d};q.S=E.nc;H.Q(q);q.data=null;s={M:"Layer",P:l.R[l.T[0]],nl:b.nl};l.T=O}else if(G[0].M=="Document"){q.data={q:C.Dk,R:l.LZ(d),$J:l,BQ:G[0].P};
q.S=E.nc}if(q.data){H.Q(q);q.data=null;return{M:"Layer",P:l.R[l.T[0]],nl:l}}}else if(h=="merge"||h=="remove"){q.data={q:h=="merge"?C._e:C.rU,o:d};
q.S=E.nc;if(h!="remove")s={M:"Layer",P:l.R[l.T[0]],nl:b.nl}}else if(h=="move"){var cb=l.R.indexOf(G[0].P);
if(cb==d+1&&G[1]==4)return;if(cb==d-1&&G[1]==3)return;q.data={q:C.pQ,source:d,target:cb,ng:G[1]!=3?.6:.3};
q.S=E.nc}else if(h=="rasterize"){q.S=E.nc;q.data={q:C.uI,o:d};H.Q(q);q.data=null;b.P=l.R[d]}else if(h=="rotate"){q.data={q:"rot",VH:[2,5],P:-G[0]*Math.PI/180,ok:G[1],o:d};
q.S=E.E4}else if(h=="resize"){q.data={q:"scl",VH:[2,4],P:new cJ(G[0]/100,G[1]/100),ok:G[2],o:d};q.S=E.E4}else if(h=="translate"){var cX=fx.NE.Fx(G);
q.data={q:"trsl",o:d,GX:cX[0],AQ:cX[1]};q.S=E.rQ}else if(h=="link"){q.data={q:C.Bx,a3T:[d,l.R.indexOf(G[0].P)]};
q.S=E.nc}else if(h=="invert"){q.S=E.ig;q.data={q:"start",xU:"nvrt"}}else if(h=="desaturate"){Q.data={f6:"desaturate"}}else if(h.startsWith("apply")&&gY.yq[h.slice(5)]||h.startsWith("adjust")&&gY.yq[h.slice(6)]||h=="mixChannels"){var e$=h.startsWith("apply"),cX=fx.NE.Fx(G),fz=h=="mixChannels"?"mixr":gY.yq[h.slice(e$?5:6)];
if(fz=="Dspl"){for(var Y=0;Y<l.R.length;Y++)if(l.R[Y].getName()==cX[4]){cX[4]=l.R[Y].add.SoLd.Idnt.v;
break}}Q.data={f6:e$?gY.G7[fz]:eZ.G7[fz]};var i=gY.Az(fz),O=l.T;l.T=[d];if(i){if(fz=="mixr"){var eC=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var Y=0;Y<3;Y++){var hw=cX[0][Y],az=Y*5;eC[az+0]=hw[0];eC[az+1]=hw[1];eC[az+2]=hw[2];eC[az+4]=hw[3]}i=eZ.Bc({P:eC,Dx:cX[1]})}else gY.gu["g"+fz](i,cX);
Q.data.yo=i}H.Q(Q);Q.data=null;l.T=O}else if(h=="applyStyle"){var av=H.Yh.Oy,V=null;for(var Y=0;Y<av.length;
Y++)if(av[Y].es.Nm.v.split("/").pop()==G[0])V=av[Y];if(V==null){alert("Style not found!");return}q.S=E._s;
q.data={q:"setstl",P:V.Zv,o:d};H.Q(q);q.data={q:"confirm",o:d}}else console.log(b,h,G)}else if(j=="Documents"){if(h=="getByName"){for(var Y=0;
Y<U.length;Y++)if(U[Y].name==G[0])return{M:"Document",P:U[Y]};return null}else if(h=="add"){if(G.length==0)G=[100,100,72,"New Project"];
var ia=G[5];if(ia==null)ia=1;Q.data=cj.VO(G[0],G[1],G[2],G[3],["Wht","Trns","BckC"][ia],!1);H.Q(Q);Q.data=null;
return{M:"Document",P:H.IC()}}else throw"e"}else if(j=="Layers"){if(h=="getByName"){for(var Y=0;Y<b.P.length;
Y++)if(b.P[Y].P.getName()==G[0]){s=b.P[Y];break}if(s==null)B.__throw={message:"No layer with a name "+G[0]}}else if(h=="add"){q.data={q:b.aAv=="layerSets"?C.mI:C.Wf};
q.S=E.nc;H.Q(q);q.data=null;s={M:"Layer",P:l.R[l.T[0]],nl:b.nl}}else console.log(b,h,G)}else if(b.M=="Selection"){if(h=="select"){var iJ=G[0],hP=[];
for(var Y=0;Y<iJ.length;Y++)hP.push(iJ[Y][0],iJ[Y][1]);Q.data=E.pC.ZJ(fx.NE.Fx(hP),G[1])}else if(h=="clear"){Q.data={f6:"delete"}}else if(h=="selectAll"){Q.data=E.pC.V$(!0)}else if(h=="invert"){Q.data={f6:"inverse"}}else if(h=="copy"){a.data={q:w.p.xA,pc:G[0],Eg:!0}}else if(h=="deselect"){Q.data=E.pC.V$()}else if(h=="fill"){var iS=G[0].P;
iS=e.F.t1({$:iS[1]*255,B:iS[2]*255,J:iS[3]*255});Q.data=E.Qb.s4("Clr",G[1],G[2]==null?1:G[2]/100,iS)}else if(h=="grow"||h=="similar"){var i={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(G[0]!=null)i.Tlrn={t:"long",v:G[0]};Q.data={f6:h,yo:i}}else if(h=="expand"||h=="contract"||h=="feather"){Q.data=E.pC.M7(h,G[0],!0)}else if(h=="translate"){var i={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:G[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:G[1]}}}}};
Q.data={f6:"move",yo:i}}else if(h=="smooth"){Q.data=E.pC.M7("smoothness",G[0],!1)}else if(h=="stroke"){var V=JSON.parse(dE.Qy[1]),e4=V.Clr.v,iS=G[0].P;
e4.Rd.v=iS[1]*255;e4.Grn.v=iS[2]*255;e4.Bl.v=iS[3]*255;V.Sz.v.val=G[1];V.Styl.v.FStl=dE.stroke.types[G[2]];
console.log(V,G);q.S=E.UA;q.data={q:"stroke",aD5:V}}else console.log(b,h,G)}else if(b.M=="Window"){if(h=="show"){a.data={q:w.p.C9,ut:b.P}}else throw"e"}else if(b.M=="ActionReference"){if(h=="putProperty"){b.P.v.push({t:"prop",v:{classID:G[0],keyID:G[1]}})}else if(h=="putClass"){b.P.v.push({t:"Clss",v:{classID:G[0]}})}else if(h=="putEnumerated"){b.P.v.push({t:"Enmr",v:{classID:G[0],typeID:G[1],enum:G[2]}})}else if(h=="putName"){b.P.v.push({t:"name",v:{classID:G[0],val:G[1]}})}else if(h=="putIndex"){b.P.v.push({t:"indx",v:{classID:G[0],val:G[1]}})}else console.log(h,G)}else if(b.M=="ActionDescriptor"||b.M=="ActionList"){var cc=b.M=="ActionList";
if(h.startsWith("put")){var bZ=cc?G:G.slice(1),g=null;if(h=="putReference"){g=bZ[0].P}else if(h=="putObject"){g=bZ[1].P;
g.v.classID=bZ[0]}else if(h=="putList"){g=bZ[0].P}else if(h=="putDouble"){g={t:"doub",v:bZ[0]}}else if(h=="putUnitDouble"){g={t:"UntF",v:{type:bZ[0],val:bZ[1]}}}else if(h=="putBoolean"){g={t:"bool",v:bZ[0]}}else if(h=="putInteger"){g={t:"long",v:bZ[0]}}else if(h=="putString"){g={t:"TEXT",v:bZ[0]}}else if(h=="putClass"){g={t:"type",v:{classID:bZ[0]}}}else if(h=="putEnumerated"){var d_=G[0].split("+");
if(d_.length==2&&G[1]==null){G[0]=d_[0];G[1]=bZ[0]=d_[1]}var az={};az[bZ[0]]=bZ[1];g={t:"enum",v:az}}else throw h;
if(cc)b.P.v.push(g);else b.P.v[G[0]]=g}else if(h=="hasKey"){return b.P.v[G[0]]!=null}else if(h=="getEnumerationValue"){if(G[0]=="layerSection")s="layerSectionContent";
else console.log(G)}else if(h=="getBoolean"){s=b.P.v[G[0]].v}else if(h=="getString"){s=b.P.v[G[0]].v}else if(h=="getObjectValue"){var s=b.P.v[G[0]];
return{M:"ActionDescriptor",P:s}}else if(h=="getList"){var s=b.P.v[G[0]];return{M:"ActionList",P:s}}else if(h=="getInteger"||h=="getDouble"){return b.P.v[G[0]].v}else console.log(h,G)}else if(b.M=="$"){if(h=="writeln"){console.log(G[0])}else throw h}else if(b.M=="UI"){if(h=="scroll"||h=="scrollTo"){var ee=G[0],b4=G[1],hA=l.s.D;
if(h=="scrollTo"){ee=(-l.j/2+ee)*hA+l.s.f.x;b4=(-l._/2+b4)*hA+l.s.f.y}q.S=E.Uy;q.data={q:"scroll",Vs:new cJ(Math.round(ee),Math.round(b4))}}else{var f$;
if(h=="zoomIn"||h=="zoomOut"){f$={q:"zoom",Sa:h=="zoomIn"}}else if(h=="fitTheArea"){f$={q:"adapt",P:"fitscr"}}else if(h=="pixelToPixel"){f$={q:"adapt",P:"pixel"}}q.S=E.TC;
q.data=f$;if(h=="switchFullscreen"){var e_=H.Yh.W8,fJ=document.fullscreenElement!=null==(e_==2);a.data={q:w.p.Nr,P:e_==0?2:0,Fn:fJ}}}}else if(b.M=="ColorSamplers"){if(h=="removeAll")l.Gn=[];
else if(h=="add"){var dV={x:G[0][0],y:G[0][1]};l.Gn.push(dV);var s={M:"ColorSampler",P:dV}}}else if(b.M=="ColorSampler"){if(h=="move"){var ix=l.Gn.indexOf(b.P);
dV=l.Gn[ix];dV.x=G[0][0];dV.y=G[0][1]}else if(h=="remove"){var ix=l.Gn.indexOf(b.P);l.Gn.splice(ix,1)}}else if(b.M=="Folder"){if(h=="selectDialog")s="img";
else throw h}else if(b.M=="File"){if(h=="openDialog")alert("A website can not show the Open dialog from a script");
else throw h}else console.log(b,h,G);if(q.data)H.Q(q);if(Q.data)H.Q(Q);if(a.data)H.Q(a);return s};fx.NE.e8=function(b,h,G){var H=new hb(w.E.r,!0);
H.S=E.Bi;var B=new hb(w.E.IK,!0);if(G==0){fx.NE.aln=b.e;B.data=E.pC.V$(!0)}else{var j=fx.NE.aln;if(j)H.data={q:"setsel",VH:"Restore Selection",e:{rect:j.rect.clone(),channel:j.channel.slice(0)}};
else B.data=E.pC.V$()}h.Q(H.data?H:B)};fx.NE.aln=null;fx.NE.Qe={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8}};
fx.NE.Qe.ColorBlendMode=fx.NE.Qe.BlendMode;fx.NE.q6="---- SoLd TySh SoCo GdFl PtFl".split(" ");function c8(){}c8.UM={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
c8.Ot={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
c8.aw5=function(b,h){if(h==null)h={};var G=c8.Ot,H=[],B=[],j="";for(var Y=0;Y<b.length;Y++){var s=b[Y],q=G[s[0]+""];
if(q&&h[q]==null)h[q]=s[1];else if(s[0]==12)B.push(s[1]);else if(s[0]==25)H.push(s[1]);else if(s[0]==55)j=s[1];
else if(s[0]==60)j+=";"+s[1]}if(j!=""&&h["exif:DateTimeOriginal"]==null)h["exif:DateTimeOriginal"]=j;
if(B.length!=0&&h["Iptc4xmpCore:SubjectCode"]==null)h["Iptc4xmpCore:SubjectCode"]=B.join(";");if(H.length!=0&&h["dc:Keywords"]==null)h["dc:Keywords"]=H.join(";");
return h};c8.a9h=function(b){var h=c8.Ot,G=[];for(var H in h)if(b[h[H]])G.push([parseInt(H),b[h[H]]]);
if(b["Iptc4xmpCore:SubjectCode"]){var B=b["Iptc4xmpCore:SubjectCode"].split(";");for(var Y=0;Y<B.length;
Y++)G.push([12,B[Y].trim()])}if(b["dc:Keywords"]){var B=b["dc:Keywords"].split(";");for(var Y=0;Y<B.length;
Y++)G.push([25,B[Y].trim()])}G.sort(function(j,s){return j[0]-s[0]});return G};c8.Pz=function(b,h){if(h==null)h={};
var G=new DOMParser,H=G.parseFromString(b,"image/svg+xml"),B=H.getElementsByTagName("rdf:Description")[0];
if(B==null)return h;var j=c8.UM;for(var s in j){var q=j[s][2];if(q==null)continue;var Q=B.getElementsByTagName(q)[0];
if(Q==null)continue;var a=Q.getElementsByTagName("rdf:li"),l=[];for(var Y=0;Y<a.length;Y++)l.push(a[Y].textContent);
h[s]=l.join("; ")}return h};c8.PX=function(b){var h=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],G=c8.UM;
for(var H in G){var B=b[H],j=G[H][2],s="Seq",q="";if(B==null||j==null)continue;if(j=="dc:title"||j=="dc:description"){s="Alt";
q=" xml:lang=\"x-default\""}if(j=="dc:subject")s="Bag";h.push("\t<"+j+"><rdf:"+s+">");var Q=j=="dc:subject"?B.split(";").join(",").split(","):[B];
for(var Y=0;Y<Q.length;Y++)h.push("\t\t<rdf:li"+q+">"+Q[Y].trim()+"</rdf:li>");h.push("\t</rdf:"+s+"></"+j+">")}h.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return h.join("\n")};c8.atA=function(b){var h=[];for(var Y=0;Y<b.length;Y++)h[Y]=b[Y][1]==0?0:b[Y][0]/b[Y][1];
return h};c8.a8u=function(b){var h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y],H=1;if(G!=Math.round(G)){H=1e3;
G=Math.round(G*H)}h[Y]=[G,H]}return h};c8.W6=function(b,h){var G=c8.UM;if(h==null)h={};for(var H in G){var B=G[H][1],j="t"+B;
if(B!=null&&b[j]!=null){var s=b[j];if(B==0)s=s.join(".");else if(B==2||B==4){var q=b["t"+(B-1)];if(q==null)q=[B==2?"N":"E"];
s=c8.atA(s).join(",")+q[0]}else if(B==42034)s=c8.atA(s).join(" ");else if(B==270||B==315){var Q=s[0],a=new Uint8Array(Q.length);
J.K$(a,0,Q);s=J.S2(a)}else s=s[0];h[H]=s}}if(b.exifIFD)c8.W6(b.exifIFD,h);if(b.gpsiIFD)c8.W6(b.gpsiIFD,h);
return h};c8.zH=function(b,h,G){var H=c8.UM,j=0,q=0;if(h==null)h={};var B={},s={};for(var Q in H){if(b[Q]==null||H[Q][1]==null)continue;
var a=H[Q][1],l="t"+a,U=h;if(Q.startsWith("exif:")){U=B;j++;if(Q.startsWith("exif:GPS")){U=s;q++}}var N=b[Q];
if(a==0)N=new Uint8Array(N.split(".").map(parseFloat));else if(a==2||a==4){var R=N.length;U["t"+(a-1)]=[N.slice(N.length-1)];
N=c8.a8u(N.split(",").map(parseFloat))}else if(a==42034)N=c8.a8u(N.split(" ").map(parseFloat));else if(a==270||a==315){var S=J.AY(N);
N=[J.lA(S,0,S.length)]}else N=[N];U[l]=N}if(j!=0){h.exifIFD=B;h.t34665=[0]}if(q!=0){h.gpsiIFD=s;h.t34853=[0]}var g=new Date,i=[g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()];
for(var Y=0;Y<6;Y++)i[Y]=(i[Y]+"").padStart(2,"0");h.t305=["Photopea Editor (www.photopea.com)"];if(G!=!0)h.t306=[i[0]+":"+i[1]+":"+i[2]+" "+i[3]+":"+i[4]+":"+i[5]];
return h};function kK(){}kK.wZ=function(b){var h={a4O:",",bU:"\r\n",uf:"\""},G=[[""]],H,B,j,s,q;for(H=B=j=s=0;
j<b.length;j++){switch(q=b.charAt(j)){case h.uf:if(s&&b.charAt(j+1)==h.uf){G[H][B]+=h.uf;++j}else{s^=1}break;
case h.a4O:if(!s){G[H][++B]=""}else{G[H][B]+=q}break;case h.bU.charAt(0):if(!s&&(!h.bU.charAt(1)||h.bU.charAt(1)&&h.bU.charAt(1)==b.charAt(j+1))){G[++H]=[""];
G[H][B=0]="";if(h.bU.charAt(1)){++j}}else{G[H][B]+=q}break;default:G[H][B]+=q}}if(G[G.length-1].length<G[0].length)G.pop();
return G};var u={};u.aq8=0;u.AF=function(){u.aq8++;return u.aq8};u.agq="uint8";u._E=function(b){b.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
b.Z.style.opacity="1";b.Z.style.transform="scale(1)"};u.WR=function(b,h){b.Z.style.opacity="0";b.Z.style.transform="scale(0.95)";
if(h)setTimeout(function(){h.removeChild(b.Z)},100)};u.a5C=function(){var b=u.ZU();if(b=="")return 0;
if(b!=u.Lm("_TXZRPB;d7@;")&&b!=dX.Lm("eQLZRRM?8a4=8")){var h=u.Vt[dX.ZF][dX._$],G=h.indexOf(String.fromCharCode(35)),H;
if(G==-1)return 0;try{H=JSON.parse(u.Vt[dX.ajQ](h.slice(G+1)))}catch(ku){return 0}var B=H[u.Lm("bQ[ODL<E<M")];
if(B==null||B.length<<2!=64)return 0;var j=dX.hW(),s=parseInt(B.slice(3*4).split("").reverse().join(""),16)<<16;
if(s<j||B!=dX.a9S(s,b))return 0;return 2}return 1};u.ZU=function(){var b=u.Vt[u.QB("}$z{2*35")][u.Lm("W[\\ZQAJ?")],h=String.fromCharCode(46),G=b.split(h);
if(G.length<2)return"";var H=G.pop();H=G.pop()+h+H;return H};u.SN=function(b){var h=u.ZU();if((h==dX.Lm("_TXZRPB;d7@;")||h==dX.Lm("~yy")||true)&&u.Vt==u.Vt[dX.av$])return!0;
var G=u.Vt[dX.ZF][dX._$],H=G.indexOf("#");if(H!=-1&&H!=G.length-1&&(G[H+1]=="%"||G[H+1]=="{")){var B=G.substring(H+1,G.length);
B=JSON.parse(u.Vt[dX.ajq](B));var j=B[dX.Lm("P\\RY")];if(j)if(b==0&&j[dX.Lm("aYKM")]||b==1&&j[dX.Lm("SQcMR")])return!0}return!1};
u.a1G=function(){if(u.Vt[dX.a5P][dX.akc]){var b=new u.Vt[dX.akV];b[dX.oR](dX.aeN,u.Lm("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+u.ZU());
b[dX.yk]()}};u.Qh=function(){if(window.top!=window.self)return!1;var b=navigator.userAgent.toLowerCase();
if(b.indexOf("safari")!=-1&&b.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};u.mE=function(b){this._L=b;
this.i4=u.I("img");this.nj=u.I("canvas");this.Rw=null;this.Kp="";this.MC=null;this.Zn=new cJ(0,0);this.lY=!0;
u.fe(this._L,this.ey.bind(this))};u.mE.prototype.Fd=function(b,h){this.Rw=b;if(h)this.Kp=h;this.ey()};
u.mE.prototype.d3=function(b){this.lY=b;this.ey()};u.mE.prototype.ey=function(b){if(b)this.Zn=u.Kz(b,this._L);
var h=this.lY?this.Rw:"auto",G=typeof h=="string";if(!G){var H=u.V(),B=this.Zn,j=h.O2.j,s=h.O2._,q=typeof h.jb=="string",Q=q?this.i4:this.nj;
if(q)Q.setAttribute("src",h.jb);else{Q.width=j;Q.height=s;var a=Q.getContext("2d"),l=new ImageData(new Uint8ClampedArray(h.jb.buffer),j,s);
a.putImageData(l,0,0)}Q.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(B.y-h.WG.y/H)+"px; left:"+(B.x-h.WG.x/H)+"px; width:"+j/H+"px; height:"+s/H+"px");
var U=this.MC;if(U==null||U!=Q){if(U)this._L.removeChild(U);this._L.appendChild(Q);this.MC=Q}}else if(this.MC){this._L.removeChild(this.MC);
this.MC=null}this._L.setAttribute("style","cursor:"+(G?h:"none")+"; "+this.Kp)};u.Vv=function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
u.sq=function(b,h){b.Sm(bp.get([12,41]).charAt(0)+":");h.Sm(bp.get([12,42]).charAt(0)+":")};u.I=function(b,h){var G=document.createElement(b);
if(h!=null)G.className=h;return G};u._I=function(b){while(b.firstChild)b.removeChild(b.firstChild)};
u.eS=function(b,h){var G=b.className;G=G.split(" ");if(G.indexOf(h)==-1)G.push(h);b.className=G.join(" ")};
u.Yx=function(b,h){var G=b.className;if(G=="")return;G=G.split(" ");if(G.indexOf(h)!=-1)G.splice(G.indexOf(h),1);
b.className=G.join(" ")};u.Pg=function(b){while(!0){if(b==document)return!0;if(b==null)return!1;b=b.parentNode}};
u.pP=function(b){b.appendChild(u.I("br"))};u.MX=function(b){b.appendChild(u.I("hr"))};u.H0=function(b,h,G){var H=new gX([1,12,1],G==null?!0:G,null,!0);
if(b)H.O("click",b.Ip,b);if(h)h.appendChild(H.Z);return H};u.Vt=document;u.KX=function(b){var h=0;for(var Y=0;
Y<b;Y++)h+=Math.random();return h/b<Math.PI/4};u.Lm=function(b){var h="";if(!u.KX(28))b+="-3";for(var Y=0;
Y<b.length;Y++){var G=b.charCodeAt(Y);if(G<32||126<G)throw"e";h+=String.fromCharCode(32+(G-32+17+3*Y)%95)}return h};
u.QB=function(b){var h="";if(!u.KX(28))b+="-1";for(var Y=0;Y<b.length;Y++){var G=b.charCodeAt(Y);G-=32;
G+=95e4;G-=17+3*Y;G=G%95;h+=String.fromCharCode(32+G)}return h};u.jc=function(b){var h=Math.random();
u.agq="uint"+(3+h);return new b};(function(){var b=window.PointerEvent,h=b?"pointer":"mouse",G=h+"down",H=h+"move",B=h+"up",j=!1;
u.fm=function(s,q){s.addEventListener(G,q,j);if(!b)s.addEventListener("touchstart",q,j)};u.fe=function(s,q){s.addEventListener(H,q,j);
if(!b)s.addEventListener("touchmove",q,j)};u.$f=function(s,q){s.addEventListener(B,q,j);if(!b)s.addEventListener("touchend",q,j)};
u.aDK=function(s,q){s.removeEventListener(G,q,j);if(!b)s.removeEventListener("touchstart",q,j)};u.CV=function(s,q){s.removeEventListener(H,q,j);
if(!b)s.removeEventListener("touchmove",q,j)};u.iF=function(s,q){s.removeEventListener(B,q,j);if(!b)s.removeEventListener("touchend",q,j)}}());
u.TB=function(b){b.addEventListener("touchstart",u._2,!1);b.addEventListener("touchmove",u._2,!1);b.addEventListener("touchend",u._2,!1);
b.addEventListener("gesturestart",u._2,!1);b.addEventListener("gesturechange",u._2,!1);b.addEventListener("gestureend",u._2,!1)};
u.ail=function(b){var h=b.sourceCapabilities;if(h)return h.firesTouchEvents;return!1};u.Xn=function(b,h,G,H){var B=u.V();
b.width=Math.floor(h*B);b.height=Math.floor(G*B);if(H)H.scale(B,B);u.dY(b)};u.dY=function(b){var h=u.V();
b.style.width=b.width/h+"px";b.style.height=b.height/h+"px"};u.o3=function(b,h,G){b.setAttribute("style","width:"+h/u.V()+"px; height:"+G/u.V()+"px")};
u.Kz=function(b,h){if(h==null)h=b.currentTarget;var G=h.getBoundingClientRect();if(b.touches)b=b.touches.item(0);
return{x:b.clientX-G.left,y:b.clientY-G.top}};u.V=function(){return window.devicePixelRatio||1};u.Yy=function(b){b.addEventListener("keydown",u.aka,!1)};
u.aka=function(b){b.stopPropagation()};u._2=function(b){b.preventDefault()};u.oO=function(b){b.stopPropagation();
b.preventDefault()};u.b5=function(b,h,G){G=G?G:"";if(PIMG["__"+b]==null)G+=" gsicon";return"<img src=\""+PIMG[b]+"\" alt=\""+(h?h:"")+"\" class=\""+G+"\" />"};
u.p4=function(b,h,G,H){var B=b.dataTransfer.getData("text/uri-list");if(B!=null&&B.startsWith("http")){var j=new hb(w.E.b,!0);
j.data={q:w.p.iv,CI:{url:B,Nd:!0,gb:G,c0:H}};h.Q(j)}if(b.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var s=[],q=b.dataTransfer.items.length,Q=b.dataTransfer.files;
for(var a of b.dataTransfer.items)a.getAsFileSystemHandle().then(function(l){s.push(l);if(s.length==q){var j=new hb(w.E.b,!0);
j.data={q:w.p.uz,data:Q,gb:G,c0:H,aDB:s};h.Q(j)}})}else{var j=new hb(w.E.b,!0);j.data={q:w.p.uz,data:b.dataTransfer.files,gb:G,c0:H};
h.Q(j)}};if(u.KX(27))u.Vt=window;else u.Vt=u.aia;u.Vt._cwY=u.Vt[u.QB("t$&!'31")];var af={};af.aCM=function(Y){var b=af.AV[Y],h=document.documentElement.style,H=1;
h.setProperty("--base","#"+e.Z0(b["--base"]));h.setProperty("--bg-panel","#"+e.Z0(b["--bg-panel"]));
h.setProperty("--bg-canvas","#"+e.Z0(b["--bg-canvas"]));h.setProperty("--bg-input","#"+e.Z0(b["--bg-input"]));
h.setProperty("--bg-bbtn","#"+e.Z0(b["--bg-bbtn"]));h.setProperty("--bg-bbtnOver","#"+e.Z0(b["--bg-bbtnOver"]));
h.setProperty("--brdr","#"+e.Z0(b["--brdr"]));h.setProperty("--text-color","#"+e.Z0(b["--text-color"]));
h.setProperty("--brdrLgt","rgba(255,255,255,"+b["--brdrLgt"]+")");h.setProperty("--brdrDrk","rgba(  0,  0,  0,"+b["--brdrDrk"]+")");
h.setProperty("--alphaDark",""+b["--alphaDark"]);h.setProperty("--gs-invert",""+b["--gs-invert"]);h.setProperty("--accent","#"+e.Z0(b["--accent"]));
var G=b["--sh-clr"];h.setProperty("--sh-clr","rgba("+(G>>16)+","+(G>>8&255)+","+(G&255)+", 0.45)");h.setProperty("--absc",""+b["--absc"]);
h.setProperty("--abs255",""+b["--abs255"]);if(1<u.V()&&u.V()<1.5)H=1/u.V();h.setProperty("--img20",20*H+"px");
h.setProperty("--img18",18*H+"px");h.setProperty("--img15",15*H+"px");if(PIMG!=null){var B="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Y=0;Y<B.length;Y++){var j=B[Y],s=j.split("/").pop(),q=PIMG["__"+j]==null?b["--gs-invert"]:"0";
h.setProperty("--icon_"+s,"url("+PIMG[j]+")");h.setProperty("--icon_"+s+"_invrt",q)}}var Q=document.querySelector("meta[name=theme-color]");
if(Q)Q.setAttribute("content","#"+e.Z0(b["--base"]))};(function(){var b=3441398,h=3441398;af.AV=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":h},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":b},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":b},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":b},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":b},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":b},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":h}]}());
function eA(){this.jR={};this.Bb={}}eA.prototype.aar=function(b){var h=this.jR[b];if(h==null)return!1;
return h.length>0};eA.prototype.addEventListener=function(b,h){this.O(b,h,null)};eA.prototype.O=function(b,h,G){if(this.jR[b]==null){this.jR[b]=[];
this.Bb[b]=[]}this.jR[b].push(h);this.Bb[b].push(G)};eA.prototype.removeEventListener=function(b,h){var G=this.jR[b];
if(G==null)return;var H=G.indexOf(h);if(H<0)return;var B=this.Bb[b];G.splice(H,1);B.splice(H,1)};eA.prototype.Q=function(b){b.currentTarget=this;
if(b.target==null)b.target=this;var h=this.jR[b.type];if(h==null)return;var G=this.Bb[b.type];for(var Y=0;
Y<h.length;Y++){if(G[Y]==null)h[Y](b);else h[Y].call(G[Y],b)}};var hb=function(b,h){if(!h)h=!1;this.type=b;
this.target=null;this.currentTarget=null;this.bubbles=h;this.S=null;this.G2=!1},w={E:{r:"0",b:"1",IK:"1.5",w:"2",sM:"3",azl:"4"},p:{dd:"10",YB:"11",ne:"12",JB:"13",dm:"14",am_:"14.1",iv:"15",vd:"16",Cl:"17",Gy:"18",my:"19",aCP:"19.5",ajs:"20",ap7:"20.1",ars:"20.5",a11:"20.6",ik:"21",xA:"22",CA:"23",tb:"24",C9:"25",l9:"26",zX:"27",cN:"28",api:"28.5",a9$:"29",uz:"30",CJ:"31",BU:"32",PB:"33",XM:"34",wP:"35",a1a:"35.5",CL:"37",aDo:"38",vW:"39",zx:"40",um:"41",Ko:"41.5",KK:"42",Qt:"43",aew:"43.5",L3:"44",a6k:"45",uu:"46",rI:"47",Mq:"48",Av:"49",aAI:"50",Nr:"51"}};
function dQ(){eA.call(this);this.parent=null;this.Z=null;this.Ps=0;this.CN=0;this.ayd=!1}dQ.prototype=new eA;
dQ.prototype.a71=function(b){var g1=this;while(g1!=null){if(g1==b)return!0;g1=g1.parent}return!1};dQ.prototype.F0=function(){var b=this.Z;
return b.offsetWidth+b.clientLeft};dQ.prototype.aBX=function(){var b=this.Z;return b.offsetHeight+b.clientTop};
dQ.prototype.update=function(b){};dQ.prototype.Q=function(b){eA.prototype.Q.call(this,b);if(b.bubbles&&this.parent!=null)this.parent.Q(b)};
dQ.prototype.a=function(){};dQ.prototype.Vb=function(b,h){};dQ.prototype.ay=function(b){u.eS(this.Z,"disabled")};
dQ.prototype.db=function(b){u.Yx(this.Z,"disabled")};dQ.prototype.d3=function(b){if(b)this.db();else this.ay()};
dQ.prototype.sd=function(){this.ayd=!0};dQ.prototype.dn=function(){var b=this.hG,h=this.ayd,G=this.Y4;
if(b){b=bp.get(this.hG);if(!h)b+=":";G.textContent=b;if(h){G.style.display="block";G.style.lineHeight="1.6em";
G.style.marginLeft="3px";u.Yx(G,"flabel")}}if(h){this.Vy.style.fontSize="1.15em"}};function aH(b){dQ.call(this);
this.C$=[];this.Y8=!1;this.axb=0;this.mM={x:0,y:0,mN:!1};this.uD=b;this.ajJ=this._M.bind(this);this.ar=this.wv.bind(this);
this.oX=this.om.bind(this);u.fm(b,this.ajJ);u.fe(b,this.ar);b.addEventListener("wheel",this.uT.bind(this),!1);
b.addEventListener("contextmenu",this.axK.bind(this),!1);var h=this.ac_.bind(this);b.addEventListener("gesturestart",h,!1);
b.addEventListener("gesturechange",h,!1);b.addEventListener("gestureend",h,!1);u.TB(b)}aH.prototype=new dQ;
aH.prototype.ac_=function(b){if(b.type=="gesturestart")this.YD=b.scale;if(b.type=="gesturechange"){var h=new hb("mouse",!0);
h.action="scroll";h.yw=!0;this.mf(b,h);var G=(this.YD-b.scale)/this.YD;h.Vs=new cJ(0,100*G);this.YD=b.scale;
this.Q(h)}};aH.prototype.Uz=function(b){var h=-1,G=this.C$;for(var Y=0;Y<G.length;Y++)if(G[Y].pointerId==b.pointerId)h=Y;
return h};aH.B6=function(b){var h=b.pointerType,G=window.__kb;return h=="touch"&&G.W(ap.aaK)};aH.a0z=function(b){var h=b.button!=null&&b.button!=0?b.which==2?"i":"r":"";
if(ap.M2()&&b.ctrlKey)h="r";return h};aH.prototype._M=function(b){if(aH.B6(b))return;var h=this.Uz(b);
if(h!=-1)this.C$[h]=b;else this.C$.push(b);if(this.C$.length==1){this.axb=Date.now();var G=aH.a0z(b)+"down",H=new hb("mouse",!0);
H.action=G;this.mf(b,H);this.Q(H);u.CV(this.uD,this.ar);u.fe(window,this.ar);u.$f(window,this.oX)}if(this.C$.length==2){if(Date.now()-this.axb<100){var H=new hb("mouse",!0);
H.action="cancellast";this.mf(b,H);this.Q(H)}this.Y8=!0}if(this.C$.length==2)this.aFg("multidown")};
aH.prototype.wv=function(b){if(aH.B6(b))return;var h=this.Uz(b);if(h!=-1)this.C$[h]=b;if(this.C$.length>1){this.aFg("multimove")}if(this.Y8)return;
if(this.C$.length==1&&h==-1)return;var G=new hb("mouse",!0);G.action="move";this.mf(b,G);this.Q(G)};
aH.prototype.om=function(b){if(aH.B6(b))return;var h=this.C$;h=this.C$=[];if(h.length==0){var G=aH.a0z(b)+"up",H=new hb("mouse",!0);
H.action=G;this.mf(b,H);this.Q(H);u.CV(window,this.ar);u.iF(window,this.oX);u.fe(this.uD,this.ar);this.Y8=!1}};
aH.prototype.uT=function(b){b.preventDefault();if(b.deltaX==0&&b.deltaY==0)return;var h=new hb("mouse",!0);
h.action="scroll";h.yw=b.ctrlKey;this.mf(b,h);this.Q(h)};aH.prototype.axK=function(b){u.oO(b);if(u.ail(b)){var h=new hb("mouse",!0);
this.mf(b,h);h.action="rdown";this.Q(h);h.action="rup";this.Q(h)}};aH.prototype.aFg=function(b){var h=this.C$,G=u.V(),H=[];
for(var Y=0;Y<h.length;Y++){var B=H[Y]=u.Kz(h[Y],this.uD);B.x*=G;B.y*=G}var j=new hb("mouse",!0);j.action=b;
j.fd=H;if(h.length==2)this.Q(j)};aH.prototype.mf=function(b,h,G){var H=this.C$.length!=0;if(h.action!="up"){var B=u.V();
if(G==null)G=u.Kz(b,this.uD);this.mM=h.lx={x:B*G.x,y:B*G.y,mN:H};var j=u.Kz(b,document.body);h.lx._V=j.x;
h.lx.ZO=j.y}else this.mM=h.lx={x:this.mM.x,y:this.mM.y,mN:H};h.lx.hx=.5;if(b.pressure!=null)h.lx.hx=b.pressure;
if(b.pointerType=="mouse")h.lx.hx*=2;h.lx.atb=b.pointerType;if(b.deltaX!=null){var s=b.deltaMode==0?1:40;
h.Vs=new cJ(b.deltaX*s,b.deltaY*s)}};function fL(b,h,G){dQ.call(this);this.ND=null;this.ap8=this.om.bind(this);
this.aiz=this.yN.bind(this);this.arp=this.ar6.bind(this);this.at8=this.ajy.bind(this);this.JS=[];this.IT=[];
this.KL=[];this.a0t=[];this.aEQ=G;this.Z=u.I("div","contextpanel "+(G?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",u._2,!1);
this.JG=null;this.rW=0;this.rn=b;this.ju=h;this.vN=[];for(var Y=0;Y<b.length;Y++){var H=u.I("div","enab");
this.IT.push(H);this.Z.appendChild(H);var B=b[Y].lU;if(B){if(B.startsWith("#")){var j=u.I("span");j.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+B);
H.appendChild(j)}else H.innerHTML=u.b5(b[Y].lU,null,"thumb")}else{var s=u.I("span","check");this.a0t.push(s);
H.appendChild(s)}var q=u.I("span","label");q.textContent=bp.get(b[Y].name);H.appendChild(q);this.KL.push(q);
if(b[Y].oq)this.Z.appendChild(u.I("hr"));if(b[Y].ef||b[Y].sub){var Q=H.co=u.I("span","right");H.appendChild(Q);
if(b[Y].ef)Q.textContent=ap.EM(b[Y].ef);else if(b[Y].sub)Q.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}H.addEventListener(G?"mouseup":"click",this.ap8,!1);
H.addEventListener("mouseover",this.aiz,!0);H.addEventListener("mouseout",this.arp,!0);if(b[Y].sub){var a=new fL(b[Y].sub,h?h[Y].sub:null);
a.parent=this;this.vN.push(a);a.O("select",this.acr,this)}else this.vN.push(null)}}fL.prototype=new dQ;
fL.prototype.al1=function(b){u._I(this.Z);for(var Y=0;Y<b.length;Y++)if(b[Y]!=0&&b[Y]!=null){this.Z.appendChild(this.IT[Y]);
if(b[Y]!=1&&this.vN[Y])this.vN[Y].al1(b[Y])}};fL.prototype.a=function(){var b=this.rn;for(var Y=0;Y<b.length;
Y++){if(b[Y].title)this.IT[Y].title=bp.get(b[Y].title);this.KL[Y].textContent=bp.get(b[Y].name)+(b[Y].gR?"...":"")}for(var Y=0;
Y<this.vN.length;Y++)if(this.vN[Y])this.vN[Y].a()};fL.prototype.update=function(b,h){if(!this.aEQ){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var G=this.rn,H=window.innerWidth<450?"none":"inline";
for(var Y=0;Y<G.length;Y++){var B=this.IT[Y];if(B.co&&!this.vN[Y])B.co.style.display=H;if(G[Y].H){var j=G[Y].H(b,h,Y);
if(j.H!=null)this.IT[Y].className=j.H?"enab":"disab";if(j.bu!=null)this.KL[Y].textContent=j.bu;if(j.Hz!=null)this.a0t[Y].innerHTML=j.Hz?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(j.i!=null)this.ju[Y]=j.i}}for(var Y=0;Y<this.vN.length;Y++)if(this.vN[Y])this.vN[Y].update(b,h)};
fL.prototype.QO=function(){return this.JS};fL.prototype.om=function(b){if(b.button!=0)return;var Y=this.IT.indexOf(b.currentTarget);
if(this.vN[Y]){this.rW=Y;this.ajy()}else{if(this.ju){var h=this.ju[Y],G=new hb(h.K,!0);G.S=h.S;G.data=h.i;
this.Q(G)}this.ND=null;this.JS=[Y];this.Q(new hb("select",!1));var G=new hb(w.E.b,!0);G.data={q:w.p.JB};
this.Q(G)}};fL.prototype.yN=function(b){var Y=this.IT.indexOf(b.currentTarget);this.cF();this.rW=Y;this.JG=setTimeout(this.at8,300)};
fL.prototype.ar6=function(b){this.cF()};fL.prototype.cF=function(){if(this.JG){clearTimeout(this.JG);
this.JG=null}};fL.prototype.ajy=function(){this.cF();var Y=this.rW;if(this.ND)this.ND.abV();if(this.vN[Y]==null)return;
this.ND=this.vN[Y];var b=this.IT[Y].getBoundingClientRect(),h=new hb(w.E.b,!0);h.data={q:w.p.YB,Wn:this.vN[Y],x:b.left+b.width+2,y:b.top};
this.Q(h)};fL.prototype.abV=function(){for(var Y=0;Y<this.vN.length;Y++)if(this.vN[Y])this.vN[Y].abV();
var b=new hb(w.E.b,!0);b.data={q:w.p.ne,Wn:this};this.Q(b)};fL.prototype.acr=function(b){var Y=this.vN.indexOf(b.target);
this.JS=[Y].concat(b.target.QO());this.Q(new hb("select",!1))};function iI(b,h,G){dQ.call(this);this.Z=u.I("span","fitem cbox");
if(h==null)h=!0;if(G==null)G="flabel";var H="cb"+u.AF();this.Vy=u.I("input","");this.Vy.setAttribute("type","checkbox");
this.Vy.setAttribute("id",H);this.Z.appendChild(this.Vy);this.hG=b;this.eu=u.I("label",G);if(h)this.eu.setAttribute("for",H);
this.Z.appendChild(this.eu);this.a();this.Vy.addEventListener("change",this.tX.bind(this),!1)}iI.prototype=new dQ;
iI.prototype.aeT=function(){return this.hG};iI.prototype.Sm=function(b){this.eu.textContent=b};iI.prototype.a=function(){var b=this.hG;
if(typeof b=="string"&&b.startsWith("<"))this.eu.innerHTML=b;else this.eu.textContent=bp.get(b)};iI.prototype.zr=function(){this.Vy.checked=!0};
iI.prototype.rL=function(){this.Vy.checked=!1};iI.prototype.a9=function(){return this.Vy.checked};iI.prototype.k=function(b){this.Vy.checked=b};
iI.prototype.l=iI.prototype.a9;iI.prototype.tX=function(b){this.Q(new hb(w.E.w,!1))};function iM(b,h){dQ.call(this);
this.hG=b;this.Z=u.I("span","labelitem fitem"+(h?" spread":""));this.a()}iM.prototype=new dQ;iM.prototype.k=function(b){this.Z.textContent=b};
iM.prototype.l=function(){return this.Z.textContent};iM.prototype.db=function(){this.Z.removeAttribute("disabled")};
iM.prototype.ay=function(){this.Z.setAttribute("disabled","")};iM.prototype.Sm=function(b){this.Z.textContent=b};
iM.prototype.a=function(){this.Z.textContent=bp.get(this.hG)};iM.prototype.aeT=function(){return this.hG};
function gX(b,h,G,H,B){dQ.call(this);this.Yg=!1;this.Z=u.I("button","fitem"+(h?" spread":"")+(H?" bbtn":""));
this.hG=b;this.q1=G;this.a();var j=B&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(j,this.ao.bind(this),!1)}gX.prototype=new dQ;
gX.prototype.a=function(){var b=this.Z,h=this.hG,G=this.q1;if(typeof h=="string"&&(h.startsWith("<img")||h.startsWith("<svg")||h.startsWith("<span"))){if(!this.Yg){b.innerHTML=h;
b.setAttribute("style","padding:2px");this.Yg=!0}}else b.textContent=bp.get(h);if(G){b.setAttribute("title",bp.get(G))}};
gX.prototype.a0c=function(b){this.Z.setAttribute("title",b)};gX.prototype.ao=function(b){this.Q(new hb("click",!1))};
gX.prototype.zr=function(){u.eS(this.Z,"bactive")};gX.prototype.rL=function(){u.Yx(this.Z,"bactive")};
gX.prototype.Sm=function(b,h){if(b&&b!=this.hG){this.hG=b;this.Yg=!1}if(h)this.q1=h;this.a()};gX.prototype.k=function(b){if(b)this.zr();
else this.rL()};gX.prototype.a9=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
gX.prototype.l=function(){return this.a9()};function aG(b,h,G,H,B){dQ.call(this);var j=u.AF();this.Z=u.I("span","fitem tinput");
if(b){this.hG=b;this.Y4=u.I("label","flabel");this.Z.appendChild(this.Y4);this.Y4.setAttribute("for",j);
this.a()}if(B){this.Vy=u.I("span")}else if(H==null){this.Vy=u.I("input");this.Vy.setAttribute("type","text")}else this.Vy=u.I("textarea","scrollable");
this.Vy.setAttribute("id",j);if(G)this.Vy.setAttribute("style","width:"+G+"em;"+(B?" display:inline-block; margin-left:6px;":""));
if(H)this.Vy.setAttribute("rows",H);this.Z.appendChild(this.Vy);if(h){this.iP=u.I("span");this.iP.textContent=h;
this.iP.style.marginLeft="2px";this.Z.appendChild(this.iP)}u.Yy(this.Vy);ap.rj(this.Vy);this.Vy.addEventListener("change",this.tX.bind(this),!1);
this.Vy.addEventListener("input",this.a59.bind(this),!1);if(H==null)this.Vy.addEventListener("keyup",this.mQ.bind(this),!1)}aG.prototype=new dQ;
aG.prototype.a=function(){this.dn()};aG.prototype.mQ=function(b){var h=ap.r7(b.code,ap.Ac),G=ap.r7(b.code,ap.pr);
if(G||h)this.Vy.blur()};aG.prototype.Sm=function(b){this.Y4.textContent=b};aG.prototype.k=function(b){var h=this.Vy,G=b==null?"":b,H=h.tagName=="SPAN";
if(H){h.textContent=" "+G;if(this.iP)h.appendChild(this.iP)}else h.value=G};aG.prototype.axh=function(b){this.iP.textContent=b};
aG.prototype.l=function(){return this.Vy.value};aG.prototype.jq=function(){this.Vy.select();this.Vy.focus()};
aG.prototype.tX=function(b){this.Q(new hb(w.E.w,!1))};aG.prototype.a59=function(b){this.Q(new hb("input",!1))};
function jR(b,h,G,H,B,j,s,q,Q){dQ.call(this);if(B==null)B=0;this.Z=u.I("span","fitem");var a=u.AF();
this.hG=b;this.q1=q;this.Rw=0;this.V2=Q;this.cK=h;this.xJ=G;this.Fp=null;if(H instanceof Array){this.Fp=H;
H=H[0]}this.BX=H;this.Ks=B;this.a1e=j;this.KU=s;this.AH=0;this.Y4=u.I("label","flabel");this.Y4.setAttribute("style","cursor:col-resize;");
this.Ra=u.I("input");this.Ra.setAttribute("type","range");if(s){this.Ra.min=0;this.Ra.max=400}else{this.Ra.min=h;
this.Ra.max=G;if(B!=0)this.Ra.step=(G-h)/200}this.Vy=u.I("input");this.Vy.setAttribute("type","text");
this.Vy.setAttribute("id",a);this.iP=u.I("span");this.iP.textContent=H;u.Yy(this.Vy);this.Vy.addEventListener("change",this.tX.bind(this),!1);
this.Vy.addEventListener("keydown",this.up.bind(this),!1);ap.rj(this.Vy);this.Vy.addEventListener("keyup",this.mQ.bind(this),!1);
this.Vy.addEventListener("wheel",this.uT.bind(this),!1);this.Ra.addEventListener("input",this.tX.bind(this),!1);
if(Q)this.Ra.addEventListener("change",this.tX.bind(this),!1);this.Ra.addEventListener("click",this.akB.bind(this),!1);
this.adV=this.amK.bind(this);this.a8a=this.ate.bind(this);this.anS=this.a1R.bind(this);this.u5=0;this.X9=0;
this.EQ=!1;u.fm(this.Y4,this.adV);u.TB(this.Y4)}jR.prototype=new dQ;jR.prototype.cC=function(b){this.Ks=b};
jR.prototype.Sm=function(b){this.Y4.style.display=b?"inherit":"none";if(b)this.Y4.textContent=bp.get(b)};
jR.prototype.a=function(){var g1=this.hG,b=this.q1;if(g1){if(typeof g1=="string"&&g1.startsWith("<"))this.Y4.innerHTML=g1;
else this.dn()}if(b){b=bp.get(b);if(g1)this.Y4.setAttribute("title",b);this.Vy.setAttribute("title",b)}};
jR.prototype.k=function(b,h){var G=this.cK==this.xJ,B;if(!G&&this.cK>=0)b=Math.max(this.cK,b);if(this.Ks==0)b=Math.round(b);
var H=this.BX;this.Rw=b;this.Vy.value=parseFloat(this.Ks!=0?b.toFixed(this.Ks):b)+(this.a1e&&H?(H.toLowerCase()==H.toUpperCase()?"":" ")+H:"");
if(-this.cK==this.xJ)B=200+Math.sign(b)*200*Math.pow(Math.abs(b)/this.xJ,1/2.7);else B=400*Math.pow((b-this.cK)/(this.xJ-this.cK),1/2.7);
this.Ra.value=this.KU?B:b;if(h)this.hO()};jR.prototype.l=function(){var b=this.Rw;if(isNaN(b))b=0;return b};
jR.prototype.Np=function(){return this.BX};jR.prototype.tX=function(b){var h=0;if(b.currentTarget==this.Vy){var G=b.target.value,H=0;
if(G=="")h=0;else if(this.BX){h=parseFloat(G)}else{try{h=eval(G)}catch(b){h=1}}if(isNaN(h))h=0;while(H<G.length&&(G.charAt(H)=="."||48<=G.charCodeAt(H)&&G.charCodeAt(H)<=57))H++;
var B=G.slice(H).trim();if(this.Fp&&this.Fp.indexOf(B)!=-1)this.BX=B}else{if(Date.now()-this.AH<10)return;
h=parseFloat(b.target.value);if(this.KU){if(-this.cK==this.xJ)h=Math.sign(h-200)*Math.pow(Math.abs(h-200)/200,2.7)*this.xJ;
else h=this.cK+Math.pow(h/400,2.7)*(this.xJ-this.cK);h=this.acw(h)}}this.k(h);if(b.type=="input"&&this.V2)return;
this.hO()};jR.prototype.hO=function(){this.Q(new hb(w.E.w))};jR.prototype.acw=function(b){if(this.xJ-this.cK>50&&b>10)b=Math.round(b);
return b};jR.prototype.up=function(b){var h=0;if(ap.r7(b.code,ap.KQ))h=1;if(ap.r7(b.code,ap.y3))h=-1;
if(h!=0)this.a1M(h,b.shiftKey)};jR.prototype.mQ=function(b){var h=ap.r7(b.code,ap.Ac),G=ap.r7(b.code,ap.pr);
if(h)this.k(this.l());if(G||h)this.Vy.blur()};jR.prototype.uT=function(b){this.a1M(b.deltaY>0?-1:1,b.shiftKey)};
jR.prototype.a1M=function(b,h){var G=this.l(),H=this.Ks,B=b*(H==null||H==0||G>5?1:.1);if(h)B*=10;var j=G+B;
if(!this.KU&&this.xJ!=this.cK)j=Math.min(this.xJ,j);this.k(j);this.hO()};jR.prototype.akB=function(b){var h=Date.now()-this.AH;
this.AH=Date.now();if(h>200)return;var G=this.cK,H=this.xJ,B=(G+H)/2;if(G<1&&H>1&&H<10)B=1;else if(G<90&&H>110)B=100;
else if(G<0&&H>0)B=0;this.k(B);this.hO()};jR.prototype.amK=function(b){u.fe(document,this.a8a);u.$f(document,this.anS);
this.u5=u.Kz(b,document.body).x;this.X9=this.l()};jR.prototype.ate=function(b){u.oO(b);var h=this.cK==this.xJ,G=u.Kz(b,document.body).x,H=(G-this.u5)*(h?1:1/120*(this.xJ-this.cK)),B=this.X9+H;
if(h)B=Math.round(B);if(!h){if(!0){B=Math.max(this.cK,B);if(B==this.cK){this.u5=G;this.X9=this.cK}}if(!this.KU){B=Math.min(this.xJ,B);
if(B==this.xJ){this.u5=G;this.X9=this.xJ}}B=this.acw(B)}this.EQ=!0;this.k(B);if(!this.V2)this.hO()};
jR.prototype.a1R=function(b){if(!this.EQ)this.Vy.focus();this.EQ=!1;if(this.V2)this.hO();u.CV(document,this.a8a);
u.iF(document,this.anS)};jR.prototype.jq=function(){this.Vy.select();this.Vy.focus()};function bP(b,h,G,H,B,j,s,q,Q,a){jR.call(this,b,h,G,H,B,!0,j,Q,a);
u.eS(this.Z,"rangedropinput");this.Z.appendChild(this.Y4);this.Vy.setAttribute("style","width:"+(q?q:3.3)+"em");
this.Z.appendChild(this.Vy);this.aue=u.I("span","rangecontFloat");this.aue.appendChild(this.Ra);this.Nv=u.I("button");
this.Nv.textContent="\u25BC";u.fm(this.Nv,this.alZ.bind(this));if(s!=!0)this.Z.appendChild(this.Nv);
this.Tz=new dQ;this.Tz.Z=this.aue}bP.prototype=new jR;bP.prototype.alZ=function(b){if(u.Pg(this.Tz.Z))return;
b.stopPropagation();var h=this.Z.getBoundingClientRect();this.Ra.setAttribute("style","width:"+h.width+"px;");
var G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:this.Tz,x:h.left-10,y:h.top+h.height};this.Q(G)};function el(b,h,G,H,B,j){jR.call(this,b,h,G,H,B,!1,j);
this.Z.appendChild(this.Y4);var s=u.I("span");this.Z.appendChild(s);s.appendChild(this.Ra);this.Z.appendChild(this.Vy);
this.Vy.setAttribute("style","width:3.3em");if(this.BX)this.Z.appendChild(this.iP)}el.prototype=new jR;
function cm(b,h,G,H,B,j,s,q){jR.call(this,b,h,G,H,B,!0,j,null,s);u.eS(this.Z,"trangeinput");this.Z.appendChild(this.Y4);
this.Z.appendChild(this.Vy);var Q=u.I("span");if(q!=!0)this.Z.appendChild(Q);Q.appendChild(this.Ra)}cm.prototype=new jR;
function cP(b,h,G,H){dQ.call(this);if(!h)return;this.$q=0;this.hG=b;this.ayH=H;this.Ot=null;this.T3=G;
this.eH=[];var B="dd"+u.AF();this.Z=u.I("span","fitem ddmenu");if(b){this.Y4=u.I("label","flabel");this.Z.appendChild(this.Y4);
this.Y4.setAttribute("for",B)}this.Vy=u.I("select");ap.rj(this.Vy);this.Vy.setAttribute("id",B);this.Z.appendChild(this.Vy);
this.Vy.addEventListener("change",this.tX.bind(this),!1);function j(s){var q=0;if(ap.r7(s.code,ap.KQ))q=1;
if(ap.r7(s.code,ap.y3))q=-1;if(q!=0)s.stopPropagation()}this.Vy.addEventListener("keydown",j,!1);this.Vy.addEventListener("keyup",j,!1);
this.Yu=[];this.Jz=null;this.mX(h,G);this.a()}cP.prototype=new dQ;cP.prototype.Sm=function(b){this.hG=b;
this.a()};cP.prototype.a=function(){this.dn();if(this.Jz)this.mX(this.Jz,this.T3);if(this.ayH)this.Vy.setAttribute("title",bp.get(this.ayH));
this.k(this.$q)};cP.prototype.l=function(){return this.$q};cP.prototype.mX=function(b,h){u._I(this.Vy);
var G=[],H=0;if(h){G.push(h[0]);for(var Y=1;Y<h.length;Y++)G.push(G[Y-1]+h[Y])}this.Jz=b;this.Ot=[];
this.T3=h;for(var Y=0;Y<b.length;Y++){var B=u.I("option");if(this.eH.indexOf(Y)!=-1)B.setAttribute("disabled","");
B.textContent=bp.get(b[Y]);B.setAttribute("value",Y);this.Vy.appendChild(B);this.Yu.push(B);this.Ot.push(Y+H);
if(G.indexOf(Y+1)!=-1&&Y!=b.length-1){var j=u.I("option");j.setAttribute("disabled","");j.textContent="";
this.Vy.appendChild(j);H++}}};cP.prototype.aag=function(Y){var b=this.eH,h=b.indexOf(Y);if(h==-1)b.push(Y);
this.a()};cP.prototype.a4Y=function(Y){var b=this.eH,h=b.indexOf(Y);if(h!=-1)b.splice(h,1);this.a()};
cP.prototype.k=function(b){this.$q=b;this.Vy.selectedIndex=this.Ot[b]};cP.prototype.tX=function(b){this.$q=this.Ot.indexOf(this.Vy.selectedIndex);
this.Q(new hb(w.E.w,!1))};cP.prototype.jq=function(){this.Vy.focus()};function g2(b,h,G,H,B){dQ.call(this);
if(!h)return;this.$q=0;this.aC$=H;this.a2I=B;this.Z=u.I("span","fitem bbmenu");this.eu=u.I("label","flabel");
if(b){this.hG=b;this.eu.textContent=b+":";this.Z.appendChild(this.eu)}this.Yu=[];this.PN=u.I("span");
this.Z.appendChild(this.PN);this.Jz=null;this.mX(h,G);this.k(0)}g2.prototype=new dQ;g2.prototype.Sm=function(b){this.hG=b;
this.a()};g2.prototype.a=function(){var b=this.eu.parentNode!=null,h=this.Z;if(this.hG!=null){if(!b){h.appendChild(this.eu);
h.appendChild(this.PN)}this.eu.textContent=bp.get(this.hG)+": "}else if(b)h.removeChild(this.eu);for(var Y=0;
Y<this.Yu.length;Y++)this.Yu[Y].a()};g2.prototype.l=function(){return this.$q};g2.prototype.mX=function(b,h){u._I(this.PN);
this.Yu=[];this.Jz=b;for(var Y=0;Y<b.length;Y++){var G=new gX(b[Y],!1,h?h[Y]:null,this.aC$);G.O("click",this.tX,this);
this.PN.appendChild(G.Z);this.Yu.push(G)}this.a()};g2.prototype.k=function(b){this.$q=b;for(var Y=0;
Y<this.Yu.length;Y++)this.Yu[Y].rL();if(b!=-1)this.Yu[b].zr()};g2.prototype.tX=function(b){var Y=this.Yu.indexOf(b.target);
this.k(this.a2I&&Y==this.$q?-1:Y);this.Q(new hb(w.E.w,!1))};g2.Bq=function(b,h,G){if(h==null)h=16;var H=g2.nj,B=H.getContext("2d"),j=h>>>1;
H.width=H.height=h;var s=[];for(var Y=0;Y<b.length;Y++){if(b[Y][0]=="-")s.push(b[Y].slice(1));else if(b[Y]=="checker"||b[Y].startsWith("#")){if(b[Y]=="checker"){B.fillStyle="white";
B.fillRect(0,0,h,h);B.fillStyle="#bbbbbb";B.fillRect(j,0,j,j);B.fillRect(0,j,j,j)}else if(b[Y].startsWith("#")){B.fillStyle=b[Y];
B.fillRect(0,0,h,h)}s.push("<img src=\""+H.toDataURL()+"\" />")}else s.push(u.b5(b[Y],null,G?G:"autoscale"))}return s};
g2.nj=u.I("canvas");function jH(b,h,G,H,B,j){dQ.call(this);this.Z=u.I("span","fitem mbox");this.akP=G;
this.aqb=B;if(b){this.hG=b;this.eu=u.I("label","flabel");this.Z.appendChild(this.eu)}this.DQ=h;this.kq=[];
for(var Y=0;Y<h.length;Y++){var s=G?new gX(h[Y],!1,H?H[Y]:null,!1,j):new iI(h[Y],!0,"");s.O(G?"click":w.E.w,this.tX,this);
this.kq.push(s);this.Z.appendChild(s.Z)}this.a()}jH.prototype=new dQ;jH.prototype.k=function(b){for(var h=0;
h<this.DQ.length;h++)this.kq[h].k(b[h])};jH.prototype.l=function(){var b=[];for(var h=0;h<this.DQ.length;
h++)b[h]=this.kq[h].l();return b};jH.prototype.a=function(){if(this.hG)this.eu.innerHTML=bp.get(this.hG)+": ";
var b=this.kq;for(var h=0;h<b.length;h++){b[h].a();if(h==b.length-1)b[h].Z.style.marginRight="0px"}};
jH.prototype.tX=function(b){var Y=this.kq.indexOf(b.currentTarget),h=this.kq[Y];if(this.akP)h.k(!h.l());
if(this.aqb){var G=h.l();for(var Y=0;Y<this.kq.length;Y++)this.kq[Y].k(!1);h.k(G)}this.Q(new hb(w.E.w,!1))};
function cW(b,h){dQ.call(this);this.DJ=[];this.T=[];this.a35=b;this._w=h;this.Di=0;this.Ov=null;this.Zn=new cJ(0,0);
if(h!=null){this.$_=new fL([{name:[6,37]},{name:[5,4]}]);this.$_.parent=this;this.$_.O("select",this.OQ,this)}this.Z=u.I("div","imageset scrollable");
this.Z.addEventListener("contextmenu",u._2,!1)}cW.prototype=new dQ;cW.prototype.a=function(){if(this.$_)this.$_.a()};
cW.prototype.OQ=function(b){var Y=this.$_.QO()[0],h=new hb(w.E.b,!0),G={q:w.p.wP,CI:this._w,Oq:this.T.slice(0)};
if(Y==0){var H=this.Ov[1][this.T[0]],B=H.split("/");if(B.length==2){G.Zg=B[0]+"/";H=B[1]}G.hb="rnm";
h.data={q:w.p.C9,ut:"namewindow",Wy:H,BM:{K:w.E.b,i:G}}}else{h.data=G;G.hb="del"}this.Q(h)};cW.prototype.aAK=function(){return this.Di};
cW.prototype.XZ=function(b){this.Di=b;if(this.Ov)this.BL()};cW.prototype.J_=function(b,h,G,H){this.Ov=[b,h,G,H];
this.BL()};cW.prototype.BL=function(){var b=this.Ov,h=this.Z,G=b[0],H=b[1],B=b[2],j=b[3];this.DJ=[];
u._I(h);var s=this.ao.bind(this),q=this.Di;if(q==0)u.eS(h,"imageset");else u.Yx(h,"imageset");var Q={};
for(var Y=0;Y<G.length;Y++){var a=G[Y],l=null,U=null;if(a==null){this.DJ.push(null);continue}if(typeof a=="string"){l=u.I("img","image");
l.setAttribute("src",a)}else l=a;if(B)u.o3(l,B,j);if(this.a35)u.eS(l,"gsicon");if(H){var U=H[Y],N=U.split("/");
if(N.length==2){var R=Q[N[0]];U=N[1];if(R==null)R=Q[N[0]]=[];R.push(Y)}}if(q==0){}else{var S=u.I("div","listitem");
S.appendChild(l);var g=u.I("span");g.textContent=U?U:"Item "+(Y+1);g.setAttribute("style","margin-left:4px;");
S.appendChild(g);l=S}if(U)l.setAttribute("title",U);l.addEventListener("mousedown",s,!1);this.DJ.push(l);
h.appendChild(l)}if(Object.keys(Q).length!=0){u._I(h);for(var i in Q){var R=Q[i],y=u.I("div","listitem head");
y.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var o=u.I("div","headL");y.appendChild(o);o.appendChild(u.I("div","folder"));var g=u.I("span");g.textContent=i;
o.appendChild(g);h.appendChild(y);for(var Y=0;Y<R.length;Y++)h.appendChild(this.DJ[R[Y]])}}};cW.prototype.ao=function(b){if(this._w==null)b.preventDefault();
var h=this.DJ.indexOf(b.currentTarget),G=window.__kb,H=this.T,B=H.length;if(G.W(ap.J3)){var j=Math.min(H[0],H[H.length-1],h),s=Math.max(H[0],H[H.length-1],h);
H=[];for(var Y=j;Y<=s;Y++)H.push(Y)}else if(G.W(ap.zb)){var q=H.indexOf(h);if(q==-1)H.push(h);else H.splice(q,1)}else H=[h];
H.sort(function(U,N){return U-N});if(b.button==0||B==1)this.k(H);this.Zn=u.Kz(b,b.currentTarget);if(b.button==0)this.Q(new hb(w.E.w));
if(b.button==2&&this.$_){var Q=this.$_;Q.update(null);var a=u.Kz(b,document.body),l=new hb(w.E.b,!0);
l.data={q:w.p.YB,Wn:Q,x:a.x,y:a.y+2};this.Q(l)}};cW.prototype.l=function(){return this.T.slice(0)};cW.prototype.a92=function(){var b=this.Zn;
return new cJ(b.x,b.y)};cW.prototype.k=function(b){this.T=b.slice(0);for(var Y=0;Y<this.DJ.length;Y++){var h=this.DJ[Y];
if(h==null)continue;if(b.indexOf(Y)!=-1)u.eS(h,"selected");else u.Yx(h,"selected")}};function hM(b,h,G,H,B,j,s){dQ.call(this);
this.Z=u.I("span","fitem "+G);this.u1=new dQ;this.u1.Z=u.I("div","floatcont");this.R4=H;this.u1.parent=this;
this.acG=u.I("div");this.u1.Z.appendChild(this.acG);this.Ab=u.I("div");this.u1.Z.appendChild(this.Ab);
if(b){this.hG=b;this.eu=u.I("label","flabel");this.Z.appendChild(this.eu)}this.q=u.I("button",s?"nopadding":"");
this.q.setAttribute("style","position:relative;");var q=this.em.bind(this),Q=this.ke.bind(this);u.fm(this.q,h?Q:q);
this.Z.appendChild(this.q);this.qf=u.I("img",s?"gsicon":"");this.q.appendChild(this.qf);if(h){var a=u.I("button");
a.textContent="\u25BC";u.fm(a,q);this.Z.appendChild(a)}else{var l=u.I("span");l.textContent="\u25BC";
l.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.q.appendChild(l)}var U=this.a0f=u.I("span");
this.Ab.appendChild(U);U.setAttribute("style","display:inline-block;  vertical-align:top;");this.pF=new cW(s,j);
U.appendChild(this.pF.Z);this.pF.parent=this.u1;this.pF.O(w.E.w,this.gL,this);this.pF.Z.style.height=B+"px";
this.hY=u.I("button");this.hY.textContent="\u25BC";this.hY.setAttribute("style","padding:3px");u.fm(this.hY,this.Fw.bind(this));
this.Ab.appendChild(this.hY);var N=this.VG(),R=this.a6P=j!=ec.vr&&j!=ec.HG?j:null,S=this.a8w=j==null?!1:ec.VA[j][4]!=0,g=j==null?"":ec.VA[j][0].toUpperCase(),i=[];
if(R)i.push({name:[12,87]});i.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],oq:!0});i.push({name:[[23,6],"."+(g=="ICC"?"icc .cube .look .3dl":g)]},{name:["VAR0 ."+g,[1,8]]},{name:[6,37]},{name:[5,4],oq:N.length!=0});
for(var Y=0;Y<N.length;Y++)i.push({name:N[Y].split("/").pop()});this.aiG=i;this._w=j;this.LP=null;this.IS=!0;
this.Cq=null}hM.prototype=new dQ;hM.prototype.VG=function(){return[]};hM.prototype.ke=function(){};hM.prototype.a=function(){this.pF.a();
var b=this.hG;if(b)this.eu.textContent=bp.get(b)+":"};hM.prototype.Sm=function(b){this.eu.textContent=b};
hM.prototype.Cv=function(b){var h=this._w,G=0;if(h==ec.WS){G=this.LP?this.LP.length:0;b=b.slice(0)}this.LP=b;
this.IS=!0;if(u.Pg(this.pF.Z)||h==ec.vF)this.NG();if(h==ec.WS&&b.length-G==1&&u.Pg(this.Z)){this.k(b[G]);
this.IS=!0;this.NG();this.pF.k([G]);this.Q(new hb(w.E.w))}};hM.prototype.OQ=function(b){var h=b.target.QO()[0];
if(this.a6P==null)h++;var G=new hb(w.E.b,!0);if(h==0){var H=this.y5();if(this._w==ec.WS&&H[0].profile==null)return;
G.data={q:w.p.wP,hb:"add",CI:this.a6P,U$:H}}else if(h==1)this.pF.XZ(1-this.pF.aAK());else if(h<=5)this.Jd(h-2);
else{var B=this.VG();G.data={q:w.p.iv,CI:{url:"rsrc/"+B[h-6]}}}if(G.data)this.Q(G)};hM.prototype.Jd=function(b){var h=new hb(w.E.b,!0),G=this.pF.l(),H={q:w.p.wP,CI:this._w,Oq:G};
if(b>1&&G.length==0){alert("No items selected");return}if(b==0)h.data={q:w.p.vd};else if(b==1)h.data={q:w.p.uu,ago:this._w,Oq:G.length==0?null:G};
else if(b==2){var B=this.pF.Ov[1][G[0]],j=B.split("/");if(j.length==2){H.Zg=j[0]+"/";B=j[1]}H.hb="rnm";
h.data={q:w.p.C9,ut:"namewindow",Wy:B,BM:{K:w.E.b,i:H}}}else if(b==3){h.data=H;H.hb="del"}this.Q(h)};
hM.prototype.y5=function(){return[this.l()]};hM.prototype.Fw=function(b){if(this.$_==null){this.$_=new fL(this.aiG);
this.$_.parent=this.u1;this.$_.O("select",this.OQ,this)}if(u.Pg(this.$_.Z))return;b.stopPropagation();
var h=this.$_;h.a();h.update(null);var G=b.currentTarget.getBoundingClientRect(),H=new hb(w.E.b,!0);
H.data={q:w.p.YB,Wn:h,x:G.left,y:G.top+G.height};this.Q(H)};hM.prototype.em=function(b,h,G){if(u.Pg(this.u1.Z))return;
if(b)b.stopPropagation();this.NG();if(h==null){var H=this.q.getBoundingClientRect(),h=H.left,G=H.top+H.height}this.Vb();
var B=new hb(w.E.b,!0);B.data={q:w.p.YB,Wn:this.u1,x:h,y:G,WQ:!0};this.Q(B)};hM.prototype.Vb=function(b,h){var b=Math.min(this.R4,window.innerWidth-40);
this.a0f.style.width=b+"px";this.u1.Z.style.width=b+20+"px"};hM.prototype.arF=function(b,h){this.em(null,b,h)};
function cH(){dQ.call(this);this.Z=u.I("div");this.Rw=!1;this.vT=[new cP([12,19,1],[[13,1,7]].concat(eZ.po)),new bI([17,1]),new bI([12,46])];
for(var Y=0;Y<3;Y++){var b=this.vT[Y];this.Z.appendChild(b.Z);b.O(w.E.w,this.v5,this)}this.a()}cH.prototype=new dQ;
cH.prototype.a=function(){for(var Y=0;Y<3;Y++)this.vT[Y].a()};cH.prototype.l=function(){return this.Rw.slice(0)};
cH.prototype.k=function(b){this.Rw=b.slice(0);var h=this.vT,G=h[0].l();h[1].k(b.slice(G*8,G*8+4),G);
h[2].k(b.slice(G*8+4,G*8+8),G)};cH.prototype.v5=function(b){var h=this.vT,G=h.indexOf(b.currentTarget);
if(G==0)this.k(this.Rw);else{var H=h[0].l()*8+(G==1?0:4),B=h[G].l();for(var Y=0;Y<4;Y++)this.Rw[H+Y]=B[Y];
this.Q(new hb(w.E.w,!1))}};function bI(b){dQ.call(this);this.Z=u.I("div");this.cj=u.I("canvas");this.r3=b;
this.Rw=[0,20,200,255];this.MW=0;this.Nb=-1;this.akX=[];for(var Y=0;Y<5;Y++){var h=u.I("span");h.setAttribute("style","display:inline-block;width:"+(Y==0?8:Y==2?7:2)+"em");
this.akX.push(h);this.Z.appendChild(h)}this.IX=this._M.bind(this);this.Bg=this.wv.bind(this);this.Hb=this.om.bind(this);
u.TB(this.cj);u.fm(this.cj,this.IX);this.Z.appendChild(this.cj);this.BL()}bI.prototype=new dQ;bI.prototype.a=function(){this.BL()};
bI.prototype.k=function(b,h){this.Rw=b;this.MW=h;this.BL()};bI.prototype.l=function(){return this.Rw.slice(0)};
bI.prototype._M=function(b){var h=this.Rw,G=u.Kz(b,this.cj),H=G.x-8,B=-1,j=1e9;for(var Y=0;Y<4;Y++){var s=H-h[Y],q=Math.abs(s);
if(q<8&&q<j&&((Y&1)==0&&s<0||(Y&1)==1&&s>0)){j=s;B=Y}}if(B==-1)return;this.Nb=B;this.k9=window.__kb.W(ap.p0)||h[(B>>>1)*2]!=h[(B>>>1)*2+1];
u.fe(window,this.Bg);u.$f(window,this.Hb)};bI.prototype.wv=function(b){var h=this.Rw,G=this.Nb,H=(G>>>1)*2,B=H+1,j=u.Kz(b,this.cj),s=Math.round(Math.max(0,Math.min(255,j.x-8)));
h[G]=s;if(this.k9&&h[H]>=h[B])this.k9=!1;if(!this.k9)h[H]=h[B]=s;this.BL();this.Q(new hb(w.E.w,!1))};
bI.prototype.om=function(b){u.CV(window,this.Bg);u.iF(window,this.Hb)};bI.prototype.BL=function(){var b=this.cj;
u.Xn(b,255+16,16);var h=b.getContext("2d"),G=b.width,H=b.height,B=Math.round(255*u.V()),j=Math.round(8*u.V());
h.translate(j,0);var s=h.createLinearGradient(0,0,B,0);s.addColorStop(0,"black");s.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.MW]);
h.fillStyle=s;h.fillRect(0,0,B,j);var q=this.akX,Q=bp.get(this.r3)+":";q[0].textContent=Q;for(var Y=0;
Y<4;Y++){var a=this.Rw[Y];q[1+Y].textContent=a;var l=Math.round(a*u.V());h.beginPath();h.moveTo(l,j);
h.lineTo(l,j+j);h.lineTo(l+((Y&1)==0?-1:1)*j,j+j);h.closePath();h.fillStyle=Y<2?"#666666":"#cccccc";
h.fill();h.strokeStyle="black";h.stroke()}};function f8(b,h,G){dQ.call(this);if(G==null)G=!1;this.P=[0,0,1];
this.am9=h;this.aze=G;this.bO=0;var H="ai"+u.AF();this.Z=u.I("span","fitem angleinput");if(b){this.eu=u.I("label","flabel");
this.hG=b;this.Z.appendChild(this.eu);this.eu.setAttribute("for",H)}this.ya=G?44:20;this.cj=u.I("canvas","gsicon");
this.ZI=this.cj.getContext("2d");u.TB(this.cj);u.Xn(this.cj,this.ya*2+1,this.ya*2+1);this.ZI.scale(u.V(),u.V());
this.Z.appendChild(this.cj);u.fm(this.cj,this.CK.bind(this));this.Rs=this.CS.bind(this);this.Xw=this.SW.bind(this);
var B=this.tX.bind(this),j=u.I("div");j.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!G)this.Z.appendChild(j);this.aK=[];for(var Y=0;Y<2;Y++){var s=u.I("input");this.aK.push(s);s.setAttribute("type","text");
u.Yy(s);if(Y==0)s.setAttribute("id",H);s.addEventListener("change",B,!1);var q=u.I("span");q.textContent="\xB0";
if(Y==0||h){j.appendChild(s);j.appendChild(q);u.pP(j)}}this.k(this.P)}f8.prototype=new dQ;f8.prototype.a=function(){if(this.hG)this.eu.textContent=bp.get(this.hG)+":"};
f8.prototype.Sm=function(b){this.eu.textContent=b};f8.prototype.l=function(){return this.P.slice(0)};
f8.prototype.k=function(b,h){var G=this.P;b=b.slice(0);if(b[0]==null)b[0]=G[0];if(b[1]==null)b[1]=G[1];
if(b[2]==null)b[2]=G[2];this.P=b;var H=b[0],B=b[1],j=b[2],s=this.am9,q=this.aze,Q=this.ya*.85;if(!s)B=0;
this.aK[0].value=H;this.aK[1].value=B;var a=this.ZI;a.clearRect(0,0,100,100);H=Math.PI*H/180;B=Q*(90-B)/90;
var l=this.ya+.5;a.save();a.translate(l,l);a.rotate(-H);a.strokeStyle="rgba(0,0,0,0.5)";a.beginPath();
a.ellipse(0,0,Q,Q*j,0,0,2*Math.PI);if(q){a.moveTo(0,-Q*j);a.lineTo(0,Q*j);a.moveTo(-B,0)}else a.moveTo(0,0);
a.lineTo(B,0);a.stroke();var U=this.ya*.15;a.fillStyle="black";a.beginPath();if(q){a.arc(0,-Q*j,U*.66,0,2*Math.PI);
a.arc(0,Q*j,U*.66,0,2*Math.PI)}if(s){a.arc(B,0,U*.4,0,2*Math.PI)}else{a.moveTo(l-U,-U*.66);a.lineTo(l,0);
a.lineTo(l-U,U*.66)}a.fill();a.restore();if(h)this.tX()};f8.prototype.tX=function(b){var h=parseInt(this.aK[0].value);
if(isNaN(h))h=0;var G=parseInt(this.aK[1].value);if(isNaN(G))G=0;h=h%360;G=G%360;this.k([h,G]);this.Q(new hb(w.E.w,!1))};
f8.prototype.CK=function(b){u.fe(window,this.Rs);u.$f(window,this.Xw);var h=u.Kz(b,this.cj),l=0,U=1e9;
h.x-=this.ya;h.y-=this.ya;var G=this.P,H=G[0]*Math.PI/180,B=(90-G[1])/90,j=G[2],s=this.ya*.85,q=Math.sin(-H),Q=Math.cos(-H),a=[new cJ(Q*s,q*s)];
if(this.aze)a.push(new cJ(-q*s*j,Q*s*j),new cJ(q*s*j,-Q*s*j));for(var Y=0;Y<a.length;Y++){var N=cJ.o0(h,a[Y]);
if(N<U){U=N;l=Y}}this.bO=l;if(l==0)this.CS(b)};f8.prototype.CS=function(b){var h=u.Kz(b,this.cj),G=this.bO,H=[],B=h.x-this.ya,j=h.y-this.ya,s=this.ya*.85;
if(G==0){var q=180*Math.atan2(-j,B)/Math.PI,Q=90-90*Math.min(1,Math.sqrt(B*B+j*j)/s);if(b.shiftKey)q=Math.round(q/15)*15;
H=[Math.round(q),Math.round(Q)]}else H=[null,null,Math.max(.01,Math.min(1,Math.sqrt(B*B+j*j)/s))];this.k(H);
this.Q(new hb(w.E.w,!1))};f8.prototype.SW=function(b){this.Q(new hb(w.E.w,!1));u.CV(window,this.Rs);
u.iF(window,this.Xw)};function er(b,h){dQ.call(this);this.Rw=0;this.al=h;this.Z=u.I("span","fitem angleinput");
if(b){this.eu=u.I("label","flabel");this.hG=b;this.Z.appendChild(this.eu)}this.cj=u.I("canvas","gsicon");
this.ZI=this.cj.getContext("2d");u.Xn(this.cj,h,h);this.Z.appendChild(this.cj);u.TB(this.cj);u.fm(this.cj,this.CK.bind(this));
this.Rs=this.CS.bind(this);this.Xw=this.SW.bind(this);this.k(0)}er.prototype=new dQ;er.prototype.a=function(){if(this.hG)this.eu.textContent=bp.get(this.hG)+":"};
er.prototype.Sm=function(b){this.eu.textContent=b};er.prototype.l=function(){return this.Rw};er.prototype.aBk=function(b){var h=this.Rw,G=Math.floor(h/3),H=h-G*3;
H=Math.max(0,Math.min(2,H+b.x));G=Math.max(0,Math.min(2,G+b.y));this.k(G*3+H)};er.prototype.k=function(b){this.Rw=b;
var h=this.cj.width,G=Math.floor(b/3),H=b-3*G,B=(H+.5)*h/3,j=(G+.5)*h/3,s=this.ZI,q=[.5,Math.round(h/3)+.5,Math.round(2*h/3)+.5,h-.5];
s.clearRect(0,0,h,h);var Q=this.al<30;s.setLineDash([]);s.strokeStyle=Q?"rgba(0,0,0,0.5)":"#000000";
s.beginPath();for(var Y=0;Y<4;Y++){var a=q[Y];s.moveTo(a,0);s.lineTo(a,h);s.moveTo(0,a);s.lineTo(h,a)}s.stroke();
if(b==9)return;if(!Q){s.setLineDash([1,2]);var l=h*.53,U=Math.max(0,Math.min(h-l,B-l/2)),N=Math.max(0,Math.min(h-l,j-l/2));
s.strokeRect(Math.round(U)+.5,Math.round(N)+.5,Math.round(l),Math.round(l))}s.fillStyle="#000000";s.beginPath();
s.arc(B,j,h/8,0,Math.PI*2);s.fill()};er.prototype.CK=function(b){u.fe(document.body,this.Rs);u.$f(document.body,this.Xw);
this.CS(b)};er.prototype.CS=function(b){var h=u.Kz(b,this.cj),G=Math.max(0,Math.min(2,Math.floor(h.x/(this.al/3)))),H=Math.max(0,Math.min(2,Math.floor(h.y/(this.al/3))));
this.k(H*3+G)};er.prototype.SW=function(b){this.Q(new hb(w.E.w,!1));u.CV(document.body,this.Rs);u.iF(document.body,this.Xw)};
function gb(g1){dQ.call(this);this.Z=u.I("span","fitem cswatch");this.a2a=0;this.qH=[];this.g8=[];var b=this.avO.bind(this);
for(var Y=0;Y<g1;Y++){this.qH.push(0);var h=u.I("span","colorsample");h.addEventListener("click",b,!1);
this.g8.push(h);this.Z.appendChild(h)}var G=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],H=Math.min(g1,G.length);
for(var Y=0;Y<H;Y++)this.qH[Y]=G[Y];this.K1()}gb.prototype=new dQ;gb.prototype.avO=function(b){this.a2a=this.g8.indexOf(b.currentTarget);
this.Q(new hb(w.E.w))};gb.prototype.l=function(){return this.qH[this.a2a]};gb.prototype.k=function(b){var h=this.qH,G=h.indexOf(b);
if(G!=-1)h.splice(G,1);else h.pop();h.unshift(b);this.K1()};gb.prototype.K1=function(){for(var Y=0;Y<this.qH.length;
Y++){this.g8[Y].setAttribute("style","background-color:#"+e.Z0(this.qH[Y]))}};function d8(b){dQ.call(this);
this.IA={$:0,B:0,J:0};this.WE=b;this.Z=u.I("span","fitem colorsample");this.Z.addEventListener("click",this.dQ.bind(this),!1)}d8.prototype=new dQ;
d8.prototype.a=function(){};d8.prototype.dQ=function(b){var h=this.IA;this.Q(new hb("click"));var G=new hb(w.E.b,!0);
G.data={q:w.p.C9,ut:"colorpicker",UT:e.wd(h),jO:this.gA.bind(this),hh:this.WE};this.Q(G)};d8.prototype.gA=function(b){this.HS(b);
this.Q(new hb(w.E.w))};d8.prototype.$r=function(){this.dQ(null)};d8.prototype.Z9=function(){var b=this.IA;
return b.$<<16|b.B<<8|b.J};d8.prototype.l=function(){return e.F.t1(this.IA)};d8.prototype.HS=function(b){this.IA=e.M5(b);
this.aFj()};d8.prototype.k=function(b){this.IA=e.F.an(b);this.aFj()};d8.prototype.aFj=function(){var b=this.IA,h=b.$,G=b.B,H=b.J,B=h<<16|G<<8|H;
this.Z.setAttribute("style","background-color:#"+e.Z0(B))};function h$(){dQ.call(this);this.Kg=!1;this.GZ=20;
this.aCq=10;this.ZA=0;this.Kg=!1;this.Yp={$:255,B:0,J:0};this.aS={$:0,B:0,J:0};this.Cc=null;this.x4=null;
this.ks=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];this.Z=u.I("canvas");
this.BL();u.TB(this.Z);u.fm(this.Z,this.IX.bind(this))}h$.prototype=new dQ;h$.prototype.a30=function(b){if(this.Kg==b)return;
this.Kg=b;this.BL()};h$.prototype.a=function(){};h$.prototype.ayv=function(b,h){function G(H){return{$:H>>16&255,B:H>>8&255,J:H&255}}if(b!=null)this.Yp=G(b);
if(h!=null)this.aS=G(h);this.BL()};h$.prototype.ai4=function(b,h){this.Cc=b;this.x4=h;this.BL()};h$.prototype.IX=function(b){var h=u.Kz(b,this.Z),G=h.x*u.V(),H=h.y*u.V(),B=this.GZ,j=this.aCq,s=0;
if(H>B){s=4+Math.floor(3*G/B)}else if(G<j&&H<j){s=0}else if(G>B-j&&H>B-j){s=1}else if(G<j){s=2}else{s=3}this.$r(s)};
h$.prototype.$r=function(b){var h=this.Cc,G=new hb(w.E.b,!0);if(b>1){if(fq==0)G.data={q:w.p.wP,CI:ec.KI,DF:b};
else{var H=JSON.parse(JSON.stringify(h.a6));if(b==2){var B=H.g9;H.g9=H.E_;H.E_=B}if(b==3){H.E_=[1,1,1];
H.g9=[0,0,0]}if(b>=4){var j=this.ks[b-4];if(this.ZA==0)H.E_=j;else H.g9=j}G.data={q:w.p.wP,CI:ec.VZ,P:H}}}else{var s=this.gA.bind(this),q=this.ZA;
this.ZA=b;if(fq==0){var Q=b==0?this.Yp:this.aS;G.data={q:w.p.C9,ut:"colorpicker",UT:e.wd(Q),jO:s}}else{if(q!=b){this.BL();
return}var a=b==0?h.a6.E_:h.a6.g9;if(a.length==0)a=[0,0,0];h$.ati(a,this,s);return}}this.Q(G)};h$.prototype.gA=function(b){var h=new hb(w.E.b,!0),G=this.ZA,H=this.Cc;
if(fq==0)h.data={q:w.p.wP,CI:ec.KI,DF:G,P:b};else{var B=b;if(typeof b=="number"){B=e.M5(b,1);B=[B.$,B.B,B.J]}var j=JSON.parse(JSON.stringify(H.a6));
if(G==0)j.E_=B;else j.g9=B;h.data={q:w.p.wP,CI:ec.VZ,P:j}}this.Q(h)};h$.prototype.BL=function(){var b=this.Z,h=b.getContext("2d"),G=u.V(),G=u.V(),H=this.GZ=Math.floor(34*G),B=Math.floor((H-2)/3),j="#aaaaaa",s=.62;
b.width=H;b.height=H+fq*(B+9);u.dY(b);b.setAttribute("style",b.getAttribute("style")+";cursor:pointer");
var H=this.GZ=b.width,q=this.aCq=Math.round(H*s);function Q(v,Z){var W=v.$,d=v.B,$=v.J;if(Z)W=d=$=Math.round(e.ZK(W,d,$));
var I=W<<16|d<<8|$;return"#"+e.Z0(I)}function a(h,N,v,Z,W,d){h.beginPath();if(Z>=d*2&&W>=d*2){h.moveTo(N+d,v);
h.lineTo(N+Z-d,v);h.quadraticCurveTo(N+Z,v,N+Z,v+d);h.lineTo(N+Z,v+W-d);h.quadraticCurveTo(N+Z,v+W,N+Z-d,v+W);
h.lineTo(N+d,v+W);h.quadraticCurveTo(N,v+W,N,v+W-d);h.lineTo(N,v+d);h.quadraticCurveTo(N,v,N+d,v)}h.closePath()}function l(N,v,q,Z,W){h.strokeStyle=W?W:"black";
h.fillStyle=Z;a(h,N+.5,v+.5,q-1,q-1,q*.2);h.fill();h.stroke()}var U=this.Cc;if(U){h.beginPath();var N=H-q,R=Math.floor(q*.28),S=q-2*R;
h.lineWidth=1;h.strokeStyle="white";if(this.ZA==0)h$.FX(h,U.a6.g9,this.x4,q,q,N,N,!0);h$.FX(h,U.a6.E_,this.x4,q,q,0,0);
if(this.ZA==1)h$.FX(h,U.a6.g9,this.x4,q,q,N,N,!0);for(var Y=0;Y<3;Y++){h.beginPath();h$.FX(h,this.ks[Y],this.x4,B,B,Y*(B+1),H+9,!1)}}else{l(H-q,H-q,q,Q(this.aS,this.Kg));
l(0,0,q,Q(this.Yp,this.Kg))}var g=H-q,i=Math.round(g*s);l(H-i,g-i,i,fq==0?"white":"black",j);l(H-g,0,i,fq==0?"black":"white",j);
h.save();h.fillStyle=j;h.translate(0,H);h.rotate(-Math.PI/2);g=H-q;var y=Math.round(g*.28),o=Math.round(g*.25);
for(var Y=0;Y<2;Y++){h.fillRect(y,y,g-y,1);h.beginPath();h.moveTo(g-o,y+.5-o);h.lineTo(g,y+.5);h.lineTo(g-o,y+.5+o);
h.closePath();h.fill();h.transform(0,1,1,0,0,0)}h.restore()};h$.ati=function(b,h,G){var H=new hb(w.E.b,!0);
if(b.length==3)H.data={q:w.p.C9,ut:"colorpicker",UT:e.wd({$:b[0]*255,B:b[1]*255,J:b[2]*255}),jO:G};else H.data={q:w.p.C9,ut:"vgradienteditor",P:b,jO:G};
h.Q(H)};h$.FX=function(b,h,G,H,B,j,s,q){function Q(g,i){return CSS._K({$:g[0]*255,B:g[1]*255,J:g[2]*255},i)}if(h==null){b.fillStyle="#888888";
b.clearRect(j,s,H,B);b.font=Math.round(B*.6*(q?.5:1))+"px sans-serif";b.fillStyle="white";if(q){b.fillText("?",j+H*.05,s+B*.3);
b.fillText("?",j+H*.8,s+B*.3);b.fillText("?",j+H*.05,s+B*.9);b.fillText("?",j+H*.8,s+B*.9)}else b.fillText("?",H*.36,B*.7)}else if(h.length==0){b.fillStyle="#ffffff";
b.fillRect(j,s,H,B);b.strokeStyle="#ff0000";b.lineWidth=2;b.moveTo(j,s);b.lineTo(j+H,s+B);b.moveTo(j,s+B);
b.lineTo(j+H,s);b.stroke()}else if(h.length==3){b.fillStyle=Q(h);b.fillRect(j,s,H,B)}else if(h.length==4){var a=j+H/2,l=s+B/2,U=h[0]==0?b.createLinearGradient(j,s,j+H,s):b.createRadialGradient(a,l,0,a,l,H/2);
e.F.sy(U,h[1]);b.fillStyle=U;b.fillRect(j,s,H,B)}else if(h.length==2){var N=G.DG[h[0]];b.save();b.fillStyle="white";
b.fillRect(j,s,H,B);b.rect(j,s,H,B);b.scale(H/N.j,B/N._);b.fillStyle=N.jG;b.fill();b.restore()}b.lineWidth=1;
b.strokeStyle="white";b.strokeRect(j+.5,s+.5,H-1,B-1);if(q){var R=Math.floor(H*.28),S=H-2*R;b.clearRect(j+R,j+R,S,S);
b.strokeRect(j+R+.5,j+R+.5,S-1,S-1)}};function fV(b){hM.call(this,b,!1,"brushbutton nopadding",19*13,10*13,ec.pp,!0);
var h=this.acG;u.eS(h,"flexrow");var G=u.I("div");h.appendChild(G);var H=u.I("div");h.appendChild(H);
H.setAttribute("style","margin-left:8px");this.bG=new f8(null,null,!0);this.bG.O(w.E.w,this.qW,this);
G.appendChild(this.bG.Z);this.Ez=new cm([12,14,0],1,1e3," px",0,!0);this.Ez.O(w.E.w,this.qW,this);H.appendChild(this.Ez.Z);
this.Xf=new cm([12,17],0,100,"%");this.Xf.O(w.E.w,this.qW,this);H.appendChild(this.Xf.Z);this.uR=new jH(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.uR.O(w.E.w,this.qW,this);H.appendChild(this.uR.Z)}fV.prototype=new hM;fV.prototype.VG=function(){var b=["pencil","trees"];
for(var Y=0;Y<b.length;Y++)b[Y]="brushes/"+b[Y]+".abr";return b};fV.prototype.k=function(b,h,G){this.Cq=JSON.parse(JSON.stringify(b));
var H=Math.floor(20*u.V()),B=Math.floor(36*u.V()),j=Math.floor(24*u.V()),s=ft.DB(b,h,G,H,j,B);this.qf.setAttribute("src",s);
u.o3(this.qf,B,j);var q=b.Brsh.v;this.Ez.k(q.Dmtr.v.val);if(q.Hrdn!=null){this.Xf.db();this.Xf.k(q.Hrdn.v.val)}else this.Xf.ay();
if(q.Angl!=null)this.bG.k([q.Angl.v.val]);if(q.Rndn!=null)this.bG.k([null,null,q.Rndn.v.val/100]);var Q=[!1,!1];
if(b.opVr)Q[0]=b.opVr.v.bVTy.v==2;if(b.szVr)Q[1]=b.szVr.v.bVTy.v==2;this.uR.k(Q)};fV.prototype.y5=function(){return{list:[{t:"Objc",v:this.l()}],t8:[],oJ:[]}};
fV.prototype.l=function(){return this.Cq};fV.prototype.NG=function(){if(!this.IS)return;var b=[],h=[],G=this.LP,H=Math.floor(33*u.V()),B=Math.floor(40*u.V());
for(var Y=0;Y<G.list.length;Y++){var j=G.list[Y].v,s=ft.DB(j,G.t8,G.oJ,H,B);b.push(s);h.push(j.Nm.v)}this.pF.J_(b,h,H,B);
this.IS=!1};fV.prototype.gL=function(b){var h=this.LP;this.k(h.list[this.pF.l()[0]].v,h.t8,h.oJ);this.Q(new hb(w.E.w))};
fV.prototype.a=function(){hM.prototype.a.call(this);this.bG.a();this.Ez.a();this.Xf.a()};fV.prototype.qW=function(b){var h=this.LP,G=this.Cq,H=G.Brsh.v;
H.Dmtr.v.val=this.Ez.l();if(H.Hrdn!=null)H.Hrdn.v.val=this.Xf.l();if(H.Angl!=null)H.Angl.v.val=this.bG.l()[0];
if(H.Rndn!=null)H.Rndn.v.val=Math.round(this.bG.l()[2]*100);if(b.target==this.uR)f7.a1c(G,this.uR.l());
this.k(G,h.t8,h.oJ);this.Q(new hb(w.E.w))};function hm(b){hM.call(this,b,!0,"contourbutton",17*13,10.5*13,ec.CR)}hm.prototype=new hM;
hm.prototype.gL=function(b){this.k(this.LP[b.target.l()]);this.Q(new hb(w.E.w))};hm.prototype.ke=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.C9,ut:"contoureditor",q5:this.Cq,response:this.aoc.bind(this)};this.Q(h)};hm.prototype.aoc=function(b){this.k(b);
this.Q(new hb(w.E.w))};hm.prototype.NG=function(){if(!this.IS)return;var b=Math.floor(38*u.V()),h=Math.floor(38*u.V()),G=[],H=[],B=this.LP;
for(var Y=0;Y<B.length;Y++){H.push(B[Y].Nm?B[Y].Nm.v:"");G.push(e.S_.DB(B[Y].Crv.v,b,h))}this.pF.J_(G,H,b,h);
this.IS=!1};hm.prototype.k=function(b){this.Cq=JSON.parse(JSON.stringify(b));var h=this.Cq.Crv.v;for(var Y=0;
Y<h.length;Y++)if(h[Y].v.Cnty==null)h[Y].v.Cnty={t:"bool",v:!0};this.T1()};hm.prototype.T1=function(){var b=Math.floor(30*u.V()),h=Math.floor(30*u.V()),G=e.S_.DB(this.Cq.Crv.v,b,h);
this.qf.setAttribute("src",G);u.o3(this.qf,b,h)};hm.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};
function fn(b){dQ.call(this);this.fi=null;this.Cc=null;this.SM=null;this.ZR=null;this.a3R=[];this.a0v=[];
this.Z=u.I("span","fitem fillbutton");this.u1=new dQ;this.u1.Z=u.I("div","floatcont form");this.u1.Z.setAttribute("style","width: 21em;");
this.u1.parent=this;this.zn=b;this.eu=this.eu=u.I("label","flabel");this.Z.appendChild(this.eu);this.cj=u.I("canvas");
this.ZI=this.cj.getContext("2d");this.ad$=null;this.Z.appendChild(this.cj);u.fm(this.cj,this.em.bind(this));
this.w5=new g2([12,66],["","Color","Grad","Patt"]);this.u1.Z.appendChild(this.w5.Z);this.w5.O(w.E.w,this.v5,this);
this.u1.Z.appendChild(u.I("hr"));this.avx=u.I("span");this.Kn=new d8(!1);this.Kn.parent=this.u1;this.Kn.O(w.E.w,this.v5,this);
this._k=new gb(10);this._k.O(w.E.w,this.v5,this);this.AX=u.I("div","marged hiline");this.AX.appendChild(this.Kn.Z);
u.pP(this.AX);this.AX.appendChild(this._k.Z);this.yh=new cf("GrFl",!0);this.yh.parent=this.u1;this.yh.O(w.E.w,this.v5,this);
this.kG=u.I("div","marged hiline");var h="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Y=0;
Y<h.length;Y++){var G=this.yh.LV[h[Y]].Z;this.kG.appendChild(G)}this.kn=new cf("patternFill",!0);this.kn.parent=this.u1;
this.kn.O(w.E.w,this.v5,this);this.UF=u.I("div","marged hiline");var h=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<h.length;Y++){var G=this.kn.LV[h[Y]].Z;this.UF.appendChild(G)}}fn.prototype=new dQ;fn.prototype.rN=function(b,h){var G=gV.Cz(b,h);
if(G!=null)this._k.k(G);if(h==ec.Pl){this.a3R=[];this.a0v=[];if(this.fi)this.k(this.SM,this.l(),this.fi)}this.Cc=b;
this.yh.rN(b,h);this.kn.rN(b,h)};fn.prototype.a=function(){this.eu.textContent=bp.get(this.zn)+": ";
this.w5.a();this.Kn.a();this.yh.a();this.kn.a()};fn.prototype.v5=function(b){var h=b.currentTarget;if(h==this.w5){var G=this.w5.l(),H={Z_:G,Tf:this.fi[G]};
if(G>0&&H.Tf==null)H.Tf=JSON.parse(JSON.stringify(dE.td[G-1]));if(this.fi)this.k(this.SM,H,this.fi)}if(h==this._k)this.Kn.HS(h.l());
this.Q(new hb(w.E.w,!1))};fn.prototype.em=function(b){if(u.Pg(this.u1.Z))return;b.stopPropagation();
var h=this.cj.getBoundingClientRect(),G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4};
this.Q(G)};fn.prototype.k=function(b,h,G){this.fi=G;this.SM=b;var H=[[13,1,0],[13,0],[12,37],[12,62]],B=this.a3R,j=this.a0v,s=!1,l;
for(var Y=0;Y<4;Y++){var q={Z_:Y,Tf:G[Y]},Q=fn.a6O(q);if(j[Y]==Q)continue;s=!0;var a=fn.a6M(null,q,this.Cc,this.SM,22,22,!1);
B[Y]="<img width=\"22\" height=\"22\" src=\""+a+"\" />";j[Y]=Q}if(s)this.w5.mX(B,H);this.w5.k(h.Z_);
var Q=fn.a6O(h);if(Q!=this.ad$)fn.a6M(this.ZI,h,this.Cc,this.SM,30,23,!0);this.ad$=Q;var U=h.Z_;if(U==0){l=this.avx}if(U==1){this.Kn.k(h.Tf.Clr.v);
l=this.AX}if(U==2){this.yh.update(b,h.Tf);l=this.kG}if(U==3){this.kn.update(b,h.Tf);l=this.UF}if(l!=this.ZR){if(this.ZR!=null){this.u1.Z.removeChild(this.ZR)}this.u1.Z.appendChild(l);
this.ZR=l}};fn.prototype.l=function(){var b={Z_:this.w5.l()};if(b.Z_==1){b.Tf=JSON.parse(JSON.stringify(dE.td[0]));
b.Tf.Clr.v=this.Kn.l()}if(b.Z_==2){b.Tf=this.yh.l()}if(b.Z_==3){b.Tf=this.kn.l()}return b};fn.a6O=function(b){var h=b.Z_,G=b.Tf,H="empty";
if(h==1){H=e.F.an(G.Clr.v);H=H.$+","+H.B+","+H.J}if(h==2)H=JSON.stringify(G.Grad.v);if(h==3)H=G.Ptrn.v.Idnt.v;
return H};fn.a6M=function(b,h,G,H,B,j,s){if(b==null)b=fn.ZI;var q=Math.floor(B*u.V()),Q=Math.floor(j*u.V()),a=b.canvas;
a.width=q;a.height=Q;u.o3(a,q,Q);fn.aaq(b,h,G,H,q,Q);if(s){b.beginPath();b.strokeStyle="#000000";b.fillStyle="#ffffff";
b.lineWidth=2;var l=q*.7,U=Math.floor(Q*.7),N=7*u.V();b.moveTo(l,U);b.lineTo(l+N,U);b.lineTo(l+N/2,U+N/2);
b.closePath();b.stroke();b.fill()}if(b==fn.ZI)return a.toDataURL()};fn.ZI=u.I("canvas").getContext("2d");
fn.aaq=function(b,h,G,H,B,j,s,q){if(s==null)s=0;if(q==null)q=0;var Q=h.Z_;if(Q==0){b.fillStyle="#ffffff";
b.fillRect(s,q,B,j);b.strokeStyle="#ff0000";b.lineWidth=2;b.moveTo(s,q);b.lineTo(s+B,q+j);b.moveTo(s,q+j);
b.lineTo(s+B,q);b.stroke()}if(Q==1){var a=h.Tf.Clr.v;a=e.F.an(a);b.fillStyle="#"+e.Z0(a.$<<16|a.B<<8|a.J);
b.fillRect(s,q,B,j)}if(Q==2){var l=E.Yk.DB(h.Tf.Grad.v,B,j,0,G.nU,G.W9,!0);b.putImageData(l,s,q)}if(Q==3){var U=h.Tf.Ptrn.v,N;
if(H!=null)N=eQ.E1(U,H.add.Patt);if(N==null)N=eQ.E1(U,G.hK);gv.DB(N,B,j,b.canvas)}};function gv(b){hM.call(this,b,!1,"patternbutton",18*13,10*13,ec.Pl);
this.Pa=null}gv.prototype=new hM;gv.prototype.gL=function(b){var h=this.LP[this.pF.l()];this.Cq={classID:"Ptrn",Nm:{t:"TEXT",v:h.name},Idnt:{t:"TEXT",v:h.id}};
this.Q(new hb(w.E.w));this.T1()};gv.prototype.NG=function(){if(!this.IS)return;var b=this.LP,h=Math.floor(34*u.V()),G=Math.floor(34*u.V()),H=[],B=[];
for(var Y=0;Y<b.length;Y++){H.push(gv.DB(b[Y],h,G));B.push(b[Y].name)}this.pF.J_(H,B,h,G);this.IS=!1};
gv.prototype.k=function(b,h){if(this.Cq&&b.Idnt.v==this.Cq.Idnt.v)return;this.Cq=JSON.parse(JSON.stringify(b));
this.T1(h)};gv.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};gv.prototype.y5=function(){return this.Pa?[this.Pa]:[]};
gv.prototype.T1=function(b){var h=Math.floor(50*u.V()),G=Math.floor(50*u.V()),H;if(b!=null)H=eQ.E1(this.Cq,b.add.Patt);
if(H==null)H=eQ.E1(this.Cq,this.LP);this.Pa=H;var B=gv.DB(H,h,G);this.qf.setAttribute("src",B);u.o3(this.qf,h,G)};
gv.cj=u.I("canvas","");gv.DB=function(b,h,G,H){if(H==null)H=gv.cj;var B=H.getContext("2d");H.width=h;
H.height=G;if(b){var j=b.yr[1],s=j.j,q=j._,Q=b.yr[0],a=Math.min(h/s,G/q),l=a;if(l*s<2)l=2/s;var U=a;
if(U*q<2)U=2/q;var N=E.Y.Mp([Q,j],new eq(l,0,0,U,0,0),l>2),R=N.rect.j,S=N.rect._,g=B.createImageData(R,S);
e.MI(N.buffer,g.data);B.putImageData(g,Math.floor((h-R)/2),Math.floor((G-S)/2))}return H.toDataURL()};
function j$(b,h,G){if(h==null)h=24.2;if(G==null)G=17;hM.call(this,b,!1,"patternbutton",h*13,G*13,ec.vr);
this.cd=""}j$.prototype=new hM;j$.prototype.gL=function(b){this.Cq=JSON.parse(JSON.stringify(this.LP[0][this.pF.l()[0]]));
this.Q(new hb(w.E.w))};j$.prototype.NG=function(){var b=this.LP;if(b==null||!this.IS)return;var h=Math.floor(50*u.V()),G=Math.floor(50*u.V()),H=[],B=[];
for(var Y=0;Y<b[0].length;Y++){H.push(j$.DB(this.LP[0][Y].Zv,h,G,this.LP[1]));B.push(b[0][Y].es.Nm.v.split("=").pop())}this.pF.J_(H,B,h,G);
this.IS=!1};j$.prototype.k=function(b,h,G,H){var B=JSON.stringify(b.Zv)+","+G+","+H;if(this.cd!=B){this.cd=B;
this.Cq=JSON.parse(JSON.stringify(b));this.T1(h,G,H)}};j$.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};
j$.prototype.T1=function(b,h,G){var H=Math.floor(68*u.V()),B=Math.floor(68*u.V()),j=j$.DB(this.Cq.Zv,H,B,b?b:this.LP[1],h,G);
this.qf.setAttribute("src",j);u.o3(this.qf,H,B)};j$.DB=function(b,h,G,H,B,j){var s=new cj;s.j=h;s._=G;
s.buffer=e.U(h*G*4);s.add.Patt=H;s.vG(B==null?90:B);s.JP(j==null?30:j);var q=new io(0,0,Math.round(h*.5),Math.round(G*.5));
q.x=Math.round((h-q.j)/2);q.y=Math.round((G-q._)/2);var Q=s.Cx();Q.rect=q;Q.buffer=e.U(q.X()*4);e.Zi(Q.buffer,4284045657);
eQ.axo(b,Q,.5*100);s.R.push(Q);s.UL();s.c();var a=cG.pl;cG.pl=!1;s.lJ();var l=s.Nw();cG.pl=a;var U=aT.Au(l.buffer,s.j,s._);
return U};function kc(b){hM.call(this,null,!1,"tpresetbutton",18*13,24*13,ec.v_,!0);u.Yx(this.Z,"fitem");
this.pF.XZ(1);this.id=b;this.T1();this.q.style.overflow="hidden";this.e_=new iI([15,7,9]);this.e_.k(!0);
this.e_.O(w.E.w,this.a9J,this);this.Ab.appendChild(this.e_.Z)}kc.prototype=new hM;kc.prototype.anT=function(b){if(this.id==b)return;
this.id=b;this.Cv(this.LP)};kc.prototype.gL=function(b){var h=this.LP[this.pF.l()],G=new hb(w.E.b,!0);
G.data={q:w.p.wP,hb:"set",CI:ec.v_,U$:h};this.Q(G)};kc.prototype.a=function(){hM.prototype.a.call(this);
this.e_.a()};kc.prototype.a9J=function(){this.IS=!0;this.NG()};kc.prototype.NG=function(){if(!this.IS)return;
var b=Math.floor(16*u.V()),h=Math.floor(16*u.V()),G=[],H=[],B=this.LP,j=this.e_.l();for(var Y=0;Y<B.length;
Y++){var s=E.G7[B[Y][1].classID];if(!j||s==this.id){H.push(B[Y][0]?B[Y][0].split("=").pop():"");G.push(s==-1?"":PIMG[E._J[s]])}else{G.push(null);
H.push(null)}}this.pF.J_(G,H,b,h);this.IS=!1};kc.prototype.T1=function(){var b=this.qf;b.setAttribute("src",PIMG[E._J[this.id]]);
u.eS(b,"toolicon")};kc.prototype.y5=function(){return null};kc.jT={};kc.DB=function(b,h,G){var H=kc.ZI,B=kc.jT,j=e.Z0(b.$<<16|b.B<<8|b.J);
if(B[j])return B[j];if(H==null){var s=u.I("canvas");H=kc.ZI=s.getContext("2d")}var s=H.canvas;s.width=h;
s.height=G;H.fillStyle="#"+j;H.fillRect(0,0,h,G);var q=B[j]=s.toDataURL();return q};function hQ(b,h,G){dQ.call(this);
this.Z=u.I("span","fitem curveeditor");this.GU=null;this.aw1=0;this.MW="";this.mode=0;this.Uj=b;this.ap4=h;
this.aoL=G;this.M9=null;this.Bf=null;this.avQ=0;this.auQ=0;this.qk=new cJ;this.zQ=this.CS.bind(this);
this._m=this.SW.bind(this);this.al=256;this.cj=u.I("canvas");this.ZI=this.cj.getContext("2d");u.TB(this.cj);
this.Z.appendChild(this.cj);this.Vb(256,256);u.fm(this.cj,this.CK.bind(this));this.coords=u.I("div");
this.coords.setAttribute("style","width:250px");this.Z.appendChild(this.coords);var H=this.xJ=G?100:255,B=null;
this.O5=new bP("X (in)",0,H,B,0,!1,!0);this.$y=new bP("Y (out)",0,H,B,0,!1,!0);this.Bm=new iI([19,3,0]);
this.O5.O(w.E.w,this.HP,this);this.$y.O(w.E.w,this.HP,this);this.Bm.O(w.E.w,this.HP,this);this.coords.appendChild(this.O5.Z);
if(G)this.coords.appendChild(this.Bm.Z);this.coords.appendChild(this.$y.Z)}hQ.prototype=new dQ;hQ.prototype.a=function(){this.Bm.a();
this.O5.a();this.$y.a()};hQ.prototype.Vb=function(b,h){this.al=Math.round(b);this.ZI.resetTransform();
u.Xn(this.cj,this.al,this.al,this.ZI);this.ZI.scale(this.al/256,this.al/256);if(this.M9)this.wB()};hQ.prototype.HP=function(b){var Y=this.aju(),h=this.M9[Y],G=255/this.xJ;
h.v.Hrzn.v=this.O5.l()*G;h.v.Vrtc.v=this.$y.l()*G;if(this.aoL)h.v.Cnty.v=this.Bm.l();this.M9.sort(function(H,B){return H.v.Hrzn.v-B.v.Hrzn.v});
this.wB();this.Q(new hb(w.E.w))};hQ.prototype.k=function(b,Y){var h=JSON.stringify(b);if(h==JSON.stringify(this.M9))return;
this.mode=b.length==256?1:0;this.M9=JSON.parse(h);if(Y!=null)this.Bf=this.M9[Y];this.wB()};hQ.prototype.qQ=function(b,h,G){this.GU=b;
this.aw1=h;this.MW=G;this.wB()};hQ.prototype.l=function(){return JSON.parse(JSON.stringify(this.M9))};
hQ.prototype.aju=function(){return this.M9.indexOf(this.Bf)};hQ.prototype.CK=function(b){var h=256/this.al,G=u.Kz(b,this.cj);
G.x*=h;G.y*=h;var H=G.x,B=256-G.y;if(this.Uj){var j=H;H=256-B;B=j}this.qk.ve(H,B);if(this.mode==0){var s=0,q=1e9,N;
for(var Y=0;Y<this.M9.length;Y++){var Q=this.M9[Y].v,a=Q.Hrzn.v-H,l=Q.Vrtc.v-B,U=Math.sqrt(a*a+l*l);
if(U<q){q=U;s=Y}}if(q<15)N=this.M9[s];else{N=e.S_.$O(H,B,!0);this.M9.push(N);this.M9.sort(function(R,S){return R.v.Hrzn.v-S.v.Hrzn.v})}this.Bf=N;
this.auQ=this.M9.slice(0)}u.fe(document.body,this.zQ);u.$f(document.body,this._m);this.CS(b)};hQ.prototype.CS=function(b){var h=256/this.al,G=u.Kz(b,this.cj);
G.x*=h;G.y*=h;var H=G.x,B=256-G.y;if(this.Uj){var j=H;H=256-B;B=j}if(this.mode==0){var s=this.M9,q=this.Bf,Q=this.auQ,a=Q.indexOf(q),l=s.indexOf(q)!=-1,U=Q.length-1,N=H;
if(a==0){N=Math.max(0,Math.min(Q[1].v.Hrzn.v-1,H))}else if(a==U){N=Math.min(255,Math.max(Q[U-1].v.Hrzn.v+1,H))}else{var R=H<0||H>255||B<0||B>255;
if(H<=Q[a-1].v.Hrzn.v||H>=Q[a+1].v.Hrzn.v)R=!0;if(!R&&!l)s.splice(a,0,q);if(R&&l)s.splice(a,1)}if(this.ap4&&(a==0||a==Q.length-1)){}else q.v.Hrzn.v=Math.round(N);
q.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B)))}else{H=Math.round(H);B=Math.round(B);H=Math.max(0,Math.min(255,H));
B=Math.max(0,Math.min(255,B));var S=this.qk.x,g=H,i=this.qk.y,y=B;if(H<this.qk.x){g=S;S=H;y=i;i=B}this.M9[H]=B;
if(S!=g)for(var o=S;o<=g;o++)this.M9[o]=Math.round(i+(o-S)*(y-i)/(g-S))}this.qk.ve(H,B);this.wB();this.Q(new hb(w.E.w))};
hQ.prototype.SW=function(b){u.CV(document.body,this.zQ);u.iF(document.body,this._m);this.Q(new hb(w.E.w))};
hQ.prototype.wB=function(){var b=this.ZI,h=this.cj;b.fillStyle="#ffffff";b.fillRect(0,0,256,256);var G=256/h.width;
if(this.GU){b.save();b.translate(0,256);b.scale(1,-1);eb.aEe(b,this.GU,5700/this.aw1,this.MW);b.restore()}b.strokeStyle="#aaaaaa";
b.lineWidth=1*G;b.beginPath();for(var Y=1;Y<4;Y++){var H=(Math.floor(64*Y/G)+.5)*G;b.moveTo(0,H);b.lineTo(255,H);
b.moveTo(H,0);b.lineTo(H,255)}b.stroke();if(this.Uj){b.save();b.transform(0,1,-1,0,256,0)}if(this.mode==0){var B=this.M9,j=e.S_.tL(B,256);
b.strokeStyle="#000000";b.beginPath();b.moveTo(0,255.5-j[0]);for(var Y=0;Y<256;Y++)b.lineTo(Y,255.5-j[Y]);
b.stroke();b.lineWidth=2*G;for(var Y=0;Y<B.length;Y++){var s=B[Y].v;b.fillStyle=this.Bf==B[Y]?"#333":"#fff";
b.beginPath();b.moveTo(s.Hrzn.v,255.5-s.Vrtc.v);b.arc(s.Hrzn.v,255.5-s.Vrtc.v,5*G,0,2*Math.PI);b.stroke();
b.fill()}}else{var j=this.M9;b.strokeStyle="#000000";b.beginPath();b.moveTo(0,255.5-j[0]);for(var Y=0;
Y<256;Y++)b.lineTo(Y,255.5-j[Y]);b.stroke()}if(this.Uj)b.restore();var Y=this.aju();this.coords.className=Y==-1?"disabled":"";
if(Y==-1)return;var s=this.M9[Y].v,q=255/this.xJ;this.O5.k(Math.round(s.Hrzn.v/q));this.$y.k(Math.round(s.Vrtc.v/q));
if(s.Cnty)this.Bm.k(s.Cnty.v)};function eb(b,h){dQ.call(this);this.Z=u.I("span","");this.wL=new cP([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.wL.O(w.E.w,this.BL,this);this.Z.appendChild(this.wL.Z);u.pP(this.Z);var G=u.I("div");this.Z.appendChild(G);
G.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.cj=u.I("canvas");var H=this.cj;
G.appendChild(H);H.width=Math.round(b*u.V());H.height=Math.round(100*u.V());u.o3(H,H.width,H.height);
H.style.display="block";this.ZI=H.getContext("2d");this.GU=null;this.rr=0;this.ae_=null;this.aDm=[];
this.a3=[];var B=["Mean:","Pixels:"],j=this.Z;if(h)for(var Y=0;Y<B.length;Y++){var s=new iM(B[Y]);this.aDm.push(s);
j.appendChild(s.Z);var q=new iM("hi");this.a3.push(q);j.appendChild(q.Z);u.pP(j)}}eb.prototype=new dQ;
eb.prototype.a=function(){this.wL.a()};eb.prototype.XZ=function(b){this.wL.k(b);this.BL()};eb.prototype.k=function(b,h){this.GU=b;
this.ae_=h;this.BL()};eb.prototype.HS=function(b){if(b==this.rr)return;this.rr=b;this.BL()};eb.prototype.BL=function(){if(this.GU==null)return;
var b=this.cj,h=this.ZI,G=this.GU,H=this.ae_,B=this.wL.l(),j=6e3/G[4],s="#"+e.Z0(this.rr),q=eb.aEe;b.width=b.width;
h.setTransform(b.width/256,0,0,-b.height/100,0,b.height);h.globalCompositeOperation="lighter";if(B==0)q(h,G[0],j/3,s);
else if(B<4)q(h,G[B],j,s);else{q(h,G[1],j,"#ff0000");q(h,G[2],j,"#00ff00");q(h,G[3],j,"#0000ff")}h.setTransform(1,0,0,1,0,0);
if(H!=null){if(B==4)B=0;var Q=0;for(var Y=0;Y<256;Y++)Q+=Y*G[B][Y];if(B==0)Q/=3;this.a3[0].k((Q/H).toFixed(1)+"");
this.a3[1].k(H+"")}};eb.aEe=function(b,h,G,H){b.beginPath();b.moveTo(0,0);for(var B=0;B<256;B++)b.lineTo(B,h[B]*G);
b.lineTo(256,0);b.closePath();b.fillStyle=H;b.fill()};function aN(b,h){dQ.call(this);this.T7={$:0,B:0,J:0};
if(Math.abs(b-256/u.V())<10)b=256/u.V();var G=this.Z=u.I("div","flexrow");G.style.position="relative";
var H=this.apl=u.I("div");G.appendChild(H);this.FT=new cJ;this.E6=new cJ;this.Rs=this.vK.bind(this);
this.Xw=this.azv.bind(this);this.cj=u.I("canvas","");this.ZI=this.cj.getContext("2d");this.cj.width=this.cj.height=256;
this.a9n=this.ZI.getImageData(0,0,256,256);this.asX=-1;this.a7Y="";this.ib=null;u.TB(this.cj);u.fm(this.cj,this.ack.bind(this));
H.appendChild(this.cj);this.a3X=this.avF.bind(this);this.ahX=this.aiF.bind(this);this.ft=u.I("canvas","");
this.Va=this.ft.getContext("2d");this.ft.width=20;this.ft.height=256;this.amO=this.Va.getImageData(0,0,20,256);
aN.awk(this.amO.data,20,256);u.TB(this.ft);u.fm(this.ft,this.amD.bind(this));G.appendChild(this.ft);
this.cj.setAttribute("style","width:"+b+"px; height:"+b+"px");this.ft.setAttribute("style","width:16px; height:"+b+"px");
this.SE=new iI("Web Colors\u2001");this.SE.O(w.E.w,this.update,this);this.Uu=new iI("CMYK gamut");this.Uu.O(w.E.w,this.update,this);
if(h){u.pP(H);H.appendChild(this.SE.Z);H.appendChild(this.Uu.Z)}var B=this.oC=document.createElementNS("http://www.w3.org/2000/svg","svg");
G.appendChild(B)}aN.prototype=new dQ;aN.prototype.Vb=function(b,h){this.cj.style.width=this.apl.style.width=b-16+"px"};
aN.prototype.k=function(b){if(this.SE.l()){var h=JSON.parse(JSON.stringify(b));aN.KN(h);var G=this.l();
if(h.$==G.$&&h.B==G.B&&h.J==G.J)b=this.T7}this.T7=b;this.update()};aN.prototype.l=function(){var b=JSON.parse(JSON.stringify(this.T7));
if(this.SE.l())aN.KN(b);return b};aN.prototype.update=function(){var b=this.T7,h=e.j$(b.$,b.B,b.J),q=18;
if(h.ZV==0)h.Xk=this.FT.x/255;if(h.Xk==0||h.ZV==0)h.CN=(255-this.YO(this.E6.y))/255;if(h.ZV!=0)this.FT.x=h.Xk*255;
this.FT.y=(1-h.ZV)*255;this.E6.y=(1-h.CN)*255;var G=this.a9n,H=this.SE.l(),B=this.Uu.l(),j=H+","+B;if(Math.abs(h.CN-this.asX)>.002||this.a7Y!=j){this.asF(G.data,256,256,h.CN,H,B);
this.ac9();this.asX=h.CN;this.a7Y=j}var s=this.ZI;s.putImageData(G,0,0);G=this.amO;s=this.Va;s.putImageData(G,0,0);
s.strokeStyle="#ffffff";s.beginPath();s.moveTo(0,this.E6.y);s.lineTo(20,this.E6.y);s.lineWidth=2;s.stroke();
var Q=this.FT.y/255,a=parseFloat(this.cj.style.width),l=parseFloat(this.cj.style.height),U=this.oC;U.setAttribute("width",q);
U.setAttribute("height",q);var N=Math.round(b.$*255)<<16|Math.round(b.B*255)<<8|Math.round(b.J*255),R="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+q/2+"\" fill=\"#"+e.Z0(N)+"\"></circle>";
R+="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+(-.5+q/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*Q)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+(-1.2+q/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
U.innerHTML=R;U.style.pointerEvents="none";U.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
U.style.position="absolute";U.style.left=a*(this.FT.x/255)-q/2+"px";U.style.top=l*(this.FT.y/255)-q/2+"px"};
aN.KN=function(b){b.$=~~(.5+b.$*5)*.2;b.B=~~(.5+b.B*5)*.2;b.J=~~(.5+b.J*5)*.2};aN.prototype.asF=function(b,h,G,H,B,j){var s=1/h,q=1/G;
for(var Q=0;Q<G;Q++)for(var a=0;a<h;a++){var l=e.LM(H,a*s,(G-Q-1)*q);if(B)aN.KN(l);var Y=Q*h+a<<2;b[Y+0]=~~(l.$*255);
b[Y+1]=~~(l.B*255);b[Y+2]=~~(l.J*255);b[Y+3]=255}if(j){var U=b.slice(0),N=e.av("rgbToRgbC"),R=N[2],S=N[3];
ICC.U.applyLUT(S,R,U,U);this.ib=e.U(h*G);for(var Y=0;Y<b.length;Y+=4){var g=b[Y]-U[Y],i=b[Y+1]-U[Y+1],y=b[Y+2]-U[Y+2],o=g*g+i*i+y*y;
if(o>300){b[Y]=b[Y+1]=b[Y+2]=200;this.ib[Y>>>2]=255}}}};aN.awk=function(b,h,G,H,B){if(H==null)H=1;if(B==null)B=0;
var j=new Uint32Array(b.buffer);for(var s=0;s<G;s++){var q=e.LM((1+H*(1-s/G)+B)%1,1,1),Q=255<<24|q.J*255<<16|q.B*255<<8|q.$*255;
for(var a=0;a<h;a++)j[s*h+a]=Q}};aN.prototype.ack=function(b){u.fe(window,this.Rs);u.$f(window,this.Xw);
this.vK(b);this.oC.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.oC.style.transform="scale(2.4)"};
aN.prototype.azv=function(b){u.CV(window,this.Rs);u.iF(window,this.Xw);this.oC.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.oC.style.transform="scale(1)"};aN.prototype.vK=function(b){var h=u.Kz(b,this.cj);h.x=h.x*(256/parseFloat(this.cj.style.width));
h.y=h.y*(256/parseFloat(this.cj.style.height));this.FT.ve(this.YO(h.x),this.YO(h.y));this.ac9();this.hO()};
aN.prototype.ac9=function(){if(!this.Uu.l())return;var b=this.FT,h=0,G=0,H=1e9;for(var B=0;B<256;B++){for(var j=0;
j<256;j++){if(this.ib[B*256+j]==255)continue;var s=j-b.x,q=B-b.y,Q=s*s+q*q;if(Q<H){h=j;G=B;H=Q}}}b.x=h;
b.y=G};aN.prototype.hO=function(){this.T7=this.ajh();this.Q(new hb(w.E.w))};aN.prototype.ajh=function(){var b=e.LM((255-this.YO(this.E6.y))/255,this.xG(this.FT.x/255),this.xG(1-this.FT.y/255));
return{$:b.$,B:b.B,J:b.J}};aN.prototype.amD=function(b){u.fe(window,this.a3X);u.$f(window,this.ahX);
this.avF(b)};aN.prototype.aiF=function(b){u.CV(window,this.a3X);u.iF(window,this.ahX)};aN.prototype.avF=function(b){var h=u.Kz(b,this.ft);
h.y=h.y*(256/parseFloat(this.ft.style.height));this.E6.ve(this.YO(h.x),this.YO(h.y));this.hO()};aN.prototype.YO=function(b){return Math.max(0,Math.min(255,b))};
aN.prototype.xG=function(b){return Math.max(0,Math.min(1,b))};function hx(b,h,G,H){var B=g2.Bq(h,H);
g2.call(this,b,B,G)}hx.prototype=new g2;function h9(){dQ.call(this);this.sV=null;this.zc=new bq;this.zc.O(w.E.w,this.aBw,this);
this.zc.parent=this;this.j2=new bP([12,14,0],1,150,"px",2,!0);this.j2.O(w.E.w,this.uO,this);this.j2.parent=this;
this.nn=new bP([16,0],.01,100,"px",2,!0,null,5);this.nn.O(w.E.w,this.uO,this);this.nn.parent=this;this.eJ=new iI("Auto");
this.eJ.O(w.E.w,this.uO,this);this.Py=new bP([16,1],-500,5e3,"%",0,!0);this.Py.O(w.E.w,this.uO,this);
this.Py.parent=this;this.bT=new bP("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.bT.O(w.E.w,this.uO,this);
this.bT.parent=this;this.gf=new bP("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.gf.O(w.E.w,this.uO,this);
this.gf.parent=this;this.pz=new bP([16,2],-10,10,"px");this.pz.O(w.E.w,this.uO,this);this.pz.parent=this;
this.dP=new d8(!0);this.dP.O(w.E.w,this.C1,this);this.dP.parent=this;this.Bz=new d8(!0);this.Bz.O(w.E.w,this.C1,this);
this.Bz.parent=this;this.Ri=new d8(!0);this.Ri.O(w.E.w,this.C1,this);this.Ri.parent=this;this.TO=new d8(!0);
this.TO.O(w.E.w,this.C1,this);this.TO.parent=this;this.h4=new iI([2,3]);this.h4.O(w.E.w,this.uO,this);
this.It=new iI([14,9]);this.It.O(w.E.w,this.uO,this);this.yU=new iI([12,46]);this.yU.O(w.E.w,this.uO,this);
this.FW=new cr(!0,!0);this.FW.O(w.E.w,this.uO,this);this.D9=new gX("...",null,null,!0);this.D9.Z.style.marginLeft="-8px";
u.fm(this.D9.Z,this.a5J.bind(this));this.u1=new dQ;var b=this.u1.Z=u.I("div","floatcont form"),B=100;
this.u1.parent=this;this.FW.parent=this.u1;this.A_=new bP([12,41],1,20,"px",0,!0,!0);this.A_.Z.style.marginLeft="16px";
this.A_.O(w.E.w,this.uO,this);this.A_.parent=this.u1;b.appendChild(this.Bz.Z);b.appendChild(this.h4.Z);
u.pP(b);b.appendChild(this.Ri.Z);b.appendChild(this.It.Z);u.pP(b);b.appendChild(this.A_.Z);b.appendChild(this.FW.Z);
u.pP(b);b.appendChild(this.TO.Z);b.appendChild(this.yU.Z);this.N0=new gX("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.a2=new gX("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.W2=new gX("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Dm=new gX("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Ug=new gX("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.iQ=new gX("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.RG=new gX("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.uN=new gX("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var h=[this.N0,this.a2,this.W2,this.Dm,this.Ug,this.iQ,this.RG,this.uN];
for(var Y=0;Y<h.length;Y++)h[Y].O("click",this.aBM,this);this.DH=new gX("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.kH=new gX("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.S3=new gX("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.auR=new gX("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a3Y=new gX("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ait=new gX("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aww=new gX("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.N1=[this.DH,this.kH,this.S3,this.auR,this.a3Y,this.ait,this.aww];for(var Y=0;Y<this.N1.length;Y++)this.N1[Y].O("click",this.uO,this);
var G=["lind","rind","flind","bind","aind"],H=[];for(var Y=0;Y<5;Y++)H.push("<img src=\""+PIMG["par/"+G[Y]]+"\" class=\"autoscale gsicon\" /> ");
this.cM=new bP(H[0],-B,B,"px");this.fP=new bP(H[1],-B,B,"px");this.zJ=new bP(H[2],-B,B,"px");this.fw=new bP(H[3],-B,B,"px");
this.yO=new bP(H[4],-B,B,"px");this.wn=new g2([12,33],["Abc ...","... أي بي"]);this.l3=new bP(["Auto VAR0",[16,0]],0,500,"%");
this.q0=[this.cM,this.fP,this.zJ,this.fw,this.yO,this.wn,this.l3];for(var Y=0;Y<this.q0.length;Y++){var j=this.q0[Y];
j.O(w.E.w,this.uO,this);j.parent=this}}h9.prototype=new dQ;h9.prototype.a5J=function(b){if(u.Pg(this.u1.Z))return;
b.stopPropagation();var h=this.D9.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4};
this.Q(G)};h9.prototype.a=function(){this.zc.a();this.j2.a();this.nn.a();this.Py.a();this.pz.a();this.bT.a();
this.gf.a();this.h4.a();this.It.a();this.yU.a();this.A_.a();this.FW.a();for(var Y=0;Y<this.q0.length;
Y++)this.q0[Y].a()};h9.prototype.k=function(b,h,G){this.Ge=JSON.parse(JSON.stringify(b));var H=this.Ge,B=H.bJ,j=H._P;
this.N0.k(B.FauxBold!=null?B.FauxBold:!1);this.a2.k(B.FauxItalic!=null?B.FauxItalic:!1);this.W2.k(B.FontCaps==2);
this.Dm.k(B.FontCaps==1);this.iQ.k(B.FontBaseline==1);this.Ug.k(B.FontBaseline==2);this.RG.k(B.Underline);
this.uN.k(B.Strikethrough);this.zc.k(B.Font==null?null:H.uh[B.Font].Name,h,G);var s=B.FontSize==null?20:B.FontSize;
this.j2.k(s);var q=B.Tracking;this.Py.k(q==null?0:q);this.A_.k(B.OutlineWidth!=null?B.OutlineWidth:1);
this.FW.k(dE.a6.ayj(B));this.nn.k(B.Leading!=null&&B.Leading!=0?B.Leading:s);this.eJ.k(B.AutoLeading);
this.bT.k((B.VerticalScale!=null?B.VerticalScale:0)*100);this.gf.k((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this.pz.k(B.BaselineShift!=null?B.BaselineShift:0);this.h4.k(B.FillFlag!=null?B.FillFlag:!1);this.It.k(B.StrokeFlag!=null?B.StrokeFlag:!1);
this.yU.k(B._FillBackgroundFlag!=null?B._FillBackgroundFlag:!1);this.Mj(B.FillColor,this.dP);this.Mj(B.FillColor,this.Bz);
this.Mj(B.StrokeColor,this.Ri);this.Mj(B._FillBackgroundColor,this.TO);var Q=j._Direction!=null?j._Direction:0,a=b_.kg(j);
for(var Y=0;Y<this.N1.length;Y++)this.N1[Y].k(a==Y);this.wn.k(Q);this.l3.k((j.AutoLeading!=null?j.AutoLeading:1.2)*100);
this.cM.k(j.StartIndent!=null?j.StartIndent:0);this.fP.k(j.EndIndent!=null?j.EndIndent:0);this.zJ.k(j.FirstLineIndent!=null?j.FirstLineIndent:0);
this.fw.k(j.SpaceBefore!=null?j.SpaceBefore:0);this.yO.k(j.SpaceAfter!=null?j.SpaceAfter:0)};h9.prototype.Mj=function(b,h){if(b){var G=b_.an(b);
h.HS(Math.round(G.$)<<16|Math.round(G.B)<<8|Math.round(G.J))}else h.HS(0)};h9.prototype.oH=function(){var b=new hb(w.E.b,!0);
b.data={q:w.p.wP,CI:ec.Te,Ge:this.Ge};this.Q(b);var b=new hb(w.E.r,!0);b.S=E.rd;b.data={q:"updateStyles"};
this.Q(b)};h9.prototype.aBM=function(b){var h=this.Ge.bJ,G=b.target,H=!G.a9();if(G==this.N0)h.FauxBold=H;
if(G==this.a2)h.FauxItalic=H;if(G==this.W2)h.FontCaps=H?2:0;if(G==this.Dm)h.FontCaps=H?1:0;if(G==this.iQ)h.FontBaseline=H?1:0;
if(G==this.Ug)h.FontBaseline=H?2:0;if(G==this.RG)h.Underline=H;if(G==this.uN)h.Strikethrough=H;this.oH()};
h9.prototype.uO=function(b){var h=this.Ge.bJ,G=this.Ge._P,H=b.target;if(H==this.FW){dE.a6.aA_(H.l(),h)}if(H==this.Py){var B=this.Py.l();
h.Tracking=B}if(H==this.nn){h.AutoLeading=!1;h.Leading=this.nn.l()}if(H==this.eJ){h.AutoLeading=this.eJ.l()}if(H==this.A_)h.OutlineWidth=H.l();
if(H==this.j2)h.FontSize=H.l();if(H==this.bT)h.VerticalScale=H.l()/100;if(H==this.gf)h.HorizontalScale=H.l()/100;
if(H==this.pz)h.BaselineShift=H.l();if(H==this.h4)h.FillFlag=H.l();if(H==this.It)h.StrokeFlag=H.l();
if(H==this.yU)h._FillBackgroundFlag=H.l();if(this.N1.indexOf(H)!=-1){G.Justification=b_.kg(G,this.N1.indexOf(H))}if(H==this.cM)G.StartIndent=H.l();
if(H==this.fP)G.EndIndent=H.l();if(H==this.zJ)G.FirstLineIndent=H.l();if(H==this.fw)G.SpaceBefore=H.l();
if(H==this.yO)G.SpaceAfter=H.l();if(H==this.wn)G._Direction=H.l();if(H==this.l3)G.AutoLeading=H.l()/100;
this.oH()};h9.prototype.aBw=function(b){var h=this.Ge,G=this.zc.l(),H=-1;for(var Y=0;Y<h.uh.length;Y++)if(h.uh[Y].Name==G)H=Y;
if(H==-1){H=h.uh.length;var B=JSON.parse(JSON.stringify(h.uh[0]));B.Name=G;h.uh.splice(H,0,B)}h.bJ.Font=H;
this.oH()};h9.prototype.C1=function(b){var h=b.target,G=h.Z9(),H={Type:1,Values:[1,(G>>16&255)/255,(G>>8&255)/255,(G>>0&255)/255]};
for(var Y=0;Y<4;Y++)H.Values[Y]=Math.round(H.Values[Y]*1e3)/1e3;var B=h==this.dP||h==this.Bz?0:h==this.Ri?1:2;
this.Ge.bJ[["FillColor","StrokeColor","_FillBackgroundColor"][B]]=H;this.oH()};function bq(){dQ.call(this);
this.Z=u.I("span","fontinput");this.e6=null;this.Uw=null;this.ZQ=null;this.G8="";this.DJ={};this.Q_=[];
this.l7={};this.a1H={};this.EH=[];this.Rb=!1;this.Lj=u.I("button","fitem");this.Lj.setAttribute("style","width:9em;");
this.Lj.textContent="Family Name \u25BC";this.Z.appendChild(this.Lj);u.fm(this.Lj,this.ahP.bind(this));
this.yZ=new dQ;this.yZ.parent=this;var b=this.yZ.Z=u.I("div","floatcont");b.style.padding="7px 7px 3px 7px";
var h=new iM("Recent");b.appendChild(h.Z);var G=this.azz=new gX([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
G.O("click",this.a3t,this);G.Z.style.float="right";b.appendChild(G.Z);var H=this.YI=new iI("Local Fonts");
H.O(w.E.w,this.aqF,this);H.Z.style.float="right";H.Z.style.marginRight="10px";H.Z.style.marginTop="3px";
b.appendChild(H.Z);u.pP(b);this.zF=u.I("span","fitem imageset scrollable");this.zF.style.maxHeight="8em";
b.appendChild(this.zF);var B=u.I("div","form");this.yZ.Z.appendChild(B);this.fB=new gX(u.b5("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.fB.O("click",this.ayb,this);B.appendChild(this.fB.Z);this.lP=new aG([12,86],null,7.5);this.lP.O("input",this.nr,this);
B.appendChild(this.lP.Z);this.Na=new aR(10,"\u2630");B.appendChild(this.Na.Z);this.Na.parent=this.yZ;
this.Na.O(w.E.w,this.fF,this);this.Na.Z.style.float="right";this.Na.Z.style.marginRight="0";this.Mf=u.I("span","fitem imageset scrollable");
this.Mf.style.height="30em";this.yZ.Z.appendChild(this.Mf);this.Mf.addEventListener("scroll",this.ag$.bind(this),!1);
this.Lr=u.I("button","fitem");this.Lr.setAttribute("style","width:7em;");this.Lr.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.Lr);u.fm(this.Lr,this.ahP.bind(this));this.zU=new dQ;this.zU.parent=this;this.zU.Z=u.I("div","floatcont");
this.ss=u.I("span","fitem imageset scrollable");this.zU.Z.appendChild(this.ss);this.azE=this.ajn.bind(this);
this.alU=this.aii.bind(this)}bq.prototype=new dQ;bq.prototype.aqF=function(b){ku.Fs.d3(b.target.l(),function(){this.k();
this.fF()}.bind(this),function(){this.YI.k(!1)}.bind(this));this.fF()};bq.prototype.ag$=function(b){var h=this.Mf.scrollTop,G=this.Q_,H=Math.floor(h/27),B=Math.min(H+20,G.length);
for(var Y=H;Y<B;Y++)this.awn(G[Y])};bq.prototype.a3t=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.vd};
this.Q(b)};bq.prototype.a=function(){this.Na.a();this.azz.a();this.YI.k(ku.Fs.a9());this.fB.Sm(u.b5("tools/cshape",null,"autoscale"))};
bq.prototype.ayb=function(b){this.fB.k(!this.fB.a9());this.fF()};bq.prototype.nr=function(b){this.G8=this.lP.l().toLowerCase();
this.fF()};bq.prototype.ahP=function(b){u.oO(b);var h=b.currentTarget,G=h.getBoundingClientRect(),H=h==this.Lj,B=H?this.yZ:this.zU;
if(u.Pg(B.Z)){this.air(B);return}if(!H&&this.e6.r4()[this.ZQ]==null)return;var j=new hb(w.E.b,!0);j.data={q:w.p.YB,Wn:B,x:G.left,y:G.top+G.height};
this.Q(j);if(H){this.fF(null,!0)}};bq.prototype.ajn=function(b){var h=b.currentTarget.firstChild.nextSibling.textContent;
if(b.target.tagName.toLowerCase()=="button"){var G=this.Uw.slice(0),H=G.indexOf(h);if(H==-1){G=G.slice(Math.max(0,G.length-29));
G.push(h)}else G.splice(H,1);var B=new hb(w.E.b,!0);B.data={q:w.p.wP,CI:ec.Ie,bq:G};this.Q(B);this.Rb=!0;
this.fF()}else{this.acT(h,null)}};bq.prototype.aii=function(b){this.acT(null,b.currentTarget.firstChild.textContent)};
bq.prototype.acT=function(b,h){var G=b==null?this.zU:this.yZ,H=this.e6;if(b==null)b=H.r4()[this.ZQ][0];
else{var B=H.it(b),j=H.r4()[this.ZQ];h=ku.t6(B,j?j[1]:"regular")}var s=H.p1(b,h)[2];this.k(s,H);this.Q(new hb(w.E.w,!1));
this.air(G);this.fF()};bq.prototype.air=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.ne,Wn:b};this.Q(h)};
bq.prototype.l=function(){return this.ZQ};bq.prototype.k=function(b,h,G){var H=this.e6;if(b!=null)this.ZQ=b;
else b=this.ZQ;if(h)this.e6=h;else h=this.e6;if(G)this.Uw=G;else G=this.Uw;if(b!=null){var B=h.r4()[b],j,s;
if(B==null){j="- "+b;s="-------"}else{j=B[0];s=B[1];var q=this.EH;for(var Y=0;Y<q.length;Y++)if(q[Y][0][0]==j)q.splice(Y,1);
q.push([B,Date.now()]);q.sort(function(U,N){return N[1]-U[1]});q=q.slice(0,10);u._I(this.zF);for(var Y=1;
Y<q.length;Y++){var Q=q[Y][0],a=this.tK(Q,!0);this.NR(a,Q,!0);this.zF.appendChild(a)}var l=h.it(j);l.sort(ku.a3B);
this.ss.textContent="";for(var Y=0;Y<l.length;Y++){var B=h.p1(j,l[Y]);if(!this.Na.AJ(B))continue;var a=this.tK(B,!1);
this.ss.appendChild(a)}}this.Lj.textContent=j.substring(0,15)+" \u25BC";this.Lj.setAttribute("title",j+", \""+b+"\"");
this.Lr.textContent=s.substring(0,10)+" \u25BC";this.Lr.setAttribute("title",s)}};bq.prototype.fF=function(b,h){var G=this.e6.r4()[this.ZQ],H=this.Uw,B=this.e6.agv();
this.Q_=[];var j=this.YI.l();for(var s in B){var q=H.indexOf(s)!=-1,Q=this.e6.it(s),a=!1;for(var Y=0;
Y<Q.length;Y++){var l=this.e6.p1(s,Q[Y]),U=!0;if(this.G8.length>0&&l[0].toLowerCase().indexOf(this.G8)==-1)U=!1;
else if(!this.Na.AJ(l))U=!1;else if(this.fB.a9()&&!q)U=!1;else if(l[5]=="--loc"&&!j)U=!1;if(U)a=!0}var N=this.DJ[s];
if(N==null){var R=ku.t6(B[s],"regular"),S=this.e6.p1(s,R),N=this.tK(S,!0);this.DJ[s]=N;this.Mf.appendChild(N);
this.l7[s]="[true,false,false]"}if(a)this.Q_.push(s);var g=G!=null&&G[0]==s;this.a1H[s]="["+a+","+g+","+q+"]";
if(!h)this.awn(s)}if(G&&!this.Rb){var i=this.DJ[G[0]];this.Mf.scrollTop=i.offsetTop-210}this.ag$();this.Rb=!1};
bq.prototype.awn=function(b){var h=this.DJ[b];if(h.firstChild==null){var G=this.e6.agv(),H=ku.t6(G[b],"regular"),B=this.e6.p1(b,H);
this.NR(h,B,!0)}var j=this.l7[b],s=this.a1H[b];if(j==s)return;var q=JSON.parse(j),Q=JSON.parse(s);if(q[0]!=Q[0]||q[1]!=Q[1]){var a=Q[0]?"":"display:none; ";
if(Q[1])a+="background-color:rgba(0,0,0,0.13);";h.setAttribute("style",a)}if(q[2]!=Q[2])h.firstChild.setAttribute("style","opacity: "+(Q[2]?"1":"0.2"));
this.l7[b]=s};bq.prototype.tK=function(b,h){var G=u.I("div","fontitem");if(!h)this.NR(G,b,h);return G};
bq.prototype.NR=function(b,h,G){var H=h[G?0:1],B=G?this.azE:this.alU,Q="";b.addEventListener("click",B,!1);
if(G)b.appendChild(u.I("button","star"));var j=u.I("span","label");j.setAttribute("title",H);j.textContent=H;
b.appendChild(j);var s=u.V(),q=1/s,a=ku.XF*q,l=ku.qJ*q;if(1<s&&s<1.5)Q="width:"+a+"px; height:"+l+"px;";
var U=u.I("span","thumb gsicon");if(h.iV){Q+="background: url("+h.iV+");";if(1<s&&s<1.5)Q+="background-size: "+a+"px "+l+"px;"}else{var N=Math.ceil(FNTS.list.length/ku.cols),R=Math.floor(h.V9/ku.cols),S=h.V9-R*ku.cols,g=S*ku.XF,i=R*ku.qJ;
if(1<s&&s<1.5){Q+="background-size: "+ku.cols*a+"px "+N*l+"px;";g*=q;i*=q}Q+="background-position:-"+g+"px -"+i+"px;"}U.setAttribute("style",Q);
b.appendChild(U)};function aR(b,h){dQ.call(this);this.Z=u.I("button","fitem bbtn");this.Z.addEventListener("click",this.n4.bind(this),!1);
this.u1=new dQ;this.u1.Z=u.I("div","floatcont");this.u1.parent=this;this.hJ=u.I("div","flexrow");this.u1.Z.appendChild(this.hJ);
this.r3=h;this.Xj=[];this.kN=[];var G=this.hJ,H=u.I("div",""),B=u.I("div","");G.appendChild(H);G.appendChild(B);
this.HI=[];for(var Y=0;Y<FNTS.cats.length;Y++)this.HI.push({name:FNTS.cats[Y],index:Y,M3:0});this.ru=new iI([7,0]);
this.ru.k(!0);this.ru.O(w.E.w,this.aC8,this);H.appendChild(this.ru.Z);this.xF=u.I("div","vlist marged scrollable");
this.xF.setAttribute("style","width:10.3em; height:"+b+"em; ");H.appendChild(this.xF);this.kT=[];for(var Y=0;
Y<this.HI.length;Y++){var j=this.HI[Y],s=new iI(j.name);this.kT.push(s);s.O(w.E.w,this.ae0,this);s.k(!0);
this.xF.appendChild(s.Z);this.Xj.push(1)}this.a0s=new iI([7,0]);this.a0s.O(w.E.w,this.aAV,this);this.D3=u.I("div","vlist marged scrollable");
this.D3.setAttribute("style","width:8.6em; height:"+(b+1.5)+"em; ");B.appendChild(this.D3);this.uY=[];
for(var Y=0;Y<FNTS.subsetNames.length;Y++){var s=new iI(FNTS.subsetNames[Y]);this.uY.push(s);s.O(w.E.w,this.a0D,this);
s.k(!1);this.D3.appendChild(s.Z);this.kN.push(s.l()?1:0)}}aR.prototype=new dQ;aR.prototype.aBn=function(b){var h=this.uY;
for(var Y=0;Y<h.length;Y++){var G=(b>>>Y&1)==1;this.kN[Y]=G;h[Y].k(G)}};aR.prototype.aEg=function(){return this.hJ};
aR.prototype.a=function(){this.Z.textContent=this.r3?this.r3:bp.get([25,1,0])+" \u25BC";this.ru.a();
this.a0s.a()};aR.prototype.n4=function(b){var h=this.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height,WQ:!0};
this.Q(G)};aR.prototype.AJ=function(b){if(this.Xj[b[4]]==0)return!1;else for(var h=0;h<this.kN.length;
h++)if(this.kN[h]==1&&(b[3]>>>h&1)==0)return!1;return!0};aR.prototype.aC8=function(b){var h=b.target.l(),G=this.kT,H=this.Xj;
for(var Y=0;Y<G.length;Y++){G[Y].k(h);H[Y]=h?1:0}this.Q(new hb(w.E.w,!1))};aR.prototype.aAV=function(b){var h=b.target.l(),G=this.uY,H=this.kN;
for(var Y=0;Y<G.length;Y++){G[Y].k(h);H[Y]=h?1:0}this.Q(new hb(w.E.w,!1))};aR.prototype.ae0=function(b){var Y=this.kT.indexOf(b.target),h=this.HI[Y].index;
this.Xj[h]=1-this.Xj[h];this.Q(new hb(w.E.w,!1));this.a8D(this.kT,this.ru)};aR.prototype.a0D=function(b){var Y=this.uY.indexOf(b.target);
this.kN[Y]=1-this.kN[Y];this.Q(new hb(w.E.w,!1))};aR.prototype.a8D=function(b,h){var G=!0;for(var Y=0;
Y<b.length;Y++)G=G&&b[Y].l();h.k(G)};function cD(b,h,G){hM.call(this,h,!0,"gradientbutton",18*13,10*13,ec.bX);
this.nU=-1;this.W9=-1;this.azb=null;this.af$=b;this.WE=G}cD.prototype=new hM;cD.prototype.gL=function(b){var h=this.LP;
this.k(h[this.pF.l()]);this.Q(new hb(w.E.w))};cD.prototype.ke=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.C9,ut:"gradienteditor",F:this.Cq,jO:this.anO.bind(this),hh:this.WE};
this.Q(h)};cD.prototype.anO=function(b){this.k(b);this.Q(new hb(w.E.w))};cD.prototype.NG=function(){if(!this.IS)return;
var b=Math.floor(36*u.V()),h=Math.floor(36*u.V()),G=[],H=[],B=this.LP,j=Date.now();for(var Y=0;Y<B.length;
Y++){var s=B[Y];H.push(s.Nm?s.Nm.v:"");var q=E.Yk.DB(s,b,h,Math.PI/4,this.nU,this.W9);G.push(q)}this.pF.J_(G,H,b,h);
this.IS=!1};cD.prototype.zN=function(b,h){this.apb(this.Cq,b,h)};cD.prototype.k=function(b){this.apb(b,this.nU,this.W9)};
cD.prototype.apb=function(b,h,G){this.nU=h;this.W9=G;if(b==null)return;var H=JSON.stringify(b),B=H+h+","+G;
if(B==this.azb)return;this.azb=B;this.Cq=JSON.parse(H);var j=Math.floor(80*u.V()),s=Math.floor(16*u.V()),q=E.Yk.DB(this.Cq,j,s,0,this.nU,this.W9);
this.qf.setAttribute("src",q);u.o3(this.qf,j,s)};cD.prototype.l=function(){var b;if(this.af$)b=E.Yk.am$(this.Cq,this.nU,this.W9);
else b=JSON.parse(JSON.stringify(this.Cq));return b};function by(b){hM.call(this,b,!1,"swatchbutton",16*13,8.75*13,ec.vF)}by.prototype=new hM;
by.prototype.gL=function(b){this.k(this.LP[b.target.l()]);this.Q(new hb(w.E.w))};by.prototype.NG=function(){if(!this.IS)return;
var b=Date.now(),h=Math.floor(22*u.V()),G=Math.floor(22*u.V()),H=[],B=[],j=this.LP;for(var Y=0;Y<j.length;
Y++){B.push(j[Y].iZ?j[Y].iZ.split("=").pop():"");H.push(by.DB(j[Y],h,G))}this.pF.J_(H,B,h,G);this.IS=!1};
by.prototype.k=function(b){this.Cq=JSON.parse(JSON.stringify(b));this.T1()};by.prototype.T1=function(){var b=Math.floor(24*u.V()),h=Math.floor(20*u.V()),G=by.DB(this.Cq,b,h);
this.qf.setAttribute("src",G);u.o3(this.qf,b,h)};by.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};
by.jT={};by.DB=function(b,h,G){var H=255<<24|b.J<<16|b.B<<8|b.$,B=":"+H,j=by.jT;if(j[B])return j[B];
var s=new Uint32Array(h*G);s.fill(H);var q=UPNG.encode([s.buffer],h,G),Q=j[B]="data:image/png;base64,"+aT.fQ(q);
return Q};function db(b){hM.call(this,null,!0,"swatchbutton",16*13,8.75*13,ec.pp);this.X7=b}db.prototype=new hM;
db.prototype.gL=function(b){var h=this.LP,G=b.target.l();this.k(G==0?[]:h.qy[G-1][1],h);this.Q(new hb(w.E.w))};
db.prototype.ke=function(b){if(this.Cq.length!=0)h$.ati(this.Cq,this,this.hO.bind(this))};db.prototype.hO=function(b){var h=b;
if(typeof b=="number"){h=e.M5(b,1);h=[h.$,h.B,h.J]}this.k(h);this.Q(new hb(w.E.w))};db.prototype.k=function(b,h){this.Cq=b;
this.T1(h)};db.prototype.T1=function(b){var h=Math.floor(20*u.V()),G=Math.floor(20*u.V()),H=u.I("canvas"),B=H.getContext("2d");
H.width=h;H.height=G;h$.FX(B,this.Cq,b,h,G,0,0,this.X7==1);var j=B.canvas.toDataURL("png");this.qf.setAttribute("src",j);
u.o3(this.qf,h,G)};db.prototype.NG=function(){if(!this.IS)return;var b=Math.floor(20*u.V()),h=Math.floor(20*u.V()),G=[],H=[],B=this.LP,j=B.qy,s=u.I("canvas"),q=s.getContext("2d");
s.width=b;s.height=h;j=[["None",[]]].concat(j);for(var Y=0;Y<j.length;Y++){H.push(j[Y][0]);h$.FX(q,j[Y][1],B,b,h,0,0);
var Q=q.canvas.toDataURL("png");G.push(Q)}this.pF.J_(G,H,b,h);this.IS=!1};db.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};
function hy(b,h,G){dQ.call(this);this.Z=u.I(G?"div":"span");var H=this.zT=u.I("input");this.zT.setAttribute("type","file");
if(h)H.setAttribute("multiple","");this.zT.addEventListener("change",this.axg.bind(this),!1);this.a4o=this.aeX.bind(this);
this.h7={};this.au=0;this.Y4=b;var B=this.Ux=new gX(bp.get(b)+" (0)",null,null,!0);this.Z.appendChild(B.Z);
B.addEventListener("click",function(j){H.click()});if(G){this.k0=u.I("div","scrollable");this.k0.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.k0);this.BL()}}hy.prototype=new dQ;hy.prototype.k=function(b){this.h7=b;this.BL()};
hy.prototype.l=function(b){return this.h7};hy.prototype.axg=function(b){var h=b.target.files;this.au=h.length;
this.h7={};for(var Y=0;Y<h.length;Y++){var G=h[Y],H=new FileReader;H.onload=this.a4o;H.hG=G.name;H.readAsArrayBuffer(G)}};
hy.prototype.aeX=function(b){var h=this.h7[b.target.hG]=new Uint8Array(b.target.result);this.au--;if(this.au==0){this.BL();
this.Q(new hb(w.E.w));this.zT.value=null}};hy.prototype.BL=function(){var b=this.h7;this.Ux.Sm(bp.get(this.Y4)+" ("+Object.keys(b).length+")");
var h=this.k0;if(h==null)return;u._I(h);var G=[];for(var H in b)G.push(H);G.sort();for(var Y=0;Y<G.length;
Y++){var B=u.I("div");B.textContent=G[Y];h.appendChild(B)}};function eo(b,h,G,H,B){if(b==null)b=!1;if(h==null)h=!1;
if(G==null)G=!1;dQ.call(this);this.n9=new cJ;this.Fc=new cJ;this.IJ=72;this.FD=72;this.cG=!0;this.j3=!1;
this.Z=u.I("span");this.bC=new bP([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.bC.Z);this.bC.O(w.E.w,this.v5,this);
var j=["px","%"];if(b)j=j.concat(["cm","mm","in"]);if(B){j=[[12,76,2],[12,76,6]];if(b)j=j.concat([[12,76,4],[12,76,5],[12,76,3]])}this.Lb=new cP(null,j);
this.Z.appendChild(this.Lb.Z);u.pP(this.Z);this.Lb.O(w.E.w,this.v5,this);this.rT=new bP([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.rT.Z);this.rT.O(w.E.w,this.v5,this);var s=new gX("\u21F5",!1,null,!0);s.O("click",this.P$,this);
this.DD=new gX("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.DD.O("click",this.v5,this);
this.lQ=new iM("");this.lQ.Z.style.margin="0";this.lQ.Z.style.padding="0";if(h){this.Z.appendChild(this.DD.Z);
this.Z.appendChild(this.lQ.Z);this.DD.zr()}else this.Z.appendChild(s.Z);this._W=new bP("DPI",0,0,null,3,!1,!0,4);
this.c9=new cP(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(b&&!H){u.pP(this.Z);this.Z.appendChild(this._W.Z);
this.Z.appendChild(this.c9.Z)}this.c9.O(w.E.w,this.v5,this);this._W.O(w.E.w,this.v5,this);this.KC=new iI([12,23,1]);
this.KC.O(w.E.w,this.v5,this);if(G){u.pP(this.Z);this.Z.appendChild(this.KC.Z)}u.pP(this.Z)}eo.prototype=new dQ;
eo.prototype.Vb=function(b,h){this.bC.Vy.style.width=this.rT.Vy.style.width=(b-78-this.DD.F0())/2+"px"};
eo.prototype.sd=function(){this.bC.sd();this.rT.sd();this.Lb.sd();var b=this.Z;u._I(b);this.Lb.Z.style.marginRight="0";
b.appendChild(this.bC.Z);b.appendChild(this.DD.Z);b.appendChild(this.rT.Z);b.appendChild(this.Lb.Z)};
eo.prototype.jq=function(){this.bC.jq()};eo.prototype.a5h=function(b,h){this.cG=b;if(h!=null)this.j3=h;
if(!this.cG&&!this.j3&&this.Lb.l()==0){this.Lb.k(4);this.g3()}};eo.prototype.agb=function(b){this.DD.k(b)};
eo.prototype.a=function(){this.bC.a();this.rT.a();this._W.a();this.c9.a();this.DD.a();this.KC.a();this.Lb.a()};
eo.prototype.P$=function(b){var h=this.Fc.x;this.Fc.x=this.Fc.y;this.Fc.y=h;this.g3();this.Q(new hb(w.E.w,!1))};
eo.prototype.v5=function(b){if(b.target==this.Lb&&!this.cG&&!this.j3&&this.Lb.l()==0)this.Lb.k(4);if(b.target==this.Lb||b.target==this.KC){this.g3();
return}if(b.target==this.DD)b.target.k(!b.target.l());if(b.target==this.c9)window.locStor.setItem("dpiUnit",this.c9.l());
var h=this.n9,G=parseFloat(this.bC.l());if(isNaN(G))G=1;var H=parseFloat(this.rT.l());if(isNaN(H))H=1;
var B=this._W.l()*[1,2.54][this.c9.l()],j=this.Lb.l();if(this.cG){var s=this.FD;if(j==1){G=this.n9.x*(G/100);
H=this.n9.y*(H/100)}var q=[1,1,2.54/s,25.4/s,1/s][j];G/=q;H/=q;if(this.KC.l()){G+=this.n9.x;H+=this.n9.y}if(b.target==this._W){var Q=B;
if(!this.j3){var a=Q/s;G*=a;H*=a}s=Q}if(this.DD.l()){if(b.target==this.bC)H=G*(h.y/h.x);else G=H*(h.x/h.y)}G=Math.max(Math.abs(G),1);
H=Math.max(Math.abs(H),1)}else{var s=this.IJ;if(b.target==this._W)s=B;else{if(this.DD.l()){if(b.target==this.bC)H=G*(h.y/h.x);
else G=H*(h.x/h.y)}var q=[1,1,2.54/s,25.4/s,1/s][j],l=G/(j==1?100:h.x*q);s=s/l}G=h.x;H=h.y}this.Fc=new cJ(Math.round(G),Math.round(H));
this.FD=s;this.g3();this.Q(new hb(w.E.w,!1))};eo.prototype.FL=function(Y){this.Lb.k(Y);this.g3()};eo.prototype.a4t=function(){return this.Lb.l()};
eo.prototype.k=function(b,h,G){var H=window.locStor.getItem("dpiUnit");if(H!=null)this.c9.k(H);if(G!=!0)this.n9=b.clone();
this.Fc=b.clone();if(h!=null){this.IJ=h;this.FD=h}this.g3()};eo.prototype.g3=function(){var b=this.Fc.x,h=this.Fc.y,G=this.FD,H=(b/h).toFixed(3);
while(H.charAt(H.length-1)=="0")H=H.substring(0,H.length-1);if(H.charAt(H.length-1)==".")H=H.substring(0,H.length-1);
var B="  "+H+" : 1",j=function(l,U){while(U!=0){var N=U;U=l%U;l=N}return l},s=j(b,h);if(Math.min(b,h)/s<10)B="  "+Math.round(b/s)+" : "+Math.round(h/s);
this.lQ.k(B);if(this.KC.l()){b-=this.n9.x;h-=this.n9.y}var q=this.Lb.l();if(q==1){if(this.cG){b=100*b/this.n9.x;
h=100*h/this.n9.y}else{b=h=100*this.IJ/this.FD}}else{b=Math.round(b);h=Math.round(h)}var Q=[1,1,2.54/G,25.4/G,1/G][q];
b*=Q;h*=Q;var a=q==1||q==2||q==4?2:0;this.bC.cC(a);this.rT.cC(a);this.bC.k(b);this.rT.k(h);this._W.k(G*[1,1/2.54][this.c9.l()])};
eo.prototype.l=function(){return this.Fc.clone()};eo.prototype.z5=function(){return this.FD};function bu(b,h,G){dQ.call(this);
var H=b==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.yE=b;this.avj=h;this.gX=1;this.uE=[1,1,0];
var B=this.Z=u.I("div","numlist"),j=this.Go=[];for(var Y=0;Y<4;Y++){var s=new bP(H[Y],0,0,null,2,!1,!0,4,null,G&&(Y==0||Y==2));
s.O(w.E.w,this.v5,this);B.appendChild(s.Z);j[Y]=s;if(Y==1||Y==3)u.pP(B)}j[4]=new iI(b==0?[12,51]:[12,91,2]);
j[4].k(!0);B.appendChild(j[4].Z)}bu.prototype=new dQ;bu.prototype.a=function(){var b=this.Go;for(var Y=0;
Y<5;Y++)b[Y].a();if(this.yE==0)u.sq(b[0],b[2])};bu.prototype.k=function(b,h,G){if(h)this.uE=h;h=this.uE;
var H=G?b:this.yE==0?[b[2],b[0],b[3],b[1]]:[b[0],b[1],b[3],b[2]];this.gX=H[0]/H[2];for(var Y=0;Y<4;Y++){var B=this.Go[Y];
B.cC(h[2]==0&&this.avj?0:2);B.k(e.VJ.a7Z(H[Y],h[0],h[1],h[2]))}};bu.prototype.l=function(b){var h=[],G=this.uE;
for(var Y=0;Y<4;Y++){var H=e.VJ.nB(this.Go[Y].l(),G[0],G[1],G[2]);h[Y]=this.avj?Math.round(H):H}return b?h:this.yE==0?[h[1],h[3],h[0],h[2]]:[h[0],h[1],h[3],h[2]]};
bu.prototype.v5=function(b){var h=this.yE,G=this.Go.indexOf(b.currentTarget),H=this.l(!0),B=this.Go[4].l();
if(h==0){H[0]=Math.max(1,H[0]);H[2]=Math.max(1,H[2]);if(B&&G==0)H[2]=H[0]/this.gX;if(B&&G==2)H[0]=H[2]*this.gX}if(h==1){H[G]=Math.max(0,H[G]);
if(B)for(var Y=0;Y<4;Y++)H[Y]=H[G]}this.k(H,null,!0);this.Q(new hb(w.E.w,!1))};function gO(){dQ.call(this);
this.hg=0;this.a3=[0,0,1,1,100,100];this.i0=[10,5,1,1,4,3,3,2,16,9];this.Z=u.I("span","fitem");this.rf=new cP(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.rf.Z);this.rf.O(w.E.w,this.v5,this);this.bC=new bP("W",0,0,null,0,!1,!0);this.Z.appendChild(this.bC.Z);
this.bC.O(w.E.w,this.v5,this);var b=this.FW=new gX("\u21C4",!1,null,!0);b.O("click",this.P$,this);this.Z.appendChild(b.Z);
this.rT=new bP("H",0,0,null,0,!1,!0);this.Z.appendChild(this.rT.Z);this.rT.O(w.E.w,this.v5,this);this.k({$G:0,x:0,y:0})}gO.prototype=new dQ;
gO.prototype.asU=function(b,h){this.i0[0]=b;this.i0[1]=h};gO.prototype.a=function(){u.sq(this.bC,this.rT);
this.rf.a()};gO.prototype.P$=function(b){var h=this.rT.l();this.rT.k(this.bC.l());this.bC.k(h);this.v5(b)};
gO.prototype.v5=function(b){if(b.target==this.rf){var Y=this.rf.l(),h=this.a3;if(Y>2){Y-=3;var G=this.i0[2*Y],H=this.i0[2*Y+1];
h[2]=G;h[3]=H;this.bC.k(G);this.rT.k(H);this.rf.k(1)}var B=this.l();h[this.hg*2]=B.x;h[this.hg*2+1]=B.y;
this.hg=B.$G;this.k({$G:B.$G,x:h[B.$G*2],y:h[B.$G*2+1]})}if(this.bC.l()<1)this.bC.k(1);if(this.rT.l()<1)this.rT.k(1);
this.Q(new hb(w.E.w,!1))};gO.prototype.k=function(b){this.rf.k(b.$G);this.bC.k(b.x);this.rT.k(b.y);if(b.$G==0){this.bC.ay();
this.rT.ay();this.FW.ay()}else{this.bC.db();this.rT.db();this.FW.db()}};gO.prototype.l=function(){return{$G:this.rf.l(),x:this.bC.l(),y:this.rT.l()}};
function c9(b){dQ.call(this);this.Z=u.I("span","");this.acE=b;var h=b?100:300;this.jV=new el("Off X",-h,h,b?"%":"px",0,!b);
this.SD=new el("Off Y",-h,h,b?"%":"px",0,!b);this.jV.O(w.E.w,this.v5,this);this.SD.O(w.E.w,this.v5,this);
this.Z.appendChild(this.jV.Z);this.Z.appendChild(this.SD.Z)}c9.prototype=new dQ;c9.prototype.a=function(){this.jV.a();
this.SD.a()};c9.prototype.v5=function(b){this.Q(new hb(w.E.w,!1))};c9.prototype.aoH=function(b){this.jV.k(b.x);
this.SD.k(b.y)};c9.prototype.aqD=function(){return new cJ(this.jV.l(),this.SD.l())};c9.prototype.k=function(b,h){var G=b.Hrzn.v,H=b.Vrtc.v;
if(this.acE){G=G.val;H=H.val}this.jV.k(G);this.SD.k(H);if(h==!0)this.v5()};c9.prototype.l=function(){var b=this.jV.l(),h=this.SD.l();
if(this.acE)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:b}},Vrtc:{t:"UntF",v:{type:"#Prc",val:h}}};
else return{classID:"Pnt",Hrzn:{v:b,t:"doub"},Vrtc:{v:h,t:"doub"}}};function cr(b,h){dQ.call(this);this.Z=u.I("button");
this.kI=[{nx:3,t7:[]},{nx:3,t7:[12,6],vB:0},{nx:3,t7:[0,6],vB:1,VV:1}];this.mk=dE.a6.Az();this.adu=b;
this.Na=h;this.Z.addEventListener("click",this.n4.bind(this),!1);var G=u.I("canvas","gsicon");this.ZI=G.getContext("2d");
this.Z.appendChild(G);var H=u.I("span");H.textContent=" \u25BC";this.Z.appendChild(H);this.u1=new dQ;
this.u1.parent=this;this.u1.Z=u.I("div","floatcont form label6");var B=this.u1.Z;B.setAttribute("style","width: 15em;");
this.DJ=[h?new iI("Fill First"):new cP([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new g2([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new g2([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new bP("Limit",0,50,null,null,null,!0,2.5),new aG([19,9,2])];
for(var Y=0;Y<this.DJ.length;Y++){var j=this.DJ[Y];if(fq==0||Y!=0||!h)B.appendChild(j.Z);j.O(w.E.w,this.v5,this)}u.pP(B);
this.g8=[];var s=this.Qd.bind(this);for(var Y=0;Y<this.kI.length;Y++){var q=u.I("button","fitem");this.g8.push(q);
B.appendChild(q);q.addEventListener("click",s,!1);var G=u.I("canvas","gsicon"),Q=G.getContext("2d");
q.appendChild(G);this.a9g(Q,40,20,this.kI[Y])}}cr.prototype=new dQ;cr.prototype.n4=function(b){var h=this.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);
G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4,WQ:!0};this.Q(G)};cr.prototype.v5=function(b){var h=this.DJ,G=h.indexOf(b.target),H=h[G].l(),B=this.mk;
if(G==0)B.fJ=this.Na?H?1:0:H;if(G==1)B.vB=H;if(G==2)B.VV=H;if(G==3)B.dE=H;if(G==4){var j=B.t7=H==""?[]:H.split(" ").map(parseFloat);
if(!this.adu)for(var Y=0;Y<j.length;Y++)j[Y]*=B.nx}this.Q(new hb(w.E.w,!1))};cr.prototype.Qd=function(b){var h=this.g8.indexOf(b.currentTarget),G=this.kI[h],H=this.mk;
if(G.vB!=null)H.vB=G.vB;if(G.VV!=null)H.VV=G.VV;H.t7=G.t7.slice(0);if(H.nx==null)H.nx=3;for(var Y=0;
Y<H.t7.length;Y++)H.t7[Y]*=H.nx/G.nx;this.Q(new hb(w.E.w,!1))};cr.prototype.a=function(){for(var Y=0;
Y<this.DJ.length;Y++)this.DJ[Y].a()};cr.prototype.k=function(b){this.mk=JSON.parse(JSON.stringify(b));
var h=this.DJ;if(b.fJ!=null)h[0].k(this.Na?b.fJ==1:b.fJ);if(b.vB!=null)h[1].k(b.vB);if(b.VV!=null)h[2].k(b.VV);
if(b.dE!=null)h[3].k(b.dE);h[3].d3(b.VV==0);if(b.t7!=null){var G=b.t7.slice(0);if(!this.adu)for(var Y=0;
Y<G.length;Y++)G[Y]/=b.nx;h[4].k(G.join(" "))}this.a9g(this.ZI,40,16,b)};cr.prototype.l=function(){return JSON.parse(JSON.stringify(this.mk))};
cr.prototype.a9g=function(b,h,G,H){u.Xn(b.canvas,h,G);var B=H.t7?H.t7:[],j=H.nx;if(j==null)j=3;else{j=Math.min(5,j);
B=B.slice(0);for(var Y=0;Y<B.length;Y++)B[Y]*=j/H.nx}b.clearRect(0,0,h,G);b.setLineDash(B);b.lineCap=["butt","round","square"][H.vB];
b.lineJoin=["miter","round","bevel"][H.VV];b.lineWidth=j;b.beginPath();b.moveTo(0,G/2);b.lineTo(h*2,G/2);
b.stroke()};function kC(b){hM.call(this,b,!1,"contourbutton",34*13,16*13,ec.HG,!0);this.lP=new aG([12,86],null,16);
this.lP.O("input",this.nr,this);this.u1.Z.appendChild(this.lP.Z);this.jY=null;this.G8="";this.gl=null;
this.k(e3.Az())}kC.prototype=new hM;kC.prototype.a=function(){hM.prototype.a.call(this);this.lP.a()};
kC.prototype.gL=function(b){this.k(this.jY[b.target.l()[0]]);this.Q(new hb(w.E.w))};kC.prototype.nr=function(b){this.G8=this.lP.l().toLowerCase();
this.ahW()};kC.aEP=!1;kC.prototype.NG=function(){if(!this.IS)return;var b=this.LP;if(b==null||!kC.aEP){var h=new hb(w.E.b,!0);
h.data={q:w.p.iv,CI:{url:"rsrc/basic/fa.zip"}};this.Q(h);kC.aEP=!0}else{var G=Date.now(),H=Math.floor(38*u.V()),B=Math.floor(38*u.V());
this.gl=[];for(var Y=0;Y<b.length;Y++){if(b[Y].a3o==null)b[Y].a3o=kC.a7X(b[Y],H,B);this.gl.push(b[Y].a3o)}this.ahW();
this.IS=!1}};kC.prototype.ahW=function(){var b=Math.floor(38*u.V()),h=Math.floor(38*u.V());this.jY=[];
var G=[],H=[],B=this.LP;for(var Y=0;Y<B.length;Y++){if(B[Y].Mn.toLowerCase().indexOf(this.G8)==-1)continue;
this.jY.push(B[Y]);G.push(this.gl[Y]);H.push(B[Y].Mn)}this.pF.J_(G,H,b,h)};kC.prototype.k=function(b){this.Cq=kC.clone(b);
this.T1()};kC.prototype.T1=function(){var b=Math.floor(23*u.V()),h=Math.floor(23*u.V()),G=kC.a7X(this.Cq,b,h);
this.qf.setAttribute("src",G);u.o3(this.qf,b,h)};kC.prototype.l=function(){return kC.clone(this.Cq)};
kC.clone=function(b){return{Mn:b.Mn,es:b.es,d:C.cW.O6(b.d),rc:b.rc.clone()}};kC.cj=null;kC.ZI=null;kC.a7X=function(b,h,G){var H=b.rc,B=Math.min(h/H.j,G/H._)*.9,j=new eq;
j.translate(-.5,-.5);j.scale(.95,.95);j.translate(.5,.5);j.scale(B*H.j,B*H._);j.translate((h-B*H.j)/2,(G-B*H._)/2);
var s=e.tM(h,G);s.save();s.fillStyle="black";s.clearRect(0,0,h,G);s.setTransform(j.G,j.J,j.YW,j.tW,j.Kv,j.d0);
e.n.vs(b.d,s,0,0);s.restore();var q=UPNG.encode([s.getImageData(0,0,h,G).data.buffer],h,G,0);return"data:image/png;base64,"+aT.fQ(q)};
function dl(b){hM.call(this,b,!1,"ICCButton",16*13,12*13,ec.WS,!0);this.pF.XZ(1)}dl.prototype=new hM;
dl.prototype.VG=function(){var b="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Y=0;Y<b.length;Y++)b[Y]="luts/"+b[Y]+".CUBE";return b};dl.prototype.gL=function(b){this.k(this.LP[b.target.l()]);
this.Q(new hb(w.E.w))};dl.prototype.NG=function(){if(!this.IS)return;var b=Math.floor(1*u.V()),h=Math.floor(1*u.V()),G=[],H=[],B=this.LP;
for(var Y=0;Y<B.length;Y++){var j=B[Y].Nm.v.split("\\").pop().split("/").pop();H.push(j);G.push(dl.DB(B[Y],b,h))}this.pF.J_(G,H,b,h);
this.IS=!1};dl.prototype.k=function(b){this.Cq=JSON.parse(JSON.stringify(b));this.T1()};dl.DB=function(b,h,G){var H=u.I("canvas"),s="ICC / 3DL / look / cube";
H.width=h;H.height=G;var B=H.getContext("2d"),j=Math.floor(14*u.V());B.font=j+"px sans-serif";if(b.Nm)s=b.Nm.v.split("\\").pop().split("/").pop();
B.fillText(s,10,j);return H.toDataURL()};dl.prototype.T1=function(){var b=Math.floor(120*u.V()),h=Math.floor(20*u.V());
this.qf.setAttribute("src",dl.DB(this.Cq,b,h));u.o3(this.qf,b,h)};dl.prototype.l=function(){return JSON.parse(JSON.stringify(this.Cq))};
function cS(){dQ.call(this);this.T7=null;this.Z=u.I("span","fitem");this.hm=new fn([14,9]);this.qm=new bP(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.$d=new cr;this.j9=[this.hm,this.qm,this.$d];for(var Y=0;Y<this.j9.length;Y++){var b=this.j9[Y];
this.Z.appendChild(b.Z);b.parent=this;b.O(w.E.w,this.v5,this)}}cS.prototype=new dQ;cS.prototype.a=function(){for(var Y=0;
Y<this.j9.length;Y++)this.j9[Y].a()};cS.prototype.rN=function(b,h){this.hm.rN(b,h)};cS.prototype.v5=function(b){var h=this.T7,G=this.hm.l();
dE.bl(h,G);h.strokeStyleLineWidth.v.val=this.qm.l();if(b.target==this.$d)dE.QA.write(h,this.$d.l());
this.T7=h;this.Q(new hb(w.E.w,!1))};cS.prototype.k=function(b,h,G){this.T7=JSON.parse(JSON.stringify(h));
var H=dE.Sc(h);this.hm.k(b,H,G);this.qm.k(h.strokeStyleLineWidth.v.val);this.$d.k(dE.QA.Lo(h))};cS.prototype.l=function(){return JSON.parse(JSON.stringify(this.T7))};
function aa(b){var h=[[18,0],[18,1],[18,2],[18,3]],G=g2.Bq(["set/front","set/union","set/difference","set/intersection"]);
g2.call(this,b?[12,36]:null,G,h)}aa.prototype=new g2;function ac(){dQ.call(this);this.Z=u.I("button","fitem bbtn");
u.fm(this.Z,this.em.bind(this));this.u1=new dQ;this.u1.Z=u.I("div","floatcont form");this.u1.Z.setAttribute("style","max-width: 200px;");
this.u1.parent=this;var b=cm;this.AC=[new iI("Start"),new iI("End"),new b([12,41],0,100,"px",null,!0,null,!0),new b([12,80,0],0,100,"px",null,!0,null,!0),new b("Concavity",-50,50,"%",null,null,null,!0)];
for(var Y=0;Y<this.AC.length;Y++){var h=this.AC[Y];h.parent=this;h.O(w.E.w,this.hO,this);this.u1.Z.appendChild(h.Z)}this.aB0=u.I("div");
this.u1.Z.appendChild(this.aB0)}ac.prototype=new dQ;ac.prototype.k=function(b){for(var Y=0;Y<5;Y++)this.AC[Y].k(b[Y]);
this.BL()};ac.prototype.l=function(b){var h=[];for(var Y=0;Y<5;Y++)h[Y]=this.AC[Y].l();return h};ac.prototype.a=function(){this.Z.textContent=bp.get([12,93,4]);
for(var Y=0;Y<this.AC.length;Y++)this.AC[Y].a()};ac.prototype.hO=function(b){this.Q(new hb(w.E.w,!1));
this.BL()};ac.prototype.BL=function(b){var h=this.l(),G=200,H=60;h[2]/=u.V();h[3]/=u.V();var B=e.n.NT.OO(0,H/2,G,H/2,5,h),j=e.n.kM(B);
this.aB0.innerHTML="<svg width=\""+G+"\" height=\""+H+"\" class=\"gsicon\">\t\t\t<path d=\""+j.Js+"\" />\t\t\t</svg>"};
ac.prototype.em=function(b){if(u.Pg(this.u1.Z))return;b.stopPropagation();var h=this.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);
G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height,WQ:!0};this.Q(G)};function jW(){dQ.call(this);
this.Z=u.I("div");this.Go=[];this.aak=[];var b=this.fM=u.I("div"),h=u.I("h2");h.textContent="Create Teams";
b.appendChild(h);h.style.margin="26px 0 16px 0";var G=new gX("More about Teams",!1,null,!0);h.appendChild(G.Z);
G.Z.style.float="right";G.O("click",this.aEs,this);this.oe=u.I("div");b.appendChild(this.oe);this.aqV=new aG("Team Name",null,10);
b.appendChild(this.aqV.Z);var H=this.ay1=new gX("Create Team",null,null,!0);b.appendChild(H.Z);H.O("click",this.azK,this);
var h=u.I("h2");h.textContent="Join Teams";b.appendChild(h);h.style.margin="26px 0 16px 0";this.Tt=u.I("div");
b.appendChild(this.Tt);this.atO=new aG("Team ID",null,10);b.appendChild(this.atO.Z);var H=new gX("Join Team",null,null,!0);
b.appendChild(H.Z);H.O("click",this.azK,this);this.azq;this.awI=this.Fd.bind(this);this.a3J=this.afA.bind(this);
this.IM=!1;this.Zb();this.Ka=null;this.aEq=""}jW.prototype=new dQ;jW.prototype.aEs=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.CL,link:"https://www.photopea.com/api/accounts#teams"};this.Q(h)};jW.prototype.Zb=function(){clearTimeout(this.a0V);
this.a0V=setTimeout(this.a3J,this.Ka?10:3e3)};jW.prototype.afA=function(){var b=fH.$W();if(document.hidden||!u.Pg(this.Z)||b==null){this.Zb();
return}var h=fH.pU();if(this.Ka==null&&h==null)return;fH._f(this.Ka?this.Ka:h,this.awI);this.IM=!0;this.Ka=null};
jW.prototype.a1w=function(b){b.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.IM)this.Ka=b;else{clearTimeout(this.a0V);fH._f(b,this.awI)}};jW.prototype.L$=function(b){var h=typeof b=="string"?this.azq:this.Go.indexOf(b.target),G=this.aak[h],H=G[0],B=fH.pU();
if(B==null)B={};var j=B.acc,s=j.tjoin,q=j.tstart;if(H=="leave"){s.splice(s.indexOf(G[1]),1)}if(H=="add"||H=="remove"||H=="delTeam"||H=="showRename"||H=="rename"){var Q=-1,a=0;
for(var Y=0;Y<q.length;Y++){a+=q[Y][1].length;if(q[Y][2]==G[1])Q=Y}var l=q[Q];if(H=="add"){var U=fH.RW();
if(U&&U[0]==0&&U[1][2]<=a){alert("You can have at most "+U[1][2]+" members in your Premium.");return}l[1].push(G[2])}if(H=="remove")l[1].splice(l[1].indexOf(G[2]),1);
if(H=="delTeam"){if(l[1].length!=0){alert("Remove members first.");return}q.splice(Q,1)}if(H=="showRename"){var N=new hb(w.E.b,!0);
N.data={q:w.p.C9,ut:"namewindow",Wy:l[0],QF:this.L$.bind(this)};this.Q(N);this.azq=h;G[0]="rename";return}if(H=="rename")l[0]=b}this.a1w(B)};
jW.prototype.azK=function(b){var h=this.ay1==b.target,G=(h?this.aqV:this.atO).l().trim();if(G==""){alert("The Team "+(h?"Name":"ID")+" is empty.");
return}if(!h){G=parseInt(G);if(isNaN(G)){alert("The ID must be a number");return}}var H=fH.pU();if(H==null)H={};
var B=H.acc;if(B==null)B=H.acc={};var j=B.tstart,s=B.tjoin;if(h){if(j==null)j=B.tstart=[];if(j.length>5){alert("You can have at most 5 teams");
return}j.push([G,[]])}else{if(j)for(var Y=0;Y<j.length;Y++)if(j[Y][2]==G){alert("You are the owner of this team");
return}if(s==null)s=B.tjoin=[];if(s.indexOf(G)!=-1){alert("You already asked to join this team.");return}B.tjoin.push(G)}B.update=!0;
this.a1w(H)};jW.prototype.Fd=function(){this.IM=!1;var b=fH.$W(),h=b!=null,G=this.fM.parentNode!=null;
if(h!=G){u._I(this.Z);if(h)this.Z.appendChild(this.fM);else this.Z.textContent="Log In to access Team Settings."}if(!h)return;
var H=fH.pU();if(H==null)H={};var B=H.acc;if(B==null)B={};var j=JSON.stringify(B)+"===="+JSON.stringify(b);
if(j!=this.aEq){this.aEq=j;var s=this.oe,q=this.Tt;u._I(s);u._I(q);var Q=this.Go=[],a=this.aak=[],l=this.L$.bind(this);
function U(K,V){K.addEventListener("click",l);Q.push(K);a.push(V)}function N(Z,K){var $=u.I("div"),V="rgba(255,255,255,0.15)";
$.appendChild(S("ID: "+Z[2],54,V));$.appendChild(S(Z[0],160,null,!0));if(K){$.appendChild(S(Z[1].length+" members",80,null,!0))}else{$.appendChild(S(Z[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<Z[1]*1e3)$.appendChild(S("Premium",80,"rgba(0,140,0,1)"))}var r=S("",120);$.appendChild(r);
r.setAttribute("style","float:right;text-align:right");if(K){var c=new gX("Rename",null,null,!0);U(c,["showRename",Z[2]]);
r.appendChild(c.Z)}var c=new gX(K?"Delete":"Leave",null,null,!0);U(c,[K?"delTeam":"leave",Z[2]]);r.appendChild(c.Z);
return $}function R(K,V,F){var $=u.I("div");$.style.paddingLeft="46px";$.appendChild(S(V?"\u2713":"...",8,V?"#229922":"#aa7700"));
$.appendChild(S(K[1],200));$.appendChild(S(K[2],240));var r=S("",120);$.appendChild(r);r.setAttribute("style","float:right;text-align:right");
var c=new gX(V?"Remove":"Add",null,null,!0);U(c,[V?"remove":"add",F,K[0]]);r.appendChild(c.Z);return $}function S(K,V,r,c){var x=u.I("span");
x.textContent=K;x.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+V+"px;  "+(r!=null?"background-color:"+r+";":"")+(c?"font-weight:bold;":""));
return x}var g=B.tstart,i=B.tjoin,y=b.wantToJoin,o=b.inTeams;if(g)for(var v=0;v<g.length;v++){var Z=g[v],W=y["t"+Z[2]];
if(W==null)W=[];var d={};for(var Y=0;Y<W.length;Y++)d["u"+W[Y][0]]=W[Y];var $=N(Z,!0);s.appendChild($);
$.style.marginTop="10px";for(var Y=0;Y<Z[1].length;Y++){var I=Z[1][Y],k=d["u"+I];if(k==null)k=[I,"========","... user has left your team"];
delete d["u"+I];var _=R(k,!0,Z[2]);s.appendChild(_)}for(var D in d){var k=d[D],_=R(k,!1,Z[2]);s.appendChild(_)}}if(i){var A={};
for(var Y=0;Y<o.length;Y++)A["t"+o[Y][2]]=o[Y];for(var v=0;v<i.length;v++){var F=i[v],Z=A["t"+F],$=N(Z?Z:["==========",-1,F],!1);
q.appendChild($)}}this.Q(new hb(w.E.w))}if(this.Ka==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.Zb()};
function dy(){dQ.call(this);this.Ov=[16,!0,!0];this.Z=u.I("span","");this.vT=[new bP([12,24],0,255),new iI([12,25,1]),new iI([12,25,0])];
for(var Y=0;Y<3;Y++){var b=this.vT[Y];b.parent=this;b.k(this.Ov[Y]);this.Z.appendChild(b.Z);b.O(w.E.w,this.v5,this)}}dy.prototype=new dQ;
dy.prototype.v5=function(){for(var Y=0;Y<3;Y++)this.Ov[Y]=this.vT[Y].l();this.Q(new hb(w.E.w,!1))};dy.prototype.k=function(b){this.Ov=b.slice(0);
for(var Y=0;Y<3;Y++)this.vT[Y].k(b[Y])};dy.prototype.l=function(){return this.Ov.slice(0)};dy.prototype.a=function(){for(var Y=0;
Y<3;Y++)this.vT[Y].a()};function dN(b,h){dQ.call(this);if(h==null)h=!1;this.gl=[];this.SF=Math.floor(120*u.V());
this.akw=Math.floor(23*u.V());this.UW=0;this.Sl=[];this.US=[];for(var G in e.hC.type){if((G=="warpCustom"||G=="warpCylinder")&&!h)continue;
this.Sl.push(G);this.US.push(e.hC.type[G])}this.Z=u.I("span","fitem warpbutton");this.u1=new dQ;this.u1.Z=u.I("div","floatcont");
if(b){this.Y4=b;this.eu=u.I("label","flabel");this.Z.appendChild(this.eu)}this.q=u.I("button");this.Z.appendChild(this.q);
u.fm(this.q,this.em.bind(this));this.yL=new cW(!0);this.u1.Z.appendChild(this.yL.Z);this.yL.O(w.E.w,this.ak2,this);
this.u1.Z.setAttribute("style","width:"+Math.floor(8+this.SF/u.V())+"px;");this.a()}dN.prototype=new dQ;
dN.prototype.Sm=function(b){this.eu.textContent=b};dN.prototype.a=function(){if(this.Y4)this.eu.innerHTML=bp.get(this.Y4)+":";
this.T1()};dN.a9p={};dN.adC=function(b,h,G){var H=bp.get(e.hC.type[b]),B=H+"-"+b+"-"+h+"-"+G,j=dN.a9p[B];
if(j)return j;var s=dN.ZI;if(q==null){var q=u.I("canvas");s=dN.ZI=q.getContext("2d")}var q=s.canvas;
if(q.width!=h||q.height!=G){q.width=h;q.height=G}s.font=Math.floor(13*u.V())+"px sans-serif";s.lineWidth=1;
s.strokeStyle="#000000";var Q=Math.floor(16*u.V()),a=new io(0,0,Q,Q);s.clearRect(0,0,q.width,q.height);
var l=e.hC.hC(b,b=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);e.hC.avR(l[3],a);var U=e.N.Q0(a);
U.Gc.push("M","L","M","L");U.m.push(0,Q/2,Q,Q/2);U.m.push(Q/2,0,Q/2,Q);U=e.N.N5(U);U=e.N.cf(U,Q/5);e.ac.h(l,U.m,a);
e.N.h(U.m,new eq(1,0,0,1,Math.floor(8*u.V())+.5,Math.floor(3*u.V())+.5),U.m);s.beginPath();Typr.U.pathToContext({cmds:U.Gc,crds:U.m},s);
s.stroke();s.fillText(H,Math.floor(40*u.V()),Math.floor(16*u.V()));j=dN.a9p[B]=q.toDataURL();return j};
dN.prototype.em=function(b){if(u.Pg(this.u1.Z))return;b.stopPropagation();var h=this.SF,G=this.akw;for(var Y=0;
Y<this.Sl.length;Y++)this.gl[Y]=dN.adC(this.Sl[Y],h,G);this.yL.J_(this.gl,null,h,G);var H=this.q.getBoundingClientRect(),B=new hb(w.E.b,!0);
B.data={q:w.p.YB,Wn:this.u1,x:H.left,y:H.top+H.height+4};this.Q(B)};dN.prototype.ak2=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.ne,Wn:this.u1};this.Q(h);this.UW=b.target.l()[0];this.T1();this.Q(new hb(w.E.w))};dN.prototype.T1=function(){var b=this.SF,h=this.akw;
this.yL.k([this.UW]);this.q.innerHTML="<img src=\""+dN.adC(this.Sl[this.UW],b,h)+"\" class=\"gsicon\" />";
u.o3(this.q.firstChild,b,h)};dN.prototype.l=function(){return this.Sl[this.UW]};dN.prototype.k=function(b){this.UW=this.Sl.indexOf(b);
this.T1()};function jb(b,h,G){dQ.call(this);if(b==null)b=!1;if(h==null)h=!1;if(G==null)G=!1;this.aeP=h;
this.hC=null;this.xn=new dN([12,22],G);this.xn.parent=this;this.xn.O(w.E.w,this.oH,this);this.c1=new cP([22,0],[[22,4,0],[22,4,1]]);
this.c1.O(w.E.w,this.oH,this);var H=b?bP:cm;this.MR=new H([22,1],-100,100,"%");this.zO=new H("Horizontal Distortion:",-100,100,"%");
this.vV=new H("Vertical Distortion:",-100,100,"%");this.MR.parent=this.zO.parent=this.vV.parent=this;
this.MR.O(w.E.w,this.oH,this);this.zO.O(w.E.w,this.oH,this);this.vV.O(w.E.w,this.oH,this)}jb.prototype=new dQ;
jb.prototype.a=function(){this.xn.a();this.c1.a();this.MR.a();var b=this.aeP?1:100;this.zO.Sm(bp.get([22,2]).substring(0,b)+":");
this.vV.Sm(bp.get([22,3]).substring(0,b)+":")};jb.prototype.oH=function(){var b=this.hC,h=this.xn.l(),G=b.warpStyle.v.warpStyle;
if(h=="warpCustom")e.hC.Sd(b,e.hC.kB(b));else delete b.customEnvelopeWarp;b.warpStyle.v.warpStyle=this.xn.l();
b.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.c1.l()];var H=this.MR.l();b.warpPerspective.v=this.zO.l();b.warpPerspectiveOther.v=this.vV.l();
if(h=="warpNone"||h=="warpCustom"){H=0;b.warpPerspective.v=0;b.warpPerspectiveOther.v=0}else if(G=="warpNone"||G=="warpCustom"||G=="warpCylinder")H=50;
if(h!="warpCylinder"){b.warpValue={t:"doub",v:H};delete b.warpValues}else{b.warpValues=E.Y.Ll([0,100,100,0,.15,.2,1]);
delete b.warpValue}this.Q(new hb(w.E.w,!1));this.k(b)};jb.prototype.l=function(b){return JSON.parse(JSON.stringify(this.hC))};
jb.prototype.k=function(b){this.hC=JSON.parse(JSON.stringify(b));var h=b.warpStyle.v.warpStyle,G=h=="warpNone"||h=="warpCustom"||h=="warpCylinder";
this.xn.k(h);if(!G){this.c1.k(b.warpRotate.v.Ornt=="Hrzn"?0:1);this.MR.k(b.warpValue.v);this.zO.k(b.warpPerspective.v);
this.vV.k(b.warpPerspectiveOther.v)}var H=[this.c1,this.MR,this.zO,this.vV];for(var Y=0;Y<H.length;Y++)if(G)H[Y].ay();
else H[Y].db()};function ep(b){dQ.call(this);this.us={};this.Z=u.I("div");this.tt=b;this.FG=null;this.Zn=new cJ(0,0);
this.Kp="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.aL=null;this.RB=new u.mE(this.Z);
this.vR("grab");this.cj=u.I("canvas","canv");this.Z.appendChild(this.cj);this.ZI=this.cj.getContext("2d",{willReadFrequently:!0});
this.ave=null;this.jg=null;this.Yc=null;this.Ne=0;this.aE0=0;this.W_=0;this.oj=0;this.aj$=this.ap6.bind(this);
this.an2=null;this.s=new kI({j:1,_:1});this.BA=null;this.xk=null;this.C$=[];this.a7F=0;this.vi=0;this.anj=this._M.bind(this);
this.apJ=this.wv.bind(this);this.asg=this.om.bind(this);this.ahU=this.uT.bind(this);this.atZ=0;this.Tu=null;
this.avL(this.cj);this.TM(this)}ep.prototype=new dQ;ep.prototype.azp=function(b){this.us=b;this.wB()};
ep.sB=function(b){var h=new ap(!0);if(b>=0)h._S("Space");if(b>=1){h._S("ControlLeft");if(b==2)h._S("AltLeft")}return h};
ep.prototype.Z1=function(b){var h=this.aL,G=null;if(b.W(ap.Jn)){G="grab";if(b.W(ap.zb)){G="zoom-in";
if(b.W(ap.p0))G="zoom-out"}}this.FG=G;if(G)h=G;this.RB.Fd(h,this.Kp);if(b.W(ap.zb)){var H=0;if(b.W(ap.za))H=1;
if(b.W(ap.Od))H=-1;if(H!=0){this.t5(new cJ(this.cj.width/2,this.cj.height/2),H==1)}}};ep.prototype.vR=function(b){this.aL=b;
if(this.FG)return;this.RB.Fd(b,this.Kp)};ep.prototype.avL=function(b){u.fm(b,this.anj);u.TB(b);b.addEventListener("wheel",this.ahU,!1)};
ep.prototype.TM=function(b){b.O("viewchange",this.aut,this)};ep.prototype.aut=function(b){var h=this.s.D,G=b.currentTarget.OC();
this.s.D=G.D;this.s.f=G.f.clone();if(h!=G.D)this.z$();this.wB()};ep.prototype.OC=function(){return{D:this.s.D,f:this.s.f}};
ep.prototype.k=function(b,h,G,H){var B=b[0].jD;if(this.jg!=null&&this.jg[0].jD.TW(B)){}else{this.s.tR={j:B.j,_:B._};
this.s.D=1;this.s.f=new cJ(0,0)}this.jg=b;this.z$(H);this.Ig();this.Ne=0;this.aE0=Date.now();this.W_=0;
this.oj=h==null?0:h;if(G)this.us=G;this.ap6()};ep.prototype.uT=function(b){b.preventDefault();if(b.deltaY==0||Date.now()-this.atZ<100)return;
var h=u.Kz(b);h.x=u.V()*h.x;h.y=u.V()*h.y;this.atZ=Date.now();this.t5(h,b.deltaY<0)};ep.prototype.t5=function(b,h){E.Qf.mT(this.s,b,h);
this.a6Q()};ep.prototype.Gr=function(b){var h=this.s,G=h.tR;this.s.D=E.Qf.Mk(G.j,G._,h.q5.j,h.q5._);
if(b)this.s.f=new cJ(0,0);this.a6Q()};ep.prototype.a6Q=function(){this.z$();this.Q(new hb("viewchange"));
this.Q(new hb("zoom"))};ep.prototype.z$=function(b){var h=this.Yc;this.Yc=[];var G=this.s.D;if(this.jg==null)return;
if(b){var H=e.Dh(G),B=1;for(var j=0;j<H.length;j++)B*=H[j];var s=b.x,q=b.y,Q=s+b.j,a=q+b._;s=Math.floor(s/B)*B;
Q=Math.ceil(Q/B)*B;q=Math.floor(q/B)*B;a=Math.ceil(a/B)*B;b=new io(s,q,Q-s,a-q)}for(var Y=0;Y<this.jg.length;
Y++){var l=this.jg[Y],U=new Uint8Array(l.data),N;if(G>=1)N={Ur:U,rect:l.jD};else{if(h&&h[Y]&&b){var R=e.U(b.X()*4);
e.JE(U,l.jD,R,b);var S=e.sL(R,b,G),g=S.rect;g.x=Math.floor(g.x*G);g.y=Math.floor(g.y*G);N=h[Y];e.JE(S.Ur,S.rect,N.Ur,N.rect)}else N=e.sL(U,l.jD,G)}this.Yc[Y]=N}};
ep.prototype.Ig=function(){clearTimeout(this.an2)};ep.prototype.wB=function(){if(this.jg==null||!u.Pg(this.cj))return;
var b=this.ave,h=this.cj.width,G=this.cj.height,S,g;if(b==null||b.width!=h||b.height!=G){b=this.ave=this.ZI.createImageData(h,G);
console.log("creating image data")}var H=this.jg[this.Ne],B=this.Yc[this.Ne],j=this.s,s=j.tR,q=j.q5,Q=q.j,a=q._,l=s.j*j.D,U=s._*j.D,N=Math.round((Q-l)/2+j.f.x),R=Math.round((a-U)/2+j.f.y);
if(j.D<=1){g=B.rect.clone();g.x=N;g.y=R;l=g.j;U=g._;S=B.Ur}else{var i=1/j.D,y=new io(Math.floor((q.x-N)*i),Math.floor((q.y-R)*i),Math.ceil(q.j*i)+1,Math.ceil(q._*i)+1),o=new io(0,0,y.j*j.D,y._*j.D);
o.x=y.x*j.D+N;o.y=y.y*j.D+R;if(j.xP==null||j.xP.length!=y.X()*4){j.xP=e.U(y.X()*4)}if(j.wQ==null||j.wQ.length!=o.X()*4){j.wQ=e.U(o.X()*4)}e.Zi(j.xP,0);
e.JE(B.Ur,B.rect,j.xP,y);e.scale.Ij(j.xP,y.j,y._,j.wQ,o.j,o._,j.D);S=j.wQ;g=o}var v=new Uint8Array(b.data.buffer);
e.L0(v,Q,a,8,-N,-R);e.z.Nm("norm",S,g,v,q,q,1);var Z=this.ZI;Z.setTransform(1,0,0,1,0,0);Z.putImageData(b,0,0);
Z.clearRect(N-4e3,R,4e3,U);Z.clearRect(N+l,R,4e3,U);Z.clearRect(N-4e3,R-4e3,l+8e3,4e3);Z.clearRect(N-4e3,R+U,l+8e3,4e3);
var W=ep.ag2(j.D,"#ffffff");Z.putImageData(W,0,j.q5._-W.height);var d=this.us,j=this.s;if(d){var $=jA.NC([.1,.5,1,1]),I=jA.NC([1,0,0,1]),k=jA.NC([1,1,1,1]),_=jA.NC([0,0,0,1]),D=j.si(!1);
D.Q6();Z.save();Z.setTransform(D.G,D.J,D.YW,D.tW,D.Kv,D.d0);Z.strokeStyle=I;if(d.af8){jA.YZ(d.af8,null,Z);
Z.lineWidth=1/j.D;Z.stroke()}Z.strokeStyle=k;if(d.a1T){jA.YZ(d.a1T,null,Z);Z.lineWidth=1/j.D;Z.stroke();
Z.strokeStyle=_;Z.setLineDash([4/j.D,4/j.D]);Z.stroke();Z.setLineDash([])}Z.strokeStyle=$;Z.fillStyle=jA.NC([1,1,1,1]);
if(d.wY){jA.YZ(d.wY,null,Z);Z.lineWidth=1/j.D;Z.stroke()}if(d.fj){jA.j6(d.fj,Z,j,.5);Z.lineWidth=2/j.D;
Z.stroke();Z.fill()}if(d.KL){Z.font=16/j.D+"px sans-serif";var A=1/j.D;for(var Y=0;Y<d.KL.length;Y++){var F=d.KL[Y],K=F[0],V=F[1]+6/j.D,r=F[2];
Z.fillStyle="black";Z.fillText(r,K-A,V);Z.fillText(r,K+A,V);Z.fillStyle="white";Z.fillText(r,K,V)}}Z.restore()}Z.getImageData(0,0,1,1)};
ep.ajH="";ep.aoP=null;ep.ag2=function(b,h,G,H){if(G==null){G=0;H=0}var B=G+" \xD7 "+H,j="z"+b+","+h+","+G+","+H;
if(j==ep.ajH)return ep.aoP;var s=Math.round(50*u.V()),q=Math.round(18*u.V()),Q=G==0?0:Math.round((B.length+2)*q*.35),a=u.I("canvas"),l=a.getContext("2d");
a.width=s+Q;a.height=q;l.fillStyle="rgba(1,1,1,1)";l.fillRect(0,0,s,q);if(G!=0)l.fillRect(s+2,0,Q,q);
l.font=Math.round(11*u.V())+"px monospace";l.fillStyle=h;var U=b*100;if(U<100)U=U.toFixed(2);else U=Math.round(U);
U=U+"%";var N=l.measureText(U).width;l.fillText(U,(s-N)/2,Math.round(q*.7));if(G!=0){var R=l.measureText(B).width;
l.fillText(B,s+(Q-R)/2+1,Math.round(q*.7))}var S=l.getImageData(0,0,s+Q,q);ep.ajH=j;ep.aoP=S;return S};
ep.prototype.ap6=function(){var b=this.jg,h=b.length,G=this.Ne,H=this.jg[G],B=(G+1)%h;this.wB();var j=Date.now();
if(h!=1&&b[B].jD.TW(H.jD)){var s=H.Xy?parseInt(H.Xy.split(",").pop()):30;if(s==0)s=16;if(B==0)this.W_++;
if(this.oj==0||this.W_<this.oj)this.an2=setTimeout(this.aj$,s)}this.Ne=B;this.aE0=j};ep.prototype.Vb=function(b,h){if(b<=0||h<=0)return;
var G=Math.floor(b*u.V()),H=Math.floor(h*u.V());this.s.q5=new io(0,0,G,H);this.cj.width=G;this.cj.height=H;
this.cj.setAttribute("style","width:"+G/u.V()+"px; height:"+H/u.V()+"px; display:block;");this.wB()};
ep.prototype.Uz=function(b){var h=-1,G=this.C$;for(var Y=0;Y<G.length;Y++)if(G[Y].pointerId==b.pointerId)h=Y;
return h};ep.prototype._M=function(b){var h=this.Uz(b),G=this.C$;if(h!=-1)G[h]=b;else G.push(b);if(G.length==1){this.Tu=b.target;
u.fe(window,this.apJ);u.$f(window,this.asg);this.BA=u.Kz(b,this.cj);this.BA.x*=u.V();this.BA.y*=u.V();
this.Zn=this.BA;this.xk=this.s.f.clone();if(this.tt&&this.Tu==this.cj&&!this.FG)this.Q(new hb("mousedown"))}else this.a7F=this.vi=cJ.o0(u.Kz(G[0],this.cj),u.Kz(G[1],this.cj))};
ep.prototype.wv=function(b){var h=this.Uz(b),G=this.C$;if(h!=-1)G[h]=b;var H=this.s,B=this.FG,j=this.jg[this.Ne].jD.clone();
j.j*=H.D;j._*=H.D;var s=u.Kz(b,this.cj);s.x*=u.V();s.y*=u.V();this.Zn=s;if(this.tt&&this.Tu==this.cj&&!B)this.Q(new hb("mousemove"));
else if(B=="grab"||B==null){if(G.length>1){var q=u.Kz(G[0],this.cj),Q=u.Kz(G[1],this.cj),a=new cJ(u.V()*(q.x+Q.x)/2,u.V()*(q.y+Q.y)/2),l=cJ.o0(q,Q),U=null;
if(l>this.vi+50){this.vi+=50;U=!0}if(l<this.vi-50){this.vi-=50;U=!1}if(U!=null)this.t5(a,U);return}else{var N=s.x-this.BA.x,R=s.y-this.BA.y;
H.f.x=this.xk.x+Math.round(N);H.f.y=this.xk.y+Math.round(R)}this.Q(new hb("viewchange"))}};ep.prototype.om=function(b){var h=this.Uz(b),G=this.C$;
G.splice(h,1);if(G.length==0){u.CV(window,this.apJ);u.iF(window,this.asg);var H=this.FG;if(b.detail>1){this.s.D=1;
this.s.f.ve(0,0);this.wB()}if(this.tt&&this.Tu==this.cj&&!this.FG)this.Q(new hb("mouseup"));else{if(H=="zoom-in"||H=="zoom-out")this.t5(this.Zn,H=="zoom-in")}}else{var B=this.BA=u.Kz(G[0],this.cj);
B.x*=u.V();B.y*=u.V()}};ep.prototype.Md=function(b){var h=this.Zn;if(b){h=u.Kz(b,this.cj);h.x*=u.V();
h.y*=u.V()}return this.s.Fj(h.x,h.y)};function gT(){dQ.call(this);this.ps=null;this.GZ=null;this._b=null;
this.aF=null;this.a8o="";this.ab=[];this.hP=0;this.SL=[];this.VR=0;this.Cc=null;var b=this.Z=u.I("div",""),h=this.aaV=u.I("div","form");
h.setAttribute("style","line-height:0; margin-bottom:0.5em;");b.appendChild(h);var G=this.Y4=u.I("span");
h.appendChild(G);G.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var H=this.a4J=new iI([25,2,0]);
H.k(!0);h.appendChild(H.Z);H.O(w.E.w,this.K1,this);var B=this.Tw=new iI([25,2,1]);B.k(!0);h.appendChild(B.Z);
B.O(w.E.w,this.K1,this);var j=new iM(" ");h.appendChild(j.Z);var s=this.NF=new aG([25,1,1]);h.appendChild(s.Z);
s.O(w.E.w,this.K1,this);this.Na=new aR(14);this.Na.aBn(3);h.appendChild(this.Na.Z);this.Na.parent=this;
this.Na.O(w.E.w,this.aAY,this);var q=this.afd=new gX([25,1,2],null,null,!0);h.appendChild(q.Z);q.O("click",this.Hg,this);
var Q=new gX("?",null,null,!0);h.appendChild(Q.Z);Q.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.adA=this.agE.bind(this);this.Il=u.I("div","svggallery scrollable");b.appendChild(this.Il);this.Il.addEventListener("scroll",this.a3e.bind(this))}gT.prototype=new dQ;
gT.prototype.rN=function(b){this.afN=b};gT.prototype.a=function(){this.Y4.textContent=bp.get([25,0]);
this.Na.a();this.a4J.a();this.Tw.a();this.NF.a();this.afd.a()};gT.prototype.Vb=function(b,h){this.ps=new cJ(b,h);
this.aaV.setAttribute("style","width:"+b+"px");var G=this.aaV.getBoundingClientRect();h-=G.height;this.Il.setAttribute("style","width:"+b+"px; height:"+h+"px");
if(u.Pg(this.Z))this.K1()};gT.prototype.k=function(b){this.GZ=b;this.K1()};gT.prototype.a3e=function(b){var h=this.Il;
if(h.scrollTop+h.clientHeight+10>=h.scrollHeight){this.K1(!0)}};gT.prototype.aAY=function(b){this._b=null;
this.K1()};gT.prototype.agE=function(b){if(Date.now()-this.VR<2e3)return;this.VR=Date.now();this.hP=this.SL.indexOf(b.currentTarget);
var h=this.k8(this.GZ.x,this.GZ.y);if(h[1]){var G=h[1].largeImageURL,H=new XMLHttpRequest;H.responseType="arraybuffer";
H.open("GET",G,!0);H.onload=this.apE.bind(this);H.send();return}this.afD(h)};gT.prototype.apE=function(b){var h=b.target.response,G=aT.ni(h),H=aT.JR(G),B=H.ho(h),j=this.k8(this.GZ.x,this.GZ.y,[h,B[0].jD.j,B[0].jD._]);
this.afD(j)};gT.prototype.afD=function(b){var h=b[0],G=aT.ni(h),H=aT.JR(G),B=new cj("template.psd");
H.ho(h,B);var j=new hb("tempready",!0);j.data={tR:B};this.Q(j)};gT.prototype.Hg=function(b){var h=b.target;
this.ab=[];this._b=null;this.K1()};gT.prototype.aAz=function(b){var h=JSON.parse(b.target.response),G=this.aF=h.hits;
for(var Y=0;Y<G.length;Y++)if(G[Y].user_id==6314823)G.splice(Y,1);this.K1()};gT.prototype.K1=function(b){if(this.GZ==null||this.ps==null||this.afN==null)return;
if(this.ps.x<=0)return;var h=this.GZ.x,G=this.GZ.y;if(Math.min(h,G)<50)return;if(b!=!0){this.SL=[];u._I(this.Il);
this.Il.scrollTop=0}if(this.SL.length>300)return;var H=Math.min(1,300/Math.max(h,G)),B=this.ps.clone();
B.x-=20;var j=Math.max(1,Math.floor(B.x/(h*H))),s=Math.max(1,Math.ceil(B.y/(G*H)));H=B.x/j/h;var q=j*s;
if(this._b==null){var Q=this.afN.B7.r4(),a=[];for(var l in Q){var U=Q[l],N=U[3];if(!this.Na.AJ(U))continue;
if(U[5]==null||U[5].slice(0,2)=="gf")continue;a.push(U)}if(a.length==0)a.push(Q.DejaVuSans);var R=a.length;
for(var Y=0;Y<R*10;Y++){var S=Math.floor(Math.random()*R),g=Math.floor(Math.random()*R),i=a[S];a[S]=a[g];
a[g]=i}a=a.slice(0,10);this._b=a}var y=this.Tw.l(),o=this.NF.l().trim();this.NF.d3(y);if(y&&(this.aF==null||o!=this.a8o)){var v=new XMLHttpRequest,Z="https://pixabay.com/api/?image_type=photo"+(o==""?"":"&q="+encodeURIComponent(o))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(o=="")Z="//www.photopea.com/plugins/gallery.json";v.open("GET",Z,!0);v.onload=this.aAz.bind(this);
v.onerror=function(_){console.log(_.target.response)};v.send();this.a8o=o;return}H*=(h*H-5)/(h*H);var W=this.SL.length;
for(var Y=0;Y<q;Y++){var d=this.hP=W+Y;if(this.ab[d]==null)this.ab[d]=Math.floor(Math.random()*4294967295);
var $=this.k8(Math.round(h*H),Math.round(G*H)),I=$[0];I=J.S2(new Uint8Array(I));var k=u.I("span");k.innerHTML=I;
this.SL.push(k);this.Il.appendChild(k);k.addEventListener("click",this.adA,!1)}};gT.prototype.k8=function(b,h,G){var H=this.Tw.l(),B=this.a4J.l(),j=H&&this.aF.length!=0?this.aF:null;
if(B&&!H)j=null;if(B&&H&&(this.hP&1)==0)j=null;return bt.NT(b,h,this.ab[this.hP],this._b,G?G:j)};function hg(){dQ.call(this);
this.Z=u.I("div");this.fM=null;this.aBZ=null;this.Eb=-1;this.cx={JPG:[{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:70},{zu:new iI("attach metadata"),NQ:!1}],TIFF:[{zu:new iI("attach metadata"),NQ:!1}],WEBP:[{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:70},{zu:new iI("attach metadata"),NQ:!1}],GIF:[{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:100},{zu:new iI([12,23,3]),NQ:!1}],PNG:[{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:100},{zu:new iI("don't use palettes"),NQ:!1},{zu:new iI("attach metadata"),NQ:!1}],BMP:[{zu:new iI("don't use palettes"),NQ:!1}],PDF:[{zu:new aG([12,52,1]),NQ:""},{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:100},{zu:new iI("reverse pages"),NQ:!1},{zu:new iI("rasterize all"),NQ:!1},{zu:new iI("vectorize text"),NQ:!1},{zu:new cm("Add Margin",0,5,"in",2),NQ:0},{zu:new iI("add crop marks"),NQ:!1}],EMF:[{zu:new aG([12,52,1]),NQ:""},{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:100},{zu:new iI("reverse pages"),NQ:!1},{zu:new iI("rasterize all"),NQ:!1},{zu:new iI("vectorize text"),NQ:!1},{zu:new cm("Add Margin",0,5,"in",2),NQ:0}],SVG:[{zu:new iI("add raster graphics"),NQ:!0},{zu:new iI("add hidden layers"),NQ:!1},{zu:new iI("vectorize text"),NQ:!1},{zu:new iI("rasterize text"),NQ:!1},{zu:new iI("minify"),NQ:!1}],RAW:[{zu:new g2([12,72],["1","3","4"]),NQ:2},{zu:new g2([12,34],["8 Bits","16 Bits"]),NQ:0},{zu:new g2("Byte Order",["12-34","34-12"]),NQ:0}],DDS:[{zu:new cP("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),NQ:0},{zu:new iI("Add Mipmaps"),NQ:!0}],MP4:[{zu:new cm([12,52,0],0,100,"%",null,null,!0),NQ:50}],anim:[{zu:new cm("Speed",10,1e3,"%",null,!0,!0),NQ:100},{zu:new bP("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),NQ:0},{zu:new iI("reverse frames"),NQ:!1},{zu:new iI("boomerang"),NQ:!1}],slcs:[{zu:new iI([8,11,0]),NQ:!0}],artb:[{zu:new iI([1,16,1]),NQ:!0}],hicc:[{zu:new iI("convert to sRGB"),NQ:!0}]};
for(var b in this.cx){var h=this.cx[b];for(var Y=0;Y<h.length;Y++){h[Y].zu.k(h[Y].NQ);h[Y].zu.O(w.E.w,this.Zs,this)}}}hg.prototype=new dQ;
hg.prototype.aru=function(){this.Eb=-1};hg.prototype.a=function(){for(var b in this.cx)for(var Y=0;Y<this.cx[b].length;
Y++)this.cx[b][Y].zu.a()};hg.prototype.Zs=function(){this.K1();this.Q(new hb(w.E.w,!1))};hg.prototype.K1=function(){var b=this.fM,h=b[0],G=b[1],H=b[2],B=b[3],j=b[4],s=this.cx[h];
if(s==null)s=[];else s=s.slice(0);if(G)s=s.concat(this.cx.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(h)!=-1&&H)s=s.concat(this.cx.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(h)!=-1&&B)s=s.concat(this.cx.artb);if(j)s=s.concat(this.cx.hicc);
var q=b.join(",");if(q!=this.Eb){this.Eb=q;u._I(this.Z);for(var Y=0;Y<s.length;Y++){if(h=="PDF"&&!B&&(Y==0||Y==2))continue;
this.Z.appendChild(s[Y].zu.Z);u.pP(this.Z)}}var Q=this.aBZ=[];for(var Y=0;Y<s.length;Y++)Q.push(s[Y].zu.l())};
hg.prototype.Ek=function(b,h,G,H,B){this.fM=[b,h,G,H,B];this.K1()};hg.prototype.l=function(){return this.aBZ.slice(0)};
hg.prototype.k=function(b,h){var G=this.fM,H=G[0],B=this.cx[H],j=Math.min(B.length,b.length);for(var Y=0;
Y<j;Y++)B[Y].zu.k(b[Y]);this.K1();if(h!=!0)this.Zs()};function gI(){dQ.call(this);this.Z=u.I("span","fitem");
this.Rw=!1;this.fr=new gX("No",!1,"Cancel");this.kp=new gX("Yes",!1,"Confirm");this.Z.appendChild(this.fr.Z);
this.Z.appendChild(this.kp.Z);this.fr.O("click",this.Wp,this);this.kp.O("click",this.Wp,this);this.a()}gI.prototype=new dQ;
gI.prototype.a=function(){this.fr.Sm(u.b5("cross",null,"autoscale"));this.kp.Sm(u.b5("checkmark",null,"autoscale"))};
gI.prototype.Wp=function(b){this.Rw=b.target==this.kp;this.Q(new UIEvent("click"))};gI.prototype.l=function(){return this.Rw};
function cU(b){dQ.call(this);this.Z=u.I("span","fitem");this.b_=new gX("\u25BC",null,"Auto Options",!0);
u.fm(this.b_.Z,this.axC.bind(this));this.Z.appendChild(this.b_.Z);this.Lx=new gX("Auto",null,null,!0);
this.Lx.O("click",this.hO,this);this.Z.appendChild(this.Lx.Z);this.ds=new jH("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.ds.O(w.E.w,this.hO,this);this.ds.k([!1,!1,!1,!0]);this.u1=new dQ;var h=this.u1.Z=u.I("div","floatcont form");
h.setAttribute("style","width: 250px;");this.u1.parent=this;h.appendChild(this.ds.Z);this.rJ=[];for(var Y=0;
Y<2;Y++){var G=new bP((Y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);G.k(.1);G.O(w.E.w,this.hO,this);
this.rJ.push(G);h.appendChild(G.Z)}}cU.prototype=new dQ;cU.prototype.hO=function(b){this.Q(new hb(w.E.w,!1))};
cU.prototype.a=function(){};cU.prototype.l=function(){return[this.ds.l().indexOf(!0),this.rJ[0].l(),this.rJ[1].l()]};
cU.prototype.axC=function(b){if(u.Pg(this.u1.Z))return;b.stopPropagation();var h=this.b_.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);
G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4};this.Q(G)};function kd(){dQ.call(this);var b=this.Z=u.I("div","fitem");
this.Ga=new cP([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Ga.O(w.E.w,this.v5,this);b.appendChild(this.Ga.Z);
this.Wq=new d8(!1);this.Wq.parent=this;this.Wq.HS(16777215);this.Wq.O(w.E.w,this.v5,this);b.appendChild(this.Wq.Z)}kd.prototype=new dQ;
kd.prototype.a=function(){this.Ga.a();this.Wq.a()};kd.prototype.am2=function(b){var h=[b.artboardBackgroundType.v-1];
if(b.Clr)h.push(b.Clr.v);this.k(h)};kd.prototype.aqA=function(){var b=this.l();return{classID:"artboard",Clr:{t:"Objc",v:b[1]},artboardBackgroundType:{t:"long",v:b[0]+1}}};
kd.prototype.k=function(b){this.Ga.k(b[0]);if(b[1])this.Wq.k(b[1])};kd.prototype.l=function(){return[this.Ga.l(),this.Wq.l()]};
kd.prototype.v5=function(b){if(b.target==this.Wq)this.Ga.k(3);this.Q(new hb(w.E.w,!1))};function dI(b){dQ.call(this);
this.b4=b;this.a9G=0;this.arl=!1;this.Pc=b?new dI.h5:null;this.Z=u.I("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.No=u.I("div");this.Z.appendChild(this.No);this.co=u.I("div");this.Z.appendChild(this.co);this.g8=[];
var h=Storage.list.length;if(b)h=h+1+dI.iD.length;var G=this.Ly.bind(this);for(var Y=0;Y<h;Y++){var H=u.I("div");
this.g8.push(H);this.No.appendChild(H);H.addEventListener("click",G,!1)}this.Ly(null,0)}dI.prototype=new dQ;
dI.k0=[];dI.D1=function(b){dI.k0.push(b);b.BL()};dI.a_=function(){var b=dI.k0;b.pop();b[b.length-1].BL()};
dI.prototype.BL=function(){this.Ly(null,this.a9G)};dI.prototype.rN=function(b,h){if(!b.NP&&!this.arl){var G=this.b4?2:1;
for(var Y=G;Y<this.g8.length;Y++)this.No.removeChild(this.g8[Y]);this.arl=!0;if(this.b4)this.Pc.rN(b,h)}if(this.JH)this.JH.rN(b,h)};
dI.prototype.a=function(){if(this.b4)this.Pc.a();if(this.JH)this.JH.a()};dI.prototype.Ly=function(b,h){var G=this.g8,H;
if(h==null)h=G.indexOf(b.currentTarget);this.a9G=h;for(var Y=0;Y<G.length;Y++)u.Yx(G[Y],"active");u.eS(G[h],"active");
if(this.b4)h--;u._I(this.co);var B=Storage.list.length;if(h==-1)H=this.Pc;else if(h<B)H=Storage.E0(h);
else{var j=dI.iD[h-B];H=new dI.iu(j[1]);fH.event("strg_"+j[0])}this.JH=H;H.parent=this;this.co.appendChild(H.Z);
this.Vb(this.Ps,this.CN);this.a()};dI.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;var G=b<850,H=G?50:210,B=Storage.list;
if(this.b4)B=[["Home",null,"strg/home"]].concat(B.concat(dI.iD));for(var Y=0;Y<B.length;Y++){var j=this.g8[Y],s="padding: 8px "+(G?13:36)+"px; cursor:pointer;";
j.setAttribute("style",s);var q=B[Y][2],Q=B[Y].length==6;q=Q?q:PIMG[q];j.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+q+"\" /> "+(G?"":B[Y][0])}this.Z.style.width=b+"px";
this.Z.style.height=h+"px";this.No.style.width=H+"px";this.No.style.paddingTop="32px";if(this.JH)this.JH.Vb(b-H,h)};
dI.iD=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var Y=0;Y<dI.iD.length;Y++)if(dI.iD[Y][5]*1e3<Date.now()){dI.iD.splice(Y,1);Y--}dI.h5=function(){this.BC=null;
var b=this.Z=u.I("div");b.style.background="var(--bg-canvas)";var h=this.Er=u.I("div");b.appendChild(h);
var G=u.I("style");b.appendChild(G);G.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var Y=0;Y<2;Y++){var H=u.I("div"),G="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";h.appendChild(H);
if(Y==0)G+="padding: 12px 0px";if(Y==1)G+="position:absolute;  bottom:0;";H.setAttribute("style",G);
var B=u.I("img");H.appendChild(B);B.setAttribute("src",PIMG[Y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(Y==0)this.d1=B;else this.aAo=B;if(Y==0)this.aoA=H;else this.aly=H}this.g8=[];G="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var j=this.o5.bind(this),s=u.I("div");h.appendChild(s);s.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var Y=0;Y<4;Y++){var q=u.I("span","bhover");this.g8.push(q);q.setAttribute("style",G+"cursor:pointer; padding:12px;");
q.addEventListener("click",j,!1);s.appendChild(q)}u.pP(h);var H=u.I("div");H.setAttribute("style",G+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
H.textContent="Drop any files here";h.appendChild(H);this.cj=u.I("canvas");this.cj.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.ZI=this.cj.getContext("2d");this.a3y=e.U(4);b.appendChild(this.cj);var Q=new Date().getDate(),a=new Date().getMonth();
if(a==11&&Q>20||a==0&&Q<10){var l=Math.random()<.5,U={$:255,B:255,J:255};if(!l){U=e.LM(Math.random(),Math.random()*.7,1);
U.$*=255;U.B*=255;U.J*=255}this.cR=[Math.round(1048575*Math.random()),l?.05:.02,Math.round(4+Math.random()*8),1,l?3:15,U,0,!0,l,l?1:.2,3];
this.a69=l?.1:.2;this.g4=this.lu.bind(this);window.requestAnimationFrame(this.g4)}};dI.h5.prototype=new dQ;
dI.h5.prototype.lu=function(){window.requestAnimationFrame(this.g4);if(!u.Pg(this.Z))return;var b=this.a3y,h=this.cj,G=this.ZI,H=h.width,B=h.height;
this.cR[6]=Date.now()*.001*this.a69;e.Ff.mR(b,H,B,this.cR,!0);G.putImageData(new ImageData(new Uint8ClampedArray(b.buffer),H,B),0,0)};
dI.h5.prototype.o5=function(b){var Y=this.g8.indexOf(b.currentTarget),h=new hb(w.E.b,!0);if(Y==0)h.data={q:w.p.C9,ut:"newproject"};
if(Y==1)h.data={q:w.p.vd};if(Y==2)h.data={q:w.p.C9,ut:"res0"};if(Y==3)h.data={q:w.p.KK};this.Q(h)};dI.h5.prototype.a=function(){var b=this.g8,h=[[11,7],[1,6],[25,0],[0,17,6]],G=["\u2605","\uD83E\uDC7F","\u25A3"],G=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var Y=0;Y<b.length;Y++)b[Y].innerHTML="<span style=\"vertical-align:middle\">"+u.b5(G[Y],null,"autoscale")+"</span>\u2000"+bp.get(h[Y]);
var H="l"+"o"+"g"+"o",B=H+"_"+["pp","vp"][fq],j=new Date;if(j.getMonth()==3&&j.getDate()==1)B="lo"+"go_cuc"+"umber";
if(PIMG[H])B=H;this.d1.setAttribute("src",PIMG[B]);this.aAo.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
dI.h5.prototype.Vb=function(b,h){var G=Math.min(h*1.5,Math.min(b,600));u.Xn(this.cj,b,G*.26);var H=this.cj.width,B=this.cj.height;
this.a3y=e.U(H*B*4);this.Z.style.width=b+"px";this.Z.style.height=h+"px";this.aly.style.width=b+"px";
this.Er.style.marginLeft=Math.max(0,Math.round((b+200-600)/2)-200)+"px";this.d1.style.width=G+"px";this.aAo.style.width=G+"px"};
dI.h5.prototype.rN=function(b,h){var G=b;if(b==null)b=this.Cc;this.Cc=b;if(!b.NP&&this.g8[2].parent){this.Er.removeChild(this.g8[2]);
this.Er.removeChild(this.g8[3])}this.g8[3].style.display=b.kS?"inline-block":"none";if(G)this.BC=setTimeout(this.rN.bind(this),100)};
dI.iu=function(b){var h=this.Z=u.I("iframe");h.style.background="var(--bg-canvas)";h.setAttribute("src",b)};
dI.iu.prototype=new dQ;dI.iu.prototype.Vb=function(b,h){var G=this.Z;G.style.width=b+"px";G.style.height=h+"px"};
dI.iu.prototype.rN=function(){};function Storage(b){dQ.call(this);var h=this.Z=u.I("div","storage");
u.Yy(h);h.addEventListener("drop",this.a6C.bind(this),!1);var G=this.aug=u.I("style");h.appendChild(G);
h.setAttribute("tabindex","0");h.style.outline="none";h.addEventListener("keydown",this.akT.bind(this),!1);
this.ws=this.aAP.bind(this);this.aW=0;this.kY=0;var H=u.I("div");h.appendChild(H);var B=this.abC.bind(this);
this.y8=u.I("div","bar");H.appendChild(this.y8);this.ks=u.I("div","fls scrollable");H.appendChild(this.ks);
this.zC=u.I("div");H.appendChild(this.zC);this.zC.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.nJ=u.I("div","bar");this.nJ.textContent="Name: ";var j=this.e$=u.I("input");j.setAttribute("type","text");
this.nJ.appendChild(j);var s=this.YN=u.I("div","btn");s.textContent="Save";this.nJ.appendChild(s);u.$f(s,B);
u.fm(this.ks,this.ws);this.Ad=0;this.iB=b;var q=this.a9x.bind(this),Q=this.a84=u.I("div");Q.setAttribute("style","text-align:center; font-size:1.6em");
var a=u.I("img");Q.appendChild(a);u.pP(Q);a.setAttribute("src",PIMG[Storage.list[this.iB][2]]);a.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
u.$f(a,q);this.IN=u.I("div","btn");Q.appendChild(this.IN);u.$f(this.IN,q);this.az=new fL([{name:[6,20]},{name:[5,2],ef:[ap.zb,ap.ic],H:function(){return{H:Storage.cn!=null}}}]);
this.az.parent=this;this.az.O("select",this.b9,this);this.ks.addEventListener("contextmenu",this.ws);
this.a29=u.I("span");this.T_=u.I("span");this.T_.setAttribute("style","position:absolute; right:0; top:5px;");
this.tY=[];this.qO=[];for(var Y=0;Y<3;Y++){var l=u.I("div","btn");this.tY.push(l);this.a29.appendChild(l);
u.$f(l,B);l.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][Y]}for(var Y=0;Y<5;Y++){var l=u.I("div","btn");
this.qO.push(l);this.T_.appendChild(l);u.$f(l,B)}window.addEventListener("message",this.apH.bind(this),!1);
this.aqT=!1;this.B1=0;setInterval(this.a7R.bind(this),300);this.Yg();var U=this.aih=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.a6C.bind(this),!1);document.body.appendChild(U);
U.setAttribute("style","display:none");U.setAttribute("multiple","")}Storage.prototype=new dQ;Storage.ad=!1;
Storage.prototype.a6C=function(b){b.stopPropagation();b.preventDefault();var h=b.dataTransfer?b.dataTransfer.files:b.target.files;
this.a6V=h.length;Storage.cn={};for(var Y=0;Y<h.length;Y++){var G=h[Y],H=new FileReader;H.ix=G;H.onload=this.ah5.bind(this);
H.readAsArrayBuffer(G)}};Storage.prototype.ah5=function(b){var h=Storage.cn;h[b.target.ix.name]=b.target.result;
this.a6V--;if(this.a6V==0)this.JY()};Storage.prototype.rN=function(b,h){var G=Storage.list[this.iB][3],H=fH.$W();
if(G){if(this.B1==1&&u.Pg(this.Z)&&H!=null){this.Yg()}if(this.B1==2&&H==null){this.yk("forget","")}}};
Storage.prototype.a7R=function(){var b=u.Pg(this.Z),h=this.aqT;if(b&&!h){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!b&&h){window.onpopstate=function(){};history.go(-1)}this.aqT=b};
Storage.prototype.Yg=function(){if(this.Xo)document.body.removeChild(this.Xo);this.ud=[[]];this.ue=0;
this.akO={"/":[]};this.asZ="";this.Fq=null;this.vT=[];this.ZY=[];this.aDa=[];this.avV=null;var b=Storage.list[this.iB][1],h=fH.J5("code/storages/"+Storage.list[this.iB][1]);
if(fq==1&&this.iB==0)h=b;var G=this.Xo=u.I("iframe");G.setAttribute("src",h);G.setAttribute("style","display:none");
document.body.appendChild(G)};Storage.prototype.qq=function(){return this.akO[this.ZT()]};Storage.prototype.GI=function(b){this.akO[this.ZT()]=b};
Storage.E0=function(Y){var b=Storage.EK[Y];if(b==null)b=Storage.EK[Y]=new Storage(Y);return b};Storage.EK=[];
Storage.yE=0;Storage.agS="";Storage.XZ=function(b,h){Storage.yE=b;Storage.agS=h;var G=Storage.EK;for(var Y=0;
Y<G.length;Y++)if(G[Y])G[Y].BL()};Storage.abF=[500*(1<<20),5e3*(1<<20)];Storage.un=0;Storage.jS=2;Storage.fq=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a0g=function(b){for(var Y=0;Y<Storage.EK.length;Y++){if(Storage.EK[Y]&&Storage.EK[Y].Xo.contentWindow==b)return!0}return!1};
Storage.prototype.akT=function(b){if(b.target.tagName=="INPUT")return;var h=ap;if(h.r7(b.code,h.TD)&&this.ZT().length!=0)this.aEY();
else if(b.ctrlKey){if(h.r7(b.code,h.p)){var G=[];this.GI(G);for(var Y=0;Y<this.Fq.length;Y++)G.push(Y);
this.d5()}if(h.r7(b.code,h.ew))this.bt(2);if(h.r7(b.code,h.ic))this.JY()}else if(h.r7(b.code,h.pr)){var H=this.qq();
if(H.length!=0)this.auu(H[0])}else if(h.r7(b.code,h.Y6)){this.ue=Math.max(this.ue-1,0);this.L_()}else{var B=0;
for(var Y=65;Y<=90;Y++)if(b.code=="Key"+String.fromCharCode(Y))B=Y;if(B!=0){var j=String.fromCharCode(B).toLowerCase(),s=[],q=this.Fq,Q;
for(var Y=0;Y<q.length;Y++)if(q[Y][0][0].toLowerCase()==j)s.push(Y);if(s.length==0)return;var H=this.qq();
if(H.length==0)Q=s[0];else{var a=s.indexOf(H[0]);if(a==-1){Q=s[0];for(var Y=0;Y<s.length;Y++)if(s[Y]>H[0]){Q=s[Y];
break}}else Q=s[(a+1)%s.length]}this.GI([Q]);this.d5(!0)}}};Storage.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;this.Z.style.width=b+"px";this.Z.style.height=h+"px";var G=b-30,H=Math.floor(G/230),G=Math.floor(G/H)-70;
this.aug.textContent=".storage .tile .name {  width:"+G+"px;  }";this.e$.style.width=b-140+"px";this.ks.style.width=this.y8.style.width=b-20+"px";
this.ks.style.height=h-70-(Storage.yE==0?0:45)+"px"};Storage.prototype.a9x=function(){this.L_()};Storage.prototype.L_=function(){var b=this.iB,h="____strg"+b;
if(window[h]==null){fH.event("strg_"+Storage.list[b][0]);window[h]=!0}this.kY=1;this.yk("show",this.ZT())};
Storage.prototype.ZT=function(b){var h=this.ud[this.ue],G="/"+h.join("/");if(b&&h.length!=0)G+="/";return G};
Storage.prototype.abC=function(b){var h=b.currentTarget,G=this.ue,H=this.tY.indexOf(h),B=this.qO.indexOf(h);
if(H>=0&&!this.avh(H))return;if(H==0){this.ue=Math.max(G-1,0);this.L_()}if(H==1){this.ue=Math.min(G+1,this.ud.length-1);
this.L_()}if(H==2){var j=this.ud[G+1]=this.ud[G].slice(0);j.pop();this.ue++;this.ud=this.ud.slice(0,this.ue+1);
this.L_()}if(B==0){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aih.dispatchEvent(s)}if(B==1){Storage.un=(Storage.un+1)%2;this.BL()}if(B==2){Storage.jS=(Storage.jS+1)%3;
this.BL()}if(B==3){Storage.fq=(Storage.fq+1)%3;this.BL()}if(B==4){this.yk("forget","")}if(h==this.YN){var q=this.e$.value.trim(),Q=this.Fq,a=-1,l=["psd","ai"][fq];
if(!q.toLowerCase().endsWith(l)){alert("File Name has to end with \"."+l+"\".");return}for(var Y=0;Y<Q.length;
Y++)if(Q[Y][0]==q)a=Y;if(a!=-1){this.Kd("Do you really want to replace \""+q+"\"?",this.a9t.bind(this))}else this.a9t()}};
Storage.prototype.a9t=function(){var b=this.e$.value.trim(),h=[this.iB,this.ZT(!0)+b];this.sD({q:w.p.a11,gi:h});
this.Q(new hb("canclose",!0))};Storage.prototype.JY=function(){if(Storage.cn==null)return;this.sD({q:w.p.vW,fL:bp.get("Uploading ...")});
this.aW=4;dD.E0(2,this.Xo,[this.ZT(),Storage.cn,this.Fq],null,this.akd.bind(this))};Storage.prototype.akd=function(b){this.aW=0;
this.sD({q:w.p.zx,fL:bp.get("Uploading ...")});this.L_()};Storage.prototype.b9=function(b){var h=b.target.QO();
if(b.target==this.az){if(h[0]==0){var G=[bp.get([6,20]),-1,0];this.Fq.push(G);this.BL();var Y=this.Fq.indexOf(G),H=this.vT[Y].querySelector(".name");
console.log(H);var B=new jd.Nc(H,function(U){this.sD({q:w.p.vW,fL:bp.get([1,2])+" ..."});var N=this.ZT(!0)+U+"/";
console.log(N);this.yk("save",N)}.bind(this),!0)}else this.JY()}else{if(h[0]==0){this.bt(2)}else if(h[0]==1){var Y=this.qq()[0],j=this.Fq[Y],H=this.vT[Y].querySelector(".name");
console.log(H);H.innerHTML=j[0];var B=new jd.Nc(H,function(U){U=U.trim();var N=this.Fq;for(var Y=0;Y<N.length;
Y++)if(N[Y][0]==U){alert("Item with such name already exists.");this.BL();return}var R=this.ZT(!0)+j[0]+":"+U;
console.log(R);this.yk("rename",R)}.bind(this))}else if(h[0]==2){this.bt(3)}else if(h[0]==3)this.aEY();
else if(h[0]==4){this.bt(1)}else{var s=this.Fq[this.qq()[0]],q=Storage.Ql(s),Q=q[h[1]],a=Q[0],l=this.m2().pop()[1];
if(Storage.ahi(s,a)!=-1){this.yk("share",l+":"+a+":-1");alert("Unshared.")}else{this.yk("share",l+":"+a+":"+h[2]);
alert("Shared.")}}}};Storage.ahi=function(b,h){var G=b[4];if(G==null)return-1;if(G.indexOf(h+":0")!=-1)return 0;
if(G.indexOf(h+":1")!=-1)return 1;return-1};Storage.prototype.aEY=function(){var b=this.qq();this.Kd("Do you really want to delete "+(b.length==1?"\""+this.Fq[b[0]][0]+"\"":"these files")+"?",this.G5.bind(this))};
Storage.prototype.Kd=function(b,h){var G={q:w.p.C9,ut:"confirm",P:b,QF:h};this.sD(G)};Storage.prototype.bt=function(b){this.aW=b;
if(1<b)this.sD({q:w.p.vW,fL:bp.get("Downloading ...")});else this.sD({q:w.p.vW,fL:bp.get("Getting info ...")});
dD.E0(0,this.Xo,this.ZT(),this.m2(!0),this.avN.bind(this))};Storage.prototype.avN=function(b){if(this.aW==1){var h=0,G=0;
for(var H in b){var B=b[H];h+=B[1];G++}this.Kd(G+" files, "+hd.Vd(h)+" in total.",function(){});this.sD({q:w.p.zx,fL:bp.get("Getting info ...")});
this.aW=0}if(1<this.aW)dD.E0(1,this.Xo,b,null,this.azV.bind(this))};Storage.prototype.azV=function(b){if(1<this.aW){if(1<this.aW)this.sD({q:w.p.zx,fL:bp.get("Downloading ...")});
var h={},G=this.ZT(!0);for(var H in b)h[H.slice(G.length)]=b[H];if(this.aW==2){Storage.cn=h;alert("Copied to a clipboard")}if(this.aW==3){var B=Object.keys(b);
if(B.length==1)dJ.save(b[B[0]].buffer,B[0].split("/").pop());else dJ.save(UZIP.encode(h),G=="/"?"files.zip":this.ZT().split("/").pop()+".zip")}}this.aW=0};
Storage.cn=null;Storage.prototype.G5=function(){this.sD({q:w.p.vW,fL:bp.get([5,4])+" ..."});this.ZY=this.m2();
this.SA()};Storage.prototype.SA=function(){if(this.ZY.length==0){this.sD({q:w.p.zx,fL:bp.get([5,4])+" ..."});
this.GI([]);this.L_()}else this.yk("delete",this.ZY.pop()[1])};Storage.prototype.m2=function(b){var h=[],G=this.ZT(!0),H=this.qq();
for(var Y=0;Y<H.length;Y++){var B=this.Fq[H[Y]];if(b)h.push(B[0]);else h.push([this.iB,G+B[0]])}return h};
Storage.prototype.yk=function(b,h){u.eS(this.Z,"disabled");this.asZ=b;if(Storage.ad)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+b+"\", \"prm\": "+JSON.stringify(h)+"  }");
this.Xo.contentWindow.postMessage("{\"code\": \""+b+"\", \"prm\": "+JSON.stringify(h)+"  }","*")};Storage.prototype.apH=function(b){if(b.source!=this.Xo.contentWindow||this.aW!=0)return;
u.Yx(this.Z,"disabled");if(typeof b.data=="string"){if(Storage.ad)console.log("==",Math.floor(Date.now()/1e3),b.data);
var h=JSON.parse(b.data),G=h.code,H=h.prm,B=this.asZ,j=Storage.list[this.iB][3];if(G=="ready"){if(j&&!H){var s=fH.$W();
console.log(s);var q=fH.pU(),Q=q.acc;if(s==null){this.B1=1;alert("Log in to use this storage (press Account at the top).");
this.o4();return}var a=[],l=s.wantToJoin;for(var U in l)a.push(parseInt(U.slice(1)));var N=[],R=s.inTeams;
for(var Y=0;Y<R.length;Y++)N.push(R[Y][2]);var S={uid:s.id,limit:Storage.abF[fH.RW()?1:0],inTeams:N,myTeams:a};
S.secret=Q&&Q.pds?Q.pds:"";this.yk("login",S);return}if(j)this.B1=2;if(j&&h.secret){var q=fH.pU(),Q=q.acc;
if(Q==null)Q=q.acc={};Q.pds=h.secret;fH._f(q)}if(H)this.L_();else this.o4()}else if(G!="0"){if(B=="save")this.sD({q:w.p.zx,fL:bp.get([1,2])+" ..."});
if(B=="delete")this.SA();alert(H);this.BL()}else if(B=="show"){this.kY=0;this.Fq=H;this.BL()}else if(B=="save"){this.kY=0;
this.sD({q:w.p.zx,fL:bp.get([1,2])+" ..."});this.L_()}else if(B=="delete"){this.SA()}else if(B=="forget"){if(j)this.o4();
else this.Yg()}else if(B=="rename"||B=="share"){this.L_()}else throw G}else{if(Storage.ad)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.sD({q:w.p.ars,gi:this.m2()[0],VN:b.data});this.sD({q:w.p.zx,fL:"Opening ..."})}};Storage.prototype.o4=function(){u._I(this.y8);
u._I(this.ks);u._I(this.zC);this.ks.appendChild(this.a84)};Storage.prototype.avh=function(Y){if(Y==0)return this.ue>0;
if(Y==1)return this.ue<this.ud.length-1;if(Y==2)return this.ZT()!="/"};Storage.prototype.BL=function(){var b=Storage.list[this.iB][3],h=this.Fq,G=Storage.jS,H=Storage.un,B=Storage.fq;
if(h==null)return;h.sort(function(F,K){var V=F[1]==-1?1:5,r=K[1]==-1?1:5,c=0;if(Math.min(V,r)==1&&V!=r)return V-r;
else if(V==1||G==0)c=F[0].toLowerCase()<K[0].toLowerCase()?-1:1;else if(G==1)c=F[1]-K[1];else if(G==2)c=F[2]-K[2];
if(H==1)c=-c;if(F[0]=="Shared")c=-1;if(K[0]=="Shared")c=1;return c});var j=this.ks,s=this.y8,q=this.ud[this.ue];
u._I(j);u._I(s);this.vT=[];for(var Y=0;Y<3;Y++)if(this.avh(Y))u.Yx(this.tY[Y],"disabled");else u.eS(this.tY[Y],"disabled");
s.appendChild(this.a29);s.appendChild(this.T_);var Q=u.I("span");Q.textContent="/";s.appendChild(Q);
for(var Y=0;Y<q.length;Y++){var Q=u.I("span");Q.textContent=q[Y];s.appendChild(Q);var Q=u.I("span");
Q.textContent="/";s.appendChild(Q)}var a=["tile","icon","litm"][B];for(var Y=0;Y<h.length;Y++){var l=h[Y],U=l[1]==-1,N=U?"":hd.Vd(l[1]),R=u.I("div","cont "+a),$=!1;
j.appendChild(R);this.vT.push(R);R.setAttribute("title",l[0]+(U?"":"\nSize: "+N+"\nDate Modified: "+new Date(l[2]*1e3).toLocaleString().replaceAll(". ",".")));
var S=u.I("img");S.setAttribute("src",U?Storage.al9:l[3]?l[3]:Storage.ix);if(!U&&l[3])S.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var g=u.I("span","name"),i=l[0];if(a=="icon"&&i.length>30)i=i.slice(0,24)+".."+i.slice(i.length-5);if(b&&q.length==1&&q[0]=="Shared"){var y=Storage.Ql(),o=parseInt(i.slice(5));
for(var v=0;v<y.length;v++)if(y[v][0]==o)i=y[v][1]}g.textContent=i;R.appendChild(S);R.appendChild(g);
if(a!="icon"&&!U){if(a=="tile")u.pP(g);var Z=u.I("span");Z.textContent=N;Z.style.opacity="0.8";(a=="tile"?g:R).appendChild(Z)}var W=l[0].split("."),d=(W.length==1?"":W.pop()).toUpperCase();
if(b&&l[0]=="Shared"&&q.length==0){$=!0;d="\u21E7"}if(a!="litm"&&(!U&&l[3]==null||$)){var I=u.I("span","ext");
I.textContent=d;var k=Storage.Hh[d];I.style.backgroundColor=k?k:Storage.agJ(d);R.appendChild(I)}u.fm(R,this.ws);
R.addEventListener("contextmenu",this.ws)}this.d5();var _=this.nJ.parentNode!=null,D=Storage.yE,A=this.Z;
if(_&&D==0)A.removeChild(this.nJ);if(!_&&D==1)A.appendChild(this.nJ);this.Vb(this.Ps,this.CN);this.a()};
Storage.prototype.d5=function(b){var h=this.vT,G=this.Fq,H=this.qq(),B=!1,j=0;for(var Y=0;Y<h.length;
Y++){var s=G[Y],q=s[1]==-1,Q=h[Y];if(Storage.yE==1&&!q&&!s[0].toLowerCase().endsWith(".psd"))Q.style.display="none";
else Q.style.display="auto";if(H.indexOf(Y)==-1)u.Yx(Q,"active");else{if(q)B=!0;else j+=s[1];u.eS(Q,"active");
if(b)Q.scrollIntoView({block:"center",behavior:"smooth"})}}var a=B?"":hd.Vd(j);this.zC.textContent=H.length==0?"":H.length+" item"+(H.length==1?"":"s")+" selected\u2001"+a;
this.e$.value=H.length==1&&!B?G[H[0]][0]:Storage.agS};Storage.prototype.auu=function(Y){var b=this.Fq[Y];
if(b[1]==-1){var h=this.ud[this.ue].slice(0);h.push(b[0]);this.ue++;this.ud[this.ue]=h;this.ud=this.ud.slice(0,this.ue+1);
this.GI([]);this.L_()}else if(Storage.yE==0){this.sD({q:w.p.vW,fL:"Opening ..."});this.Q(new hb("canclose",!0));
var G=this.ZT(!0)+b[0];this.yk("load",G)}};Storage.prototype.a=function(){var b=Storage.jS,h=Storage.un,G=Storage.fq;
this.qO[0].textContent="Upload";this.qO[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][h];this.qO[2].textContent=bp.get([[12,48],[12,14,0],"Date"][b]);
this.qO[3].textContent=bp.get(["Tiles","Icons",[25,3,1]][G]);this.qO[4].textContent="\u2716";this.IN.innerHTML=bp.get([[23,6],Storage.list[this.iB][0]])+"<br/><small><small>"+Storage.list[this.iB][4]+"</small></small>";
this.rN()};Storage.prototype.aAP=function(b){this.sD({q:w.p.JB});if(u.Pg(this.a84))return;if(b.button==3||b.button==4){if(Date.now()-this.a5M>50){var h=this.ue;
if(b.button==3)this.ue=Math.max(h-1,0);else this.ue=Math.min(h+1,this.ud.length-1);this.L_()}this.a5M=Date.now();
return}b.stopPropagation();var Y=this.vT.indexOf(b.currentTarget);if(b.type=="contextmenu"){if(this.Fq==null)return;
b.preventDefault();var G=this.az;if(Y!=-1){var H=[{name:[5,1],ef:[ap.zb,ap.ew]},{name:[6,37]},{name:"Download",oq:!0},{name:[5,4],ef:[ap.TD]},{name:[9,2]}];
if(Storage.list[this.iB][3]){var B=this.Fq[Y],j=Storage.Ql(B);if(j.length!=0){var s=[];for(var q=0;q<j.length;
q++){var Q=[],a=j[q],l=Storage.ahi(B,a[0]);if(l!=-1)Q.push({name:"Unshare"});else Q.push({name:"Allow Read"},{name:"Allow Read & Write"});
s.push({name:a[1]+[""," (R)"," (R,W)"][l+1],sub:Q})}H.push({name:"Share With",sub:s})}}G=new fL(H);G.parent=this;
G.O("select",this.b9,this)}G.parent=this;G.a();G.update();this.sD({q:w.p.YB,Wn:G,x:b.clientX+4,y:b.clientY});
return}var U=this.qq(),N=U.indexOf(Y);if(b.button!=0&&N!=-1)return;if(b.target==this.ks)this.GI([]);
else{if(b.ctrlKey){if(N==-1)U.push(Y);else U.splice(N,1)}else if(b.shiftKey&&U.length!=0){var q=U[0];
if(q<Y){var R=Y;Y=q;q=R}U=[];this.GI(U);for(var S=Y;S<=q;S++)U.push(S)}else{this.GI([Y]);if(Date.now()-this.Ad<300&&U.length!=0&&U[0]==Y){this.auu(Y);
this.Ad=0}}}this.Ad=Date.now();this.d5()};Storage.prototype.sD=function(b){var h=new hb(w.E.b,!0);h.data=b;
this.Q(h)};Storage.Ql=function(b){var h=[],G=[],H=fH.pU(),B=H.acc.tstart;if(B)for(var Y=0;Y<B.length;
Y++){h.push([B[Y][2],B[Y][0]]);G.push(B[Y][2])}var j=fH.$W();B=j.inTeams;if(B)for(var Y=0;Y<B.length;
Y++){h.push([B[Y][2],B[Y][0]]);G.push(B[Y][2])}if(b&&b[4]){for(var Y=0;Y<b[4].length;Y++){var s=parseInt(b[4][Y].split(":")[0]);
if(G.indexOf(s)==-1)h.push([s,"Team "+s])}}return h};Storage.prototype.aiY=function(b,h){if(this.kY!=0)return 1;
this.kY=2;this.sD({q:w.p.vW,fL:bp.get([1,2])+" ..."});this.yk("save",b);if(Storage.ad)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Xo.contentWindow.postMessage(h,"*")};Storage.Hh={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.agJ=function(b){b=b.toLowerCase();
var h=0;for(var Y=0;Y<b.length;Y++)h+=b.charCodeAt(Y)*613<<8*Y;return"#"+e.Z0(h&16777215)};Storage.al9="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.ix="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var dD=function(){var b,h,G,H,B,j,s,q;function Q(R,S,g,i,y){h=S;H=i;s=y;b=R;j={};if(b==0){G=[g]}if(b==1){G=[];
for(var o in g)G.push(o)}if(b==2){var v=g[0],Z=g[1],W=g[2],d={};for(var Y=0;Y<W.length;Y++)d[W[Y][0]]=!0;
var $={};for(var o in Z){var I=o.split("/"),k=I[0],_=k.split("."),D="";if(_.length!=1){D="."+_.pop();
k=_.join(".")}while(d[k+D])k+=" - Copy";I[0]=k+D;$[I.join("/")]=Z[o]}var A={};G=[];for(var o in $){var I=o.split("/");
for(var Y=0;Y<I.length-1;Y++){var F=v+I.slice(0,Y+1).join("/")+"/";if(A[F]==null){A[F]=!0;G.push([F])}}var K=v.endsWith("/")||o.startsWith("/")?"":"/";
G.push([v+K+o,$[o]])}}window.addEventListener("message",l,!1);q=Date.now();a()}function a(){if(G.length==0){N();
return}B=G.shift();if(b==0)U("show",B);if(b==1)U("load",B);if(b==2){U("save",B[0]);if(B.length==2)h.contentWindow.postMessage(B[1],"*")}}function l(R){if(R.source!=h.contentWindow)return;
if(b==0){var S=JSON.parse(R.data),g=S.code,i=S.prm;for(var Y=0;Y<i.length;Y++){var y=i[Y];if(H&&H.indexOf(y[0])==-1)continue;
var o=B+(B=="/"?"":"/"),v=o+y[0];if(y[1]==-1)G.push(v);else j[v]=y}H=null}else if(b==1){j[B]=new Uint8Array(R.data)}a()}function U(R,S){var g=R=="show"?", \"nothumbs\": true":"",i="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(S)+g+"  }";
h.contentWindow.postMessage(i,"*")}function N(){console.log(Date.now()-q);window.removeEventListener("message",l,!1);
s(j)}return{E0:Q}}();function a3(b){dQ.call(this);var h=this.Z=u.I("div","form scrollable padded label12");
this.X7=b;this.Fc=null;var G=[],H=a3.HI[b];this.o1=[];for(var B in H){var j=parseInt(B.slice(1)),s=j%10==0?"":"\u2800\u2800- ";
G.push(s+H[B]);this.o1.push(j)}this.Bn=[new aG("Name",null,30),new aG("Description",null,30,4),b==0?new aG("File"," www.Photopea.com#i...",17):new hy("File",!1,!1),new aG("Thumbnail URL","* Use Imgur.com etc.",17),new cP("Category",G),new iI("Make Public"),new gX("<< Back",null,null,!0),new gX("Save",null,null,!0)];
if(b==0)this.Bn.push(new iM("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new iM("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(b==1)this.Bn.push(new iM("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(b!=0)this.Bn.push(new iM("Do not load any file to preserve the old version."));for(var Y=0;Y<this.Bn.length;
Y++){var q=this.Bn[Y];h.appendChild(q.Z);q.parent=this;if(Y!=4&&Y!=6)u.pP(h);if(q instanceof gX)q.O("click",this.aEW,this);
if(b!=0&&Y==2)q.O(w.E.w,this.afa,this)}}a3.prototype=new dQ;a3.prototype.afa=function(b){var h=this.Bn[2],G=h.l(),H=Object.keys(G),B=G[H[0]].buffer,j=aT.ni(B),s=" json atn abr grd asl pat csh icc".split(" ")[this.X7];
if(j!=s){alert("This is a wrong file"+(j?" ("+j.toUpperCase()+")":"")+". You need to upload the "+s.toUpperCase()+" file.");
h.k({})}};a3.prototype.aEW=function(b){if(b.target==this.Bn[6]){this.Q(new hb("back"));return}var h=this.Bn[3].l().trim(),G=h.startsWith("http")&&(h.endsWith(".jpeg")||h.endsWith(".jpg")||h.endsWith(".png")||h.endsWith(".gif"));
if(!G){alert("Thumbnail URL is incorrect.");return}var H=new XMLHttpRequest,B=(h);
H.open("GET",B);H.responseType="arraybuffer";H.onload=this.at_.bind(this);H.send()};a3.prototype.at_=function(b){var h=b.target.response,G=h.byteLength;
if(G>2e5&&aT.ni(h)!="gif"){alert("Thumbnail is too large ("+hd.Vd(G)+"). Make it under 200 kB.");return}var H=this.Bn[2].l(),B=Object.keys(H);
if(this.X7!=0&&B.length==0&&(this.Fc==null||this.Fc.file==null||this.Fc.file=="")){alert("You need to select a file.");
return}if(this.X7!=0&&B.length!=0){console.log(H);dJ.fM.aCS(H[B[0]].buffer,B[0],this.aAr.bind(this),"pp-resources");
return}this.aAr()};a3.prototype.aAr=function(b){var h=this.X7,G="name desc file thmb catg publ".split(" "),H=this.Fc;
for(var Y=0;Y<6;Y++){if(h!=0&&Y==2)continue;var B=this.Bn[Y].l();if(Y<=3){B=B.trim();if(B.length==0){alert("One of values is empty.");
return}}if(Y==2){if(B.endsWith(".psd"))B=B.slice(0,B.length-4);var j=B.split("#i");if(j.length!=2||j[1].length!=8){alert("File ID is incorrect.");
return}B=j.pop()}if(Y==4)B=this.o1[B];H[G[Y]]=B}if(h!=0){if(b)H.file=b;else if(H.file==null){alert("Select a file from your computer.");
return}}if(H.utme.length==0)H.utme=""+Math.round(Date.now()/1e3);H.type=h;this.Q(new hb("save"))};a3.prototype.a=function(){};
a3.prototype.k=function(b){var h=this.Fc=JSON.parse(JSON.stringify(b)),G=this.X7,H="name desc file thmb catg publ".split(" ");
for(var Y=0;Y<6;Y++){if(G!=0&&Y==2)continue;var B=h[H[Y]];if(B!=""&&Y==2)B="https://photopea.com#i"+B;
if(Y==4)B=this.o1.indexOf(B);if(Y==5&&B==null)B=!0;this.Bn[Y].k(B)}};a3.prototype.l=function(){return JSON.parse(JSON.stringify(this.Fc))};
a3.HI=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function hp(){dQ.call(this);var b=this.Z=u.I("div","form");this.Fc=null;this.$e=null;this.Rv=null;this.w7=null;
var h=u.I("canvas");this.ZI=h.getContext("2d");u.TB(h);u.fm(h,this.IX.bind(this));this.Go=[new g2([12,44],[[19,0,0],[19,0,1]]),{Z:h},new bP([12,0],0,100,"%",null,null,null,4),new d8,new bP([12,40],0,100,"%",2,null,null,4),new gX([5,4],null,null,!0)];
for(var Y=0;Y<this.Go.length;Y++){var G=this.Go[Y];G.parent=this;b.appendChild(G.Z);if(Y!=2&&Y!=4)u.pP(b);
if(Y!=1)G.O(Y==5?"click":w.E.w,this.hO,this)}this.ar=this.Bg.bind(this);this.oX=this.Hb.bind(this)}hp.prototype=new dQ;
hp.prototype.l=function(){return JSON.parse(JSON.stringify(this.Fc))};hp.prototype.k=function(b){this.Fc=JSON.parse(JSON.stringify(b));
this.K1()};hp.prototype.a=function(){var b=this.Go;for(var Y=0;Y<b.length;Y++)if(b[Y].a)b[Y].a()};hp.prototype.IX=function(b){var h=u.V(),G=u.Kz(b,this.ZI.canvas);
G.x*=h;G.y*=h;var H=this.Rv,B=this.w7,j=this.Fc,s=j[1],q=7*u.V(),Q=-1;for(var Y=0;Y<H.length;Y++){if(cJ.o0(G,H[Y][0])<q)Q=Y}if(Q==-1){if(Math.abs(G.y-(B.y+B._))>10*h)return;
var a=[.5,[0,0,0],1,.5];s.push(a);s.sort(function(l,U){return l[0]-U[0]});this.bO=[new cJ,s.indexOf(a),0]}else this.bO=H[Q];
this.$e=JSON.stringify(this.Fc);u.fe(window,this.ar);u.$f(window,this.oX);if(Q==-1)this.Bg(b);this.K1()};
hp.prototype.Bg=function(b){this.Fc=JSON.parse(this.$e);var h=u.V(),G=u.Kz(b,this.ZI.canvas);G.x*=h;
G.y*=h;var H=this.bO,B=H[1],j=this.w7,s=this.Fc[1],q=s[B],Q=(G.x-j.x)/j.j;if(H[2]==0){q[0]=Math.max(0,Math.min(1,Q));
if(Math.abs(G.y-(j.y+j._))>30*h)s.splice(B,1)}else{var a=q[0],l=s[B+1][0],U=q[3];q[3]=Math.max(.13,Math.min(.87,(Q-a)/(l-a)))}s.sort(function(N,R){return N[0]-R[0]});
this.K1()};hp.prototype.Hb=function(b){u.CV(window,this.ar);u.iF(window,this.oX)};hp.prototype.hO=function(b){var h=this.Go,Y=h.indexOf(b.target),G=this.Fc,H=b.target.l(),B=this.bO;
if(Y==0)G[0]=H;if(B){var j=G[1][B[1]];if(Y==2)j[2]=H/100;if(Y==3){H=e.M5(b.target.Z9());j[1]=[H.$/255,H.B/255,H.J/255]}if(Y==4)if(B[2]==0)j[0]=H/100;
else j[3]=Math.max(.13,Math.min(.87,H/100));if(Y==5){G[1].splice(B[1],1);this.bO=null}}this.K1()};hp.prototype.K1=function(){var b=this.Go,h=this.Fc,G=h[1],H=this.ZI,B=H.canvas;
b[0].k(h[0]);var j=B.width=Math.floor(300*u.V()),s=B.height=Math.floor(60*u.V()),q=Math.floor(20*u.V()),Q=j-q-q;
this.w7=new io(q,q,Q,s-q-q);u.dY(B);var a=H.fillStyle=H.createLinearGradient(q,q,j-q,q);e.F.sy(a,G);
H.fillRect(q,q,Q,s-q-q);H.lineWidth=1;H.strokeRect(q-.5,q-.5,Q+1,s-q-q+1);var l=this.Rv=[],U=this.bO;
H.fillStyle="white";for(var Y=0;Y<G.length;Y++){var N=G[Y],R=N[0],S=s-q*.6;if(U&&U[1]==Y&&U[2]==0){H.fillStyle="#00aaff";
H.beginPath();H.arc(q+R*Q,S,s*.125,0,2*Math.PI);H.fill()}H.fillStyle="white";H.beginPath();H.arc(q+R*Q,S,s*.1,0,2*Math.PI);
H.fill();H.beginPath();H.arc(q+R*Q,S,s*.07,0,2*Math.PI);H.stroke();l.push([new cJ(q+R*Q,S),Y,0]);if(Y!=G.length-1){var g=N[3],i=G[Y+1][0];
R=R+g*(i-R);S=q*.7;if(U&&U[1]==Y&&U[2]==1){H.fillStyle="#00aaff";H.beginPath();H.arc(q+R*Q,S,s*.075,0,2*Math.PI);
H.fill()}H.fillStyle="white";H.beginPath();H.arc(q+R*Q,S,s*.05,0,2*Math.PI);H.fill();l.push([new cJ(q+R*Q,S),Y,1])}}b[2].d3(U&&U[2]==0);
b[3].d3(U&&U[2]==0);b[4].d3(U!=null);b[5].d3(U&&U[2]==0&&G.length>2);if(U){var N=G[U[1]],y=N[1];if(U[2]==0)b[2].k(N[2]*100);
b[3].HS(e.wd({$:y[0]*255,B:y[1]*255,J:y[2]*255}));b[4].k(N[U[2]==0?0:3]*100)}};function iq(b){dQ.call(this);
this.CP=b;this.Z=u.I("div","");this.wq=[];this.kd=null;this.aEE=[]}iq.prototype=new dQ;iq.prototype.V4=function(b){};
iq.prototype.ca=function(){return!1};iq.prototype.Vb=function(b,h){};iq.prototype.rN=function(b,h){};
iq.prototype.qQ=function(b){};iq.prototype.k=function(b,h,G,H,B,j){var s=[],q=this.wq,Q=0,a=gY.gu["s"+this.CP];
if(this.CP=="Dspl")this.Ht(b,s,j);else a?a(b,s,j):this.Ht(b,s,j);for(var Y=0;Y<q.length;Y++)if(!(q[Y]instanceof iM))q[Y].k(s[Q++]);
if(b.RndS)this.kd=b.RndS.v};iq.prototype.l=function(){var b=gY.Az(this.CP),h=[],G=this.wq,H=0;for(var Y=0;
Y<G.length;Y++)if(!(G[Y]instanceof iM))h[H++]=G[Y].l();var B=gY.gu["g"+this.CP];if(this.CP=="Dspl")this.mV(b,h);
else B?B(b,h):this.mV(b,h);if(b.RndS)b.RndS.v=this.kd;return b};iq.prototype.Z1=function(b){};iq.prototype.oH=function(b){if(b&&b.target instanceof gX){this.kd=Math.floor(Math.random()*4294967295)}var h=this.aEE;
for(var Y=0;Y<h.length;Y+=2){var G=this.wq[h[Y]],H=this.wq[h[Y+1]],B=G.l(),j=H.l();if(b.target==G)H.k(Math.max(B,j));
else G.k(Math.min(B,j))}this.Q(new hb(w.E.w))};iq.prototype.a=function(){for(var Y=0;Y<this.wq.length;
Y++)this.wq[Y].a();var b=this.avw;if(b)b.a()};iq.prototype.TR=function(b){u.eS(this.Z,"form");var h=this.wq;
for(var Y=0;Y<h.length;Y++){var G=h[Y];G.parent=this;G.O(w.E.w,this.oH,this);this.Z.appendChild(G.Z);
if(G instanceof iI&&h[Y+1]instanceof d8)continue;if(b&&b.indexOf(Y)!=-1)u.MX(this.Z);else u.pP(this.Z)}var H=gY.Az(this.CP);
if(H.RndS){var B=this.avw=new gX([25,1,2],null,null,!0);this.Z.appendChild(B.Z);B.O("click",this.oH,this)}};
iq.prototype.BB=function(b){return!1};iq.prototype.UJ=function(){return!1};iq.prototype.Ay=function(b,h,G,H,B){};
iq.prototype.Jl=function(b,h,G,H,B){};iq.prototype.dq=function(b,h,G,H,B){};iq.prototype.mV=function(b,h){};
iq.prototype.Ht=function(b,h){};iq.prototype.GQ=function(b){var h=b.target.l().indexOf(!0)!=-1,G=new hb(w.E.b,!0);
G.G2=!0;G.data={q:h?w.p.CJ:w.p.BU,S:E.d9};this.Q(G);G=new hb(w.E.r,!0);G.S=E.d9;G.G2=!0;G.data={q:"supertool",S:h?this:null};
this.Q(G)};iq.aqh=function(b){b.UJ=function(){return!0};b.Ay=function(h,G,H,B,j){this.cv=!0;this.a4Z(h,j)};
b.Jl=function(h,G,H,B,j){if(!this.cv)return;this.a4Z(h,j)};b.dq=function(h,G,H,B,j){this.cv=!1};b.a4Z=function(h,G){var H=new io(0,0,h.j,h._);
if(h.e)H=h.e.rect;var B=h.s.Fj(G.x,G.y);B.x-=H.x;B.y-=H.y;function j(s,q){return Math.round(Math.max(0,Math.min(100,100*s/q)))}this.wq[2].k(j(B.x,H.j));
this.wq[3].k(j(B.y,H._));this.oH()}};iq.Bokh=function(){iq.call(this,"Bokh");this.wq=[new cP("Depth Map",["A","b"]),new cm("Focal Distance",0,255),new iI([4,11]),new cP([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new cm([12,56],0,100),new cm([12,15],0,360),new cm([12,2],0,100),new cm([4,13],0,255),new cm([24,6],0,100),new g2([12,58],[[12,59,0],[12,59,1]]),new iI([12,60])];
this.TR([5,7])};iq.Bokh.prototype=new iq;iq.Bokh.prototype.Ht=function(b,h,G){var H=[[22,5,0],[6,5,3],[6,2]],B=b.BkDi.v.BtDi,j=b.BkDc,s=0;
if(B=="BeIn")s=0;else if(B=="BeIt"&&j.v.BtDc=="BeCt")s=1;else if(B=="BeIt"&&j.v.BtDc=="BeCm")s=2;else s=3+j.v;
for(var Y=0;Y<G[1].length;Y++)H.push(G[1][Y].name);this.wq[0].mX(H,[3]);h[0]=s;h[1]=b.BkDp.v;h[2]=b.BkDs.v;
h[3]=parseInt(b.BkIs.v.BtIs.slice(3))-3;h[4]=b.BkIb.v;h[5]=b.BkIr.v;h[6]=b.BkSb.v;h[7]=b.BkSt.v;h[8]=b.BkNa.v;
h[9]=b.BkNt.v.BtNt=="BeNu"?0:1;h[10]=b.BkNm.v};iq.Bokh.prototype.mV=function(b,h){var G;if(h[0]==0){G="BeIn";
delete b.BkDc}else if(h[0]<3){G="BeIt";b.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][h[0]-1]}}}else{G="BeIa";
b.BkDc={t:"long",v:h[0]-3}}b.BkDi.v.BtDi=G;b.BkDp.v=h[1];b.BkDs.v=h[2];b.BkIs.v.BtIs="BeS"+(3+h[3]);
b.BkIb.v=h[4];b.BkIr.v=h[5];b.BkSb.v=h[6];b.BkSt.v=h[7];b.BkNa.v=h[8];b.BkNt.v.BtNt=["BeNu","BeNg"][h[9]];
b.BkNm.v=h[10]};iq.oilPaint=function(){iq.call(this,"oilPaint");this.wq=[new cm([12,56],.1,10,"px",!0),new cm("Cleanliness",0,10,"px",!0),new cm([12,38],.1,10,null,!0),new cm("Bristle Detail",0,10,null,!0),new iI("Lighting"),new cm("Shine",0,10,null,!0),new f8([12,15])];
this.TR()};iq.oilPaint.prototype=new iq;iq.oilPaint.prototype.Ht=function(b,h){var G="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<G.length;Y++)h[Y]=b[G[Y]].v;h[6]=[b.LghD.v]};iq.oilPaint.prototype.mV=function(b,h){var G="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<G.length;Y++)b[G[Y]].v=h[Y];b.LghD.v=h[6][0]};iq.TrcC=function(){iq.call(this,"TrcC");
this.wq=[new cm("Level",0,255),new g2([12,69],[[19,4,1],[19,4,0]])];this.TR()};iq.TrcC.prototype=new iq;
iq.TrcC.prototype.Ht=function(b,h){h[0]=b.Lvl.v;h[1]=["Lwr","Upr"].indexOf(b.Edg.v.CntE)};iq.TrcC.prototype.mV=function(b,h){b.Lvl.v=h[0];
b.Edg.v.CntE=["Lwr","Upr"][h[1]]};iq["Dfs "]=function(){iq.call(this,"Dfs ");this.wq=[new g2([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.TR()};iq["Dfs "].prototype=new iq;iq["Dfs "].prototype.Ht=function(b,h){h[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(b.Md.v.DfsM)};
iq["Dfs "].prototype.mV=function(b,h){b.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][h[0]]};iq.Embs=function(){iq.call(this,"Embs");
this.wq=[new f8([12,15]),new cm([12,42],1,100,"px"),new cm([12,57],1,500,"%")];this.TR()};iq.Embs.prototype=new iq;
iq.Embs.prototype.Ht=function(b,h){h[0]=[b.Angl.v];h[1]=b.Hght.v;h[2]=b.Amnt.v};iq.Embs.prototype.mV=function(b,h){b.Angl.v=h[0][0];
b.Hght.v=h[1];b.Amnt.v=h[2]};iq["Wnd "]=function(){iq.call(this,"Wnd ");this.wq=[new g2([12,32],["Wind","Blast","Stagger"]),new g2([12,33],["From the Right","From the Left"])];
this.TR()};iq["Wnd "].prototype=new iq;iq["Wnd "].prototype.Ht=function(b,h){h[0]=["Wnd","Blst","Stgr"].indexOf(b.WndM.v.WndM);
h[1]=["Left","Rght"].indexOf(b.Drct.v.Drct)};iq["Wnd "].prototype.mV=function(b,h){b.WndM.v.WndM=["Wnd","Blst","Stgr"][h[0]];
b.Drct.v.Drct=["Left","Rght"][h[1]]};iq.denoise=function(){iq.call(this,"denoise");this.wq=[new cm([12,64],0,10),new cm([12,65],0,100,"%")];
this.TR()};iq.denoise.prototype=new iq;iq.denoise.prototype.Ht=function(b,h){var G=b.channelDenoise.v[0].v;
h[0]=G.Amnt.v;h[1]=G.EdgF.v};iq.denoise.prototype.mV=function(b,h){var G=b.channelDenoise.v[0].v;G.Amnt.v=h[0];
G.EdgF.v=h[1]};iq.lightFilterGradient=function(){iq.call(this,"lightFilterGradient");this.wq=[new cm([24,3,1],0,100,"px",1,!0),new cm([12,38],0,200,"%"),new iI([4,11]),new cm("High",0,100,"%"),new cm("Medium",0,100,"%"),new cm("Low",0,100,"%")];
this.TR()};iq.lightFilterGradient.prototype=new iq;iq.lightFilterGradient.prototype.Ht=function(b,h){h[0]=b.blur.v;
h[1]=b.textureScale.v*100;h[2]=b.Scl.v==-1;var G=b.Dtl.v;h[3]=G[0].v*100;h[4]=G[1].v*100;h[5]=G[2].v*100};
iq.lightFilterGradient.prototype.mV=function(b,h){b.blur.v=h[0];b.textureScale.v=h[1]/100;b.Scl.v=h[2]?-1:1;
var G=b.Dtl.v;G[0].v=h[3]/100;G[1].v=h[4]/100;G[2].v=h[5]/100};iq.Fbrs=function(){iq.call(this,"Fbrs");
this.wq=[new cm("Variance",1,64),new cm([12,64],1,64)];this.TR()};iq.Fbrs.prototype=new iq;iq.Fbrs.prototype.Ht=function(b,h){h[0]=b.Vrnc.v;
h[1]=b.Strg.v};iq.Fbrs.prototype.mV=function(b,h){b.Vrnc.v=h[0];b.Strg.v=h[1]};iq.LnsF=function(){iq.call(this,"LnsF");
this.wq=[new cm([12,2],10,300,"%"),new g2([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new cm("Position X",0,100,"%"),new cm("Position Y",0,100,"%")];
this.TR()};iq.LnsF.prototype=new iq;iq.LnsF.prototype.Ht=function(b,h){h[0]=b.Brgh.v;h[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(b.Lns.v.Lns);
var G=b.FlrC.v;h[2]=Math.round(G.Hrzn.v*100);h[3]=Math.round(G.Vrtc.v*100)};iq.LnsF.prototype.mV=function(b,h){b.Brgh.v=h[0];
b.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][h[1]];var G=b.FlrC.v;G.Hrzn.v=h[2]/100;G.Vrtc.v=h[3]/100};iq.aqh(iq.LnsF.prototype);
iq.blendOptions=function(){iq.call(this,"blendOptions");this.wq.push(new cP([12,19,0],aq.US,aq.B2));
this.wq.push(new cm([12,0],0,100,"%"));this.TR()};iq.blendOptions.prototype=new iq;iq.blendOptions.prototype.Ht=function(b,h){h[0]=aq.$$.indexOf(b.Md.v.BlnM);
h[1]=b.Opct.v.val};iq.blendOptions.prototype.mV=function(b,h){b.Md.v.BlnM=aq.$$[h[0]];b.Opct.v.val=h[1]};
iq.LnCr=function(){iq.call(this,"LnCr");this.wq=[new cm([12,57],-100,100),new cm([12,38],10,150,"%")];
this.TR()};iq.LnCr.prototype=new iq;iq.LnCr.prototype.Ht=function(b,h){h[0]=b.LnIa.v;h[1]=b.LnSi.v};
iq.LnCr.prototype.mV=function(b,h){b.LnIa.v=h[0];b.LnSi.v=h[1]};iq.adaptCorrect=function(){iq.call(this,"adaptCorrect");
var b=el;this.wq=[new iM([19,6,0]),new b([12,57],0,100,"%"),new b("Tone",0,100,"%"),new b([12,56],0,200,"px"),new iM([19,6,2]),new b([12,57],0,100,"%"),new b("Tone",0,100,"%"),new b([12,56],0,200,"px"),new iM([3]),new b([13,0],-100,100)];
this.TR([3,7])};iq.adaptCorrect.prototype=new iq;iq.adaptCorrect.prototype.Ht=function(b,h){var G=b.sdwM.v;
h[0]=G.Amnt.v.val;h[1]=G.Wdth.v.val;h[2]=G.Rds.v;var G=b.hglM.v;h[3]=G.Amnt.v.val;h[4]=G.Wdth.v.val;
h[5]=G.Rds.v;h[6]=b.ClrC.v};iq.adaptCorrect.prototype.mV=function(b,h){var G=b.sdwM.v;G.Amnt.v.val=h[0];
G.Wdth.v.val=h[1];G.Rds.v=h[2];var G=b.hglM.v;G.Amnt.v.val=h[3];G.Wdth.v.val=h[4];G.Rds.v=h[5];b.ClrC.v=h[6]};
iq.Flam=function(){iq.call(this,"Flam");var b=this.wq=[new cP([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new cm([12,80,0],20,1e3,"px"),new iI("Randomize Length"),new cm([12,41],5,600,"px"),new cm([12,15],0,360,"\xB0"),new cm("Interval",10,200,"px"),new iI("Adapt Interval for Loops"),new d8(!1),new cP([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new cm("Turbulent",0,100),new cm("Jag",0,100),new cm([12,0],0,100),new cm("Lines",2,30),new cm("Bottom",0,100),new cP([12,22],["Normal","Violent","Flat"]),new cP([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new iI("Randomize Shape"),new cm("Random Seed",0,100)];
this.TR();var h=this.Z;u._I(h);var G=new g2(null,["Basic","Advanced"]);G.O(w.E.w,this.aqX,this);h.appendChild(G.Z);
u.MX(h);var H=u.I("div"),B=u.I("div");this.aBB=[H,B];h.appendChild(H);for(var Y=0;Y<b.length;Y++){(Y<9?H:B).appendChild(b[Y].Z);
if(Y==6)u.pP(H)}b[0].O(w.E.w,this.amx,this);this.amx()};iq.Flam.prototype=new iq;iq.Flam.prototype.amx=function(b){var h=this.wq,Y=h[0].l();
h[1].d3(Y!=0&&Y!=5);h[2].d3(Y!=0&&Y!=5);h[4].d3(Y!=0&&Y!=5&&Y!=1);h[5].d3(Y!=0&&Y!=5);h[6].d3(Y!=0&&Y!=5)};
iq.Flam.prototype.aqX=function(b){var Y=b.target.l(),h=this.aBB,G=this.Z;G.removeChild(h[1-Y]);G.appendChild(h[Y])};
iq.boxblur=function(){iq.call(this,"boxblur");this.wq=[new cm([12,56],1,200," px")];this.TR()};iq.boxblur.prototype=new iq;
iq.boxblur.prototype.Ht=function(b,h){h[0]=b.Rds.v.val};iq.boxblur.prototype.mV=function(b,h){b.Rds.v.val=h[0]};
iq.GsnB=function(){iq.call(this,"GsnB");this.wq=[new cm([12,56],.1,400,"px",1,!0)];this.TR()};iq.GsnB.prototype=new iq;
iq.Dila=function(){iq.call(this,"Dila");this.wq=[new cm([11,12,1],0,20,"px",0),new cm([12,56],0,400,"px",0,!0)];
this.TR()};iq.Dila.prototype=new iq;iq.MtnB=function(){iq.call(this,"MtnB");this.wq=[new f8([12,15]),new cm([12,28],1,100," px")];
this.TR()};iq.MtnB.prototype=new iq;iq.RdlB=function(){iq.call(this,"RdlB");this.wq=[new cm([12,57],1,100),new g2([12,36],["Spin","Zoom"]),new cm("Position X",0,100,"%"),new cm("Position Y",0,100,"%")];
this.TR()};iq.RdlB.prototype=new iq;iq.RdlB.prototype.Ht=function(b,h){h[0]=b.Amnt.v;h[1]=["Spn","Zm"].indexOf(b.BlrM.v.BlrM);
h[2]=b.Cntr.v.Hrzn.v*100;h[3]=b.Cntr.v.Vrtc.v*100};iq.RdlB.prototype.mV=function(b,h){b.Amnt.v=h[0];
b.BlrM.v.BlrM=["Spn","Zm"][h[1]];b.Cntr.v.Hrzn.v=h[2]/100;b.Cntr.v.Vrtc.v=h[3]/100};iq.aqh(iq.RdlB.prototype);
iq.Dspl=function(){iq.call(this,"Dspl");this.wq=[new cP([6,36,3],["a","b"]),new cm([22,4,0],-100,100,"px"),new cm([22,4,1],-100,100,"px"),new cP([24,18,0],[[24,18,3],[24,18,2]])];
this.TR()};iq.Dspl.prototype=new iq;iq.Dspl.prototype.Ht=function(b,h,G){this.ap5=[];this.vC=[];var H=-1,B=G?G[0]:null;
if(B==null)B=this.a1b;else this.a1b=B;if(B)for(var Y=0;Y<B.length;Y++){var j=B[Y];this.ap5.push(j._6.trim());
this.vC.push(j.Af);if(j.Af==b.DspF.v.pth)H=Y}this.wq[0].mX(this.ap5);h[0]=H==-1?0:H;h[1]=b.HrzS.v;h[2]=b.VrtS.v;
h[3]=["WrpA","RptE"].indexOf(b.UndA.v.UndA)};iq.Dspl.prototype.mV=function(b,h){var G=this.a1b;if(this.vC.length==0)return;
b.DspF.v.pth=this.vC[h[0]];b.HrzS.v=h[1];b.VrtS.v=h[2];b.UndA.v.UndA=["WrpA","RptE"][h[3]];var H=G[h[0]];
H.Nw();var B=H.P0[1],j=B.j,s=B._,q=e.U(B.X());e.Rt(H.P0[0],q);var Q=[s&255,s>>>8,0,0,j&255,j>>>8,0,0,3,0];
for(var a=0;a<2;a++)for(var Y=0;Y<q.length;Y++)Q.push(q[Y]);for(var Y=0;Y<1e3;Y++)Q.push(0);b.DspD={t:"tdta",v:Q};
b.EmbF={t:"bool",v:!0}};iq.Pnch=function(){iq.call(this,"Pnch");this.wq=[new cm([12,57],-100,100,"%")];
this.TR()};iq.Pnch.prototype=new iq;iq["Plr "]=function(){iq.call(this,"Plr ");this.wq=[new g2(null,["Rect to Polar","Polar to Rect"])];
this.TR()};iq["Plr "].prototype=new iq;iq.Rple=function(){iq.call(this,"Rple");this.wq=[new cm([12,57],-999,999),new cP([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.TR()};iq.Rple.prototype=new iq;iq["Shr "]=function(){iq.call(this,"Shr ");this.wq=[new hQ(!0,!0),new cP([24,18,0],[[24,18,3],[24,18,2]])];
this.TR()};iq["Shr "].prototype=new iq;iq["Shr "].prototype.Ht=function(b,h){var G=new eq(0,255/127,255/127,0,-2,128),H=JSON.parse(JSON.stringify(b.ShrP.v));
e.S_.h(H,G);h[0]=H;h[1]=["WrpA","RptE"].indexOf(b.UndA.v.UndA)};iq["Shr "].prototype.mV=function(b,h){var G=new eq(0,255/127,255/127,0,-2,128);
G.Q6();e.S_.h(h[0],G);b.ShrP.v=h[0];b.ShrE.v=h[0].length-1;b.UndA.v.UndA=["WrpA","RptE"][h[1]]};iq.Sphr=function(){iq.call(this,"Sphr");
this.wq=[new cm([12,57],-100,100),new cP([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.TR()};iq.Sphr.prototype=new iq;
iq.Sphr.prototype.Ht=function(b,h){h[0]=b.Amnt.v;h[1]=["Nrml","HrzO","VrtO"].indexOf(b.SphM.v.SphM)};
iq.Sphr.prototype.mV=function(b,h){b.Amnt.v=h[0];b.SphM.v.SphM=["Nrml","HrzO","VrtO"][h[1]]};iq.Dthr=function(){iq.call(this,"Dthr");
this.wq=[new cP("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new g2("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.TR()};iq.Dthr.prototype=new iq;iq.Dthr.prototype.Ht=function(b,h){h[0]=b.Plte.v;h[1]=b.Mthd?b.Mthd.v:1};
iq.Dthr.prototype.mV=function(b,h){b.Plte.v=h[0];b.Mthd.v=h[1]};iq.Part=function(){iq.call(this,"Part");
this.wq=[new cm([15,5,1],0,100,"%"),new cm([12,14,0],1,50,"px"),new cm([12,34],0,100,"%"),new cm([12,2],10,1e3,"%"),new d8(!0),new cm("Time",0,1,null,3),new cm("Turbulence",0,100,"%"),new iI("Blink"),new iI("Fall")];
this.TR([4])};iq.Part.prototype=new iq;iq.Part.prototype.Ht=function(b,h){h[0]=b.Cont.v;h[1]=b.Size.v;
h[2]=b.Dpth.v;h[3]=b.Brgh.v;h[4]=b.Clr.v;h[5]=b.Time.v;h[6]=b.Turb.v;h[7]=b.Blnk.v;h[8]=b.Fall.v};iq.Part.prototype.mV=function(b,h){b.Cont.v=h[0];
b.Size.v=h[1];b.Dpth.v=h[2];b.Brgh.v=h[3];b.Clr.v=h[4];b.Time.v=h[5];b.Turb.v=h[6];b.Blnk.v=h[7];b.Fall.v=h[8]};
iq.Twrl=function(){iq.call(this,"Twrl");this.wq=[new cm([12,15],-999,999)];this.TR()};iq.Twrl.prototype=new iq;
iq.Wave=function(){iq.call(this,"Wave");this.aEE=[1,2,3,4];this.wq=[new cm("Number of Generators",1,100),new el("Min Length",1,999),new el("Max Length",1,999),new el("Min Ampl.",1,999),new el("Max Ampl.",1,999),new el("Scale X",1,100,"%"),new el("Scale Y",1,100,"%"),new g2([12,44],["Sine","Triangle",[12,93,3]]),new cP([24,18,0],[[24,18,3],[24,18,2]])];
this.TR()};iq.Wave.prototype=new iq;iq.ZgZg=function(){iq.call(this,"ZgZg");this.wq=[new cm([12,57],-100,100),new cm("Ridges",0,20),new cP([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.TR()};iq.ZgZg.prototype=new iq;iq.surfaceBlur=function(){iq.call(this,"surfaceBlur");this.wq=[new cm([12,56],1,200," px"),new cm([4,13],1,255," px")];
this.TR()};iq.surfaceBlur.prototype=new iq;iq.surfaceBlur.prototype.Ht=function(b,h){h[0]=b.Rds.v.val;
h[1]=b.Thsh.v};iq.surfaceBlur.prototype.mV=function(b,h){b.Rds.v.val=h[0];b.Thsh.v=h[1]};iq.AdNs=function(){iq.call(this,"AdNs");
this.wq=[new cm([12,57],0,200," %"),new cP([12,58],[[12,59,1],[12,59,0]]),new iI([12,60])];this.TR()};
iq.AdNs.prototype=new iq;iq.DstS=function(){iq.call(this,"DstS");this.wq=[new cm([12,56],1,200," px"),new cm([4,13],1,255," px")];
this.TR()};iq.DstS.prototype=new iq;iq["Mdn "]=function(){iq.call(this,"Mdn ");this.wq=[new cm([12,56],1,200," px")];
this.TR()};iq["Mdn "].prototype=new iq;iq["Mdn "].prototype.Ht=function(b,h){h[0]=b.Rds.v.val};iq["Mdn "].prototype.mV=function(b,h){b.Rds.v.val=h[0]};
iq.ClrH=function(){iq.call(this,"ClrH");this.wq=[new cm([12,56],4,100," px")];for(var Y=1;Y<4;Y++)this.wq.push(new cm("Angle "+Y,0,90," \xB0"));
this.TR()};iq.ClrH.prototype=new iq;iq.ClrH.prototype.Ht=function(b,h){h[0]=b.Rds.v;for(var Y=1;Y<4;
Y++)h[Y]=b["Ang"+Y].v};iq.ClrH.prototype.mV=function(b,h){b.Rds.v=h[0];for(var Y=1;Y<4;Y++)b["Ang"+Y].v=h[Y]};
iq.ClrH.prototype.a=function(){var b=this.wq;b[0].a();for(var Y=1;Y<4;Y++)b[Y].Sm(bp.get([12,15])+" "+Y)};
iq.Crst=function(){iq.call(this,"Crst");this.wq=[new cm([12,61],3,100," px")];this.TR()};iq.Crst.prototype=new iq;
iq.Crst.prototype.Ht=function(b,h){h[0]=b.ClSz.v};iq.Crst.prototype.mV=function(b,h){b.ClSz.v=h[0]};
iq.Mztn=function(){iq.call(this,"Mztn");this.wq.push(new cP([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.vC="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.TR()};iq.Mztn.prototype=new iq;
iq.Mztn.prototype.Ht=function(b,h){h[0]=this.vC.indexOf(b.MztT.v.MztT)};iq.Mztn.prototype.mV=function(b,h){b.MztT.v.MztT=this.vC[h[0]]};
iq["Msc "]=function(){iq.call(this,"Msc ");this.wq=[new cm([12,61],2,200," px")];this.TR()};iq["Msc "].prototype=new iq;
iq["Msc "].prototype.Ht=function(b,h){h[0]=b.ClSz.v.val};iq["Msc "].prototype.mV=function(b,h){b.ClSz.v.val=h[0]};
iq.Pntl=function(){iq.call(this,"Pntl");this.wq=[new cm([12,61],3,100," px")];this.TR()};iq.Pntl.prototype=new iq;
iq.Pntl.prototype.Ht=function(b,h){h[0]=b.ClSz.v};iq.Pntl.prototype.mV=function(b,h){b.ClSz.v=h[0]};
iq.smartSharpen=function(){iq.call(this,"smartSharpen");this.wq=[new cm([12,57],1,200,"%"),new cm([12,56],0,200,"px",1,!0)];
this.TR()};iq.smartSharpen.prototype=new iq;iq.smartSharpen.prototype.Ht=function(b,h){h[0]=b.Amnt?b.Amnt.v.val:200;
h[1]=b.Rds?b.Rds.v.val:1};iq.smartSharpen.prototype.mV=function(b,h){b.Amnt.v.val=h[0];b.Rds.v.val=h[1]};
iq.UnsM=function(){iq.call(this,"UnsM");this.wq=[new cm([12,57],1,200," %"),new cm([12,56],.1,400,"px",1,!0),new cm([4,13],0,255," ")];
this.TR()};iq.UnsM.prototype=new iq;iq.HghP=function(){iq.call(this,"HghP");this.wq=[new cm([12,56],.1,400,"px",1,!0)];
this.TR()};iq.HghP.prototype=new iq;iq.HsbP=function(){iq.call(this,"HsbP");this.wq=[new g2("Input",["RGB","HSB","HSL"]),new g2("Output",["RGB","HSB","HSL"])];
this.TR()};iq.HsbP.prototype=new iq;iq["Mxm "]=function(){iq.call(this,"Mxm ");this.wq=[new cm([12,56],.1,200," px",1,!0),new cP([12,76,1],[[12,93,3],"Circle"])];
this.TR()};iq["Mxm "].prototype=new iq;iq["Mnm "]=function(){iq.call(this,"Mnm ");this.wq=[new cm([12,56],.1,200," px",1,!0),new cP([12,76,1],[[12,93,3],"Circle"])];
this.TR()};iq["Mnm "].prototype=new iq;iq.Ofst=function(){iq.call(this,"Ofst");this.wq=[new cm([22,4,0],-1024,1024," px"),new cm([22,4,1],-1024,1024," px"),new cP([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.TR()};iq.Ofst.prototype=new iq;iq.Kale=function(){iq.call(this,"Kale");this.wq=[new el("Mirrors",2,20),new el([12,15],0,360,"\xB0")];
this.TR()};iq.Kale.prototype=new iq;iq.Kale.prototype.Ht=function(b,h){h[0]=b.Mirr.v;h[1]=b.MRot.v};
iq.Kale.prototype.mV=function(b,h){b.Mirr.v=h[0];b.MRot.v=h[1]};iq.Rept=function(){iq.call(this,"Rept");
this.wq=[new el([12,38],1,300," %"),new el("Row Shift",-50,50," %"),new el("Space X",-99,200," %"),new el("Space Y",-99,200," %"),new iI([4,16,2]),new f8([12,15])];
this.TR()};iq.Rept.prototype=new iq;iq.Rept.prototype.Ht=function(b,h){h[0]=b.Scl.v.val;h[1]=b.Rsft.v.val;
h[2]=b.SpcX.v.val;h[3]=b.SpcY.v.val;h[4]=b.SpcC.v;h[5]=[b.Angl.v]};iq.Rept.prototype.mV=function(b,h){b.Scl.v.val=h[0];
b.Rsft.v.val=h[1];b.SpcX.v.val=h[2];b.SpcY.v.val=h[3];b.SpcC.v=h[4];b.Angl.v=h[5][0];return b};iq.Ctoa=function(){iq.call(this,"Ctoa");
this.wq=[new iM([13,0]),new d8(!0),new cm(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new cm(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.TR()};iq.Ctoa.prototype=new iq;iq.Ctoa.prototype.Ht=function(b,h){h[0]=b.Clr.v;h[1]=b.Trsp.v.val;
h[2]=b.Opct.v.val};iq.Ctoa.prototype.mV=function(b,h){b.Clr.v=h[0];b.Trsp.v.val=h[1];b.Opct.v.val=h[2]};
iq.LqFy=function(){iq.call(this,"LqFy");this.J1=!1;this.nf=!1;this.mM=null;this.al$=null;this.S=0;this.Kq=-1;
this.L={tF:[[{S:{id:0,name:[24,1,0,1,0],DA:"liq/smudge"}}],[{S:{id:1,name:[24,1,0,1,1],DA:"liq/reconstruct"}}],[{S:{id:2,name:[24,1,0,1,2],DA:"liq/smooth"}}],[{S:{id:3,name:[24,1,0,1,3],DA:"liq/twirl"}}],[{S:{id:4,name:[24,1,0,1,4],DA:"liq/shrink"}}],[{S:{id:5,name:[24,1,0,1,5],DA:"liq/blow"}}],[{S:{id:6,name:[24,1,0,1,6],DA:"liq/pleft"}}],[{S:{id:7,name:"Hand",DA:"tools/hand"}}],[{S:{id:8,name:"Zoom In",DA:"zoomIn"}}],[{S:{id:9,name:"Zoom Out",DA:"zoomOut"}}]],keys:[]};
this.yg=new jh(this.L,!1);this.yg.BJ(0);this.yg.O(w.E.b,this.yI,this);this.E5=f7.C3();this.jT=null;this.ug=[];
this.Tn=-1;this.w7=null;this.adR=null;this.lB=null;this.Gs=null;this.i9=null;var b=u.I("div","flexrow");
this._L=b;this.Z.appendChild(b);b.appendChild(this.yg.Z);this.view=new ep(!0);this.view.Vb(100,100);
this.view.O("mousedown",this._M,this);this.view.O("mousemove",this.wv,this);this.view.O("mouseup",this.om,this);
this.view.O("zoom",this.tf,this);b.appendChild(this.view.Z);var h=u.I("div","form");b.appendChild(h);
this.u3=h;h.style.width="230px";this.kq=[new cm([12,14,0],0,1e3,null,!1,!0),new cm([12,74],0,100,null,!1,!1),new cm([12,84],0,100,null,!1,!1),new iI([12,46]),new cm([12,0],0,100,null,!1,!1),new iI([24,18,5])];
var G=this.E5.Brsh.v;G.Dmtr.v.val=100;var H=[100,50,100,!1,100,!0];for(var Y=0;Y<this.kq.length;Y++){var B=this.kq[Y];
B.k(H[Y]);if(Y==4)B.ay();B.O(w.E.w,this.aq$,this);h.appendChild(B.Z)}var j=this.avE=new gX([1,12,2],!0,null,!0);
j.O("click",this.Hg,this);h.appendChild(j.Z);this.ahs=this.k2.bind(this);this.b1=new dQ;this.b1.Z=u.I("div","floatcont");
this.Tl=new gX("Menu",!1,null,!0);var s=this.Tl.Z;s.setAttribute("style","position:absolute; right:13px; top:47px");
u.fm(s,this.aiH.bind(this))};iq.LqFy.prototype=new iq;iq.LqFy.prototype.ca=function(){return!0};iq.LqFy.prototype.V4=function(b){this.u3.appendChild(b)};
iq.LqFy.prototype.aiH=function(b){if(u.Pg(this.b1.Z))return;b.stopPropagation();var h=this.Tl.Z.getBoundingClientRect();
this.b1.Z.appendChild(this.u3);var G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:this.b1,x:h.right+h.width-290,y:h.top+h.height};
this.Q(G)};iq.LqFy.prototype.Z1=function(b){this.J1=b.W(ap.p0);var h=E.Qb.Ca(this.E5,b);if(h!=null){this.E5=h;
this.tf();this.kq[0].k(h.Brsh.v.Dmtr.v.val)}else if(b.W(ap.zb)&&b.W(ap.Qj)){var G=this.ug;if(b.W(ap.J3)){if(this.Tn+1<G.length)this.Tn++}else if(this.Tn>0)this.Tn--;
this.jT.map=G[this.Tn].slice(0);this.BL(null)}else if(this.S<=6)this.view.Z1(b);var H=this.S,B=-1,j=b.W(ap.p0);
if(j&&this.Kq==-1){if(H==0)B=1;if(H==4)B=5;if(H==5)B=4;if(B!=-1)this.Kq=H}if(!j&&this.Kq!=-1){B=this.Kq;
this.Kq=-1}if(B!=-1){this.S=B;this.yg.BJ(this.S)}};iq.LqFy.prototype.yI=function(b){if(b.data.q==w.p.CJ){var h=this.S=b.data.S;
this.yg.BJ(this.S);this.view.Z1(h>6?ep.sB(h-7):new ap)}};iq.LqFy.prototype.aq$=function(b){var h=b.currentTarget,Y=this.kq.indexOf(h),G=this.E5.Brsh.v;
if(Y==0){G.Dmtr.v.val=h.l();this.tf()}this.kq[4].d3(this.kq[3].l());if(Y>2)this.BL(null)};iq.LqFy.prototype.Wm=function(){var b=this.ug;
this.Tn++;b[this.Tn]=this.jT.map.slice(0);while(b.length>this.Tn+1)b.pop();while(b.length>50){b=b.slice(1);
this.Tn--}};iq.LqFy.prototype._M=function(b){this.mM=this.view.Md();this.al$=new cJ(0,0);this.nf=!0;
window.requestAnimationFrame(this.ahs)};iq.LqFy.prototype.wv=function(b){var h=this.view.Md(),G=new cJ(h.x-this.mM.x,h.y-this.mM.y);
if(this.S==0||this.S==6)this.aiM(G);this.mM=h};iq.LqFy.prototype.om=function(b){this.Wm();this.nf=!1};
iq.LqFy.prototype.k2=function(b){if(this.S!=0&&this.S!=6)this.aiM(new cJ(0,0));if(this.nf)window.requestAnimationFrame(this.ahs)};
iq.LqFy.prototype.aiM=function(b){var h=this.jT,G=h.Ps/this.w7.j,H=this.mM,B=this.E5.Brsh.v,j=B.Dmtr.v.val,s=Date.now(),q=h.Ps,Q=h.CN,a=Math.sqrt(b.x*b.x+b.y*b.y),l=Math.max(1,Math.ceil(a/2)),U=b.x/l,N=b.y/l,R=H.clone(),S=this.S,g=this.kq[1].l()/100,i=this.kq[2].l()/100,y=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],o=y[S*2],v=y[S*2+1],Z=(1-g)*o+g*v,W=j*G/2;
for(var Y=0;Y<l;Y++){var d=[];R.x+=U;R.y+=N;e.NS.aB_(h.map,q,Q,S,R.x*G,R.y*G,W,g,i,U*G,N*G,d,this.J1);
e.NS.akv(q,Q,h.map,d,2*Z*i)}var $=new io(0,0,q,Q),I=new io(H.x*G,H.y*G,0,0);I.Mx(j*G*.5,j*G*.5);var k=I.clone();
k.offset(b.x*G,b.y*G);I=I.gJ(k);var _=new io(I.x/G,I.y/G,I.j/G,I._/G);_=e.N.lZ(_).D4(this.w7);this.kq[5].k(!0);
this.BL(_)};iq.LqFy.prototype.tf=function(){var b=ft.m1(this.E5,null,this.view.OC().D);this.view.vR(b)};
iq.LqFy.prototype.k=function(b,h,G,H,B){G=G.clone();if(h==null)return;if(!H.TW(G)){var j=G.gJ(H),s=e.U(j.X()*4);
e.JE(h,G,s,j);h=s;G=j;var q=e.U(j.X()*4);e.JE(B,H,q,j);B=q}G.x=G.y=0;this.lB=h;this.adR=B;this.i9=h.slice(0);
this.Gs=h.slice(0);this.w7=G;this.jT=ic.wZ(new Uint8Array(b.LqMe.v).buffer);var Q=G.j,a=G._;if(this.jT.Ps/Q<.22){this.jT={Ps:Math.floor(Q/4),CN:Math.floor(a/4)};
this.jT.map=new Float32Array(this.jT.Ps*this.jT.CN*2)}this.ug=[];this.Tn=-1;this.Wm();this.BL(null);
this.view.Gr(!0);this.tf()};iq.LqFy.prototype.l=function(){var b=gY.Az("LqFy"),h=new Uint8Array(ic.Qg(this.jT)),G=[];
for(var Y=0;Y<h.length;Y++)G.push(h[Y]);b.LqMe.v=G;return b};iq.LqFy.prototype.Vb=function(b,h){this.yg.Vb(b,h);
var G=this.Tl.Z,H=this.u3;this._L.appendChild(H);this._L.appendChild(G);if(b>450&&b-h>200){H.style.marginLeft="1em";
this._L.removeChild(G);this.view.Vb(b-238-45,h)}else{H.style.marginLeft="";this._L.removeChild(H);this.view.Vb(b-40,h)}};
iq.LqFy.prototype.a=function(){this.yg.a();this.avE.a();for(var Y=0;Y<this.kq.length;Y++)this.kq[Y].a()};
iq.LqFy.prototype.Hg=function(){this.jT.map.fill(0);this.Wm();this.BL(null)};iq.LqFy.prototype.BL=function(b){var h=this.w7,G=this.lB,H=this.i9,B=this.jT;
if(this.kq[5].l())e.NS.tJ(G,this.Gs,h.j,h._,b,B.map,B.Ps,B.CN,0);else this.Gs.set(G);if(this.kq[3].a9()){e.JE(this.adR,h,H,h,b?b:h);
e.z.Nm("norm",this.Gs,h,H,h,b?b:h,this.kq[4].l()/100)}else e.MI(this.Gs,H);this.view.k([{jD:h,data:H.buffer}])};
iq.GEfc=function(){iq.call(this,"GEfc");this.R4=0;this.sN=0;this.lB=null;this.i9=null;this.w7=null;this.Cc=null;
this.Fc=null;this.ID=0;this.QD=null;this.vP=null;var b=u.I("div","flexrow");this._L=b;this.Z.appendChild(b);
this.view=new ep(null);this.view.Vb(100,100);b.appendChild(this.view.Z);this.U2="";this.dh=270;var h=this.dK=u.I("div","form scrollable");
b.appendChild(h);h.setAttribute("style","width:"+this.dh+"px;");var G=this.T_=u.I("div","form");b.appendChild(G);
G.setAttribute("style","width:230px;  margin:0 10px");this.xD={};for(var H in hn.names){var B=new iq.GEfc.Q$(H);
B.parent=this;this.xD[H]=B;B.O(w.E.w,this.aex,this)}this.Hf=!0;this.Tl=new gX("Menu",null,null,!0);this.Tl.O("click",this.abJ,this);
b.appendChild(this.Tl.Z);this.Mg=new gX(">>",null,null,!0);this.Mg.O("click",this.asc,this);G.appendChild(this.Mg.Z);
this.dO=u.I("div");this.dO.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
G.appendChild(this.dO);this.J4=u.I("div");this.J4.style.minHeight="14em";this.J4.style.marginBottom="1em";
G.appendChild(this.J4);this.DI=u.I("div","lpbody scrollable");this.v8=u.I("div","lpfoot");G.appendChild(this.DI);
G.appendChild(this.v8);this.O("click",this.avu,this);this.vg=[];bX.uG([[5,3],[5,4]],this.vg,this.v8,this.JO.bind(this))};
iq.GEfc.prototype=new iq;iq.GEfc.prototype.ca=function(){return!0};iq.GEfc.prototype.V4=function(b){this.dO.appendChild(b)};
iq.GEfc.prototype.rN=function(b,h){this.Cc=b;if(b.nU==b.W9)alert("Your foreground and a background color are identical.",4e3)};
iq.GEfc.prototype.asc=function(b){var h=this.dK.style.display!="none";this.dK.style.display=h?"none":"";
this.Mg.Sm(h?"<<":">>");this.Vb()};iq.GEfc.prototype.abJ=function(b){this.Hf=!this.Hf;this.Vb()};iq.GEfc.prototype.Vb=function(b,h){var G=this.dK.style.display!="none";
if(b!=null){this.R4=b;this.sN=h;if(b<1e3&&G||b>=1e3&&!G){this.asc();G=!G}this.Hf=b>600}else{b=this.R4;
h=this.sN}var H=this.Hf?250+(G?this.dh:0):0;if(u.Pg(this.T_)&&!this.Hf){this._L.removeChild(this.dK);
this._L.removeChild(this.T_)}if(!u.Pg(this.T_)&&this.Hf){this._L.appendChild(this.dK);this._L.appendChild(this.T_)}this.dK.style.height=h+"px";
this.view.Vb(b-H,h);this.DI.style.height=h-Math.max(this.J4.getBoundingClientRect().height,186)-96+"px";
this.Tl.Z.setAttribute("style","position:absolute; top:46px;  right:"+(H+16)+"px")};iq.GEfc.prototype.aje=function(){var b=aT.aC.get("img/beach",!0)[0],h=b.jD,G=this.dK,H=Math.floor(u.V()*(this.dh-40)/3),B=~~(H*.7),j=new io(0,0,H,B),s=e.U(H*B*4),q=s.slice(0),Q=Math.round(10*u.V()),a=new ImageData(new Uint8ClampedArray(q.buffer),H,B);
e.JE(new Uint8Array(b.data),h,s,new io(Math.round((h.j-H)/2),Math.round((h._-B)/2),H,B));var l=u.I("canvas"),U=l.getContext("2d");
l.width=H;l.height=B+Math.round(Q*1.5);U.font=Q+"px sans-serif";this.QD={};u._I(G);var N=this.aCE.bind(this);
for(var Y=0;Y<hn.HI.length;Y++){var R=hn.HI[Y],S=u.I("div");G.appendChild(S);S.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
S.textContent=bp.get(R);for(var g in hn.names){var i=hn.names[g];if(i[0]!=Y)continue;hn.BN(g,{rect:j,buffer:s},hn.Az(g),{$:0,B:0,J:0},{$:255,B:255,J:255},{rect:j,buffer:q},{});
U.fillStyle="black";U.fillRect(0,0,500,500);U.putImageData(a,0,0);var y=bp.get(i[1]);U.fillStyle="white";
U.fillText(y,(H-U.measureText(y).width)/2,B+Math.round(Q*1.1));var o=u.I("div");G.appendChild(o);o.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
o.addEventListener("click",N,!1);var S=u.I("img");o.appendChild(S);S.setAttribute("src",l.toDataURL());
S.setAttribute("style","width:"+H/u.V()+"px; margin-bottom:0px;");this.QD[g]=o}}};iq.GEfc.prototype.aCE=function(b){var h;
for(var G in this.QD)if(this.QD[G]==b.currentTarget)this.U2=G;this.aex()};iq.GEfc.prototype.JO=function(b){var h=bX.ml(this.vg,b),G=this.Fc.GEfs.v,H=G[this.ID].v;
if(h==0){G.push(JSON.parse(JSON.stringify(G[this.ID])));this.ID=G.length-1}else if(G.length>1){G.splice(this.ID,1);
if(this.ID==G.length)this.ID--}this.KA();this.BL()};iq.GEfc.prototype.aex=function(b){var h=this.U2,G;
if(b==null)G=hn.Az(h);else G=this.xD[h].l();this.Fc.GEfs.v[this.ID].v=G;this.KA();this.BL()};iq.GEfc.prototype.k=function(b,h,G,H,B){var j=bp.get([24,0]);
if(this.QD==null||j!=this.vP)this.aje();this.vP=j;b=this.Fc=JSON.parse(JSON.stringify(b));if(b.GEfs==null)b=this.Fc={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:b}]}};
var s=b.GEfs.v;for(var Y=0;Y<s.length;Y++)if(s[Y].v.GELv==null)s[Y].v.GELv={t:"bool",v:!0};this.ID=s.length-1;
this.KA();G=G.clone();if(h==null)return;if(!H.TW(G)&&hn.MA(b).x!=0){var q=G.gJ(H),Q=e.U(q.X()*4);e.JE(h,G,Q,q);
h=Q;G=q}G.x=G.y=0;this.lB=h;this.i9=h.slice(0);this.w7=G;this.BL();this.view.Gr()};iq.GEfc.prototype.avu=function(b){var h=b.data,Y=h.V9,G=this.Fc.GEfs.v;
if(h.Nf){G[Y].v.GELv.v=!G[Y].v.GELv.v;this.BL()}else this.ID=Y;this.KA()};iq.GEfc.prototype.KA=function(){var b=this.Fc.GEfs.v,h=b[this.ID].v,G=h.GEfk.v.GEft,H=this.J4;
if(hn.names[G]==null){alert("Unsupported gallery filter");u._I(H)}else{this.U2=G;for(var B in this.QD)u.Yx(this.QD[B],"selected");
u.eS(this.QD[G],"selected");var j=this.xD[G];j.k(h);if(H.firstChild!=j.Z){u._I(H);H.appendChild(j.Z)}}var s=[];
for(var Y=0;Y<b.length;Y++){var q=b[Y].v,Q=hn.names[q.GEfk.v.GEft],a=new h2(Y,!0,!0,null,Q?Q[1]:"Filter",Y==this.ID,q.GELv.v);
a.parent=this;s.push(a.Z)}u._I(this.DI);s.reverse();for(var Y=0;Y<s.length;Y++)this.DI.appendChild(s[Y]);
this.Vb()};iq.GEfc.prototype.l=function(){return JSON.parse(JSON.stringify(this.Fc))};iq.GEfc.prototype.BL=function(b){var h=this.w7,G=this.lB,H=this.i9,B=this.U2,j=this.Fc,s=this.Cc;
function q(Q){return{$:Q>>>16,B:Q>>>8&255,J:Q&255}}gY.BN("GEfc",{rect:this.w7,buffer:this.lB},j,q(s.nU),q(s.W9),{rect:this.w7,buffer:this.i9},null);
this.view.k([{jD:h,data:H.buffer}])};iq.GEfc.prototype.a=function(){for(var b in this.xD)this.xD[b].a();
bX.Fh(this.vg,["lrs/newlayer","lrs/bin"])};iq.GEfc.Q$=function(b){dQ.call(this);this.kR=b;this.Z=u.I("div");
this.FQ={};var h=hn.Az(b);for(var G in h){var H=null;if(G=="__name"||G=="classID"||G=="GEfk"||G=="GELv"||["FlRs"].indexOf(G)!=-1)continue;
else if(G=="EdgW")H=new cm("Edge Width",1,14);else if(G=="EdgB")H=new cm("Edge Brightness",0,b=="AccE"?50:20);
else if(G=="Smth")H=new cm([19,3,3],1,b=="Stmp"?50:15);else if(G=="ClSz")H=new cm([12,61],3,100);else if(G=="BrdT")H=new cm([7,9],1,20);
else if(G=="HghS")H=new cm([12,64],0,20);else if(G=="HlSz")H=new cm([12,14,0],1,15);else if(G=="Cntr")H=new cm([12,3,0],0,b=="WtrP"?100:50);
else if(G=="Shrp")H=new cm("Sharpness",0,40);else if(G=="SprR")H=new cm("Spray Radius",0,25);else if(G=="LgDr")H=new cm("Light/Dark Balance",0,b=="Stmp"?50:100);
else if(G=="Drkn")H=new cm("Darkness",1,50);else if(G=="Dstr")H=new cm("Distortion",0,20);else if(G=="Scln")H=new cm([12,38],50,200);
else if(G=="Rlf")H=new cm("Relief",0,b=="Ptch"||b=="NtPr"?25:50);else if(G=="ChAm")H=new cm("Thickness",1,7);
else if(G=="Pncl")H=new cm([19,2,5],1,30);else if(G=="StrP")H=new cm("Stroke Pressure",0,15);else if(G=="PprB")H=new cm("Paper Brightness",0,50);
else if(G=="BrsS")H=new cm("Brush Size",0,10);else if(G=="BrsD")H=new cm("Brush Detail",0,10);else if(G=="Txtr")H=new cm([12,67],1,3);
else if(G=="Grn")H=new cm("Grain",0,20);else if(G=="HghA")H=new cm("Highlight Area",0,20);else if(G=="Intn")H=new cm("Intensity",0,10);
else if(G=="Brgh")H=new cm("Glow Brightness",0,b=="WtrP"?100:50);else if(G=="StrS")H=new cm("Stroke Size",1,50);
else if(G=="StDt")H=new cm("Stroke Detail",1,3);else if(G=="Sftn")H=new cm("Softness",0,10);else if(G=="EdgT")H=new cm("Edge Thickness",0,10);
else if(G=="EdgI")H=new cm("Edge Intensity",0,10);else if(G=="Pstr")H=new cm("Posterization",0,6);else if(G=="Dfnt")H=new cm("Definition",0,25);
else if(G=="TxtC")H=new cm("Texture Coverage",0,50);else if(G=="ShdI")H=new cm("Shadow Intensity",0,10);
else if(G=="DrcB")H=new cm("Direction Balance",0,100);else if(G=="Strg")H=new cm([12,64],1,3);else if(G=="Blnc")H=new cm("Balance",0,10);
else if(G=="BlcI")H=new cm("Black Intensity",0,10);else if(G=="WhtI")H=new cm("White Intensity",0,10);
else if(G=="DrkI")H=new cm("Dark Intensity",0,50);else if(G=="LghI")H=new cm("Light Intensity",0,50);
else if(G=="StrW")H=new cm("Stroke Width",3,15);else if(G=="Grns")H=new cm("Graininess",0,b=="NtPr"?20:10);
else if(G=="GlwA")H=new cm("Glow Amount",0,20);else if(G=="ClrA")H=new cm("Clear Amount",0,20);else if(G=="ChrA")H=new cm("Charcoal Area",0,20);
else if(G=="ChlA")H=new cm("Chalk Area",0,20);else if(G=="FrgL")H=new cm("Foreground Level",1,15);else if(G=="BckL")H=new cm("Background Level",1,15);
else if(G=="WhtL")H=new cm("Background Level",0,50);else if(G=="BlcL")H=new cm("Foreground Level",0,50);
else if(G=="ImgB")H=new cm("Image Balance",0,50);else if(G=="Dnst")H=new cm([12,74],0,50);else if(G=="FbrL")H=new cm("Fiber Length",3,50);
else if(G=="CrcS")H=new cm("Crack Spacing",2,100);else if(G=="CrcD")H=new cm("Crack Depth",0,10);else if(G=="CrcB")H=new cm("Crack Brightness",0,10);
else if(G=="TlSz")H=new cm("Tile Size",2,100);else if(G=="GrtW")H=new cm("Grout Width",1,15);else if(G=="LghG")H=new cm("Lighten Grout",0,10);
else if(G=="SqrS")H=new cm("Square Size",0,10);else if(G=="RplS")H=new cm("Ripple Size",1,15);else if(G=="RplM")H=new cm("Ripple Magnitude",0,20);
else if(G=="NmbL")H=new cm("Number of Levels",2,8);else if(G=="EdgS")H=new cm("Edge Simplicity",0,10);
else if(G=="EdgF")H=new cm("Edge Fidelity",1,3);else if(G=="Sz")H=b=="NGlw"?new cm("Glow Size",-24,24):new cm("Brush Size",1,50);
else if(G=="Dtl")H=b=="Chrc"?new cm("Detail",0,5):new cm("Detail",1,15);else if(G=="StrL")H=b=="InkO"?new cm("Stroke Length",1,50):new cm("Stroke Length",0,20);
else if(G=="TxtT")H=new cP([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(G=="BrsT")H=new cP("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(G=="Grnt")H=new cP("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(G=="SDir")H=new cP([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(G=="ScrT")H=new cP([12,62],["Circle","Dot",[10,35]]);
else if(G=="LghD"||G=="LghP")H=new cP("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(G=="Clr")H=new d8("Glow Color");else if(G=="InvT")H=new iI([4,11]);else console.log(G);H.O(w.E.w,this.hO,this);
H.parent=this;this.FQ[G]=H;this.Z.appendChild(H.Z)}};iq.GEfc.Q$.prototype=new dQ;iq.GEfc.Q$.prototype.hO=function(b){this.Q(new hb(w.E.w,!1))};
iq.GEfc.a9D="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
iq.GEfc.Q$.prototype.k=function(b){for(var h in this.FQ){var G;if(iq.GEfc.a9D.indexOf(h)!=-1)G=b[h].v;
else if(h=="TxtT")G=hn.QJ.indexOf(b[h].v[h]);else if(h=="BrsT")G=hn.aB1.indexOf(b[h].v[h]);else if(h=="LghD")G=hn.T8.indexOf(b[h].v[h]);
else if(h=="LghP")G=hn.WT.indexOf(b[h].v[h]);else if(h=="Grnt")G=hn.PA.indexOf(b[h].v[h]);else if(h=="ScrT")G=hn.da.indexOf(b[h].v[h]);
else if(h=="SDir")G=hn.Zp.indexOf(b[h].v.StrD);this.FQ[h].k(G)}};iq.GEfc.Q$.prototype.l=function(){var b=hn.Az(this.kR);
for(var h in this.FQ){var G=this.FQ[h].l();if(iq.GEfc.a9D.indexOf(h)!=-1)b[h].v=G;else if(h=="TxtT")b[h].v[h]=hn.QJ[G];
else if(h=="BrsT")b[h].v[h]=hn.aB1[G];else if(h=="LghD")b[h].v[h]=hn.T8[G];else if(h=="LghP")b[h].v[h]=hn.WT[G];
else if(h=="Grnt")b[h].v[h]=hn.PA[G];else if(h=="ScrT")b[h].v[h]=hn.da[G];else if(h=="SDir")b[h].v.StrD=hn.Zp[G]}return b};
iq.GEfc.Q$.prototype.a=function(){for(var b in this.FQ)this.FQ[b].a()};iq["Adobe Camera Raw Filter"]=function(b){iq.call(this,"Adobe Camera Raw Filter");
var h=this.Z;this.awL=b;this.o_=null;this.ht=null;this.py=1e3;this.jP=null;this.d1=null;u.eS(h,"flexrow");
var G=u.I("div"),H=u.I("div","padded");h.appendChild(G);h.appendChild(H);this.vq=new ep;this.vq.O("zoom",this.BL,this);
G.appendChild(this.vq.Z);this.GU=new eb(225);this.GU.XZ(4);H.appendChild(this.GU.Z);this.ZH=u.I("div");
this.ZH.setAttribute("style","width:18em;");H.appendChild(this.ZH);this.aCz=new iM("Hi",!0);this.ZH.appendChild(this.aCz.Z);
this.NO=u.I("div","scrollable");this.ZH.appendChild(this.NO);this.FQ=[new cm("Temperature",-100,100),new cm("Tint",-100,100),new cm([4,3],-4,4,null,!0),new cm([12,3,0],-100,100),new cm([4,4],-100,100),new cm([12,9],-100,100)];
this.Ot="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var Y=0;Y<this.FQ.length;Y++){var B=this.FQ[Y];
B.k(0);B.O(w.E.w,this.BL,this);this.NO.appendChild(B.Z);if(Y==1||Y==3)this.NO.appendChild(u.I("hr"))}};
iq["Adobe Camera Raw Filter"].prototype=new iq;iq["Adobe Camera Raw Filter"].prototype.ca=function(){return!0};
iq["Adobe Camera Raw Filter"].prototype.V4=function(b){this.ZH.appendChild(b)};iq["Adobe Camera Raw Filter"].prototype.rN=function(b,h){this.GU.HS(af.AV[b.Ys]["--text-color"])};
iq["Adobe Camera Raw Filter"].prototype.k=function(b,h,G,H,B){this.Fc=b;var j=G.j,s=G._,q=j*s;this.aCz.k(j+" x "+s+", "+(j*s/1e6).toFixed(1)+" MPx");
this.w7=G;this.jP=new Float32Array(j*s*3);this.d1=new Uint8Array(j*s*4);this.d1.fill(255);if(h instanceof Float32Array)this.o_=h;
else{var Q=this.o_=new Float32Array(j*s*3);for(var Y=0;Y<q;Y++){var a=Y*3,l=Y*4;Q[a+0]=h[l+0]*(1/255);
Q[a+1]=h[l+1]*(1/255);Q[a+2]=h[l+2]*(1/255)}}this.ht=[{Ur:this.o_,rect:G.clone()}];this.py=1e3;var U=this.o_;
while(j>1&&s>1){var N=j,R=N*3;j=j>>>1;s=s>>>1;var S=U,U=new Float32Array(j*s*3);this.ht.push({Ur:U,rect:new io(0,0,j,s)});
for(var g=0;g<s;g++)for(var i=0;i<j;i++){var a=(g*j+i)*3,y=(g*2*N+i*2)*3,o=y+R;U[a]=.25*(S[y]+S[y+3]+S[y+R]+S[y+R+3]);
U[a+1]=.25*(S[y+1]+S[y+4]+S[y+R+1]+S[y+R+4]);U[a+2]=.25*(S[y+2]+S[y+5]+S[y+R+2]+S[y+R+5])}}var v=this.Ot;
for(var Y=0;Y<v.length;Y++){var Z=v[Y];this.FQ[Y].k(b[Z]?b[Z].v:0)}this.vq.k([{jD:G,data:this.d1.buffer}]);
this.vq.Gr();this.BL(null)};iq["Adobe Camera Raw Filter"].prototype.l=function(b){if(b){this.BL(null,!0);
return this.d1}return JSON.parse(JSON.stringify(this.Fc))};iq["Adobe Camera Raw Filter"].prototype.a8Z=function(){this.o_=null;
this.jP=null;this.ht=null;this.d1=null};iq["Adobe Camera Raw Filter"].prototype.BL=function(b,h){if(b&&this.FQ.indexOf(b.target)!=-1){this.py=1e3;
var G=this.Ot;for(var Y=0;Y<G.length;Y++){var H=G[Y];this.Fc[H]={t:H=="Ex12"?"doub":"long",v:this.FQ[Y].l()}}}var B=this.vq.OC().D,j=0;
while(B*2<=1&&!h){B*=2;j++}if(this.py<=j)return;this.py=j;var s=this.w7,q=this.a9m(this.o_,s,this.jP,this.Fc,this.awL,this.d1,j);
this.GU.k(q);this.vq.k([{jD:s,data:this.d1.buffer}])};iq["Adobe Camera Raw Filter"].prototype.a9m=function(b,h,G,H,B,j,s){var q=b,Q=G,a=j,l=h.j,U=h._,N=s!=0;
if(N){var R=this.ht[s];q=R.Ur;l=R.rect.j;U=R.rect._;Q=new Float32Array(l*U*3);a=e.U(l*U*4)}kr(q,l,U,Q,H,B);
var S=Date.now(),g=l*U;for(var Y=0;Y<g;Y++){var i=Y*3,y=Y*4;a[y+0]=~~(.5+Q[i+0]*255);a[y+1]=~~(.5+Q[i+1]*255);
a[y+2]=~~(.5+Q[i+2]*255);a[y+3]=255}console.log(Date.now()-S,"integer conversion");S=Date.now();var o=e.fl(a,Math.max(1,Math.floor(g/2e5)));
console.log(Date.now()-S,"histogram done");S=Date.now();if(N){var v=new Uint32Array(a.buffer),Z=new Uint32Array(j.buffer),W=h.j,d=h._;
for(var $=0;$<d;$+=2)for(var I=0;I<W;I+=2){var i=$*W+I,k=v[($>>>s)*l+(I>>>s)];Z[i]=k;Z[i+1]=k;Z[i+W]=k;
Z[i+W+1]=k}console.log(Date.now()-S,"upscale");S=Date.now()}return o};iq["Adobe Camera Raw Filter"].prototype.Vb=function(b,h){this.atR=b-248;
this.au5=h;this.vq.Vb(this.atR,this.au5);this.NO.style.height=h-236+"px"};iq["Adobe Camera Raw Filter"].prototype.a=function(){for(var Y=0;
Y<this.FQ.length;Y++)this.FQ[Y].a()};iq.VaPo=function(){iq.call(this,"VaPo");this.S=-1;this.bO=null;
this.cv=!1;this.zP=null;this.rC=null;this.je=null;this.cD=null;this.GP=null;this.Ry=null;this.SS=null;
this.C0=null;this.LF=null;this.E8=null;this.XT=null;this.ug=[];this.Tn=-1;this.T=null;this.L={tF:[[{S:{id:0,name:"Move",DA:"tools/move"}}],[{S:{id:1,name:"Create Plane",DA:"tools/pcrop"}}],[{S:{id:2,name:"Marquee",DA:"tools/rselect"}}],[{S:{id:3,name:"Stamp",DA:"tools/clone"}}],[{S:{id:4,name:"Brush",DA:"tools/brush"}}],[{S:{id:5,name:"Transform",DA:"tools/transform"}}],[{S:{id:6,name:"Hand",DA:"tools/hand"}}],[{S:{id:7,name:"Zoom In",DA:"zoomIn"}}],[{S:{id:8,name:"Zoom Out",DA:"zoomOut"}}]],keys:[ap.ic,ap.ew,ap.P2,ap.h1,ap.ge,ap.Z5,ap._c,ap.Qj]};
this.yg=new jh(this.L,!1);this.yg.O(w.E.b,this.yI,this);this.W4=null;this.w7=null;this.lB=null;this.aaE=null;
this.i9=null;this.mB=null;var b=u.I("div","flexrow"),H=0;this._L=b;this.Z.appendChild(b);b.appendChild(this.yg.Z);
var h=u.I("div");b.appendChild(h);var top=u.I("div","form");h.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.n0=u.I("span");top.appendChild(this.n0);this.wJ=[[new bP([12,80,5],1,1e3)],[new bP([7,6],0,30)],[new bP([12,14],1,200),new bP([12,17],0,100),new bP([12,0],0,100),new iI([12,75])],[new bP([12,14],1,200),new bP([12,17],0,100),new bP([12,0],0,100),new d8],[new iI("Flip"),new iI("Flop")],[]];
var G=[100,0,100,100,100,!1,100,100,100,JSON.parse(dE.eI.mz.slice(6)).v];this.kr=[];for(var Y=0;Y<6;
Y++){var B=u.I("span"),j=this.wJ[Y];this.kr.push(B);for(var s=0;s<j.length;s++){var q=j[s];q.parent=this;
q.k(G[H++]);q.O(w.E.w,this.a1E,this);B.appendChild(q.Z)}}this.Og=u.I("div");this.Og.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.Og);this.view=new ep(!0);this.view.Vb(100,100);this.view.vR("auto");this.view.O("mousedown",this._M,this);
this.view.O("mousemove",this.wv,this);this.view.O("mouseup",this.om,this);u.fe(this.view.cj,this.vK.bind(this));
h.appendChild(this.view.Z)};iq.VaPo.prototype=new iq;iq.VaPo.prototype.ca=function(){return!0};iq.VaPo.prototype.V4=function(b){this.Og.appendChild(b)};
iq.VaPo.prototype.a1E=function(b){if(b.target==this.wJ[0][0]){var h=this.Ml(),G=b.target.l();for(var Y=0;
Y<this.T.length;Y++)if(this.T[Y].length!=0&&h[Y])h[Y][0]=G;this.UN(h)}if(this.S==5){this.W4=this.en();
this.BL(!0)}this.BL()};iq.VaPo.prototype.Z1=function(b){var h=this.S,G=this.rC;if(h==3||h==4){var H=this.wJ[h-1],B=f7.C3(),j=B.Brsh.v;
j.Dmtr.v.val=H[0].l();j.Hrdn.v.val=H[1].l();B=E.Qb.Ca(B,b);if(B){j=B.Brsh.v;H[0].k(j.Dmtr.v.val);H[1].k(j.Hrdn.v.val)}this.tf()}if(h==1&&G&&(b.W(ap.TD)||b.W(ap.Y6))){G.pop();
G.pop();if(G.length==0)G=this.rC=null;this.BL()}function s(l,Y,S){e.JE(l[Y],l[0],S.lB,S.w7);S._0(l[0])}this.zP=b;
if(h<6)this.view.Z1(b);var q=b.W(ap.zb);if(q){var Q=this.Tn,a=0;if(b.W(ap.Qj)){if(b.W(ap.J3))a=1;else a=-1}else if(b.W(ap.kO))a=1;
if(a!=0&&h!=5){console.log(this.Tn,a,this.ug);var l=this.ug[this.Tn],U=!1;if(l.length==3&&a==-1){s(l,1,this);
U=!0}Q+=a;this.Tn=Math.max(0,Math.min(this.ug.length-1,Q));l=this.ug[this.Tn];if(l.length==3&&a==1){s(l,2,this);
U=!0}this.BL(U)}if(b.W(ap.ic)){if(u.Qh())dJ.afz(this.oc.bind(this))}if(b.W(ap.xO)){this.GP=null;this.BL()}}else{var N=this.L.keys;
for(var Y=0;Y<N.length;Y++)if(b.W(N[Y]))this.BJ(Y)}if(b.W(ap.Y6)||b.W(ap.TD)){var R=this.Ml();R=e.jN.al3(R,this.T);
this.T=[];for(var Y=0;Y<R.length;Y++)this.T[Y]=[];this.UN(R);this.BL()}};iq.VaPo.prototype.oc=function(b){if(b=="granted")dJ.Nz(this,this.oZ.bind(this))};
iq.VaPo.prototype.oZ=function(b,h){var G=this.Ml();if(G.length==0){alert("Make a plane before pasting an image");
return}if(this.cD==null)this.cD=[0,0];if(this.S==5)this.BJ(0);this.BJ(5,{VN:b,O2:h})};iq.VaPo.prototype.yI=function(b){if(b.data.q==w.p.CJ){this.BJ(b.data.S)}};
iq.VaPo.prototype.acV=function(b){var h=this.view.Md(b),G=e.jN.eF(this.Ml(),this.T),H=1e9,B=0;for(var Y=0;
Y<G.length;Y++){var j=G[Y][0],s=h.x-j[0],q=h.y-j[1],Q=Math.sqrt(s*s+q*q);if(Q<H){H=Q;B=Y}}if(H>4*u.V()/this.view.OC().D)return null;
return G[B]};iq.VaPo.prototype.vK=function(b){var h=this.S,G=this.rC;if(h<2&&!this.cv){var H=this.bO=this.acV(b),B=this.Ml(),j="auto";
if(h==0&&e.jN._g(B,H)){var s=B[H[1]][1][H[2]],q=s[5+{1:0,5:1,7:2,3:3}[H[3]]],Q=q[0],a=q[1];j=eR.aDk(Q[1]-a[1],-Q[0]+a[0])}if(e.jN.av3(B,H))j="crosshair";
this.view.vR(j)}if(G){var l=this.view.Md(b),U=G.slice(0);G[G.length-2]=l.x;G[G.length-1]=l.y;this.BL()}this.tf(b);
if(h==5&&!this.cv&&this.VB){var l=this.view.Md(b),B=this.Ml(),N=e.jN.QS(B,l.x,l.y,this.gc());if(N){var R=new cJ(N[2][0],N[2][1]),S=e.jN.UG(B,B[N[0]][1][N[1]],this.gc()),g=S[1],i=e.t.Kt(S[0],g),y=[g.x+g.j/2,g.y+g._/2];
e.t.h(i,y);var o=l.x-y[0],v=l.y-y[1],Z=this.VB.qc(R,this.view.OC().D,null,null,Math.atan2(-v,-o));this.view.vR(Z?Z:"default")}}};
iq.VaPo.prototype.tf=function(b){var h=this.S,G=this.zP;if((h==3||h==4)&&!this.cv){var H=b?this.view.Md(b):this.vz,B=this.Ml();
this.vz=H;if(H==null)return;var j=e.jN.QS(B,H.x,H.y,this.gc());if(j){if(h==3&&this.XT&&this.wJ[2][3].l()){var s=new cJ(j[2][0],j[2][1]);
this.E8=s.SX(this.XT);this.BL()}if(h==3&&(this.E8==null||G&&(G.W(ap.p0)||G.W(ap.zf)))){if(this.W4){this.mB=null;
this._0(this.W4);this.BL(!0,this.W4)}return}this.agM(j,this.W4)}}};iq.VaPo.prototype.gc=function(){return[this.w7.j/2,this.w7._/2]};
iq.VaPo.prototype._M=function(b){this.cv=!0;var h=this.S,G=this.rC,H=this.Ml(),B=this.zP,j=this.bO=this.acV(null),s=this.view.Md(),q=e.jN.QS(H,s.x,s.y,this.gc()),Q=q?new cJ(q[2][0],q[2][1]):null;
if(e.jN.av3(H,j)){var a=H[j[1]][1][j[2]];H.splice(j[1],1);this.T.splice(j[1],1);G=e.jN.azJ(a);var l=-1,s=j[0];
for(var Y=0;Y<8;Y+=2){var U=G[Y]-s[0],N=G[Y+1]-s[1];if(U*U+N*N<1e-5)l=Y}l=l+2&7;G=this.rC=G.slice(l).concat(G.slice(0,l));
this.UN(H)}else if(e.jN._g(H,j)){if(h==1||B&&B.W(ap.zb)){H=e.jN.alK(H,j,this.gc());this.UN(H);j[2]=H[j[1]][1].length-1;
j[3]=8+(j[3]+4&7);this.T[j[1]].push(j[2]);this.UN(H,!0);this.BJ(0)}else this.UN(this.Ml(H))}else if(h==0){var R=[];
for(var Y=0;Y<H.length;Y++)R.push([]);if(q){if(B&&B.W(ap.J3))R=this.T;var S=R[q[0]].indexOf(q[1]);if(S==-1)R[q[0]].push(q[1]);
else R[q[0]].splice(S,1)}this.T=R;this.UN(H,!0);this.BL()}else if(h==2){if(q){var g=this.GP;if(g&&g.G_(Q)){if(B)if(B.W(ap.p0)||B.W(ap.zb)){this.BJ(5);
this._M(b);return}this.Ry=new cJ(Q.x-g.x,Q.y-g.y)}else{this.je=q[2].concat(q[2]);this.cD=q}}}else if(h==3||h==4){if(h==3){if(B&&(B.W(ap.p0)||B.W(ap.zf))){if(q){this.E8=Q;
this.C0=Q.clone();this.XT=null;this.LF=q;this.BL()}else alert("You must click into a plane");this.cv=!1;
return}else if(this.E8==null){alert(bp.get([15,7,0]));this.cv=!1;return}else if(q){var i=this.XT=Q.SX(this.E8)}}if(q){this.agM(q)}}else if(h==5){if(q){var y=new cJ(q[2][0],q[2][1]),o=this.VB.Ay({s:this.view.OC()},{},B,y)}}};
iq.VaPo.prototype.agM=function(b,h){var G=this.mB;if(G==null)this.mB=G=e.U(this.w7.X()*4);else G.fill(0);
var H=this.S;this.cD=b;var B=this.wJ[H-1],j=e.aEm.axs(B[0].l(),B[1].l()/100,1),s=e.U(j[1].X()*4);e.aj(j[0],s,3);
if(H==4){var q=e.F.an(B[3].l());e.Zi(s,Math.round(q.J)<<16|Math.round(q.B)<<8|Math.round(q.$)<<0,4278190080)}this.SS={a8Y:j[0],VN:s,O2:j[1]};
var Q=this.W4=this.AW(b[2],b[2]),a=h?h.gJ(Q):Q;this._0(a);this.BL(!0,a)};iq.VaPo.prototype.wv=function(b){var h=this.bO,G=this.S,H=this.Ml();
if(G==0&&e.jN._g(H,h)){H=e.jN.ae$(H,h,this.view.Md());this.UN(H,!0);this.BL()}var B=this.Ry;if(G==2&&this.cv&&(this.je||B)){var j=this.view.Md(),s=e.jN.QS(H,j.x,j.y,this.gc());
if(s){this.cD=s;if(B){this.GP.x=s[2][0]-B.x;this.GP.y=s[2][1]-B.y}else{this.je=this.je.slice(0,2).concat(s[2]);
this.GP=e.N.sm(this.je)}this.BL()}}if((G==3||G==4)&&this.cv){var j=this.view.Md(),s=e.jN.QS(H,j.x,j.y,this.gc());
if(s){if(G==3){var q=this.XT;this.E8=new cJ(s[2][0]-q.x,s[2][1]-q.y)}var Q=this.AW(this.cD[2],s[2]);
this.W4=this.W4.gJ(Q);this.cD=s;this._0(Q);this.BL(!0,Q)}}if(G==5&&this.cv){var j=this.view.Md(),s=e.jN.QS(H,j.x,j.y,this.gc(),this.cD);
if(s){var a=new cJ(s[2][0],s[2][1]);this.VB.Jl({s:this.view.OC()},{},this.zP,a);this.cD=s;var Q=this.W4;
if(Q)this._0(Q);else Q=new io;this.W4=this.en(null,null,!0);this.BL(!0,Q.gJ(this.W4))}}};iq.VaPo.prototype.AW=function(b,h){b=new cJ(b[0],b[1]);
h=new cJ(h[0],h[1]);var G=Math.max(1e-5,cJ.o0(b,h)),H=this.SS.O2.j*.2,B=new io;for(var j=0;j<G;j+=H){var s=1-j/G,q=s*b.x+(1-s)*h.x,Q=s*b.y+(1-s)*h.y,a=this.SS.O2.clone();
a.x=Math.round(q-a.j/2);a.y=Math.round(Q-a._/2);if(this.S==3){var l=this.XT;if(l==null)l=new cJ(q,Q).SX(this.E8);
var U=this.GP=a.clone();U.x=Math.round(U.x-l.x);U.y=Math.round(U.y-l.y);var N=this.SS.a8Y;this.SS=this.a5z(this.LF);
this.GP=null;e.Bp(N,this.SS.VN);this.SS.a8Y=N}var R=this.en(this.mB,a);B=B.gJ(R)}return B};iq.VaPo.prototype.om=function(b){var h=this.bO;
if(h&&h[3]>=8){var G=e.jN.asB(this.Ml(),h,this.gc());this.UN(G,!0);this.BL();alert("new plane added")}var H=this.S,B=this.rC;
if(B||H==1){var j=this.view.Md();if(B==null)B=this.rC=[j.x,j.y];if(B.length==8&&eR.gB(B)){var G=this.Ml();
G.push([100,[e.jN.arA(B,this.gc())]]);this.T.push([0]);this.UN(G,!0);B=this.rC=null;this.BJ(0);this.BL()}else if(B.length<8){B.push(j.x,j.y);
if(B.length==8&&!eR.gB(B)){var s=B[0],q=B[1];B[0]=B[4];B[1]=B[5];B[4]=s;B[5]=q}}}var Q=this.je;if(H==2&&Q&&Q[0]==Q[2]&&Q[1]==Q[3]){this.GP=null;
this.BL()}if((H==3||H==4)&&this.cv){if(H==3&&!this.wJ[2][3].l()&&this.C0){this.E8=this.C0.clone();this.BL()}this.UN();
this.mB=null}if(!this.wJ[2][3].l())this.XT=null;this.cv=!1;this.Ry=null;this.je=null};iq.VaPo.prototype.BJ=function(b,h){if(b==this.S)return;
var G=this.W4,B=6;if(this.S==5){this.UN();this._0(G);this.VB=null;this.BL()}if(this.S==3||this.S==4){this.mB=null;
if(G)this._0(G);this.BL(!0,G)}if(b==5){if(h==null&&this.GP==null){alert("Select the area to be transformed");
return}this.a21(h)}if(b>1){var H=this.Ml();this.b9();this.UN(H,!0);this.BL()}this.view.Z1(b>=B?ep.sB(b-B):new ap(!0));
if(b<B)this.view.vR("auto");this.S=b;this.yg.BJ(b);u._I(this.n0);var j={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[b];
this.n0.appendChild(this.kr[j])};iq.VaPo.prototype.Ml=function(){var Y=this.Tn,b=this.ug;while(b[Y].length==3)Y--;
var h=b[Y];this.T=JSON.parse(h[1]);return JSON.parse(h[0])};iq.VaPo.prototype.UN=function(b,h){if(b==null&&this.W4==null)return;
var G=this.ug,H=this.Tn,Y=H;while(Y>=0&&G[Y].length==3)Y--;if(h==null)this.Tn=H=H+1;if(b!=null)G[h?Y:H]=[JSON.stringify(b),JSON.stringify(this.T)];
else{var B=this.w7,j=this.W4,s=e.U(j.X()*4),q=e.U(j.X()*4);G[H]=[j,s,q];e.JE(this.lB,B,s,j);if(this.mB)e.z.Nm("norm",this.mB,B,this.lB,B,B,this.aua());
else this.en(this.lB);e.JE(this.lB,B,q,j);this.W4=null}while(G.length!=H+1)G.pop()};iq.VaPo.prototype.aua=function(){return this.wJ[this.S-1][2].l()/100};
iq.VaPo.prototype.b9=function(b,h){if(b==null)b=this.Ml();this.T=[];for(var Y=0;Y<b.length;Y++){var G=[];
this.T.push(G);if(h)for(var H=0;H<b[Y][1].length;H++)G.push(H)}};iq.VaPo.prototype.k=function(b,h,G,H,B,j){var s=JSON.parse(JSON.stringify(j[2].jN));
this.Tn=-1;this.b9(s);this.UN(s);var q=e.U(H.X()*4);e.JE(h,G,q,H);this.ab9=new io;this.w7=H;this.aaE=B;
this.lB=q;this.i9=B.slice(0);this._0(H);this.BL(!0);this.view.Gr();this.BJ(0)};iq.VaPo.prototype.a21=function(b){this.SS=b?b:this.a5z();
var h=e.N.Q0(this.SS.O2).m;if(b){var G=this.Ml(),H=e.jN.UG(G,G[0][1][0],this.gc()),B=H[1],j=Math.min(B.j/b.O2.j,B._/b.O2._)*.9;
if(j<1)e.N.h(h,new eq(j,0,0,j,0,0),h)}this.VB=new eR(h,!0,!0);this.GP=null;this.W4=this.en();this.BL(!0)};
iq.VaPo.prototype.a5z=function(b){var h=this.w7,G=e.N.lZ(this.GP),H=this.Ml(),B=e.U(G.X()*4);if(b==null)b=this.cD;
var j=H[b[0]][1],s=e.jN.$c(H[b[0]][1],b[1],G,this.gc());for(var q=0;q<s.length;q++){var Q=j[s[q]],a=e.jN.UG(H,Q,this.gc()),l=a[0],U=a[1],N=U.D4(G);
if(N.Zx())continue;N=e.N.lZ(N);var R=e.U(N.X()*4),S=e.t.Kt(l,U);S=e.t.Z$([1/h.j,0,0,0,1/h._,0,0,0],S);
S=e.t.Q6(S);e.t.drawImage(S,this.i9,h.j,h._,R,N);e.JE(R,N,B,G)}var g=this.wJ[1][0].l(),i=Math.round(g*1.4),y=G.clone();
y.Mx(-i,-i);var o=e.U(y.X());o.fill(255);var v=e.U(G.X());e.wX(o,y,v,G);var Z=e.U(G.X());e.Zt.QE(v,Z,G,g);
e.uA(B,v,3);e.ym.D4(v,Z,Z);e.aj(Z,B,3);return{VN:B,O2:G}};iq.VaPo.prototype._0=function(b,h){var G=this.w7;
e.JE(this.aaE,G,this.i9,G,b);e.z.Nm("norm",this.lB,G,this.i9,G,b,1);if(this.mB)e.z.Nm("norm",this.mB,G,this.i9,G,b,this.aua())};
iq.VaPo.prototype.en=function(b,h,G){var H=this.SS,B=H.O2,j=this.w7,s,q=h?e.N.Q0(h).m:this.VB.eF(),Q=e.N.MP(q),s=e.t.Kt(q,B),a=this.wJ[4],l=new eq;
if(a[0].l()){l.G=-1;l.Kv=2*B.x+B.j}if(a[1].l()){l.tW=-1;l.d0=2*B.y+B._}s=e.t.Z$(s,e.t.UE(l));function U(V,r){V.beginPath();
V.moveTo(r[0],r[1]);for(var Y=1;Y<4;Y++)V.lineTo(r[Y*2],r[Y*2+1]);V.closePath()}var N=this.Ml(),R=e.jN.$c(N[this.cD[0]][1],this.cD[1],Q,this.gc()),S=N[this.cD[0]][1],g=new io;
for(var i=0;i<R.length;i++){var y=S[R[i]],o=e.jN.UG(N,y,this.gc()),v=o[0],Z=o[1],W=Z.D4(Q);if(this.GP)W=W.D4(this.GP);
if(W.Zx())continue;var d=e.t.Kt(v,Z),$=e.N.Q0(W).m;e.t.h(d,$);var I=q.slice(0);e.t.h(d,I);var k=e.N.sm(I).D4(e.N.sm($)),_=k.j,D=k._;
if(k.Zx())continue;d=e.t.Z$(e.t.Z$(d,s),[B.j,0,B.x,0,B._,B.y,0,0]);var A=e.U(k.X()*4);e.t.drawImage(d,H.VN,B.j,B._,A,k,G);
if(W.X()!=Q.X()){var F=e.tM(_,D);F.save();F.clearRect(0,0,_,D);F.translate(-k.x,-k.y);U(F,$);F.clip();
U(F,I);F.fill();F.restore();var K=new Uint8Array(F.getImageData(0,0,_,D).data.buffer);for(var Y=3;Y<A.length;
Y+=4)if(K[Y]<A[Y])A[Y]=K[Y]}e.z.Nm("norm",A,k,b?b:this.i9,j,k,1);g=g.gJ(k)}return g};iq.VaPo.prototype.l=function(){return JSON.parse(JSON.stringify(this.Ml()))};
iq.VaPo.prototype.ahb=function(){if(this.S==5)this.BJ(0);var b=new io,h=this.ug;for(var Y=0;Y<=this.Tn;
Y++)if(h[Y].length==3)b=b.gJ(h[Y][0]);var G=e.U(b.X()*4);e.JE(this.lB,this.w7,G,b);return[G,b]};iq.VaPo.prototype.Vb=function(b,h){this.yg.Vb(b,h);
this.view.Vb(b-40,h-30)};iq.VaPo.prototype.a=function(){this.yg.a();for(var Y=0;Y<this.wJ.length;Y++)for(var b=0;
b<this.wJ[Y].length;b++)this.wJ[Y][b].a()};iq.VaPo.prototype.BL=function(b,h){var G=this.w7,H=[],B=[],j=[],s=this.Ml(),q=e.jN.eF(s,this.T),Q=0,a=null,i=null,y=null,o=null;
for(var Y=0;Y<q.length;Y++)j.push(q[Y][0][0],q[Y][0][1]);for(var Y=0;Y<s.length;Y++){var l=this.T[Y].length;
Q+=l;if(l!=0)a=[Y,this.T[Y][0]]}var U=this.wJ[0][0];U.d3(Q!=0);if(Q!=0)U.k(Math.round(s[a[0]][0]));if(Q==1){var N=s[a[0]][1]}var R=[];
if(this.GP&&s[this.cD[0]])R=e.jN.$c(s[this.cD[0]][1],this.cD[1],this.GP,this.gc());var S=[];if(this.VB){S=this.VB.awl();
S[4]=this.VB.V6()}var g=[];if(this.VB&&s[this.cD[0]])g=e.jN.$c(s[this.cD[0]][1],this.cD[1],e.N.sm(this.VB.eF()),this.gc());
for(var v=0;v<s.length;v++){var Z=s[v][0],N=s[v][1],W=this.T[v];for(var d=0;d<N.length;d++){var a=N[d],$=e.jN.UG(s,a,this.gc()),I=$[0],G=$[1],k=e.t.Kt(I,G);
if(G.Zx()){if(y==null)y={Gc:[],m:[]};e.N.concat(y,{Gc:["M","L","L","L","Z"],m:I});continue}var _=e.N.Q0(G),D=_.m,A=_.Gc,F=this.E8;
if(F&&G.G_(F)&&this.LF&&this.LF[0]==v){i=[F.x,F.y];e.t.h(k,i)}if(R.indexOf(d)!=-1){var K=this.GP.D4(G);
if(v==this.cD[0]&&!K.Zx()){if(o==null)o={m:[],Gc:[]};var V=e.N.Q0(K);e.t.h(k,V.m);e.N.concat(o,V)}}if(g.indexOf(d)!=-1&&v==this.cD[0]){var r=[];
for(var Y=0;Y<S.length;Y++)if(G.G_(S[Y]))r.push(S[Y].x,S[Y].y);if(r.length!=0){e.t.h(k,r);j=j.concat(r)}}if(W&&W.indexOf(d)!=-1){var c=Math.ceil(G.x/Z)*Z,x=G.x+G.j,X=Math.ceil(G.y/Z)*Z,M=G.y+G._;
for(var f=c;f<x;f+=Z){D.push(f,G.y,f,M);A.push("M","L")}for(var t=X;t<M;t+=Z){D.push(G.x,t,x,t);A.push("M","L")}}e.t.h(k,D);
H=H.concat(A);B=B.concat(D)}if(i&&this.S==3){var f=i[0],t=i[1],n=10/this.view.OC().D;B.push(f-n,t,f+n,t);
B.push(f,t-n,f,t+n);H.push("M","L","M","L")}}var I=this.rC,G=this.w7;if(I){var L=["M"];for(var Y=0;Y<I.length-2;
Y+=2)L.push("L");L.push("Z");var P=E.w8.d2(I,G.j/2,G._/2);if(isNaN(P)||P==Infinity||P==-Infinity||!eR.gB(I)){if(y==null)y={Gc:[],m:[]};
e.N.concat(y,{Gc:L,m:I})}else{B=B.concat(I);H=H.concat(L)}}var z={wY:{Gc:H,m:B},af8:y,a1T:o,fj:j,KL:null};
if(b){this.view.k([{jD:G,data:this.i9.buffer}],null,z,h)}else this.view.azp(z)};iq.blnc=function(){iq.call(this);
var b=this.Z;this.Rw=null;this.bx=new cP([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.bx.O(w.E.w,this.BL,this);
b.appendChild(this.bx.Z);this.Sy=[];for(var Y=0;Y<3;Y++){var h=new cm(["VAR0 - VAR1",eZ.ak3[Y],eZ.po[Y]],-100,100);
h.O(w.E.w,this.oH,this);this.Sy.push(h);b.appendChild(h.Z)}this.Ty=new iI([13,4]);this.Ty.O(w.E.w,this.oH,this);
b.appendChild(this.Ty.Z)};iq.blnc.prototype=new iq;iq.blnc.prototype.a=function(){this.bx.a();for(var Y=0;
Y<3;Y++)this.Sy[Y].a();this.Ty.a()};iq.blnc.prototype.k=function(b){this.Rw=JSON.parse(JSON.stringify(b));
this.BL()};iq.blnc.prototype.l=function(b){var h=["ShdL","MdtL","HghL"],G=this.Rw[h[this.bx.l()]].v;
for(var Y=0;Y<3;Y++)G[Y].v=this.Sy[Y].l();this.Rw.PrsL.v=this.Ty.l();return JSON.parse(JSON.stringify(this.Rw))};
iq.blnc.prototype.BL=function(b){var h=["ShdL","MdtL","HghL"],G=this.Rw[h[this.bx.l()]].v;for(var Y=0;
Y<3;Y++)this.Sy[Y].k(G[Y].v);this.Ty.k(this.Rw.PrsL.v)};iq.brit=function(){iq.call(this,"brit");this.wq.push(new cm([12,2],-150,150,""));
this.wq.push(new cm([12,3,0],-100,100,""));this.wq.push(new iI([12,3,1]));this.TR()};iq.brit.prototype=new iq;
iq.curv=function(){iq.call(this);this.value=null;this.jI=null;this.Cc=null;var b=this.Z;this.fx=new cP("Preset",["basic","advanced"]);
this.fx.O(w.E.w,this.ao_,this);b.appendChild(this.fx.Z);u.pP(b);this._R=new cP([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._R.O(w.E.w,this.wB,this);b.appendChild(this._R.Z);this.rf=new cP(null,["Spline","Sketch"]);this.rf.O(w.E.w,this.ao_,this);
b.appendChild(this.rf.Z);this.Lx=new cU;this.Lx.parent=this;this.Lx.O(w.E.w,this.Bo,this);b.appendChild(this.Lx.Z);
u.pP(b);this.bj=new hQ;this.bj.O(w.E.w,this.Io,this);b.appendChild(this.bj.Z);this.Lp=null;this.avM=0;
this.f4=0;u.pP(b);this.kZ=new jH("Sample from image",g2.Bq(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.kZ.O(w.E.w,this.GQ,this);this.kZ.Z.style.marginRight="0";b.appendChild(this.kZ.Z)};iq.curv.prototype=new iq;
iq.curv.prototype.rN=function(b,h){if(h==ec.GH||h==ec.u_){var G=b.pq,H=["Default"];for(var Y=0;Y<G.length;
Y++)H.push(G[Y].presetFileName.v);H.push("Custom");this.fx.mX(H,[1,G.length,1]);this.Cc=b}};iq.curv.prototype.Vb=function(b,h){this.bj.Vb(b,h)};
iq.curv.prototype.a=function(){this._R.a();this.bj.a()};iq.curv.prototype.Tg=function(){this.fx.k(this.Cc.pq.length+1)};
iq.curv.prototype.ao_=function(b){if(b.target==this.fx){var h=this.fx.l(),G=this.Cc.pq,H;if(h==0)H=gY.Az("curv");
else if(h-1<G.length)H=JSON.parse(JSON.stringify(G[h-1]));else return;this.k(H);this.oH();return}this.Tg();
var B=hc.CC(this.value,0),j=B.length==256?1:0,s=this.rf.l();if(j==s)return;var H=gY.Az("curv");if(s==1){var q=[];
for(var Y=0;Y<256;Y++)q.push(Y);hc.r8(H,0,q)}this.k(H);this.oH()};iq.curv.prototype.Io=function(){this.Tg();
hc.r8(this.value,this._R.l(),this.bj.l());this.oH()};iq.curv.prototype.wB=function(){var b=this._R.l(),h=hc.CC(this.value,b),G=h.length==256?1:0;
this.rf.k(G);if(this.jI)this.bj.qQ(this.jI[b],this.jI[4]*[1,.33,.33,.33][b],["#ccc","#fcc","#cfc","#ccf"][b]);
this.bj.k(h)};iq.curv.prototype.UJ=function(){return!0};iq.curv.prototype.Ay=function(b,h,G,H,B){var j=this.value;
this.value=gY.Az("curv");this.oH();var s=E.NK.Yj(b,B,1,null,!0),q=this.Lp=[s>>>16&255,s>>>8&255,s&255];
this.avM=B.y;var Q=this.kZ.l().indexOf(!0);if(Q==0){var a=(q[0]+q[1]+q[2])/3,l=this._R.l(),U=hc.CC(j,l),N=l==0?a:q[l-1],R=-1;
for(var Y=0;Y<U.length;Y++)if(U[Y].v.Hrzn.v==N)R=Y;if(R==-1){var S=JSON.parse(JSON.stringify(U[0]));
S.v.Hrzn.v=N;S.v.Vrtc.v=N;U.push(S);U.sort(function(g,i){return g.v.Hrzn.v-i.v.Hrzn.v});hc.r8(j,l,U);
this.f4=U.indexOf(S)}else this.f4=R}this.k(j);this.oH()};iq.curv.prototype.Jl=function(b,h,G,H,B){if(this.Lp==null)return;
if(this.kZ.l().indexOf(!0)==0){var j=this.value,s=this._R.l(),q=hc.CC(j,s),Q=q[this.f4];Q.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(Q.v.Hrzn.v+(this.avM-B.y))));
hc.r8(j,s,q);this.k(j);this.oH()}};iq.curv.prototype.dq=function(b,h,G,H,B){var j=this.value,s=this.Lp,q=(s[0]+s[1]+s[2])/3,Q=this.kZ.l().indexOf(!0)-1;
if(Q<=-1){}else for(var Y=0;Y<3;Y++){var a=hc.CC(j,1+Y);if(Q==0)a[0].v.Hrzn.v=s[Y];if(Q==1){var l=Math.log(s[Y]/255)/Math.log(q/255),U=Math.min(999,Math.max(10,Math.round(100*l)));
if(a.length==2)a.splice(1,0,JSON.parse(JSON.stringify(a[0])));a[1].v.Hrzn.v=127-Math.log(U/100)*127;
a[1].v.Vrtc.v=127}if(Q==2)a[a.length-1].v.Hrzn.v=s[Y];hc.r8(j,1+Y,a)}this.k(j);this.oH();this.Tg();this.Lp=null};
iq.curv.prototype.k=function(b){this.value=b;this.wB()};iq.curv.prototype.qQ=function(b){this.jI=b;this.wB()};
iq.curv.prototype.l=function(b){return JSON.parse(JSON.stringify(this.value))};iq.curv.prototype.Bo=function(){var b=this.Lx.l(),h=this.jI,G=this.value,H=e.afG(b,h);
for(var Y=0;Y<4;Y++){var B=H[Y][0],j=H[Y][1],s=H[Y][2],q=[e.S_.$O(B,0,!0),e.S_.$O(j,255,!0)];if(s!=null)q.splice(1,0,e.S_.$O(128,s,!0));
hc.r8(G,Y,q)}this.wB();this.oH()};iq.expA=function(){iq.call(this,"expA");this.wq.push(new cm([12,5],-20,20,null,2,!0));
this.wq.push(new cm([12,6],-.5,.5,null,2));this.wq.push(new cm([12,7],.01,9.99,null,2,!0));this.TR()};
iq.expA.prototype=new iq;iq.expA.prototype.Ht=function(b,h){h[0]=b.Exps.v;h[1]=b.Ofst?b.Ofst.v:0;h[2]=b.gammaCorrection?b.gammaCorrection.v:1};
iq.expA.prototype.mV=function(b,h){b.Exps={t:"doub",v:h[0]};b.Ofst={t:"doub",v:h[1]};b.gammaCorrection={t:"doub",v:h[2]}};
iq.grdm=function(){iq.call(this,"grdm");this.wq.push(new cD(!0,null,!0));this.wq.push(new iI([12,23,0]));
this.TR()};iq.grdm.prototype=new iq;iq.grdm.prototype.Ht=function(b,h){h[0]=b.Grad.v;h[1]=b.Rvrs?b.Rvrs.v:!1};
iq.grdm.prototype.mV=function(b,h){b.Grad.v=h[0];b.Rvrs={t:"bool",v:h[1]}};iq.grdm.prototype.rN=function(b,h){this.wq[0].zN(b.nU,b.W9);
if(h==ec.GH||h==ec.KI||h==ec.bX)this.wq[0].Cv(b.nC)};iq.selc=function(){iq.call(this);var b=this.Z;this.ko=[];
this.nZ=null;this.bx=new cP([12,82],eZ.GL.concat([[13,1,8],[13,1,13],[13,1,10]]));this.bx.O(w.E.w,this.hO,this);
b.appendChild(this.bx.Z);u.pP(b);for(var Y=0;Y<4;Y++){var h=new cm(eZ.ak3[Y],-100,100,"%");h.O(w.E.w,this.hO,this);
this.ko.push(h);b.appendChild(h.Z)}this.G6=new iI([13,3]);b.appendChild(this.G6.Z);this.G6.O(w.E.w,this.hO,this)};
iq.selc.prototype=new iq;iq.selc.prototype.a=function(){this.bx.a();this.G6.a();for(var Y=0;Y<4;Y++)this.ko[Y].a()};
iq.selc.prototype.k=function(b){this.nZ=JSON.parse(JSON.stringify(b));this.BL()};iq.selc.prototype.l=function(b){return JSON.parse(JSON.stringify(this.nZ))};
iq.selc.prototype.hO=function(b){if(b.target!=this.bx){var h=this.nZ,G=[];for(var Y=0;Y<4;Y++)G[Y]=this.ko[Y].l();
dK.r8(h,this.bx.l(),G);h.Mthd={t:"enum",v:{CrcM:this.G6.l()?"Absl":"Rltv"}}}this.BL();this.oH()};iq.selc.prototype.BL=function(){var b=this.nZ,h=dK.CC(b,this.bx.l());
for(var Y=0;Y<4;Y++)this.ko[Y].k(h[Y]);this.G6.k(b.Mthd?b.Mthd.v.CrcM=="Absl":!1)};iq.blwh=function(){iq.call(this,"blwh");
this.wq.push(new iI([12,11]));this.wq.push(new d8(!0));for(var Y=0;Y<6;Y++)this.wq.push(new cm(eZ.GL[Y],-200,300));
this.TR()};iq.blwh.prototype=new iq;iq.blwh.prototype.Ht=function(b,h){h[0]=b.useTint.v;h[1]=b.tintColor.v;
var G="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)h[2+Y]=b[G[Y]].v};iq.blwh.prototype.mV=function(b,h){b.useTint.v=h[0];
b.tintColor.v=h[1];var G="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)b[G[Y]].v=h[2+Y]};
iq.hue2=function(){iq.call(this);this.value=null;this.jV=null;this.HN=null;this.AP=[[0,0,0],[0,50,0]];
var b=this.Z;this.kZ=new jH(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.kZ.O(w.E.w,this.asx,this);this.kZ.O(w.E.w,this.GQ,this);b.appendChild(this.kZ.Z);var h=this.wq=[new cP([12,12],["Master"].concat(eZ.GL)),new cm([12,8],-180,180),new cm([12,9],-100,100),new cm([12,10],-100,100),new iI([12,11])];
for(var Y=0;Y<h.length;Y++){var G=h[Y];G.O(w.E.w,Y==0?this.wB:this.aEt,this);b.appendChild(G.Z)}this.bx=h[0];
this.LQ=h[1];this.mm=h[2];this.uV=h[3];this.aI=h[4];this.wj=new jH("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.wj.O(w.E.w,this.asx,this);this.wj.O(w.E.w,this.GQ,this);this.wj.Z.style.marginLeft="20px";b.appendChild(this.wj.Z);
this.wS=u.I("div");b.appendChild(this.wS);this.zQ=this.CS.bind(this);this._m=this.SW.bind(this);this.cj=u.I("canvas");
this.ZI=this.cj.getContext("2d");this.Nb=null;u.TB(this.cj);u.Xn(this.cj,282,18);b.appendChild(this.cj);
u.fm(this.cj,this.CK.bind(this))};iq.hue2.prototype=new iq;iq.hue2.prototype.Vb=function(b,h){u.Xn(this.cj,Math.round(b),18);
if(this.value)this.wB()};iq.hue2.prototype.asx=function(b){var h=b.target.l().indexOf(!0);if(h==-1)return;
if(b.target==this.kZ)this.wj.k([!1,!1,!1]);else this.kZ.k([!1,!1,!1])};iq.hue2.prototype.CK=function(b){if(this.bx.l()==0||this.aI.l())return;
var h=u.Kz(b,this.cj).x/(this.cj.width/u.V()),j=1e6;function G(U,N,R){return U<N&&N<R||R<U&&(U<N||N<R)}var H=this.V7(),B=-1;
for(var Y=0;Y<4;Y++){var s=Math.abs(h-(H[Y]+Y*1e-5));if(s<j){j=s;B=Y}}if(j>.025){B=-1;var q=H[0],Q=H[1],a=H[2],l=H[3];
if(G(q,h,Q))B=4;if(G(Q,h,a))B=5;if(G(a,h,l))B=6}if(B==-1)return;this.Nb=B;u.fe(document.body,this.zQ);
u.$f(document.body,this._m)};iq.hue2.prototype.CS=function(b){var h=u.Kz(b,this.cj).x/(this.cj.width/u.V()),G=this.V7(),H=this.Nb;
for(var Y=1;Y<4;Y++)if(G[Y]<G[Y-1]){G[Y]+=1}if(H<4){var B=1e6,j=0;for(var Y=-20;Y<20;Y++){var s=Math.abs(G[H]-(h+Y));
if(s<B){B=s;j=Y}}h+=j;G[H]=h;for(var Y=H+1;Y<4;Y++)if(G[Y]<G[Y-1]){G[Y]=G[Y-1]}for(var Y=H-1;Y>=0;Y--)if(G[Y]>G[Y+1]){G[Y]=G[Y+1]}}else{var q=h-(G[H-4]+G[H-3])/2;
if(q<-.5)q+=1;if(H==4){G[0]+=q;G[1]+=q;G[2]=Math.max(G[1],G[2]);G[3]=Math.max(G[1],G[3])}if(H==5)for(var Y=0;
Y<4;Y++)G[Y]+=q;if(H==6){G[2]+=q;G[3]+=q;G[0]=Math.min(G[0],G[2]);G[1]=Math.min(G[1],G[2])}}for(var Y=1;
Y<4;Y++)if(G[Y]<G[Y-1])throw"e";this.aE6(G);this.wB();this.oH()};iq.hue2.prototype.SW=function(b){u.CV(document.body,this.zQ);
u.iF(document.body,this._m)};iq.hue2.prototype.a=function(){for(var Y=0;Y<this.wq.length;Y++)this.wq[Y].a()};
iq.hue2.prototype.aEt=function(b){var h=this.value.Clrz.v=this.aI.l();if(h)this.bx.k(0);if(b&&b.target==this.aI){var G=h?1:0;
this.AP[1-G]=bV.CC(this.value,0);var H=this.AP[G];bV.r8(this.value,0,H);if(this.bx.l()==0){this.LQ.k(H[0]);
this.mm.k(H[1]);this.uV.k(H[2])}}var B=this.bx.l(),j=bV.CC(this.value,B),H=B==0?j:j.Sy;H[0]=this.LQ.l();
var s=this.mm.l();H[1]=h?Math.max(0,s):s;H[2]=this.uV.l();bV.r8(this.value,B,j);this.wB();this.oH()};
iq.hue2.prototype.wB=function(){var b=this.bx.l(),h=this.value.Clrz?this.value.Clrz.v:!1;this.aI.k(h);
this.bx.d3(!h);this.wj.d3(!h&&b!=0);var G=bV.CC(this.value,b),H=b==0?G:G.Sy;this.LQ.k(H[0]);this.mm.k(H[1]);
this.uV.k(H[2]);var B=this.cj.width,j=this.cj.height,s=this.ZI;s.clearRect(0,0,B,j);if(h||b==0){this.wS.innerHTML="";
return}var q=G.OR;this.wS.innerHTML=q[0]+"\xB0 / "+q[1]+"\xB0<span style=\"float:right\">"+q[2]+"\xB0 \\ "+q[3]+"\xB0</span>";
var Q=e.U(B*4);aN.awk(Q,1,B,-1,.5);var a=new ImageData(new Uint8ClampedArray(Q.buffer),B,1),l=Math.round(j/4);
for(var Y=0;Y<l;Y++)s.putImageData(a,0,Y);function U(y,o,v){s.fillStyle=v;var Z=l*2;if(y<=o)s.fillRect(y*B,Z,(o-y)*B,l);
else{s.fillRect(0,Z,o*B,l);s.fillRect(y*B,Z,(1-y)*B,l)}}var N=this.V7();U(N[0],N[1],"#888888");U(N[1],N[2],"#cccccc");
U(N[2],N[3],"#888888");s.fillStyle="#ffffff";s.lineWidth=1;s.beginPath();var R=l+.5,S=4*l+.5;for(var Y=0;
Y<4;Y++){var g=Math.floor(B*N[Y])+.5,i=(Y<2?-1:1)*l*(Y==1||Y==2?1:2);s.moveTo(g,R);s.lineTo(g,S);s.lineTo(g+i,S);
s.lineTo(g+i,l+l+.5);s.closePath()}s.fill();s.stroke()};iq.hue2.prototype.V7=function(){var b=this.bx.l(),h=bV.CC(this.value,b).OR;
for(var Y=0;Y<4;Y++)h[Y]=(1000.5+h[Y]/360)%1;return h};iq.hue2.prototype.aE6=function(b){var h=this.bx.l(),G=bV.CC(this.value,h);
for(var Y=0;Y<4;Y++)G.OR[Y]=Math.round(36e3+(b[Y]-.5)*360)%360;bV.r8(this.value,h,G)};iq.hue2.prototype.UJ=function(){return!0};
iq.hue2.prototype.aB7=function(){var b=this.kZ.l().indexOf(!0),h=this.wj.l().indexOf(!0);return b!=-1?b:h!=-1?h+1:-1};
iq.hue2.prototype.Ay=function(b,h,G,H,B){var j=this.aB7();if(j==-1)return;var s=this.value;this.value=gY.Az("hue2");
this.oH();var q=E.NK.Yj(b,B,1,null,!0);this.k(s);var Q=[q>>>16&255,q>>>8&255,q&255],a=e.j$(Q[0]/255,Q[1]/255,Q[2]/255);
if(j==0){this.bx.k(1+Math.round(a.CN*6)%6)}else{var l=this.V7(),U=.5+a.CN,N=1/12,R=l[1],S=l[2];if(S<R){S++;
if(U<R&&U+1-S<R-U)U++}var g=R<=U&&U<=S;if(j==1){R=U-N/2;S=U+N/2}else if(j==2&&!g){R=Math.min(U,R);S=Math.max(U,S)}else if(j==3&&g){if(U-R<S-U)R=U;
else S=U}l=[R-N,R,S,S+N];this.aE6(l)}this.oH();this.jV=B.x;this.HN=this.mm.l()};iq.hue2.prototype.Jl=function(b,h,G,H,B){var j=this.aB7();
if(j==-1)return;if(j==0){if(this.jV!=null){var s=B.x-this.jV;s=Math.max(-100,Math.min(100,this.HN+.5*s));
this.mm.k(s);this.aEt()}}};iq.hue2.prototype.dq=function(b,h,G,H,B){this.jV=null};iq.hue2.prototype.k=function(b){this.value=JSON.parse(JSON.stringify(b));
var h=this.value.Clrz?this.value.Clrz.v:!1;this.AP[h?1:0]=bV.CC(this.value,0);this.wB()};iq.hue2.prototype.l=function(b){return JSON.parse(JSON.stringify(this.value))};
iq.levl=function(){function b(){iq.call(this);this.value=null;this.jI=null;this.YS=[new cJ(0,0),new cJ(0,0),new cJ(0,0),new cJ(0,0),new cJ(0,0)];
this.VY=-1;this.zQ=this.CS.bind(this);this._m=this.SW.bind(this);var h=this.Z;this._R=new cP([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._R.O(w.E.w,this.wB,this);h.appendChild(this._R.Z);this.Lx=new cU;this.Lx.parent=this;this.Lx.O(w.E.w,this.Bo,this);
h.appendChild(this.Lx.Z);var G=u.I("div","");h.appendChild(G);var H=u.I("div","");h.appendChild(H);this.cj=u.I("canvas");
G.appendChild(this.cj);this.ZI=this.cj.getContext("2d");this.FJ=new cJ(256,120);this.cj.setAttribute("style","display:block");
u.TB(this.cj);u.fm(this.cj,this.CK.bind(this));this.ft=u.I("canvas","");H.appendChild(this.ft);this.Va=this.ft.getContext("2d");
this.F$=new cJ(this.FJ.x,40);this.ft.setAttribute("style","display:block");u.TB(this.ft);u.fm(this.ft,this.atk.bind(this));
var B=this.FH=[];for(var Y=0;Y<5;Y++){var j=new aG(null,null,3);B.push(j);j.O(w.E.w,this.ab7,this);(Y<2||Y==4?G:H).appendChild(j.Z)}G.appendChild(B[1].Z);
this.kZ=new jH("Sample from image",g2.Bq(["#000000","#888888","#ffffff"]),!0,null,!0);this.kZ.O(w.E.w,this.GQ,this);
h.appendChild(this.kZ.Z);this.Vb(250,100)}b.prototype=new iq;b.prototype.Bo=function(){var h=this.Lx.l(),G=this.jI,H=this.value,B=e.afG(h,G);
for(var Y=0;Y<4;Y++){var j=B[Y][0],s=B[Y][1],q=B[Y][2],Q=[e.S_.$O(j,0,!0),e.S_.$O(s,255,!0)];if(q!=null)Q.splice(1,0,e.S_.$O(128,q,!0));
var a=[~~j,~~s,0,255,q==null?100:~~(100+.75*100*(q-128)/128)];b3.r8(H,Y,a)}this.wB();this.oH()};b.prototype.Vb=function(h,G){h+=6;
this.FJ.x=this.F$.x=h;u.Xn(this.cj,h,this.FJ.y,this.ZI);u.Xn(this.ft,h,this.F$.y,this.Va);var H=this.FH;
H[3].Z.setAttribute("style","margin-left: "+(h-104)+"px");H[4].Z.setAttribute("style","margin: 0 "+(h/2-74)+"px");
if(this.value)this.wB()};b.prototype.a=function(){this._R.a()};b.prototype.ab7=function(h){var G=[];
for(var Y=0;Y<5;Y++){var H=255,B=1;if(Y==4){H=999;B=100}var j=parseFloat(this.FH[Y].l());G[Y]=Math.max(0,Math.min(H,j*B))}b3.r8(this.value,this._R.l(),G);
this.wB();this.oH()};b.prototype.wB=function(h){var G=this.FJ.x,H=this.FJ.y,B=this._R.l(),j=this.ZI;
j.clearRect(0,0,G,H);j.fillStyle="#cccccc";j.fillRect(8,8,G-16,H-16-8);if(this.jI){var s=this.jI[0].slice(0),S=0;
if(B==0){s.fill(0);var q=JSON.parse(JSON.stringify(this.value));b3.r8(q,0,[0,255,0,255,100]);var Q=eZ.q9("levl",q),a=[Q.vo,Q.$k,Q.Yn];
for(var l=0;l<3;l++){var U=this.jI[1+l],N=a[l];for(var Y=0;Y<256;Y++)s[N[Y]]+=U[Y]}}var R=B==0?s:this.jI[B];
for(var Y=0;Y<R.length;Y++)S+=R[Y];j.fillStyle="#333333";j.beginPath();j.moveTo(8,H-16);for(var Y=0;
Y<256;Y++){var g=55*R[Y]/S;j.lineTo(8+Y/256*(G-16),Math.max(8,H-16-H*g))}j.lineTo(G-8,H-16);j.closePath();
j.fill()}var i=b3.CC(this.value,B);for(var Y=0;Y<5;Y++)this.FH[Y].k(i[Y]/(Y==4?100:1));this.YS[0].ve(8+i[0]/255*(G-16),H-14);
this.YS[1].ve(8+i[1]/255*(G-16),H-14);var y=Math.log(i[4]/100)/Math.log(9.99);y=.5-y/2;this.YS[4].ve(this.YS[0].x+y*(this.YS[1].x-this.YS[0].x),H-14);
this.Kc(j,this.YS[0],"#000000");this.Kc(j,this.YS[1],"#ffffff");this.Kc(j,this.YS[4],"#777777");var G=this.F$.x,H=this.F$.y;
j=this.Va;j.clearRect(0,0,G,H);var o=j.createLinearGradient(0,0,G-16,0);o.addColorStop(0,"black");o.addColorStop(1,"white");
j.fillStyle=o;j.fillRect(8,8,G-16,16);this.YS[2].ve(8+i[2]/255*(G-16),H-14);this.YS[3].ve(8+i[3]/255*(G-16),H-14);
this.Kc(j,this.YS[2],"#000000");this.Kc(j,this.YS[3],"#ffffff")};b.prototype.Kc=function(h,G,H){h.fillStyle=H;
h.fillRect(G.x-5,G.y,10,10)};b.prototype.CK=function(h){var G=u.Kz(h,this.cj),H=this.avU([0,1,4],G);
if(H!=-1)this.VY=H;this.a2$()};b.prototype.atk=function(h){var G=u.Kz(h,this.ft),H=this.avU([2,3],G);
if(H!=-1)this.VY=H;this.a2$()};b.prototype.avU=function(h,G){var H=-1,B=1e9;for(var Y=0;Y<h.length;Y++){var j=Math.abs(this.YS[h[Y]].x-G.x);
if(j<B){B=j;H=h[Y]}}return B<16?H:-1};b.prototype.a2$=function(h){if(this.VY==-1)return;u.fe(document.body,this.zQ);
u.$f(document.body,this._m)};b.prototype.CS=function(h){var G=b3.CC(this.value,this._R.l()),H=u.Kz(h,this.VY==2&&this.VY==3?this.ft:this.cj),B=255*(H.x-8)/(this.FJ.x-16);
B=Math.max(0,Math.min(255,B));if(this.VY==0)B=Math.min(B,G[1]-2);if(this.VY==1)B=Math.max(B,G[0]+2);
if(this.VY!=4)G[this.VY]=Math.round(B);else{var j=(B-G[0])/(G[1]-G[0]);j=1-2*j;j=Math.pow(9.99,j);G[4]=Math.min(999,Math.max(10,Math.round(j*100)))}b3.r8(this.value,this._R.l(),G);
this.wB();this.oH()};b.prototype.SW=function(h){u.CV(document.body,this.zQ);u.iF(document.body,this._m);
this.VY=-1};b.prototype.UJ=function(){return!0};b.prototype.dq=function(h,G,H,B,j){var s=this.value,q=this.kZ.l().indexOf(!0);
if(q==-1)return;this.value=gY.Az("levl");this.oH();var Q=E.NK.Yj(h,j,1,null,!0),a=[Q>>>16&255,Q>>>8&255,Q&255];
for(var Y=0;Y<3;Y++){var l=b3.CC(s,1+Y);if(q==0)l[0]=a[Y];if(q==1){var U=Math.log(a[Y]/255)/Math.log((a[0]+a[1]+a[2])*.333/255);
l[4]=Math.min(999,Math.max(10,Math.round(100*U)))}if(q==2)l[1]=a[Y];b3.r8(s,1+Y,l)}this.k(s);this.oH()};
b.prototype.k=function(h){this.value=h;this.wB()};b.prototype.qQ=function(h){this.jI=h;this.wB()};b.prototype.l=function(h){return JSON.parse(JSON.stringify(this.value))};
return b}();iq.phfl=function(){iq.call(this,"phfl");this.wq.push(new d8);this.wq.push(new cm([12,74],0,100,"%"));
this.wq.push(new iI([13,4]));this.TR()};iq.phfl.prototype=new iq;iq.phfl.prototype.Ht=function(b,h){h[0]=b.Clr.v;
h[1]=b.Dnst.v;h[2]=b.PrsL.v};iq.phfl.prototype.mV=function(b,h){var G=e.F.an(h[0]),H=b.Clr.v,B=e.ec(G.$,G.B,G.J);
H.Lmnc.v=B.RY;H.A.v=B.G;H.B.v=B.J;b.Dnst.v=h[1];b.PrsL.v=h[2]};iq.vibA=function(){iq.call(this,"vibA");
this.wq.push(new cm([12,13],-100,100,null));this.wq.push(new cm([12,9],-100,100,null));this.TR()};iq.vibA.prototype=new iq;
iq.vibA.prototype.Ht=function(b,h){h[0]=b.vibrance?b.vibrance.v:0;h[1]=b.Strt?b.Strt.v:0};iq.vibA.prototype.mV=function(b,h){b.vibrance.v=h[0];
b.Strt.v=h[1]};iq.thrs=function(){iq.call(this,"thrs");this.wq.push(new cm([4,13],1,255,null));this.TR()};
iq.thrs.prototype=new iq;iq.thrs.prototype.Ht=function(b,h){h[0]=b.Lvl.v};iq.thrs.prototype.mV=function(b,h){b.Lvl.v=h[0]};
iq.mixr=function(){iq.call(this);var b=this.Z;this.ko=[];this.nZ=null;this.bx=new cP([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.amz=!1;this.bx.O(w.E.w,this.hO,this);b.appendChild(this.bx.Z);u.pP(b);this.Dx=new iI([12,60]);b.appendChild(this.Dx.Z);
this.Dx.O(w.E.w,this.hO,this);for(var Y=0;Y<4;Y++){var h=new cm([[13,1,1],[13,1,4],[13,1,5],[13,2]][Y],-200,200,"%");
h.O(w.E.w,this.hO,this);this.ko.push(h);b.appendChild(h.Z)}};iq.mixr.prototype=new iq;iq.mixr.prototype.a=function(){this.bx.a();
this.Dx.a();for(var Y=0;Y<4;Y++)this.ko[Y].a()};iq.mixr.prototype.k=function(b){this.nZ=JSON.parse(JSON.stringify(b));
this.BL()};iq.mixr.prototype.l=function(b){return JSON.parse(JSON.stringify(this.nZ))};iq.mixr.prototype.hO=function(b){if(b.target!=this.bx){var h=eZ.tu(this.nZ);
if(b.target==this.Dx){h.Dx=this.Dx.l();if(h.Dx)h.P=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else h.P=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var G=(h.Dx?0:this.bx.l())*5,Y=this.ko.indexOf(b.target);
h.P[G+(Y<3?Y:4)]=b.target.l()}this.nZ=eZ.Bc(h)}this.BL();this.oH()};iq.mixr.prototype.BL=function(){var b=eZ.tu(this.nZ);
if(b.Dx!=this.amz)this.bx.mX(b.Dx?[[13,1,7]]:eZ.po);this.amz=b.Dx;this.Dx.k(b.Dx);var h=(b.Dx?0:this.bx.l())*5;
for(var Y=0;Y<4;Y++)this.ko[Y].k(b.P[h+(Y<3?Y:4)])};iq.post=function(){iq.call(this,"post");this.wq.push(new cm([4,1],2,255,null));
this.TR()};iq.post.prototype=new iq;iq.post.prototype.Ht=function(b,h){h[0]=b.Lvls.v};iq.post.prototype.mV=function(b,h){b.Lvls.v=h[0]};
iq.clrL=function(){iq.call(this,"clrL");this.wq.push(new dl("LUTs"));this.TR()};iq.clrL.prototype=new iq;
iq.clrL.prototype.Ht=function(b,h){h[0]=b};iq.clrL.prototype.mV=function(b,h){var G=h[0];for(var H in G)b[H]=G[H]};
iq.clrL.prototype.rN=function(b,h){if(h==ec.GH||h==ec.WS)this.wq[0].Cv(b.azM)};iq.rplc=function(){iq.call(this,"rplc");
this.wq.push(new cm([12,92],0,200));this.wq.push(new d8);this.wq.push(new cm([12,8],-180,180));this.wq.push(new cm([12,9],-100,100));
this.wq.push(new cm([12,10],-100,100));this.TR()};iq.rplc.prototype=new iq;iq.rplc.prototype.Ht=function(b,h){h[0]=b.Fzns.v;
h[1]=b.Mxm.v;h[2]=b.H.v;h[3]=b.Strt.v;h[4]=b.Lght.v};iq.rplc.prototype.mV=function(b,h){function G(B,j){j.Lmnc.v=B.RY;
j.A.v=B.G;j.B.v=B.J}b.Fzns.v=h[0];b.H.v=h[2];b.Strt.v=h[3];b.Lght.v=h[4];var H=e.F.an(h[1]),B=e.ec(H.$,H.B,H.J);
G(B,b.Mnm.v);G(B,b.Mxm.v)};iq.fade=function(){iq.call(this,"fade");this.wq.push(new cm([12,0],0,100,"%"));
this.wq.push(new cP([12,19,0],aq.US,aq.B2));this.TR()};iq.fade.prototype=new iq;iq.fade.prototype.Ht=function(b,h){h[0]=b.Opct.v.val;
h[1]=aq.$$.indexOf(b.Md.v.BlnM)};iq.fade.prototype.mV=function(b,h){b.Opct.v.val=h[0];b.Md.v.BlnM=aq.$$[h[1]]};
iq.aply=function(){var b=aq.$$.concat(["Add","Sbtr"]);b.splice(21,1);var h=aq.US.concat([[15,10,28],[15,10,21]]);
h.splice(21,1);var G=aq.B2.slice(0);G[4]--;function H(){iq.call(this,"aply");this.wq.push(new cP([0,3],[]));
this.wq.push(new cP([12,4],["RGB"].concat(eZ.po).concat(["Transparency"])));this.wq.push(new iI([4,11]));
this.wq.push(new cP([12,19,0],h,G));this.wq.push(new cm([12,0],0,100,"%"));this.wq.push(new bP([12,38],1,2,null,2));
this.wq.push(new bP([12,6],-255,255));this.wq.push(new iI([13,5]));this.TR([2]);this.pN=null}H.prototype=new iq;
H.prototype.Ht=function(B,j,s){if(s){var q=s[2].R,Q=this.pN=[];for(var Y=0;Y<q.length;Y++){var a=q[Y].getName();
Q.push(a.length<30?a:a.slice(0,27)+"...")}Q.reverse();this.wq[0].mX([[5,7]].concat(Q),[1,Q.length])}else var Q=this.pN;
B=B.With.v;var l=B.T.v;j[0]=l[1].t=="name"?1+Q.indexOf(l[1].v.val):0;j[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(l[0].v.enum);
j[2]=B.Invr.v;var U=B.Clcl.v.Clcn;j[3]=b.indexOf(U);j[4]=B.Opct.v.val;j[5]=B.Scl.v;j[6]=B.Ofst.v;j[7]=B.PrsT.v};
H.prototype.mV=function(B,j){B=B.With.v;var s=B.T.v;if(j[0]==0)s[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else s[1]={t:"name",v:{classID:"Lyr",val:this.pN[j[0]-1]}};s[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][j[1]];
B.Invr.v=j[2];var q=B.Clcl.v.Clcn=b[j[3]];B.Opct.v.val=j[4];B.Scl.v=j[5];B.Ofst.v=j[6];B.PrsT.v=j[7];
var Q=q=="Add"||q=="Sbtr";this.wq[5].d3(Q);this.wq[6].d3(Q)};return H}();iq.matc=function(){var b,h,G=0;
function H(){iq.call(this,"matc");this.wq.push(new cm("Luminance",1,200));this.wq.push(new cm("Color Intensity",1,200));
this.wq.push(new cm([2,11],0,100,"%"));this.wq.push(new iI("Neutralize"));this.wq.push(new cP([12,70],[]));
this.wq.push(new cP([0,3],[]));this.TR([2])}function B(j,s){j.wq[5].mX([[5,7]].concat(s),[1,s.length])}H.prototype=new iq;
H.prototype.Ht=function(j,s,q){G=0;s[0]=j.Lght.v;s[1]=j.ClrR.v;s[2]=j.Fade.v;s[3]=j.neutralizeColor?j.neutralizeColor.v:!1;
s[4]=s[5]=0;var Q=j.Srce;if(Q)Q=Q.v;if(q){b=[];h=[];var a=q[2],l=q[3];for(var Y=0;Y<l.length;Y++){var U=l[Y];
b.push(U.name);var N=U.R,R=[];h.push(R);for(var S=0;S<N.length;S++)R.push(N[S].getName());R.reverse()}this.wq[4].mX([[13,1,0]].concat(b),[1,b.length]);
var g=l.indexOf(a);if(Q)g=b.indexOf(Q[1].v.val);B(this,h[g])}if(Q){var i=b.indexOf(Q[1].v.val);s[3]=G=1+i;
if(Q[0].t=="name")s[4]=1+h[i].indexOf(Q[0].v.val)}};H.prototype.mV=function(j,s){j.Lght.v=s[0];j.ClrR.v=s[1];
j.Fade.v=s[2];j.neutralizeColor.v=s[3];if(s[4]==0){j.noReference={t:"bool",v:!0};delete j.Srce}else{if(s[4]!=G){G=s[4];
B(this,h[s[4]-1])}delete j.noReference;var q={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},Q=h[s[4]-1];
if(s[5]!=0)q={t:"name",v:{classID:"Lyr",val:Q[s[5]-1]}};j.Srce={t:"obj ",v:[q,{t:"name",v:{classID:"Dcmn",val:b[s[4]-1]}}]}}};
return H}();function iD(b,h){dQ.call(this);if(b==null)return;this.id=h;this.s1=b;this.PO=null;this.Z=u.I("div","window "+h);
this.a8N=null;this.r0=u.I("div","whead");this.aBR=u.I("span","wname");this.r0.appendChild(this.aBR);
this.atl=!1;this.Z.appendChild(this.r0);this.IX=this.akf.bind(this);this.Bg=this.akR.bind(this);this.Hb=this.a2L.bind(this);
u.TB(this.r0);u.fm(this.r0,this.IX);this.avq=u.I("span","cross gsicon");this.r0.appendChild(this.avq);
iD.prototype.a.call(this);u.$f(this.avq,this.ao$.bind(this));this.body=u.I("div","body");this.Z.appendChild(this.body)}iD.prototype=new dQ;
iD.prototype.W1=function(){return!1};iD.prototype.UJ=function(){return!1};iD.prototype.a=function(){if(this.s1==null)return;
this.aBR.textContent=bp.get(this.s1)};iD.prototype.Ay=function(b,h,G,H,B){};iD.prototype.Pf=function(b,h,G,H,B){};
iD.prototype.Jl=function(b,h,G,H,B){};iD.prototype.dq=function(b,h,G,H,B){};iD.prototype.Of=function(b,h,G,H,B){};
iD.prototype.Z1=function(b,h,G,H){if(H.W(ap.pr)&&this.Ip)this.Ip();if(H.W(ap.zb)){var B=new hb(w.E.r);
B.G2=!0;E.Qf.auo(H,B);if(B.data)h.Q(B)}};iD.prototype.BB=function(b){return!1};iD.prototype._q=function(b,h){return!0};
iD.prototype.Fd=function(b,h,G,H){};iD.prototype.rN=function(b,h){};iD.prototype.Oa=function(b,h){return null};
iD.prototype.a8I=function(b){return this.a8N};iD.prototype.Vb=function(){};iD.prototype.close=function(){this.Q(new hb(w.E.sM))};
iD.prototype.akf=function(b){this.PO=u.Kz(b,this.Z);u.fe(window,this.Bg);u.$f(window,this.Hb)};iD.prototype.akR=function(b){var h=this.Z.parentNode,G=u.Kz(b,h),H=Math.round(G.x-this.PO.x),B=h.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(G.y-this.PO.y)));
this.a8N=new cJ(H,B);this.Z.style.left=H+"px";this.Z.style.top=B+"px"};iD.prototype.a2L=function(b){u.CV(window,this.Bg);
u.iF(window,this.Hb)};iD.prototype.ao$=function(b){if(this.atl){this.Ip();return}this.Q(new hb("closebtn"));
this.close()};function fh(){iD.call(this,"About Photopea","aboutpp");var b=u.I("div","flexrow");this.body.appendChild(b);
var h=this.a88=u.I("img");b.appendChild(h);this.body.setAttribute("style","margin:0; padding:0");var G=this.kr=u.I("div");
G.innerHTML=fh.Er;b.appendChild(G);var H=this.r3=u.I("span");H.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(H)}fh.prototype=new iD;fh.prototype.Oa=function(b,h){return new cJ(0,0)};fh.prototype.Vb=function(b,h){var G=this.a88,H=this.kr,B=this.r3,j=(b+h-42-42)/110;
j=Math.sqrt((b-42)*(h-42))/50;G.setAttribute("style","width:"+b/2+"px; height:"+h+"px; display:block; object-fit:cover;");
H.setAttribute("style","width:"+(b/2-42)+"px; height:"+(h-42)+"px; padding:20px; font-size:"+j+"px;");
B.setAttribute("style","position:absolute;  bottom:10px; right:"+(b/2+10)+"px")};fh.prototype.a=function(){};
fh.prototype.Fd=function(b,h,G,H){this.a88.setAttribute("src","promo/ivan_pp.webp")};fh.Er="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function kb(){iD.call(this,[0,13,0],"account");this.ZH=u.I("div","form scrollable");this.body.appendChild(this.ZH);
this.body.style.padding="0";this.YR=[new kb.bN,new kb.lo("::"+fH.J5("privacy.html")),new kb.lo(kb.aes)];
for(var Y=0;Y<this.YR.length;Y++)this.YR[Y].parent=this;this.O("showpage",this.aho,this)}kb.prototype=new iD;
kb.prototype._q=function(b,h){var G=navigator.onLine;if(!G)alert("Go online first");return G};kb.prototype.Vb=function(b,h){this.ZH.setAttribute("style","width:"+Math.min(b-40,740)+"px;  height:"+(h-38)+"px;  padding:1.5em;");
this.YR[0].Vb(b,h)};kb.prototype.Oa=function(b,h){return new cJ(Math.max(0,Math.min(150,(b-740)/2)),Math.max(0,Math.min(100,(h-500)/2)))};
kb.prototype.aho=function(b){u._I(this.ZH);this.ZH.scrollTop=0;this.ZH.appendChild(this.YR[b.data.V9].Z)};
kb.prototype.a=function(){iD.prototype.a.call(this);for(var Y=0;Y<this.YR.length;Y++)this.YR[Y].a()};
kb.prototype.Fd=function(b,h,G){if(!navigator.onLine)return;u._I(this.ZH);var H=this.YR[0];this.ZH.appendChild(H.Z);
H.Fd();this.a()};kb.prototype.rN=function(b,h){this.Fd(null,null,null)};kb.bN=function(){dQ.call(this);
this.Z=u.I("div");var b=this.Z,q,Q,l="font-size:1.25em;",U="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",S="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",g="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",o=12;
this.g$=u.I("div");b.appendChild(this.g$);this.tr=new gX([0,11],!1,null,!0);this.tr.Z.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.tr.O("click",this.nF,this);b.appendChild(this.tr.Z);this.GJ=new gX([0,13,1],!1,null,!0);this.GJ.O("click",this.axn,this);
b.appendChild(this.GJ.Z);this.wH=new gX("Business Terms",!1,null,!0);this.wH.O("click",this.aiC,this);
b.appendChild(this.wH.Z);var h=u.I("div");h.style.margin="20px 0";b.appendChild(h);var G=["Account Types","Go Premium","Team Settings","Distributors"],H=this.IT=[],B=this.ak6=[],j=this.q5=u.I("div");
b.appendChild(j);for(var Y=0;Y<G.length;Y++){var s=u.I("span");s.textContent=G[Y];h.appendChild(s);H.push(s);
s.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
s.addEventListener("click",this.Uq.bind(this));B.push(u.I("div"))}this.Uq(0);var a=this.ar_="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
b=B[0];var Q=u.I("table"),N="style=\" "+U+l+" padding-bottom:20px;\"";Q.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+g+">\t\t\t\t\t<div "+N+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+g+">\t\t\t\t\t<div "+N+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+S+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+S+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
b.appendChild(Q);var s=new gX("Go Premium");s.Z.setAttribute("style",a+"padding:10px 0;");s.O("click",function(W){this.Uq(1)},this);
Q.children[0].children[1].children[1].appendChild(s.Z);this.eX=u.I("div");b.appendChild(this.eX);b=B[1];
var i=this.aEi=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.JD=[];for(var Y=0;Y<i.length;Y++)this.JD.push(new gX("Buy: $"+i[Y][0],!1,null,!0));for(var Y=0;
Y<this.JD.length;Y++){this.JD[Y].O("click",this.a9P,this)}this.MK=new gX("...",!0);this.MK.Z.setAttribute("style",a);
b.appendChild(this.MK.Z);Q=this.aj0(4,["Single user",this.JD[0],this.JD[1],this.JD[2],"Team of 5",this.JD[3],this.JD[4],this.JD[5],"Team of 20",this.JD[6],this.JD[7],this.JD[8],"Team of 50",this.JD[9],this.JD[10],this.JD[11]]);
b.appendChild(Q);var y=u.I("div");b.appendChild(y);y.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.atm=new iI("I accept",!0,"");b.appendChild(this.atm.Z);this.TE=new gX([0,13,1],!1,null,!0);this.TE.O("click",this.axn,this);
b.appendChild(this.TE.Z);this.aG=new gX("I have a key",!1,null,!0);this.aG.Z.setAttribute("style",a+" float:right; width:inherit;");
this.aG.O("click",this.a9P,this);b.appendChild(this.aG.Z);b=B[2];this.BC=new jW;this.BC.parent=this;
this.BC.O(w.E.w,this.Vg,this);b.appendChild(this.BC.Z);b=B[3];this.sx=new gX("...",!0);this.sx.Z.setAttribute("style",a);
b.appendChild(this.sx.Z);Q=this.aj0(3,["1000 views/mo",this.JD[o++],this.JD[o++],this.JD[o++],"5000 views/mo",this.JD[o++],this.JD[o++],this.JD[o++],"20000 views/mo",this.JD[o++],this.JD[o++],this.JD[o++]]);
b.appendChild(Q);var v=u.I("p");v.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
b.appendChild(v);this.iw=new aG("Domain name (e.g. domain.com)",null,14);b.appendChild(this.iw.Z);var Z=new gX("Save Domain Settings",!1,null,!0);
Z.zr();b.appendChild(Z.Z);Z.O("click",this.aoZ,this)};kb.bN.prototype=new dQ;kb.bN.prototype.Uq=function(b){var h=typeof b=="number"?b:this.IT.indexOf(b.target);
for(var Y=0;Y<4;Y++)this.IT[Y].style.opacity=.6;this.IT[h].style.opacity=1;u._I(this.q5);this.q5.appendChild(this.ak6[h])};
kb.bN.prototype.Vb=function(b,h){var G=b<600?"d":" days",H=["30 days","90 days","365 days"];if(b<600)H=["30d","90d","365d"];
var B=this.aEi;for(var Y=0;Y<B.length;Y++){this.JD[Y].Sm("<span>"+H[Y%3]+": <sup>$</sup><big><b>"+B[Y][0]+"</b></big>"+"</span>");
this.JD[Y].Z.setAttribute("style",this.ar_)}};kb.bN.prototype.axn=function(b){var h=new hb("showpage",!0);
h.data={V9:1};this.Q(h)};kb.bN.prototype.aiC=function(b){var h=new hb("showpage",!0);h.data={V9:2};this.Q(h)};
kb.bN.prototype.a=function(){this.tr.Sm(fH.Ze()?bp.get([0,11]):bp.get([0,10]));this.TE.a();this.GJ.a();
this.wH.a()};kb.bN.prototype.aEs=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.CL,link:"https://www.photopea.com/api/accounts#"+(b.target==this.axr?"teams":"distributors")};
this.Q(h)};kb.bN.prototype.aby=function(b){var h=b.currentTarget==this.ayT;this.ayT.k(h);this.auG.k(!h)};
kb.bN.prototype.arE=function(b){var h=this.ayT.l(),G=this.a0i.l().trim().toLowerCase(),H=this.aoN.value.trim().toLowerCase();
if(G.length>60){alert("Too long email address");return}if(H.length>600){alert("Too many team members");
return}H=H.split(",").join(" ").trim();H=H.replace(/\s+/g," ");if(H=="")H=[];else H=H.split(" ");var B=fH.pU();
if(B==null)B={};if(B.acc==null)B.acc={};B.acc.team={jin:h,ldr:G,mmb:H};fH._f(B,this.Vg.bind(this));alert("Saved!");
this.Fd()};kb.bN.prototype.aoZ=function(b){var h=this.iw.l().trim();if(!fH.Ze()){alert("You have to log in first.");
return}if(fH.Em()==0){alert("Order a distributor account first.");return}var G=fH.pU();if(G==null)G={};
if(G.acc==null)G.acc={};if(h=="")delete G.acc.dname;else G.acc.dname=h;fH._f(G,this.Vg.bind(this));alert("Saved!");
this.Fd()};kb.bN.prototype.aEa=function(b){var h=fH.$W(),Y=this.gb,G=fH.pU();if(G==null)G={};if(G.acc==null)G.acc={};
G.acc.bto=b;fH._f(G,function(){});var H=kb.apj(b.split("\n"),h.pmnts[Y]);dJ.save(H,"photopea_invoice.pdf")};
kb.bN.prototype.ai_=function(b){var h=fH.$W(),G=fH.pU(),H=G.acc?G.acc.bto:null;if(H==null)H=h.name+"\n"+h.email;
var Y=-1,B=b.target.Z.parentNode;while((B=B.previousSibling)!=null)Y++;this.gb=Y;var j=new hb(w.E.b,!0);
j.data={q:w.p.C9,ut:"billto",Wy:H,QF:this.aEa.bind(this)};this.Q(j)};kb.bN.prototype.Fd=function(){this.g$.innerHTML="";
u._I(this.eX);if(fH.Ze()){var b=fH.$W(),h=b.pmnts;if(b==null)return;this.g$.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+b.name+"</span> "+b.email+" <br/>";
if(h){var G="<h2>Payments</h2>";for(var Y=0;Y<h.length;Y++){var H=h[Y],B=new Date(H[0]*1e3);G+="<div style=\"font-size:1.2em\">"+B.getDate()+". "+(B.getMonth()+1)+". "+B.getFullYear()+" - "+kb.aiJ(H)+"</div>"}this.eX.innerHTML=G;
for(var Y=0;Y<h.length;Y++){var j=new gX("Get Invoice",!1,null,!0);j.Z.setAttribute("style","float:right");
j.O("click",this.ai_,this);this.eX.children[Y+1].appendChild(j.Z)}}}else{}var s=fH.Ze()&&fH.RW();this.MK.Z.style.display=s?"block":"none";
if(s){var q,Q,a=s;if(a[0]==0){q=fH.S8(a[1])-Date.now()*(1/1e3);Q=a[1][2]==1?"Single User":"Team Of "+a[1][2]}else{q=a[1][1]-Date.now()*(1/1e3);
Q="Member of \""+a[1][0]+"\""}this.MK.Sm("Premium active for "+Math.round(q/(60*60*24))+" more days! ("+Q+")")}var l=fH.Ze()&&fH.Em()*1e3>Date.now();
this.sx.Z.style.display=l?"block":"none";if(l){var q=fH.Em()-Date.now()/1e3;this.sx.Sm("Distributor active for "+Math.round(q/(60*60*24))+" more days!")}var U=fH.pU();
this.BC.Fd();if(U&&U.acc&&U.acc.dname)this.iw.k(U.acc.dname);else this.iw.k("")};kb.bN.prototype.aj0=function(b,h){var G=u.I("table");
if(!0){var H="<table><tr>";for(var Y=0;Y<b;Y++)H+="<th>"+h[Y*4]+"</th>";H+="</tr></table>";G.innerHTML=H;
for(var Y=0;Y<3;Y++){var B=u.I("tr"),j;G.appendChild(B);for(var s=0;s<b;s++){j=u.I("td");j.style.width=Math.round(100/b)+"%";
B.appendChild(j);j.appendChild(h[s*4+1+Y].Z)}}}return G};kb.bN.prototype.a9P=function(b){var h=this.JD.indexOf(b.currentTarget),H=30,B=1;
if(!fH.Ze()){this.nF();return}if(this.atm.l()==!1&&h<12){alert("You must accept Terms of Service");return}var G=fH.Ze()&&fH.RW();
if(h!=-1){var j=this.aEi[h];H=j[1];B=j[2]}if(G&&B<1e3){alert("You already have premium.");return}console.log(j,H,B);
if(h==-1){var s=prompt("Please enter your key");if(s!=null){fH.aip(s,this.Vg.bind(this));this.F_()}return}if(H==30&&B==1){var q=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!q)return}fH.order(H,B,this.Vg.bind(this));this.F_()};kb.bN.prototype.Vg=function(b){this.Fd();this.F_()};
kb.bN.prototype.nF=function(b){if(fH.Ze()){fH.a7I();this.F_();this.Fd(null,null,null)}else fH.nF(this.a5S.bind(this))};
kb.bN.prototype.a5S=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.a0X};this.Q(b)};kb.bN.prototype.F_=function(){var b=new hb(w.E.b,!0);
b.data={q:w.p.aDo};this.Q(b)};kb.lo=function(b){dQ.call(this);this.Z=u.I("div");var h=this.Z,G=this.aBg=new gX([0,13,2],!1,null,!0),H;
G.O("click",this.ayi,this);h.appendChild(G.Z);if(b.startsWith("::")){H=u.I("iframe");H.setAttribute("style","width:100%;height:1700px; background-color:white;");
H.setAttribute("src",b.slice(2))}else{H=u.I("div");H.innerHTML=b}h.appendChild(H)};kb.lo.prototype=new dQ;
kb.lo.prototype.ayi=function(b){var h=new hb("showpage",!0);h.data={V9:0};this.Q(h)};kb.lo.prototype.a=function(){this.aBg.a()};
kb.aes="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
kb.aiJ=function(b){var h=b[1]+" days, ";if(b[2]<1e3)return"Photopea Premium ("+h+b[2]+" user"+(b[2]==1?"":"s")+")";
else return"Photopea Distributor ("+h+b[2]+" views/month)"};kb.apj=function(b,h){b=["Bill To:"].concat(b);
var G=new ToPDF,H=595,B=842,j=40,s=18,q=12,Q=500,a=100,l=400,g=0;function U(_,D,A,F,K){R.font.Tf=K?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,D,A];R.font.Tfs=F?F:q;G.PutText(R,_,0)}function N(_,D,A,F){for(var Y=0;Y<_.length;Y++){U(_[Y],D,A-Y*F,null,Y==0)}}var R=UDOC.getState();
G.StartPage(0,0,H,B);U("INVOICE",H-j-140,B-j-30,30,!0);N(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],j,B-j-40,s);
var S=new Date(h[0]*1e3);N(["Date: "+S.getDate()+". "+(S.getMonth()+1)+". "+S.getFullYear(),"Transaction ID: "+h[4]],H-j-140,B-j-40-s*2,s);
var i=b.join("");for(var Y=0;Y<i.length;Y++)g=Math.max(g,i.charCodeAt(Y));if(g>256){var y=4,o=u.I("canvas"),v=o.getContext("2d"),Z=0;
v.font=q*y+"px sans-serif";for(var Y=0;Y<b.length;Y++)Z=Math.max(Z,v.measureText(b[Y]).width);var W=Math.round(Z)+20,d=b.length*y*s+20;
o.width=W;o.height=d;v.font=q*y+"px sans-serif";for(var Y=0;Y<b.length;Y++){v.font=(Y==0?"bold ":"")+q*y+"px sans-serif";
v.fillText(b[Y],10,(Y+1)*y*s)}document.body.appendChild(o);var $=new Uint8Array(v.getImageData(0,0,W,d).data.buffer);
R.ctm=[W/y,0,0,d/y,j-10/y,B-j-40-100-d/y];G.PutImage(R,$,W,d);R.ctm=[1,0,0,1,0,0]}else N(b,j,B-j-40-100,s);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[j,Q,H-j,Q,H-j,Q-s,j,Q-s]};G.Fill(R);R.colr=[0,0,0];
var I=[j,Q,H-j,Q,j,Q-s,H-j,Q-s,j,Q-a,H-j,Q-a,j,Q,j,Q-a,H-j,Q,H-j,Q-a,l,Q,l,Q-a],k=[];for(var Y=0;Y<I.length;
Y+=4)k.push("M","L");R.pth={cmds:k,crds:I};G.Stroke(R);U("Order details",j+4,Q-14);U(kb.aiJ(h),j+4,Q-s-14);
U("TOTAL:",j+4,Q-a-14,null,!0);U("Price",H-j-50,Q-14);U(h[3]+" USD",H-j-60,Q-s-14);U(h[3]+" USD",H-j-60,Q-a-14,null,!0);
U("www.Photopea.com",j,j);U("support@photopea.com",H-j-130,j);G.ShowPage();G.Done();return G.buffer};
function fc(){iD.call(this,[11,14],"addguides");this.x4;this.Cc={x$:{Bl:0}};this.if=null;var b=u.I("div","form");
this.body.appendChild(b);this.Tj=[];this.Du=new g2(null,["Hi"]);b.appendChild(this.Du.Z);u.pP(b);this.Du.O(w.E.w,this.K1,this);
this.rT=new aG([22,4,0],null,16);this.rT.O(w.E.w,this.Uo,this);this.Tk=new aG([22,4,1],null,16);this.Tk.O(w.E.w,this.Uo,this);
this.f5=new cP(null,e.VJ.LO);this.f5.O(w.E.w,this.Uo,this);b.appendChild(this.rT.Z);b.appendChild(this.f5.Z);
u.pP(b);b.appendChild(this.Tk.Z);this.kp=u.H0(this,b);this.O("closebtn",this.Om,this)}fc.prototype=new iD;
fc.prototype._q=function(b,h){return b!=null};fc.prototype.W1=function(){return!0};fc.prototype.a=function(){iD.prototype.a.call(this);
this.rT.a();this.Tk.a();this.f5.a();this.kp.a()};fc.prototype.rN=function(b,h){var G=b.x$.Bl;this.Cc.x$.Bl=G;
this.f5.k(G)};fc.prototype.Fd=function(b,h){this.x4=b;this.if=JSON.stringify(b.Wb());this.Tj=[-1];var G=["Global"],H=b.root.children,B=b.t2();
for(var Y=0;Y<H.length;Y++){var j=H[Y].o;if(j.add.artb){G.push(j.getName());this.Tj.push(H[Y].index)}}this.Du.mX(G);
this.Du.k(this.Tj.indexOf(B));this.K1()};fc.prototype.K1=function(){var b=this.x4,h=b.Wb(),G=this.Tj[this.Du.l()],H=[0,0];
if(G!=-1){var B=b.R[G].Ey();H=[B.x,B.y]}var j=function(s,q,b,Q,a){var l=s[0],U=[];for(var Y=0;Y<l.length;
Y++)if(s[1][Y]==G&&l[Y][0]==q)U.push(e.VJ.x3(l[Y][1]-H[q],b.O4,Q,a));U.sort(function(N,R){return N-R});
return U.join(", ")};this.rT.k(j(h,1,b,this.Cc,b._));this.Tk.k(j(h,0,b,this.Cc,b.j))};fc.prototype.Uo=function(b){if(b&&b.currentTarget==this.f5)this.Cc.x$.Bl=this.f5.l();
else{var h=this.apt(),G=this.x4;G.VK(h);G.qV=!0}this.K1()};fc.prototype.apt=function(){var b=this.x4,h=b.Wb(),G=this.Tj[this.Du.l()],H=[0,0];
if(G!=-1){var B=b.R[G].Ey();H=[B.x,B.y]}var j=[];for(var s=0;s<2;s++){var q=s==0?this.Tk:this.rT,Q=s==0?b.j:b._,a=q.l().replace(/,/g," ").replace(/  +/g," ").trim(),l=a==""?[]:a.split(" ");
for(var Y=0;Y<l.length;Y++)j.push([s,e.VJ.asm(l[Y],b.O4,this.Cc,Q)+H[s]])}for(var Y=0;Y<h[0].length;
Y++)if(h[1][Y]==G){h[0].splice(Y,1);h[1].splice(Y,1);Y--}for(var Y=0;Y<j.length;Y++){h[0].push(j[Y]);
h[1].push(G)}return h};fc.prototype.Om=function(b){var h=this.x4;h.VK(JSON.parse(this.if));h.qV=!0;this.x4=null};
fc.prototype.Ip=function(b){this.Uo(b);var h=new hb(w.E.r,!0);h.S=E.rQ;h.data={q:"gids",eq:JSON.parse(this.if),ez:this.x4.Wb()};
this.x4=null;this.close();this.Q(h)};function kN(b){iD.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[b],b);
this.Cc=null;this.x4=null;var h=u.I("div","form");this.body.appendChild(h);h.setAttribute("style","width:300px");
this.zT=new hy("Source Images",!0,!0);h.appendChild(this.zT.Z);this.Xc=new cP([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.pe=new iI("Order images by name");this.pe.k(!0);var G=this.ax2=aT.ha();for(var Y=0;Y<G.length;Y++)if(aT.JR(G[Y]).hE){G.splice(Y,1);
Y--}G.push("SVG","PDF");this.HQ=new cP([12,50],G);this.HQ.k(1);this.Kh=new hg;this.HQ.O(w.E.w,this.pM,this);
this.wg=new cP("Action Set",[]);this.wg.O(w.E.w,this.rN,this);this.$L=new cP("Action",[]);this.P5=new iI("Stretch inserted files");
this.P5.k(!0);if(b=="pdfpres"){h.appendChild(this.Xc.Z);h.appendChild(this.pe.Z)}else{if(b=="batch"){h.appendChild(this.wg.Z);
u.pP(h);h.appendChild(this.$L.Z);u.MX(h)}if(b=="mockups"){h.appendChild(this.P5.Z);u.pP(h)}h.appendChild(this.HQ.Z);
h.appendChild(this.Kh.Z)}var H=["VAR0 PDF",[1,8]];if(b=="cformat")H="Convert Images";if(b=="batch")H="Process Images";
if(b=="mockups")H="Generate";var B=new gX(H,!0,null,!0);B.O("click",this._n,this);h.appendChild(B.Z);
this.pM()}kN.prototype=new iD;kN.prototype.pM=function(b){var h=this.ax2[this.HQ.l()];this.Kh.Ek(h)};
kN.prototype._n=function(b){var h=Date.now(),G=this.zT.l(),H=[],s=595,q=842,g,i,y;for(var B in G)H.push(B);
if(H.length==0){alert("No images selected");return}if(this.pe.l())H.sort();var j=this.Xc.l(),Q=new ToPDF,a=UDOC.getState(),l=this.ax2[this.HQ.l()],U=aT.JR(l),N=this.Kh.l(),R={},S=this.x4;
if(this.id=="mockups"){if(S==null){alert("Open a document with smart objects");return}var o=S.R[S.T[0]];
if(o.add.SoLd==null){o=null;for(var Y=0;Y<S.R.length;Y++)if(S.R[Y].add.SoLd)o=S.R[Y];if(o==null){alert("There are no smart objects in a current document.");
return}}S.T=[S.R.indexOf(o)];var v=o.add.SoLd;i=S.WC(v.Idnt.v);y=i.P0;g=v.Sz.v}for(var Z=0;Z<H.length;
Z++){var B=H[Z],W=G[B],d=W[0]==255,$=aT.ni(W.buffer),I=aT.JR($),k=[{jD:new io,data:new ArrayBuffer(0)}],_=null;
if($=="psd"&&!U.hE)k=gr.az_(W.buffer);else if(I.hE){_=new cj("file.psd");I.ho(W.buffer,_);_.UL();if(!U.hE){if(_.rm)jK.GA(_,this.Cc.B7,this);
_.c();_.lJ();k=[{jD:new io(0,0,_.j,_._),data:_.Nw().buffer}]}}else k=I.ho(W.buffer);if(this.id=="batch"){var D=new hb(w.E.b,!0),A=this.Cc,F=A.bL,K=F[this.wg.l()];
for(var Y=0;Y<k.length;Y++){_=aT.Eo(B,[k[Y]]);D.data={q:w.p.zX,tR:_};this.Q(D);if(_.R.length==3)_.T=[1];
aX.aqS(_,F,K.q5[this.$L.l()].VH,K.VH,this);_.c();_.lJ();k[Y].jD=new io(0,0,_.j,_._);k[Y].data=_.Nw().buffer;
k[Y].O4=_.O4;k[Y].RK=_.RK;D.data={q:w.p.L3,wK:_};this.Q(D)}}if(this.id=="mockups"){var V=new Uint8Array(k[0].data),r=k[0].jD,c=g.Wdth.v,x=g.Hght.v;
if(!this.P5.l()){var X=r.j,M=r._,f=X/M,t=c/x;if(t>f)X=Math.ceil(M*t);else M=Math.ceil(X/t);r.x=X-r.j>>>1;
r.y=M-r._>>>1;var n=new io(0,0,X,M),L=e.U(X*M*4);e.JE(V,r,L,n);V=L;r=n}var P=E.Y.Mp([V,r],new eq(c/r.j,0,0,x/r._,0,0));
i.P0=[P.buffer,P.rect];e.tT(i.P0);S.asp(i.Af);k=[{data:S.Nw().buffer,jD:new io(0,0,S.j,S._),O4:S.O4,RK:S.RK}]}var z=k[0].jD,T=new Uint8Array(k[0].data),p=z.j,m=z._;
if(this.id=="pdfpres"){var O=[[595,842],[842,595],[595,595],[595,0]][j];if(j==3)O[1]=Math.round(O[0]*m/p);
var s=O[0],q=O[1],cb=Math.min(s/p,q/m);Q.StartPage(0,0,s,q);a.ctm=[p*cb,0,0,m*cb,(s-p*cb)/2,(q-m*cb)/2];
Q.PutImage(a,d?W:T,p,m);Q.ShowPage()}else{var cX=B.split("."),e$;cX.pop();cX.push(l.toLowerCase());if(U.hE){if(_==null){_=aT.Eo(B,k);
_.UL()}e$=U.kf(_,_.j,_._,N,this.Cc)}else{var fz=[];for(var Y=0;Y<k.length;Y++){var eC=k[Y],hw=eC.Xy,az=0;
if(hw){hw=hw.split(",");if(hw[1])az=parseInt(hw[1])}fz.push([eC.data,az,eC.O4,eC.wp,null,eC.RK])}e$=U.kf(fz,p,m,N)}R[cX.join(".")]=new Uint8Array(e$)}}if(this.id=="mockups"){i.P0=y;
S.asp(i.Af)}console.log(Date.now()-h);if(this.id=="pdfpres"){Q.Done();dJ.save(Q.buffer,"file.pdf")}else{dJ.save(UZIP.encode(R),"images.zip")}};
kN.prototype.Fd=function(b,h,G,H){this.x4=b};kN.prototype.rN=function(b,h){if(h!=null){this.Cc=b;var G=b.bL,H=[];
for(var Y=0;Y<G.length;Y++)H.push(G[Y].VH);this.wg.mX(H)}else b=this.Cc;var G=b.bL.length==0?[]:b.bL[this.wg.l()].q5,H=[];
for(var Y=0;Y<G.length;Y++)H.push(G[Y].VH);this.$L.mX(H)};kN.prototype.a=function(){iD.prototype.a.call(this);
this.zT.a();this.Xc.a();this.pe.a()};function kP(b){var h=gY.names[b];if(h==null)h=eZ.names[b];if(b=="aply")h=[2,12];
if(b=="fade")h=[2,11];if(b=="matc")h=[4,18];if(b=="blendOptions")h=[14,10];iD.call(this,h,"afw_"+b);
this.cy=b;this.jl=null;this.XY=null;this.bj=new iq[b];this.bj.O(w.E.w,this.oH,this);this.bj.parent=this;
this.body.appendChild(this.bj.Z);this.R6=new iI([24,18,5]);this.R6.k(!0);this.R6.O(w.E.w,this.oH,this);
this.A2=new gX([1,12,2],!0,null,!0);this.A2.O("click",this.Hg,this);this.kp=u.H0(this);if(this.DX())this.bj.V4(this.kp.Z);
else{u.eS(this.bj.Z,"form");u.eS(this.body,"flexrow");this.bj.Z.setAttribute("style","width:312px");
var G=u.I("div");this.body.appendChild(G);G.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
G.appendChild(this.kp.Z);G.appendChild(this.A2.Z);G.appendChild(this.R6.Z)}this.O("closebtn",this.cF,this)}kP.prototype=new iD;
kP.prototype.W1=function(){return!0};kP.prototype.DX=function(){return this.bj!=null&&this.bj.ca()};
kP.prototype.Oa=function(){return this.DX()?new cJ(0,0):iD.prototype.Oa()};kP.prototype.BB=function(b){return this.bj.BB(b)};
kP.prototype.UJ=function(){return this.bj.UJ()};kP.prototype.Ay=function(b,h,G,H,B){this.bj.Ay(b,h,G,H,B)};
kP.prototype.Jl=function(b,h,G,H,B){this.bj.Jl(b,h,G,H,B)};kP.prototype.dq=function(b,h,G,H,B){this.bj.dq(b,h,G,H,B)};
kP.prototype._q=function(b,h){if(this.cy=="fade")return kP.aus(b);return!0};kP.prototype.Hg=function(b){this.bj.k(gY.Az(this.cy));
this.oH()};kP.prototype.oH=function(b){this.w0({q:"edit",ZV:this.bj.l(),pK:!this.R6.l()})};kP.prototype.cF=function(b){this.w0({q:"cancel"})};
kP.prototype.Ip=function(b){if(!this.R6.l()){this.R6.k(!0);this.oH()}this.XY=this.bj.l();if(this.DX())this.oH();
this.w0({q:"confirm"});this.close()};kP.prototype.a=function(){iD.prototype.a.call(this);this.R6.a();
if(this.bj)this.bj.a();this.kp.a()};kP.prototype.rN=function(b,h){if(this.bj)this.bj.rN(b,h)};kP.prototype.Z1=function(b,h,G,H){if(this.DX())this.bj.Z1(H);
else iD.prototype.Z1.call(this,b,h,G,H)};kP.prototype.Fd=function(b,h,G,H){this.jl=h.jl;var B=b.add.lnk2?b.add.lnk2:[],j,s,q=new io(0,0,b.j,b._),Q=b.R[b.T[0]],l=null;
j=Q.buffer;s=Q.rect;var a=b.e&&this.cy=="LqFy"&&h.jl==null;if(a){s=b.e.rect.clone();j=e.U(s.X()*4);e.JE(Q.buffer,Q.rect,j,s)}if(this.DX()){l=b.Nw(b.T[0]-1);
if(a){var U=e.U(s.X()*4);e.JE(l,q,U,s);q=s.clone();l=U}}var N=gY.Az(this.cy),R=[B,b.$B,b,G];if(h.jl==null){this.bj.k(N,j,s,q,l,R);
if(eZ.names[this.cy]){if(H.W(ap.p0)&&this.XY)this.bj.k(this.XY);var S=E.HR.getData(b),g=e.fl(S[0].VN);
this.bj.qQ(g)}}else{var i=!1,Q=b.R[this.jl.o];if(Q.Ag()){var y=Q.T0(b);j=y.buffer;s=y.rect;var o=Q.add.SoLd.filterFX.v.filterFXList.v;
if(o[this.jl.index]){var v=o[this.jl.index].v;this.bj.k(this.cy=="blendOptions"?v.blendOptions.v:v.Fltr.v,j,s,q,l,R);
this.bj.qQ(e.fl(j));i=!0}}if(!i){this.bj.k(N,j,s,q,l,R);this.bj.qQ(e.fl(j))}}if(!this.DX()){this.oH();
var Z=this.bj;if(Z&&Z.wq&&Z.wq[0]&&Z.wq[0].jq&&Math.min(window.innerWidth,window.innerHeight)>500)Z.wq[0].jq()}};
kP.prototype.w0=function(b){var h=new hb(w.E.r,!0);b.cy=this.cy;b.jl=this.jl;if(this.cy=="VaPo"){b.P=this.bj.l();
b.jb=this.bj.ahb()}h.data=b;h.S=gY.names[this.cy]||this.jl?E.c7:E.ig;h.G2=!0;this.Q(h)};kP.prototype.Vb=function(b,h){if(!this.bj.ca()){}else{this.body.style.padding="0";
this.bj.Vb(b,h)}};kP.aus=function(b){if(b==null)return!1;var h=b.vc();if(h==null||!(h.data instanceof Array)||h.data.length!=b.T.length)return!1;
for(var Y=0;Y<h.data.length;Y++){var G=h.data[Y];if(G.o<0&&b.$B[-1-G.o])return!0;if(G.o==null||b.R[G.o]==null||b.R[G.o].nD!=G.i6)return!1;
if(b.T.indexOf(G.o)==-1)return!1}return!0};function kG(){iD.call(this,[11,0],"camera");this.data=null;
this.br=new cJ(1,1);this.aco=[];var b=u.I("div","form hbar");this.body.appendChild(b);this.adU=new cP(null,[]);
this.e9=new cP([21,0],[[21,2],[21,1]]);b.appendChild(this.e9.Z);this.A4=new cP(null,[]);this.A4.O(w.E.w,this.a5_,this);
b.appendChild(this.A4.Z);this.NA=new gX([11,0],!1,null,!0);this.NA.O("click",this.afE,this);b.appendChild(this.NA.Z);
this.jp=new iM("");b.appendChild(this.jp.Z);this.stream=null;this.V_=u.I("video","");this.V_.setAttribute("autoplay","true");
this.body.appendChild(this.V_);this.ahR=this.auK.bind(this);this.ahh=this.aBa.bind(this);this.aEN=this.a9c.bind(this);
this.O("closebtn",this.a5q,this)}kG.prototype=new iD;kG.prototype.a=function(){iD.prototype.a.call(this);
this.e9.a();this.NA.a();this.Vb(this.Ps,this.CN)};kG.prototype.Nw=function(){var b=this.V_.videoWidth,h=this.V_.videoHeight,G=u.I("canvas","");
G.width=b;G.height=h;var H=G.getContext("2d");H.drawImage(this.V_,0,0,b,h);var B=H.getImageData(0,0,b,h);
return{jD:new io(0,0,b,h),data:B.data.buffer}};kG.prototype.afE=function(b){if(this.e9.l()==0)this.a0k();
else this.a14()};kG.prototype.a14=function(){var b=this.Nw(),h={buffer:new Uint8Array(b.data),rect:b.jD},G=new hb(w.E.r,!0);
G.G2=!0;G.S=E.nc;G.data={q:C.W5,Ny:h};this.Q(G);alert(bp.get([21,4]))};kG.prototype.a0k=function(){var b=this.Nw(),h=aT.Eo("camera",[b]),G=new hb(w.E.b,!0);
G.data={q:w.p.zX,tR:h};this.Q(G);alert(bp.get([21,5]))};kG.prototype.Fd=function(b,h,G){navigator.mediaDevices.enumerateDevices().then(this.apu.bind(this))};
kG.prototype.apu=function(b){var h=this.aco=[],G=[];for(var Y=0;Y<b.length;Y++)if(b[Y].kind=="videoinput"){h.push(b[Y]);
G.push("Camera "+h.length)}this.A4.mX(G);this.A4.k(0);this.a5_()};kG.prototype.a5_=function(b){this.a5q();
var h={video:{deviceId:this.aco[this.A4.l()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(h).then(this.ahR).catch(this.ahh);
else navigator.webkitGetUserMedia(h,this.ahR,this.ahh)};kG.prototype.auK=function(b){this.stream=b;this.V_.srcObject=b;
this.V_.addEventListener("loadedmetadata",this.aEN,!1)};kG.prototype.a9c=function(b){this.V_.play();
this.Vb(this.Ps,this.CN)};kG.prototype.Oa=function(b,h){return new cJ(0,0)};kG.prototype.Vb=function(b,h){var G=this.V_.videoWidth,H=this.V_.videoHeight;
this.jp.k(G+" x "+H+" px");this.jp.Z.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.br.ve(G,H);this.Ps=b;this.CN=h;var B=b-28,j=h-28-30,s=this.br.x/this.br.y;if(B/j>s)B=j*s;else j=B/s;
this.V_.setAttribute("style","display: block; width: "+Math.round(B)+"px; height:"+Math.round(j)+"px;")};
kG.prototype.aBa=function(b){console.log("error",b);alert(bp.get([21,6]));this.close()};kG.prototype.a5q=function(b){if(this.stream!=null){var h=this.stream.getTracks();
for(var Y=0;Y<h.length;Y++)h[Y].stop();this.stream=null}};function jz(){iD.call(this,[7,8],"crange");
this.x4=null;this.Iy={RY:73,G:4.45,J:4};this.Rq={RY:73,G:4.45,J:4};this.body.style.width="20em";this.yE=new cP([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.yE.O(w.E.w,this.a5e,this);this.body.appendChild(this.yE.Z);this.Er=u.I("div","form");this.body.appendChild(this.Er);
var b=this.agR=2,h=this.vT=[new cm([12,92],0,200),new g2([12,36],[[18,0],"\uFF0B","-"]),new cm([12,92],0,100,"%"),new bP("Min",0,255),new bP("Max",0,255)];
h[0].k(40);h[b].k(40);for(var Y=0;Y<h.length;Y++){h[Y].O(w.E.w,this.BL,this);h[Y].parent=this}this.cj=u.I("canvas");
this.body.appendChild(this.cj);this.kp=u.H0(this,this.body)}jz.prototype=new iD;jz.prototype._q=function(b,h){return b!=null};
jz.prototype.UJ=function(){return!0};jz.prototype.W1=function(){return!0};jz.prototype.a5e=function(b){var h=this.yE.l(),G=this.vT,H=this.Er,B=0,j=G.length,s=this.agR;
if(h==0)j=s;else{B=s;G[B+1].k([0,100,190][h-1]);G[B+1].d3(h!=1);G[B+2].k([60,150,255][h-1]);G[B+2].d3(h!=3)}u._I(H);
for(var Y=B;Y<j;Y++){H.appendChild(G[Y].Z)}this.BL()};jz.prototype.a=function(){iD.prototype.a.call(this);
this.kp.a();this.yE.a();for(var Y=0;Y<this.vT.length;Y++)this.vT[Y].a()};jz.prototype.Ay=function(b,h,G,H,B){var j=b.s.Fj(B.x,B.y);
this.a2y(j.x,j.y)};jz.prototype.a2y=function(b,h){var G=Math.min,H=Math.max,B=this.x4,j=H(0,G(B.j-1,Math.floor(b))),s=H(0,G(B._-1,Math.floor(h))),q=B.Nw(),Q=(s*B.j+j)*4,a=q[Q],l=q[Q+1],U=q[Q+2],N=e.ec(a,l,U),R=this.vT[1].l(),S=this.Iy,g=this.Rq;
if(R==0){this.Iy=JSON.parse(JSON.stringify(N));this.Rq=N}else if(R==1){S.RY=G(S.RY,N.RY);S.G=G(S.G,N.G);
S.J=G(S.J,N.J);g.RY=H(g.RY,N.RY);g.G=H(g.G,N.G);g.J=H(g.J,N.J)}else if(R==2){var i=(S.RY+g.RY)/2,y=(S.G+g.G)/2,o=(S.J+g.J)/2;
if(N.RY<i)S.RY=H(S.RY,N.RY+10);else g.RY=G(g.RY,N.RY-10);if(N.G<y)S.G=H(S.G,N.G+1);else g.G=G(g.G,N.G-1);
if(N.J<o)S.J=H(S.J,N.J+1);else g.J=G(g.J,N.J-1)}this.BL()};jz.prototype.Ip=function(b){var h=this.yE.l(),G=this.vT,H={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(h==0){var B=this.Iy,j=this.Rq;H.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:B.RY},A:{t:"doub",v:B.G},B:{t:"doub",v:B.J}}};
H.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:j.RY},A:{t:"doub",v:j.G},B:{t:"doub",v:j.J}}};H.Fzns={t:"long",v:G[0].l()}}else{h--;
var s=["shadows","midtones","highlights"][h];H.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][h]}};if(0<h)H[s+"LowerLimit"]={t:"long",v:G[3].l()};
if(h<2)H[s+"UpperLimit"]={t:"long",v:G[4].l()};H[s+"Fuzziness"]={t:"long",v:G[2].l()}}this.close();var q=new hb(w.E.IK,!0);
q.data={f6:"colorRange",yo:H};this.Q(q)};jz.prototype.Fd=function(b,h){this.x4=b;this.a2y(0,0);this.a5e()};
jz.prototype.BL=function(){var b=this.x4,h=this.yE.l(),G=this.Iy,H=this.Rq,B=this.vT,j=B[0].l()/200,s=!1;
if(h>0){G=B[3].l();H=B[4].l();if(G>=H)G=H-1;s=!0;j=B[2].l()/100}var q=E.pC.Qk(b,G,H,j,s),Q=q.rect,a=q.channel,l=this.cj,U=l.getContext("2d"),N=Math.floor(230*u.V()),R=Math.floor(N*(Q._/Q.j));
l.width=N;l.height=R;u.o3(l,N,R);var S=e.U(a.length*4);e.Zi(S,4294967295);for(var Y=0;Y<3;Y++)e.aj(a,S,Y);
var g=E.Y.Mp([S,Q],new eq(N/Q.j,0,0,R/Q._,0,0)),i=g.rect,y=new ImageData(new Uint8ClampedArray(g.buffer.buffer),i.j,i._);
U.putImageData(y,0,0)};function du(){iD.call(this,[12,76,1],"createshape");this.Ov=null;var b=u.I("div","form");
b.setAttribute("style","width:20em");this.body.appendChild(b);this.Pb=new eo(!0,!0,null,!0,!0);this.Pb.k(new cJ(100,100));
b.appendChild(this.Pb.Z);this.pR=new iI([19,5,3]);b.appendChild(this.pR.Z);this.kp=u.H0(this,b)}du.prototype=new iD;
du.prototype.Ip=function(b){var h=this.Pb.l();this.Ov.awO(this.Ov.asN,h.x,h.y,this.pR.l());this.close()};
du.prototype.a=function(){if(this.Ov)this.s1=bp.get([5,3])+": "+bp.get(this.Ov.abx);iD.prototype.a.call(this);
this.kp.a();this.Pb.a();this.pR.a()};du.prototype.Fd=function(b,h){this.Ov=h;this.a();this.Pb.k(this.Pb.l(),b.O4)};
function gy(){iD.call(this,[11,1],"colorpicker");this.Ah=null;this.T7=null;this.Gb=null;this.p6=!1;this.WE=!1;
this.at6=[.9642,1,.8249];var b=u.I("div","flexrow"),s,q;this.body.appendChild(b);this.KF=new aN(256,!0);
this.KF.O(w.E.w,this.be,this);b.appendChild(this.KF.Z);var h=u.I("div","form");h.setAttribute("style","width:14.5em; margin-left:1em;");
b.appendChild(h);var G=u.I("div","flexrow");h.appendChild(G);var H=u.I("div");G.appendChild(H);H.style="width:95px; margin-right:14px";
this.a9Q=u.I("div","full");H.appendChild(this.a9Q);this.auD=u.I("div","full");H.appendChild(this.auD);
var H=u.I("col");G.appendChild(H);H.style.width="80px";this.kp=u.H0(this,H);var G=u.I("div","flexrow");
h.appendChild(G);var B=u.I("div"),j=u.I("div");G.appendChild(B);G.appendChild(j);B.style=j.style="margin-left:14px; max-width:80px;";
s=["H","S","B"];q=B;this.iO=[];for(var Y=0;Y<3;Y++){var Q=0,a=360,l="\xB0";if(Y!=0){a=100;l="%"}var U=new bP(s[Y],Q,a,l,0,!1,!0);
this.iO.push(U);U.O(w.E.w,this.a1q,this);q.appendChild(U.Z);if(Y==2)U.Z.style.marginBottom="8px"}s=["R","G","B"];
q=B;this.nz=[];for(var Y=0;Y<3;Y++){var U=new bP(s[Y],0,255,null,0,!1,!0);this.nz.push(U);U.O(w.E.w,this.af6,this);
q.appendChild(U.Z)}s=["L","a","b"];q=j;this.vm=[];for(var Y=0;Y<3;Y++){var Q=[0,-128,-128][Y],a=[100,127,127][Y],U=new bP(s[Y],Q,a,null,0,!1,!0);
U.k(0);this.vm.push(U);U.O(w.E.w,this.aBJ,this);q.appendChild(U.Z);if(Y==2)U.Z.style.marginBottom="8px"}s=["C","M","Y","K"];
q=j;this.G9=[];for(var Y=0;Y<4;Y++){var U=new bP(s[Y],0,100,"%",0,!1,!0);U.k(0);this.G9.push(U);U.O(w.E.w,this.aiS,this);
q.appendChild(U.Z);if(Y==3)U.Z.style.marginBottom="8px"}this.rT=new aG("#",null,4.5);this.rT.O(w.E.w,this.lK,this);
B.appendChild(this.rT.Z);this.rT.Z.style.marginRight="0";this.jZ=u.I("input","fitem");this.jZ.setAttribute("type","color");
this.jZ.setAttribute("style","width:59px;  margin-left:19px;");this.jZ.addEventListener("change",this.lK.bind(this),!1);
this.Vm=new gb(9);this.Vm.O(w.E.w,this.lK,this);h.appendChild(this.Vm.Z);this.O("closebtn",this.cF,this);
this.Hr=!1}gy.prototype=new iD;gy.prototype.UJ=function(){return!0};gy.prototype.Oa=function(b,h){if(Math.min(b,h)>500)return null;
return new cJ(Math.max(0,Math.min(150,(b-484)/2)),Math.max(0,Math.min(150,(h-316)/2)))};gy.prototype.Vb=function(b,h){this.KF.Vb(Math.min(256,b-226),h)};
gy.prototype.a=function(b,h){iD.prototype.a.call(this);for(var Y=0;Y<3;Y++){this.nz[Y].a();this.iO[Y].a();
this.vm[Y].a()}for(var Y=0;Y<4;Y++)this.G9[Y].a();this.kp.a()};gy.prototype.be=function(b){this.T7=this.KF.l();
this.update()};gy.prototype.Ay=function(b,h,G,H,B){this.Hr=!0;this.a8E(b,B)};gy.prototype.Jl=function(b,h,G,H,B){if(!this.Hr)return;
this.a8E(b,B)};gy.prototype.dq=function(b,h,G,H,B){this.Hr=!1};gy.prototype.a8E=function(b,h){this.T7=e.M5(E.NK.Yj(b,h,1),1);
this.update()};gy.prototype.af6=function(b){var h=this.nz,G=this.YO(parseInt(h[0].l())),H=this.YO(parseInt(h[1].l())),B=this.YO(parseInt(h[2].l()));
this.T7={$:G/255,B:H/255,J:B/255};this.update()};gy.prototype.a1q=function(b){var h=this.iO,G=this.xG(parseInt(h[0].l())/360),H=this.xG(parseInt(h[1].l())/100),B=this.xG(parseInt(h[2].l())/100);
this.T7=e.LM(G,H,B);this.update()};gy.prototype.aiS=function(b){var h=this.G9,G=[];for(var Y=0;Y<4;Y++){var H=this.aDn(parseInt(h[Y].l()));
h[Y].k(H);G.push(H/100)}var B=e.u8(G);this.T7={$:B[0],B:B[1],J:B[2]};this.update(!0)};gy.prototype.aBJ=function(b){var h=this.vm,G=parseInt(h[0].l()),H=parseInt(h[1].l()),B=parseInt(h[2].l()),j=e.g1(G,H,B);
this.T7={$:j.$/255,B:j.B/255,J:j.J/255};this.update()};gy.prototype.lK=function(b){var h;if(b.currentTarget==this.Vm)h=this.Vm.l();
else{h=b.currentTarget==this.rT?this.rT.l():this.jZ.value;if(h.charAt(0)=="#")h=h.slice(1);if(h.length==3)h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2];
h=e.ahS(h)}this.T7=e.M5(h,1);this.update()};gy.prototype.Ip=function(b){this.amT();var h=e.wd(this.T7,1);
this.Gb(h);this.close();this.WE=!1;this.T7=null};gy.prototype.cF=function(b){this.amT();if(this.p6)this.Gb(e.wd(this.Ah,1));
this.WE=!1;this.T7=null};gy.prototype.amT=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.am_};this.Q(h)};
gy.prototype.rN=function(b,h){var G=gV.Cz(b,h);if(G!=null)this.Vm.k(G);if(h!=ec.KI)return;if(this.T7!=null){this.T7=e.M5(G,1);
this.update()}};gy.prototype.Fd=function(b,h){var G=e.M5(h.UT,1);if(this.T7==null){var H=new hb(w.E.b,!0);
H.data={q:w.p.dm,ji:"crosshair",push:!0};this.Q(H);this.Hr=!1;this.Gb=h.jO;this.p6=!1;this.WE=h.hh;this.Ah=JSON.parse(JSON.stringify(G));
this.auD.setAttribute("style","height:2.3em;background-color:#"+e.Z0(h.UT)+";")}this.T7=G;this.update()};
gy.prototype.update=function(b){var h=this.T7,G=e.wd(h,1);this.rT.k(e.Z0(G));this.jZ.value="#"+e.Z0(G);
this.a9Q.setAttribute("style","height:2.3em;background-color:#"+e.Z0(G)+";");var H=this.nz;H[0].k(Math.round(h.$*255));
H[1].k(Math.round(h.B*255));H[2].k(Math.round(h.J*255));var B=e.j$(h.$,h.B,h.J);H=this.iO;H[0].k(Math.round(B.CN*360));
H[1].k(Math.round(B.Xk*100));H[2].k(Math.round(B.ZV*100));var j=e.ec(h.$*255,h.B*255,h.J*255,this.at6);
H=this.vm;H[0].k(Math.round(j.RY));H[1].k(Math.round(j.G));H[2].k(Math.round(j.J));if(b==null){var s=e.M8([h.$,h.B,h.J]);
H=this.G9;H[0].k(Math.round(s[0]*100));H[1].k(Math.round(s[1]*100));H[2].k(Math.round(s[2]*100));H[3].k(Math.round(s[3]*100))}this.KF.k(h);
if(this.WE){this.Gb(e.wd(this.T7,1));this.p6=!0}};gy.prototype.aDn=function(b){return Math.max(0,Math.min(100,b))};
gy.prototype.YO=function(b){return Math.max(0,Math.min(255,b))};gy.prototype.xG=function(b){return Math.max(0,Math.min(1,b))};
function bc(){iD.call(this,[11,2],"contoureditor");this.axi=null;this.vE=null;this.response=null;this.sf=u.I("div","cell");
this.body.appendChild(this.sf);this.GE=u.I("div","cell padded");this.body.appendChild(this.GE);var b=u.I("div","bordered padded vmargin");
this.sf.appendChild(b);this.bj=new hQ(null,null,!0);this.bj.O(w.E.w,this.Io,this);b.appendChild(this.bj.Z);
this.kp=u.H0(this,this.GE);this.O("closebtn",this.oO,this)}bc.prototype=new iD;bc.prototype.Ip=function(){this.close()};
bc.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();this.bj.a()};bc.prototype.Io=function(b){this.vE.Crv.v=this.bj.l();
this.response(this.vE)};bc.prototype.oO=function(b){this.response(this.axi)};bc.prototype.Fd=function(b,h){this.axi=JSON.parse(JSON.stringify(h.q5));
this.vE=h.q5;this.response=h.response;this.bj.k(this.vE.Crv.v)};function au(){iD.call(this,[11,4],"duplinto");
this.wK=null;this.uQ=null;this.Ap=null;var b=u.I("div","form");b.setAttribute("style","max-width:26em");
this.body.appendChild(b);this.ja=new cP([12,43],["abc","def"]);this.ja.O(w.E.w,this.hO,this);b.appendChild(this.ja.Z);
u.pP(b);this.Sj=new cP([1,16,0],["abc","def"]);this.Sj.O(w.E.w,this.hO,this);b.appendChild(this.Sj.Z);
u.pP(b);this.Gm=new aG([12,48],null,14);b.appendChild(this.Gm.Z);this.kp=u.H0(this,b)}au.prototype=new iD;
au.prototype.W1=function(){return!0};au.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();
this.ja.a();this.Gm.a()};au.prototype.hO=function(b){if(b&&b.target==this.Sj)return;var h=this.ja.l(),G=this.uQ[h],H=this.wK,B=G!=null&&G.add.artd!=null;
for(var Y=0;Y<H.T.length;Y++)if(H.R[H.T[Y]].add.artb)B=!1;this.Gm.d3(h==this.uQ.length);this.Sj.d3(B);
if(B){var j=G.root.children,s=[],q=this.Ap=[];for(var Y=0;Y<j.length;Y++){var Q=j[Y].o;if(Q.add.artb)s.push(Q.getName());
q.push(j[Y].index)}this.Sj.mX(s);this.Sj.k(0)}else this.Ap=null};au.prototype.Fd=function(b,h,G){this.wK=b;
this.uQ=G;this.Gm.k(b.T.length==0?"Layer":b.R[b.T[0]].getName());var H=[];for(var Y=0;Y<G.length;Y++){var B=G[Y].name;
H.push(B.length<30?B:B.slice(0,27)+"...")}H.push([11,7]);this.ja.mX(H);this.ja.k(G.indexOf(b));this.hO(null)};
au.prototype.Ip=function(b){var h=this.ja.l();if(h==this.uQ.length){var G=new cj(this.Gm.l()+".psd"),H=this.wK.j,B=this.wK._,j=this.wK.t2();
if(j!=-1){var s=this.wK.R[j].Ey();H=s.j;B=s._}G.j=H;G._=B;G.buffer=e.U(G.j*G._*4);var q=G.Cx();q.cb("Background");
G.Rf([q]);var Q=new hb(w.E.b,!0);Q.G2=!0;Q.data={q:w.p.zX,tR:G};this.Q(Q)}var a=this.wK.LZ(null,this.wK!=this.uQ[h]),Q=new hb(w.E.r,!0);
Q.data={q:C.Dk,R:a,$J:this.wK,BQ:this.uQ[h]};if(this.Ap)Q.data.X0=this.Ap[this.Sj.l()];Q.S=E.nc;Q.G2=!0;
this.Q(Q);this.close()};function eB(){iD.call(this,[1,9],"eassets");this.Cc=null;this.rX=null;var b=this.body;
u.eS(b,"form");b.style.width="32em";this.yE=new g2(null,["Layers","Combinations"]);this.yE.O(w.E.w,this.K1,this);
b.appendChild(this.yE.Z);u.MX(b);this.fL=u.I("span");b.appendChild(this.fL);this.q7=u.I("div");b.appendChild(this.q7);
var h=u.I("div"),G=u.I("div","flexrow");this.ahY=[h,G];this.tN=[new iI("Only layers / folders, whose name starts with \"-e-\""),new iI("Remove parts outside the canvas"),new iI("Trim transparent parts")];
for(var Y=0;Y<3;Y++){var H=this.tN[Y];H.k(!0);H.O(w.E.w,this.K1,this);h.appendChild(H.Z);u.pP(h)}this.y2=new jH([12,14,0],["1x","2x","3x","4x"]);
this.y2.k([!0,!1,!1,!1]);h.appendChild(this.y2.Z);var B=u.I("div");G.appendChild(B);var j=u.I("img");
j.setAttribute("src",fH.J5("img/nft.png"));j.style.width="150px";G.appendChild(j);var s=u.I("span");
s.textContent="File Names:";B.appendChild(s);this.hG=new jH(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
B.appendChild(this.hG.Z);this.hG.k([!0,!1,!1]);u.MX(b);this.xY=["PNG","JPG","SVG","TIFF","TGA"];this.Ep=new cP([12,50],this.xY);
this.Ep.O(w.E.w,this.pM,this);b.appendChild(this.Ep.Z);this.Kh=new hg;b.appendChild(this.Kh.Z);this.kp=new gX([1,9],!0,null,!0);
this.kp.O("click",this.Ip,this);b.appendChild(this.kp.Z);this.O("closebtn",this.QH,this)}eB.prototype=new iD;
eB.prototype.pM=function(b){this.Kh.Ek(this.xY[this.Ep.l()],!1,!1,!1,this.rX.I7()!=null)};eB.prototype.QH=function(b){this.rX=null};
eB.prototype.a=function(){iD.prototype.a.call(this);this.Ep.a();this.y2.a();this.kp.a();this.Kh.a()};
eB.prototype.Fd=function(b,h,G){this.rX=b;this.K1()};eB.prototype.K1=function(b){var h=this.yE.l(),G;
u._I(this.q7);this.q7.appendChild(this.ahY[h]);if(h==0){var H=this.a2R();G=H.length+" exportable layers"}else{var H=this.agX();
G=H[1]+" combinations ("+H[0].join(" \xD7 ")+")"}this.fL.textContent="- - - "+G;this.pM(null)};eB.prototype.a2R=function(){var b=this.tN[0].l(),h=[],G=this.rX;
for(var Y=0;Y<G.R.length;Y++){var H=G.R[Y],B=H.getName();if(!b&&!H.fu()&&!H.rect.Zx()||B.startsWith("-e"))h.push(Y)}return h};
eB.prototype.agX=function(){var b=this.rX,h=b.root.children,G=[],H=1,B=[];for(var Y=0;Y<h.length;Y++){var j=h[Y],s=j.o;
if(s.fu()){var q=j.children.length;G.push(q);H*=q;B.push(j.index)}s}return[G,H,B]};eB.prototype.rN=function(b,h){this.Cc=b};
eB.prototype.Ip=function(b){var h=this.rX,G=this.yE.l(),H=[this.xY[this.Ep.l()]],B=[this.Kh.l()],j={};
if(G==0){var s=this.y2.l(),q={},Q=this.a2R();if(Q.length==0){alert("No layers to export.");return}var a=[this.tN[1].l(),this.tN[2].l()];
for(var Y=0;Y<Q.length;Y++){var l=Q[Y],U=h.R[l],N=U.getName();if(q[N]!=null){q[N]++;N+=" "+q[N]}else q[N]=1;
var R=U.yY();U.lW(!0);for(var S=0;S<s.length;S++){if(!s[S])continue;var g=S+1,i=E.uW.aaD(h,H,g,this.Cc,l,B,a);
for(var y=0;y<H.length;y++){var o=H[y],v=N.slice(N.startsWith("-e-")?3:0)+(g==1?"":"@"+g+"x")+"."+o.toLowerCase();
if(i[y])j[v]=new Uint8Array(i[y])}}U.lW(R)}}else{var R=[];for(var Y=0;Y<h.R.length;Y++)R.push(h.R[Y].yY());
var Z=this.agX(),W=Z[0],Q=Z[2],d=[];function $(D,l,A,F){if(l==D.length){F.push(A.slice(0));return}var K=D[l];
for(var Y=0;Y<K;Y++){A.push(Y);$(D,l+1,A,F);A.pop(Y)}}$(W,0,[],d);var I=this.hG.l().indexOf(!0);this.AC=[d,j,Q,H,B,R,I,this.arR.bind(this),0,0];
this.arR();return}var k=UZIP.encode(j),_=new hb(w.E.b,!0);_.data={q:w.p.l9,data:k,name:"assets.zip"};
this.Q(_)};eB.prototype.arR=function(){var b=this.AC,h=b[0],G=b[1],H=this.rX,B=b[2],j=b[3],s=b[4],q=b[5],Q=b[6],a=b[7],l=0;
while(h.length!=0&&l<1e3){var U=Date.now(),N=h.shift(),R=[];for(var Y=0;Y<N.length;Y++){var S=H.root.DE(B[Y]);
for(var g=0;g<S.children.length;g++)S.children[g].o.lW(!1);var i=S.children[N[Y]].o;R.push(Q==2?i.getName():S.o.getName()+N[Y]);
i.lW(!0)}H.c();H.lJ();var y=(Q==0?N:R).join("-")+"."+j[0].toLowerCase();G[y]=new Uint8Array(aT.JN(H,j[0],H.j,H._,s[0],this.Cc));
b[8]++;b[9]+=G[y].length;l+=Date.now()-U}if(h.length!=0){alert(b[8]+" done, "+hd.Vd(b[9])+".",800);setTimeout(a,35);
return}for(var Y=0;Y<H.R.length;Y++)H.R[Y].lW(q[Y]);H.c();var o=UZIP.encode(G),v=new hb(w.E.b,!0);v.data={q:w.p.l9,data:o,name:"assets.zip"};
this.Q(v)};function is(){iD.call(this,"Export Color Lookup Tables","exlut");this.Cc=null;this.rX=null;
var b=u.I("div","form");b.setAttribute("style","width:20em");this.body.appendChild(b);this.tN=[new bP("Grid Points",1,256),new g2([12,50],[".CUBE"])];
var h=[16,0];for(var Y=0;Y<this.tN.length;Y++){var G=this.tN[Y];G.k(h[Y]);G.parent=this;G.O(w.E.w,this.K1,this);
b.appendChild(G.Z);u.pP(b)}this.kp=u.H0(this,b);this.O("closebtn",this.QH,this)}is.prototype=new iD;
is.prototype._q=function(b,h){if(Math.min(b.j,b._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(b.R.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};is.prototype.QH=function(b){this.rX=null};is.prototype.rN=function(b,h){this.Cc=b};
is.prototype.Fd=function(b,h,G){this.rX=b};is.prototype.Ip=function(){var b=this.rX,h=this.tN[0].l(),G=[],H=new io(0,0,b.j,b._),B=e.U(h*h*4),j=B.slice(0),s=new io(b.j-h>>>1,b._-h>>>1,h,h),q=b.R[0],Q=q.buffer,a=q.rect;
q.rect=s;q.buffer=B;for(var l=0;l<h;l++){this.aC_(h,l,B);q.c(s);b.c(s);var U=b.Nw();e.JE(U,H,j,s);for(var N=0;
N<h;N++)for(var R=0;R<h;R++){var S=N*h+R<<2;G.push(j[S]/255,j[S+1]/255,j[S+2]/255)}}var g=bm.af4(G,h,b.name);
dJ.save(g,b.name.split(".")[0]+".CUBE");q.buffer=Q;q.rect=a;q.c();b.c()};is.prototype.aC_=function(b,h,G){var H=255/(b-1),B=Math.round(h*H);
for(var j=0;j<b;j++)for(var s=0;s<b;s++){var q=j*b+s<<2;G[q]=Math.round(s*H);G[q+1]=Math.round(j*H);
G[q+2]=B;G[q+3]=255}};is.prototype.a=function(){iD.prototype.a.call(this);for(var Y=0;Y<this.tN.length;
Y++)this.tN[Y].a();this.kp.a()};function am(){iD.call(this,[1,14],"finfo");this.H6=null;this.jT=null;
this.I8=null;this.ZH=u.I("div","form scrollable label12");this.ZH.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ZH);var b=u.I("div","form");this.body.appendChild(b);this.cP=new cP(null,["Hello"]);
b.appendChild(this.cP.Z);this.aqB=new gX("Add Parameter",!1,null,!0);b.appendChild(this.aqB.Z);this.aqB.O("click",this.Ga,this);
this.YN=new gX("=== S A V E ===",!1,null,!0);b.appendChild(this.YN.Z);this.YN.O("click",this.mZ,this);
this.a4v=""}am.prototype=new iD;am.prototype.Oa=function(b,h){return b<450||h<450?new cJ(0,0):new cJ(150,100)};
am.prototype.Ga=function(b){if(this.I8.length==0)return;var h=this.I8[this.cP.l()],G=this.ba();G[h]=c8.UM[h][0];
this.D8(G);this.jT[h].Z.scrollIntoView();this.jT[h].jq()};am.prototype.jd=function(b){var h=this.ba();
delete h[b.currentTarget.acX];this.D8(h)};am.prototype.mZ=function(b){var h=this.ba(),G=this.H6,H=!0;
for(var B in G)if(JSON.stringify(G[B])!=JSON.stringify(h[B]))H=!1;for(var B in h)if(JSON.stringify(G[B])!=JSON.stringify(h[B]))H=!1;
if(H)return;var j=new hb(w.E.r,!0);j.S=E.nc;j.data={q:C.n2,oF:h};this.Q(j);this.H6=h;this.D8(h)};am.ad0=function(b){function h(B){var j=B.toLowerCase();
return B==j}var G=b.split(":").pop();for(var H=1;H<G.length-1;H++){if(G[H]==G[H].toUpperCase()&&(h(G[H+1])||h(G[H-1]))){G=G.slice(0,H)+" "+G.slice(H);
H++}}return G};am.prototype.Fd=function(b,h){this.H6=b.wp;this.D8(b.wp)};am.prototype.D8=function(b){var h=this.ZH,B=0;
u._I(h);var G=this.jT={},H=["tiff","exif","exif:GPS"],j=this.I8=[],s=[];for(var q in c8.UM){var Q=am.ad0(q),a=0,l=15,U=null;
if(b[q]==null){if(c8.UM[q].length!=1||q=="photoshop:Credit"||q=="photoshop:Source"){j.push(q);s.push(Q)}continue}for(var Y=0;
Y<H.length;Y++)if(q.startsWith(H[Y]))a=Y;if(a!=B){u.MX(h);B=a}if(q=="tiff:ImageDescription"||q=="dc:Keywords"){l=18.5;
U=3}var N=new aG(Q,null,l,U);G[q]=N;var R=b[q];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var S=new gX("\u2716",null,bp.get([5,4]));
h.appendChild(S.Z);S.O("click",this.jd,this);S.acX=q;N.k(R);h.appendChild(N.Z);u.pP(h);if(q=="exif:GPSLongitude"&&b["exif:GPSLatitude"]){this.a4v=am.auV(b["exif:GPSLatitude"])+","+am.auV(b["exif:GPSLongitude"]);
var g=new gX("Show on map",!1,null,!0);h.appendChild(g.Z);u.pP(h);g.O("click",this.a6U,this)}}this.cP.mX(s);
this.cP.k(0)};am.prototype.ba=function(){var b=this.jT,h=c8.UM,G={};for(var H in h){var B=h[H][0],j=typeof B;
if(B==null||b[H]==null)continue;var s=b[H].l(),q="The value of \""+am.ad0(H)+"\" must ";if(j=="number"){s=parseFloat(s);
if(isNaN(s)){alert(q+"be a number.");s=B}}else if(B instanceof Array&&B.length==2){if(s.indexOf("/")==-1){alert(q+"be a fraction.");
s=B.slice(0)}else{s=s.split("/").map(parseFloat);if(isNaN(s[0])||isNaN(s[1])){s=B.slice(0)}}}G[H]=s}return G};
am.auV=function(b){var h=b.length,G=b.slice(0,h-1).split(",").map(parseFloat),H=b.slice(h-1),B=G[0]+G[1]/60+G[2]/3600;
if(H!="N"&&H!="E")B=-B;return B};am.prototype.a6U=function(b){window.open("https://maps.google.com?q="+this.a4v,"Map")};
function dA(){iD.call(this,[11,5],"gradienteditor");this.Ah=null;this.T7=null;this.Fu=null;this.Gb=null;
this.p6=!1;this.WE=!1;this.iU=null;this.OB=null;this.lS=-1;this.iK=-1;this.AH=0;this.zQ=this.CS.bind(this);
this._m=this.SW.bind(this);this.cj=u.I("canvas");this.ZI=this.cj.getContext("2d");this.cj.setAttribute("style","display:block");
this.nH=null;u.TB(this.cj);u.fm(this.cj,this.CK.bind(this));this.z0=u.I("div","form");this.oe=u.I("div");
this.IV=u.I("div","form");this.Tt=u.I("div");this.X7=new cP([12,44],[[15,10,0],[24,6]]);this.X7.O(w.E.w,this.ob,this);
this.body.appendChild(this.X7.Z);u.MX(this.body);var b=this.z0;this.J7=new bP([19,3,3],0,100,"%");this.J7.O(w.E.w,this.ob,this);
this.J7.parent=this;b.appendChild(this.J7.Z);u.pP(b);this.a52=new iM([12,0]);b.appendChild(this.a52.Z);
this.Qm=u.I("div","bordered padded noalign");b.appendChild(this.Qm);this.JI=new bP([12,0],0,100,"%");
this.JI.parent=this;this.JI.O(w.E.w,this.ob,this);this.Qm.appendChild(this.JI.Z);this.aT=new bP([12,40],0,100,"%");
this.aT.parent=this;this.aT.O(w.E.w,this.ob,this);this.Qm.appendChild(this.aT.Z);this.jj=new gX([5,4],!1,null,!0);
this.jj.O("click",this.aAf,this);this.Qm.appendChild(this.jj.Z);b.appendChild(this.oe);this.a17=new iM([13,0]);
b.appendChild(this.a17.Z);this.oy=u.I("div","bordered padded noalign");b.appendChild(this.oy);this.eb=new cP([12,44],[[12,45],[12,46],[12,47]]);
this.eb.O(w.E.w,this.ob,this);this.oy.appendChild(this.eb.Z);this.yz=new d8(!0);this.yz.parent=this;
this.yz.O(w.E.w,this.ob,this);this.oy.appendChild(this.yz.Z);this.oM=new bP([12,40],0,100,"%");this.oM.parent=this;
this.oM.O(w.E.w,this.ob,this);this.oy.appendChild(this.oM.Z);this.En=new gX([5,4],!1,null,!0);this.En.O("click",this.avf,this);
this.oy.appendChild(this.En.Z);var b=this.IV;this.Dy=new bP("Roughness",0,100,"%");this.Dy.O(w.E.w,this.ob,this);
this.Dy.parent=this;b.appendChild(this.Dy.Z);b.appendChild(this.Tt);this.YT=new gX([25,1,2],!1,null,!0);
this.YT.O("click",this.ob,this);b.appendChild(this.YT.Z);this.kp=u.H0(this);this.O("closebtn",this.cF,this)}dA.prototype=new iD;
dA.prototype.cF=function(b){if(this.p6)this.Gb(this.Ah)};dA.prototype.a=function(){iD.prototype.a.call(this);
this.kp.a();this.J7.a();this.a52.a();this.a17.a();this.jj.a();this.En.a();this.JI.a();this.aT.a();this.eb.a();
this.oM.a();this.YT.a()};dA.prototype.rN=function(b,h){this.Fu=b;if(h==ec.KI)this.wB()};dA.prototype.Fd=function(b,h){this.T7=JSON.parse(JSON.stringify(h.F));
this.Ah=JSON.parse(JSON.stringify(h.F));this.iU=this.OB=null;this.Gb=h.jO;this.p6=!1;this.WE=h.hh;this.wB();
this.di()};dA.prototype.Ip=function(b){var h=this.T7;this.Gb(h);this.close()};dA.prototype.BB=function(b){return b==ap.TD||b==ap.Y6};
dA.prototype.Z1=function(b,h,G,H){if(H.W(ap.TD)||H.W(ap.Y6)){if(this.OB)this.aAf();if(this.iU)this.avf()}};
dA.prototype.aAf=function(b){var h=this.T7.Trns.v;if(this.OB==null||h.length==1)return;h.splice(h.indexOf(this.OB),1);
this.OB=null;this.wB();this.di()};dA.prototype.avf=function(b){var h=this.T7.Clrs.v;if(this.iU==null||h.length==1)return;
h.splice(h.indexOf(this.iU),1);this.iU=null;this.wB();this.di()};dA.prototype.wB=function(){var b=this.cj,h=this.ZI;
if(this.T7==null)return;var G=u.V();b.width=Math.floor(410*G);b.height=Math.floor(70*G);u.o3(b,b.width,b.height);
b.style.marginTop="8px";this.nH=new io(0,0,Math.floor(380*G),Math.floor(32*G));this.nH.x=Math.floor((b.width-this.nH.j)/2);
this.nH.y=Math.floor((b.height-this.nH._)/2);var H=this.nH,B=H.j,j=H._,s=H.x,q=H.y,Q=new io(0,0,B,j),a=h.getImageData(0,0,B,j),l=new Uint8Array(a.data.buffer);
e.L0(l,B,j,8);var U=e.U(B*j*4);e.F.qU(this.T7,U,Q,[1/B,0,0,1/j],B/2,j/2,!1,0,this.Fu.nU,this.Fu.W9);
e.z.Nm("norm",U,H,l,H,H,1);h.clearRect(0,0,b.width,b.height);h.putImageData(a,s,q);var N=this.T7;if(N.Clrs){var R=N.Trns.v,S=N.Clrs.v,g=e.F.ei(N,this.Fu.nU,this.Fu.W9),i=Math.round(6*u.V()),y=Math.round(14*u.V()),o=this.OB?this.OB.v:null,v=this.iU?this.iU.v:null;
for(var Y=0;Y<R.length;Y++){var Z=R[Y].v,W=Math.round(255-255*Z.Opct.v.val/100);if((Z==o||R[Y-1]&&R[Y-1].v==o||Y==this.iK)&&Y!=0){h.fillStyle="#000000";
h.fillRect(s-3+B*(R[Y-1].v.Lctn.v+(Z.Lctn.v-R[Y-1].v.Lctn.v)*Z.Mdpn.v/100)/4096,q-6-2,6,6)}if(Z==o){h.fillStyle="#ffffff";
h.fillRect(s-i+B*(Z.Lctn.v/4096)-2,q-2-y-2,2*i+4,y+4)}h.fillStyle="rgb("+W+","+W+","+W+")";h.fillRect(s-i+B*(Z.Lctn.v/4096),q-2-y,2*i,y)}for(var Y=0;
Y<S.length;Y++){var d=S[Y].v,$=g[0][Y][0];if((d==v||S[Y-1]&&S[Y-1].v==v||Y==this.lS)&&Y!=0){h.fillStyle="#000000";
h.fillRect(s-3+B*(S[Y-1].v.Lctn.v+(d.Lctn.v-S[Y-1].v.Lctn.v)*d.Mdpn.v/100)/4096,q+j+2,6,6)}if(d==v){h.fillStyle="#ffffff";
h.fillRect(s-i+B*(d.Lctn.v/4096)-2,q+j+2-2,2*i+4,y+4)}h.fillStyle="rgb("+Math.round($.$)+", "+Math.round($.B)+","+Math.round($.J)+")";
h.fillRect(s-i+B*(d.Lctn.v/4096),q+j+2,2*i,y)}}if(this.WE){this.Gb(this.T7);this.p6=!0}};dA.prototype.di=function(){var b=this.T7,h=b.Clrs?0:1;
this.X7.k(h);if(u.Pg(this.z0))this.body.removeChild(this.z0);if(u.Pg(this.IV))this.body.removeChild(this.IV);
(h==0?this.oe:this.Tt).appendChild(this.cj);if(h==0){this.body.appendChild(this.z0);this.J7.k(Math.round(100*b.Intr.v/4096));
var G=b.Trns.v,H=b.Clrs.v,B=this.OB!=null,j=this.iK!=-1;this.JI.d3(B);this.aT.d3(B||j);this.jj.d3(B);
if(B){this.Qm.setAttribute("style","");var s=this.OB.v;this.aT.k(Math.round(100*s.Lctn.v/4096));this.JI.k(s.Opct.v.val)}if(j)this.aT.k(G[this.iK].v.Mdpn.v);
var B=this.iU!=null,j=this.lS!=-1;this.eb.d3(B);this.yz.d3(B);this.oM.d3(B||j);this.En.d3(B);if(B){this.oy.setAttribute("style","");
var q=this.iU.v;this.oM.k(Math.round(100*q.Lctn.v/4096));var Q=q.Type.v.Clry;this.eb.k(["FrgC","BckC","UsrS"].indexOf(Q));
if(Q=="FrgC")this.yz.HS(this.Fu.nU);if(Q=="BckC")this.yz.HS(this.Fu.W9);if(Q=="UsrS")this.yz.k(q.Clr.v)}if(j)this.oM.k(H[this.lS].v.Mdpn.v)}else{this.body.appendChild(this.IV);
this.Dy.k(Math.round(100*b.Smth.v/4096))}this.body.appendChild(this.kp.Z)};dA.prototype.ob=function(b){var h=this.T7,G=h.Clrs?0:1;
if(b.target==this.X7){var H=G==0?JSON.parse(dE.eI.afq).v:gY.Az("grdm").Grad.v;this.T7=H;this.di();this.wB();
return}if(G==0){h.Intr.v=Math.round(4096*this.J7.l()/100);var B=h.Trns.v,j=h.Clrs.v;if(this.OB!=null){var s=this.OB.v;
s.Lctn.v=Math.round(4096*(this.aT.l()/100));s.Opct.v.val=this.JI.l()}if(this.iU!=null){var q=this.iU.v;
q.Lctn.v=Math.round(4096*(this.oM.l()/100));if(b.target==this.yz)this.eb.k(2);var Q=this.eb.l();q.Type.v.Clry=["FrgC","BckC","UsrS"][Q];
if(Q==2)q.Clr={t:"Objc",v:this.yz.l()};else if(q.Clr)delete q.Clr}if(this.iK!=-1)B[this.iK].v.Mdpn.v=this.aT.l();
if(this.lS!=-1)j[this.lS].v.Mdpn.v=this.oM.l()}else{h.Smth.v=Math.round(4096*this.Dy.l()/100);if(b.target==this.YT)h.RndS.v=Math.floor(Math.random()*4294967295)}this.wB()};
dA.prototype.CK=function(b){var h=u.Kz(b,this.cj),G=this.nH,H=(h.x*u.V()-G.x)/G.j,B=(h.y*u.V()-G.y)/G._,j=this.T7.Trns.v,s=this.T7.Clrs.v,q=null,Q=null,a=-1,l=-1;
if(B<1)for(var Y=0;Y<j.length;Y++){var U=j[Y].v;if(Math.abs(U.Lctn.v/4096-H)<.02)q=j[Y];if(Y>0)if(Math.abs((j[Y-1].v.Lctn.v+(U.Lctn.v-j[Y-1].v.Lctn.v)*U.Mdpn.v/100)/4096-H)<.01)a=Y}if(B>0)for(var Y=0;
Y<s.length;Y++){var N=s[Y].v;if(Math.abs(N.Lctn.v/4096-H)<.02)Q=s[Y];if(Y>0)if(Math.abs((s[Y-1].v.Lctn.v+(N.Lctn.v-s[Y-1].v.Lctn.v)*N.Mdpn.v/100)/4096-H)<.01)l=Y}if(Q==null&&q==null&&a==-1&&l==-1){if(B<0){var U={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(H*4096);j.push(U);j.sort(this.hr);q=U}if(B>1){var s=this.T7.Clrs.v,R=e.F.ei(this.T7,this.Fu.nU,this.Fu.W9),S=e.F.wA(this.T7,R,H),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:e.F.t1({$:S&255,B:S>>8&255,J:S>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
N.v.Lctn.v=Math.round(H*4096);s.push(N);s.sort(this.hr);Q=N}}if(Q!=null)l=-1;if(q!=null)a=-1;if(Q!=null||q!=null||a>-1||l>-1){this.OB=q;
this.iU=Q;this.iK=a;this.lS=l;this.di();this.wB();u.fe(window,this.zQ);u.$f(window,this._m)}};dA.prototype.CS=function(b){var h=u.Kz(b,this.cj),G=this.nH,H=(h.x*u.V()-G.x)/G.j,B=(h.y*u.V()-G.y)/G._;
H=Math.max(0,Math.min(1,H));var j=this.T7.Trns.v,s=this.T7.Clrs.v;if(this.OB!=null){var q=this.OB.v;
q.Lctn.v=Math.round(4096*H);var Q=j.indexOf(this.OB);if(Q!=-1&&B<-1&&j.length>1)j.splice(Q,1);if(Q==-1&&B>-1)j.push(this.OB);
j.sort(this.hr)}if(this.iU!=null){var a=this.iU.v;a.Lctn.v=Math.round(4096*H);var l=s.indexOf(this.iU);
if(l!=-1&&B>2&&s.length>1)s.splice(l,1);if(l==-1&&B<2)s.push(this.iU);s.sort(this.hr)}if(this.iK>-1){var q=j[this.iK].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(H*4096-j[this.iK-1].v.Lctn.v)/(q.Lctn.v-j[this.iK-1].v.Lctn.v))))}if(this.lS>-1){var a=s[this.lS].v;
a.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(H*4096-s[this.lS-1].v.Lctn.v)/(a.Lctn.v-s[this.lS-1].v.Lctn.v))))}if(this.OB!=null||this.iU!=null||this.iK>-1||this.lS>-1){this.di();
this.wB()}};dA.prototype.SW=function(b){u.CV(window,this.zQ);u.iF(window,this._m);if(Date.now()-this.AH<300){if(this.lS!=-1||this.iK!=-1){var h=(this.lS!=-1?this.T7.Clrs.v[this.lS]:this.T7.Trns.v[this.iK]).v;
h.Mdpn.v=50;this.di();this.wB()}else if(this.iU!=null)this.yz.$r()}this.AH=Date.now()};dA.prototype.hr=function(b,h){return b.v.Lctn.v-h.v.Lctn.v};
function fy(){iD.call(this,[11,5],"vgradienteditor");this.Gb=null;this.rq=new hp;this.rq.parent=this;
this.body.appendChild(this.rq.Z);this.kp=u.H0(this,this.body)}fy.prototype=new iD;fy.prototype.Fd=function(b,h){this.Gb=h.jO;
this.rq.k(h.P)};fy.prototype.a=function(){iD.prototype.a.call(this);this.rq.a()};fy.prototype.Ip=function(b){this.Gb(this.rq.l());
this.close()};function dr(b){iD.call(this,b=="isize"?[11,10]:[11,3],b);this.aoe=b;this.HN=null;var h=u.I("div","form");
h.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(h);var G=b=="csize";
this.a76=new iM("Hi");h.appendChild(this.a76.Z);u.pP(h);this.Pb=new eo(!0,!0,G,G,!0);if(G)this.Pb.agb(!1);
h.appendChild(this.Pb.Z);this.tx=new iI([12,25,3]);this.tx.k(!0);this.tx.O(w.E.w,this.ajp,this);this.rf=new cP(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.rf.k(1);this._C=new er([12,23,2],41);this._C.k(4);if(b=="isize"){h.appendChild(this.tx.Z);h.appendChild(this.rf.Z)}else h.appendChild(this._C.Z);
this.kp=u.H0(this,this.body)}dr.prototype=new iD;dr.prototype._q=function(b,h){return b!=null};dr.prototype.W1=function(){return!0};
dr.prototype.BB=function(b){return this.aoe=="isize"?!1:[ap.Nu,ap.YF,ap.KQ,ap.y3].indexOf(b)!=-1};dr.prototype.Z1=function(b,h,G,H){if(H.W(ap.pr))this.Ip();
this._C.aBk(H.in())};dr.prototype.a=function(){iD.prototype.a.call(this);this.Pb.a();this.tx.a();this.rf.a();
this._C.a();this.kp.a()};dr.prototype.Ip=function(b){var h=this.Pb.l(),G=h.x,H=h.y,B=new hb(w.E.IK,!0),j=this.Pb.KC.l();
if(this.aoe=="csize"){if(j){var s=this.Pb.n9,q=this.Pb.Fc;G=q.x-s.x;H=q.y-s.y}B.data=E.w8.adn(G,H,this._C.l(),j)}else{var Q=this.rf.l();
if(!this.tx.l())Q=null;var a=this.Pb.a4t(),l=this.HN;console.log(a);if(a==1)B.data=E.w8.NW(G/l.x,H/l.y,this.Pb.z5(),Q,!0);
else B.data=E.w8.NW(G,H,this.Pb.z5(),Q)}this.close();this.Q(B)};dr.prototype.Fd=function(b,h){this.HN=new cJ(b.j,b._);
this.Pb.k(this.HN,b.O4);this.Pb.jq();this.a76.k(bp.get(this.s1)+": "+(b.j*b._/1e6).toFixed(2)+" MPx")};
dr.prototype.ajp=function(b){var h=this.tx.l(),G=this.Pb,H=this.rf;if(h)H.db();else H.ay();G.a5h(h)};
function fN(){iD.call(this,"Import RAW","importraw");var b=u.I("div","flexrow"),h=u.I("div");h.setAttribute("style","margin-bottom: 1em");
this.body.appendChild(b);this.body.appendChild(h);var G=u.I("div","form");G.setAttribute("style","width:18em");
b.appendChild(G);var H=u.I("div","form");H.setAttribute("style","width:15em");b.appendChild(H);this.Ov=null;
this.e$=null;this.qf=null;this.Db=null;this.ak8=[];var B=[];for(var Y=0;Y<fN.Yi.length;Y++)B.push(fN.Yi[Y]+" Bits");
var j=this.AC=[new eo(!0,null,null,!0),new bP([12,72],1,8),new iI("Last one is Transparency"),new g2([12,34],B),new g2("Byte Order",["12-34","34-12"]),new cP("Guesses",[])];
for(var Y=0;Y<j.length;Y++){var s=j[Y];s.parent=this;s.O(w.E.w,Y==5?this.afi:this.hO,this);var q=Y==0?G:Y==5?h:H;
q.appendChild(s.Z)}this.cj=u.I("canvas");this.ZI=this.cj.getContext("2d");this.body.appendChild(this.cj);
this.kp=u.H0(this,this.body)}fN.prototype=new iD;fN.prototype.a=function(){iD.prototype.a.call(this);
var b=this.AC;this.kp.a();for(var Y=0;Y<b.length;Y++)b[Y].a()};fN.prototype.Ip=function(b){this.close();
var h=this.AC[0].l(),G=aT.Eo(this.e$,[{data:this.qf,jD:new io(0,0,h.x,h.y)}]);if(this.Db)G.$B=this.Db;
var H=new hb(w.E.b,!0);H.data={q:!0?w.p.zX:w.p.cN,tR:G};this.Q(H)};fN.Yi=[8,16];fN.prototype.Fd=function(b,h){this.Ov=new Uint8Array(h.bY);
this.e$=h._6;var G=this.Ov.length,H=[1,3,4],B=0,j=0,s=1,q=1,Q=this.ak8=[],a=Math.round(Math.sqrt(G)*2);
a=Math.max(a,4e3);for(var l=0;l<3;l++){for(var U=0;U<2;U++){var N=fN.Yi[U],R=H[l],S=R*N,g=Math.round(G*8/S);
if(g!=G*8/S)continue;for(var i=0;i<=a;i++)for(var y=0;y<=a;y++)if(i*y==g){var o=0;if(i==y)o+=64;if(Math.round(i/100)==i/100&&Math.round(y/100)==y/100)o+=32;
if(Math.round(i/10)==i/10&&Math.round(y/10)==y/10)o+=16;if(Math.round(i/2)==i/2&&Math.round(y/2)==y/2)o+=8;
Q.push([i,y,R,N,o])}}}var v=function($,I){if(I[4]!=$[4])return I[4]-$[4];var k=Math.max($[0],$[1])/Math.min($[0],$[1]),_=Math.max(I[0],I[1])/Math.min(I[0],I[1]);
if(k!=_)return k-_;return I[0]-$[0]};Q.sort(v);var Z=this.AC,W=[];for(var Y=0;Y<Q.length;Y++){var d=Q[Y];
W.push(d[0]+" x "+d[1]+", "+d[2]+"ch, "+d[3]+"-bit")}Z[5].mX(W);Z[5].k(0);this.afi(null)};fN.prototype.afi=function(b){var h=this.AC,G=this.ak8[this.AC[5].l()];
h[0].k(new cJ(G[0],G[1]),72);h[1].k(G[2]);h[3].k(fN.Yi.indexOf(G[3]));this.hO()};fN.prototype.hO=function(b){var h=this.AC,G=h[0].l(),H=G.x,B=G.y,j=fN.Yi[h[3].l()],s=this.Ov;
if(j==16&&h[4].l()==1){s=s.slice(0);for(var Y=0;Y<s.length;Y+=2){var q=s[Y];s[Y]=s[Y+1];s[Y+1]=q}}var Q=this.qf=this.ho(s,H,B,h[1].l(),j,h[2].l()),a=this.cj,l=this.ZI,U=[Q,new io(0,0,H,B)];
e.tT(U);for(var Y=0;Y<U.length;Y+=2)if(U[Y+1]._<300){Q=U[Y];H=U[Y+1].j;B=U[Y+1]._;break}a.width=H;a.height=B;
u.o3(a,H,B);var N=new ImageData(new Uint8ClampedArray(Q.buffer),H,B);l.putImageData(N,0,0)};fN.prototype.ho=function(b,h,G,H,B,j){this.Db=null;
var s=[],q=h*G;for(var Q=0;Q<H;Q++){var a=e.U(q);s.push(a);if(B==8)for(var Y=0;Y<q;Y++)a[Y]=b[Y*H+Q];
else if(B==16)for(var Y=0;Y<q;Y++)a[Y]=Math.round((b[(Y*H+Q)*2]<<8|b[(Y*H+Q)*2+1])*(255/65535))}var l=e.U(q*4);
new Uint32Array(l.buffer).fill(4278190080);if(j){e.aj(s.pop(),l,3);H--}if(H==0){}else if(H==1)e.YP(s[0],l);
else{e.aj(s[0],l,0);e.aj(s[1],l,1);if(H>2){e.aj(s[2],l,2);if(H>3){this.Db=[];for(var Y=3;Y<H;Y++){var U=new C.Tc;
U.name="Alpha "+(Y-2);U.rect=new io(0,0,h,G);U.channel=s[Y];this.Db.push(U)}}}}return l};function cf(b,h,G){dQ.call(this);
this.Z=u.I("div","");this.$$=b;this.LV=null;this.rq=h==null?!1:h;this.wr=null;this.Zo=G;this.sG=[];this.q8=[];
this.Ya=[];this.DJ=[];this.dX=0;this.LV=this.acl(cf.DJ[b]);this.TR();this.Ix=null;this.ajx;this.aop}cf.prototype=new dQ;
cf.prototype.Ay=function(b,h,G,H,B){this.Ix=B;this.ajx=JSON.parse(JSON.stringify(this.wr));if(this.LV.lagl)this.aop=this.LV.lagl.l()[0]};
cf.prototype.Jl=function(b,h,G,H,B){var j=this.Ix,s=this.$$,q=this.ajx;if(j==null)return;var Q=(B.x-j.x)/b.s.D,a=(B.y-j.y)/b.s.D;
if(s=="GrFl"){var l=JSON.parse(JSON.stringify(q.Ofst.v));l.Hrzn.v.val+=Q*.5;l.Vrtc.v.val+=a*.5;this.LV.Ofst.k(l,!0)}if(s=="patternFill"){var l=JSON.parse(JSON.stringify(q.phase.v));
l.Hrzn.v+=Q;l.Vrtc.v+=a;this.LV.phase.k(l,!0)}if(s=="DrSh"||s=="IrSh"||s=="ChFX"){var U=q.Dstn.v.val,N=this.aop*Math.PI/180,R=-Math.cos(N)*U+Q,S=Math.sin(N)*U+a;
this.LV.Dstn.k(Math.sqrt(R*R+S*S),!0);this.LV.lagl.k([Math.atan2(S,-R)*180/Math.PI],!0)}};cf.prototype.dq=function(b,h,G,H,B){this.Ix=null};
cf.prototype.aqw=function(){for(var Y=0;Y<this.DJ.length;Y++){u.Yx(this.DJ[Y],"selected");if(this.Ya[Y]instanceof iI)this.Ya[Y].k(!1)}};
cf.prototype.aCn=function(b){var h=this.a1r.bind(this);for(var Y=0;Y<this.Ya.length;Y++){var G=u.I("div","listitem");
this.DJ.push(G);if(Y>0)G.textContent="\u2003";G.appendChild(this.Ya[Y].Z);if(dE.aDJ.indexOf(this.$$)!=-1){var H=new gX("+");
H.zr();H.Z.style.float="right";G.appendChild(H.Z);var B=new gX("\u2B0D");B.zr();B.Z.style.float="right";
B.Z.style["margin-right"]="2px";G.appendChild(B.Z)}G.addEventListener("click",h,!1);b.appendChild(G)}};
cf.ed=function(b,h){var G=h.getBoundingClientRect();return(b.clientY-G.top)/G.height};cf.prototype.a1r=function(b){var h=b.target.tagName.toLowerCase();
if(h=="input"){return}if(h=="button"){var G=new hb(w.E.r,!0),H=b.target.textContent=="+",B=H?0:cf.ed(b,b.target)<.5?-1:1;
if(H)G.data={q:"st_dupsingle",o:this.parent.data.o,Zh:this.Zo};else G.data={q:"st_movsingle",o:this.parent.data.o,Zh:this.Zo,au6:B};
G.S=E._s;G.G2=!0;this.Q(G);G=new hb("redrawall",!0);G.data={au6:B};this.Q(G);return}u.oO(b);this.Ue();
this.dX=this.DJ.indexOf(b.currentTarget);this.Q(new hb("showme"))};cf.prototype.Ue=function(){if(this.LV.enab&&this.LV.enab.l()==!1)this.w0({Pm:"enab",P:!0})};
cf.prototype.aol=function(){var b=this.DJ[this.dX];if(b)u.eS(b,"selected");return this.q8[this.dX]};
cf.prototype.acl=function(b){var h={};for(var Y=0;Y<b.length;Y++){var G=b[Y],H=null;if(G=="----")H={Z:u.I("hr")};
if(G=="\n")H={Z:u.I("br")};if(G=="blOptions")H=new iM([14,10]);if(G=="brst")H=new jH([12,72],["R","G","B"]);
if(G=="knko")H=new cP("Knockout",[[13,1,0],"Shallow","Deep"]);if(G=="enab")H=new iI(dE.names[dE.order.indexOf(this.$$)]);
if(G=="lrMd"||G=="Md")H=new cP([12,19,0],aq.US,aq.B2);if(G=="Opct")H=this.rq?new bP([12,0],0,100,"%"):new el([12,0],0,100,"%");
if(G=="iOpa")H=new el([12,26],0,100,"%");if(G=="blIf")H=new cH;if(G=="ShdN")H=new el([12,68],0,100,"%");
var B=this.$$=="St3D"&&G=="lagl";if(G=="lagl"||G=="Angl")H=new f8(B?"Light":[12,15],this.$$=="ebbl"||B);
if(G=="uglg")H=new iI([12,27]);if(G=="Dstn")H=new el([12,28],0,200,"px");if(G=="Ckmt")H=new el([12,29],0,100,"%");
if(G=="Srnk")H=new el("Shrink",0,100,"%");if(G=="Drkn")H=new el("Darken",0,100,"%");if(G=="blur")H=new el([12,14,0],0,200,"px");
if(G=="TrnS"||G=="MpgS")H=new hm([12,21]);if(G=="Nose")H=new el([12,30],0,100,"%");if(G=="layerConceals")H=new iI([12,31]);
if(G=="Cntn")H=new iI([12,25,4]);if(G=="AntA"||G=="antialiasGloss")H=new iI([12,25,1]);if(G=="GlwT")H=new cP([12,32],dE.cu.names);
if(G=="glwS")H=new cP([12,70],dE.cu.aAe);if(G=="Inpr")H=new el([12,12],1,100,"%");if(G=="bvlS")H=new cP([12,22],dE.rZ.style);
if(G=="bvlT")H=new cP([12,32],dE.rZ.azG);if(G=="bvlD")H=new cP(null,dE.rZ.dir);if(G=="srgR")H=new el([12,34],0,1e3,"%");
if(G=="Sftn")H=new el([12,35],0,20,"px");if(G=="Lald")H=h.lagl;if(G=="hglM"||G=="sdwM")H=new cP([12,36],aq.US,aq.B2);
if(G=="hglC"||G=="sdwC")H=new d8;if(G=="hglO"||G=="sdwO")H=new el([12,0],0,100,"%");if(G=="Invr"||G=="InvT")H=new iI([4,11]);
if(G=="overprint")H=new iI("Overprint");if(G=="Sz")H=new el([12,14,0],1,200,"px");if(G=="Styl")H=new cP([12,40],dE.stroke.names);
if(G=="PntT")H=new cP([12,66],dE.stroke.am0);if(G=="Clr")H=new d8(!0);if(G=="Grad"){H=new cD(!0,this.rq?null:[12,37],!0);
H.k(JSON.parse(dE.eI.azL).v)}if(G=="Rvrs")H=new iI([12,23,0]);if(G=="Dthr")H=new iI([12,23,3]);if(G=="Type")H=new cP(this.rq?null:[12,22],dE.F.names.slice(0,this.$$=="FrFX"?6:5));
if(G=="Ptrn")H=new gv([12,62]);if(G=="Scl")H=new el([12,38],5,500,"%",0,!0);if(G=="Algn")H=new iI([12,39]);
if(G=="Ofst")H=new c9(!0);if(G=="phase")H=new c9(!1);if(G=="useShape")H=new iI([12,21]);if(G=="useTexture")H=new iI([12,67]);
if(G=="textureDepth")H=new el([12,34],-300,300,"%");var j=G=="----"||G=="\n"?G+Y:G;if(H!=null)h[j]=H}return h};
cf.prototype.a2o=function(b){var h=this.q8[this.dX];for(var Y=0;Y<b.length;Y++){var G=this.LV[b[Y]];
if(G&&h.contains(G.Z))h.removeChild(G.Z)}};cf.prototype.acm=function(b){var h=this.q8[this.dX];for(var Y=0;
Y<b.length;Y++){var G=this.LV[b[Y]];if(G&&!h.contains(G.Z))h.appendChild(G.Z)}};cf.prototype.rN=function(b,h){if(this.LV==null)return;
var G=h==ec.GH;if(this.LV.Grad){this.LV.Grad.zN(b.nU,b.W9);if(G||h==ec.KI||h==ec.bX)this.LV.Grad.Cv(b.nC)}if(this.LV.Ptrn){if(G||h==ec.Pl)this.LV.Ptrn.Cv(b.hK)}if(this.LV.TrnS){if(G||h==ec.CR)this.LV.TrnS.Cv(b.NX)}if(this.LV.MpgS){if(G||h==ec.CR)this.LV.MpgS.Cv(b.NX)}};
cf.prototype.a=function(){for(var Y=0;Y<this.sG.length;Y++)this.sG[Y].a();for(var b in this.LV)if(this.LV[b]instanceof dQ)this.LV[b].a()};
cf.prototype.TR=function(){for(var b in this.LV){var h=this.LV[b];h.parent=this;if(h instanceof dQ)h.O(w.E.w,this.aCf,this);
if(this.q8.length==0||b=="useShape"||b=="useTexture"){var G=new iM(h.aeT()),H=u.I("div","bordered padded");
if(this.rq==!1){H.appendChild(G.Z);H.appendChild(u.I("hr",""))}this.sG.push(G);this.q8.push(H);this.Ya.push(h)}else this.q8[this.q8.length-1].appendChild(h.Z)}};
cf.prototype.update=function(b,h){if(this.LV==null)return;this.wr=JSON.parse(JSON.stringify(h));for(var G in h){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(G)!=-1)this.LV[G].k(h[G].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(G)!=-1){this.LV[G].k(h[G].v,b)}if(["Md","hglM","sdwM"].indexOf(G)!=-1)this.LV[G].k(aq.$$.indexOf(h[G].v.BlnM));
if(G=="lrMd"){var H=(h.fu?[[15,10,27]]:[]).concat(aq.US),B=(h.fu?[1]:[]).concat(aq.B2);this.LV[G].mX(H,B);
this.LV[G].k(h[G].v)}if(G=="Angl")this.LV[G].k([h[G].v.val]);if(G=="lagl"){var j=h.uglg&&h.uglg.v?b.lR():h.lagl.v.val;
this.LV[G].k([j])}if(G=="Lald"){var j=h.uglg&&h.uglg.v?b.dk():h.Lald.v.val;this.LV[G].k([null,j])}if(G=="Type")this.LV[G].k(dE.F.types.indexOf(h.Type.v.GrdT));
if(G=="Styl")this.LV[G].k(dE.stroke.types.indexOf(h.Styl.v.FStl));if(G=="PntT"){var s=dE.stroke.xh.indexOf(h.PntT.v.FrFl);
this.LV[G].k(s);if(!this.rq){this.a2o(dE.L1.concat(dE.WH.concat(dE.aa)));this.acm([dE.L1,dE.WH,dE.aa][s])}}if(G=="GlwT")this.LV[G].k(dE.cu.types.indexOf(h.GlwT.v.BETE));
if(G=="glwS")this.LV[G].k(dE.cu.aui.indexOf(h.glwS.v.IGSr));if(G=="bvlS")this.LV[G].k(dE.rZ.types.indexOf(h.bvlS.v.BESl));
if(G=="bvlT")this.LV[G].k(dE.rZ.axz.indexOf(h.bvlT.v.bvlT));if(G=="bvlD")this.LV[G].k(["In","Out"].indexOf(h.bvlD.v.BESs))}};
cf.prototype.aCf=function(b){for(var h in this.LV){if(this.LV[h]!=b.target)continue;var G=null,H=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(h)!=-1)G={type:"#Prc",val:b.target.l()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(h)!=-1)G={type:"#Pxl",val:b.target.l()};if(["Angl","lagl"].indexOf(h)!=-1)G={type:"#Ang",val:b.target.l()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(h)!=-1)G=b.target.l();
if(["Md","hglM","sdwM"].indexOf(h)!=-1)G={BlnM:aq.$$[b.target.l()]};if(h=="uglg"){G=b.target.l();H=!0}if(h=="PntT"){G={FrFl:dE.stroke.xh[b.target.l()]};
H=!0}if(h=="Lald")G={type:"#Ang",val:b.target.l()[1]};if(h=="Type")G={GrdT:dE.F.types[b.target.l()]};
if(h=="Styl")G={FStl:dE.stroke.types[b.target.l()]};if(h=="GlwT")G={BETE:dE.cu.types[b.target.l()]};
if(h=="glwS")G={IGSr:dE.cu.aui[b.target.l()]};if(h=="bvlS")G={BESl:dE.rZ.types[b.target.l()]};if(h=="bvlT")G={bvlT:dE.rZ.axz[b.target.l()]};
if(h=="bvlD")G={BESs:["In","Out"][b.target.l()]};this.w0({Pm:h,P:G});if(H){if(this.rq)this.update(null,this.wr);
else{var B=this.parent,j=B.tR,s=this.Zo,q=j.R[B.data.o].add.lmfx[dE.CM[s[0]]].v[s[1]].v;this.update(j,q)}}}};
cf.prototype.w0=function(b){if(this.wr&&this.wr[b.Pm])this.wr[b.Pm].v=b.P;if(this.rq){this.Q(new hb(w.E.w))}else{b.q="changeprop";
b.o=this.parent.data.o;b.V9=this.Zo;var h=new hb(w.E.r,!0);h.data=b;h.S=E._s;h.G2=!0;this.Q(h);this.Q(new hb("afterchange",!0))}};
cf.prototype.l=function(){return JSON.parse(JSON.stringify(this.wr))};cf.DJ={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(dE.L1),GrFl:["enab","Md","Opct"].concat(dE.WH),patternFill:["enab","Md","Opct"].concat(dE.aa),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(dE.L1.concat(dE.WH.concat(dE.aa)))};
function cZ(){iD.call(this,[11,6],"layerstyle");this.au$=-1;this.data={};this.tR=null;this.Cc=null;this.Ds=[];
this.Vh=[];u.eS(this.body,"flexrow");this.sf=u.I("div","bordered");this.sf.setAttribute("style","min-width:13em;");
this.body.appendChild(this.sf);this.ra=u.I("div","");this.ra.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.ra);this.GE=u.I("div","form");this.GE.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.GE);this.kp=u.H0(this,this.GE);this.L4=new gX([12,87],!0,null,!0);this.L4.O("click",this.ai0,this);
this.GE.appendChild(this.L4.Z);this.Ym=new j$;this.Ym.parent=this;this.Ym.O(w.E.w,this.aws,this);this.GE.appendChild(this.Ym.Z);
this.O("closebtn",this.cF,this);this.O("redrawall",this.a6W,this)}cZ.prototype=new iD;cZ.prototype.W1=function(){return!0};
cZ.prototype.UJ=function(){return!0};cZ.prototype.Ay=function(b,h,G,H,B){var j=this.LB();if(j)j.Ay(b,h,G,H,B)};
cZ.prototype.Jl=function(b,h,G,H,B){var j=this.LB();if(j)j.Jl(b,h,G,H,B)};cZ.prototype.dq=function(b,h,G,H,B){var j=this.LB();
if(j)j.dq(b,h,G,H,B)};cZ.prototype.LB=function(b){if(b==null)b=this.data.index;return b==null?null:b==0?this.Ds[0]:this.Vh[b[0]][b[1]]};
cZ.prototype.aws=function(b){var h=this.Ym.l();this.w0({q:"setstl",P:h.Zv});this.a6W(null)};cZ.prototype.ai0=function(b){var h=this.tR,G=this.data.o;
if(G==null)G=h.T[0];var H=this.tR.R[G],B=eQ.ae9(H),j=new hb(w.E.b,!0);j.data={q:w.p.wP,hb:"add",CI:ec.vr,U$:[JSON.parse(JSON.stringify(B))]};
this.Q(j)};cZ.prototype.aeu=function(b){this.data.index=b.currentTarget.Zo;this.Jw(b.currentTarget.Zo)};
cZ.prototype.a6W=function(b){this.Fd(this.tR,this.data)};cZ.prototype.Jw=function(b,h){u._I(this.ra);
for(var Y=0;Y<this.Ds.length;Y++)this.Ds[Y].aqw();var G=this.LB(b);this.ra.appendChild(G.aol());if(h)G.Ue();
var H=this.tR;if(H){var B=H.R[this.data.o];this.Ds[0].update(H,E.kU.Ik(H,B));var j=B.add.lmfx;if(j==null)return;
for(var Y=0;Y<dE.order.length;Y++){var s=j[dE.CM[Y]].v;for(var q=0;q<s.length;q++)this.Vh[Y][q].update(H,s[q].v)}}if(h)G.Ue()};
cZ.prototype.a=function(){iD.prototype.a.call(this);this.L4.a();this.Ym.a();this.kp.a();for(var Y=0;
Y<this.Ds.length;Y++)this.Ds[Y].a()};cZ.prototype.Fd=function(b,h){var G=h.o==null;this.data.o=h.o;this.data.index=h.index;
h=this.data;this.tR=b;if(G)h.o=b.T.length==0?b.R.length-1:b.T[0];u._I(this.sf);var H=b.R[h.o].add.lmfx;
this.KS();this.Ds=[new cf("bops",!1,0)];this.Vh=[];for(var Y=0;Y<dE.order.length;Y++){this.Vh.push([]);
var B=H==null?[]:H[dE.CM[Y]].v;for(var j=0;j<B.length;j++){var s=new cf(dE.order[Y],!1,[Y,j]);this.Ds.push(s);
this.Vh[Y].push(s)}if(B.length==0){var s=new cf(dE.order[Y],!1,[Y,0]);this.Ds.push(s);this.Vh[Y].push(s)}}this.a();
this.a9C(this.Cc,ec.GH);for(var Y=0;Y<this.Ds.length;Y++){this.Ds[Y].parent=this;this.Ds[Y].aCn(this.sf);
this.Ds[Y].O("showme",this.aeu,this)}if(h.index==null||h.index==0||!G&&H[dE.CM[h.index[0]]].v.length==0){this.Jw(0)}else this.Jw(h.index,G);
this.O("afterchange",this.KS,this)};cZ.prototype.KS=function(b){var h=this.tR,G=this.data.o;if(G==null)G=h.T[0];
var H=this.tR.R[G],B=eQ.ae9(H);this.Ym.k(B,h.add.Patt?h.add.Patt:[],h.lR(),h.dk())};cZ.prototype.rN=function(b,h){this.Cc=b;
this.a9C(b,h);if(h==ec.vr||h==ec.GH){this.Ym.Cv([b.Oy,b.hK])}if(h==ec.HG){}};cZ.prototype.a9C=function(b,h){for(var Y=0;
Y<this.Ds.length;Y++)this.Ds[Y].rN(b,h)};cZ.prototype.cF=function(b){this.w0({q:"cancel"})};cZ.prototype.Ip=function(b){this.w0({q:"confirm"});
this.close()};cZ.prototype.w0=function(b){b.o=this.data.o;var h=new hb(w.E.r,!0);h.data=b;h.S=E._s;h.G2=!0;
this.Q(h);this.KS()};cZ.ayS=function(){var b=function(h){if(h==null||h.T.length==0)return{H:!1};var G=h.R[h.T[0]];
return{H:G.add.lmfx!=null}};return{name:[11,6],oq:!0,sub:[{name:[5,1],H:b},{name:[5,2]},{name:[2,2],H:b}]}};
cZ.a68=function(){return{sub:[{K:w.E.r,S:E._s,i:{q:"st_copy"}},{K:w.E.r,S:E._s,i:{q:"st_paste"}},{K:w.E.r,S:E._s,i:{q:"st_clear"}}]}};
cZ.w1=function(b){var h=[{name:[14,10],oq:!0}];for(var Y=0;Y<dE.names.length;Y++)h.push({name:dE.names[Y]});
if(b){h[h.length-1].oq=!0;h.push(cZ.ayS());h.push({name:[6,30,1],H:function(G){return{H:G!=null&&G.T.length!=0&&G.R[G.T[0]].JA()}}});
h.push({name:["VAR0 VAR1",[12,49],[9,1]],H:function(G){return{H:G!=null&&G.T.length!=0&&G.R[G.T[0]].add.lmfx!=null}}})}return h};
cZ.nk=function(b){var h=[{K:w.E.b,i:{q:w.p.C9,ut:"layerstyle"}}];for(var Y=0;Y<dE.names.length;Y++)h.push({K:w.E.b,i:{q:w.p.C9,ut:"layerstyle",index:[Y,0]}});
if(b){h.push(cZ.a68());h.push({K:w.E.b,i:{q:w.p.C9,ut:"scaleeffects",Wy:100,BM:{K:w.E.r,S:E._s,i:{q:"scaleeffects"}}}});
var G={classID:"Mk",null:aX.eP("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
h.push({K:w.E.IK,i:{f6:"make",yo:G}})}return h};cZ.ad3=function(b){var h=[];if(b)h.push({name:[6,48,0,0],gR:!0},{name:[6,48,0,1],gR:!0},{name:[6,48,0,2],gR:!0,oq:!0});
for(var G in eZ.names)h.push({name:eZ.names[G],oq:eZ.ahx.indexOf(G)!=-1,gR:iq[G]!=null});return h};cZ.W$=function(b){var h=[];
if(b){h.push({K:w.E.r,S:E.c2,i:{q:"newfill",qp:0}});for(var Y=1;Y<3;Y++)h.push({K:w.E.IK,i:E.kQ.s4(Y)})}for(var G in eZ.names){var H=gY.Az(G);
if(H==null)H={};for(var B in eZ.Vl)if(eZ.Vl[B]==G)H.classID=B;var j={f6:"make",yo:{classID:"Mk",null:aX.eP("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:H}}}}};
h.push({K:w.E.IK,i:j})}return h};function bE(){iD.call(this,"Merge Channels","mergechannels");this.OD=null;
var b=u.I("div","form");this.body.appendChild(b);this.AC=[];for(var Y=0;Y<3;Y++){var h=new cP(eZ.po[Y],[]);
this.AC.push(h);b.appendChild(h.Z);u.pP(b)}this.kp=u.H0(this,b)}bE.prototype=new iD;bE.prototype.a=function(){iD.prototype.a.call(this);
this.kp.a();for(var Y=0;Y<3;Y++)this.AC[Y].a()};bE.prototype.Fd=function(b,h,G,H){this.OD=G;var B=[];
for(var Y=0;Y<G.length;Y++)B.push(G[Y].name);for(var Y=0;Y<3;Y++){var j=this.AC[Y];j.mX(B);j.k(Math.min(Y,G.length-1))}};
bE.prototype.Ip=function(b){var h=this.OD,G=h[0],H=new hb(w.E.IK,!0);H.data=cj.VO(G.j,G._,G.O4,"Merged Document","Wht",!1);
this.Q(H);var B=[];for(var Y=0;Y<3;Y++)B.push(h[this.AC[Y].l()].Nw());var G=h[h.length-1],j=G.R[0],s=j.buffer;
for(var Y=0;Y<s.length;Y+=4){s[Y]=B[0][Y];s[Y+1]=B[1][Y];s[Y+2]=B[2][Y]}j.c();G.c();this.close()};function c5(){iD.call(this,[1,10],"script");
var b=u.I("div","form");b.setAttribute("style","width:44em");this.body.appendChild(b);this.Cc=null;this.g8=[];
this.Cn=[];this.a9s;var h=this.YN=new gX([1,2],!1,null,!0);h.O("click",this.mZ,this);b.appendChild(h.Z);
var G=new gX("JS Reference",!1,null,!0);G.O("click",this.ayn,this);b.appendChild(G.Z);b.appendChild(new iM("Demos:").Z);
this.aa_=[];var H=c5.NH;for(var Y=0;Y<H.length;Y++){var B=new gX(H[Y].Tb,!1,null,!0);this.aa_.push(B);
b.appendChild(B.Z);B.O("click",this.a2z,this)}this.KG=u.I("textarea");u.Yy(this.KG);this.KG.setAttribute("rows",16);
this.KG.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");b.appendChild(this.KG);
var j=new gX("Run",!0,null,!0);j.O("click",this.Ip,this);b.appendChild(j.Z);this.BS=u.I("div");b.appendChild(this.BS)}c5.prototype=new iD;
c5.prototype.a=function(){this.YN.a()};c5.prototype.mZ=function(){var b=this.a9s;if(b==null)b="script.jsx";
var h=new hb(w.E.b,!0);h.data={q:w.p.C9,ut:"namewindow",Wy:b.slice(0,b.length-4),QF:this.auv.bind(this)};
this.Q(h)};c5.prototype.auv=function(b){var h=this.KG.value,G=J.AY(h),H=new hb(w.E.b,!0);H.data={q:w.p.rI,bY:G.buffer,Lw:b+".jsx",aCN:!0};
this.Q(H)};c5.prototype.aBE=function(b){var Y=this.g8.indexOf(b.target),h=this.a9s=this.Cn[Y],G=this.Cc.XB.hX[h],H=new Uint8Array(G),B=J.S2(H,0,H.length);
this.KG.value=B};c5.prototype.Fd=function(b,h,G){this.KG.value=c5.NH[0].eN;this.atu()};c5.prototype.atu=function(){var b=this.Cc.XB,h=this.BS;
u._I(h);this.g8=[];this.Cn=[];h.textContent="Saved scripts: ";for(var G in b.hX){if(G.endsWith(".jsx")){var H=new gX(G,!1,null,!0);
this.g8.push(H);this.Cn.push(G);H.O("click",this.aBE,this);h.appendChild(H.Z)}}};c5.prototype.rN=function(b,h){this.Cc=b;
if(h==ec.Gf)this.atu()};c5.prototype.ayn=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.CL,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.Q(h)};c5.prototype.Ip=function(b){var h=this.KG.value,G=this.Cc.XB.hX;h=c5.adt(h,G);var H=new hb(w.E.b,!0);
H.data={q:w.p.um,gp:h};this.Q(H)};c5.adt=function(b,h){var G=b.split("\n");for(var Y=0;Y<G.length;Y++){var H=G[Y].trim();
if(H.startsWith("#include")){var B=H.slice(H.indexOf("\"")+1,H.lastIndexOf("\"")),j=h[B];if(j==null)alert("\""+B+"\" not found in the Local Storage");
G[Y]=c5.adt(J.S2(new Uint8Array(j)),h)}}return G.join("\n")};c5.prototype.a2z=function(b){var h=this.aa_.indexOf(b.currentTarget);
this.KG.value=c5.NH[h].eN};c5.NH=[{Tb:"Hello",eN:"\nalert(\"Hello Photopea!\");\n"},{Tb:"Process Layers",eN:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Tb:"Clone Layers",eN:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function aJ(){iD.call(this,[11,7],"newproject");this.data=null;this.OD=null;this.RH=0;var b=u.I("div","flexrow");
this.Er=b;this.body.appendChild(b);var h=u.I("div","form");this.ZH=h;b.appendChild(h);this.Gm=new aG([12,48],null,10);
h.appendChild(this.Gm.Z);u.pP(h);this.Pb=new eo(!0,null,null,null,!0);this.Pb.k(new cJ(1280,720),72);
if(fq==1){this.Pb.k(new cJ(8.3*300,11.7*300),300);this.Pb.FL(4)}this.Pb.a5h(!0,!0);this.Pb.O(w.E.w,this.Qu,this);
h.appendChild(this.Pb.Z);this.pf=new kd;this.pf.parent=this;if(fq==0)h.appendChild(this.pf.Z);this.bb=new gX("\u02C5",null,[0,14],!0);
this.bb.O("click",this.Fw,this);if(fq==0)h.appendChild(this.bb.Z);var G=this.Cb=u.I("span");h.appendChild(G);
G.style.display="none";this.a3$=new cP([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);G.appendChild(this.a3$.Z);
this.B3=new iI([1,16,1]);G.appendChild(this.B3.Z);this.kp=new gX([12,49],!0,null,!0);this.kp.O("click",this.Ip,this);
h.appendChild(this.kp.Z);var H=aJ.Ov,B=[];for(var Y=0;Y<H.length;Y++)B.push(H[Y].name);this.p9=new g2(null,B);
this.p9.O(w.E.w,this.a16,this);h.appendChild(this.p9.Z);this.p9.Z.style["margin-top"]="1em";this.dw=new cW(!0);
this.dw.O(w.E.w,this.aon,this);h.appendChild(this.dw.Z);this.a16();this.rS=new gT;this.rS.parent=this;
this.rS.Z.setAttribute("style","margin-left:1em");this.rS.O("tempready",this.asz,this)}aJ.prototype=new iD;
aJ.prototype.Fw=function(b){var h=this.Cb,G=h.style.display!="none";h.style.display=G?"none":"";this.bb.Sm(G?"\u02C5":"\u02C4");
this.Vb(this.Ps,this.CN)};aJ.prototype.rN=function(b,h){this.rS.rN(b)};aJ.prototype.Oa=function(b,h){return new cJ(Math.max(0,Math.min(70,(b-690)/2)),b>h?Math.max(0,Math.min(50,(h-400)/2)):0)};
aJ.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;this.ZH.setAttribute("style","width:"+Math.min(b-24,338)+"px");
this.dw.Z.style.height=h-248-(this.Cb.style.display=="none"?0:28)+(fq==0?0:28)+"px";var G=this.rS.Z,H=G.parentNode;
if(b<500){if(H!=null)this.Er.removeChild(G)}else{if(H==null)this.Er.appendChild(G);this.rS.Vb(b-378,h-28)}};
aJ.prototype.Qu=function(){this.rS.k(this.Pb.l())};aJ.prototype.aon=function(b){var h=this.dw.l()[0],G=aJ.Ov[this.p9.l()].Sy[h],H=G[4];
if(H==0)H=72;var B=G[1],j=G[2],s=["px","%","mm","in"].indexOf(G[3]),q=[1,1,25.4/H,1/H][s];B/=q;j/=q;
this.Pb.k(new cJ(Math.round(B),Math.round(j)),H);this.Pb.FL(s);this.Qu();if(Date.now()-this.RH<300)this.Ip();
this.RH=Date.now()};aJ.prototype.a16=function(b){var h=aJ.Ov[this.p9.l()].Sy,G=[],H=[],B=Math.round(106*u.V()),j=Math.round(106*u.V()),s=0;
for(var Y=0;Y<h.length;Y++)s=Math.max(s,h[Y][1],h[Y][2]);for(var Y=0;Y<h.length;Y++){var q=h[Y],Q=q[1]+" x "+q[2]+" "+q[3];
if(q[3]=="in")Q=(q[1]*25.4).toFixed(0)+" x "+(q[2]*25.4).toFixed(0)+" mm";if(q[3]=="mm")Q=(q[1]/25.4).toFixed(1)+" x "+(q[2]/25.4).toFixed(1)+" in";
if(q[4])Q=Q+" @ "+q[4]+" ppi";H.push(Q);G.push(aJ.DB(q,B,j,s))}this.dw.J_(G,H,B,j)};aJ.DB=function(b,h,G,H){var B=u.I("canvas",""),j=B.getContext("2d");
B.width=h;B.height=G;var s=Math.round(h/8),q=Math.floor(11*u.V()),Q=b[1],a=b[2];j.fillStyle="#000000";
j.font=Math.round(q*.9)+"px \"Open Sans\", Sans-Serif";var l=Q+" x "+a+" "+b[3],U=j.measureText(l);j.fillText(l,Math.round((h-U.width)/2),G-Math.round(s/2));
if(b[0]!=null){j.font="bold "+q+"px \"Open Sans\", Sans-Serif";var l=b[0],U=j.measureText(l);j.fillText(l,Math.round((h-U.width)/2),G-Math.round(s/2)-Math.round(q*1.3))}G-=Math.round(2.5*q);
var N=Math.min((h-s)/Q,(G-s)/a);N*=.5+.5*(Math.max(Q,a)/H);var R=(h-Q*N)/2,S=(G-a*N)/2;j.strokeRect(Math.round(R)+.5,Math.round(S)+.5,Math.round(Q*N),Math.round(a*N));
return B.toDataURL()};aJ.prototype.a=function(){iD.prototype.a.call(this);this.Pb.a();this.Gm.a();this.pf.a();
this.kp.a();this.Gm.k(bp.get([11,7]));this.p9.a();this.B3.a();this.bb.a();this.rS.a()};aJ.prototype.Ip=function(b){var h=this.Pb.l(),G=h.x,H=h.y;
this.close();var B=this.pf.l(),j=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a3$.l()],s=new hb(w.E.IK,!0);
s.data=cj.VO(G,H,this.Pb.z5(),this.Gm.l(),["Wht","Blck","Trns","Clr"][B[0]],this.B3.l(),B[1],j);this.Q(s);
this.a44()};aJ.prototype.asz=function(b){var h=b.data.tR;h.O4=this.Pb.z5();var G=new hb(w.E.b,!0);G.data={q:w.p.zX,tR:h};
this.Q(G);this.close();this.a44()};aJ.prototype.a44=function(){var b=this.OD[this.OD.length-1],h=this.data.a7H;
if(h)fo.xz(function(){var G=new XMLHttpRequest,H="https://www.googleapis.com/drive/v3/files?"+fo.apK();
G.open("POST",H,!0);G.setRequestHeader("Content-Type","application/json");G.addEventListener("load",function(B){var j=JSON.parse(B.target.response);
b.z9={file:j,cs:"psd"};alert(b.name+" created in Google Drive")});G.send(JSON.stringify({name:b.name,apC:[h]}))})};
aJ.prototype.Fd=function(b,h,G,H){this.OD=G;if(b!=null&&b.e!=null){var B=new io(0,0,b.j,b._).D4(b.e.rect);
this.Pb.k(new cJ(B.j,B._))}this.data=h;this.Qu();if(u.Qh())dJ.afz(this.oc.bind(this))};aJ.prototype.oc=function(b){if(b=="granted")dJ.Nz(this,this.oZ.bind(this))};
aJ.prototype.oZ=function(b,h){this.Pb.k(new cJ(h.j,h._))};aJ.Ov=[{name:"Social",Sy:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Sy:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Sy:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Sy:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Sy:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Sy:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",Sy:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function hJ(b,h,G){iD.call(this,h,"sel_"+b);this.q=b;var H=u.I("div","form");this.body.appendChild(H);
this.Gm=new bP(h,0,255,null,0,!1,!0);H.appendChild(this.Gm.Z);this.Gm.k(1);var B=u.I("span");B.textContent=G;
H.appendChild(B);u.pP(H);this.a5l=new iI("Apply at canvas bounds");if(b!="border")H.appendChild(this.a5l.Z);
this.kp=u.H0(this,H)}hJ.prototype=new iD;hJ.prototype._q=function(b,h){if(b==null)return;if(b.e==null)alert("No selection!");
return b.e!=null};hJ.prototype.Ip=function(b){var h=new hb(w.E.IK,!0);h.data=E.pC.M7(this.q,this.Gm.l(),this.a5l.l());
h.G2=!0;this.Q(h);this.close()};hJ.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();if(this.Gm)this.Gm.a()};
hJ.prototype.Fd=function(b,h){this.Gm.jq()};function jU(b,h,G,H,B,j){iD.call(this,G,h);this.aBS=j;this.WE=B;
this.Ov=null;this.ZH=u.I("div","form");this.body.appendChild(this.ZH);this.abW=u.I("div");this.ZH.appendChild(this.abW);
var s=500;if(H){var q=H.split(",");H=q[0];if(q[1])s=parseFloat(q[1])}this.Gm=b==0?new aG(G,null,10):b==1?new el(G,0,s,H,1):new aG(G,null,24,5);
this.Gm.O(w.E.w,this.Zs,this);this.ZH.appendChild(this.Gm.Z);this.kp=u.H0(this,this.ZH);this.O("closebtn",this.cF,this)}jU.prototype=new iD;
jU.prototype.Oa=function(b,h){return new cJ(Math.max(0,Math.min(150,(b-250)/2)),Math.max(0,Math.min(150,(h-120)/2)))};
jU.prototype.W1=function(){return this.aBS};jU.prototype.Zs=function(b){var h=this.Gm.l();if(this.WE)this.eV(h)};
jU.prototype.cF=function(b){if(this.WE)this.eV("cancel")};jU.prototype.Ip=function(b){if(this.WE)this.eV("confirm");
else this.eV(this.Gm.l());this.close()};jU.prototype.eV=function(b){if(this.Ov.QF)this.Ov.QF(b);else if(this.Ov.BM){var h=this.Ov.BM,G=new hb(h.K,!0);
G.S=h.S;G.data=h.i;G.data.P=b;G.G2=!0;this.Q(G)}};jU.prototype.a=function(){iD.prototype.a.call(this);
this.kp.a();if(this.Gm)this.Gm.a()};jU.prototype.Fd=function(b,h){this.Ov=h;this.Gm.k(h.Wy);this.Gm.jq();
this.abW.innerHTML=h.a4c?h.a4c:"";this.Zs(null)};function ho(){iD.call(this,[1,5],"open_from_url");this.gb=null;
var b=u.I("div","form");this.body.appendChild(b);this.iM=new aG("URL",null,22);b.appendChild(this.iM.Z);
u.pP(b);this.XV=new g2([21,0],[[21,2],[21,1]]);b.appendChild(this.XV.Z);this.kp=u.H0(this,b)}ho.prototype=new iD;
ho.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();this.XV.a()};ho.prototype.Fd=function(b,h,G){this.iM.jq();
this.gb=null;if(b&&G.indexOf(b)!=-1)this.gb=G.indexOf(b)};ho.prototype.Ip=function(b){var h=new hb(w.E.b,!0),G=this.iM.l();
h.data={q:w.p.iv,CI:{url:G,Nd:!0,gb:this.XV.l()==1?this.gb:null}};this.Q(h);this.close()};function ew(){iD.call(this,[12,79],"preferences");
this.Cc=null;var b=u.I("div","form");this.body.appendChild(b);this.DJ=[new iI([8,2]),new d8,new d8,new iI([8,4]),new d8,new cP([12,80,3],[[12,93,3],[12,80,4]]),new el([12,80,5],.02,100,null,2),new cP(null,e.VJ.LO),new cP([12,80,6],e.VJ.LO),new iI("Remind me to save"),new iI("Glass Menus"),new el("Cursor Offset",0,200)];
for(var Y=0;Y<this.DJ.length;Y++){var h=this.DJ[Y];h.parent=this;h.O(w.E.w,this.Uo,this);if(Y==9)continue;
if(Y==2){var G=new iM("Local guides:");b.appendChild(G.Z)}b.appendChild(h.Z);if(Y!=0&&Y!=1&&Y!=3&&Y!=4&&Y!=6)u.pP(b)}}ew.prototype=new iD;
ew.prototype.a=function(){iD.prototype.a.call(this);for(var Y=0;Y<this.DJ.length;Y++)this.DJ[Y].a()};
ew.prototype.Fd=function(b,h,G){};ew.prototype.rN=function(b,h){this.Cc=b;var G=b.x$;this.DJ[0].k(G.bE);
this.DJ[1].HS(G.am);this.DJ[2].HS(G.mC);this.DJ[3].k(G.XC);this.DJ[4].HS(G.sZ);this.DJ[5].k(G.RA);this.DJ[6].k(G.MM);
this.DJ[7].k(G.Ob);this.DJ[8].k(G.Bl);this.DJ[9].k(b.RV==1);var H=window.locStor.getItem("__glm");this.DJ[10].k(H=="1");
this.DJ[11].k(b.K3)};ew.prototype.Uo=function(b){var h=this.DJ;if(b.target==h[9])this.Cc.RV=1-this.Cc.RV;
var G=JSON.parse(JSON.stringify(this.Cc.x$));G.bE=h[0].l();G.am=h[1].Z9();G.mC=h[2].Z9();G.XC=h[3].l();
G.sZ=h[4].Z9();G.RA=h[5].l();G.MM=h[6].l();G.Ob=h[7].l();G.Bl=h[8].l();window.locStor.setItem("__glm",h[10].l()?"1":"0");
this.Cc.K3=h[11].l();var H=new hb(w.E.b,!0);H.data={q:w.p.wP,CI:ec.dH,bq:G};this.Q(H)};function hd(){iD.call(this,[11,8],"saveforweb");
this.avW="";this.O("closebtn",function(){this.QI.Ig()},this);this.tR=null;this.cB=null;this.a0a=null;
this.Cc=null;u.eS(this.body,"flexrow");this.body.style.padding="0";var b=u.I("div");b.setAttribute("style","position:relative;");
var h=u.I("div");this.body.appendChild(b);this.body.appendChild(h);this.oy=u.I("div","imgcont");b.appendChild(this.oy);
this.QI=new ep;this.QI.Vb(512,512);var G=this.Ns=u.I("video");G.setAttribute("controls","");G.setAttribute("preload","auto");
G.setAttribute("loop","");this.U7=u.I("div");this.U7.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
b.appendChild(this.U7);var H=this.ZH=u.I("div","form cell");H.setAttribute("style","width:195px; padding:9px 13px;");
h.appendChild(H);this.hG=new aG([12,48],null,7.6);this.hG.sd();H.appendChild(this.hG.Z);var B=aT.ha();
B[B.indexOf("WEBP")]="webP";this.HU=new cP([12,50],B);this.HU.Z.style.marginRight="0";this.HU.sd();H.appendChild(this.HU.Z);
this.HU.O(w.E.w,this.K1,this);u.pP(H);this.Pb=new eo(!0,!0,!1,!0);this.Pb.sd();this.Pb.O(w.E.w,this.K1,this);
this.Pb.bC.Z.style.paddingBottom="8px";H.appendChild(this.Pb.Z);this.Kh=new hg;this.Kh.O(w.E.w,this.K1,this);
H.appendChild(this.Kh.Z);this.UZ=new gX([1,2],!0,null,!0);this.UZ.O("click",this.Ip,this);H.appendChild(this.UZ.Z)}hd.prototype=new iD;
hd.prototype._q=function(b,h){return b!=null};hd.prototype.a=function(){iD.prototype.a.call(this);this.Pb.a();
this.hG.a();this.HU.a();this.Kh.a();this.UZ.a()};hd.prototype.Ip=function(b){var h=this.hG.l().trim(),G=aT.ha()[this.HU.l()],H=G=="JPG"||G=="PNG"||G=="GIF"||G=="SVG"||G=="WEBP",B=aT.JR(G),j="."+G.toLowerCase(),s=this.cB,q=h+j,Q=this.tR,a=Q.Rd,l=this.Kh.l();
if(Q.I7())l.pop();if(a.length!=0&&H&&l.pop()){var U=[],N={},R=new io(0,0,Q.j,Q._),S=Q.Nw();for(var Y=0;
Y<a.length;Y++)U.push(E.gt.Pq(a,Y));U.reverse();var g=e.rect.a0S([0,0,Q.j,Q._],U),i=[];for(var Y=0;Y<g.length;
Y++){var y=g[Y],o=new io(y[0],y[1],y[2]-y[0],y[3]-y[1]),v=e.U(o.X()*4);e.JE(S,R,v,o);var g1=""+(Y+1);
if(g1.length<2)g1="0"+g1;var Z="images/"+h+"_"+g1+j;i.push(Z);N[Z]=new Uint8Array(B.kf([[v.buffer,0,Q.O4,Q.wp]],o.j,o._,l))}i.push("images/spacer.gif");
var W="<html>\n<head>\n<title>"+h+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
W+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
W+="<!-- Save for Web Slices ("+Q.name+") -->\n";W+=e.rect.a23(g,i,a)+"\n";W+="<!-- End Save for Web Slices -->\n";
W+="</body>\n</html>\n";var d=e.U(Math.round(W.length*1.5)),$=J.OY(W,d,0);N["index.html"]=d.slice(0,$);
s=UZIP.encode(N);q=h+".zip"}else if(Q.ak7()&&H&&l.pop()){var I=[],R,S;if(fq==0){R=new io(0,0,Q.j,Q._);
S=Q.Nw();var k=Q.root.children;for(var Y=0;Y<k.length;Y++){var _=k[Y].o;if(_.add.artb==null||!_.yY())continue;
I.push([_.getName(),_.Ey()])}}else{R=Q.d7();S=new Uint8Array(Q.arv(this.Cc));var D=Q.add.arts;for(var Y=0;
Y<D.length;Y++){var A=D[Y];I.push([A.Lw,e.N.sm(A.rc)])}}var N={};for(var Y=0;Y<I.length;Y++){var F,A=I[Y][1];
if(G=="SVG")F=new Uint8Array(B.kf(Q,A.j,A._,l,this.Cc,Y));else{var K=e.U(A.X()*4);console.log(R,A);e.JE(S,R,K,A);
F=new Uint8Array(B.kf([[K.buffer,0,Q.O4,Q.wp]],A.j,A._,l))}N[I[Y][0]+j]=F}s=UZIP.encode(N);q=h+".zip"}var V=function(){if(Q.U0)dJ.Cs("act=1&id="+Q.U0);
this.QI.Ig();this.close();var j=aT.ha()[this.HU.l()];fH.event("efmt_"+j.toLowerCase(),.1);var c=new hb(w.E.b,!0);
c.data={q:w.p.l9,data:s,name:q};this.Q(c)}.bind(this);if(!this.Cc.NP||fH.RW()){V();return}var r=ez.Ke()!=0;
V();var c=new hb(w.E.b,!0),x=dX.Lm("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),X=dX.Lm(";QJXQ_*II9"),M=function(){c.data={q:w.p.C9,ut:"account"};
this.Q(c)}.bind(this);if(r){x=dX.Lm("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
M=function(){};X=null}c.data={q:w.p.C9,ut:dX.gQ,P:x,QF:M,afs:X};if(Math.random()<.1||r)this.Q(c)};hd.prototype.Fd=function(b,h){if(h.B9!=null)this.HU.k(h.B9);
this.tR=b;var G=this.tR.name,H=G.lastIndexOf("."),G=H==-1?G:G.slice(0,H);this.hG.k(G);var B=b.j,j=b._;
if(fq==1){var s=b.d7();B=s.j;j=s._}var q=B+","+j;if(q!=this.avW){this.avW=q;this.Pb.k(new cJ(B,j),b.O4)}this.Kh.aru();
if(h.amS){this.Pb.FL(3);this.Kh.cx.PDF[2].zu.k(!0)}this.K1(null,!0)};hd.prototype.ar$=function(b,h){return b<h&&b<660};
hd.prototype.Oa=function(b,h){return this.ar$(b,h)?new cJ(0,0):new cJ(Math.max(0,Math.min(150,(b-770)/2)),Math.max(0,Math.min(150,(h-590)/2)))};
hd.prototype.Vb=function(b,h,G){this.Ps=b;this.CN=h;if(this.tR==null)return;var H=this.UZ.Z,B=this.ar$(b,h),j,s,N="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(B){var q=this.ZH.getBoundingClientRect().height;j=b;s=h-Math.max(q,252);u.Yx(this.body,"flexrow")}else{j=Math.min(512,b-195-2*13);
s=Math.min(512,h-24);u.eS(this.body,"flexrow")}var Q=B?b-2*13:195;this.ZH.style.width=Q+"px";this.hG.Vy.style.width=Q-77+"px";
this.Pb.Vb(Q);var a=aT.ha()[this.HU.l()],l=aT.JR(a);if(l.hE||l.pK)this.oy.firstChild.setAttribute("style","display:block; width:"+j+"px; height:"+s+"px;");
else{this.QI.Vb(j,s);this.Ns.width=j;this.Ns.height=s}if(this.cB==null)return;var U=this.cB.byteLength,S=N+64+"px;"+R+hd.Vd(U)+"</span>";
if(j>400)S+=N+90+"px; opacity:"+.5+";"+R+U.toLocaleString()+" B</span>";this.U7.innerHTML=S;if(G)setTimeout(function(){this.Vb(this.Ps,this.CN)}.bind(this),20)};
hd.Vd=function(b){var h=b.toString(2),G=0;while(G+10<h.length)G+=10;var H=(b/Math.pow(2,G)).toFixed(1);
if(H.endsWith(".0"))H=H.slice(0,-2);var B="B KB MB GB TB PB".split(" ")[Math.floor(G/10)];return H+" "+B};
hd.prototype.rN=function(b,h){this.Cc=b};hd.prototype.K1=async function(b,h){var G=this.tR,H=this.Pb.l(),B=H.x,j=H.y,s=this.HU.l(),q=aT.ha()[s],Q=aT.ak1(G)[0].length,a=["GIF","PNG","WEBP","MP4"].indexOf(q)!=-1&&Q>1,g="";
if(a&&q!="MP4"&&h&&(Q>4&&B*j>1024*1024||B*j*Q>800*800*50)){var l=1;while(Math.max(B>>>l,j>>>l)>800)l++;
var U=window.confirm("Your animation is large ("+B+" x "+j+" px). Press \"OK\" to scale it to "+(100>>>l)+"%. Press \"Cancel\" to keep the size.");
if(U){this.Pb.k(new cJ(B>>>l,j>>>l),null,!0);B=B>>>l;j=j>>>l}}var N=G.I7();this.Kh.Ek(q,a,G.Rd.length!=0,G.ak7(),N!=null);
var R=window.locStor.getItem("sfwPrms");if(R==null)R={};else{R=JSON.parse(R);if(R.MP4&&R.MP4[0]==100)R.MP4[0]=50}var S=this.Kh.l();
if(b&&b.target==this.Kh){R[q]=S;window.locStor.setItem("sfwPrms",JSON.stringify(R))}else if(R[q]){this.Kh.k(R[q],!0);
S=this.Kh.l()}this.cB=await aT.JN(G,q,B,j,S,this.Cc);if(this.cB==null){this.tR=null;return}u._I(this.oy);
this.QI.Ig();var i=aT.JR(q);if(i.pK){this.oy.innerHTML="<div></div>"}else if(i.hE){var y=B,o=j,v;if(q=="PDF"||q=="AI"){v=URL.createObjectURL(new Blob([this.cB],{type:"application/pdf"}))}else{v=URL.createObjectURL(new Blob([this.cB],{type:"image/svg+xml"}))}this.oy.innerHTML="<iframe src=\""+v+"\"></iframe>"}else if(q=="MP4"){var v=URL.createObjectURL(new Blob([this.cB]));
this.Ns.setAttribute("src",v);this.oy.appendChild(this.Ns)}else{var Z=this.a0a=i.ho(this.cB),W=Z[0],d=W.jD,y=d.j,o=d._;
if(W.RK){var $=ICC.R(W.RK.buffer),I=17,k=ICC.U.sampleLUT($,I);for(var Y=0;Y<Z.length;Y++){var _=new Uint8Array(Z[Y].data);
ICC.U.applyLUT(k,I,_,_)}}this.QI.k(Z,Z.length>1?S[S.length-3]:0);this.oy.appendChild(this.QI.Z);g="background: rgba(0,0,0,0);"}this.oy.setAttribute("style","display:block; "+(i.pK?"background:rgba(0,0,0,0);":"background-size:"+16/u.V()+"px;")+g);
this.Vb(this.Ps,this.CN,h)};function gp(){iD.call(this,[11,13],"shortcuts");this.Cc=null;var b=this.Er=u.I("div","scrollable");
b.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(b);
this.OT()}gp.prototype=new iD;gp.prototype.a=function(){iD.prototype.a.call(this);this.OT()};gp.prototype.rN=function(b,h){this.Cc=b};
gp.prototype.Fd=function(b,h,G,H){if(u.Pg(this.Z))this.OT()};gp.prototype.OT=function(){var b="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",h="",G=ap,H=G.zb,B=G.J3,j=G.p0;
h+="<h2 style=\"margin-top:0;\">Main Menu</h2>";h+=b;h+=this.ga([[0,0],"---",[1,0],[H,G.OE],[1,2],[H,G.h1],[1,3],[B,H,G.h1],[1,8],[j,B,H,G.h1],[0,1],"---",[2,0],[B,H,G.Qj],[2,1],[H,G.Qj],[5,0],[H,G.Lz],[5,1],[H,G.ew],[5,2],[H,G.ic],[2,2],"Delete",[2,3],[j,G.Y6],[10,16],[j,H,G.Z5],[12,79],[H,G.zf],[3],"---",[4,1],[H,G.RY],[4,2],[H,G.P2],[4,5],[H,G.Y5],[4,11],[H,G.qv],[0,3],"---",[6,13],[B,H,G.aM],[6,49,0],[H,G.Mr],[6,6,0],[j,H,G.M$],[6,9],[H,G.M$],[6,10],[H,G.E],[0,5],"---",[7,0],[H,G.p],[7,1],[H,G.xO],[7,2],[B,H,G.qv],[0,7],"---",[8,0],[H,G.za],[8,1],[H,G.Od],[8,3],[H,G.nI],[8,2],[H,G.Kb],[8,4],[H,G.gq],[11,13],"?"]);
h+="</div>";h+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";h+=b;h+=this.ga(["Vertical scroll","Wheel","Horizontal scroll",[H,"Wheel"],"Zooming",[j,"Wheel"]]);
h+="</div>";h+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
h+=b;h+=this.ga([[10,11],[H],[10,7],"Space",[10,17],[H,G.Jn]]);h+="</div>";h+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
h+=b;var s=[],q=this.Cc;if(q==null)return;var Q=q.L;for(var Y=0;Y<Q.tF.length;Y++){var a=Q.tF[Y],l=Q.keys[Y];
for(var U=0;U<a.length;U++)s.push(a[U].S.name,l?l.Tb:null)}s=s.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[H,G.dU]]);
h+=this.ga(s);h+="</div>";this.Er.innerHTML=h};gp.prototype.ga=function(b){var h="",G=!0;for(var Y=0;
Y<b.length;Y+=2){var H=b[Y],B=ap.EM(b[Y+1]);if(B==null){G=!1;continue}var j=u.Vv(bp.get(H));if(B=="---"){if(!G)h+="<br/>";
h+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+j+"</div>"}else h+="<div>"+j+" <span style=\"float:right; font-weight:bold;\">"+B+"</span> </div>";
G=!1}return h};function fP(b){iD.call(this,b?"Artboard Options":[8,11,1],(b?"a":"s")+"options");this.Fc=null;
this.aqo=b;var h=u.I("div","form");h.style.width="20em";this.body.appendChild(h);this.ov={Nm:[12,48],url:"URL",null:[12,71]};
this.DJ={};for(var G in this.ov){if(b&&G!="Nm")continue;var H=new aG(this.ov[G],null,15);this.DJ[G]=H;
h.appendChild(H.Z)}this.atq=new iM([12,14,0]);h.appendChild(this.atq.Z);this.RC=new bu(0,!0);h.appendChild(this.RC.Z);
this.kp=u.H0(this,h)}fP.prototype=new iD;fP.prototype.Fd=function(b,h,G){var H=h.P;this.Fc=JSON.stringify(H);
if(H.rc){this.DJ.Nm.k(H.Lw);var B=H.rc,j=B[0],s=B[1];this.RC.k([j,s,B[2]-j,B[3]-s])}else{for(var q in this.ov){if(H[q])this.DJ[q].k(H[q].v)}var Q=H.bounds.v,j=Q.Left.v,s=Q.Top.v;
this.RC.k([j,s,Q.Rght.v-j,Q.Btom.v-s])}};fP.prototype.Ip=function(b){var h=JSON.parse(this.Fc),G=new hb(w.E.r,!0),H=this.RC.l(),B=H[0],j=H[1];
console.log(H);if(this.aqo){h.Lw=this.DJ.Nm.l();h.rc=[B,j,B+H[2],j+H[3]];G.S=E.fz;G.data={q:"rpl",P:h}}else{for(var s in this.ov){var q=this.DJ[s].l();
h[s]={t:"TEXT",v:q}}var Q=h.bounds.v;Q.Left.v=B;Q.Top.v=j;Q.Rght.v=B+H[2];Q.Btom.v=j+H[3];G.S=E.B0;G.data=h}G.G2=!0;
this.Q(G);this.close()};fP.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();this.atq.a();
this.RC.a()};function c3(){iD.call(this,[2,3],"fill");this.Cc=null;this.x4=null;var b=u.I("div","form padded");
b.style.width="22em";this.body.appendChild(b);this.Vk="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");
this.w5=new cP([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.w5.O(w.E.w,this.axv,this);b.appendChild(this.w5.Z);this.oy=u.I("span");b.appendChild(this.oy);this.mz=new d8;
this.mz.parent=this;this.mz.HS(0);this.oJ=new gv;this.oJ.parent=this;this.uS=new cP([12,19,0],aq.US,aq.B2);
b.appendChild(this.uS.Z);this.or=new el([12,0],0,100,"%",0,!1);this.or.k(100);b.appendChild(this.or.Z);
this.VL=new iI([13,5]);this.VL.k(!1);b.appendChild(this.VL.Z);this.kp=u.H0(this,this.body)}c3.prototype=new iD;
c3.prototype._q=function(b,h){return b!=null};c3.prototype.W1=function(){return!0};c3.prototype.axv=function(){var b=this.w5.l(),h=this.mz.Z,G=this.oJ.Z,H=this.oy;
if(b==2)H.appendChild(h);else if(H.contains(h))H.removeChild(h);if(b==7)H.appendChild(G);else if(H.contains(G))H.removeChild(G)};
c3.prototype.a=function(){iD.prototype.a.call(this);this.w5.a();this.uS.a();this.or.a();this.VL.a();
this.kp.a()};c3.prototype.Ip=function(b){if(!this.x4.s5())return;var h=new hb(w.E.IK,!0),G=this.w5.l();
h.data=E.Qb.s4(this.Vk[G],aq.B5[this.uS.l()],this.or.l()/100,this.mz.l(),this.VL.l(),this.oJ.l());this.close();
this.Q(h)};c3.prototype.Fd=function(b,h){this.x4=b};c3.prototype.rN=function(b,h){this.Cc=b;if(h==ec.GH||h==ec.Pl){this.oJ.Cv(b.hK);
this.oJ.k({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function a8(){iD.call(this,[14,9],"stroke");this.Cc=null;this.ZH=u.I("div","form");this.ZH.setAttribute("style","width:24em");
this.body.appendChild(this.ZH);this.$d=new cf("FrFX",!0);this.$d.parent=this;var b=["Sz","Styl","Md","Opct"].concat(dE.L1);
for(var Y=0;Y<b.length;Y++){var h=this.$d.LV[b[Y]].Z;this.ZH.appendChild(h)}this.px=!1;this.kp=u.H0(this,this.body)}a8.prototype=new iD;
a8.prototype._q=function(b,h){return b!=null};a8.prototype.W1=function(){return!0};a8.prototype.a=function(){iD.prototype.a.call(this);
this.kp.a();this.$d.a()};a8.prototype.Ip=function(b){var h=this.$d.l(),G={classID:"Strk"};G.Md=h.Md;
G.Opct=h.Opct;G.Clr=h.Clr;G.Wdth={t:"long",v:h.Sz.v.val};var H=dE.stroke.types.indexOf(h.Styl.v.FStl);
G.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][H]}};var B=new hb(w.E.IK,!0);B.data={f6:"stroke",yo:G};
this.close();this.Q(B)};a8.prototype.Fd=function(b,h){if(!this.px){var G=dE.Qy[dE.order.indexOf("FrFX")];
G=JSON.parse(G);this.$d.update(b,G);this.px=!0}var G=this.$d.l(),H=this.Cc.nU;G.Clr.v=e.F.t1({$:H>>16&255,B:H>>8&255,J:H&255});
this.$d.update(b,G)};a8.prototype.rN=function(b,h){this.Cc=b};function eF(){iD.call(this,[11,9],"textwarp");
this.DJ=new jb;this.DJ.O(w.E.w,this.oH,this);this.DJ.parent=this;this.ZH=u.I("div","form");this.ZH.setAttribute("style","width:20em");
this.body.appendChild(this.ZH);this.ZH.appendChild(this.DJ.xn.Z);this.ZH.appendChild(this.DJ.c1.Z);this.ZH.appendChild(this.DJ.MR.Z);
this.ZH.appendChild(this.DJ.zO.Z);this.ZH.appendChild(this.DJ.vV.Z);this.kp=u.H0(this,this.ZH);this.O("closebtn",this.cF,this)}eF.prototype=new iD;
eF.prototype.W1=function(){return!0};eF.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();
this.DJ.a()};eF.prototype.oH=function(b){var h=this.DJ.l();this.eV({q:"warp",hC:h})};eF.prototype.eV=function(b){var h=new hb(w.E.r,!0);
h.S=E.rd;h.data=b;h.G2=!0;this.Q(h)};eF.prototype.cF=function(b){this.eV({q:"warpCancel"})};eF.prototype.Ip=function(b){this.eV({q:"warpConfirm"});
this.close()};eF.prototype.Fd=function(b,h){var G=b.R[b.T[0]];this.DJ.k(G.add.TySh.If)};function bF(){iD.call(this,[11,12,0],"trim");
var b=this.ZH=u.I("div","form");this.ZH.setAttribute("style","width:22em");this.body.appendChild(this.ZH);
var h=new iM("Color To Trim:");b.appendChild(h.Z);this.yE=new jH(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.yE.k([!0]);this.ZH.appendChild(this.yE.Z);var h=new iM("Sides:");b.appendChild(h.Z);this.js=new jH(null,["Top","Left","Bottom","Right"]);
this.js.k([!0,!0,!0,!0]);this.ZH.appendChild(this.js.Z);this.kp=u.H0(this,this.body)}bF.prototype=new iD;
bF.prototype._q=function(b,h){return b!=null};bF.prototype.W1=function(){return!0};bF.prototype.a=function(){iD.prototype.a.call(this);
this.yE.a();this.js.a();this.kp.a()};bF.prototype.Ip=function(b){var h=this.yE.l().indexOf(!0),G=this.js.l(),H=new hb(w.E.IK,!0);
H.data=E.w8.EF(h,G);this.close();this.Q(H)};function jS(){iD.call(this,"Raw Photopea","rawpea");this.qf=null;
this.ci=null;this.body.style.padding="0";var b=this.Ja=new iq["Adobe Camera Raw Filter"](!0),h="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(b.Z);this.kp=new gX([1,0],!0,null,!0);this.kp.O("click",this.Ip,this);this.FW=new gX(h+" JPG",!0,null,!0);
this.FW.O("click",this.afe,this);this.FW.Z.style.marginTop="6px";b.V4(this.kp.Z);b.V4(this.FW.Z)}jS.prototype=new iD;
jS.prototype.Oa=function(){return new cJ(0,0)};jS.prototype.Vb=function(b,h){this.Ja.Vb(b,h)};jS.prototype.a=function(){iD.prototype.a.call(this);
this.Ja.a()};jS.prototype.afe=function(b){var h=this.qf,G=this.ci,H=aT.JR("JPG").kf([[this.Ja.l(!0).buffer]],G.dS,G.l_,[85]),B=new hb(w.E.b,!0);
B.data={q:w.p.l9,data:H,name:"photo.jpg"};this.Q(B)};jS.prototype.Ip=function(b){var h=this.qf,G=this.ci,H=c8.W6(h),h={jD:new io(0,0,G.dS,G.l_),data:this.Ja.l(!0).buffer,wp:H},B=aT.Eo("Raw Photo",[h]),j=new hb(w.E.b,!0);
j.data={q:w.p.zX,tR:B};this.Q(j);this.gx();this.close()};jS.prototype.gx=function(){this.qf=null;this.ci=null;
this.Ja.a8Z()};jS.prototype.Fd=function(b,h,G,H){this.qf=h.jb;var B=this.ci=e.raw.afc(this.qf),j=e.raw.ah4(h.jb),s=fp.ab_(j);
e.raw.sa(B.Ur,B.Ur,h.jb,[s.YM,s.D2]);var q=gY.Az("Adobe Camera Raw Filter");this.Ja.k(q,B.Ur,new io(0,0,B.dS,B.l_))};
function dP(b){iD.call(this,b?[11,11,0]:[11,11,1],b?"vbitmap":"rcolors");this.Ov=null;this.a0=null;this.NM=null;
this.ff=null;this.hi=null;this.aEF=null;this.rX=null;this.Cc=null;this.AC="";this.kz=b;this.r_=this.wB.bind(this);
this.dl=!1;this.body.style.padding="0";this.ZH=u.I("div","form hbar padded");this.body.appendChild(this.ZH);
this.bH=new jH(null,["Fill","Stroke","Labels"]);this.bH.O(w.E.w,this.wB,this);var h=u.I("span","rangecontFloat form padded"),Q=16;
h.appendChild(this.bH.Z);h.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var G=new dQ;G.Z=h;var H=this.aK={cnum:new bP([12,82],2,50,null),nois:new iI([12,81]),mode:new cP(null,["Cartoon","Photo"]),segm:new iI("Segmentize"),cbok:new iI("Coloring book"),poly:new iI("Polygon"),merg:new iI("Merge colors"),polE:new bP("Roughness",2,30,null),dthr:new iI([12,23,3]),vprm:new gX("\u2026",!1,null,!0),ok:u.H0(this,null,!1)},B=this;
for(var j in H){var s=H[j];s.parent=this;if(j=="ok"){}else if(j=="vprm"){s.O("click",function(l){var U=H.vprm.Z.getBoundingClientRect(),N=new hb(w.E.b,!0);
N.data={q:w.p.YB,Wn:G,x:U.left,y:U.top+20};B.Q(N)})}else s.O(w.E.w,this.wB,this)}var q=this.AL=u.I("div","flexrow");
this.body.appendChild(q);q.setAttribute("style","background-color:var(--bg-canvas)");this.MF=new ep;
this.MF.O("viewchange",this.fN,this);this.Ci=new ep;this.cj=u.I("canvas");this.cj.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.ZI=this.cj.getContext("2d");var a=e.U(16*16*4);e.L0(a,Q,Q,8);this.LA=e.scale.a7(a,Q,Q);this.MF.avL(this.cj);
this.MF.TM(this.Ci);this.Ci.TM(this.MF);q.appendChild(this.MF.Z);if(b)q.appendChild(this.cj);else q.appendChild(this.Ci.Z)}dP.prototype=new iD;
dP.prototype.Oa=function(){return new cJ(0,0)};dP.prototype.W1=function(){return!0};dP.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;h=h-44;if(b<600)h-=29;if(this.Ov==null)return;var G=this.Ov.jD,H=ga.ayf(b,h,G.j,G._);if(H==1)h-=3;
if(H==0){b=Math.floor(b/2);u.eS(this.AL,"flexrow")}else{h=Math.floor(h/2);u.Yx(this.AL,"flexrow")}u.Xn(this.cj,b,h);
this.MF.Vb(b,h);if(this.kz)this.fN();else this.Ci.Vb(b,h)};dP.prototype.Z1=function(b,h,G,H){this.MF.Z1(H)};
dP.prototype.a=function(){iD.prototype.a.call(this);for(var b in this.aK)this.aK[b].a()};dP.prototype.Fd=function(b,h){this.rX=b;
this.hi=null;var G=b.R[b.T[0]],H=e.ZD.ahC(G.buffer.buffer,G.rect.j,G.rect._).awG,B=H/((G.rect.j-2)*(G.rect._-2)),j=this.aK;
j.cnum.k(20);j.nois.k(B<.75);j.mode.k(B<.75?1:0);j.segm.k(!1);j.cbok.k(!1);j.poly.k(!1);j.merg.k(!0);
j.polE.k(1);j.dthr.k(!1);var s=G.rect.clone();s.x=s.y=0;this.Ov={jD:s,data:G.buffer.buffer.slice(0)};
this.a0=null;this.Vb(this.Ps,this.CN);this.MF.k([this.Ov]);this.MF.Gr();this.dl=!0;this.bH.k([!0,!1,!1]);
setTimeout(this.r_,20)};dP.prototype.wB=function(){var b=!0,h=Date.now(),G=this.Ov,H=this.aK,B=H.cnum.l(),j=H.nois.l(),s=H.mode.l(),q=H.segm.l(),Q=H.cbok.l(),a=H.poly.l(),l=H.merg.l(),U=H.polE.l(),_=null;
if(s==0)q=a=Q=!1;var N=H.dthr.l(),R=["cnum","nois","mode"];if(s==1){R.push("cbok");if(this.kz){R.push("poly");
if(a)R.push("polE");R.push("vprm")}}if(this.kz)R.push("merg");else R.push("dthr");R.push("ok");u._I(this.ZH);
for(var Y=0;Y<R.length;Y++)this.ZH.appendChild(H[R[Y]].Z);if(b)console.log("---------------------------------------");
var S=j||q,g=j+","+q;if(S&&(this.a0==null||this.AC!=g)){this.AC=g;var i=new Uint8Array(G.data),y=G.jD.j,o=G.jD._;
if(j){if(this.hi==null){this.hi=i.slice(0);e.wG.y7=35;e.wG.st(this.hi,this.hi,y,o,15,1);if(b){console.log("denoise",Date.now()-h);
h=Date.now()}}i=this.hi.slice(0)}else i=i.slice(0);if(q){var v=e.ZD.t0(i,y,o,40,10),Z=v.zf,W=new Uint8Array(Z*4);
for(var Y=0;Y<Z;Y++){var d=Y*4,$=Y*6,I=1/v.H4[$+5];W[d]=v.H4[$]*I;W[d+1]=v.H4[$+1]*I;W[d+2]=v.H4[$+2]*I}for(var Y=0;
Y<i.length;Y+=4){var k=v.Oq[Y>>>2]*4;i[Y]=W[k];i[Y+1]=W[k+1];i[Y+2]=W[k+2]}if(b){console.log("segm",Date.now()-h);
h=Date.now()}}this.a0={jD:G.jD.clone(),data:i.buffer}}if(S)G=this.a0;var i=new Uint8Array(G.data),y=G.jD.j,o=G.jD._;
for(var Y=0;Y<i.length;Y+=4){if(i[Y+3]<10)i[Y]=i[Y+1]=i[Y+2]=i[Y+3]=0}if(s==0){_=e.ZD.anc(i,y,o,B,S?.1:2e-4);
if(b){console.log("quantize",Date.now()-h);h=Date.now()}}if(s!=0||_&&_.qy.length<2){_=hn.ao4(i.buffer,B,y,o,null,Q)}if(this.kz){var D=_.Oq.slice(0);
for(var Y=0;Y<D.length;Y++)D[Y]++;this.DQ=e.ZD.agi(_.Oq,y,o);var A=new Uint8Array((y+2)*(o+2));e.wX(D,new io(1,1,y,o),A,new io(0,0,y+2,o+2));
if(!a){var F=Math.round((y+2)*(o+2)/1e4),K=b0.iG(A.slice(0),y+2,o+2,Math.min(12,F)),V=b0.wV(K);if(b){console.log("trace smooth",Date.now()-h);
h=Date.now()}}else{var V=e.N.yS(A,y+2,o+2,U,b)}var r=V.length,c=new eq(1,0,0,1,-1,-1);for(var Y=0;Y<r;
Y++)e.N.h(V[Y].path.m,c,V[Y].path.m);this.ff=V;this.NM=_;for(var Y=0;Y<r;Y++){var x=V[Y];if(_.qy[x.color-1].est.q[3]>.05)continue;
var X=x.parent;while(X!=-1){var M=V[X];X=M.parent;if(_.qy[M.color-1].est.q[3]<.05)break;e.N.concat(M.path,e.N.reverse(x.path))}}if(b){console.log("finding holes",Date.now()-h);
h=Date.now()}for(var Y=0;Y<V.length;Y++){var f=V[Y];if(f.parent!=-1){var t=V[f.parent];f.parent=t;if(t.UY==null)t.UY=[];
t.UY.push(f)}f.depth=f.parent==-1?0:f.parent.depth+1}if(l){function n(hP,z){var iS={},e4=0,cc=0;for(var Y=0;
Y<hP.length;Y++){var p=hP[Y].color,aO="c"+p;if(p==z)throw p;if(iS[aO]==null)iS[aO]=0;iS[aO]++;if(iS[aO]>e4){e4=iS[aO];
cc=p}}return cc}var L=[],P=[],z=-1,T=!0;for(var Y=0;Y<V.length;Y++)if(V[Y].parent==-1)P.push(V[Y]);while(P.length!=0){var p=n(P,z);
z=p;for(var Y=0;Y<P.length;Y++)if(P[Y].color==p){var m=P[Y];L.push(m);P.splice(Y,1);Y--;if(m.UY)for(var O=0;
O<m.UY.length;O++){P.push(m.UY[O]);if(m.UY[O].color!=p)T=!1}}}if(T)V=L;else{var cb=[];for(var cX=0;cX<500;
cX++){var e$=[],K=cb[cX-1];cb.push(e$);for(var Y=0;Y<V.length;Y++){var f=V[Y],t=f.parent;if(cX==0&&t==-1||cX!=0&&K.indexOf(t)!=-1){e$.push(f);
V.splice(Y,1);Y--}}e$.sort(function(hP,iS){return hP.color-iS.color});if(V.length==0)break}for(var Y=0;
Y<cb.length;Y++)V=V.concat(cb[Y])}}else{var L=[],fz=[];while(V.length!=0){fz.push(V.shift());while(fz.length!=0){var eC=fz.pop();
L.push(eC);if(eC.UY)for(var Y=0;Y<eC.UY.length;Y++){var f=eC.UY[Y];V.splice(V.indexOf(f),1);fz.push(f)}}}V=L}this.ff=V;
for(var Y=0;Y<V.length;Y++){var x=V[Y],hw=_.qy[x.color-1].est.q;if(hw[3]<=.05){V.splice(Y,1);Y--;continue}}for(var Y=1;
Y<V.length;Y++){var az=V[Y-1],x=V[Y];if(az.color==x.color&&(l||az.parent==x.parent&&az.depth>=2)){e.N.concat(az.path,x.path);
V.splice(Y,1);Y--;continue}}if(b){console.log("reordering layers",Date.now()-h,r,V.length);h=Date.now()}this.fN()}else{var av=new Uint32Array(y*o),ia=y*o,iJ=this.aEF=new Uint8Array(av.buffer);
if(N){var cx=[];for(var Y=0;Y<_.qy.length;Y++)cx.push(_.qy[Y].est.rgba);var k=e.U(y*o);UPNG.encode.dither(new Uint8Array(G.data),y,o,cx,iJ,k)}else{for(var Y=0;
Y<ia;Y++){var p=_.qy[_.Oq[Y]];av[Y]=p.est.rgba}}this.Ci.k([{jD:G.jD,data:av.buffer}]);if(this.dl){this.Ci.Gr();
this.dl=!1}}};dP.prototype.fN=function(b){if(this.ff==null)return;var h=this.bH.l(),G=this.Ov.jD.j,H=this.Ov.jD._,B=this.ff,j=this.NM.qy,s=this.cj,q=this.ZI,Q=this.MF.OC(),l="rgba(0,0,0,0.3)";
q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,s.width,s.height);q.translate(s.width/2,s.height/2);q.scale(Q.D,Q.D);
q.translate(Q.f.x/Q.D-G/2,Q.f.y/Q.D-H/2);q.scale(1/Q.D,1/Q.D);q.fillStyle=this.LA;q.fillRect(0,0,G*Q.D,H*Q.D);
q.scale(Q.D,Q.D);q.lineWidth=(G+H)*5e-4;var a=this.so();q.strokeStyle=l;for(var U=0;U<2;U++){if(!h[U])continue;
for(var Y=0;Y<B.length;Y++){var N=B[Y],R=a[N.color-1];if(R.G==0)continue;q.fillStyle=R.NC;q.beginPath();
Typr.U.pathToContext({crds:N.path.m,cmds:N.path.Gc},q);if(U==0)q.fill();else q.stroke()}}if(h[2])this.a7W(q,G,H)};
dP.prototype.so=function(){var b=this.NM.qy,h=[];for(var Y=0;Y<b.length;Y++){var G=b[Y].est.q,H={$:Math.round(255*G[0]),B:Math.round(255*G[1]),J:Math.round(255*G[2]),G:Math.round(255*G[3])};
H.NC="rgba("+H.$+","+H.B+","+H.J+","+H.G/255+")";h.push(H)}return h};dP.prototype.a7W=function(b,h,G){var H=this.so(),B=this.aA3(h,G,H);
function j(a,l,U,N){b.font=N+"px sans-serif";a++;var R=b.measureText(a);b.fillText(a,l-R.width/2,U+N*.25)}b.fillStyle="rgba(0,0,0,0.5)";
var s=this.DQ;for(var Y=0;Y<s.length;Y++){var q=s[Y];if(q[3]<h*G*5e-4)continue;j(q[2],q[0],q[1],(h+G)*.008)}b.fillStyle="rgba(255,255,255,1)";
b.fillRect(0,0,B,B*H.length);for(var Y=0;Y<H.length;Y++){var Q=H[Y];b.fillStyle=Q.NC;b.fillRect(B,B*Y,B,B);
b.fillStyle="black";j(Y,B*.5,B*(Y+.5),B*.65)}};dP.prototype.aA3=function(b,h,G){var H=G.length*(b+h)/70;
return Math.min(h,H)/G.length};dP.prototype.Ip=function(b){var h=this.rX,G=h.T[0],H=h.R[G],B=new hb(w.E.r,!0);
B.G2=!0;B.S=E.nc;var j=this.Cc.B7,s=this;if(this.kz){var q=this.so(),l=0,N=!1;function Q(y,g){var i=h.Cx();
i.opacity=g.G;i.Xp|=16;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1(g)}};i.add.vmsk=new C.cW;i.add.vstk=dE.QA.Az(!0);
i.add.vmsk.d=y;i.AA();i.vw(h);return i}var a=this.bH.l();for(var Y=0;Y<3;Y++)if(a[Y])l++;if(l==0){alert("Enable Fill, Stroke or Labels");
return}var U=this.ff;if(l==1&&a[0]&&U.length==1)N=!0;var R=h.R.slice(0,G);if(!N)R.push(h.b2());if(a[0])for(var Y=0;
Y<U.length;Y++){var S=U[Y],g=q[S.color-1];e.N.h(S.path.m,new eq(1,0,0,1,H.rect.x,H.rect.y),S.path.m);
var i=Q(e.N.zv(S.path,!1),g);i.cb("Path "+Y);R.push(i)}if(a[1]){var i=h.Cx();i.cb("Stroke");R.push(i);
i.opacity=128;i.Xp|=16;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.F.t1({$:0,B:0,J:0})}};i.add.vmsk=new C.cW;
i.add.vstk=dE.QA.Az(!1,!0);var y=[];for(var Y=0;Y<U.length;Y++){var S=U[Y],o=e.N.zv(S.path,!1);if(Y==0)y=o;
else y=y.concat(o.slice(2))}i.add.vmsk.d=y;i.AA();i.vw(h)}if(a[2]){var v=this.Ov.jD,Z=v.j,W=v._,d=this.aA3(Z,W,q);
R.push(h.b2());function $(F,K,V,r){F=1+F+"";var i=h.Cx();R.push(i);i.opacity=r;i.add.lnsr="rend";var c=i.add.TySh=b_.V0(K-d*.2,V+d*.25),x=i.add.TySh.HZ,X=b_.XN(x,0,0);
X.bJ.FontSize=Math.round(d*.6);b_.V1(x,0,0,X);b_.ph(x,0,F);i.Cf();if(jK.Ln(c,j,s)){jK.rk(i,j,h);h.c()}}var I=this.DQ;
for(var Y=0;Y<I.length;Y++){var k=I[Y];if(k[3]<Z*W*5e-4)continue;$(k[2],k[0],k[1],128)}var i=Q(e.n.NT.Rect(0,0,d,d*q.length),{$:255,B:255,J:255,G:255});
i.cb("white");R.push(i);for(var Y=0;Y<q.length;Y++){var g=q[Y],i=Q(e.n.NT.Rect(d,d*Y,d,d),g);i.cb("color");
R.push(i);$(Y,d/2,d*(Y+.5),255)}var i=h.Cx();i.cb("Labels");i.add.lsct=c1.N_;i.Am="pass";i.Xp=24;R.push(i)}var _=R[R.length-1];
if(!N){var i=h.Cx();i.cb(H.getName());i.add.lsct=c1.$I;i.Am="pass";i.Xp=24;R.push(i);_=i}var D=H.add.lmfx;
if(D)_.add.lmfx=JSON.parse(JSON.stringify(D));var A=R.length;for(var Y=G+1;Y<h.R.length;Y++)R.push(h.R[Y]);
B.data={q:C.op,tG:R,_r:[A-1],VH:[11,11,0]}}else{var R=h.R.slice(0),i=h.Cx();i.cb(H.getName());R.splice(h.T[0]+1,0,i);
i.rect=H.rect.clone();i.buffer=this.aEF;i.c();B.data={q:C.op,tG:R,_r:[h.T[0]+1],VH:[11,11,1]}}this.Q(B);
this.close();h.rm=!0};dP.prototype.rN=function(b,h){this.Cc=b};function ga(b){iD.call(this,[[7,11],[7,13]][b],["redge","magiccut"][b]);
this.yE=b;this.Ov={};this.Aw=null;this.sV=null;this.rX=null;this.zP=null;this.Cp=null;this.body.style.padding="0";
this.ug=[];this.Tn=-1;this.ZH=u.I("div","form hbar padded");this.body.appendChild(this.ZH);this.Du=new fV;
this.Du.parent=this;this.Du.O(w.E.w,this.tf,this);this.ZH.appendChild(this.Du.Z);var h=b==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
h=h.concat("tools/hand","zoomIn","zoomOut");var G=b==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.__=new hx(null,h,G,28);this.__.O(w.E.w,this.Z1,this);this.ZH.appendChild(this.__.Z);this.jm=new bP([7,9],0,50,null);
this.jm.parent=this;this.jm.O(w.E.w,[this.a0L,this.wB][b],this);this.ZH.appendChild(this.jm.Z);var H=this.asJ=new gX([2,2],!1,null,!0);
H.O("click",this.gx,this);this.ZH.appendChild(H.Z);var B=this.co=u.I("span","form");this.ZH.appendChild(B);
var j=this.aF4=new gX([12,90],!1,null,!0);j.O("click",function(Q){alert(b==0?bp.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
B.appendChild(j.Z);var s=new gX("Tutorial",!1,null,!0);s.O("click",this.asV,this);B.appendChild(s.Z);
this.ot=new hx([12,46],["checker","#ffffff","#000000"]);this.ot.O(w.E.w,this.a1A,this);B.appendChild(this.ot.Z);
this.Zr=new cP(null,[[6,13],[6,2],[17,2]]);B.appendChild(this.Zr.Z);this.kp=u.H0(this,B,!1);var q=this.AL=u.I("div","flexrow");
this.body.appendChild(q);this.BP=new ep(!0);this.u9=new ep;this.BP.TM(this.u9);this.u9.TM(this.BP);this.BP.O("mousedown",this._M,this);
this.BP.O("mousemove",this.wv,this);this.BP.O("mouseup",this.om,this);this.BP.O("zoom",this.tf,this);
this.u9.O("zoom",this.tf,this);q.appendChild(this.BP.Z);q.appendChild(this.u9.Z)}ga.prototype=new iD;
ga.prototype._q=function(b,h){var G=b!=null&&!b.R[b.T[0]].rect.Zx();if(!G)alert("The layer is empty.");
return G};ga.prototype.Oa=function(){return new cJ(0,0)};ga.prototype.W1=function(){return!0};ga.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;h=h-12-33;if(b<900){this.co.setAttribute("style","display:block;  text-align:right;");h-=29}else{this.co.setAttribute("style","position:absolute;  right:0px")}this.ot.Sm(b<440?null:[12,46]);
this.jm.Sm(b<470?null:[7,9]);var G=this.Ov.rect;if(G){var H=ga.ayf(b,h,G.j,G._);if(H==0){b=Math.floor(b/2);
u.eS(this.AL,"flexrow")}else{h=Math.floor(h/2);u.Yx(this.AL,"flexrow")}this.BP.Vb(b,h);this.u9.Vb(b,h)}};
ga.ayf=function(b,h,G,H){var B=b/2,j=h/2,s=Math.min(B/G,h/H),q=Math.min(b/G,j/H);return s>q?0:1};ga.prototype.a=function(){iD.prototype.a.call(this);
this.Du.a();this.jm.a();this.kp.a();this.ot.a();this.Zr.a();this.asJ.a();this.aF4.a()};ga.prototype.asV=function(b){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.yE],"_blank")};
ga.prototype.rN=function(b,h){this.sV=b;if(h==ec.pp||h==ec.GH){this.Du.Cv(b.CB);this.Du.k(f7.C3(),b.CB.t8,b.CB.oJ)}};
ga.prototype.Z1=function(b,h,G,H){var B=this.__.l();if(H==null){this.BP.Z1(ep.sB(B-3));return}this.zP=H;
var j=E.Qb.Ca(this.Du.l(),H);if(j!=null){this.Du.k(j);this.tf()}else if(H.W(ap.zb)&&H.W(ap.Qj)){var s=this.ug,q=0;
if(H.W(ap.J3)){if(this.Tn+1<s.length)q=1}else if(this.Tn>0)q=-1;if(q!=0){this.Tn+=q;var Q=this.Tn,a=this.Ov;
if(q==1)e.JE(s[Q][2],s[Q][0],a.dB,a.rect);else e.JE(s[Q+1][1],s[Q+1][0],a.dB,a.rect);a.dT=a.rect;this.wB()}}else if(B<3)this.BP.Z1(H)};
ga.prototype.Wm=function(b){var h=this.Ov,G=this.ug,H=e.U(b.X()*4);e.JE(h.ol,h.rect,H,b);h.ol=null;var B=e.U(b.X()*4);
e.JE(h.dB,h.rect,B,b);this.Tn++;G[this.Tn]=[b.clone(),H,B];while(G.length>this.Tn+1)G.pop();while(G.length>50){G=G.slice(1);
this.Tn--}};ga.prototype.tf=function(){var b=this.sV,h=ft.m1(this.Du.l(),b.CB.t8,this.BP.OC().D);this.BP.vR(h)};
ga.prototype._M=function(b){var h=this.sV,G=this.Ov,H=this.zP,B=this.Du.l(),j=this.BP.Md(),s=[16777215,8421504,0][this.__.l()];
this.Aw=new ft(B,h.CB.t8,h.CB.oJ,{JI:1,h3:!0},s,h.W9,G.rect);G.ol=G.dB.slice(0);if(H!=null&&H.W(ap.J3)&&this.Cp){this.Aw.moveTo(this.Cp.x,this.Cp.y);
this.Aw.lineTo(j.x,j.y)}else this.Aw.moveTo(j.x,j.y);this.and()};ga.prototype.wv=function(b){var h=this.Ov,G=this.BP.Md();
this.Aw.lineTo(G.x,G.y);this.and()};ga.prototype.om=function(b){this.Cp=this.BP.Md();this.Wm(this.Aw.pn());
this.wB()};ga.prototype.and=function(){var b=this.Ov,h=this.Aw,G=h.zw();if(G.Zx())return;b.dT=G;e.z.Nm("norm",h.JV(),h.Ki(),b.dB,b.rect,G,1);
this.a2P()};ga.prototype.gx=function(b){var h=this.Ov;h.ol=h.dB.slice(0);h.dT=h.rect;e.Zi(h.dB,[4278190080,4292730333][this.yE]);
this.Wm(h.rect);this.wB()};ga.prototype.Fd=function(b,h){this.rX=b;var G=b.R[b.T[0]],H=G.rect.clone(),B=H.j,j=H._,Q;
this.jm.k(this.yE==0?3:B*j<3e6?3:0);this.__.k(b.e==null?0:1);this.jm.ay();if(this.yE==0&&b.e!=null||this.yE==1)this.jm.db();
var s=this.yE,q=e.U(H.X());if(s==0&&b.e){e.wX(b.e.channel,b.e.rect,q,H);var a=e.U(H.X());for(var l=0;
l<j;l++)for(var U=0;U<B;U++){var Y=l*B+U,N=q[Y];if(U>0&&q[Y-1]!=N||U<B-1&&q[Y+1]!=N||l>0&&q[Y-B]!=N||l<j-1&&q[Y+B]!=N)a[Y]=255}Q=e.style.ip(a,B,j)}else{Q=new Float32Array(H.X());
Q.fill(1e9)}H.x=H.y=0;this.Ov={rect:H,Ur:G.buffer,QU:q,el:Q,hZ:e.U(H.X()*4),by:e.U(H.X()*4),dB:e.U(H.X()*4),ol:null,_v:null,dT:H,a2p:{}};
if(s==0)this.a0L();else{this.Ov.a2p=E.lV.apB(b);var R=this.Ov.dB;e.Zi(R,4287137928);var S=e.Zj.getSelection(G.buffer,B,j),g=Math.round(B/60),i=Math.round(.7*j);
for(var l=0;l<j;l++)for(var U=0;U<B;U++){var y=(l*B+U)*4,o=S[y>>>2];o=o>128?255:128;if(l<g||l<i&&(U<g||U>B-1-g))o=0;
R[y]=R[y+1]=R[y+2]=o}this.wB()}this.ug=[1];this.Tn=0;var v=this.Du.l();v.Brsh.v.Dmtr.v.val=Math.round(H.j/(s==0?10:20));
this.Du.k(v);this.tf();this.Vb(this.Ps,this.CN);this.BP.Gr()};ga.prototype.a0L=function(){var b=this.Ov,h=b.rect.X(),G=this.jm.l(),H=b.QU.slice(0);
for(var Y=0;Y<h;Y++)if(b.el[Y]<G)H[Y]=128;e.Zi(b.dB,4294967295);e.aj(H,b.dB,0);e.aj(H,b.dB,1);e.aj(H,b.dB,2);
b.dT=b.rect;this.wB()};ga.prototype.wB=function(){var b=this.Ov,B,q,Q=0,a=0,l=0;this.a2P();var h=b.rect,G=h.j,H=h._,j=e.U(h.X()),s=b.Ur;
e.uA(b.dB,j,0);for(var Y=0;Y<j.length;Y++){if(s[(Y<<2)+3]!=255)continue;var U=j[Y];if(U==0)Q++;else if(U==255)a++;
else l++}if(Q*a*l!=0){if(this.yE==0)q=e.OU.OU(h,s,j);else{var N=this.__.l();for(var R=1;R<H;R++)for(var S=1;
S<G;S++){var Y=R*G+S,g=j[Y],i=j[Y-1];if(g==0&&i==255||g==255&&i==0){B="The Red and Green should never touch! Erase it with Grey.";
break}}var y=Date.now(),o=this.Ov.a2p;e.MI(j,o.zE);E.lV.hB(o,!0,this.rX);var v=Math.ceil(this.jm.l()/2);
if(v==0){q=s.slice(0);e.aj(o.e,q,3)}else{var Z=o.e.slice(0),W=o.e.slice(0);for(var d=0;d<v;d++){for(var R=1;
R<H-1;R++)for(var S=1;S<G-1;S++){var Y=R*h.j+S,$=Z[Y];if(Z[Y-G]!=$||Z[Y-1]!=$||Z[Y+1]!=$||Z[Y+G]!=$)W[Y]=128;
else W[Y]=$}var I=Z;Z=W;W=I}for(var R=0;R<H;R++)for(var S=0;S<G;S++){var Y=R*G+S;if(j[Y]==0||j[Y]==255)Z[Y]=j[Y]}q=e.OU.OU(h,s,Z,20,!1)}}}else{q=s.slice(0);
e.aj(j,q,3)}for(var Y=3;Y<q.length;Y+=4)if(q[Y]>s[Y])q[Y]=s[Y];if(h.TW(b.rect))b._v=q;else e.JE(q,h,b._v,b.rect);
this.a1A();if(B)alert(B,4e3)};ga.prototype.a2P=function(b){var h=this.Ov,G=h.dT;e.JE(h.Ur,h.rect,h.hZ,h.rect,G,!0);
var H=h.dB,B=h.rect,j=Date.now();if(this.yE==1){var s=new Uint32Array(256);s[0]=4278190335;s[255]=4278255360;
var q=e.U(G.X()*4),Q=G.X();e.JE(H,B,q,G);H=q;B=G;var a=new Uint32Array(H.buffer);for(var Y=0;Y<Q;Y++)a[Y]=s[a[Y]&255]}console.log(Date.now()-j);
e.z.Nm("norm",H,B,h.hZ,h.rect,G,.3);this.BP.k([{jD:h.rect,data:h.hZ.buffer}],null,null,G)};ga.prototype.a1A=function(b){var h=this.Ov;
e.Zi(h.by,[0,4294967295,4278190080][this.ot.l()]);e.z.Nm("norm",h._v,h.rect,h.by,h.rect,h.rect,1);this.u9.k([{jD:h.rect,data:h.by.buffer}])};
ga.prototype.Ip=function(b){var h=this.rX,G=this.Ov,H=this.Zr.l(),B=h.R[h.T[0]],j=new hb(w.E.r,!0);j.G2=!0;
var s=B.rect.clone();if(H==0&&B.yY()||H!=0&&!B.yY()){j.S=E.nc;j.data={q:C.LX,o:h.T[0]};this.Q(j)}if(h.e!=null){j.S=E.Bi;
j.data={q:"fromAction",E7:E.pC.V$()};this.Q(j)}if(H==0){var q=h.R.slice(0),Q=h.Cx();Q.cb(B.getName());
q.splice(h.T[0]+1,0,Q);Q.rect=s;Q.buffer=G._v;Q.c();j.S=E.nc;j.data={q:C.op,tG:q,_r:[h.T[0]+1],VH:[7,11]};
this.Q(j)}if(H==1){var a=B.Y1();j.S=E.nc;j.data={q:C.k5,aaZ:!0};this.Q(j);var l=B.Y1();l.channel=e.U(s.X());
l.rect=s;l.color=0;l.GD=!0;e.uA(G._v,l.channel,3);if(a){var U=l.Z$(a);l.rect=U.rect;l.channel=U.channel;
l.color=U.color}l.r6();B.vw()}if(H==2){var N={rect:s,channel:e.U(s.X())};e.uA(G._v,N.channel,3);j.S=E.Bi;
j.data={q:"setsel",e:N,VH:this.s1};this.Q(j)}this.close()};function a6(){iD.call(this,[1,13],"locstor");
this.Cc=null;this.Sl=[];var b=this.body,h=u.I("p");h.textContent="These files are loaded every time you start Photopea.";
b.appendChild(h);this.asD=0;this.Ji=u.I("span");b.appendChild(this.Ji);this.Ji.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var G=u.I("span","form");b.appendChild(G);this.jd=new gX([5,4],!1,null,!0);this.jd.O("click",this.G5,this);
G.appendChild(this.jd.Z);this.ou=new gX("Get all as ZIP",!1,null,!0);this.ou.O("click",this.mZ,this);
G.appendChild(this.ou.Z);this.L8=new cW(!0);this.L8.parent=this;this.L8.XZ(1);b.appendChild(this.L8.Z);
this.L8.Z.setAttribute("style","width: 40em; height: 25em")}a6.prototype=new iD;a6.prototype.a=function(){iD.prototype.a.call(this);
this.Ji.textContent=bp.get([13,2])+": "+hd.Vd(this.asD);this.jd.a()};a6.prototype.rN=function(b,h){this.Cc=b;
if(h==ec.Gf)this.Fd()};a6.prototype.Fd=function(b,h){var G=this.Cc.XB.hX,Q=0;this.Sl=[];for(var H in G)this.Sl.push(H);
this.Sl.sort(function(l,U){l=l.split(".");U=U.split(".");return l[1]==U[1]?l[0]<U[0]?-1:1:l[1]<U[1]?-1:1});
var B=Math.floor(100*u.V()),j=Math.floor(16*u.V()),s=[],q=[];for(var Y=0;Y<this.Sl.length;Y++){var H=this.Sl[Y],a=a6.DB(H,G[H],B,j);
s.push(a);q.push(H);Q+=G[H].byteLength}this.L8.J_(s,q,B,j);this.asD=Q;this.a()};a6.prototype.G5=function(b){var h=this.L8.l();
if(h.length==0){alert("Select a file first.");return}this.L8.k([]);var G=this.Cc.XB.hX;for(var Y=0;Y<h.length;
Y++)delete G[this.Sl[h[Y]]];var H=new hb(w.E.b,!0);H.data={q:w.p.wP,CI:ec.Gf};this.Q(H)};a6.prototype.mZ=function(b){var h=this.Cc.XB.hX,G={};
for(var H in h)G[H]=new Uint8Array(h[H]);var B=UZIP.encode(G);dJ.save(B,"resources.zip")};a6.DB=function(b,h,G,H){var B=u.I("canvas"),q=0;
B.width=G;B.height=H;var j=B.getContext("2d"),s=b.split(".").pop().toLowerCase();for(var Y=0;Y<s.length;
Y++)q+=s.charCodeAt(Y)*613<<8*Y;j.fillStyle="#"+e.Z0(q&16777215);j.fillRect(0,0,20,H);var Q=Math.floor(14*u.V());
j.fillStyle="#000000";j.font="bold "+Q+"px sans-serif";var a=(H-Q)/2,l=hd.Vd(h.byteLength),U=j.measureText(l);
j.fillText(l,G-12-U.width,H-a);return B.toDataURL()};function gQ(){iD.call(this,[1,15],"pmanager");this.Cc=null;
this.wL=new cP([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.wL.O(w.E.w,this.Fd,this);
this.body.appendChild(this.wL.Z);var b=u.I("div","flexrow");this.body.appendChild(b);var h=this.awt=u.I("div");
b.appendChild(h);var G=u.I("div","form");b.appendChild(G);G.setAttribute("style","width:140px; margin-left:12px");
this.ah2=[ec.pp,ec.bX,ec.Pl,ec.vr,ec.HG,ec.CR];this.g8=[new fV,new cD,new gv,new j$,new kC,new hm];for(var Y=0;
Y<this.g8.length;Y++)this.g8[Y].parent=this;this.No=[];for(var Y=0;Y<4;Y++){var H=new gX("Hello",!0,null,!0);
H.O("click",this.L$,this);this.No.push(H);G.appendChild(H.Z)}this.Fd()}gQ.prototype=new iD;gQ.prototype.BB=function(b){return b==ap.TD||b==ap.Y6};
gQ.prototype.L$=function(b){var Y=this.No.indexOf(b.target);this.g8[this.wL.l()].Jd(Y)};gQ.prototype.a=function(){iD.prototype.a.call(this);
this.wL.a();for(var Y=0;Y<this.g8.length;Y++)this.g8[Y].a();var b=this.No,h=this.wL.l(),G=ec.VA[this.ah2[h]],H=G[0].toUpperCase();
b[0].Sm([[23,6],"."+H]);b[1].Sm(["VAR0 ."+H,[1,8]]);b[2].Sm([6,37]);b[3].Sm([5,4])};gQ.prototype.rN=function(b,h){this.Cc=b;
this.Fd()};gQ.prototype.Fd=function(b,h){if(!u.Pg(this.Z))return;this.a();u._I(this.awt);this.awt.appendChild(this.g8[this.wL.l()].Ab);
var G=this.g8,H=this.Cc;if(H==null)return;G[0].Cv(H.CB);G[1].zN(H.nU,H.W9);G[1].Cv(H.nC);G[2].Cv(H.hK);
G[3].Cv([H.Oy,H.hK]);G[4].Cv(H.Co);G[5].Cv(H.NX)};function jQ(b,h,G){iD.call(this,h,"cwindow");this.afJ=new cJ(G[0],G[1]-33);
this.ZH=u.I("div","form");this.ZH.setAttribute("style","width:"+(G[2]-G[0])+"px; height:"+(G[3]-G[1])+"px");
this.body.appendChild(this.ZH)}jQ.prototype=new iD;jQ.prototype.Oa=function(b,h){return this.afJ.clone()};
function cR(b){var h=cR.aFc(b);iD.call(this,h,"res"+b);var G=this.atd.bind(this);window.addEventListener("message",function(B){if(typeof B.data=="string"&&B.data.startsWith("--et ")){console.log(B.data);
var j=this.a9Y=B.data.slice(5).split(",");j[0]=parseFloat(j[0]);fH.Pu(j[0],j[1],G)}}.bind(this));this.hG=h;
this.X7=b;this.a8_=null;this.Il=null;this.Tq=0;this.bv=null;this.Ls=null;this.a9Y=null;this.Cc=null;
this.body.setAttribute("style","padding:0");this.tm=new gX("",null,null,!0);this.body.appendChild(this.tm.Z);
this.tm.O("click",this.ZS,this);this.tm.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.cv=new gX("\u25BC",null,null,!0);this.cv.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.cv.O("click",this.a6l,this);this.body.appendChild(this.cv.Z);this.GS=u.I("span","form");this.body.appendChild(this.GS);
this.No=[];for(var Y=0;Y<9;Y++){var H=new gX(cR.aFc(Y));this.No.push(H);if(Y==b)H.k(!0);this.GS.appendChild(H.Z);
H.O("click",this.abw,this)}this.ls=new gX([5,3],null,null,!0);this.ls.O("click",this.a3u,this);this.ayZ=new gX("Upload Current Document as a Template",null,null,!0);
this.ayZ.O("click",this.aCi,this);this.wO=new aG("Creator / Brand name");this.UZ=new gX([1,2],null,null,!0);
this.UZ.O("click",this.mZ,this);this.Sr=u.I("iframe","scrollable");this.Sr.setAttribute("style","border:none; margin:0; padding:0;");
this.qj=u.I("div","form scrollable padded");this.bj=new a3(b);this.bj.O("back",this.gx,this);this.bj.O("save",this.ajd,this);
this.body.appendChild(this.Sr)}cR.prototype=new iD;cR.aFc=function(b){var h;if(b==0)h=[25,0];else if(b==1)h="Plugins";
else for(var G in ec.VA)if(ec.VA[G][4]==b)h=ec.VA[G][3];return h};cR.prototype.a6l=function(b){this.GS.style.display=this.GS.style.display=="none"?"":"none"};
cR.prototype.abw=function(b){var Y=this.No.indexOf(b.target);if(Y==this.X7)return;this.close();var h=new hb(w.E.b,!0);
h.data={q:w.p.C9,ut:"res"+Y};this.Q(h)};cR.prototype.atd=function(b){this.ZS();this.Ls=JSON.parse(b.target.response);
this.tc()};cR.prototype.Oa=function(b,h){return new cJ(0,0)};cR.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;this.x4=null;h=h-4;b=b;var G=b>820,H="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",B="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.GS.setAttribute("style",G?H:B);this.GS.style.marginTop=(G?-31:0)+"px";this.cv.Z.style.display=G?"none":"";
var j=this.qj;j.style.width=b-12+"px";j.style.height=h-12+"px";var j=this.bj.Z;j.style.width=b-12+"px";
j.style.height=h-12+"px";var j=this.Sr;j.style.width=b+"px";j.style.height=h+"px";this.Ub()};cR.prototype.rN=function(b,h){this.Cc=b};
cR.prototype.a=function(){iD.prototype.a.call(this);for(var Y=0;Y<this.No.length;Y++)this.No[Y].a();
this.ls.a()};cR.prototype.Fd=function(b,h,G,H){this.x4=b;this.ZS(null,!1)};cR.prototype.ZS=function(b,h){var G=h!=null?h:u.Pg(this.Sr);
if(G){if(!fH.Ze()){alert("You need to log in first!");return}var H=fH.pU();this.Il=H.tpl?H.tpl.list:[];
this.wO.k(H.tpl&&H.tpl.brnd?H.tpl.brnd:"");this.Ub()}else{this.Sr.setAttribute("src","");this.Sr.setAttribute("src",fH.J5("templates/index.html?type="+this.X7+""+this.Cc.U$.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(G?this.qj:this.Sr);var B=bp.get(this.hG);this.tm.Sm(G?"All "+B:"Add "+B)};cR.prototype.Ub=function(){var b=bp.get(this.hG),h=this.Il,G=this.X7,q=450;
if(h==null)return;var H=this.qj;u._I(H);var B=u.I("h1");H.appendChild(B);B.textContent="Share your "+b+" with the world!";
var j=u.I("ul");H.appendChild(j);var s=u.I("li");j.appendChild(s);s.textContent="By publishing your "+b+", you agree to let others use them for all kinds of purposes, even commercially.";
H.appendChild(this.ls.Z);if(G==0)H.appendChild(this.ayZ.Z);u.pP(H);H.appendChild(this.wO.Z);H.appendChild(this.UZ.Z);
u.pP(H);q=(this.Ps-20)/Math.max(1,Math.floor(this.Ps/q))-42;var Q="display:inline-block; width:"+q+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var Y=h.length-1;Y>=0;Y--){var a=h[Y];if(a.type==null)a.type=0;if(a.type!=G)continue;var l=u.I("div");
H.appendChild(l);l.setAttribute("style",Q);var U=u.I("img");l.appendChild(U);U.setAttribute("src",a.thmb);
U.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var N=u.I("h3");l.appendChild(N);N.textContent=a.name;N.setAttribute("style","margin:0 0 10px 0");var R=u.I("p");
l.appendChild(R);R.textContent=a.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var S=0;S<2;S++){var g=new gX(S==0?"Edit":"Delete",null,null,!0);g.a6v=Y;g.tc=S==0;g.O("click",this.ahI,this);
l.appendChild(g.Z)}}};cR.prototype.aCi=function(b){if(this.x4==null){alert("No document opened.");return}var h=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!h)return;var G=new hb(w.E.b,!0);G.data={q:w.p.Gy,B9:"psd",s2:this.af3.bind(this)};this.Q(G)};cR.prototype.af3=function(b){this.a5i=b;
var h=new hb(w.E.b,!0);h.data={q:w.p.Gy,B9:"jpg",s2:this.at0.bind(this),ax7:1400};this.Q(h)};cR.prototype.at0=function(b){this.bv={type:0,catg:0,desc:"",file:this.a5i,name:this.x4.name.split(".")[0],thmb:b,publ:!0,utme:""};
this.tc()};cR.prototype.a3u=function(b){this.bv={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.tc()};cR.prototype.ahI=function(b){this.Tq=b.target.a6v;if(!b.target.tc){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Il.splice(this.Tq,1);this.mZ();this.Ub();return}this.tc()};cR.prototype.tc=function(){if(u.Pg(this.qj))this.body.removeChild(this.qj);
this.body.appendChild(this.bj.Z);var b=this.bv?this.bv:this.Ls?this.Ls:this.Il[this.Tq];if(b.type==null)b.type=0;
this.bj.k(b)};cR.prototype.ajd=function(b){var h=this.bj.l();if(this.bv)this.Il.push(h);else if(this.Ls){var G=this.a9Y;
fH.Pu(G[0],G[1],this.gx.bind(this),JSON.stringify(h));return}else this.Il[this.Tq]=h;this.mZ();this.gx()};
cR.prototype.gx=function(){var b=this.Ls;this.bv=null;this.Ls=null;this.body.removeChild(this.bj.Z);
this.body.appendChild(this.qj);this.Ub();if(b)this.ZS()};cR.prototype.mZ=function(){var b=fH.pU();if(this.Il.length==0)delete b.tpl;
else{b.tpl={list:JSON.parse(JSON.stringify(this.Il))};var h=this.wO.l().trim();if(h!="")b.tpl.brnd=h}fH._f(b,function(){alert("Saved.")})};
function jj(){iD.call(this,"Make Selection","makesel");this.Cc=null;var b=u.I("div","form");this.body.appendChild(b);
this.hH=new iI([12,25,1]);this.hH.k(!0);b.appendChild(this.hH.Z);u.pP(b);this.Ae=new aa(!0);b.appendChild(this.Ae.Z);
this.kp=u.H0(this,this.body)}jj.prototype=new iD;jj.prototype.a=function(){iD.prototype.a.call(this);
this.Ae.a();this.hH.a();this.kp.a()};jj.prototype.Ip=function(b){var h=new hb(w.E.r,!0);h.S=E.Bi;h.data={q:"frompath",Fo:[null,0,this.Ae.l(),this.hH.l()]};
this.close();this.Q(h)};function gh(){iD.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.x4=null;this.eI=null;
this.Gw=null;var b=this.aDF=u.I("div","form");b.setAttribute("style","width:20em");this.body.appendChild(b);
this.HQ=new g2([12,50],["PSD","PSB"]);this.HQ.O(w.E.w,this.K1,this);b.appendChild(this.HQ.Z);u.MX(b);
var h=new iM("Minify the file");b.appendChild(h.Z);u.pP(b);var G=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.lf=[];for(var Y=0;Y<G.length;Y++){var H=new iI(G[Y]);this.lf.push(H);b.appendChild(H.Z);H.O(w.E.w,this.K1,this)}u.MX(b);
this.fX=new iM("aa.psd");this.ED=new iM("10 kB");b.appendChild(this.ED.Z);this.a8n=new iM("1000 B");
b.appendChild(this.a8n.Z);this.kp=new gX([1,2],!0,null,!0);this.kp.O("click",this.Ip,this);b.appendChild(this.kp.Z);
this.xQ=new gX(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.xQ.O("click",this.Ip,this);b.appendChild(this.xQ.Z);
this.O("closebtn",this.cF,this)}gh.prototype=new iD;gh.prototype.Fd=function(b,h,G,H){var B=u.Pg(this.xQ.Z),j=b.z9!=null&&b.z9.cs=="psd";
if(j&&!B)this.aDF.appendChild(this.xQ.Z);if(!j&&B)this.aDF.removeChild(this.xQ.Z);for(var Y=0;Y<this.lf.length;
Y++)this.lf[Y].k(!1);this.x4=b;this.K1()};gh.prototype.Ip=function(b){if(b.target==this.kp)dJ.save(this.eI,this.Gw);
else{if(this.lf[3].l()){alert("You should not save a ZIP as a PSD to Google Drive.");return}aB.abQ(this.x4,this.eI)}};
gh.prototype.cF=function(){this.x4=null;this.eI=null};gh.prototype.K1=function(){var b=this.x4,h=[!1,!1,!1,!1];
for(var Y=0;Y<3;Y++)h[Y]=this.lf[Y].l();var G=this.lf[3].l(),H=h[3]=this.HQ.l()==1,B=b.name.slice(0,b.name.length-3),j=this.eI=aT.JR("PSD").kf(b,0,0,h),g1=this.Gw=B+"ps"+(H?"b":"d");
if(G){var s={};s[g1]=new Uint8Array(j);j=this.eI=UZIP.encode(s);g1=this.Gw=B+"zip"}this.fX.k(g1);this.ED.k(hd.Vd(j.byteLength));
this.ED.Z.style["font-size"]="2em";this.a8n.k(" \u2001 "+j.byteLength+" B");this.kp.Sm(bp.get([1,2])+" \""+g1+"\"")};
gh.prototype.a=function(){iD.prototype.a.call(this);this.HQ.a();this.kp.a();this.xQ.a()};function hB(){iD.call(this,"Confirm","confirm");
this.QF=null;var b=u.I("div");b.setAttribute("style","margin-bottom:1em");this.body.appendChild(b);this.Gm=u.I("div");
this.Gm.textContent="Hello";b.appendChild(this.Gm);this.kp=u.H0(this,this.body)}hB.prototype=new iD;
hB.prototype.Ip=function(b){if(this.QF==null)return;console.log("okconfirm");this.close();this.QF();
this.QF=null};hB.prototype.a=function(){iD.prototype.a.call(this);this.kp.a()};hB.prototype.Fd=function(b,h){if(h.aCe||h.amW)this.Gm.innerHTML=h.P;
else this.Gm.textContent=h.P;if(h.afs)this.kp.Sm(h.afs);this.QF=h.QF;this.kp.Z.focus();if(h.aCe!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.atl=h.aCe!=null};hB.prototype.Oa=function(b,h){return new cJ(Math.max(0,(b-500)/2),Math.max(0,Math.min(60,(h-100)/2)))};
hB.prototype.Vb=function(b,h){this.Gm.style.width=b-30+"px"};function fb(){iD.call(this,[1,16,2],"newartb");
this.yE=0;this.Fe=null;var b=u.I("div","form");b.style.width="260px";this.body.appendChild(b);this.L8=new eo;
b.appendChild(this.L8.Z);this.kp=u.H0(this,b)}fb.prototype=new iD;fb.prototype._q=function(b,h){return b!=null};
fb.prototype.Ip=function(b){var h=this.L8.l();this.Fe.j=h.x;this.Fe._=h.y;var G=new hb(w.E.r,!0);G.S=E.Z4;
G.data={auH:this.Fe,vX:this.yE};this.Q(G);this.close()};fb.prototype.a=function(){iD.prototype.a.call(this);
this.L8.a();this.kp.a()};fb.prototype.Fd=function(b,h){this.yE=h.vX;var G=new io(0,0,b.j,b._);if(b.T.length!=0){var H=b.R[b.T[0]];
if(H.add.artb){G=H.Ey();G.x+=G.j+100}if(h.vX==1)G=E.Y.Ki(b)}this.Fe=G;this.L8.k(new cJ(G.j,G._))};function c$(){iD.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.py=null;this.O("closebtn",this.Om,this);this.O("canclose",this.Om,this)}c$.prototype=new iD;
c$.prototype.rN=function(b,h){if(this.py)this.py.rN(b,h)};c$.prototype.Oa=function(b,h){return new cJ(Math.max(0,Math.min(150,(b-980)/2)),Math.max(0,Math.min(150,(h-590)/2)))};
c$.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;b=Math.min(b,980);h=Math.min(h,590);if(this.py)this.py.Vb(b,h)};
c$.prototype.a=function(){iD.prototype.a.call(this);if(this.py)this.py.a()};c$.prototype.Fd=function(b,h,G,H){this.s1=h.vX==0?"Open from Storage":"Save to Storage";
this.a();if(this.py==null){this.py=new dI;this.py.parent=this;this.body.appendChild(this.py.Z);this.a();
this.Vb(this.Ps,this.CN)}Storage.XZ(h.vX,b?b.name:"");dI.D1(this.py)};c$.prototype.Om=function(b){Storage.XZ(0);
dI.a_();if(b.type=="canclose")this.close()};function d5(){iD.call(this,[2,14],"varsdats");var b=this.ZH=u.I("div","form");
b.setAttribute("style","width:300px");this.body.appendChild(b);this.x4=null;this.OK=0;this.Cc=null;this.cA=new g2(null,[[2,14],"Data Sets",[1,8]]);
this.cA.O(w.E.w,this.a00,this);this.k7=new d5.vb;this.n5=new d5.kt;this.Pt=new d5.ty;this.n5.O("activate",this.yQ,this);
this.Pt.O("export",this._n,this);this.kp=u.H0(this)}d5.prototype=new iD;d5.prototype.a00=function(b){var h=this.cA.l(),G=this.ZH;
u._I(G);G.appendChild(this.cA.Z);u.MX(G);G.appendChild([this.k7,this.n5,this.Pt][h].Z);G.appendChild(this.kp.Z)};
d5.prototype.Ip=function(b){var h=new hb(w.E.r,!0);h.S=E.nc;h.data={q:C._x,P:JSON.stringify([this.k7.l(),this.n5.l()])};
this.Q(h);this.close()};d5.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();this.Pt.a()};
d5.prototype.Fd=function(b,h){this.x4=b;this.Pt.x4=b;if(b==null)return;this.k7.Fd(b,h);this.n5.Fd(b,h);
this.cA.k(0);this.a00();this.OK=0;this.Pt.aAx()};d5.prototype.rN=function(b,h){this.Cc=b};d5.prototype._n=function(b){var h=this.k7.l(),G=this.n5.l(),H=this.Pt.l();
if(h.length==0){alert("There are no variables.");return}if(G.length==0){alert("There are no data sets.");
return}var B=aT.abB(this.x4,h,G,this.n5.a79(),H[0],H[1],H[2],this.Cc,this);if(B!=null)dJ.save(B,"images.zip")};
d5.prototype.yQ=function(b){var h=this.n5.T,G=this.k7.l(),H=this.n5.l();if(G.length==0){alert("There are no variables.");
return}if(H.length==0){alert("There are no data sets.");return}this.He();this.OK+=aT.aD$(this.x4,this,G,H,this.n5.a79(),h)};
d5.prototype.He=function(){var b=new hb(w.E.r,!0);b.S=E.Ck;b.data={q:"h_stepbck"};while(this.OK>0){this.Q(b);
this.OK--}};d5.ty=function(){dQ.call(this);var b=this.Z=u.I("div");this.HJ=new aG("Variable for file names");
b.appendChild(this.HJ.Z);u.MX(b);this.x4=null;this.Ep=["JPG","PNG","PDF"];this.HQ=new g2([12,50],this.Ep);
this.HQ.O(w.E.w,this.aAx,this);b.appendChild(this.HQ.Z);this.Kh=new hg;b.appendChild(this.Kh.Z);this.ou=new gX("Export all items",!0,null,!0);
this.ou.O("click",this._n,this);b.appendChild(this.ou.Z)};d5.ty.prototype=new dQ;d5.ty.prototype.a=function(b){this.HJ.a();
this.HQ.a();this.ou.a();this.Kh.a()};d5.ty.prototype.aAx=function(b){if(this.x4==null)return;var h=this.Ep[this.HQ.l()],G=this.x4,H=G.add.artd;
this.Kh.Ek(h,null,null,H!=null&&H.Cnt.v>1)};d5.ty.prototype._n=function(b){this.Q(new hb("export"))};
d5.ty.prototype.l=function(){var b=this.Ep[this.HQ.l()];return[b,this.Kh.l(),this.HJ.l().trim()]};d5.kt=function(){dQ.call(this);
this.Jf=null;this.Li=[];this.T=0;var b=this.Z=u.I("div","form");this.Fg=new hy("Import a CSV file");
b.appendChild(this.Fg.Z);this.Fg.O(w.E.w,this.a5a,this);this.BS=u.I("div","scrollable");this.BS.setAttribute("style","overflow:scroll;  height:234px;");
b.appendChild(this.BS);this.ajk=new hy("Source Images",!0);b.appendChild(this.ajk.Z)};d5.kt.prototype=new dQ;
d5.kt.prototype.a5a=function(b){var h=this.Fg.l();for(var G in h){h=h[G];break}this.Jf=kK.wZ(J.S2(h));
this.BL()};d5.kt.prototype.a79=function(){return this.ajk.l()};d5.kt.prototype.Fd=function(b,h){var G=this.Jf=JSON.parse(JSON.stringify(b.xC));
this.BL()};d5.kt.prototype.l=function(){return this.Jf};d5.kt.prototype.BL=function(){var b=this.Qd.bind(this),h=this.Jf,H="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.Li=[];var G=u.I("table");G.setAttribute("style","border-collapse: collapse;");for(var Y=0;Y<h.length;
Y++){var B=u.I("tr"),j=h[Y],s=Y==0?"th":"td";G.appendChild(B);var q=u.I(s);B.appendChild(q);q.setAttribute("style",H+"cursor:pointer;");
if(Y!=0)q.textContent="\u2713";this.Li.push(q);q.addEventListener("click",b,!1);for(var Q=0;Q<j.length;
Q++){var q=u.I(s);q.textContent=j[Q];B.appendChild(q);q.setAttribute("style",H);q.setAttribute("title",j[Q])}}u._I(this.BS);
this.BS.appendChild(G)};d5.kt.prototype.Qd=function(b){this.T=this.Li.indexOf(b.currentTarget);this.Q(new hb("activate"))};
d5.vb=function(){dQ.call(this);var b=this.Z=u.I("div","form marged");this.Nl=null;this.qa=[];this.Cn=[];
this.FR=null;this.lw=new cP([0,3],[]);this.lw.O(w.E.w,this.alN,this);b.appendChild(this.lw.Z);this.gO=[];
var h=["Visibility","Text Content","Pixel Content"];for(var Y=0;Y<h.length;Y++){u.MX(b);var G=new iI(h[Y]);
G.O(w.E.w,this.hO,this);b.appendChild(G.Z);u.pP(b);var H=new aG("Variable Name");H.O(w.E.w,this.hO,this);
b.appendChild(H.Z);this.gO.push(G,H)}};d5.vb.prototype=new dQ;d5.vb.prototype.hO=function(b){var h=this.lw.l(),G=this.FR[h],H=this.qa[h],B=this.Nl["l"+G],j=this.gO;
if(B==null)this.Nl["l"+G]=B=[];while(B.length!=0)B.pop();for(var Y=0;Y<3;Y++){var s=j[2*Y+1].l().trim();
if(!j[2*Y].l())continue;if(s.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}s=s.replaceAll(" ","");
var q={varName:s,trait:["visibility","textcontent","fileref"][Y]};B.push(q);if(Y==2){q.align="center";
q.clip="false";q.placementMethod="fit";q.valign="middle"}}if(B.length==0)delete this.Nl["l"+G];this.Fd()};
d5.vb.prototype.alN=function(b){var h=this.lw.l(),G=this.FR[h],H=this.qa[h],B=this.Nl["l"+G],j=this.gO;
if(B==null)B=[];for(var Y=0;Y<3;Y++){var s=Y==0||Y==1&&H==0||Y==2&&H==1;j[2*Y].d3(s);j[2*Y].k(!1);j[2*Y+1].d3(s);
if(!s)j[2*Y+1].k("")}for(var Y=0;Y<B.length;Y++){var q=B[Y],Q=q.trait,a=["visibility","textcontent","fileref"].indexOf(Q);
j[a*2].k(!0);j[a*2+1].k(q.varName)}};d5.vb.prototype.Fd=function(b,h){if(b){var G=JSON.parse(JSON.stringify(b.W7)),H=this.Nl={};
for(var Y=0;Y<G.length;Y++){var B=G[Y],j=B.docRef;j="l"+j.slice(4,j.length-2);if(H[j]==null)H[j]=[];
H[j].push(B)}this.FR=[];this.qa=[];this.Cn=[];for(var Y=b.R.length-1;Y>=0;Y--){var s=b.R[Y],j=s.add.lyid;
if(s.add.lsct==c1.cH)continue;this.FR.push(j);this.qa.push(s.add.TySh?0:1);this.Cn.push(s.getName())}}var q=[],Q=this.Cn;
for(var Y=0;Y<Q.length;Y++){q.push(Q[Y]+(this.Nl["l"+this.FR[Y]]?" *":""))}var a=this.lw.l();this.lw.mX(q);
this.lw.k(a);this.alN()};d5.vb.prototype.l=function(){var b=this.Nl,h=[];for(var G in b){var H=b[G];
for(var B=0;B<H.length;B++){H[B].docRef="id('"+G.slice(1)+"')";h.push(H[B])}}return h};function i$(){iD.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.rB=!1;var b=this.vD=[],h=u.I("div","form");h.setAttribute("style","width:20em");this.body.appendChild(h);
for(var Y=0;Y<2;Y++){var G=new iI([22,4,2+Y]);h.appendChild(G.Z);u.pP(h);var H=new g2(null,[["N equal parts"],["N pixels per part"]]);
h.appendChild(H.Z);u.pP(h);var B=new bP("N",0,1e3);B.k(4);B.parent=this;h.appendChild(B.Z);u.pP(h);if(Y==0)u.MX(h);
b.push(G,H,B)}for(var Y=0;Y<b.length;Y++)b[Y].O(w.E.w,this.v5,this);b.push(u.H0(this,h));this.O("closebtn",this.He,this)}i$.prototype=new iD;
i$.prototype.He=function(){if(this.rB){var b=new hb(w.E.r,!0);b.S=E.Ck;b.data={q:"h_stepbck"};this.Q(b)}};
i$.prototype.v5=function(b){this.He();this.rB=!0;var h=[];for(var Y=0;Y<6;Y++)h.push(this.vD[Y].l());
var G={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var H=0;H<2;H++){if(!h[H*3])continue;var B=h[H*3+1],j=h[H*3+2];G[["slices","pixels"][B]+["Across","Down"][H]]={t:"long",v:j}}var s=new hb(w.E.IK,!0);
s.data={f6:"divide",yo:G};this.Q(s)};i$.prototype.Ip=function(b){this.close()};i$.prototype.a=function(){iD.prototype.a.call(this);
var b=this.vD;for(var Y=0;Y<b.length;Y++)b[Y].a()};i$.prototype.Fd=function(b,h){this.rB=!1};function cz(){iD.call(this,"Stroke Path","strokepath");
this.Cc=null;this.Lc=null;this.hF=null;this.kp=null;this.oa=[E.ln,E.pp,E.UA,E.hL,E.ae,E.eT,E.Mi,E.fv,E.PE,E.Si,E.dI,E.NV,E.qi,E.q4,E.Qw]}cz.prototype=new iD;
cz.prototype.a=function(){iD.prototype.a.call(this);if(this.kp){this.Lc.a();this.kp.a()}};cz.prototype.Ip=function(b){var h=this.oa[this.Lc.l()],G=null;
for(var H in E.G7)if(E.G7[H]==h)G=H;var B=new hb(w.E.IK,!0);B.data=E.n8.hp(G,this.hF.l());this.close();
this.Q(B)};cz.prototype.rN=function(b,h){if(this.Cc==null){var G=[];for(var Y=0;Y<this.oa.length;++Y){G.push(b.L.map[this.oa[Y]].S.name)}var H=u.I("div","form");
this.body.appendChild(H);this.Lc=new cP("Tool",G);this.Lc.k(1);H.appendChild(this.Lc.Z);this.hF=new iI("Simulate Pressure");
u.pP(H);H.appendChild(this.hF.Z);this.kp=u.H0(this,this.body)}this.Cc=b};function aZ(){iD.call(this,[1,18],"linkview");
u.eS(this.body,"form");var b=this.aK=[new aG(null,null,17),new gX([5,1],!1,null,!0),new gX([1,0],!1,null,!0)];
for(var Y=0;Y<3;Y++){var h=b[Y];this.body.appendChild(h.Z);if(Y!=0)h.O("click",this.nt,this);if(Y==0)u.pP(this.body)}}aZ.prototype=new iD;
aZ.prototype.Fd=function(b,h){var G=h.aF9;if(G.startsWith("https://"))G=G.slice(8);this.aK[0].k(G)};
aZ.prototype.nt=function(b){var h=this.aK,G=h[0].l(),H=b.target==this.aK[1];if(H){navigator.clipboard.writeText(G);
alert("Copied to a clipboard!")}else window.open("https://"+G,"Shared")};function bn(b){iD.call(this,b==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][b]);
this.wK=null;this.uQ=null;this.a4j=b;var h=u.I("div","form label8");h.setAttribute("style","max-width:26em");
this.body.appendChild(h);this.ja=new cP("Document",["abc","def"]);this.ja.O(w.E.w,this.hO,this);h.appendChild(this.ja.Z);
u.pP(h);this._R=new cP([12,4],["abc","def"]);this._R.O(w.E.w,this.hO,this);h.appendChild(this._R.Z);
this.a28=new iI([4,11]);this.Gm=new aG([12,48]);this.Gm.k("Alpha");if(b==0){}else{h.appendChild(this.Gm.Z)}this.Su=new aa(!0);
h.appendChild(this.Su.Z);this.kp=u.H0(this,h)}bn.prototype=new iD;bn.prototype.W1=function(){return!0};
bn.prototype.a=function(){iD.prototype.a.call(this);this.kp.a();this.ja.a();this._R.a();this.Gm.a();
this.a28.a();this.Su.a()};bn.prototype.hO=function(b){var h=this.a4j;if(b==null||b==this.ja){var G=this.ja.l(),H=this.uQ[G],B=[];
if(h==0)B.push(H.R[H.T[0]].getName()+" Transparency");else B.push([5,3]);for(var Y=0;Y<H.$B.length;Y++)B.push(H.$B[Y].name);
this._R.mX(B)}if(h==0)return;var j=this._R.l();this.Gm.d3(j==0);this.Su.d3(j!=0)};bn.prototype.Fd=function(b,h,G){this.wK=b;
this.uQ=G;var H=[];for(var Y=0;Y<G.length;Y++){var B=G[Y].name;H.push(B.length<30?B:B.slice(0,27)+"...")}this.ja.mX(H);
this.ja.k(G.indexOf(b));this.hO(null)};bn.prototype.Ip=function(b){var h=this.a4j,G=this._R.l(),H=this.ja.l(),B=this.uQ[H],j=this.Su.l(),s;
if(G==0){s=new hb(w.E.IK,!0);if(h==0)s.data=E.pC._T(j,"Trsp",B.R[B.T[0]].getName());else s.data={f6:"duplicate",yo:{classID:"null",Nm:{t:"TEXT",v:this.Gm.l()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{s=new hb(w.E.r,!0);
if(h==0){s.S=E.Bi;s.data={q:"fromchannel",Fo:[-4-G,0,j]}}else{s.S=E.nc;s.data={q:C.XG,DF:"seltochannel",Fo:[G-1,j]}}}this.close();
this.Q(s)};function it(){iD.call(this,"PeaMark","peamark");var b=u.I("span");b.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(b);var h=u.I("div","form");this.body.setAttribute("style","width:300px;");this.body.appendChild(h);
this.T3=[];this.h_=[];this.agO=[];for(var Y=0;Y<2;Y++){var b=u.I("div");b.textContent="0";h.appendChild(b);
b.setAttribute("style","text-align:center; font-size:2em");var G=u.I("hr");this.h_.push(G);h.appendChild(G);
G.setAttribute("style","height:2px; background-color:#00ff00");var H=new gX("Test "+["C","G"][Y]+"PU",!0,null,!0);
h.appendChild(H.Z);H.O("click",this.as5,this);this.T3.push(b);this.agO.push(H)}u.pP(this.body);this.an3=new gX("Tweet your score!",!1,null,!0);
var B=this.an3.Z;this.body.appendChild(B);this.an3.O("click",this.aFi,this);B.setAttribute("style","position:absolute;top:100px;right:10px;");
this.wD=u.I("div","scrollable");this.body.appendChild(this.wD);this.wD.style.height="160px";this.AC=[];
this.aAG=0;this.fn=this.ax_.bind(this);this.apx()}it.prototype=new iD;it.prototype.aFi=function(b){var h=it.XP,G=h[h.length-1];
if(Math.min(G[2],G[3])==0){alert("Run both tests first.");return}window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+G[2]+"/"+G[3]+"! Test your device at Photopea.com (More - PeaMark)"),"_blank")};
it.prototype.as5=function(b){var h=this.agO.indexOf(b.target),G=1024,H=1024,B=new io(0,0,G,H),j=this.fn;
if(h==0){var s=e.U(B.X());for(var q=0;q<H;q++)for(var Q=0;Q<G;Q++)s[q*G+Q]=((q>>>7)+(Q>>>7)&1)*255;this.AC=[h,s,G,H];
for(var Y=0;Y<4;Y++)j(!0)}else{var a=e.U(B.X()*4),l=cG.t4(1,G,H);l.set(a);new Uint32Array(a.buffer).fill(4278190335);
var U=cG.t4(0,G,H);U.set(a);var N=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],R={type:cG.filter.amk,mc:new Float32Array([1/G,1/H]),apv:0,D5:20,aau:new Float32Array([0,1]),aq7:new Float32Array([0,0,0]),a3Z:new Float32Array(N),a2W:new Float32Array(N)};
this.AC=[h,R,a,U,l];j(!0)}this.ab0=[[0,0],[0,0]];this.aAG=Date.now();setTimeout(this.fn,20)};it.prototype.ax_=function(b){var h=this.AC,G=h[0],H=Date.now();
if(G==0){e.style.ip(h[1],h[2],h[3])}else{cG.UK(h[4]);cG.filter.s_(h[1],h[3].P9);h[4].get(h[2])}var B=Date.now()-H;
if(b)return;var j=this.ab0[G];j[0]+=B;j[1]++;var s=[26,73],q=Math.round(1e3*s[G]/(j[0]/j[1]));this.T3[G].textContent=q;
var Q=(Date.now()-this.aAG)/5e3;this.h_[G].style.width=Math.min(100,Q*100)+"%";if(Q<1)setTimeout(this.fn,20);
else{var a=it.XP;a[a.length-1][2+G]=q;this.apx()}};it.prototype.apx=function(){var b=this.wD,G="",H=" style=\"text-align:right; width:4em;\">";
u._I(b);var h=it.XP.slice(0);h.sort(function(Q,a){return a[2]+a[3]-(Q[2]+Q[3])});var B="<td"+H,j="<th"+H;
for(var Y=0;Y<h.length;Y++){var s=h[Y],q=null;if((Y&1)==0)q="rgba(255,255,255,0.05)";if(s[1]=="Your Device")q="rgba(255,255,0,0.2)";
G+="<tr style=\""+(q?" background-color:"+q:"")+"\"><td>"+s[1]+"</td>"+B+s[2]+"</td>"+B+s[3]+"</td></tr>"}b.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+j+"CPU</th>"+j+"GPU</th></tr>"+G+"</table>"};
it.XP=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1306,892],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[0,"Your Device",0,0]];
function jv(){iD.call(this,"Measurement Scale","measscale");var b=u.I("div","form label8");b.style.width="300px";
this.body.appendChild(b);var h=this.DQ=[new aG("Pixel Length"),new aG("Logical Length"),new aG("Unit Name"),new iM("Hi")];
for(var Y=0;Y<4;Y++){var G=h[Y];G.O(w.E.w,this.hO,this);b.appendChild(G.Z)}this.kp=u.H0(this,b)}jv.prototype=new iD;
jv.prototype.Oa=function(b,h){return new cJ(Math.max(0,Math.min(150,(b-250)/2)),Math.max(0,Math.min(150,(h-120)/2)))};
jv.prototype.hO=function(b){var h=this.DQ;h[3].k(h[0].l()+" pixels = "+h[1].l()+" "+h[2].l())};jv.prototype.Ip=function(b){var h=this.DQ,G=[];
for(var Y=0;Y<3;Y++)G.push(h[Y].l());G[0]=parseFloat(G[0]);G[1]=parseFloat(G[1]);var H=new hb(w.E.r,!0);
H.S=E.El;H.data={q:"unit",P:G};this.Q(H);this.close()};jv.prototype.a=function(){iD.prototype.a.call(this);
var b=this.DQ;for(var Y=0;Y<b.length;Y++)b[Y].a()};jv.prototype.Fd=function(b,h){var G=this.DQ;G[0].k(Math.round(h.Ho));
if(b.xN){var H=b.xN.T.v;console.log(H);G[1].k(H.logicalLength.v);G[2].k(H.logicalUnits.v)}else{G[1].k(1);
G[2].k("unitName")}this.hO()};function jd(b,h,G,H){dQ.call(this);this.name=b;this.aqM=G;this.DU=H;this.MQ=u.I("div","");
this.MQ.setAttribute("draggable","true");this.LJ=u.I("div","pbody");this.Z2=new gX("",!1,"");this.Z2.parent=this;
this.acy=u.I("span","cross gsicon");this.zn=u.I("span","label");var B=this.afj.bind(this);this.MQ.addEventListener("mousedown",this.ajA.bind(this),!1);
this.MQ.addEventListener("contextmenu",B,!1);this.Z2.Z.addEventListener("contextmenu",B,!1);this.acy.addEventListener("mousedown",this.QH.bind(this),!1);
this.MQ.appendChild(this.zn);if(h)this.MQ.appendChild(this.acy);this.$q=!1;this.zn.textContent=b}jd.prototype=new dQ;
jd.prototype.vh=function(){return null};jd.prototype.a=function(){var b=bp.get(this.name),h=!1,G=this.Ps==0?22:Math.round(2+this.Ps/50);
if(b.endsWith(" *")){h=!0;b=b.slice(0,b.length-2);G-=2}var H=b.length>G;this.zn.textContent=H?b.slice(0,G-2):b;
this.MQ.setAttribute("title",b);if(H)for(var B=0;B<2;B++){var j=u.I("span");j.textContent=b.charAt(G-2+B);
j.setAttribute("style","opacity:"+(.6-B*.4));this.zn.appendChild(j)}if(h){var j=u.I("span");j.textContent=" *";
this.zn.appendChild(j)}var s=b.split(" "),q=s.length==2?s[0].substring(0,2)+s[1][0]:b.substring(0,3);
if(q.charCodeAt(0)>=11776)q=q.substring(0,1);var Q=this.aqM;if(Q==null)this.Z2.Sm(q,b);else{var a;if(Q.startsWith("---"))a="<img src=\""+PIMG[Q.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Q.startsWith("==="))a="<img src=\""+Q.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Q.indexOf("\"")==-1)a="<img src=\""+Q+"\" alt=\""+u.Vv(b).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Z2.Sm(a,b)}};jd.prototype.enable=function(){this.LJ.className="pbody"};jd.prototype.disable=function(){this.LJ.className="pbody disabled"};
jd.prototype.rN=function(b,h){};jd.prototype.Fd=function(b,h,G){};jd.prototype.b3=function(b){};jd.prototype.Vb=function(b,h){};
jd.prototype.WK=function(b){this.name=b;this.a()};jd.prototype.cl=function(){};jd.prototype.ajA=function(b){if(b.button==0)this.Q(new hb("select",!1));
if(b.button==1)this.os()};jd.prototype.afj=function(b){u.oO(b);if(this.DU!=null&&isNaN(this.DU))return;
var h=u.Kz(b,document.body),G=this.m$;if(G==null){G=this.m$=new fL([{name:[1,12,0]}]);this.m$.O("select",this.QH,this)}G.update(null);
G.a();G.parent=this;var H=new hb(w.E.b,!0);H.data={q:w.p.YB,Wn:G,x:h.x+1,y:h.y+1};this.Q(H)};jd.prototype.os=function(){this.QH({})};
jd.prototype.QH=function(b){if(b.stopPropagation)b.stopPropagation();if(this.DU!=null&&!isNaN(this.DU)){var h=new hb(w.E.b,!0);
h.data={q:w.p.ne,Wn:this.m$};this.Q(h);h.data={q:w.p.wP,CI:ec.Mw,P:parseFloat(this.DU),hb:"del"};this.Q(h)}else if(this.aj7())this.Q(new hb(w.E.sM,!1))};
jd.prototype.aj7=function(b){return!0};jd.prototype.Ay=function(b,h,G,H,B){};jd.prototype.Jl=function(b,h,G,H,B){};
jd.prototype.dq=function(b,h,G,H,B){};jd.Nc=function(b,h,G){if(b.childElementCount!=0)return;var H=b.textContent;
this.mQ=this.aai.bind(this);this.atL=this.aB$.bind(this);this.z4=h;this.a8x=G;this.uD=b;this.a4s=H;var B=u.I("input","");
B.setAttribute("type","text");B.setAttribute("size","10");B.setAttribute("value",H);u._I(b);b.appendChild(B);
B.select();B.focus();u.Yy(b);b.addEventListener("keyup",this.mQ,!1);document.body.addEventListener("mousedown",this.atL,!1)};
jd.Nc.prototype.aai=function(b){var h=ap.r7,G=h(b.code,ap.pr);if(h(b.code,ap.Ac)||G)this.abK(G)};jd.Nc.prototype.aB$=function(b){var h=b.target;
if(h.tagName&&h.tagName.toLowerCase()=="input")return;this.abK(!0)};jd.Nc.prototype.abK=function(b){var h=this.uD,G=h.firstChild.value;
h.removeEventListener("keyup",this.mQ);document.body.removeEventListener("mousedown",this.atL);if(this.a8x||b&&G!=""&&G!=this.a4s){this.z4(G)}else{u._I(h);
h.textContent=this.a4s}};jd.nI={Ck:"0",aqs:"1",nc:"2",adX:"3",aye:"4",HH:"5",CSS:"6",pp:"7",amE:"8",a25:"9",adq:"10",anz:"11",aAm:"12",KI:"13",v_:"14",anX:"15",a57:"16",I9:"17",agC:"18",aqI:"19",axY:"20",vr:"21",azP:"22",aaF:"23",ao2:"24",awf:"25",abb:"26"};
function jy(){jd.call(this,[9,9],!1,"---panels/actions",jd.nI.anz);this.Cc=null;this.bw=[0,0]}jy.prototype=new jd("");
jy.prototype.Yg=function(){if(!u.Pg(this.LJ))return;if(this.fM){this.BL();return}this.fM=u.I("div","padded scrollable");
this.fM.setAttribute("style","width:260px;  height:260px");this.LJ.appendChild(this.fM);this.O(w.E.w,this.Zs,this);
this.v8=u.I("div","lpfoot");this.LJ.appendChild(this.v8);this.g8=[];var b="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",h="</svg>",G=b+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+h,H=b+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+h;
this.ath=b+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+h;this.a9i=b+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+h;
var B=[this.ath,H,"lrs/folder","lrs/newlayer","lrs/bin",G],j=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Y=0;Y<B.length;Y++){var s=B[Y];if(1<Y&&Y!=B.length-1)s="<img src=\""+PIMG[B[Y]]+"\" class=\"miniscale gsicon\" />";
var q=new gX(s,!1,j[Y]);q.O("click",this.Sw,this);this.v8.appendChild(q.Z);this.g8.push(q)}this.BL()};
jy.prototype.a=function(){jd.prototype.a.call(this);if(this.fM==null)return;for(var Y=0;Y<this.g8.length;
Y++)this.g8[Y].a()};jy.prototype.Sw=function(b){var Y=this.g8.indexOf(b.currentTarget),h=this.bw,G=this.Cc,H=G.bL;
if(Y==0){var B,j=G.u6;if(H.length==0){alert("Create an Action Set first.");return}if(h.length<2){alert("Select a target action first.");
return}if(j==null){B=this.a9i;j=this.bw}else{B=this.ath;j=null}this.g8[0].Sm(B);G.u6=j}else if(Y==1)this.agB();
else if(Y==2||Y==3){var s={VH:"Action Set "+H.length,q5:[],exp:!0};if(Y==2||H.length==0){h=[H.length];
H.push(s)}if(Y==3){var q=H[h[0]].q5;h=[h[0],q.length];q.push({VH:"Action "+q.length,color:0,q5:[],asO:!1,shift:!1,exp:!0,V9:q.length})}this.bw=h;
this.BL()}else if(Y==4){var Q;if(h.length==1)Q=H;else if(h.length==2)Q=H[h[0]].q5;else Q=H[h[0]].q5[h[1]].q5;
var a=h.length-1;Q.splice(h[a],1);if(Q.length==0)h.pop();else while(h[a]>=Q.length)h[a]--;if(h.length==0)h.push(0);
this.BL()}else if(Y==5){if(H.length==0){alert("No Actions Present.");return}var l=new hb(w.E.b,!0);l.data={q:w.p.uu,ago:ec.r,Zh:h[0]};
this.Q(l)}};jy.prototype.Zs=function(b){var h=this.Cc.bL,G=b.data.q,H=b.data.Jk;if(G=="sel")this.bw=H;
if(G=="fold"){if(H.length==1)h[H[0]].exp=!h[H[0]].exp;else h[H[0]].q5[H[1]].exp=!h[H[0]].q5[H[1]].exp}if(G=="enab"){var B=h[H[0]].q5[H[1]].q5[H[2]];
B.H=!B.H}if(G=="nchange"){if(H.length==1)h[H[0]].VH=b.data.f0;else h[H[0]].q5[H[1]].VH=b.data.f0}this.BL()};
jy.prototype.Fd=jy.prototype.cl=function(){this.Yg()};jy.prototype.rN=function(b,h){this.Cc=b;if(this.fM==null)return;
if(h==ec.r||h==ec.GH)this.BL()};jy.prototype.BL=function(){if(this.Cc==null)return;u._I(this.fM);var b=this.Cc.bL;
if(b.length==0)return;var h=JSON.stringify(this.bw);for(var Y=0;Y<b.length;Y++){var G=b[Y],H=new jy.ZW([Y],h,G.exp,G.VH.split("=").pop());
H.parent=this;this.fM.appendChild(H.Z);if(!G.exp)continue;for(var B=0;B<G.q5.length;B++){var j=G.q5[B],H=new jy.ZW([Y,B],h,j.exp,j.VH.split("=").pop());
H.parent=this;this.fM.appendChild(H.Z);if(!j.exp)continue;for(var s=0;s<j.q5.length;s++){var q=j.q5[s],H=new jy.ZW([Y,B,s],h,null,bp.get(aX.a9F(q)),q.H);
H.parent=this;this.fM.appendChild(H.Z)}}}};jy.prototype.agB=function(){var b=this.Cc.bL,h=this.bw;if(b.length==0){alert("No Actions Present");
return}if(h.length==1){alert("Select an Action first");return}if(this.Cc.u6!=null){alert("You can not apply actions while recording actions");
return}if(h.length==1)h.push(0);var G=b[h[0]],H=G.q5[h[1]],B=new hb(w.E.b,!0);B.data={q:w.p.Av,Fo:[H.VH,G.VH]};
this.Q(B)};jy.ZW=function(b,h,G,H,B){dQ.call(this);this.Jk=b;var j=this.Jk.length-1;this.Z=u.I("div","layeritem"+(JSON.stringify(b)==h?" selected":""));
this.r0=u.I("div","head");this.Z.appendChild(this.r0);this.r0.setAttribute("style","height:24px");this.X8=u.I("div","headL");
this.r0.appendChild(this.X8);if(j!=0){var s=u.I("div");s.style.width=j*20+"px";this.X8.appendChild(s)}if(G!=null){var q=this.ayB=u.I("div",G?"open":"closed");
this.X8.appendChild(q)}else{var Q=this.abN=u.I("div","cmark");Q.setAttribute("style","background-size:12px 12px; opacity:"+(B?1:.3));
this.X8.appendChild(Q)}if(j==0){var a=u.I("div","folder");this.X8.appendChild(a)}var l=this.zn=u.I("div","label");
l.textContent=H;this.X8.appendChild(l);this.Z.addEventListener("mouseup",this.yQ.bind(this),!1)};jy.ZW.prototype=new dQ;
jy.ZW.prototype.yQ=function(b){if(b.detail==1&&b.target.tagName.toLowerCase()!="input"){var h="sel";
if(b.target==this.ayB)h="fold";if(b.target==this.abN)h="enab";var G=new hb(w.E.w,!0);G.data={q:h,Jk:this.Jk};
this.Q(G)}else if(this.Jk.length<3)var H=new jd.Nc(this.zn,this.z4.bind(this))};jy.ZW.prototype.z4=function(b){var h=new hb(w.E.w,!0);
h.data={q:"nchange",f0:b,Jk:this.Jk};this.Q(h)};function fi(){jd.call(this,[3],!1,"---lrs/adj",jd.nI.agC)}fi.prototype=new jd("");
fi.prototype.Yg=function(){if(!u.Pg(this.LJ)||this.g8)return;this.LJ.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.g8=[];var Y=0;for(var b in eZ.names){var h=new gX("<img src=\""+PIMG["adj/"+b]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,eZ.names[b]);
h.O("click",this.kD,this);this.g8.push(h);this.LJ.appendChild(h.Z);if(Y==4||Y==10)u.pP(this.LJ);Y++}this.a()};
fi.prototype.Fd=function(){this.Yg()};fi.prototype.cl=function(){this.Yg()};fi.prototype.a=function(){jd.prototype.a.call(this);
if(this.g8==null)return;for(var Y=0;Y<this.g8.length;Y++)this.g8[Y].a()};fi.prototype.kD=function(b){var h=this.g8.indexOf(b.target),G=cZ.W$()[h],H=new hb(G.K,!0);
H.data=G.i;this.Q(H)};function at(){jd.call(this,[12,22],!1,null,jd.nI.vr);this.fM=u.I("div","padded");
this.Cc=null;this.LJ.appendChild(this.fM);this.Ym=new j$(null,17.7,10);this.Ym.parent=this;this.Ym.O(w.E.w,this.v5,this);
this.fM.appendChild(this.Ym.Ab)}at.prototype=new jd("");at.prototype.v5=function(b){var h=this.Ym.l(),G=new hb(w.E.r,!0);
G.data={q:"setstl",P:h.Zv};G.S=E._s;this.Q(G);G.data={q:"confirm"};this.Q(G)};at.prototype.rN=function(b,h){this.Cc=b;
this.BL()};at.prototype.BL=function(){var b=this.Cc;if(b==null)return;this.Ym.Cv([b.Oy,b.hK]);this.Ym.Vb()};
at.prototype.Fd=function(){this.BL()};at.prototype.cl=function(){this.BL()};var ko=function(){function b(){jd.call(this,[9,3],!1,"---panels/brush",jd.nI.pp);
this.sS=null;this.Cc=null}b.prototype=new jd("");b.prototype.Yg=function(){var B=u.I("div","");this.LJ.appendChild(B);
this.sf=u.I("div","bordered cell");this.sf.setAttribute("style","width:10em; height:28.5em;");B.appendChild(this.sf);
this.DJ=[];this.rx=null;this.Ms=[];var j=this.arY.bind(this);this.Ds=[new G("basic"),new G("useTipDynamics"),new G("useScatter"),new G("useColorDynamics"),new G("usePaintDynamics")];
for(var Y=0;Y<this.Ds.length;Y++){var s=u.I("div","listitem"),q=this.Ds[Y],a=null;q.parent=this;q.O("brushchange",this.ahM,this);
var Q=q.du;if(Y==0){this.rx=new iM(Q);s.appendChild(this.rx.Z)}else{a=new iI(Q,!1);a.O(w.E.w,this.auO,this);
s.appendChild(a.Z)}this.Ms.push(a);this.sf.appendChild(s);this.DJ.push(s);s.addEventListener("click",j,!1)}this.ra=u.I("div","cell padded");
B.appendChild(this.ra);this.setItem(0);this.cj=u.I("canvas");this.cj.height=10;B.appendChild(this.cj);
this.ZI=this.cj.getContext("2d");this.wB()};b.prototype.Vb=function(B,j){if(this.Ps==B)return;this.Ps=B;
this.CN=j;this.wB()};b.prototype.cl=function(){if(!u.Pg(this.LJ))return;if(this.sf){this.wB();return}this.Yg();
this.a();this.rN(this.Cc,ec.GH)};b.prototype.a=function(){jd.prototype.a.call(this);if(this.sf==null)return;
this.rx.a();for(var Y=1;Y<this.Ms.length;Y++)this.Ms[Y].a();for(var Y=0;Y<this.Ds.length;Y++)this.Ds[Y].a()};
b.prototype.ahM=function(B){var j=this.Ds.indexOf(B.currentTarget),s=JSON.parse(JSON.stringify(this.Ds[j].sS)),q=new hb(w.E.b,!0);
q.data={q:w.p.wP,CI:ec.mp,sS:s};this.Q(q)};b.prototype.auO=function(B){this.a8r(this.Ms.indexOf(B.currentTarget),B.currentTarget.a9())};
b.prototype.arY=function(B){var Y=this.DJ.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this.Ms[Y]&&!this.Ms[Y].a9()){this.Ms[Y].zr();this.a8r(Y,!0)}this.setItem(Y)};b.prototype.a8r=function(B,j){this.Ds[B].az0(j)};
b.prototype.setItem=function(B){for(var Y=0;Y<this.Ds.length;Y++)this.DJ[Y].className="listitem";if(this.ra.firstChild)this.ra.removeChild(this.ra.firstChild);
this.DJ[B].className="listitem selected";this.ra.appendChild(this.Ds[B].Z)};b.prototype.rN=function(B,j){this.Cc=B;
if(this.sf==null)return;for(var Y=0;Y<this.Ds.length;Y++)this.Ds[Y].rN(B,j);if(j==ec.mp||j==ec.GH){this.sS=B.CB.WD;
this.wB()}if(j==ec.KI)this.wB()};b.prototype.wB=function(){if(this.sS)this.enable();else{this.disable();
return}if(!u.Pg(this.LJ))return;var B=this.Cc;for(var Y=0;Y<this.Ds.length;Y++){this.Ds[Y].k(this.sS);
if(this.Ms[Y])this.Ms[Y].k(this.Ds[Y].a9())}var j=JSON.parse(JSON.stringify(this.sS));j.Brsh.v.Dmtr.v.val=Math.min(j.Brsh.v.Dmtr.v.val,50);
u.Xn(this.cj,this.Ps,80);var s=new io(0,0,this.cj.width,this.cj.height),q=this.Cc.CB,Q=new ft(j,q?q.t8:null,q?q.oJ:null,{JI:1},B.nU,B.W9,s,null,0),a=s._/2,l=s.j-a*2;
Q.moveTo(a,a);for(var Y=0;Y<=l;Y+=10)Q.lineTo(a+Y,a+20*Math.sin(2*Math.PI*Y/l));Q.finish();var U=this.ZI.createImageData(s.j,s._);
e.JE(Q.JV(),Q.Ki(),U.data,s);this.ZI.putImageData(U,0,0)};function h(B){dQ.call(this);B=B.split(".")[0];
this.N9=B;var j=this.Z=u.I("span"),s=["Off","Fade"];s.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var q=this.wL=new cP("Control",s);q.O(w.E.w,this.hO,this);j.appendChild(q.Z);var Q=this.axH=new bP(null,0,100,null,null,null,!0);
Q.k(50);Q.O(w.E.w,this.hO,this)}h.prototype=new dQ;h.prototype.k=function(B){B=B<2?B:2;this.wL.k(B);
this.BL()};h.prototype.l=function(){var B=this.wL.l(),j=this.N9;B=B<=1?B:j=="angleDynamics"?6:2;return B};
h.prototype.hO=function(B){this.BL();B.target=B.currentTarget=this;this.Q(B)};h.prototype.BL=function(B){this.axH.d3(this.wL.l()==1)};
function G(B){dQ.call(this);this.Z=u.I("div");this.sS=null;var j=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(B);
this.du=[[15,0],[15,1],[15,2],[15,3],"Transfer"][j];this.yE=B;this.LV={};this.abY=null;var s=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][j];
for(var Y=0;Y<s.length;Y++){var q=s[Y],Q;if(q=="--br"){Q=new fV;this.Z.appendChild(Q.Ab.firstChild)}else if(q=="Brsh.Dmtr")Q=new cm([12,14,0],1,1e3," px",0,!0);
else if(q=="Brsh.Angl")Q=new cm([12,15],0,359," \xB0");else if(q=="Brsh.Rndn")Q=new cm([12,16],0,100," %");
else if(q=="Brsh.Hrdn")Q=new cm([12,17],0,100," %");else if(q=="Brsh.Spcn")Q=new cm([12,18],1,300," %");
else if(q=="szVr.jitter")Q=new cm([15,4,0],0,100,"%");else if(q=="minimumDiameter")Q=new cm([15,4,1],0,100,"%");
else if(q=="angleDynamics.jitter")Q=new cm([15,4,2],0,100,"%");else if(q.endsWith("bVTy"))Q=new h(q);
else if(q.endsWith("fStp"))Q=new bP(null,0,100,null,null,null,!0);else if(q=="roundnessDynamics.jitter")Q=new cm([15,4,3],0,100,"%");
else if(q=="minimumRoundness")Q=new cm([15,4,4],1,100,"%");else if(q=="scatterDynamics.jitter")Q=new cm([15,5,0],0,1e3," %");
else if(q=="Cnt")Q=new cm([15,5,1],1,20);else if(q=="countDynamics.jitter")Q=new cm([15,5,2],0,100," %");
else if(q=="clVr.jitter")Q=new cm([15,6,0],0,100," %");else if(q=="H")Q=new cm([15,6,1],0,100," %");
else if(q=="Strt")Q=new cm([15,6,2],0,100," %");else if(q=="Brgh")Q=new cm([15,6,3],0,100," %");else if(q=="opVr.jitter")Q=new cm("Opacity Jitter",0,100," %");
else if(q=="prVr.jitter")Q=new cm("Flow Jitter",0,100," %");else throw q;this.LV[q]=Q;Q.parent=this;
Q.O(w.E.w,this.hO,this)}}G.prototype=new dQ;G.prototype.awN=function(){this.Q(new hb("brushchange"))};
G.prototype.k=function(B){this.sS=JSON.parse(JSON.stringify(B));this.Z.className=this.a9()?"":"disabled";
this.wB()};G.prototype.a=function(){for(var B in this.LV)this.LV[B].a()};G.prototype.a9=function(){return!0};
G.prototype.rN=function(B,j){if(j==ec.pp||j==ec.GH){var s=this.LV["--br"];if(s)s.Cv(B.CB)}};G.prototype.hO=function(B){var j=B.target,s=this.LV,q;
for(var Q in s)if(s[Q]==j)q=Q;if(q=="--br"){var a=new hb(w.E.b,!0);a.data={q:w.p.wP,CI:ec.mp,sS:j.l()};
this.Q(a)}else{var l=H(this.sS,q),U=j.l();if(l){if(q.endsWith("bVTy")||q.endsWith("fStp")||q=="Cnt")l.v=U;
else l.v.val=U;this.awN()}}};G.prototype.wB=function(){var B=this.sS,j=B.Brsh.v.classID,s=this.LV,q=j!=this.abY;
this.abY=j;if(q){u._I(this.Z);for(var Q in s){if(j!="computedBrush"&&j!="sampledBrush"&&Q=="Brsh.Rndn")continue;
if(j!="computedBrush"&&Q=="Brsh.Hrdn")continue;var a=s[Q],l=a.Z;if(Q=="--br"){l=a.pF.Z;l.style.width="auto"}this.Z.appendChild(l)}}for(var Q in s){if(Q=="--br")continue;
var U=H(B,Q),N;if(U){if(Q.endsWith("bVTy")||Q.endsWith("fStp")||Q=="Cnt")N=U.v;else N=U.v.val;s[Q].k(N);
if(Q.endsWith("fStp"))s[Q].d3(H(B,Q.split(".")[0]+".bVTy").v==1)}}};G.prototype.a9=function(){var B=this.yE;
return B=="basic"?!0:this.sS[B].v};G.prototype.az0=function(B){var j=this.yE;if(j=="basic")return;this.sS[j].v=B;
f7.YO.alI(this.sS);this.awN()};function H(B,j){var s=j.split(".");B=B[s[0]];for(var Y=1;Y<s.length;Y++){if(B==null)return B;
B=B.v[s[Y]]}return B}return b}();function fT(){jd.call(this,[9,0],!1,"---panels/history",jd.nI.Ck);this.LJ.setAttribute("style","min-width:200px;");
this._L=u.I("div","hpbody scrollable");this._L.style.height="160px";this.LJ.appendChild(this._L);this.a3q=-1;
this.Y$=[];this.v0="";this.K8=new fL([{name:"Clear History"}],[{K:w.E.r,S:E.Ck,i:{q:"h_clear"}}])}fT.prototype=new jd("");
fT.prototype.vh=function(){return this.K8};fT.prototype.Vb=function(b,h){this.cl()};fT.prototype.Fd=function(b){if(b==null){u._I(this._L);
this.v0="";return}u._I(this._L);var h=0;for(var Y=0;Y<b.history.length;Y++)if(Y<=b.Wt&&!b.history[Y].HF)h=Y;
for(var Y=0;Y<b.history.length;Y++){var G=b.history[Y];if(G.HF)continue;var H=new jB(G,Y,h);H.parent=this;
this._L.appendChild(H.Z);this.Y$.push(H)}if(b.Wt==b.history.length-1)this.cl()};fT.prototype.cl=function(){this._L.scrollTop=this._L.scrollHeight};
fT.prototype.a=function(){jd.prototype.a.call(this);for(var Y=0;Y<this.Y$.length;Y++)this.Y$[Y].a()};
function jB(b,Y,h){dQ.call(this);this.index=Y;this.Z=u.I("div",Y==h?"listitem selected":"listitem");
this.hG=b.name;this.a();if(Y>h)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.Ay.bind(this),!1)}jB.prototype=new dQ;
jB.prototype.a=function(){this.Z.textContent=bp.get(this.hG)};jB.prototype.Ay=function(b){if(this.index==this.parent.a3q)return;
this.w0({q:"h_itemchange",index:this.index})};jB.prototype.w0=function(b){var h=new hb(w.E.r,!0);h.data=b;
h.S=E.Ck;this.Q(h)};function ip(){jd.call(this,[9,10],!1,"---panels/histogram",jd.nI.aye);var b=u.I("div","padded");
this.LJ.appendChild(b);this.GU=new eb(256,!0);b.appendChild(this.GU.Z);this.x4=null}ip.prototype=new jd("");
ip.prototype.Fd=function(b){this.x4=b;this.BL()};ip.prototype.BL=function(){var b=this.x4;if(!u.Pg(this.LJ))return;
if(b==null||b.T.length==0){this.GU.k(e.fl(e.U(4)));return}var h=b.Nw(),G=new io(0,0,b.j,b._),H=G.X();
if(b.e){var B=b.e.rect,j=e.U(B.X()*4);e.JE(h,G,j,B);e.Bp(b.e.channel,j);h=j;G=B;var s=b.e.channel;H=0;
for(var Y=0;Y<s.length;Y++)H+=s[Y];H=Math.round(H/255)}var q=e.fl(h);q[0][255]+=3*(H-q[5]);for(var Y=1;
Y<4;Y++)q[Y][255]+=H-q[5];this.GU.k(q,H)};ip.prototype.rN=function(b,h){this.GU.HS(af.AV[b.Ys]["--text-color"])};
ip.prototype.a=function(){jd.prototype.a.call(this);this.GU.a()};ip.prototype.cl=function(){this.BL()};
function gV(){jd.call(this,[9,8],!1,"---adj/clrL",jd.nI.aqs);this.fM=u.I("div","padded");this.LJ.appendChild(this.fM);
this.EH=new gb(10);this.fM.appendChild(this.EH.Z);this.sh=new by;this.sh.parent=this;this.fM.appendChild(this.sh.Ab);
this.sh.Ab.style.marginTop="6px";this.EH.O(w.E.w,this.aDC,this);this.sh.O(w.E.w,this.aDC,this)}gV.prototype=new jd("");
gV.prototype.aDC=function(b){var h;if(b.target==this.EH)h=this.EH.l();else{var G=this.sh.l();h=e.wd(G)}var H=new hb(w.E.b,!0);
H.data={q:w.p.wP,CI:ec.KI,DF:0,P:h};this.Q(H)};gV.Cz=function(b,h){var G=h==ec.GH,H=b.h6,B=b.XA,j=B.strokeStyleContent.v,s=null;
if((h==ec.Eq||G)&&H.Z_==1){s=e.F.an(H.Tf.Clr.v);s=s.$<<16|s.B<<8|s.J}if((h==ec.$N||G)&&B.strokeEnabled.v&&j.classID=="solidColorLayer"){s=e.F.an(j.Clr.v);
s=s.$<<16|s.B<<8|s.J}if(h==ec.KI||G)s=b.nU;return s};gV.prototype.rN=function(b,h){var G=b.nU,H=h==ec.GH,B=gV.Cz(b,h);
if(B!=null){this.EH.k(B);this.sh.k({$:B>>>16&255,B:B>>>8&255,J:B>>>0&255,iZ:"Default/Color #"+e.Z0(B)})}if(h==ec.vF||H){var j=b.aD8;
this.sh.Cv(j)}};gV.prototype.Vb=function(b,h){this.sh.Ab.children[0].style.width=b-32+"px"};function bX(){jd.call(this,[12,72],!1,"---adj/mixr",jd.nI.a57);
this.Tm=null;this.SM=null;this._L=u.I("div","lpbody scrollable");this._L.style.marginTop="4px";this.v8=u.I("div","lpfoot");
this.LJ.appendChild(this._L);this.LJ.appendChild(this.v8);this.g7=[];this.O("click",this.vf,this);this.vg=[];
bX.uG([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vg,this.v8,this.JO.bind(this),this.x8.bind(this));
this.K8=new fL([{name:"Merge Channels",gR:!0}],[{K:w.E.b,i:{q:w.p.C9,ut:"mergechannels"}}])}bX.prototype=new jd("");
bX.prototype.vh=function(){return this.K8};bX.uG=function(b,h,G,H,B){for(var Y=0;Y<b.length;Y++){var j=new gX("W",!1,b[Y]);
h.push(j);u.fm(j.Z,H);G.appendChild(j.Z);var s=j.Z;s.addEventListener("drop",B,!1);s.addEventListener("dragover",function(q){q.preventDefault()},!1);
s.addEventListener("dragenter",u.oO,!1)}};bX.ml=function(b,h){for(var Y=0;Y<b.length;Y++)if(b[Y].Z==h.currentTarget)return Y};
bX.prototype.JO=function(b){var h=bX.ml(this.vg,b);if(h==0)this.Q(h2.ie(!0,null,b));else{h--;var G=new hb(w.E.IK,!0),H={classID:"null"};
if(h==0)H.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(h==1)H.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else H.null=aX.eP("Chnl",!0);G.data={f6:["duplicate","make","delete"][h],yo:H};this.Q(G)}};bX.prototype.x8=function(b){var h=bX.ml(this.vg,b);
if(h==2){var G=new hb(w.E.IK,!0),H={classID:"null"};H.null=aX.eP("Chnl",!0);G.data={f6:"duplicate",yo:H};
this.Q(G)}else this.JO(b)};bX.prototype.S1=function(Y){var b=this.g7,h=b[Y];if(h==null){var G=u.I("canvas");
h=G.getContext("2d");b.push(h)}return h};bX.prototype.vf=function(b){var h=this.Tm.slice(0),G=b.data.V9,H=h[0]+h[1]+h[2],B=this.SM;
if(-5<G&&G<0){var j=-G-1;if(b.data.Nf){if(j==0)h=H==3?[0,0,0]:[1,1,1];else{if(h[j-1]==0)h[j-1]=1;else if(!0)h[j-1]=0}}else{if(j==0)h=[1,1,1];
else{h=[0,0,0];h[j-1]=1}for(var Y=0;Y<B.$B.length;Y++)B.$B[Y].Da=!1;B.ql=[]}var s=new hb(w.E.r,!0);s.S=E.Uy;
s.data={q:"setcls",M:h};this.Q(s);return}if(-1<G){var q=B.R[G],Q=q.nD==1?q.Y1():q.T0(B).u;if(b.data.Nf)Q.Da=!Q.Da;
else{for(var Y=0;Y<B.$B.length;Y++)B.$B[Y].Da=!1;B.ql=[]}}else{var a=-G-5,Q=B.$B[a];if(b.data.Nf)Q.Da=!Q.Da;
else{for(var Y=0;Y<B.$B.length;Y++)B.$B[Y].Da=!1;Q.Da=!0;B.ql=[a];if(H!=0){var s=new hb(w.E.r,!0);s.S=E.Uy;
s.data={q:"setcls",M:[0,0,0]};this.Q(s)}}}B.qV=B.Jg=!0};bX.prototype.cl=function(){this.K1()};bX.prototype.Fd=function(b){this.SM=b;
this.K1()};bX.prototype.K1=function(){var b=this.SM,h=this._L,R=4;u._I(h);if(b==null||!u.Pg(h))return;
var G=b.j,H=b._,B=new io(0,0,G,H),j=this.Tm=b.s.M.slice(0),s=j[0]+j[1]+j[2],q=Math.round(34*u.V()),Q=q;
if(G>H)Q=Math.round(Q*H/G);else q=Math.round(q*G/H);var a=["RGB"].concat(eZ.po);for(var Y=0;Y<4;Y++){var l=this.S1(Y);
e.lU.$s(l,q,Q,B,b.Nw(),B,!1,Y==0?null:Y-1);var U=Y==0?s==3:j[Y-1]==1,N=new h2(-1-Y,!0,!0,l,a[Y],U,U);
N.parent=this;h.appendChild(N.Z);u.dY(l.canvas)}for(var Y=0;Y<b.T.length;Y++){var S=b.R[b.T[Y]],g=S.nD;
if(g!=1&&g!=3)continue;var i=g==1?S.Y1():S.T0(b).u,l=this.S1(R+Y);R++;e.lU.Mu(l,q,Q,B,i);var N=new h2(b.T[Y],!0,!0,l,S.getName()+(g==1?"":" Filter")+" Mask",!0,i.Da);
N.parent=this;h.appendChild(N.Z);u.dY(l.canvas)}for(var Y=0;Y<b.$B.length;Y++){var i=b.$B[Y],l=this.S1(R+Y);
e.lU.Mu(l,q,Q,B,i);var N=new h2(-5-Y,!0,i.name=="Quick Mask",l,i.name,b.ql.indexOf(Y)!=-1,i.Da,E.nc,{q:C.XG,DF:"rnm",V9:Y});
N.parent=this;h.appendChild(N.Z);u.dY(l.canvas)}};bX.prototype.Vb=function(b,h){this._L.style.height=h-30-4+"px";
this._L.style.width=b+"px"};bX.prototype.a=function(){jd.prototype.a.call(this);this.K1();bX.Fh(this.vg,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
bX.Fh=function(b,h,G){var h=g2.Bq(h,null,"miniscale");for(var Y=0;Y<b.length;Y++)b[Y].Sm(h[Y],G?G[Y]:null)};
function h2(b,h,G,H,B,j,s,q,Q){dQ.call(this);this.Z=u.I("div");this.aDP=b;this.aDV=h;this.ZI=H;this.a2X=q;
this.ajj=Q;this.r0=u.I("div",j?"head selected":"head");this.r0.setAttribute("style","height: "+40+"px");
var a=u.I("div","headL"),l=u.I("div","headR"),U=15;this.Z.appendChild(this.r0);this.r0.appendChild(a);
this.r0.appendChild(l);this.pD=u.I("div","eye");if(1<u.V()&&u.V()<1.5)U=U/u.V();this.pD.setAttribute("style","background-size: "+U+"px "+U+"px;");
this.pD.style.opacity=s?1:.2;if(h)a.appendChild(this.pD);this.DO=u.I("div","thumb");if(H)this.DO.appendChild(H.canvas);
a.appendChild(this.DO);this.Yv=u.I("div","label");if(G)this.Yv.style.fontStyle="italic";this.Yv.textContent=bp.get(B);
a.appendChild(this.Yv);var N=this.r0;N.setAttribute("draggable","true");N.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);N.addEventListener("drop",u.oO,!1);u.fm(this.r0,this.acI.bind(this));
if(!G)this.r0.addEventListener("mouseup",this.afI.bind(this),!1)}h2.prototype=new dQ;h2.prototype.z4=function(b){var h=new hb(w.E.r,!0);
h.S=this.a2X;h.data=this.ajj;h.data.name=b;this.Q(h)};h2.prototype.acI=function(b){var h=b.ctrlKey||b.metaKey,G=this.aDP;
if(h&&b.target==this.ZI.canvas){this.Q(h2.ie(this.aDV,G,b))}else{var H=new hb("click",!0);H.data={V9:G,Nf:b.target==this.pD,yw:h};
this.Q(H)}};h2.prototype.afI=function(b){if(b.detail==2&&b.target==this.Yv){var h=new jd.Nc(this.Yv,this.z4.bind(this))}};
h2.ie=function(b,h,G){var H=0;if(G.shiftKey)H++;if(G.altKey)H+=2;var B=new hb(w.E.r,!0);B.S=E.Bi;if(b){if(-5<h&&h<0){B=new hb(w.E.IK,!0);
B.data=E.pC._T(H,["RGB","Rd","Grn","Bl"][-1-h])}else B.data={q:"fromchannel",Fo:[h,0,H]}}else B.data={q:"frompath",Fo:[h,0,H]};
return B};function fE(){jd.call(this,[8,9],!1,"---panels/paths",jd.nI.I9);this.Tm=null;this.SM=null;
this._L=u.I("div","lpbody scrollable");this._L.style.marginTop="4px";this.v8=u.I("div","lpfoot");this.LJ.appendChild(this._L);
this.LJ.appendChild(this.v8);this.LJ.addEventListener("click",this.adT.bind(this),!1);this.g7=[];this.O("click",this.vf,this);
this.vg=[];bX.uG(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vg,this.v8,this.JO.bind(this),this.x8.bind(this))}fE.prototype=new jd("");
fE.prototype.JO=function(b,h){var G=bX.ml(this.vg,b),H;if(G<2){if(G==1&&b.altKey){H=new hb(w.E.b,!0);
H.data={q:w.p.C9,ut:"strokepath"}}else{H=new hb(w.E.IK,!0);H.data=E.n8.hp(G==0?null:"PbTl")}}else if(G==2)H=h2.ie(!1,null,b);
else if(G==3){H=new hb(w.E.IK,!0);H.data={f6:"make",yo:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(G>3){var H=new hb(w.E.r,!0);
H.S=E.YK;H.data={q:"pathedit",DF:["new","del"][G-4],a9z:h}}this.Q(H)};fE.prototype.x8=function(b){this.JO(b,!0)};
fE.prototype.S1=function(Y){var b=this.g7,h=b[Y];if(h==null){var G=u.I("canvas");h=G.getContext("2d");
b.push(h)}return h};fE.prototype.adT=function(b){if(b.target==this._L){var h=this.SM;h.xe=[];h.mS=[];
h.Jg=!0;h.qV=!0}};fE.prototype.vf=function(b){var h=b.data.V9,G=this.SM,H=b.data.yw,B=h,j=G.mS,s=G.xe;
if(h<0){B=-1-h;j=G.xe;s=G.mS}if(H){var q=j.indexOf(B);if(q==-1)j.push(B);else j.splice(q,1)}else{while(j.length!=0)j.pop();
while(s.length!=0)s.pop();j.push(B)}G.Jg=!0;G.qV=!0};fE.prototype.cl=function(){this.K1()};fE.prototype.Fd=function(b){this.SM=b;
this.K1()};fE.prototype.K1=function(){var b=this.SM,h=this._L;u._I(h);if(b==null||!u.Pg(h))return;var G=b.j,H=b._,B=new io(0,0,G,H),j=this.Tm=b.s.M.slice(0),s=j[0]+j[1]+j[2],q=Math.round(34*u.V()),Q=q;
if(G>H)Q=Math.round(Q*H/G);else q=Math.round(q*G/H);var a=b.wV(),l=a[0];for(var Y=0;Y<l.length;Y++){var U=l[Y],N=this.S1(Y);
e.lU.avA(N,q,Q,B,U.add.vmsk);var R=new h2(U.V9,!1,U.V9>=0,N,U.name,a[1].indexOf(Y)!=-1,!1,E.YK,{q:"pathedit",DF:"rnm",V9:U.V9});
R.parent=this;h.appendChild(R.Z);u.dY(N.canvas)}};fE.prototype.Vb=function(b,h){this._L.style.height=h-30-4+"px";
this._L.style.width=b+"px"};fE.prototype.a=function(){jd.prototype.a.call(this);this.K1();bX.Fh(this.vg,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function h1(b){jd.call(this,[9,b?4:5],!1,"---panels/"+(b?"character":"paragraph"),b?jd.nI.a25:jd.nI.adq);
this.LJ.setAttribute("style","min-width:240px;");this.dc=b;this.PH=null;this.Cc=null}h1.prototype=new jd("");
h1.prototype.Yg=function(){this.PH=new h9;var b=this.PH,h=this.LJ;b.parent=this;if(this.dc){var G=u.I("div","marged");
h.appendChild(G);G.appendChild(b.zc.Z);h.appendChild(u.I("hr"));var H=u.I("div","marged");h.appendChild(H);
H.appendChild(b.j2.Z);H.appendChild(b.Py.Z);var B=u.I("div","marged");h.appendChild(B);B.appendChild(b.nn.Z);
B.appendChild(b.eJ.Z);h.appendChild(u.I("hr"));var j=u.I("div","marged");h.appendChild(j);j.appendChild(b.bT.Z);
j.appendChild(b.gf.Z);var s=u.I("div","marged");h.appendChild(s);s.appendChild(b.pz.Z);s.appendChild(b.dP.Z);
s.appendChild(b.D9.Z);h.appendChild(u.I("hr"));var q=u.I("div","marged");h.appendChild(q);q.appendChild(b.N0.Z);
q.appendChild(b.a2.Z);q.appendChild(b.W2.Z);q.appendChild(b.Dm.Z);q.appendChild(b.iQ.Z);q.appendChild(b.Ug.Z);
q.appendChild(b.RG.Z);q.appendChild(b.uN.Z)}else{var G=u.I("div","marged");h.appendChild(G);G.appendChild(b.DH.Z);
G.appendChild(b.S3.Z);G.appendChild(b.kH.Z);G.appendChild(b.auR.Z);G.appendChild(b.ait.Z);G.appendChild(b.a3Y.Z);
G.appendChild(b.aww.Z);h.appendChild(u.I("hr"));var H=u.I("div","marged");h.appendChild(H);H.appendChild(b.cM.Z);
H.appendChild(b.fP.Z);H.appendChild(b.zJ.Z);h.appendChild(u.I("hr"));var B=u.I("div","marged");h.appendChild(B);
B.appendChild(b.fw.Z);B.appendChild(b.yO.Z);B.appendChild(b.l3.Z);B.appendChild(b.wn.Z)}};h1.prototype.cl=function(){if(!u.Pg(this.LJ))return;
if(this.PH==null){this.Yg();var b=this.Cc;if(b)this.PH.k(b.Ge,b.B7,b.sP);this.PH.a()}};h1.prototype.a=function(){jd.prototype.a.call(this);
if(this.PH)this.PH.a()};h1.prototype.rN=function(b,h){this.Cc=b;if(h!=ec.GH&&h!=ec.Te&&h!=ec.ML&&h!=ec.Ie)return;
if(this.PH)this.PH.k(b.Ge,b.B7,b.sP)};function ea(b){jd.call(this,b?"Character Styles":"Paragraph Styles",!1,null,b?jd.nI.ao2:jd.nI.awf);
this.LJ.setAttribute("style","min-width:240px;");var h=this.k0=u.I("div","scrollable");this.LJ.appendChild(h);
h.setAttribute("style","max-height:400px;");this.kI=null;this.aaH=null;this.vD=null;this.dc=b?0:1;this.x4=null;
this.Cc=null;this.a7N=ea.prototype.o5.bind(this)}ea.prototype=new jd("");ea.prototype.Fd=function(b,h,G){this.x4=b;
this.Cc=G;this.K1()};ea.prototype.K1=function(){var b=this.k0;u._I(b);if(!u.Pg(this.LJ))return;var h=this.x4,G=this.Cc;
if(h==null||G==null)return;var H=G.Ge,B=this.kI=[],j={},s=this.aaH=[],q=this.vD=[],Q={},a=this.dc,l=a==0?"Style":"Paragraph";
for(var Y=0;Y<h.R.length;Y++){var U=h.R[Y].add.TySh;if(U==null)continue;var N=U.HZ,R=U.h.$K(),S=N.ResourceDict.FontSet,g=N.EngineDict[l+"Run"],i=g.RunArray;
for(var y=0;y<i.length;y++){var o=ea.a2T(i[y][l+"Sheet"][a==0?"StyleSheetData":"Properties"],a,S,s,Q,R);
if(o.FillColor==null)o.FillColor={Type:1,Values:[1,0,0,0]};var v=JSON.stringify(o);if(j[v]==null){j[v]=!0;
B.push(o)}}}var Z=a==0?function(T,p){return p.FontSize-T.FontSize}:function(T,p){return T.Justify-p.Justify};
B.sort(Z);var W=[];if(a==0){var d=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],$=d.length,I=new Array($),k=1e9,_=0;
I.fill(1e9);for(var Y=0;Y<B.length;Y++){var D=B[Y],S=D.FontSize;k=Math.min(k,S);_=Math.max(_,S);var A=D.FillColor.Values,F=(A[1]+A[2]+A[3])/3;
W[Y]=F>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var K=ea.a2T(a==0?H.bJ:H._P,a,H.uh,s,Q,1),V=JSON.stringify(K);
for(var Y=0;Y<B.length;Y++){var r=u.I("div");b.appendChild(r);q.push(r);r.addEventListener("click",this.a7N,!1);
var D=B[Y],c=JSON.stringify(D)==V;if(a==0){var x=s[D.Font].Name,X=x.toLowerCase(),M=X.indexOf("bold")!=-1||X.indexOf("-black")!=-1,f=X.indexOf("italic")!=-1||X.indexOf("oblique")!=-1||X.endsWith("-it"),t=X.indexOf("light")!=-1,S=D.FontSize,A=D.FillColor.Values,n=W[Y];
if(c){n=n.slice(0);n[1]=Math.min(1,n[1]+.2)}var L=_==k?.5:(S-k)/(_-k),H=10+16*L,P="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+H+"px; color:"+CSS._K({$:A[1]*255,B:A[2]*255,J:A[3]*255})+"; line-height:"+38+"px; background-color:"+CSS._K({$:n[1]*255,B:n[2]*255,J:n[3]*255})+";";
if(M)P+=" font-weight:bold;";if(f)P+=" font-style:italic;";if(t)P+=" font-weight:lighter;";r.setAttribute("style",P);
var z=u.I("span");r.appendChild(z);z.setAttribute("style","display:inline-block;  width:"+(_>99?50:40)+"px;  text-align:right;  margin-right:5px;");
z.textContent=Math.round(S);z=u.I("span");r.appendChild(z);z.setAttribute("style","display:inline-block;  width:130px; ");
z.textContent=x}}};ea.prototype.o5=function(b){var h=JSON.parse(JSON.stringify(this.Cc.Ge)),Y=this.vD.indexOf(b.currentTarget),G=this.kI[Y];
for(var H in G)if(H!="Font")h.bJ[H]=G[H];b_.HC(h,this.aaH[G.Font].Name);console.log(h);var B=new hb(w.E.b,!0);
B.data={q:w.p.wP,CI:ec.Te,Ge:h};this.Q(B);var B=new hb(w.E.r,!0);B.S=E.rd;B.data={q:"updateStyles"};
this.Q(B)};ea.a2T=function(b,h,G,H,B,j){var s=h==0?["Font","FontSize","FillColor"]:[],q={};for(var Q=0;
Q<s.length;Q++)q[s[Q]]=b[s[Q]];if(h==0){if(q.Font!=null){var a=G[q.Font].Name;if(B[a]==null){B[a]=H.length;
H.push(G[q.Font])}q.Font=B[a]}q.FontSize=q.FontSize*j}return q};ea.prototype.cl=function(){if(!u.Pg(this.LJ))return};
ea.prototype.a=function(){jd.prototype.a.call(this)};ea.prototype.rN=function(b,h){this.Cc=b;this.K1()};
function ar(){jd.call(this,[9,13],!1,"---panels/glyphs",jd.nI.aqI);this.Cc=null}ar.prototype=new jd("");
ar.prototype.Yg=function(){this.PH=new h9;this.PH.parent=this;this.ajl=null;this.aaM=null;this.IW=null;
this.aoj=null;this.Rr=Math.round(290*u.V());this.v2=45;this.h_=4;this.avy=this.BL.bind(this);this.ahk=0;
this.QQ=new cP(null,["Hi","Hello"]);this.QQ.O(w.E.w,this.BL,this);var b=this.cK=new gX("-",null,null,!0);
b.O("click",this.a7z,this);var h=this.aCY=new gX("+",null,null,!0);h.O("click",this.a7z,this);this.pF=new cW(!1);
this.pF.O(w.E.w,this.dQ,this);this.pF.Z.style.height=250+"px";var G=this.M6=u.I("div","form padded");
this.LJ.appendChild(G);G.appendChild(this.PH.zc.Z);u.pP(G);G.appendChild(this.QQ.Z);G.appendChild(b.Z);
G.appendChild(h.Z);this.LJ.appendChild(this.pF.Z)};ar.prototype.Vb=function(b,h){if(this.Ps==b||this.PH==null)return;
this.Ps=b;this.Rr=Math.floor((b-13)*u.V());this.M6.setAttribute("style","width:"+this.Rr/u.V()+"px;");
this.pF.Z.style.height=h-73+"px";this.BL()};ar.prototype.dQ=function(b){var h=this.aAj(),G=Math.round(this.Rr/h);
h/=u.V();var H=this.pF.l()[0]*G*this.h_,B=this.pF.a92();H+=Math.floor(B.y/h)*G;H+=Math.floor(B.x/h);
var j=this.IW[this.QQ.l()];if(H>=j.length)return;var s=j[H],q=this.aoj[s],Q=new hb(w.E.r,!0);Q.S=E.rd;
if(q.R2.length==0)Q.data={q:"insertGlyph",P:H+1};else Q.data={q:"insertText",P:String.fromCodePoint(q.R2[0])};
this.Q(Q)};ar.prototype.a7z=function(b){var h=1.2;if(b.target==this.cK){if(this.v2>20)this.v2/=h}else{if(this.v2<100)this.v2*=h}this.BL()};
ar.prototype.cl=function(){this.rN(this.Cc)};ar.prototype.rN=function(b,h){this.Cc=b;if(!u.Pg(this.LJ))return;
if(this.PH==null)this.Yg();this.PH.k(b.Ge,b.B7,b.sP);var G=b.Ge,H=G.bJ.Font,Q=0;if(H==null)return;var B=G.uh[H].Name;
if(this.ajl==B)return;var H=b.B7.Oe(B);if(H==null)return;var j=H.maxp.numGlyphs,s=this.aoj=new Array(j);
for(var Y=0;Y<j;Y++)s[Y]={R2:[]};var q=Date.now(),a=new Uint8Array(1048575);for(var Y=0;Y<1048575;Y++){var l=Typr.U.codeToGlyph(H,Y);
if(l!=0&&l<j){a[Y]=1;if(s[l].R2.length==0)Q++;s[l].R2.push(Y)}}var U=ar.HI,N=[];for(var Y=0;Y<U.length;
Y++)N.push([]);for(var l=1;l<j;l++){N[0].push(l);var R=s[l].R2[0];if(R==null){continue}for(var S=1;S<U.length;
S++){var g=U[S].La;for(var Y=0;Y<g.length;Y+=2)if(g[Y]<=R&&R<=g[Y+1]){N[S].push(l);break}}}this.IW=N;
var i=[];for(var Y=0;Y<U.length;Y++)i.push(U[Y].Tb+" ("+N[Y].length+")");var y=this.QQ.l();this.QQ.mX(i);
this.QQ.k(y);this.ajl=B;this.aaM=H;this.BL()};ar.prototype.aAj=function(b){var h=Math.floor(this.Rr/this.v2);
return Math.floor(this.Rr/h)};ar.prototype.BL=function(b){if(!u.Pg(this.LJ)||this.IW==null)return;var h=this.IW[this.QQ.l()],G=h.length,H=this.aaM,B=Typr.U,j=this.aAj(),s=j,q=s*.8,Q=s*.8/H.head.unitsPerEm,a=[],l=Math.floor(this.Rr/j),U=Math.ceil(G/l),N=this.h_,R=Date.now();
for(var S=0;S<U;S+=N){var g=u.I("canvas"),i=g.getContext("2d");g.width=j*l;g.height=s*N;i.fillStyle="white";
i.fillRect(0,0,l*j,s*N);for(var y=0;y<N;y++){for(var o=0;o<l;o++){var Y=h[(S+y)*l+o];if(Y==null)break;
var v=B.glyphToPath(H,Y),Z=e.N.MP(v.crds);i.fillStyle="#252525";if(Z.Zx()){var W=H.hmtx,d=[],D=170;for(var $ in W)d.push($);
var I=W[d[0]][Y],k=W[d[1]][Y],_=Math.max(I,k);v={cmds:"M L M L M L".split(" "),crds:[0,0,_,0,0,-D,0,D,_,-D,_,D]};
Z.j=_;Z.x=0;i.strokeStyle="rgba(0,255,0,1)"}i.beginPath();var A=o*j+(j-Z.j*Q)*.5-Z.x*Q,F=y*s+q;i.translate(A,F);
i.scale(Q,-Q);B.pathToContext(v,i);i.scale(1/Q,-1/Q);i.translate(-A,-F);Z.Zx()?i.stroke():i.fill()}}i.beginPath();
for(var o=0;o<l;o++){var K=o*j+j+.5;i.moveTo(K,0);i.lineTo(K,s*N)}for(var y=0;y<N;y++){var V=y*s+s+.5;
i.moveTo(0,V);i.lineTo(l*j,V)}i.strokeStyle="rgba(0,0,0,0.3)";i.stroke();a.push(g)}this.pF.J_(a,null,j*l,s*N)};
ar.HI=[{Tb:"All Glyphs"},{Tb:"Basic Latin, Latin 1",La:[0,127,128,143]},{Tb:"Latin Extended-A",La:[256,383]},{Tb:"Latin Extended-B",La:[384,591]},{Tb:"Punctuations",La:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Tb:"Greek",La:[880,1023]},{Tb:"Cyrillic",La:[1024,1279]},{Tb:"Hebrew",La:[1424,1535]},{Tb:"Arabic",La:[1536,1791]},{Tb:"Emoji",La:[9728,10095,127744,129535]}];
function dj(){jd.call(this,[13,0],!1,null,jd.nI.KI);this.NZ=0;this.ako=0;this.Cc=null}dj.prototype=new jd("");
dj.prototype.Yg=function(){if(!u.Pg(this.LJ)||this.IH)return;var b=u.I("div","flexrow padded");this.LJ.appendChild(b);
var h=u.I("div");b.appendChild(h);this.IH=[];for(var Y=0;Y<2;Y++){var G=new d8;this.IH.push(G);G.O("click",this.asw,this);
h.appendChild(G.Z)}this.KF=new aN(192);console.log("hsb picker");this.KF.O(w.E.w,this.be,this);this.KH=new h$;
this.KH.parent=this;b.appendChild(this.KF.Z);this.rN(this.Cc,ec.GH)};dj.prototype.asw=function(b){var h=b.currentTarget,G=this.IH.indexOf(h);
if(G==this.NZ){this.KH.$r(G)}else{this.NZ=G;this.BL()}};dj.prototype.be=function(b){var h=this.KF.l();
this.KF.k(h);var G=Math.round(h.$*255)<<16|Math.round(h.B*255)<<8|Math.round(h.J*255),H=new hb(w.E.b,!0);
H.data={q:w.p.wP,CI:ec.KI,DF:this.NZ,P:G};this.Q(H);this.ako=Date.now()};dj.prototype.BL=function(){if(this.KH==null)return;
var b=this.Cc,h=this.NZ,G=[b.nU,b.W9];for(var Y=0;Y<2;Y++){var H=this.IH[Y],B=H.Z.style;H.HS(G[Y]);if(Y==h)B.filter="drop-shadow(0 0 1px #000000)"}var j=G[h];
if(Date.now()-this.ako>100)this.KF.k({$:(j>>>16)/255,B:(j>>>8&255)/255,J:(j&255)/255})};dj.prototype.rN=function(b,h){this.Cc=b;
if(this.KH==null)return;if(h==ec.GH||h==ec.KI){this.KH.ayv(b.nU,b.W9);this.BL()}};dj.prototype.Fd=function(){this.Yg()};
dj.prototype.cl=function(){this.Yg();this.BL()};function fK(){jd.call(this,"CSS",!1,"---panels/css",jd.nI.CSS);
this.x4=null;var b=u.I("div","padded");this.LJ.appendChild(b);this.KG=u.I("textarea");u.Yy(this.KG);
b.appendChild(this.KG)}fK.prototype=new jd("");fK.prototype.Vb=function(b,h){if(this.Ps==b)return;this.Ps=b;
this.KG.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(b-10)+"px; height:"+(h-10)+"px")};
fK.prototype.Fd=function(b){this.x4=b;this.BL()};fK.prototype.rN=function(b,h){if(h==ec.ML)this.BL()};
fK.prototype.BL=function(){var b=this.x4;if(b==null||b.T.length==0)return;if(!u.Pg(this.LJ))return;var h=b.R[b.T[0]],G=CSS.at1(h,b);
if(G.length!=0)this.KG.value=G.join(";\n")+";";else this.KG.value=""};fK.prototype.cl=function(){this.BL()};
function iz(){jd.call(this,"Text to Image",!1,null,jd.nI.aaF);this.x4=null;this.atX=["512x512","1024x1024"];
this.gb=0;this.mi={};this.i4=null;var b=["API Key","Generate"],h=this.vD=[new aG("Prompt",null,null,4),new iI("Inpaint the selection"),new gX([12,49],!0,null,!0)];
h[0].k("goat riding a bike");var G=u.I("div","form padded labfxd");this.LJ.appendChild(G);for(var H=0;
H<h.length;H++){h[H].parent=this;G.appendChild(h[H].Z);if(H==2)h[H].O("click",this.aaG,this)}this.GU=u.I("div","scrollable");
G.appendChild(this.GU);iz.amc=iz.prototype.az4.bind(this)}iz.prototype=new jd("");iz.prototype.aaG=function(){var b=this.vD,h=b[0].l().trim(),G=b[1].l(),H=G?this.x4:null;
if(!iz.TA(H))return;var B=function(){var j=iz.asf(!0,null,h,H);if(j==1)u.eS(this.LJ,"disabled")}.bind(this);
if(fH.RW())B();else iz.Yt(B)};iz.amc=null;iz.EH=0;iz.a5c=null;iz.Yt=function(b){var h="Go Premium for the unlimited access ($5 a month, press \"Account\" at the top). Or would you like to watch a short ad to do it for free?";
ez.Yt(b,h,"inpa")};iz.TA=function(b){if(b&&iz.Jt(b)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};iz.Jt=function(b){function h(Q,a){if((Q&a)==0)return Q;return Q+a+1-(Q&a)}var G=b.R[b.T[0]].rect,H=b.e.rect.D4(G),s=7;
if(H.X()>1e3*1e3)return null;var B=h(H.j,7)*h(H._,7)*1.2>512*512||Math.max(h(H.j,7),h(H._,7))>1024;if(Math.max(H.j,H._)>1024*(B?2:1))return null;
var j=512*512;if(B){j=1024*1024;s=15}while(!0){var q=H.clone();q.Mx(1,1);q=q.D4(G);if(q.X()>H.X()&&h(q.j,s)*h(q._,s)<=j)H=q;
else break}H.j=h(H.j,s);H._=h(H._,s);return H};iz.asf=function(b,h,G,H,B,j){if(!navigator.onLine){alert("Get online to use this feature.");
return}var s=H?iz.Jt(H).X()>512*512:!0,q,Q,a="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@#';::FH<9OEDRR`hQ&W3]2cpx}q|%.>KD9=-1>:<DDGYZS\\^R(X-^76:{'3@9#254:c[^4FBiCG_OZ{Tcd)~,%zn%$D~&|&'FSL7?D8CKTLTPmzs^fdr`mtktu5B;*!61(5<3<=\\ib<s.RjZe&Gd{'4-\"r\"('#3ERK1@@FI;pODSL`cUj{Z";
a=JSON.parse(dX.QB(a));var l=dX.Lm("31C-2llrwjrslkTQOPLVHP@L?4A.,.*'4|.zs\"|zns`amgdXPOGJCOML8;65=&'1.!(sp#pzducmak"),U={};
U[a[11]]=b?l:h;var N={};N[a[0]]=G;N[a[1]]=s?2:1;N[a[2]]=30;N[a[3]]=H?a[4]:a[5];N[a[12]]=a[13];if(j)for(var R in j)N[R]=j[R];
console.log(N);var S=a[6]+(H==null?a[7]:a[8]),g=new XMLHttpRequest;g.open("POST",S,!0);for(var i in U)g.setRequestHeader(i,U[i]);
if(B==null)B=iz.amc;g.onload=B;g.responseType="arraybuffer";if(H==null){g.setRequestHeader("content-type","application/x-www-form-urlencoded");
var y=[];for(var R in N)y.push(encodeURIComponent(R)+"="+encodeURIComponent(N[R]));g.send(y.join("&"));
q=Q=512}else{var o=iz.Jt(H),v=H.R[H.T[0]],Z=H.e,W=e.U(o.X()*4);e.JE(v.buffer,v.rect,W,o);var d=e.U(o.X());
e.wX(Z.channel,Z.rect,d,o);e.round(d);for(var Y=0;Y<d.length;Y++)if(W[Y*4+3]<128)d[Y]=255;if(s){console.log("downscaling");
var $=e.hd(W,o);W=$.Ur;var I=e.GO(d,o);d=I.Ur;o=I.rect}var k=aT.JR("jpg"),_=k.kf([[W.buffer]],o.j,o._,[90]),D=e.U(o.X()*4);
D.fill(255);e.YP(d,D);var A=UPNG.encode([D.buffer],o.j,o._,null,null,null,!0),F=new FormData;F.append(a[9],new Blob([_],{type:"image/jpeg"}));
F.append(a[10],new Blob([A],{type:"image/png"}));for(var R in N)F.append(R,N[R]);g.send(F);q=o.j;Q=o._}iz.a5c=[q,Q,s,b];
return 1};iz.gv=function(b){iz.EH=Date.now();var h=this.a5c,G=h[0],H=h[1],B=h[2],j=h[3],q=30;if(!j)return;
var s=fH.RW()?"Premium":"Free",Q=Math.max(G*H,512*512),a=(Q*6849e-9-1.133)*Math.max(q,10);if(B==2)a+=Q*49278e-9;
for(var Y=0;Y<a;Y++)fH.event("dez"+"go_De"+"zgo "+s+(b?" "+b:""))};iz.prototype.az4=function(b){var h=this.vD;
u.Yx(this.LJ,"disabled");var G={created:Math.round(Date.now()/1e3),data:[{b64_json:aT.fQ(b.target.response)}]},H=this.mi,B=h[0].l().trim();
if(H[B]==null)H[B]=[];H[B].push(G);iz.gv();this.BL()};iz.prototype.Vb=function(b,h){if(this.Ps==b)return;
this.Ps=b;this.LJ.style.width=b-16+"px";this.GU.style.height=h-190+"px"};iz.prototype.Fd=function(b,h){this.x4=b;
if(b)this.gb=h.indexOf(b);this.BL()};iz.prototype.rN=function(b,h){};iz.prototype.a=function(b,h){jd.prototype.a.call(this);
var G=this.vD,B=" target=\"_blank\" style=\"color:inherit;\">";for(var H=0;H<G.length;H++)this.vD[H].a()};
iz.prototype.BL=function(){var b=this.GU,h=this.mi;u._I(b);var G=[];for(var H in h){h[H].sort(function(R,S){return S.created-R.created});
G.push([H,h[H]])}G.sort(function(R,S){return S[1][0].created-R[1][0].created});var B=this.aac.bind(this),j=this.i4=[[],[]];
for(var Y=0;Y<G.length;Y++){var H=G[Y][0],s=G[Y][1],q=u.I("div");q.textContent=H;b.appendChild(q);for(var Q=0;
Q<s.length;Q++){var a=s[Q].data;for(var l=0;l<a.length;l++){var U=a[l].b64_json,N=u.I("img");N.setAttribute("src","data:image/png;base64,"+U);
N.onclick=B;N.style.width=128/u.V()+"px";N.style.marginRight="4px";N.style.cursor="pointer";b.appendChild(N);
j[0].push(N);j[1].push(a[l])}}}};iz.prototype.aac=function(b){var Y=this.i4[0].indexOf(b.target),h=this.i4[1][Y].b64_json,G=aT.yd(h);
dJ.BZ({url:"file",gb:this.gb},G,this)};iz.prototype.cl=function(){this.BL()};function i1(){jd.call(this,[9,6],!1,"---panels/info",jd.nI.adX);
this.LJ.setAttribute("style","min-width:240px;");this.x4=null;this.Cc=null;this.$w=null;var b=this.kq=[];
for(var h=0;h<3;h++){var G=u.I("div","marged row");this.LJ.appendChild(G);var H=u.I("div","cell");H.setAttribute("style","width:10em");
G.appendChild(H);var B=u.I("div","cell");B.setAttribute("style","width:10em");G.appendChild(B);var j=[8,4,3][h];
for(var Y=0;Y<j;Y++){var s=new iM("");b.push(s);s.k(0);s.Z.style.padding="0";var q=Y<(h==1?2:4)?H:B;
q.appendChild(s.Z);u.pP(q)}if(h<2)u.MX(this.LJ)}this.O5=b[8];this.$y=b[9];this.bC=b[10];this.rT=b[11];
u.MX(this.LJ);this.$w=u.I("div");this.$w.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.LJ.appendChild(this.$w)}i1.prototype=new jd("");i1.prototype.Jl=function(b,h,G,H,B){if(!u.Pg(this.LJ)||b==null)return;
var j=b.s.Fj(B.x,B.y),s=new cJ(Math.floor(j.x),Math.floor(j.y));if(!B.mN){var q=0,Q=0,a=0,l=0,U=this.kq;
if(!B.mN&&!b.aq2()&&new io(0,0,b.j-1,b._-1).G_(s)){var N=b.Nw(),Y=b.j*s.y+s.x<<2;q=N[Y+0];Q=N[Y+1];a=N[Y+2];
l=N[Y+3]}var R=e.M8([q/255,Q/255,a/255]);U[0].k("R: "+q);U[1].k("G: "+Q);U[2].k("B: "+a);U[3].k("A: "+l);
U[4].k("C: "+Math.round(R[0]*100)+"%");U[5].k("M: "+Math.round(R[1]*100)+"%");U[6].k("Y: "+Math.round(R[2]*100)+"%");
U[7].k("K: "+Math.round(R[3]*100)+"%");var S=e.adD(q,Q,a);U[12].k("H: "+Math.round(S.CN*360)+"\xB0");
U[13].k("S: "+Math.round(S.Xk*100)+"%");U[14].k("B: "+Math.round(S.J*100/255)+"%")}var g=b.s.D>1?new cJ(j.x,j.y):s;
this.O5.k("X: "+e.VJ.x3(g.x,b.O4,G,b.j));this.$y.k("Y: "+e.VJ.x3(g.y,b.O4,G,b._));this.cL()};i1.prototype.cL=function(){var b=this.x4,h=this.Cc,G=0,H=0;
if(b&&h){if(b.s.zq){G=b.s.zq.j;H=b.s.zq._}else if(b.e){G=b.e.rect.j;H=b.e.rect._}G=e.VJ.x3(Math.abs(G),b.O4,h,b.j);
H=e.VJ.x3(Math.abs(H),b.O4,h,b._)}this.bC.k(bp.get([12,41]).charAt(0)+": "+G);this.rT.k(bp.get([12,42]).charAt(0)+": "+H)};
i1.prototype.a=function(){jd.prototype.a.call(this);this.cL()};i1.prototype.cl=function(){this.Fd(this.x4,null,this.Cc)};
i1.prototype.Fd=function(b,h,G){this.x4=b;this.Cc=G;if(!u.Pg(this.LJ))return;console.log("update");this.cL();
if(b&&b.T.length!=0){var H=b.T[0],B=b.R[H],j=eZ.get(B.add)!=null,s=j&&b.T[0]>0;this.$w.innerHTML="";
for(var Y=0;Y<b.Gn.length;Y++){var q=b.Gn[Y],B=b.s.yF(q.x,q.y),Q=E.NK.Yj(b,B,1,s?1:2),a={$:Q>>>16&255,B:Q>>>8&255,J:Q&255},g="<span style=\"display:inline-block; width:25px; text-align:right\">",i="</span>";
if(s){var l=b.T[0];b.T[0]=H-1;var U=E.NK.Yj(b,B,1,1),N={$:U>>>16&255,B:U>>>8&255,J:U&255};b.T[0]=l}var R=u.I("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var S="<b>#"+(Y+1)+"</b>",y=[a.$,a.B,a.J],o=s?[N.$,N.B,N.J]:null,v=["R","G","B"];
for(var Z=0;Z<3;Z++)S+="<br/>"+g+v[Z]+i+": "+(s?g+o[Z]+i+" /":"")+g+y[Z]+i;R.innerHTML=S;this.$w.appendChild(R)}}};
function gL(){jd.call(this,[9,1],!1,"---panels/layers",jd.nI.nc);this.ek=null;this.yf=[];this.tR=null;
this.uQ=null;this.r0=u.I("div","lphead");this._L=u.I("div","lpbody scrollable");this._L.addEventListener("scroll",this.aiT.bind(this),!1);
this.v8=u.I("div","lpfoot");var b=this.ad1=u.I("span");b.setAttribute("style","display:inline-block; height:26px");
this.r0.appendChild(b);this.J$=new cP(null,aq.US,aq.B2);this.J$.O(w.E.w,this.aiV,this);this.r0.appendChild(this.J$.Z);
this.sb=new bP([12,0],0,100,"%",0);this.sb.O(w.E.w,this.a0C,this);this.sb.parent=this;this.r0.appendChild(this.sb.Z);
this.Uh=new jH([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Uh.O(w.E.w,this.alw,this);this.r0.appendChild(this.Uh.Z);this.XO=new bP([12,26],0,100,"%",0);this.XO.O(w.E.w,this.a6u,this);
this.XO.parent=this;this.r0.appendChild(this.XO.Z);this.vg=[];this.uG();if(fq==0)this.LJ.appendChild(this.r0);
this.LJ.appendChild(this._L);this._L.addEventListener("dragover",function(B){B.preventDefault()},!1);
this._L.addEventListener("dragenter",u.oO,!1);this._L.addEventListener("drop",this.aro.bind(this),!1);
this.LJ.appendChild(this.v8);this.LJ.addEventListener("contextmenu",u.oO,!1);if(fq==0)this.O("rclick",this.a2h,this);
var h=function(B,j,Y){return{Hz:this.q2[Y]==1}}.bind(this);if(fq==0){this.ajO=new fL([{name:[0,6],H:h},{name:[14,10],H:h},{name:[6,57,2],H:h,oq:!0},{name:"Long-tap as a right click",H:h,oq:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",H:function(){return{Hz:k7.MN==0,H:!0}}},{name:"Thumbnails by Document",H:function(){return{Hz:k7.MN==1,H:!0}}}]);
this.ajO.O("select",this.aDl,this)}this.q2=[0,1,1,0];var G=window.locStor;if(G){var H=G.getItem("lpOpt");
if(H){H=JSON.parse(H);this.q2=H[0];k7.RD=H[1];k7.MN=H[2]}}this.aDl()}gL.prototype=new jd("");gL.$g=function(b){var h=b==null?0:b.T.length;
return{H:h!=0&&(h!=1||b.T[0]!=0)&&(h!=1||!b.R[b.T[0]].fu()||b.R[b.T[0]].yY()),bu:bp.get(h>1||h==1&&b.R[b.T[0]].fu()?[6,12,0]:[6,10])}};
gL.prototype.pa=function(){if(this.a8O)return;var b=cZ.w1(!0),h=cZ.nk(!0);this.a8O=new fL(b,h);var b=[{name:[14,10]},{name:[14,11],oq:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],oq:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",H:function(G){return{H:G.R[G.T[0]].add.SoLd!=null}},oq:!0},{name:[6,8],H:gL.a8H},{name:[6,34],H:function(G){var H=G.R[G.T[0]];
return{H:H.add.lmfx!=null&&!H.fu()}}},{name:[6,40],oq:!0,H:function(G){var H=G.R[G.T[0]];return{H:H.add.TySh!=null}}},{name:"",oq:!0,H:function(G){var H=G.R[G.T[0]],B=H.add.TySh,j=B?B.HZ:null;
return{H:B!=null&&j.Curve==null,bu:bp.get(B&&b_.RQ(j)==0?[16,3,1]:[16,3,0])}}},gL.azQ(!1),cZ.ayS(),{name:[6,12,0],H:gL.$g},{name:[6,12,1],oq:!0},{name:[13,0],sub:function(){var G=[];
for(var Y=0;Y<jG.u$.length;Y++)G.push({name:[13,1,Y],lU:"#"+e.Z0(jG.u$[Y])});return G}()}],h=[{K:w.E.b,i:{q:w.p.C9,ut:"layerstyle"}},{K:w.E.r,S:E.Bi,i:{q:"fromlayer",Fo:[null,0,0]}},{K:w.E.r,S:E.nc,i:{q:C.hR}},{K:w.E.b,i:{q:w.p.C9,ut:"duplinto"}},{K:w.E.r,S:E.nc,i:{q:C.rU}},{K:w.E.IK,i:{f6:"newPlacedLayer"}},{K:w.E.r,S:E.nc,i:{q:C.x1}},{K:w.E.IK,i:{f6:"rasterizeLayer",yo:{classID:"rasterizeLayer",null:aX.eP("Lyr",!0)}}},{K:w.E.IK,i:{f6:"rasterizeLayer",yo:{classID:"rasterizeLayer",null:aX.eP("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:w.E.r,S:E.nc,i:{q:C.a0x}},{K:w.E.r,S:E.rd,i:{q:"switchPntPrgr"}},{K:w.E.r,S:E.nc,i:{q:C.iy}},cZ.a68(),{K:w.E.IK,i:{f6:"mergeLayersNew",yo:{__name:"Merge Layers",classID:"Mrg2"}}},{K:w.E.IK,i:{f6:"flattenImage"}},{sub:function(){var G=[];
for(var Y=0;Y<8;Y++)G.push({K:w.E.r,S:E.nc,i:{q:C.iE,aDN:Y}});return G}()}];this.ra=new fL(b,h);var b=[{name:[6,45],H:function(G){var H=G.R[G.T[0]];
return{H:H.T0(G).u==null}}},{name:[6,47]}],h=[{K:w.E.r,S:E.nc,i:{q:C.jz}},{K:w.E.r,S:E.nc,i:{q:C.R_}}];
this.ajN=new fL(b,h);var b=[{name:"enab/disab",H:function(G){return{bu:bp.get(G.R[G.T[0]].Y1().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],H:function(G){return{H:G.s5(!1,!0)}}}],h=[{K:w.E.r,S:E.nc,i:{q:C.TL}},{K:w.E.r,S:E.nc,i:{q:C.PU}},{K:w.E.r,S:E.nc,i:{q:C.qL}}];
this.ag6=new fL(b,h);var b=[{name:"enab/disab",H:function(G){return{bu:bp.get(G.R[G.T[0]].T0(G).u.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],h=[{K:w.E.r,S:E.nc,i:{q:C.$R}},{K:w.E.r,S:E.nc,i:{q:C.cU}}];
this.a0T=new fL(b,h);var b=[{name:"enab/disab",H:function(G){return{bu:bp.get(G.R[G.T[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],h=[{K:w.E.r,S:E.nc,i:{q:C.$P}},{K:w.E.r,S:E.nc,i:{q:C.Wc}},{K:w.E.r,S:E.nc,i:{q:C.c6}}];
this.aqL=new fL(b,h);this.ajV=new fL(cZ.ad3(!0),cZ.W$(!0));this.ax1=new fL(cZ.w1(),cZ.nk())};gL.prototype.aiT=function(b){var h=this._L.scrollTop-600;
for(var Y=0;Y<this.yf.length;Y++){var G=this.yf[Y],H=G.SD;if(h<G.SD)G.ayX();if(G.SD>h+this.CN+600)break}};
gL.prototype.vh=function(){return this.ajO};gL.prototype.aDl=function(b){var h=this.q2;if(b){var G=b.target.QO(),Y=G[0];
if(Y<4)h[Y]=1-h[Y];else if(Y<6){if(Y==4&&k7.RD-10>=10)k7.RD-=10;if(Y==5&&k7.RD+10<=200)k7.RD+=10;if(this.tR)this.tR.P6=!0}else{if(Y==6)k7.MN=0;
if(Y==7)k7.MN=1;if(this.tR)this.tR.P6=!0}var H=window.locStor;if(H)H.setItem("lpOpt",JSON.stringify([h,k7.RD,k7.MN]))}if(h[0]==1)this.ag0();
var B=[[{Z:this.ad1}],[this.J$,this.sb],[this.Uh,this.XO]];for(var Y=0;Y<3;Y++)for(var j=0;j<B[Y].length;
j++)B[Y][j].Z.style.display=h[Y]==1?"inline-block":"none";this.Vb(this.Ps,this.CN)};gL.prototype.atT=function(){var b=this.lz;
if(b==null)return!1;if(b.l()){var h=this.uH.l(),G=this.E$[h].l();if(h==0)return G.indexOf(!0)!=-1;if(h==1)return G!=""}return!1};
gL.azQ=function(b){var h=function(H){var B=H!=null&&H.T.length!=0&&H.R[H.T[0]].wi;return{Hz:B,H:H!=null&&H.HX(H.T[0]),i:{K:w.E.IK,i:{f6:B?"ungroup":"groupEvent",yo:{classID:B?"Ungr":"GrpL",null:aX.eP("Lyr",!0)}}}}},G={name:[6,6,0],oq:!0,H:h};
if(b)G.ef=[ap.p0,ap.zb,ap.M$];return G};gL.a8H=function(b,h){if(b)for(var Y=0;Y<b.T.length;Y++){var G=b.R[b.T[Y]];
if(G.add.TySh||G.add.SoLd||G.add.SoCo||G.add.GdFl||G.add.PtFl)return{H:!0}}return{H:!1}};gL.prototype.aro=function(b){u.oO(b);
var h=b.dataTransfer.getData("Text"),G=1,H=0;if(h==""){u.p4(b,this,this.uQ.indexOf(this.tR),H+(G>.5?0:1))}else if(h!="--panel"){var h=JSON.parse(h),B=h.qp;
if(B=="l")this.w0({q:C.pQ,source:h.Zh,target:H,ng:G})}};gL.prototype.a2h=function(b){var h=this.tR,G=b.data,B;
if(h.T.indexOf(G.o)==-1){var H={q:C.Cr,o:b.target.uD.index,wU:G.nD};this.w0(H)}if(h.T.indexOf(G.o)==-1)return;
this.pa();if(G.nD==1){B=this.ag6}else if(G.nD==2){B=this.aqL}else if(G.nD==3){B=this.a0T}else if(G.nD==4){B=this.ajN}else if(G.nD==5){B=this.a8O}else{B=this.ra}B.a();
B.update(h);B.parent=this;var j=new hb(w.E.b,!0);j.data={q:w.p.YB,Wn:B,x:G.EG.x+1,y:G.EG.y+1};this.Q(j)};
gL.prototype.a=function(){jd.prototype.a.call(this);this.J$.a();this.sb.a();this.Uh.a();this.XO.a();
if(this.lz){this.lz.a();this.E$[0].a()}if(this.tR)this.Fd(this.tR);var b="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Y=0;Y<this.vg.length;Y++){var h=this.vg[Y];h.Sm(u.b5(b[Y],null,"miniscale"));if(Y==1||Y==3){h.Z.style.position="relative";
var G=u.I("img","gsicon");G.setAttribute("src",PIMG["tools/corner"]);G.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
h.Z.appendChild(G)}}};gL.prototype.Fd=function(b,h){if(b&&!b.P6)return;if(b==null)u.eS(this.LJ,"disabled");
else u.Yx(this.LJ,"disabled");this.tR=b;this.uQ=h;if(this.ek!=null){u._I(this._L);this.ek=null;this.yf=[]}if(b==null)return;
var G=!1;for(var Y=0;Y<b.$B.length;Y++)if(b.$B[Y].Da)G=!0;this.ek=new jG(b.root,this,b,{UT:0,pE:!1},{aEj:G,a8C:this.atT()},this.yf,0,new io(0,0,b.j,b._));
if(b.T.length==0||b.R[b.T[0]]==null)u.eS(this.r0,"disabled");else{u.Yx(this.r0,"disabled");if(b.T.length==1&&b.fH){var H=b.T[0];
for(var Y=0;Y<this.yf.length;Y++){var B=this.yf[Y];if(B.uD.index==H&&B.r0.scrollIntoView)B.r0.scrollIntoView({block:"nearest"})}}var j=b.R[b.T[0]];
if(j.fu()){this.J$.mX([[15,10,27]].concat(aq.US),[1].concat(aq.B2));var s=aq.B5.indexOf(j.Am);this.J$.k(s+1)}else{this.J$.mX(aq.US,aq.B2);
var s=aq.B5.indexOf(j.Am);this.J$.k(s)}this.sb.k(Math.round(100*j.opacity/255));this.Uh.k([j.Xb(0),j.Xb(1),j.Xb(2),j.Xb(31)]);
var q=b.sC();this.J$.d3(!q);this.XO.d3(!q);this.sb.d3(!q);this.Uh.d3(!(q&&!j.Xb(31)));this.XO.k(Math.round(100*(j.add.iOpa!=null?j.add.iOpa/255:1)));
this.vg[2].a0c(bp.get(j.Y1()?[6,23]:[6,21]))}this.aiT(null)};gL.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;var G=this.r0.getBoundingClientRect().height;if(55<G&&G<56)G=60.2;var H=this.v8.getBoundingClientRect().height,B=h-(G+H+3);
this._L.style.height=B+"px";this._L.style.width=b+"px"};gL.prototype.aiV=function(b){this.w0({q:C.Ud,bq:this.J$.l()})};
gL.prototype.a0C=function(b){this.w0({q:C.iY,bq:Math.round(255*this.sb.l()/100)})};gL.prototype.alw=function(b){this.w0({q:C.NN,bq:[this.Uh.l(),[0,1,2,31]]})};
gL.prototype.a6u=function(b){this.w0({q:C.FE,bq:Math.round(255*this.XO.l()/100)})};gL.prototype.nA=function(b){if(b.target==this.uH)this.ag0();
var h=this.lz.l();if(h)u.Yx(this.Nx,"disabled");else u.eS(this.Nx,"disabled");this.a();this.tR.P6=!0;
this.Fd(this.tR);this.tR.P6=!1};gL.prototype.ag0=function(){var b=this.Nx;if(b==null){var h=this.ad1,G=this.lz=new iI([0,6]);
G.O(w.E.w,this.nA,this);h.appendChild(G.Z);b=this.Nx=u.I("span","disabled");h.appendChild(b);this.uH=new cP(null,["Kind",[12,48]],[]);
this.uH.O(w.E.w,this.nA,this);var H=this.E$=[new jH(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new aG(null,null,8)];
H[0].O(w.E.w,this.nA,this);H[1].O("input",this.nA,this)}u._I(b);b.appendChild(this.uH.Z);b.appendChild(this.E$[this.uH.l()].Z)};
gL.prototype.ay$=function(b){this.pa();this.a6I(b,this.ajV)};gL.prototype.avJ=function(b){this.pa();
this.a6I(b,this.ax1)};gL.prototype.a6I=function(b,h){var G=b.currentTarget;if(u.Pg(h.Z))return;b.stopPropagation();
var H=G.getBoundingClientRect();h.a();h.update(this.tR);h.parent=this;var B=new hb(w.E.b,!0);B.data={q:w.p.YB,Wn:h,x:H.left,y:H.top,ai5:!0};
this.Q(B)};gL.prototype.aca=function(b){this.w0({q:C.a3i})};gL.prototype.a7M=function(b){this.w0({q:this.tR.T.length>1?C.Qp:C.mI})};
gL.prototype.as8=function(b){this.w0({q:C.Wf})};gL.prototype.aBl=function(b){var h=this.tR;if(h.T.length==0)return;
var G=h.R[h.T[0]],H=G.nD;this.w0({q:H<=0?G.ZB?C.Wc:C.rU:H==3?C.cU:C.PU})};gL.prototype.akF=function(b){this.w0({q:C.Bx})};
gL.prototype.w0=function(b){var h=new hb(w.E.r,!0);h.data=b;h.S=E.nc;this.Q(h)};gL.prototype.uG=function(){var b=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],h=[this.akF,this.avJ,this.aca,this.ay$,this.a7M,this.as8,this.aBl],G=this.aCZ.bind(this);
for(var Y=0;Y<b.length;Y++){var H=new gX("W",!1,b[Y]);this.vg.push(H);u.fm(H.Z,h[Y].bind(this));if(fq==0||Y>3&&Y!=5)this.v8.appendChild(H.Z);
if(Y>=b.length-3){var B=H.Z;B.addEventListener("drop",G,!1);B.addEventListener("dragover",function(j){j.preventDefault()},!1);
B.addEventListener("dragenter",u.oO,!1)}}};gL.prototype.aCZ=function(b){u.oO(b);var h=0,G=this.vg;while(G[h].Z!=b.currentTarget)h++;
G[h].rL();var H=b.dataTransfer.getData("Text");if(H=="")return;var H=JSON.parse(H);if(H.qp=="l"){var B={q:[C.Qp,C.hR,C.rU][h-4]};
if(this.tR.T.indexOf(H.Zh)==-1)B.o=H.Zh;this.w0(B)}if(h!=6)return;if(H.qp=="sm"||H.qp=="s"){var j=new hb(w.E.r,!0);
j.S=E._s;j.data={q:H.qp=="sm"?"st_clear":"st_delsingle",o:H.Zh,Zh:H.G0};this.Q(j)}if(H.qp=="fm"||H.qp=="f"){this.w0({q:H.qp=="fm"?C.R_:C.Jp,src:H.Zh,G0:H.G0})}if(H.qp=="m"||H.qp=="vm"){this.w0({q:H.qp=="m"?C.PU:C.Wc,o:H.Zh})}};
function jG(b,h,G,H,B,j,s,q){dQ.call(this);this.parent=h;this.SD=s;this.uD=b;j.push(this);this.rX=G;
this.re=H;var Q=h._L,a=b.o,l=G.T.indexOf(b.index)!=-1,S=null;this.r0=u.I("div",l?"head selected":"head");
if(a.add.artb!=null){u.eS(this.r0,"artb");q=a.Ey()}var U=this.a5Q=Math.floor(10+a.ayP/u.V()),N="height: "+U+"px;";
if(l&&B.aEj)N+="background-color:rgba(255,50,50,0.4);";this.r0.setAttribute("style",N);this.vq=q;var R=this.a8z=this.aCr.bind(this),g=B.a8C&&!this.auP();
if(!g){if(b.depth!=0){Q.appendChild(this.r0);s+=U-.3}if(a.JA()||a.Ag())if(a.mx()){S=this.a7r=u.I("div","lpineck");
Q.appendChild(S);if(a.JA()){S.addEventListener("contextmenu",R,!1);var i=new gL.z2(bp.get([12,1]),"sm","layerstyle",b.depth,0,null);
s+=21;i.parent=this;S.appendChild(i.Z);var y=a.add.lmfx,o=y.masterFXSwitch.v;i.lW(o);for(var Y=0;Y<dE.order.length;
Y++){var v=y[dE.CM[Y]].v;if(v.length==0)continue;for(var Z=0;Z<v.length;Z++){var i=new gL.z2(bp.get(dE.names[Y]),"s","layerstyle",b.depth,1,[Y,Z]);
s+=21;i.lW(o&&v[Z].v.enab.v);i.parent=this;S.appendChild(i.Z)}}}if(a.Ag()){var W=a.T0(G).u;if(W)this.BW=u.I("div","thumb");
var i=new gL.z2(bp.get([12,55]),"fm",null,b.depth,0,-1,W?this.BW:null,U);s+=W?U:21;i.parent=this;S.appendChild(i.Z);
this.a2C=i.Z;this.a2C.addEventListener("contextmenu",R,!1);var y=a.add.SoLd.filterFX.v,d=y.filterFXList.v,o=y.enab.v;
i.lW(o);for(var Y=d.length-1;Y>=0;Y--){var $=d[Y].v,I=gY.AF($);if(eZ.mq[I])I=eZ.mq[I];var k=$.Nm.v;if(gY.names[I])k=bp.get(gY.names[I]);
if(eZ.names[I])k=bp.get(eZ.names[I]);var _="afw_"+I,i=new gL.z2(k,"f",_,b.depth,1,Y);s+=21;i.lW(o&&$.enab.v);
i.parent=this;S.appendChild(i.Z)}}}}var D=a.add.lclr;if(D==null)D=0;D=D==0?H.UT:jG.u$[D];this.aej=D;
if(a.fu()&&(a.add.lsct==c1.$I||B.a8C)){var A={UT:D,pE:H.pE||a.Xb(31)};for(var Y=b.children.length-1;
Y>=0;Y--){var F=new jG(b.children[Y],h,G,A,B,j,s,q);s=F.avZ}}this.avZ=s}jG.prototype=new dQ;jG.u$=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
jG.prototype.ayX=function(){if(this.QV)return;var b=this.uD,h=b.o,G=this.rX,H=this.re,U=!0,A=!1;b.DB(G,this.vq,!0);
var B=u.I("div","headL"),j=u.I("div","headR");this.r0.appendChild(B);this.r0.appendChild(j);var s=this.r0;
s.setAttribute("draggable","true");s.addEventListener("dragstart",this.Dq.bind(this),!1);s.addEventListener("drop",this.Tz.bind(this),!1);
s.addEventListener("dragover",this.$x.bind(this),!1);s.addEventListener("dragenter",u.oO,!1);s.addEventListener("dragleave",this.l0.bind(this),!1);
var q=[],Q=[null,null,null,null],a=h.yY(),l=b;while(l.parent){l=l.parent;a=a&&l.o.yY()}if(h.wi){for(var Y=b.index-1;
Y>=0;Y--){var N=G.R[Y];if(!N.wi){U=N.yY();break}}}var R=h.yY()?a&&U?2:1:0;this.QV=u.I("div");var S=u.I("div",R==0?"sqr":"eye");
this.QV.appendChild(S);S.style.opacity=[.12,.33,1][R];var g=u.I("div","space");this.Yv=u.I("div","label");
this.Yv.setAttribute("style","max-width:calc(100% - "+(96+b.depth*20)+"px); margin-top:"+(this.a5Q-19)/2+"px;"+(h.Sz?"text-decoration:underline;":""));
this.Yv.textContent=h.getName();this.R8=u.I("div","lock");this.aeg=u.I("div","lrfx");this.TV=u.I("div","arfx");
var i=this.a8z,y=this.asM.bind(this);this.r0.addEventListener("click",y,!1);this.r0.addEventListener("contextmenu",i,!1);
var o=this.aej;if(o!=0){var v=[o>>16,o>>8&255,o&255];for(var Y=0;Y<3;Y++){v[Y]="calc("+v[Y]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.QV.setAttribute("style","background-color:rgba("+v.join(",")+",1);")}var Z=this.atE.bind(this);
this.QV.addEventListener("mousedown",Z,!1);this.QV.addEventListener("mouseover",Z,!1);this.TV.addEventListener("click",this.a3H.bind(this),!1);
q[0]=this.QV;q[1]=g;q[10]=this.Yv;if(h.fu()){var W=u.I("div","arrow"),d=u.I("div","folder");this.og(d);
W.addEventListener("click",this.ab5.bind(this),!1);q[2]=W;q[3]=d;W.className=h.add.lsct==c1.$I?"open":"closed"}else{this.DO=u.I("div","thumb");
q[5]=this.DO;jG.cp(this.DO,h.GW);this.og(this.DO);if(eZ.get(h.add))u.eS(h.GW.canvas,"gsicon")}var $=h.Y1();
if($){this.Za=u.I("div","chain");this.KY=u.I("div","thumb");jG.cp(this.KY,h.lM,!0);this.Za.style.opacity=$.lc?1:0;
this.Za.addEventListener("click",this.a7y.bind(this),!1)}var I=h._5()&&h.add.vmsk;if(h.add.vmsk&&!I){this.cQ=u.I("div","chain");
this.yn=u.I("div","thumb");jG.cp(this.yn,h.ki,!0);this.cQ.style.opacity=h.add.vmsk.lc?1:0;this.cQ.addEventListener("click",this.arJ.bind(this),!1)}if(h.Ag()&&h.mx()&&h.T0(G).u){jG.cp(this.BW,h.BT,!1);
this.og(this.BW);this.BW.addEventListener("click",y,!1);this.BW.addEventListener("contextmenu",i,!1)}if(b.index==G.T[0]){var k=h.nD,_;
if(k<=0)_=this.DO;else if(k==1)_=this.KY;else if(k==3)_=this.BW;if(_)_.className="thumb active";if(h.ZB&&this.yn)this.yn.className="thumb active"}g.setAttribute("style","width:"+Math.max(0,b.depth-1)*18+"px");
var D=h.add.lspf!=null&&h.add.lspf!=0||H.pE;this.R8.style.opacity=h.Xb(31)?1:.5;q[4]=h.wi?u.I("div","clipp"):null;
q[6]=$?this.Za:null;q[7]=$?this.KY:null;q[8]=h.add.vmsk&&!I?this.cQ:null;q[9]=h.add.vmsk&&!I?this.yn:null;
var F=h.VF,K=G.T;if(F!=0)for(var Y=0;Y<K.length;Y++)if(G.R[K[Y]].VF==F){A=!0;break}if(A){Q[0]=u.I("div",h.T4?"link":"linkX");
Q[0].addEventListener("click",this.aBC.bind(this),!1)}Q[1]=D?this.R8:null;Q[2]=h.JA()?this.aeg:null;
Q[3]=h.JA()||h.Ag()?this.TV:null;this.TV.className=h.mx()?"arfx open  gsicon":"arfx closed  gsicon";
var V=q;for(var Y=0;Y<V.length;Y++)if(V[Y])B.appendChild(V[Y]);V=Q;for(var Y=0;Y<V.length;Y++)if(V[Y])j.appendChild(V[Y])};
jG.cp=function(b,h,G){var H=h.canvas;u.dY(H);if(G)b.setAttribute("draggable","true");b.appendChild(H);
H.setAttribute("style",H.getAttribute("style")+"; pointer-events:none")};jG.prototype.og=function(b){u.fm(b,function(h){if(this.parent.q2[3]==0)return;
u._2(h);u.$f(document.body,function(){clearTimeout(this.awz)}.bind(this));this.awz=setTimeout(function(){var G=new hb("rclick",!0);
G.data={o:this.uD.index,nD:this.nD(h),EG:u.Kz(h,document.body)};this.Q(G)}.bind(this),600)}.bind(this))};
jG.ed=function(b,h){var G=h.getBoundingClientRect();return(b.clientY-G.top)/G.height};jG.prototype.Dq=function(b){b.stopPropagation();
var h=b.target==this.KY?"m":b.target==this.yn?"vm":"l";b.dataTransfer.setData("Text",JSON.stringify({qp:h,Zh:this.uD.index}))};
jG.prototype.l0=function(b){u.oO(b);this.E2()};jG.prototype.Tz=function(b){u.oO(b);this.E2();var h=b.dataTransfer.getData("Text"),G=this.parent.tR,H=jG.ed(b,this.r0),B=this.uD.index;
if(H>.8){var j=!0,s=G.root.DE(B);while(s.parent!=null){var q=s.parent,Q=q.children;if(Q.indexOf(s)!=0)j=!1;
s=s.parent}if(j){B=0;H=1}}if(h==""){u.p4(b,this,this.parent.uQ.indexOf(G),B+(H>.5?0:1))}else if(h!="--panel"){var h=JSON.parse(h),a=h.qp;
if(a=="l")this.w0({q:C.pQ,source:h.Zh,target:B,ng:H});else if(a=="m"||a=="vm")this.w0({q:a=="m"?C.aft:C.St,src:h.Zh,rA:B});
else jG.a37(b,h,this)}};jG.a37=function(b,h,G,H){var B=h.qp,j=G.uD.index,s=h.Zh;if(B=="s"||B=="sm")G.w0({q:C.Dv,src:s,rA:j,G0:h.G0});
if(B=="f"||B=="fm")G.w0({q:C.ade,src:s,rA:j,G0:h.G0,fW:H==null?0:H})};jG.prototype.$x=function(b){u.oO(b);
var h=jG.ed(b,this.r0),G=this.uD.o.fu()&&.5<h&&h<.8;this.E2();var H="inset 0 "+(G?0:h>.5?-3:3)+"px "+(G?"6px":0)+" var(--text-color)";
this.r0.style.boxShadow=H};jG.prototype.E2=function(b){this.r0.style.boxShadow=""};jG.amU=-1;jG.PG=!1;
jG.agK=function(b){jG.PG=!1;document.body.removeEventListener("mouseup",jG.agK)};jG.prototype.atE=function(b){if(b.button!=0)return;
if(b.type=="mousedown"){jG.PG=!0;document.body.addEventListener("mouseup",jG.agK,!1)}if(b.type=="mouseover"&&(!jG.PG||jG.amU==this.uD.index))return;
u.oO(b);this.w0({q:C.LX,o:this.uD.index});jG.amU=this.uD.index};jG.prototype.ab5=function(b){u.oO(b);
this.w0({q:C.ae2,o:this.uD.index})};jG.prototype.a7y=function(b){this.w0({q:C.Wi,o:this.uD.index})};
jG.prototype.arJ=function(b){this.w0({q:C.s6,o:this.uD.index})};jG.VR=0;jG.prototype.z4=function(b){this.w0({q:C.Ti,o:this.uD.index,name:b})};
jG.prototype.a3H=function(b){this.w0({q:C.als,o:this.uD.index})};jG.prototype.aBC=function(b){this.w0({q:C.km,o:this.uD.index})};
jG.prototype.aCr=function(b){if(b.button!=2&&!u.ail(b)&&!(b.ctrlKey&&ap.M2()))return;var h=this.nD(b);
if(h!=3&&b.currentTarget==this.a2C)h=4;if(b.target==this.aeg||b.currentTarget==this.a7r)h=5;var G=new hb("rclick",!0);
G.data={o:this.uD.index,nD:h,EG:u.Kz(b,document.body)};this.Q(G)};jG.prototype.nD=function(b){var h=b.target,G=h;
return G==this.yn?2:G==this.KY?1:G==this.DO?0:G==this.BW?3:-1};jG.prototype.asM=function(b){var h=b.target,R;
if(h==this.QV.firstChild||h==this.TV||h==this.Za||h==this.cQ||h.tagName&&h.tagName.toLowerCase()=="input")return;
var G=this.nD(b),H=this.parent.tR,B=this.uD.index,j=H.R[B];if(h==this.R8){this.w0({q:C.NN,o:B,bq:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var s=jG.VR,q=Date.now()-s<300;jG.VR=Date.now();if(h==this.Yv){if(q){this.r0.setAttribute("draggable","false");
var Q=new jd.Nc(this.Yv,this.z4.bind(this))}else this.w0({q:C.Cr,o:B,wU:G,y_:!0});return}if(fq==0&&b.button==0&&q){if(h==this.Yv)return;
var a=new hb(w.E.r,!0),l=new hb(w.E.b,!0),U=new hb(w.E.IK,!0);if(G==0&&j.add.SoCo){var N=e.F.an(j.add.SoCo.Clr.v);
l.data={q:w.p.C9,ut:"colorpicker",UT:N.$<<16|N.B<<8|N.J,jO:function(i){var y=e.F.t1({J:i&255,B:i>>>8&255,$:i>>16&255});
y={classID:"null",Clr:{t:"Objc",v:y}};var o=new hb(w.E.r,!0);o.S=E.nc;o.data={q:C.XJ,UQ:[B],OI:!0,P:{Z_:1,Tf:y}};
this.Q(o)}.bind(this),hh:!0}}else if(G==0&&(eZ.get(j.add)||j.add.SoCo||j.add.GdFl||j.add.PtFl))l.data={q:w.p.tb,ut:jd.nI.HH};
else if(G!=0&&G!=-1)l.data={q:w.p.tb,ut:jd.nI.HH};else if(G==0&&j.add.SoLd)U.data={f6:"placedLayerEditContents",yo:{classID:"placedLayerEditContents"}};
else if(G==0&&j.add.TySh){a.S=E.rd;a.data={q:"editCurr",RI:B}}else l.data={q:w.p.C9,ut:"layerstyle",o:B};
this.Q(U.data?U:l.data?l:a);return}if(b.button!=0)return;if(G==1||G==3){var S=G==3?j.T0(H).u:j.Y1();
R=S.Da?H.s.M.join("")=="111"?1:2:0}var g={q:C.Cr,o:B,wU:G,a7C:R,y_:!0};this.w0(g)};jG.prototype.w0=function(b){var h=new hb(w.E.r,!0);
h.data=b;h.S=E.nc;this.Q(h)};jG.prototype.auP=function(){var b=this.uD.o,h=b.add,G=this.parent.uH.l(),H=this.parent.E$[G].l();
if(G==0){if(H[0]&&h.SoLd==null&&h.TySh==null&&b.P4())return!0;if(H[1]&&eZ.get(h)!=null)return!0;if(H[2]&&h.TySh!=null)return!0;
if(H[3]&&h.vstk!=null)return!0;if(H[4]&&h.SoLd!=null)return!0;return!1}if(G==1)return b.getName().toLowerCase().indexOf(H.toLowerCase())!=-1};
gL.z2=function(b,h,G,H,B,j,s,q){dQ.call(this);this.aj4=h;this.vP=G;this.index=j;this.Z=u.I("div","styleitem");
this.r0=u.I("div","head");this.ala=null;if(h=="f"){var Q=this.ala=u.I("div","headR");Q.textContent="\u2699";
this.r0.appendChild(Q)}this.QV=u.I("div","eye gsicon");this.Yv=u.I("div","label");this.Z.appendChild(this.r0);
this.r0.appendChild(this.QV);if(s){this.KY=s;this.r0.appendChild(s);this.r0.setAttribute("style","height: "+q+"px")}this.Yv.innerHTML=b;
this.Z.setAttribute("style","margin-left: "+(24+H*16+B*22)+"px");this.r0.appendChild(this.Yv);this.QV.addEventListener("click",this.axl.bind(this),!1);
var a=this.Z;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.Dq.bind(this),!1);
if(!0){a.addEventListener("drop",this.Tz.bind(this),!1);a.addEventListener("dragover",this.$x.bind(this),!1);
a.addEventListener("dragenter",u.oO,!1);a.addEventListener("dragleave",this.l0.bind(this),!1)}this.Z.addEventListener("click",this.dq.bind(this),!1)};
gL.z2.prototype=new dQ;gL.z2.prototype.Dq=function(b){b.stopPropagation();b.dataTransfer.setData("Text",JSON.stringify({qp:this.aj4,Zh:this.parent.uD.index,G0:this.index}))};
gL.z2.prototype.l0=function(b){u.oO(b);this.E2()};gL.z2.prototype.Tz=function(b){u.oO(b);this.E2();var h=b.dataTransfer.getData("Text");
if(h=="")return;var h=JSON.parse(h);jG.a37(b,h,this.parent,this.index+(jG.ed(b,this.r0)>.5?0:1))};gL.z2.prototype.$x=function(b){u.oO(b);
var h=jG.ed(b,this.r0)>.5;this.E2();var G="border-"+(h?"bottom":"top");this.r0.style[G]="0.2em solid rgba(0,0,0,0.5)"};
gL.z2.prototype.E2=function(b){this.r0.style.border="none"};gL.z2.prototype.lW=function(b){this.QV.style.opacity=b?1:.2};
gL.z2.prototype.dq=function(b){var h=jG.VR,G=Date.now()-h<300;jG.VR=Date.now();if(b.target==this.QV)return;
var H=this.parent.uD.index;if(G&&this.vP!=null){var H=this.parent.uD.index,B=new hb(w.E.b,!0);if(this.vP.indexOf("afw_")==0){var j=this.vP.slice(4),s=iq[j]||gY.L[j],q=b.target==this.ala;
if(!q&&!s)return;B.data=E.Jo.aiU(q?"blendOptions":j,{o:H,index:this.index})}else B.data={q:w.p.C9,ut:this.vP,o:H,index:this.index};
this.Q(B)}else{if(b.target.className!="thumb")this.parent.w0({q:C.Cr,o:H,wU:0})}};gL.z2.prototype.axl=function(b){var h={fm:C.oA,f:C.K9,sm:C.fb,s:C.kl}[this.aj4];
this.parent.w0({q:h,o:this.parent.uD.index,index:this.index})};function bU(){jd.call(this,"Guide Guy",!1,"---panels/guideguy",jd.nI.anX);
this.x4=null;this.wL=new cP(null,e.VJ.LO)}bU.prototype=new jd("");bU.prototype.Yg=function(){this.kq=[];
var b=u.I("div","form padded");this.LJ.appendChild(b);b.setAttribute("style","width:200px");this.LJ.appendChild(b);
var h=u.I("canvas"),G=h.getContext("2d");h.width=h.height=160;var H=[32,0,16,160,0,32,160,16,0,112,160,16],B="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),j=[0,0,0,0,0,0,0,0,0,0];
b.appendChild(this.wL.Z);for(var Y=0;Y<10;Y++){G.clearRect(0,0,160,160);G.setTransform(1,0,0,1,80,80);
G.rotate((Y&3)*Math.PI/2);G.translate(-80,-80);G.fillStyle="rgba(0,0,0,0.3)";if(Y<4){for(var s=0;s<12;
s+=4){G.fillStyle=s==0?"#000000":"rgba(0,0,0,0.3)";G.fillRect(H[s],H[s+1],H[s+2],H[s+3])}}else if(Y<6){var q=8*6;
G.fillRect(0,0,q,160);G.fillRect(8*7,0,q,160);G.fillStyle="#000000";G.fillRect(8*14,0,q,160)}else if(Y<8){G.fillRect(0,0,16,160);
G.fillRect(160-16,0,16,160);G.fillRect(32,0,160-64,160);G.fillStyle="#000000";G.fillRect(32,80-8,160-64,8*1)}else{G.fillRect(0,0,8*7,160);
G.fillRect(8*13,0,160,160);G.fillStyle="#000000";G.fillRect(8*7,80-8,8*6,8*1)}var Q="<img src=\""+h.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new bP(Q,0,200,null,Y==4||Y==5?0:2,null,null,4,B[Y]);
a.parent=this;a.O(w.E.w,this.aEw,this);a.k(j[Y]);a.a();this.kq.push(a);b.appendChild(a.Z)}var l=[[11,14],[11,15,0]];
this.g8=[];for(var Y=0;Y<l.length;Y++){var U=new gX(l[Y],!0,null,!0);this.g8.push(U);U.O("click",this.L$,this);
b.appendChild(U.Z)}for(var Y=0;Y<6;Y++){G.setTransform(1,0,0,1,80,80);G.rotate(Math.floor(Y/3)*Math.PI/2);
G.translate(-80,-80);G.clearRect(0,0,160,160);G.fillStyle="rgba(0,0,0,0.3)";G.fillRect(0,0,160,160);
G.clearRect(16,16,128,128);G.fillStyle="#000000";var N=Y%3;G.fillRect([0,9,18][N]*8,0,16,160);var Q="<img src=\""+h.toDataURL()+"\" class=\"autoscale gsicon\" /> ",U=new gX(Q,!1,null,!1);
this.g8.push(U);U.O("click",this.L$,this);b.appendChild(U.Z)}};bU.prototype.a=function(){jd.prototype.a.call(this);
this.wL.a();if(this.kq==null)return;for(var Y=0;Y<this.g8.length;Y++)this.g8[Y].a()};bU.prototype.aEw=function(b){var h=this.kq,G=h.indexOf(b.target),H=Math.floor(G/2),B=G&1,j=[];
for(var Y=0;Y<4;Y++)j.push(h[2*Y+B].l());var s=-1;if(H==2&&j[2]!=0&&j[3]!=0&&j[4]!=0)s=4;if(H==3&&j[3]!=0&&j[2]!=0&&j[4]!=0)s=4;
if(H==4&&j[4]!=0&&j[2]!=0&&j[3]!=0)s=3;if(s!=-1)h[2*s+B].k(0)};bU.prototype.L$=function(b){var h=this.x4,G=this.g8.indexOf(b.target),H=[[],[]];
if(h==null)return;var B=h.e?h.e.rect:new io(0,0,h.j,h._),j=B.j,s=B._;if(G==0){var q=[[],[]],Q=this.wL.l();
for(var Y=0;Y<this.kq.length;Y++){var a=this.kq[Y].l();a=e.VJ.nB(a,h.O4,(Y&1)==0?h.j:h._,Q);q[Y&1].push(a)}var l=[bU.amp(q[0],B.x,B.x+j),bU.amp(q[1],B.y,B.y+s)];
H=bU.CO(l);E.uW.ZX(H,h.Wb())}else if(G==1){}else{G-=2;var U=Math.floor(G/3),l=[[],[]];l[U].push([B.x,B.x+j/2,B.x+j,B.y,B.y+s/2,B.y+s][G]);
H=bU.CO(l);E.uW.ZX(H,h.Wb())}this.aET(H)};bU.CO=function(b){var h=[],G=[];for(var H=0;H<2;H++)for(var Y=0;
Y<b[H].length;Y++){h.push([H,b[H][Y]]);G.push(-1)}return[h,G]};bU.prototype.acp=function(b){var h=this.a4M.indexOf(b.target)};
bU.prototype.aET=function(b){var h=new hb(w.E.r,!0);h.S=E.rQ;h.data={q:"gids",ez:b};this.Q(h)};bU.amp=function(b,h,G){var H=[],B=b[2],j=b[3],s=b[4],q=0;
if(B==0)q++;if(j==0)q++;if(s==0)q++;if(q>1&&B==0&&j==0){if(b[0]!=0)H.push(h+b[0]);if(b[1]!=0)H.push(G-b[1]);
return H}var Q=G-h-b[0]-b[1];if(B==0){if(s==0){B=Math.floor(Q/j);s=(Q-B*j)/(B-1)}else{B=1;while(j*B+s*(B-1)+j+s<=Q)B++}}else if(B!=0&&j!=0){if(B*j>Q)B=Math.floor(Q/j);
s=(Q-B*j)/(B-1)}H.push(h+b[0],G-b[1]);var j=(Q-s*(B-1))/B;for(var Y=1;Y<B;Y++){if(s==0)H.push(h+b[0]+Y*j);
else H.push(h+b[0]+Y*j+(Y-1)*s,h+b[0]+Y*j+Y*s)}return H};bU.prototype.Fd=function(b,h,G){this.x4=b};
bU.prototype.cl=function(){if(u.Pg(this.LJ)&&this.kq==null)this.Yg();this.a()};bU.prototype.rN=function(b){this.wL.k(b.x$.Bl)};
function ks(){jd.call(this,[9,2],!1,"---panels/properties",jd.nI.HH);this.agx=null;this.rX=null;this.Cc=null;
this.a9X=-1;this.fM=null}ks.prototype=new jd("");ks.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;b=b-16;
h=h-30;var G=this.fM;if(G){G.style.width=b+"px";G.style.height=h+"px";for(var Y=0;Y<3;Y++)this.NI[Y].Vb(b-12,h)}};
ks.prototype.Yg=function(){this.fM=u.I("div","padded scrollable");this.LJ.appendChild(this.fM);var b=u.I("span");
this.fM.appendChild(b);this.Kr=[new gX([0,3]),new gX([12,73]),new gX([12,91,0])];for(var Y=0;Y<this.Kr.length;
Y++){var h=this.Kr[Y];h.O("click",this.aif,this);b.appendChild(h.Z);if(Y==2)h.Z.style.marginRight="0"}this.fM.appendChild(u.I("hr"));
this.ox=new ks.qZ;this.ox.parent=this;this.P8=new ks.fg;this.P8.parent=this;this.M_=new ks.$h;this.M_.parent=this;
this.NI=[this.ox,this.P8,this.M_];this.fM.appendChild(this.ox.Z);this.v8=u.I("div","lpfoot");this.LJ.appendChild(this.v8);
this.vg=[];for(var Y=0;Y<3;Y++){var h=new gX("W");h.O("click",this.JO,this);this.vg.push(h);this.v8.appendChild(h.Z)}this.Vb(this.Ps,this.CN)};
ks.prototype.JO=function(b){var Y=this.vg.indexOf(b.target),h=new hb(w.E.r,!0);h.S=E.nc;if(Y==0)h.data={q:C.iy};
if(Y==1)h.data={q:C.LX};if(Y==2)h.data={q:C.rU};this.Q(h)};ks.prototype.aif=function(b){var Y=this.Kr.indexOf(b.currentTarget);
this.EV(Y);this.arK(Y==1?this.P8.mw:-1)};ks.prototype.EV=function(b){for(var Y=0;Y<3;Y++){this.Kr[Y].rL();
var h=this.NI[Y].Z;if(h.parentNode==this.fM&&Y!=b)this.fM.removeChild(h);if(h.parentNode!=this.fM&&Y==b)this.fM.appendChild(h)}this.Kr[b].zr()};
ks.prototype.arK=function(b){var h=this.rX.T[0],G=this.rX.R[h],H=b+1;if(b==1&&G.ZB)return;var B=new hb(w.E.r,!0);
B.S=E.nc;if(b!=1&&G.ZB){B.data={q:C.Cr,o:h,wU:2};this.Q(B)}B.data={q:C.Cr,o:h,wU:H};this.Q(B)};ks.prototype.a=function(){jd.prototype.a.call(this);
if(this.fM==null)return;this.Fd(this.rX);for(var Y=0;Y<3;Y++){this.Kr[Y].a();this.NI[Y].a()}bX.Fh(this.vg,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
ks.prototype.cl=function(){if(!u.Pg(this.LJ))return;if(this.fM==null){this.Yg();this.rN(this.Cc,ec.GH);
this.Fd(this.agx);this.a()}};ks.prototype.Fd=function(b){this.agx=b;if(this.fM==null)return;this.ox.Fd(b);
this.P8.Fd(b);this.M_.Fd(b);if(b==null||b.T.length==0||b.R[b.T[0]]==null){u.eS(this.LJ,"disabled");this.rX=null;
return}else u.Yx(this.LJ,"disabled");var h=b.T[0],G=b.R[h];this.vg[0].k(G.wi);this.vg[1].k(G.yY());var H=b.wV(),B=H[0],j=H[1];
if(j.length!=0){var s=B[j[0]],q=s.add.vogk,Q=!1;if(q)for(var Y=0;Y<q.length;Y++){var a=q[Y].v;if(!e.Bs.bM(a))continue;
Q=!0;h=s.V9}}h+=","+Q;if(b!=this.rX||this.a9X!=h){this.rX=b;this.a9X=h;if(Q)this.EV(2);else if(G.nD<1&&!G.ZB||eZ.get(G.add))this.EV(0);
else this.EV(1)}this.Kr[1].d3(this.P8.mw!=-1);this.Kr[2].d3(Q)};ks.prototype.rN=function(b,h){this.Cc=b;
if(this.ox)this.ox.rN(b,h);if(this.M_)this.M_.rN(b,h)};ks.qZ=function(){dQ.call(this);this.Z=u.I("div","form");
this.ab3=new iM("Hello");this.A2=new gX([1,12,2],null,null,!0);this.A2.Z.style.aao="right";this.A2.O("click",this.Hg,this);
this.Z.appendChild(this.ab3.Z);this.Z.appendChild(this.A2.Z);this.p7=null;this.Ru=null;this.rX=null;
this.Cc=null;this.adl=-1;this.aBQ=null;this.EI=null;this.Du=new bu(0,!0,!0);this.Du.parent=this;this.Du.O(w.E.w,this.aaL,this);
this.Z.appendChild(this.Du.Z);this.Kn=new d8(!0);this.Kn.parent=this;this.Kn.O(w.E.w,this.alr,this);
this.AX=u.I("div","marged hiline");this.AX.appendChild(this.Kn.Z);this.yh=new cf("GrFl",!0);this.yh.parent=this;
this.yh.O(w.E.w,this.abR,this);this.kG=u.I("div","marged hiline");var b="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var Y=0;Y<b.length;Y++){var h=this.yh.LV[b[Y]].Z;this.kG.appendChild(h)}this.kn=new cf("patternFill",!0);
this.kn.parent=this;this.kn.O(w.E.w,this.aqR,this);this.UF=u.I("div","marged hiline");var b=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<b.length;Y++){var h=this.kn.LV[b[Y]].Z;this.UF.appendChild(h)}this.yA={};for(var G in eZ.names){if(iq[G]==null)continue;
this.yA[G]=new iq[G];this.yA[G].O(w.E.w,this.a67,this);this.yA[G].parent=this}var H=this.auL=u.I("div","marged hiline");
this.Ni=new bu(0,!0);H.appendChild(this.Ni.Z);this.Ni.O(w.E.w,this.tk,this);this.aaf=null;this.Wq=new kd;
this.Wq.parent=this;this.Wq.O(w.E.w,this.tk,this);H.appendChild(this.Wq.Z)};ks.qZ.prototype=new dQ;ks.qZ.prototype.aaL=function(b){var h=this.Du.l(),G=this.EI,H=new io(h[0],h[1],h[2],h[3]);
if(H.TW(G))return;this.EI=H;var B=new hb(w.E.r,!0);if(G.j==H.j&&G._==H._){B.S=E.rQ;B.data={q:"trsl",GX:H.x-G.x,AQ:H.y-G.y}}else{B.S=E.E4;
B.data={q:"scl",VH:[2,4],P:new cJ(H.j/G.j,H._/G._),ok:0}}this.Q(B)};ks.qZ.prototype.Vb=function(b,h){var G=this.yA;
for(var H in G)G[H].Vb(b,h)};ks.qZ.prototype.Hg=function(b){var h=this.rX,G=h.R[h.T[0]],H=eZ.get(G.add);
this.Ru.k(gY.Az(H));this.a67()};ks.qZ.prototype.a=function(){for(var b in this.yA)this.yA[b].a();this.yh.a();
this.kn.a();this.Wq.a();this.Ni.a();this.A2.a();this.Du.a()};ks.qZ.prototype.tk=function(b){var h=new hb(w.E.r,!0),G=this.Ni.l(),H=this.aaf;
if(b.target==this.Ni&&G[2]==H[2]&&G[3]==H[3]){h.S=E.rQ;h.data={q:"trsl",GX:G[0]-H[0],AQ:G[1]-H[1]}}else{var B=C.OG(new io(G[0],G[1],G[2],G[3])),j=this.Wq.aqA();
j.artboardRect={t:"Objc",v:B};var s=this.rX,q=s.R[s.T[0]],Q=q.add.artb.guideIndeces;if(Q)j.guideIndeces=JSON.parse(JSON.stringify(Q));
h.S=E.nc;h.data={q:C.fp,Vu:j}}this.Q(h)};ks.qZ.prototype.alr=function(b){var h=this.rX,G=h.T[0];if(h.R[G].add.SoCo==null)return;
var H=JSON.parse(JSON.stringify(h.R[G].add.SoCo));H.Clr.v=this.Kn.l();this.zp({Z_:1,Tf:H})};ks.qZ.prototype.abR=function(b){var h=this.rX,G=h.T[0];
if(h.R[G].add.GdFl==null)return;this.zp({Z_:2,Tf:this.yh.l()})};ks.qZ.prototype.aqR=function(b){this.zp({Z_:3,Tf:this.kn.l()})};
ks.qZ.prototype.zp=function(b){this.aDy(E.nc,{q:C.XJ,UQ:[this.rX.T[0]],OI:!0,P:b})};ks.qZ.prototype.a67=function(b){this.aDy(E.ig,{q:"edit_layer",P:this.Ru.l()})};
ks.qZ.prototype.aDy=function(b,h){var G=new hb(w.E.r,!0);G.S=b;G.data=h;this.Q(G)};ks.qZ.prototype.Fd=function(b,h){var G=bp.get([0,3]),H=!1,B=!1,j=null;
this.rX=b;if(b&&b.R.length>0&&b.T.length!=0&&b.R[b.T[0]]){var s=b.R[b.T[0]],q=eZ.get(s.add);if(q!=null&&this.yA[q]!=null){j=this.yA[q].Z;
this.Ru=this.yA[q];this.yA[q].k(JSON.parse(JSON.stringify(s.add[q])));if(b.T[0]!=this.adl){var Q=b.Nw(b.T[0]-1);
this.aBQ=e.fl(Q)}this.yA[q].qQ(this.aBQ);G=bp.get(eZ.names[q]);H=!0}if(q==null&&s.add.artb==null){var a=this.EI=e.N.lZ(E.Y.Ki(b));
B=!a.Zx();var l=b.o2();a.x-=l.x;a.y-=l.y;this.Du.k([a.x,a.y,a.j,a._],[b.O4,b.j,this.Cc.x$.Bl])}if(s.add.SoCo){j=this.AX;
this.Kn.k(s.add.SoCo.Clr.v);G=bp.get([6,48,0,0])}if(s.add.GdFl){j=this.kG;this.yh.update(b,s.add.GdFl);
G=bp.get([6,48,0,1])}if(s.add.PtFl){j=this.UF;this.kn.update(b,s.add.PtFl);G=bp.get([6,48,0,2])}if(s.add.artb){var U=s.add.artb,N=s.Ey();
j=this.auL;this.Wq.am2(U);var R=this.aaf=[N.x,N.y,N.j,N._];this.Ni.k(R,[b.O4,b.j,this.Cc.x$.Bl]);G=bp.get([1,16,0])}this.adl=b.T[0]}if(j!=this.p7){if(this.p7)this.Z.removeChild(this.p7);
if(j!=null)this.Z.appendChild(j);this.p7=j}this.ab3.k(G);this.A2.Z.style.display=H?"":"none";this.Du.Z.style.display=B?"":"none"};
ks.qZ.prototype.rN=function(b,h){this.Cc=b;this.yh.rN(b,h);this.kn.rN(b,h);if(h==ec.dH)this.Fd(this.rX,b);
for(var G in this.yA)this.yA[G].rN(b,h)};ks.fg=function(){dQ.call(this);this.Z=u.I("div","form");this.rX=null;
this.mw=0;var b=u.I("span","fitem");this.Z.appendChild(b);this.Kr=[new gX([6,2]),new gX([6,3]),new gX([6,50])];
for(var Y=0;Y<this.Kr.length;Y++){var h=this.Kr[Y];h.O("click",this.adi,this);b.appendChild(h.Z)}this.pA=new cm([12,74],0,255);
this.pA.O(w.E.w,this.hO,this);this.Z.appendChild(this.pA.Z);this.fV=new cm([7,6],0,500,"px",2,!0);this.fV.O(w.E.w,this.hO,this);
this.Z.appendChild(this.fV.Z);this.A9=new gX([4,11],null,null,!0);this.A9.O("click",this.a6E,this)};
ks.fg.prototype=new dQ;ks.fg.prototype.a6E=function(){var b=new hb(w.E.r,!0);b.S=E.ig;b.data={q:"start",xU:"nvrt"};
this.Q(b)};ks.fg.prototype.hO=function(b){var h=this.pA.l(),G=this.fV.l(),H=new hb(w.E.r,!0);H.S=E.nc;
H.data={q:C.d_,UO:this.rX.T[0],Fc:{ib:this.mw,pA:h,fV:G}};this.Q(H)};ks.fg.prototype.a=function(){for(var Y=0;
Y<this.Kr.length;Y++)this.Kr[Y].a();this.pA.a();this.fV.a();this.A9.a()};ks.fg.prototype.Fd=function(b){this.rX=b;
this.K1()};ks.fg.prototype.adi=function(b){this.K1(this.Kr.indexOf(b.currentTarget));this.parent.arK(this.mw)};
ks.fg.prototype.K1=function(b){var h=this.rX,G=this.Kr;for(var Y=0;Y<3;Y++){var H=G[Y];H.rL();H.ay()}if(h==null||h.R.length==0||h.T.length==0||h.R[h.T[0]]==null)return;
var B=-1,j=h.R[h.T[0]];if(j.Ag()&&j.T0(h).u!=null){G[2].db();B=2}if(j.add.vmsk){G[1].db();B=1}if(j.Y1()){G[0].db();
B=0}if(b!=null)B=b;else if(j.ZB)B=1;else if(j.nD==3)B=2;else if(j.nD==1)B=0;this.mw=B;if(B==-1){this.pA.ay();
this.fV.ay();return}var s=j.XI(B);this.pA.db();this.fV.db();this.pA.k(s.pA);this.fV.k(s.fV);G[B].zr();
var q=this.A9.Z;if(B==0)this.Z.appendChild(q);else if(q.parentNode==this.Z)this.Z.removeChild(q)};ks.$h=function(){dQ.call(this);
this.Z=u.I("div","form");this.x4=null;this.Cc=null;this.EH=-1;this.Du=new bu(0,!1);this.lI=new cm([12,15],-180,180,"\xB0",2);
this.E9=new bu(1,!0);this.JU=new cm([12,94,0],0,100,null,2);this.ak=new cm([12,78],3,30);this.Jm=new gX(["\u279C  ",[12,76,0]],null,null,!0);
this.Du.O(w.E.w,this.LS,this);this.lI.O(w.E.w,this.LS,this);this.E9.O(w.E.w,this.LS,this);this.JU.O(w.E.w,this.LS,this);
this.ak.O(w.E.w,this.LS,this);this.Jm.O("click",this.LS,this)};ks.$h.prototype=new dQ;ks.$h.prototype.a=function(){this.Du.a();
this.lI.a();this.E9.a();this.JU.a();this.ak.a()};ks.$h.prototype.LS=function(b){var h=this.x4,G=e.Bs.Kt(h),H=b.target.l(),B=[this.Du,this.lI,this.E9,this.JU,this.ak,this.Jm].indexOf(b.target);
if(B==0){var j=h.o2(),s=[],q=s[0]=H[0]+j.x,Q=s[1]=H[1]+j.y;s[2]=q+H[2];s[3]=Q+H[3];H=s}if(B==1)H=H*Math.PI/180;
var a={0:1,1:2,2:3,3:3,4:4}[B];G[a]=H;var l=new hb(w.E.r,!0);l.S=E.nc;l.data={q:C.UH,P:G,agj:B==5};this.Q(l)};
ks.$h.prototype.Fd=function(b){var h=this.Z;this.x4=b;if(b==null)return;var G=this.Cc,H=[b.O4,b.j,G.x$.Bl],B=e.Bs.Kt(b),j=B[0],s=B[1];
if(s==null)return;var q=j!=this.EH;this.EH=j;if(q)u._I(h);if(q)h.appendChild(this.Du.Z);if(q)h.appendChild(this.lI.Z);
var Q=b.o2();this.Du.k([s[0]-Q.x,s[1]-Q.y,s[2]-s[0],s[3]-s[1]],H);this.lI.k(B[2]*180/Math.PI);if(j==2){if(q)h.appendChild(this.E9.Z);
var a=B[3];this.E9.k(a,H)}if(j==7||j==8){if(q)h.appendChild(this.JU.Z);this.JU.k(B[3])}if(j==8){if(q)h.appendChild(this.ak.Z);
this.ak.k(B[4])}h.appendChild(this.Jm.Z)};ks.$h.prototype.rN=function(b,h){this.Cc=b;this.Fd(this.x4)};
function jA(b){jd.call(this,b.name,!0);this.tR=b;this.sV=null;this.Eu=new aH(this.LJ);this.Eu.parent=this}jA.prototype=new jd;
jA.p$=function(){var b=document.createElement("canvas"),h=document.createElement("canvas"),G=16,H=e.U(16*16*4);
e.L0(H,G,G,8);var B=e.scale.a7(H,G,G);return{tQ:b,CQ:h,q5:b.getContext("2d",{willReadFrequently:!0}),Sq:h.getContext("2d"),LA:B}}();
jA.prototype.aj7=function(){if(this.tR.wz())return window.confirm(bp.get([22,6,3])+" "+this.tR.name+". "+bp.get([22,6,4]));
return!0};jA.prototype.rN=function(b,h){this.sV=b};jA.prototype.Fd=function(b){this.cl();this.BL()};
jA.prototype.Vb=function(b,h){if(b<=0||h<=0)return;this.Ps=b;this.CN=h;var G=this.tR,H=jA.p$,B=u.V();
G.s.q5.j=Math.floor(b*B);G.s.q5._=Math.floor(h*B);u.Xn(H.tQ,b,h);u.Xn(H.CQ,b,h);u.Xn(cG.tM(),b,h);if(G.s.D==0)G.s.D=E.Qf.Mk(G.j,G._,b*B,h*B);
this.BL()};jA.prototype.cl=function(){var b=this.LJ.firstChild,h=jA.p$,G=cG.pl&&fq==0;if(!G&&b==cG.tM()||G&&b==h.tQ)this.LJ.removeChild(b);
var H=G?cG.tM():h.tQ;if(!u.Pg(H))this.LJ.appendChild(H)};jA.prototype.BL=function(){if(this.sV==null)return;
var b=this.tR,h=cG.pl&&fq==0;if(h)this.ady();else this.r_()};jA.prototype.ady=function(){if(cG.pl&&jA.uJ==null){var b=jA.uJ=[],h=[0,2,8,32,128];
for(var Y=0;Y<5;Y++)b[Y]=[new jA.nv(!1,h[Y],!1),new jA.nv(!0,h[Y],!1)];b.push([new jA.nv(!1,0,!0),new jA.nv(!0,0,!0)])}var G=this.tR,H=jA.p$,S,y=0,I,k;
if(G.et==null)return;var B=G.s,j=B.q5.j,s=B.q5._,q=cG.ZI;H.q5.clearRect(0,0,j,s);var Q=this.amZ(G);if(B.j0==null||B.j0.j!=j||B.j0._!=s)B.j0=new cG.Bh(j,s);
if(Q){var a=Date.now(),l=s,U=new Uint8Array(H.q5.getImageData(0,0,j,l).data.buffer);B.j0.set(U,new io(0,0,j,l));
this.CT=!0}else if(this.sV.EW){if(this.CT){cG.UK(B.j0);cG.K6(1);this.CT=!1}var N=e.VJ.GC,U=new Uint8Array(G.s.WL.data.buffer);
B.j0.set(U,new io(0,0,N,s));var U=new Uint8Array(G.s.jH.data.buffer);B.j0.set(U,new io(0,0,j,N));var U=new Uint8Array(H.q5.getImageData(0,s-N,j,N).data.buffer);
B.j0.set(U,new io(0,s-N,j,N));this.CT=!0}else if(this.CT){cG.UK(B.j0);cG.K6(1);this.CT=!1}var R=B.yF(0,0);
if(jA.a8P==null)jA.a8P=new Float32Array(4*1024);var g=[0,0,0,0],i=jA.a8P;if(G.add.artd){i.fill(0);g=jA.t_(G);
var o=G.j,v=G._,$=0;for(var Y=0;Y<G.R.length;Y++){var Z=G.R[Y],W=Z.add.artb;if(W==null||!Z.yY())continue;
var d=Z.Ey();i[y]=d.x/o;i[y+1]=d.y/v;i[y+2]=d.j/o;i[y+3]=d._/v;y+=4;if(y==i.length)break}if(y>2*4)$++;
if(y>8*4)$++;if(y>32*4)$++;S=jA.uJ[$+1];i=new Float32Array(i.buffer,0,[2,8,32,128][$]*4)}else S=jA.uJ[G.hy?5:0];
var _=G.Lu();if(_==null)S=S[0];else{S=S[1];k=_[G.add.fcmy==1?6:4];I=_[2]}cG.apM(j,s);cG.K6(0);cG.apM(j,s);
S.TF();var D=new eq;D.scale(j,s);D.concat(B.si(!0));D.scale(1/G.j,1/G._);var A=[D.G,D.J,0,D.YW,D.tW,0,D.Kv,D.d0,1];
S.Y7(B.j0.P9,G.et.P9,new Float32Array(A),new Float32Array([j/8,s/8,R.x/j,R.y/s]),G.j,G._,1/G.s.D,j,s,new Float32Array(g),i,new Float32Array(e.G4.BF(e.G4.aEO(B.M))),k,I);
q.drawArrays(q.TRIANGLES,0,6)};jA.t_=function(b){return[0,0,0,0]};jA.agA=function(b){var h=e.F.an(b.v),G=[h.$/255,h.B/255,h.J/255,1];
for(var Y=0;Y<4;Y++)G[Y]=Math.min(1,G[Y]);return G};jA.NC=function(b,h){var G=b[2]*255;if(cG.pl)G=h?0:Math.max(2,G);
return"rgba("+b[0]*255+","+b[1]*255+","+G+","+b[3]+")"};jA.kx=function(b){var h=b.length;if(cG.pl)for(var Y=0;
Y<h;Y+=4){if(b[Y+2]==0)b[Y+2]=3}};jA.prototype.r_=function(){var b=this.tR,h=jA.p$;if(fq==0&&b.buffer==null)return;
var G=b.s,H=G.q5,B=H.j,j=H._,s=new io(0,0,b.j,b._);h.Sq.clearRect(0,0,B,j);h.q5.clearRect(0,0,B,j);var q=b.add.prvw==0;
if(fq==1&&q){h.q5.fillStyle="white";h.q5.fillRect(-5e3,-5e3,2e4,2e4)}var Q=G.si(!0),a=Q.clone();a.Q6();
if(b.add.artd==null){h.q5.save();var l=a.At(new cJ(0,0));a.translate(-l.x,-l.y);h.q5.translate(Math.round(l.x),Math.round(l.y));
h.q5.fillStyle=fq==0?h.LA:"#ffffff";if(b.hy)h.q5.fillRect(-5e3,-5e3,2e4,2e4);else{var U=b.add.arts;if(fq==1)for(var Y=0;
Y<U.length;Y++){var N=e.N.MP(U[Y].rc);this.z8(e.N.Q0(N),a,h.q5);if(q)h.q5.stroke();else h.q5.fill()}else{this.z8(e.N.Q0(s),a,h.q5);
h.q5.fill()}}h.q5.restore()}else{h.q5.fillStyle=jA.NC(jA.t_(b));h.q5.fillRect(0,0,B,j);h.q5.save();h.q5.setTransform(a.G,a.J,a.YW,a.tW,a.Kv,a.d0);
var R=b.root.children;for(var Y=0;Y<R.length;Y++){var S=R[Y].o;if(S.add.artb==null||!S.yY())continue;
var g=S.Ey(),i=S.C7();if(i!=0)continue;h.q5.fillStyle=h.LA;h.q5.save();h.q5.scale(1/G.D,1/G.D);h.q5.fillRect(G.D*g.x,G.D*g.y,g.j*G.D,g._*G.D);
h.q5.restore()}h.q5.restore()}if(G.Ut.length!=H.X()){G.Ut=e.U(H.X());G.Mb=e.U(H.X()*4)}G.Mb.fill(0);
if(fq==1){var a=G.si(!0);a.Q6();h.q5.save();var y=e.N.Q0(G.q5);e.N.h(y.m,G.si(!0),y.m);var N=e.N.sm(y.m);
h.q5.setTransform(a.G,a.J,a.YW,a.tW,a.Kv,a.d0);b.root.tq(b,h.q5,this.sV,N);h.q5.restore()}else{e.scale.aBd(b.buffer,s,Q,G.Mb,H,b.hy);
var o=b.Lu();if(o)ICC.U.applyLUT(o[b.add.fcmy==1?5:3],o[2],G.Mb,G.Mb);if(G.M[0]+G.M[1]+G.M[2]!=3)e.G4.avk(G.Mb,G.Mb,e.G4.aEO(G.M));
h.Sq.putImageData(new ImageData(new Uint8ClampedArray(G.Mb.buffer),H.j,H._),0,0);h.q5.drawImage(h.CQ,0,0);
h.q5.getImageData(0,0,1,1)}this.amZ(b)};jA.prototype.amZ=function(b){var h=b.s,G=h.M[0]+h.M[1]+h.M[2],H=jA.p$,B=!1,j=[];
for(var Y=0;Y<b.T.length;Y++){var s=b.R[b.T[Y]];if(s==null)continue;var q=s.nD;if(q!=1&&q!=3)continue;
var Q=q==1?s.Y1():s.T0(b).u;if(Q.Da)j.push(Q)}for(var Y=0;Y<b.$B.length;Y++)if(b.$B[Y].Da)j.push(b.$B[Y]);
for(var Y=0;Y<j.length;Y++){var Q=j[Y];this.ao6(Q,h,j.length==1&&G==0?2:1,Q.color,Q.UT);B=!0}var a=this.sV;
B=this.a4E(b,H.q5,h,j.length!=0)||B;if(b.e&&a.U9&&a.x$.Vo){this.ao6(b.e,h,0,0,null);B=!0}return B};jA.prototype.ao6=function(b,h,G,H,B){var j=0;
if(B)j=Math.round(B.J)<<16|Math.round(B.B)<<8|Math.round(B.$);var s=h.si(!0),q=h.q5,Q=new io(0,0,h.tR.j,h.tR._),a=jA.p$;
if(h.Mb==null||h.Mb.length!=q.X()*4){h.Ut=e.U(q.X());h.Mb=e.U(q.X()*4)}h.Ut.fill(H);h.Mb.fill(0);var l=b.channel,U=b.rect;
e.scale.h(l,U,s,h.Ut,q);if(G==0){var N=new Uint32Array([4278190080,4294967295]);jA.kx(new Uint8Array(N.buffer));
e.e.amG(h.Ut,h.Mb,q,N,u.V()>1.9)}else{var R=Date.now();e.e.ai9(h.Ut,h.Mb,q,G,j);jA.kx(h.Mb)}var S=new ImageData(new Uint8ClampedArray(h.Mb.buffer),q.j,q._);
a.Sq.putImageData(S,0,0);a.q5.save();if(G!=0){var g=new io(0,0,Q.j,Q._),i=s.clone();i.Q6();this.z8(e.N.Q0(g),i,a.q5);
a.q5.clip()}a.q5.drawImage(a.CQ,0,0);a.q5.restore()};jA.prototype.a4E=function(b,h,G,H){var B=b.A.yW!=null||b.A.wY!=null||b.A.$D!=null||b.A.VE!=null||b.A.kF.length!=0||b.A.sn.length!=0,j=this.sV,s=j.x$,q=af.AV[j.Ys],Q=Math.round(12*u.V()),a=Q/b.s.D,l=G.si(!0);
l.Q6();h.save();h.setTransform(l.G,l.J,l.YW,l.tW,l.Kv,l.d0);var U=jA.t_(b)[0];U=U<.5?U+.5:U-.5;U=""+Math.round(U*255).toString(16);
while(U.length<2)U="0"+U;h.font=a+"px sans-serif";if(b.add.artd){h.fillStyle="#"+U+U+U;for(var Y=0;Y<b.R.length;
Y++){var N=b.R[Y];if(N.add.artb==null||!N.yY())continue;var R=N.Ey();h.save();h.beginPath();h.rect(R.x,R.y-2*a,R.j,2*a);
h.clip();h.fillText(N.getName(),R.x+2,R.y-a*.7);h.beginPath();h.restore();B=!0}}if(b.add.arts&&j.vu==E.fz){var S=b.add.arts;
for(var Y=0;Y<S.length;Y++){var R=S[Y],g=e.N.MP(R.rc),i=(Y+1+"").padStart(2,"0");i+=" - "+R.Lw;h.save();
h.beginPath();h.fillStyle=R.T?"#cce6ff":"#dddddd";h.rect(g.x,g.y,h.measureText(i).width+a,a*1.5);h.fill();
h.fillStyle="black";h.fillText(i,g.x+a/2,g.y+a*1.1);h.restore()}B=!0}function y(f0){return f0==1||f0==2||f0==4||f0==5}var o=jA.NC([.3,.5,1,1]),v=jA.NC([1,1,1,1]);
if(j.U9&&s.N6){h.fillStyle=h.strokeStyle=o;h.lineWidth=1.5/G.D;var Z=b.wV(),W=Z[0],d=Z[1];for(var $=0;
$<d.length;$++){var N=W[d[$]],I=N.add.vmsk,k=I.d,_=e.N.nT(k);this.z8(_,null,h);h.stroke();B=!0;var D=3*u.V()/G.D;
for(var Y=0;Y<I.VD.length;Y++){var A=e.n.aeA(k,I.VD[Y]);if(A==null)continue;var F=A.x,K=A.y;h.beginPath();
var V=Y==0;if(I.Wa)V=!V;if(V){h.moveTo(F-D,K-D);h.lineTo(F+D,K+D);h.moveTo(F-D,K+D);h.lineTo(F+D,K-D);
h.stroke()}else{h.arc(F,K,D*1,0,2*Math.PI);h.fill()}B=!0}if(b.T.length!=1)continue;var r=-1,c=-1,x=-1;
for(var Y=0;Y<k.length;Y++){if(k[Y].type>5)continue;if(k[Y].type==0||k[Y].type==3){c=Y+1;x=k[Y].length;
if(k[Y].Vj!=-1)r++;continue}if(I.T.indexOf(r)!=-1){var F=k[Y].v.x,K=k[Y].v.y;h.fillRect(F-D*.8,K-D*.8,2*D*.8,2*D*.8)}if(I._B.indexOf(Y)!=-1){var X=k[Y],M=[X.v];
h.beginPath();h.moveTo(X.o$.x,X.o$.y);h.lineTo(X.v.x,X.v.y);h.lineTo(X.PY.x,X.PY.y);var f=c+(Y+x-c-1)%x,t=c+(Y+x-c+1)%x,n=k[f],L=k[t];
if(n&&y(n.type)&&I._B.indexOf(f)==-1){h.moveTo(n.v.x,n.v.y);h.lineTo(n.PY.x,n.PY.y);M.push(n.PY)}if(L&&y(L.type)&&I._B.indexOf(t)==-1){h.moveTo(L.v.x,L.v.y);
h.lineTo(L.o$.x,L.o$.y);M.push(L.o$)}h.stroke();if(!X.v.TW(X.o$))M.push(X.o$);if(!X.v.TW(X.PY))M.push(X.PY);
for(var P=0;P<M.length;P++){var A=M[P],F=A.x,K=A.y;if(P==0&&(X.type==2||X.type==5))h.fillRect(F-1.2*D,K-1.2*D,2.4*D,2.4*D);
else{h.beginPath();h.arc(F,K,D*1.2,0,2*Math.PI);h.fill();if(P!=0)h.fillStyle=v;h.beginPath();h.arc(F,K,D*.8,0,2*Math.PI);
h.fill();h.fillStyle=o}}}B=!0}}}h.lineWidth=1/G.D;if(b.A.Dz){h.fillStyle=h.strokeStyle=o;var L={m:[],Gc:[]},z=jA.asn;
if(z==null){z=jA.asn={m:[1,0],Gc:["M"]};for(var Y=1;Y<30;Y++){var T=Math.PI*2*Y/30;z.m.push(Math.cos(T),Math.sin(T));
z.Gc.push("L")}z.Gc.push("Z","M","L","M","L");z.m.push(-.5,0,.5,0,0,-.5,0,.5)}for(var Y=0;Y<b.A.Dz.length;
Y++){var n=E._7.afo(b.A.Dz[Y],G),p=new eq(n[0],0,0,n[0],n[1],n[2]);e.N.concat(L,z,p)}this.z8(L,null,h);
h.stroke();B=!0}var m=new eq(1,0,0,1,.5/G.D,.5/G.D);if(b.hy){h.fillStyle=h.strokeStyle=o;var L={m:[0,0,b.j,0,b.j,b._,0,b._],Gc:["M","L","L","L","Z"]};
this.z8(L,m,h);h.stroke();B=!0}if(b.A.JS){h.fillStyle=h.strokeStyle=jA.NC([0,0,0,.5]);this.z8(b.A.JS,null,h,!0);
h.fill("evenodd")}h.strokeStyle=o;h.fillStyle=v;if(b.A.$D){this.z8(b.A.$D,m,h);h.stroke()}var O=jA.j6(b.A.Kx,h,G);
h.fill();h.stroke();B=B||O;h.fillStyle=h.strokeStyle=jA.NC([0,0,0,cG.pl&&fq==0?1:.5],!0);if(b.A.yW){this.z8(b.A.yW,null,h);
h.fill()}if(b.A.wY){this.z8(b.A.wY,m,h);h.stroke()}for(var cb in b.A.D_)if(b.A.D_[cb].wY){this.z8(b.A.D_[cb].wY,null,h);
h.stroke();B=!0}var O=jA.j6(b.A.fj,h,G);h.stroke();B=B||O;if(b.A.QZ){this.z8(b.A.QZ,m,h);h.strokeStyle="rgba(0,0,0,0.5)";
h.lineWidth=u.V()*2.5/G.D;h.stroke();h.strokeStyle="white";h.lineWidth=u.V()*2/G.D;h.stroke()}if(b.A.qA.length+b.A.qG.length+b.A.ir.length!=0){B=!0;
h.fillStyle=v;jA.jo(b.A.qA,h,G,6);h.fill();jA.jo(b.A.qG,h,G,6);h.fill();h.fillStyle=o;jA.jo(b.A.qA,h,G,4);
h.fill();jA.jo(b.A.ir,h,G,4);h.fill();h.fillStyle=jA.NC([.7,.7,.7,1]);jA.jo(b.A.qG,h,G,4);h.fill()}if(b.A.kF.length!=0){for(var Y=0;
Y<b.A.kF.length;Y++){var cX=b.A.kF[Y],e$=cX[1],fz;if(H){fz=h.getImageData(e$.x,e$.y,e$.j,e$._);e.z.Nm("norm",cX[0],e$,new Uint8Array(fz.data.buffer),e$,e$,1)}else fz=new ImageData(new Uint8ClampedArray(cX[0].buffer),e$.j,e$._);
h.putImageData(fz,e$.x,e$.y)}}var eC=.5/G.D;h.lineWidth=1/G.D;if(b.A.el){B=!0;var hw=b.A.el,az=hw.Jb,_={Gc:[],m:[]};
for(var Y=0;Y<hw.Jc.length;Y++)e.N.concat(_,e.N.Q0(hw.Jc[Y]));_.m=_.m.concat(az);for(var Y=0;Y<az.length;
Y+=4){_.Gc.push("M","L")}for(var Y=0;Y<_.m.length;Y++){_.m[Y]+=eC}h.strokeStyle=jA.NC([.9,.2,.2,1]);
this.z8(_,null,h);h.stroke();var av=u.V(),ia=2/G.D;h.font=a*.9+"px sans-serif";for(var Y=0;Y<az.length;
Y+=4){var F=az[Y],K=az[Y+1],iJ=az[Y+2],cx=az[Y+3],hP=Math.sqrt((cx-K)*(cx-K)+(iJ-F)*(iJ-F));hP=e.VJ.x3(hP,b.O4,j,K==cx?b.j:b._);
var iS=new cJ((F+iJ)/2,(K+cx)/2);h.fillStyle=jA.NC([.9,.2,.2,1]);var e4=h.measureText(hP).width;h.fillRect(iS.x-e4/2-ia*av,iS.y-3.5*ia*av,e4+2*ia*av,7*ia*av);
h.fillStyle=jA.NC([1,1,1,1]);h.save();h.translate(iS.x-e4/2,iS.y+2*ia*av);h.scale(.1,.1);h.font=a*9+"px sans-serif";
h.fillText(hP,0,0);h.restore()}}if(j.U9){if(s.DL&&b.s.D>10&&fq==0){this.L0(b,h,1,1,.25,s.RA,16777215);
B=!0}if(s.XC){var cc=e.VJ.nB(s.MM,b.O4,b.j,s.Ob),aO=cc;if(s.Ob==4)aO*=b._/b.j;this.L0(b,h,cc,aO,1,s.RA,s.sZ);
B=!0}if(s.bE){var bZ=b.Wb(),d_=b.t2(),ee=Math.max(b.s.q5.j,b.s.q5._)/b.s.D;ee=Math.max(Math.max(b.j,b._)*2,ee);
for(var Y=0;Y<bZ[0].length;Y++){var b4=bZ[0][Y],hA=bZ[1][Y];if(hA!=-1&&hA!=d_)continue;var f$=G.yF(b4[1],b4[1]),e_=G.Fj(Math.floor(f$.x)+.5,Math.floor(f$.y)+.5),fJ=e.M5(hA==-1?s.am:s.mC);
fJ=[fJ.$/255,fJ.B/255,fJ.J/255,1];h.beginPath();h.strokeStyle=jA.NC(fJ);if(b4[0]==0){var dV=e_.x;h.moveTo(dV,-ee);
h.lineTo(dV,ee)}else{var ix=e_.x;h.moveTo(-ee,ix);h.lineTo(ee,ix)}h.stroke();B=!0}}var b9=b.Gn;if(b9.length>0&&j.vu==E.asQ){var e$=7/b.s.D,hV=e$/3,gq=e$*4;
h.strokeStyle=h.fillStyle="black";for(var Y=0;Y<b9.length;Y++){var eH=b9[Y];h.fillRect(eH.x-.5*hV,eH.y-.5*gq,hV,gq);
h.fillRect(eH.x-.5*gq,eH.y-.5*hV,gq,hV);h.lineWidth=2.5/b.s.D;h.beginPath();h.arc(eH.x,eH.y,e$,0,2*Math.PI);
h.stroke();h.font=1.9*e$+"px serif";h.lineWidth=1.25/b.s.D;h.strokeText(""+(Y+1),eH.x+.75*e$,eH.y+2.5*e$)}B=!0}var eP=b.Rd;
if(s.Rd&&eP.length!=0){h.font=a*.8+"px sans-serif";var c2=[],bL=[];for(var Y=0;Y<eP.length;Y++){var dg=E.gt.Pq(eP,Y);
c2.push(dg);if(b.qB.indexOf(Y)!=-1)bL.push(dg)}c2.reverse();var cN=Date.now();c2=e.rect.a0S([0,0,b.j,b._],c2);
for(var P=0;P<2;P++)for(var Y=0;Y<c2.length;Y++){var dH=c2[Y],r=dH[4],x=r!=null?eP[r]:null;if(x&&P==0||x==null&&P==1)continue;
var F=Math.round(dH[0]),K=Math.round(dH[1]),iJ=Math.round(dH[2]),cx=Math.round(dH[3]);h.strokeStyle=h.fillStyle=jA.NC(x?[0,.7,.7,1]:[.8,.8,.8,1]);
h.strokeRect(F+eC,K+eC,iJ-F,cx-K);var kM=Y+1,a_=h.measureText(kM),e4=a_.width;h.fillRect(F,K,e4+a/2,a);
h.fillStyle=jA.NC([1,1,1,1]);h.fillText(kM,F+a/4,K+a*.8)}var ia=2/b.s.D,g4=2*ia;for(var Y=0;Y<bL.length;
Y++){var dH=bL[Y],F=Math.round(dH[0]),K=Math.round(dH[1]),iJ=Math.round(dH[2]),cx=Math.round(dH[3]);
h.strokeStyle=h.fillStyle=jA.NC([1,.6,0,1]);h.strokeRect(F+eC,K+eC,iJ-F,cx-K);var iY=[F,K,iJ,K,iJ,cx,F,cx];
for(var fa=0;fa<iY.length;fa+=2){var dV=iY[fa],ix=iY[fa+1],ka=iY[fa+2&7],b1=iY[fa+3&7];h.fillRect(dV-ia,ix-ia,g4,g4);
h.fillRect(Math.round((dV+ka)/2)-ia,Math.round((ix+b1)/2)-ia,g4,g4)}}B=!0}var bg=b.add.Anno;if(bg&&bg.length!=0)for(var Y=0;
Y<bg.length;Y++){var cl=bg[Y],fJ=cl[2],dV=cl[0]-eC,ix=cl[1]-eC,g4=30/G.k1,c0=.4*g4,kL=.6*g4;h.beginPath();
h.moveTo(dV,ix+kL);h.lineTo(dV,ix);h.lineTo(dV+g4,ix);h.lineTo(dV+g4,ix+g4);h.lineTo(dV+c0,ix+g4);h.closePath();
h.lineTo(dV+c0,ix+kL);h.lineTo(dV+c0,ix+g4);if(Y==b.s.Q5){h.lineWidth*=5;h.strokeStyle=jA.NC([0,0,0,.5]);
h.stroke();h.lineWidth/=5}h.fillStyle=jA.NC([fJ.$/255,fJ.B/255,fJ.J/255,1]);h.fill();h.strokeStyle=jA.NC([0,0,0,1]);
h.stroke()}}h.strokeStyle=jA.NC([1,0,0,1]);if(b.A.VE){this.z8(b.A.VE,m,h);h.stroke()}h.restore();if(j.EW){if(b.s.jH==null||b.s.jH.width!=b.s.q5.j||b.s.WL.height!=b.s.q5._){b.s.jH=h.createImageData(b.s.q5.j,e.VJ.GC);
b.s.WL=h.createImageData(e.VJ.GC,b.s.q5._)}var q=af.AV[j.Ys],c_=0,cA=0,aw=b.j,kq=b._;if(b.t2()!=-1){var R=b.R[b.t2()].Ey();
c_=R.x;cA=R.y;aw=R.j;kq=R._}c_*=G.D;cA*=G.D;var G=b.s,f4=[1,b.O4,b.O4/2.54,b.O4/25.4,aw/100][s.Bl],gF=G.D*b.j/2,fm=G.D*b._/2,aP=[G.D*f4,new cJ(G.f.x+(c_+gF*f4-gF),G.f.y+(cA+fm*f4-fm))];
if(s.Bl==4)f4*=kq/aw;var hh=[G.D*f4,new cJ(G.f.x+(c_+gF*f4-gF),G.f.y+(cA+fm*f4-fm))],gW=this.Eu.mM;e.VJ.ajI(G,q["--text-color"],q["--bg-input"],Math.floor(gW.x),Math.floor(gW.y),aP,hh,s.Bl==1?8:10);
var cg=ep.ag2(G.D,jA.NC([1,1,1,1]),b.j,b._);jA.kx(b.s.WL.data);jA.kx(b.s.jH.data);h.putImageData(b.s.WL,0,0);
h.putImageData(b.s.jH,0,0);h.putImageData(cg,0,b.s.q5._-cg.height)}if(b.A.sn.length!=0){for(var Y=0;
Y<b.A.sn.length;Y++){var cX=b.A.sn[Y],e$=cX[1];h.putImageData(new ImageData(new Uint8ClampedArray(cX[0].buffer),e$.j,e$._),e$.x,e$.y)}}return B};
jA.prototype.L0=function(b,h,G,H,B,j,s){while(G*b.s.D<4){G*=2;H*=2}var q=b.j,Q=b._,a=.5/b.s.D;s=e.M5(s);
h.strokeStyle=jA.NC([s.$/255,s.B/255,s.J/255,B],!1);h.save();h.rect(0,0,q,Q);h.clip();h.beginPath();
for(var l=0;l<=q;l+=G){h.moveTo(l+a,0);h.lineTo(l+a,Q)}if(j==0){for(var U=0;U<=Q;U+=H){h.moveTo(0,U+a);
h.lineTo(q,U+a)}}else{H*=Math.sqrt(4/3);var N=H*Math.floor(q/H),R=q*(H/(2*G));for(var U=-N;U<=Q+N;U+=H){h.moveTo(0,U);
h.lineTo(q,U-R);h.moveTo(0,U);h.lineTo(q,U+R)}}h.stroke();h.restore()};jA.jo=function(b,h,G,H){h.beginPath();
var B=H*u.V()/G.D,j=!1;for(var Y=0;Y<b.length;Y+=2){j=!0;var s=b[Y],q=b[Y+1];h.moveTo(s+B,q);h.arc(s,q,B,0,2*Math.PI)}return j};
jA.j6=function(b,h,G,H){h.beginPath();var B=(H?H:1)*(4*u.V()+.5)/G.D,j=!1;for(var Y=0;Y<b.length;Y+=2){j=!0;
var s=b[Y],q=b[Y+1];h.rect(s-B,q-B,2*B,2*B)}return j};jA.YZ=function(b,h,G,H){G.beginPath();if(H)G.rect(-1e5,-1e5,1e6,1e6);
var B=b;if(h){B=e.N.clone(b);e.N.h(B.m,h,B.m)}Typr.U.pathToContext({cmds:B.Gc,crds:B.m},G)};jA.prototype.z8=jA.YZ;
jA.nv=function(b,h,G){cG.FB.call(this);var H=this.a7A=h!=0,B=G?"true":"in01(sCoord)",j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(b?"uniform sampler2D lut;  uniform float N;  "+cG.BR.asr:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(H?"uniform vec4 bgClr;  uniform vec4 ars["+h+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+cG.BR.ahH+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(G?"-floor(sCoord)":"")+"); \t\t\t\t"+(b?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(H?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+h+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+B+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+B+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",s="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.TR(j,s)};jA.nv.prototype=new cG.FB;jA.nv.prototype.Y7=function(b,h,G,H,B,j,s,q,Q,a,l,U,N,R){this.wN("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var S=cG.ZI,g=this.Y5;S.uniformMatrix3fv(g.tmat,!1,G);S.uniform4fv(g.gsize,H);S.uniform3f(g.contSizeZoom,B,j,s);
S.uniform2f(g.cnvSize,q,Q);S.uniformMatrix4fv(g.ctrn,!1,U);if(this.a7A){S.uniform4fv(g.ars,l);S.uniform4fv(g.bgClr,a)}S.uniform1i(g.source,0);
S.uniform1i(g.target,1);S.activeTexture(S.TEXTURE0);S.bindTexture(S.TEXTURE_2D,b);S.activeTexture(S.TEXTURE1);
S.bindTexture(S.TEXTURE_2D,h);if(N){S.uniform1f(g.N,R);S.uniform1i(g.lut,2);S.activeTexture(S.TEXTURE2);
S.bindTexture(S.TEXTURE_2D,N.P9);var i=S.LINEAR;S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,i);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,i)}S.activeTexture(S.TEXTURE0)};function gD(){jd.call(this,[9,7],!1,"---panels/layercomps",jd.nI.amE);
this.LJ.setAttribute("style","min-width:240px;");this.rX=null;this.RX=-1;this.yf=[];this._L=u.I("div","scrollable");
this._L.style.height="160px";this.LJ.appendChild(this._L);this.v8=u.I("div","lpfoot");this.LJ.appendChild(this.v8);
this.g8=[];var b=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],h=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var Y=0;Y<b.length;Y++){var G=b[Y];if(Y>0)G="<img src=\""+PIMG[b[Y]]+"\" class=\"miniscale gsicon\" />";
var H=new gX(G,!1,h[Y]);H.O("click",this.a9L,this);this.v8.appendChild(H.Z);this.g8.push(H)}}gD.prototype=new jd("");
gD.prototype.Vb=function(b,h){this.LJ.setAttribute("style","width:"+(b-2)+"px;");this._L.style.height=h-28+"px"};
gD.prototype.w0=function(b){var h=new hb(w.E.r,!0);h.data=b;h.S=E.To;this.Q(h)};gD.a6b="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
gD.prototype.a9L=function(b){var Y=this.g8.indexOf(b.currentTarget)-1;if(Y==-1){var h=new hb(w.E.b,!0);
h.data={q:w.p.um,gp:gD.a6b};this.Q(h);return}if(Y!=1)if(this.RX==-1)return;this.w0({q:["updLC","addLC","delLC"][Y],V9:this.RX});
if(Y==2)this.RX=-1};gD.prototype.a=function(){jd.prototype.a.call(this);for(var Y=0;Y<this.g8.length;
Y++)this.g8[Y].a()};gD.prototype.Fd=function(b){if(b==null)u.eS(this.LJ,"disabled");else u.Yx(this.LJ,"disabled");
this.rX=b;u._I(this._L);if(b==null)return;var h=b.AK.lastAppliedComp?b.AK.lastAppliedComp.v:0,G=b.AK.list.v.slice(0);
G.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Y=0;Y<G.length;
Y++){var H=G[Y].v,B=new bY(H.Nm.v,H.compID.v,H.capturedInfo.v,h,this.RX);B.O("activate",this.yQ,this);
B.parent=this;this._L.appendChild(B.Z);this.yf.push(B)}};gD.prototype.yQ=function(b){this.RX=b.currentTarget.V9;
this.Fd(this.rX)};function bY(b,Y,h,G,H){dQ.call(this);this.V9=Y;this.Z=u.I("div","head listitem"+(Y==H?" selected":""));
var B=Y==G,j=new gX(B?"\u2713":"\u2014");if(B)j.zr();this.Z.appendChild(j.Z);j.O("click",this.Vw,this);
var s=this.zn=u.I("span");s.textContent=b;this.Z.appendChild(s);this.g8=[];if(Y!=0){this.Z.addEventListener("mouseup",this.yQ.bind(this),!1);
this.a2Z=u.I("span","headR");this.Z.appendChild(this.a2Z);var q=["lrs/eye","pos","lrs/fx"],Q=["Visibility","Position","Appearance"];
for(var a=0;a<q.length;a++){var l=new gX("<img src=\""+PIMG[q[a]]+"\" class=\"autoscale gsicon\" />",!1,Q[a]);
if((h>>a&1)==0)l.Z.setAttribute("style","opacity:0.3");l.O("click",this.aCF,this);this.a2Z.appendChild(l.Z);
this.g8.push(l)}}}bY.prototype=new dQ;bY.prototype.yQ=function(b){if(b.target!=this.zn&&b.target!=this.Z)return;
if(b.detail==1)this.Q(new hb("activate",!1));else{var h=new jd.Nc(this.zn,this.z4.bind(this))}};bY.prototype.aCF=function(b){var Y=this.g8.indexOf(b.currentTarget);
this.w0({q:"editLC",ay7:Y,V9:this.V9})};bY.prototype.z4=function(b){this.w0({q:"editLC",f0:b,V9:this.V9})};
bY.prototype.Vw=function(b){this.w0({q:"setLC",V9:this.V9})};bY.prototype.w0=function(b){var h=new hb(w.E.r,!0);
h.data=b;h.S=E.To;this.Q(h)};function jP(){jd.call(this,[9,11],!1,"---panels/navigator",jd.nI.aAm);var b=this.LJ;
u.eS(b,"padded");b.setAttribute("style","cursor:grab;");this.cj=u.I("canvas");b.appendChild(this.cj);
u.pP(b);u.TB(this.cj);u.fm(this.cj,this.IX.bind(this));this.X2=new el(null,2,6400,"%",null,!0);this.X2.O(w.E.w,this.a0Q,this);
b.appendChild(this.X2.Z);this.as3=this.Bg.bind(this);this.asv=this.Hb.bind(this);this.x4=null;this.ht=null;
this.cv=!1}jP.prototype=new jd("");jP.prototype.Vb=function(b,h){this.Ps=b*1.2;this.CN=h*1.2;this.BL()};
jP.prototype.a0Q=function(b){var h=this.X2.l(),G=this.x4,H=h/100;if(.8<H&&H<1.2)H=1;else if(1.8<H)H=Math.round(H);
var B=new hb(w.E.r,!0);B.S=E.TC;B.data={q:"zoom",D:H};this.Q(B)};jP.prototype.IX=function(b){var h=this.x4;
if(h==null)return;this.cv=!0;u.fe(window,this.as3);u.$f(window,this.asv)};jP.prototype.Bg=function(b){var h=u.Kz(b,this.cj),G=this.x4,H=this.cj.width,B=this.cj.height,j=(h.x*u.V()-H/2)/H,s=(h.y*u.V()-B/2)/B,q=u.V()*G.s.D,Q=Math.round(-G.s.D*G.j*j),a=Math.round(-G.s.D*G._*s);
E.tg.tV(G,Q,a)};jP.prototype.Hb=function(b){u.CV(window,this.as3);u.iF(window,this.asv);this.cv=!1};
jP.prototype.Fd=function(b){if(b==null&&this.x4!=null)this.cj.width=100;this.x4=b;this.BL()};jP.prototype.a6c=function(){var b=this.x4,h=u.V(),G=E.Qf.Mk(b.j,b._,h*(this.Ps-10),h*(this.CN-36)),H=e.sL(b.Nw(),new io(0,0,b.j,b._),G);
this.ht=[H.Ur,H.rect]};jP.prototype.BL=function(){var b=this.x4;if(b==null||b.s.D==0)return;var h=b.s;
if(!u.Pg(this.LJ))return;this.X2.k(h.D*100);if(!this.cv)this.a6c();var G=this.ht[0],H=this.ht[1],B=H.j,j=H._,s=this.cj;
s.width=B;s.height=j;u.o3(s,B,j);var q=this.LJ;q.style.width=this.cj.style.width+12+"px";var Q=s.getContext("2d"),a=Q.createImageData(B,j);
e.MI(G,a.data);Q.putImageData(a,0,0);Q.getImageData(0,0,1,1);var l=h.q5,U=h.Fj(l.x,l.y),N=h.Fj(l.x+l.j,l.y+l._),R=B/b.j;
Q.scale(R,R);Q.lineWidth=4/R;Q.strokeStyle="#ff0000";Q.strokeRect(U.x,U.y,N.x-U.x,N.y-U.y)};jP.prototype.rN=function(b,h){};
jP.prototype.cl=function(){this.BL()};function eE(b,h){jd.call(this,b.name,!1,b.icon,h);this.adI=b}eE.prototype=new jd("");
eE.prototype.Yg=function(){var b=this.LJ,h=this.adI;if(!u.Pg(b)||this.O_)return;var G=this.O_=u.I("iframe");
G.setAttribute("src",h.url);this.LJ.appendChild(G)};eE.prototype.cl=eE.prototype.Fd=function(){this.Yg()};
eE.prototype.b3=function(b){if(u.Pg(this.O_))this.O_.contentWindow.postMessage(b,"*")};eE.prototype.Vb=function(b,h){if(this.O_==null)return;
this.O_.setAttribute("style","width:"+b+"px; height:"+h+"px")};function d0(){jd.call(this,[9,12],!1,"---panels/tpreset",jd.nI.v_);
this.Cc=null;this.Wd=new kc(E.pp);this.Wd.parent=this;var b=u.I("div","padded");b.setAttribute("style","width:20em");
this.LJ.appendChild(b);b.appendChild(this.Wd.Ab)}d0.prototype=new jd("");d0.prototype.cl=function(){this.Wd.Cv(this.Cc.l2)};
d0.prototype.rN=function(b,h){this.Cc=b;if(h==ec.GH||h==ec.v_)this.Wd.Cv(b.l2)};d0.prototype.Vb=function(b,h){this.Wd.anT(this.Cc.vu)};
d0.prototype.a=function(){jd.prototype.a.call(this);this.Wd.a()};var as=function(){var b=[],h=null,G=null,H=null,B=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function j(){jd.call(this,"Memory",!1,null,jd.nI.axY);var N=u.I("div","padded");this.LJ.appendChild(N);
G=new gX(["<< VAR0",[0,13,2]],!1,null,!0);G.addEventListener("click",function(R){b.pop();q()});N.appendChild(G.Z);
h=u.I("div","scrollable");h.setAttribute("style","width:20em;  height:26em; margin-top:8px;");N.appendChild(h)}j.prototype=new jd("");
j.prototype.Fd=function(N,R,S){H=R;this.cl()};j.prototype.cl=function(){G.d3(!1);if(!u.Pg(h))return;
var N={Lw:"Total:",nu:[]};for(var Y=0;Y<H.length;Y++)N.nu.push(a(H[Y]));U(N);b=[N];q()};j.prototype.a=function(){jd.prototype.a.call(this);
G.a()};function s(N){var R=N.currentTarget,Y=0;while((R=R.previousSibling)!=null)Y++;b.push(b[b.length-1].nu[Y-1]);
q()}function q(){G.d3(b.length>1);var N=b[b.length-1];u._I(h);Q(N,h,0);N.nu.sort(function(R,S){return S.SO[0]-R.SO[0]});
for(var Y=0;Y<N.nu.length;Y++)Q(N.nu[Y],h,1)}function Q(N,R,S){var g=hd.Vd,i=S!=0&&N.nu,y="margin-left:"+S*10+"px; margin-bottom:8px; padding:3px 5px;";
if(i)y+="cursor:pointer;";if(N.qp!=null)y+="background-color:rgba("+B[N.qp].join(",")+",0.2);";var o=u.I("div");
R.appendChild(o);o.setAttribute("style",y);o.innerHTML=u.Vv(N.Lw)+"<br />"+"RAM: <b>"+g(N.SO[0])+"</b>\u2001GPU: <b>"+g(N.SO[1])+"</b>";
if(i)o.addEventListener("click",s,!1)}function a(N){var R={Lw:N.name,nu:[],qp:0},S=cG.pl?1:0,g=1-S,i={Lw:"History",nu:[],qp:5};
R.nu.push(i);for(var Y=1;Y<N.history.length;Y++){var y=N.history[Y];i.nu.push({Lw:bp.get(y.name),qp:5,SO:[y.Aj(),0]})}U(i);
var i={Lw:"Final Image",SO:[N.j*N._*4,S*N.j*N._*4],qp:2};R.nu.push(i);for(var Y=0;Y<N.R.length;Y++){var o=l(N.R[Y]);
if(o.nu.length!=0)R.nu.push(o)}var v=N.add.lnk2;if(v)for(var Y=0;Y<v.length;Y++){var o=v[Y],Z={Lw:o._6,nu:[],qp:4},W=0;
Z.nu.push({Lw:"Raw file",SO:[o.raw.length,0]});if(o.P0)for(var d=0;d<o.P0.length;d+=2)W+=o.P0[d].length;
if(W!=0)Z.nu.push({Lw:"Decoded pixels",SO:[W,0]});U(Z);R.nu.push(Z)}U(R);return R}function l(N){var R={Lw:N.getName(),nu:[],qp:1},S=cG.pl?1:0,g=1-S,i=N.rect.X();
if(i!=0)R.nu.push({Lw:"Layer pixels",SO:[i*4,S*i*4]});if(N.add.lmfx&&N.Z5.Oy.type){var y=N.Z5.Oy.type,W=0;
for(var o in y){var v=0;for(var Z=0;Z<y[o].length;Z++)if(o=="ebbl"){if(y[o][Z].Vq)v+=y[o][Z].Vq.KZ.X();
if(y[o][Z].Gg)v+=y[o][Z].Gg.KZ.X();if(y[o][Z].vL)v+=y[o][Z].vL.KZ.X();if(y[o][Z].bA)v+=y[o][Z].bA.KZ.X()}else v+=y[o][Z].KZ.X();
if(v!=0)R.nu.push({Lw:bp.get(dE.names[dE.order.indexOf(o)]),SO:[g*v*4,S*v*4],qp:3})}if(N.Z5.hZ)W+=i;
if(N.Z5.by)W+=i;if(N.Z5.Jx)W+=i;if(N.Z5.Jx)W+=i;if(N.Z5.JF)W+=i;if(N.Z5.xc)W+=i;var d=N.Z5.Yw?N.Z5.Yw.length:0;
if(W+d!=0)R.nu.push({Lw:"Additional Blending Data",SO:[g*W*4+d,S*W*4]})}var $=N.Y1(),I=$?$.rect.X():0;
if(I!=0){R.nu.push({Lw:"Raster Mask",SO:[I,0]})}var $=N.add.vmsk,I=$&&$.Sb?$.Sb.rect.X():0;if(I!=0){R.nu.push({Lw:"Vector Mask",SO:[I,0]})}U(R);
return R}function U(N){N.SO=[0,0];for(var Y=0;Y<N.nu.length;Y++){N.SO[0]+=N.nu[Y].SO[0];N.SO[1]+=N.nu[Y].SO[1]}}return j}();
function bv(){jd.call(this,[9,14],!1,"---panels/notes",jd.nI.azP);this.LJ.setAttribute("style","min-width:240px;");
var b=u.I("div","padded");this.LJ.appendChild(b);this.fT=new aG("Author");b.appendChild(this.fT.Z);this.KG=u.I("textarea");
u.Yy(this.KG);b.appendChild(this.KG);var h=new gX("<<",null,null,!0);b.appendChild(h.Z);this.ada=h;var G=new gX(">>",null,null,!0);
b.appendChild(G.Z);h.O("click",this.tE,this);G.O("click",this.tE,this);var H=this.a2M=new iM("");b.appendChild(H.Z)}bv.prototype=new jd("");
bv.prototype.tE=function(b){var h=b.target==this.ada?-1:1,G=this.x4,H=G.add.Anno;if(H==null)return;var B=H.length,j=G.s.Q5;
G.s.Q5=(j+h+B)%B;G.Jg=!0;this.BL()};bv.prototype.BL=function(){var b=this.x4;if(b==null)return;var h=b.add.Anno;
if(h==null||h.length==0)return;var G=b.s.Q5,H=h[G];this.KG.value=H[4];this.a2M.k(G+1+" / "+h.length);
this.fT.k(H[3])};bv.prototype.Vb=function(b,h){if(this.Ps==b)return;this.Ps=b;h=Math.min(h,200);this.KG.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(b-10)+"px; height:"+(h-66)+"px")};
bv.prototype.Fd=function(b,h,G){this.x4=b;this.BL()};function d4(){jd.call(this,[1,16,1],!1,"---tools/artb",jd.nI.abb);
this.c3=[];this.k0=[];this.g8=[];this.fM=null;this.v8=null}d4.prototype=new jd("");d4.prototype.Yg=function(){this.fM=u.I("div","padded scrollable");
this.fM.setAttribute("style","width:260px;  height:260px");this.LJ.appendChild(this.fM);this.v8=u.I("div","lpfoot");
this.LJ.appendChild(this.v8);var b=["lrs/newlayer","lrs/bin"],h=[[15,8,2],[5,4]];for(var Y=0;Y<b.length;
Y++){var G="<img src=\""+PIMG[b[Y]]+"\" class=\"miniscale gsicon\" />",H=new gX(G,!1,h[Y]);H.O("click",this.Sw,this);
this.v8.appendChild(H.Z);this.g8.push(H)}};d4.prototype.a=function(){jd.prototype.a.call(this);if(this.fM==null)return;
for(var Y=0;Y<this.g8.length;Y++)this.g8[Y].a()};d4.prototype.Sw=function(b){var Y=this.g8.indexOf(b.currentTarget),h=new hb(w.E.r,!0);
h.S=E.fz;h.data={q:Y==0?"new":"del"};this.Q(h);if(Y==0)this.apW(this.c3.length-1)};d4.prototype.Fd=d4.prototype.cl=function(b){if(b)this.c3=b.add.arts;
if(!u.Pg(this.LJ))return;if(this.fM==null)this.Yg();this.BL(b)};d4.prototype.nt=function(b){var Y=this.k0.indexOf(b.currentTarget);
if(b.target.tagName=="BUTTON"){this.apW(Y)}var h=this.c3;for(var G=0;G<h.length;G++)h[G].T=!1;h[Y].T=!0;
this.BL()};d4.prototype.apW=function(Y){var b=new hb(w.E.b,!0);b.data={q:w.p.C9,ut:"aoptions",P:this.c3[Y]};
this.Q(b)};d4.prototype.BL=function(){u._I(this.fM);var b=this.c3,h=this.nt.bind(this);this.k0=[];for(var Y=0;
Y<b.length;Y++){var G=b[Y],H=u.I("div","layeritem"+(G.T?" selected":""));this.fM.appendChild(H);this.k0.push(H);
H.addEventListener("click",h);var B=u.I("div","head");H.appendChild(B);B.setAttribute("style","height:24px");
var j=u.I("div","headL");B.appendChild(j);var s=u.I("div","headR");B.appendChild(s);var q=u.I("div","label");
q.textContent=Y+1+". "+G.Lw;j.appendChild(q);var Q=new gX("Options",null,null,!0);s.appendChild(Q.Z)}};
function jE(){dQ.call(this);this.S=0;this.DA=null;this.Z=u.I("div","toolconf");this.Wd=null;this.FF=null;
this.body=new u.I("div","body")}jE.prototype=new dQ;jE.prototype.a8p=function(b,h){this.S=b;this.DA=h;
if(E._J[b]){var G=this.Wd=new kc(b);this.Z.appendChild(G.Z);G.parent=this}else{this.FF=u.I("div");this.Z.appendChild(this.FF)}this.Z.appendChild(this.body);
this.a()};jE.prototype.alA=function(b,h){};jE.prototype.ahj=function(b){};jE.prototype.rN=function(b,h){if(h==ec.GH||h==ec.v_)if(this.Wd)this.Wd.Cv(b.l2)};
jE.prototype.AR=function(b){};jE.prototype.a=function(){if(this.Wd)this.Wd.a();else this.FF.innerHTML=u.b5(this.DA,null,"toolicon");
this.g0()};jE.prototype.g0=function(){};function fW(){jE.call(this);this.Wq=new kd;this.Wq.O(w.E.w,this.tk,this);
this.body.appendChild(this.Wq.Z)}fW.prototype=new jE;fW.prototype.g0=function(){this.Wq.a()};fW.prototype.tk=function(b){var h=new hb(w.E.b,!0);
h.data={q:w.p.PB,S:this.S,CI:this.Wq.aqA()};this.Q(h)};fW.prototype.AR=function(b){this.Wq.am2(b.Mo)};
function fZ(b){jE.call(this);if(b==null)return;this.Cc=null;this.kq={};if(b.indexOf("brush")!=-1&&b.indexOf("prsr")==-1)b.push("prsr");
for(var Y=0;Y<b.length;Y++){var h=b[Y],G=null;if(h=="brush"){G=new fV}if(h=="bmode"){G=new cP([12,19,0],aq.US,aq.B2)}if(h=="bmode0"){G=new cP([12,19,0],aq.US.slice(23))}if(h=="emode"){G=new cP([12,36],[[9,3],[10,38]])}if(h=="opacity"){G=new bP([12,0],0,100,"%");
G.k(100)}if(h=="flow"){G=new bP([12,63],0,100,"%");G.k(100)}if(h=="smth"){G=new bP([19,3,0],0,100,"%");
G.k(0)}if(h=="samp"){G=new cP([12,36],[[12,25,4],[12,25,5],[12,46]])}if(h=="wconf"){G=new dy;G.k([40,!0,!0])}if(h=="sall"){G=new iI([12,25,2])}if(h=="smode"){G=new cP([12,36],[[19,7,0],[19,7,1]]);
G.k(1)}if(h=="pdetail"){G=new iI([12,65]);G.zr()}if(h=="rng"){G=new cP([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
G.k(1)}if(h=="expo"){G=new bP([12,5],0,100,"%");G.k(50)}if(h=="algnd"){G=new iI([12,75]);G.k(!1)}if(h=="sfrom"){G=new cP([12,70],[[17,1],[17,3],[17,0]])}if(h=="alt"){G=new jH(null,["Alt"],!0,["Select Source"])}if(h=="qsmode"){G=new g2([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(h=="redge"){G=new gX([7,11],!1,null,!0)}if(h=="sesu"){G=new gX("Select Subject",!1,null,!0)}if(h=="setop"){G=new aa}if(h=="patch"){G=new g2(null,[[12,70],[12,71]])}if(h=="strn"){G=new bP([12,64],1,100,"%");
G.k(50)}if(h=="prsr"){G=this.kq.brush.uR}this.body.appendChild(G.Z);if(h=="prsr")continue;G.parent=this;
this.kq[h]=G;if(h=="brush")G.O(w.E.w,this.a7e,this);else if(h=="redge"||h=="sesu")G.O("click",fG.aw9,this);
else G.O(w.E.w,this.lh,this)}}fZ.prototype=new jE;fZ.prototype.alA=function(b,h){b=b[1];var G=this.kq;
if(b.Md)G.bmode.k(aq.$$.indexOf(b.Md.v.BlnM));if(b.Opct)G.opacity.k(b.Opct.v);if(b.flow)G.flow.k(b.flow.v);
if(b.Brsh)G.brush.k(b,h.CB.t8,h.CB.oJ);if(b.FrgC){var H=e.F.an(b.FrgC.v),B=new hb(w.E.b,!0);B.data={q:w.p.wP,CI:ec.KI,DF:0,P:H.$<<16|H.B<<8|H.J};
this.Q(B)}this.a7e();this.lh()};fZ.prototype.ahj=function(){if(E._J[this.S]==null)return null;var b=this.kq,h;
for(var G in E.G7)if(E.G7[G]==this.S)h=G;var H=JSON.parse(JSON.stringify(b.brush.l()));H.classID=h;if(b.bmode)H.Md={t:"enum",v:{BlnM:aq.$$[b.bmode.l()]}};
if(b.opacity)H.Opct={t:"long",v:b.opacity.l()};if(b.flow)H.flow={t:"long",v:b.flow.l()};var B=this.Cc.nU;
B={$:B>>>16,B:B>>>8&255,J:B&255};H.FrgC={t:"Objc",v:e.F.t1(B)};return["Brush Preset "+H.Brsh.v.Dmtr.v.val,H]};
fZ.prototype.g0=function(){for(var b in this.kq)this.kq[b].a()};fZ.prototype.AR=function(b){if(b.aDf=="showBrushOpts"){this.kq.brush.arF(b.EG.x,b.EG.y)}for(var h in b.WO){var G=b.WO[h];
if(h!="qsmode")G*=100;if(this.kq[h])this.kq[h].k(G)}};fZ.prototype.rN=function(b,h){jE.prototype.rN.call(this,b,h);
this.Cc=b;var G=this.kq.brush;if(G==null)return;if(h==ec.GH||h==ec.pp)G.Cv(b.CB);if(h==ec.mp){G.k(b.CB.WD,b.CB.t8,b.CB.oJ)}};
fZ.prototype.a7e=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.wP,CI:ec.mp,sS:this.kq.brush.l()};this.Q(b)};
fZ.prototype.lh=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.PB,S:this.S};for(var G in this.kq){if(G=="brush"||G=="redge")continue;
var H=this.kq[G].l();if(["opacity","flow","smth","expo","strn"].indexOf(G)!=-1)b.data[G]=H/100;else if(G=="bmode")b.data.bmode=aq.B5[H];
else if(G=="bmode0")b.data.bmode=aq.B5[23+H];else b.data[G]=H}this.Q(b)};function fG(b,h){jE.call(this);
if(b)return;this.kq={};for(var Y=0;Y<h.length;Y++){var G=h[Y],H=null;if(G=="sesu"&&!u.SN(1))continue;
if(G=="binop")H=new aa;if(G=="feat"){H=new bP([7,6],0,100,"px");H.k(0)}if(G=="redge")H=new gX([7,11],!1,null,!0);
if(G=="sesu")H=new gX("Select Subject",!1,null,!0);if(G=="wconf")H=new dy;if(G=="cstr")H=new gO;if(G=="anta"){H=new iI([12,25,1]);
H.k(!0)}if(G=="sall")H=new iI([12,25,2]);if(G=="redge"||G=="sesu")H.O("click",fG.aw9,this);else H.O(w.E.w,this.lh,this);
H.parent=this;this.body.appendChild(H.Z);this.kq[G]=H}}fG.prototype=new jE;fG.prototype.AR=function(b){if(b.ux!=null)this.kq.binop.k(b.ux);
else if(b.U6){for(var h in b.U6)if(this.kq[h])this.kq[h].k(b.U6[h])}else{var G=fG.l4;if(G==null){var H=hS.a8t(!0);
G=fG.l4=new fL(H.items,H.lb)}G.a();G.parent=this;G.update(b.FK,b.sV);var B=new hb(w.E.b,!0);B.data={q:w.p.YB,Wn:G,x:b.FC._V+2,y:b.FC.ZO+1};
this.Q(B)}};fG.prototype.g0=function(){for(var b in this.kq)this.kq[b].a()};fG.aw9=function(b){var h=b.target==this.kq.sesu,G=new hb(h?w.E.r:w.E.b,!0);
if(h){G.S=E.Bi;G.data={q:"bgrm",P:2}}else G.data={q:w.p.C9,ut:"redge"};this.Q(G)};fG.prototype.lh=function(){var b=new hb(w.E.b,!0);
b.data={q:w.p.PB,S:this.S,U6:{}};for(var G in this.kq)b.data.U6[G]=this.kq[G].l();this.Q(b)};function jI(){fZ.call(this,["brush","strn"])}jI.prototype=new fZ;
function eg(){fZ.call(this,"brush bmode opacity flow smth prsr".split(" "))}eg.prototype=new fZ;function ae(){fZ.call(this,["brush","bmode0","samp","wconf"])}ae.prototype=new fZ;
function jn(){fZ.call(this,["brush"])}jn.prototype=new fZ;function aA(){fZ.call(this,["brush","bmode","opacity","smth","prsr"])}aA.prototype=new fZ;
function kj(){fZ.call(this,["brush","rng","expo"])}kj.prototype=new fZ;function jc(){fZ.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jc.prototype=new fZ;
function dt(b){jE.call(this);if(b==null)return;this.Kr=[];this.eZ=new gX("\u2026",!1,null,!0);if(!b)this.body.appendChild(this.eZ.Z);
this.eZ.O("click",this.em,this);this.u1=new dQ;this.u1.parent=this;var h=this.u1.Z=u.I("div","floatcont form"),G=[[17,0],[17,1],[11,12,0],[17,2]];
for(var Y=0;Y<G.length;Y++){var H=new gX(G[Y],!1,null,!0);this.Kr.push(H);H.O("click",this.aCv,this);
if(!b||Y==1)h.appendChild(H.Z)}this.pO=new gO;this.pO.O(w.E.w,this.cS,this);if(!b)this.body.appendChild(this.pO.Z);
this.n3=new gX([15,7,6],!1,null,!0);this.n3.O("click",this.aCv,this);if(!b)this.body.appendChild(this.n3.Z);
this.Q2=new iI([15,7,10]);this.Q2.O(w.E.w,this.cS,this);if(!b)this.body.appendChild(this.Q2.Z);this.X1=new iI("Content-Aware");
this.X1.O(w.E.w,this.cS,this);if(!b)this.body.appendChild(this.X1.Z);this.p2=new gI;this.p2.O("click",this.Wp,this)}dt.prototype=new jE;
dt.prototype.em=function(b){if(u.Pg(this.u1.Z))return;var h=this.eZ.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);
G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4};this.Q(G)};dt.prototype.g0=function(){this.p2.a();
for(var Y=0;Y<this.Kr.length;Y++)this.Kr[Y].a();this.pO.a();this.Q2.a();this.n3.a()};dt.prototype.AR=function(b){if(b.II){this.pO.asU(b.II[0],b.II[1]);
return}var h=this.p2.Z;if(b.rp)this.body.appendChild(h);else if(this.body.contains(h))this.body.removeChild(h);
if(b.pO)this.pO.k(b.pO)};dt.prototype.Wp=function(b){var h={q:w.p.PB,S:this.S,$Y:this.p2.l()?"commit":"cancel"},G=new hb(w.E.b,!0);
G.data=h;this.Q(G)};dt.prototype.aCv=function(b){b.target.Z.blur();var h={q:w.p.PB,S:this.S,$Y:"cropby",ah_:this.Kr.indexOf(b.target)};
if(b.target==this.n3)h.$Y="straighten";var G=new hb(w.E.b,!0);G.data={q:w.p.ne,Wn:this.u1};this.Q(G);
G.data=h;this.Q(G)};dt.prototype.cS=function(b){var h={q:w.p.PB,S:this.S,$Y:"config",rE:{cd:this.pO.l(),IF:this.Q2.l(),Rn:this.X1.l()},aer:b.target==this.pO},G=new hb(w.E.b,!0);
G.data=h;this.Q(G)};function f3(){dt.call(this,!1)}f3.prototype=new dt;function kT(){dt.call(this,!0)}kT.prototype=new dt;
function h6(){fZ.call(this,["brush","rng","expo"])}h6.prototype=new fZ;function iX(){fZ.call(this,"brush emode opacity flow smth prsr".split(" "))}iX.prototype=new fZ;
function iU(){fZ.call(this,["brush","samp","wconf"])}iU.prototype=new fZ;function di(){fG.call(this,!1,["binop","feat","anta","redge","cstr"])}di.prototype=new fG(!0);
function fu(){jE.call(this);var b=this.kq=[new cP([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new cP([12,70],[[17,1],[17,3],[17,0]]),new iI([12,20,1]),new iI([8,0])];
b[1].k(2);b[2].k(!0);for(var Y=0;Y<b.length;Y++){var h=b[Y];h.O(w.E.w,this.lh,this);this.body.appendChild(h.Z)}}fu.prototype=new jE;
fu.prototype.lh=function(b){var h=this.kq,G=[];for(var Y=0;Y<h.length;Y++)G[Y]=h[Y].l();var H=new hb(w.E.b,!0);
H.data={q:w.p.PB,S:this.S,U6:G};this.Q(H)};fu.prototype.g0=function(){for(var Y=0;Y<this.kq.length;Y++)this.kq[Y].a()};
function gK(){jE.call(this);this.t$=!1;this.yh=new cf("GrFl",!0);this.yh.parent=this;this.yh.update(null,JSON.parse(dE.Qy[6]));
this.yh.O(w.E.w,this.hO,this);var b="Grad Type Md Opct Rvrs Dthr".split(" ");for(var Y=0;Y<b.length;
Y++)this.body.appendChild(this.yh.LV[b[Y]].Z);this.Ux=new gX([6,48,1],!1,null,!0);this.Ux.O("click",this.hO,this);
this.body.appendChild(this.Ux.Z)}gK.prototype=new jE;gK.prototype.g0=function(b){var b=this.t$;this.body.children[2].style.display=b?"none":"";
this.body.children[3].style.display=b?"none":"";this.yh.a();this.Ux.a()};gK.prototype.rN=function(b,h){jE.prototype.rN.call(this,b,h);
var G=h==ec.KI,H=this.yh.LV.Grad;H.zN(b.nU,b.W9);if(G||h==ec.bX||h==ec.GH)H.Cv(b.nC)};gK.prototype.hO=function(b){if(b.target==this.Ux){var h=new hb(w.E.IK,!0);
h.data=E.kQ.s4(1);this.Q(h);return}this.a();var h=new hb(w.E.b,!0);h.data={q:w.p.PB,S:this.S,CI:this.yh.l()};
this.Q(h)};gK.prototype.AR=function(b){this.t$=b.n;this.a();this.yh.update(null,b.CI);this.a()};function fM(){jE.call(this);
this.qY=new iI([8,7,1]);this.body.appendChild(this.qY.Z);this.qY.O(w.E.w,this.lh,this)}fM.prototype=new jE;
fM.prototype.lh=function(){var b={q:w.p.PB,S:this.S,Qv:this.qY.l()},h=new hb(w.E.b,!0);h.data=b;this.Q(h)};
function ju(){jE.call(this);var b=u.I("span","fitem");this.body.appendChild(b);this.xH=[new bP([12,15],-180,180,"\xB0"),new gX([1,12,2],null,null,!0)];
for(var Y=0;Y<this.xH.length;Y++){var h=this.xH[Y];h.parent=this;b.appendChild(h.Z);h.O(Y==1?"click":w.E.w,this.Zs,this)}}ju.prototype=new jE;
ju.prototype.g0=function(){for(var Y=0;Y<this.xH.length;Y++)this.xH[Y].a()};ju.prototype.AR=function(b){this.xH[0].k(b.k3*180/Math.PI)};
ju.prototype.Zs=function(b){var h=this.xH.indexOf(b.target),G=new hb(w.E.b,!0);G.data={q:w.p.PB,S:this.S,k3:h==1?0:b.target.l()*Math.PI/180};
this.Q(G)};function jf(){fZ.call(this,["brush","algnd","sfrom","alt"])}jf.prototype=new fZ;function h5(){jE.call(this);
this.TJ=new h9;this.TJ.parent=this;this.body.appendChild(this.TJ.zc.Z);this.body.appendChild(this.TJ.j2.Z);
this.body.appendChild(this.TJ.dP.Z);this.body.appendChild(this.TJ.D9.Z);var b=u.I("span","fitem");this.body.appendChild(b);
b.appendChild(this.TJ.DH.Z);b.appendChild(this.TJ.S3.Z);b.appendChild(this.TJ.kH.Z);this.A3=new cP("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.A3.O(w.E.w,this.Wp,this);this.body.appendChild(this.A3.Z);this.i5=new cP(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.i5.O(w.E.w,this.Wp,this);this.body.appendChild(this.i5.Z);this.Ii=new gX([11,9],!1,null,!0);this.Ii.O("click",this.aEL,this);
this.body.appendChild(this.Ii.Z);this.p2=new gI;this.p2.O("click",this.Wp,this)}h5.prototype=new jE;
h5.prototype.g0=function(){this.p2.a();this.TJ.a();this.Ii.a()};h5.prototype.aEL=function(b){var h={q:w.p.PB,S:this.S,$Y:"showwarp"},G=new hb(w.E.b,!0);
G.data=h;this.Q(G)};h5.prototype.AR=function(b){if(b.$Y=="showactive")this.body.appendChild(this.p2.Z);
if(b.$Y=="hideactive")this.body.removeChild(this.p2.Z);if(b.$Y=="changeOther"){this.A3.k(b.hH);this.i5.k([0,2,1][b.EU])}if(b.$Y=="showpan"){var h=[{name:[0,1],oq:!0}],G=[{K:w.E.r,S:E.rd,i:{q:"editCurr",RI:b.RI}}],H=b.FC;
if(b.a3z){h=[{name:["VAR0: VAR1",[0,5],[7,0]],oq:!0}];G=[{K:w.E.IK,i:E.pC.V$(!0)}];var B=hS.aEb();h=h.concat(B[0]);
G=G.concat(B[1])}h.push({name:[11,9]});G.push({K:w.E.b,i:{q:w.p.PB,S:this.S,$Y:"showwarp"}});var j=new fL(h,G);
j.parent=this;j.a();j.update(b.FK,b.sV);var s=new hb(w.E.b,!0);s.data={q:w.p.YB,Wn:j,x:H._V+2,y:H.ZO+1};
this.Q(s)}};h5.prototype.rN=function(b,h){jE.prototype.rN.call(this,b,h);if(h!=ec.GH&&h!=ec.Te&&h!=ec.ML&&h!=ec.Ie)return;
this.TJ.k(b.Ge,b.B7,b.sP)};h5.prototype.Wp=function(b){var h={q:w.p.PB,S:this.S,$Y:this.p2.l()?"commit":"cancel"};
if(b.target==this.A3||b.target==this.i5){h.$Y="changeOther";h.hH=this.A3.l();h.EU=[0,2,1][this.i5.l()]}var G=new hb(w.E.b,!0);
G.data=h;this.Q(G)};function fD(){fG.call(this,!1,["binop","feat","anta","redge"])}fD.prototype=new fG(!0);
function fC(){jE.call(this);var b=[],G="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.LK=new iI([12,85]);this.LK.k(!0);this.LK.O(w.E.w,this.lh,this);b.push(this.LK.Z);this.ST=new cP(null,[[0,4],[0,3]]);
this.ST.O(w.E.w,this.lh,this);this.ST.k(1);b.push(this.ST.Z);this.iL=new iI([20,1]);this.iL.O(w.E.w,this.lh,this);
b.push(this.iL.Z);this.SZ=new iI([12,83]);this.SZ.O(w.E.w,this.lh,this);b.push(this.SZ.Z);this.u1=new dQ;
this.u1.Z=u.I("div","floatcont form");this.u1.Z.setAttribute("style","max-width: 200px;");this.u1.parent=this;
var h=this.u1.Z;this.a4p=new cP("Scale for exported files",["1x","2x","3x","4x"]);h.appendChild(this.a4p.Z);
this.Ua=new gX(G+" PNG",!1,"Save selected layers as PNG",!0);h.appendChild(this.Ua.Z);this.Ua.O("click",this.m3,this);
this.a8s=new gX(G+" SVG",!1,"Save selected layers as SVG",!0);h.appendChild(this.a8s.Z);this.a8s.O("click",this.m3,this);
var H=new gX(G,!1,"Save selected layers",!0);b.push(H.Z);H.O("click",function(Q){if(u.Pg(this.u1.Z))return;
var a=H.Z.getBoundingClientRect(),l=new hb(w.E.b,!0);l.data={q:w.p.YB,Wn:this.u1,x:a.left,y:a.top+a.height,WQ:!0};
this.Q(l)},this);var B=u.I("span","fitem");b.push(B);var j=u.I("span","fitem");b.push(j);this.g8=[];
for(var Y=0;Y<8;Y++){var s=Y==3||Y==7?[20,4,6]:[20,4,Y<3?Y:Y-1],q=new gX("Hi",!1,s);(Y<4?B:j).appendChild(q.Z);
q.O("click",this.m3,this);this.g8.push(q)}for(var Y=0;Y<b.length;Y++)this.body.appendChild(b[Y]);this.a01=b}fC.prototype=new jE;
fC.prototype.AR=function(b){var h=b.Mo,G=b.ae4;this.LK.k(h.bf);this.iL.k(h.Iv);this.SZ.k(h.el);if(G){u._I(this.body);
for(var Y=0;Y<G.length;Y++)if(G[Y]==1&&this.a01[Y])this.body.appendChild(this.a01[Y])}};fC.prototype.m3=function(b){var h=this.g8.indexOf(b.target),G;
if(h==-1){G=new hb(w.E.b,!0);G.data={q:w.p.PB,S:this.S,DF:b.target==this.Ua?"getPNG":"getSVG",gV:this.a4p.l()+1}}else{G=new hb(w.E.r,!0);
G.S=E.rQ;G.data={q:"algn",P:h}}this.Q(G)};fC.prototype.lh=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.PB,S:this.S,DF:"prms",bf:this.LK.a9(),auJ:this.ST.l(),Iv:this.iL.a9(),el:this.SZ.a9()};
this.Q(h)};fC.prototype.g0=function(){this.LK.a();this.ST.a();this.iL.a();this.SZ.a();var b="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Y=0;Y<8;Y++){this.g8[Y].Sm(u.b5("align/"+b[Y],null,"autoscale"))}};function kh(){fG.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}kh.prototype=new fG(!0);
function dW(){fZ.call(this,["setop","patch"])}dW.prototype=new fZ;function dx(){fZ.call(this,["setop"])}dx.prototype=new fZ;
function gx(b){var h=b==E.ald?[]:["bmode"];fZ.call(this,h.concat(["opacity","wconf","sall"]))}gx.prototype=new fZ;
function a7(){fG.call(this,!1,["binop","feat","anta","redge"])}a7.prototype=new fG(!0);function hE(){fG.call(this,!1,["binop","feat","anta","redge"])}hE.prototype=new fG(!0);
function aL(){fG.call(this,!1,["binop","feat","redge","cstr"])}aL.prototype=new fG(!0);function g_(){jE.call(this);
this.Cc=null;this.re=null;this.gx=!0;this.DQ=[new aG("X",null,3.2,null,!0),new aG("Y",null,3.2,null,!0),new aG("W",null,3.2,null,!0),new aG("H",null,3.2,null,!0),new aG("a","\xB0",3.7,null,!0),new aG("l",null,3.5,null,!0),new aG("l",null,3.5,null,!0),new iI("Use custom units:"),new gX("Define Unit",!1,null,!0),new gX([15,7,6],!1,null,!0),new gX([2,2],!1,null,!0)];
this.DQ[7].Z.style.marginRight="0px";for(var Y=0;Y<this.DQ.length;Y++){var b=this.DQ[Y];this.body.appendChild(b.Z);
if(Y>6)b.O(Y==7?w.E.w:"click",this.O$,this)}this.eE=0}g_.prototype=new jE;g_.prototype.O$=function(b){var h=this.DQ.indexOf(b.target),G=new hb(w.E.r,!0),H=this.re;
if(h==7){this.AR(H);return}if(h==8){if(this.gx){alert("Draw a line for the new unit");return}this.DQ[7].k(!0);
var B=new hb(w.E.b,!0);B.data={q:w.p.C9,ut:"measscale",Ho:cJ.o0(H.y0,H.YA)};this.Q(B);return}if(h==9){if(this.eE==0)return;
G.S=E.E4;G.data={q:"rot",VH:[2,5],P:-this.eE}}if(h==10){G.S=E.El;G.data={q:"reset"};this.gx=!0;for(var Y=0;
Y<6;Y++)this.DQ[Y].k(null)}this.Q(G)};g_.prototype.AR=function(b){function h(a,l,U){var N=cJ.o0(a,l),R=cJ.o0(l,U),S=cJ.o0(a,U);
return Math.acos((R*R+N*N-S*S)/(2*R*N))}if(b==null)return;this.re=b;var G=b.y0,H=b.YA,B=H.x-G.x,j=H.y-G.y;
this.eE=-Math.atan2(j,B);if(b.Z8)this.eE=h(H,G,b.Z8);var s=this.DQ;s[0].k(this.fK(b,G.x));s[1].k(this.fK(b,G.y));
s[2].k(this.fK(b,B));s[3].k(this.fK(b,j));s[4].k((this.eE*180/Math.PI).toFixed(2));s[5].k(this.fK(b,cJ.o0(G,H)));
this.gx=G.TW(H);if(b.Z8){s[6].k(this.fK(b,cJ.o0(G,b.Z8)))}else s[6].k("");s[8].Sm("Define");var q=b.xN;
if(q){var Q=q.T.v;s[8].Sm(Q.logicalUnits.v)}};g_.prototype.fK=function(b,h){var G=this.re.xN,H;if(G&&this.DQ[7].l()){var B=G.T.v;
H=h*B.logicalLength.v/B.pixelLength.v}else H=e.VJ.x3(h,b.O4,this.Cc,b.ma,!1);return parseFloat(H).toFixed(2)};
g_.prototype.rN=function(b,h){this.Cc=b;this.AR(this.re)};g_.prototype.g0=function(){var b=this.DQ;for(var Y=0;
Y<b.length;Y++)b[Y].a();b[4].Sm(bp.get([12,15]).slice(0,1)+":");var h=bp.get([12,80,0]).slice(0,1);b[5].Sm(h+"1:");
b[6].Sm(h+"2:");u.sq(b[2],b[3])};function a9(){fZ.call(this,["brush","strn","pdetail"])}a9.prototype=new fZ;
function iO(){fZ.call(this,["brush","sfrom"]);this.abe=[];var b=[[7,12]];for(var Y=0;Y<b.length;Y++){var h=new gX(b[Y],!1,null,!0);
this.abe.push(h);h.parent=this;this.body.appendChild(h.Z);h.O("click",this.akW,this)}}iO.prototype=new fZ;
iO.prototype.akW=function(b){var h=this.abe.indexOf(b.currentTarget),G=new hb(w.E.IK,!0);G.data=E.Qb.s4(h==0?"contentAware":"aiHeal");
this.Q(G)};function e2(){fZ.call(this,["brush","strn"])}e2.prototype=new fZ;function i2(){fZ.call(this,["brush","flow","smode"])}i2.prototype=new fZ;
function ik(){jE.call(this);this.Q6=!1;var b=u.I("span","fitem");this.body.appendChild(b);this.WU=new g2(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
b.appendChild(this.WU.Z);this.WU.O(w.E.w,this.lh,this);this.tB=new gX([20,2]);this.body.appendChild(this.tB.Z);
this.tB.O("click",this.ah3,this);this.ER=new gX([20,3]);this.body.appendChild(this.ER.Z);this.ER.O("click",this.ah3,this);
this.qY=new iI([8,7,1]);this.body.appendChild(this.qY.Z);this.qY.O(w.E.w,this.lh,this)}ik.prototype=new jE;
ik.prototype.g0=function(){this.tB.a();this.ER.a()};ik.prototype.lh=function(){var b={q:w.p.PB,S:this.S,Sa:this.WU.l()==0,Qv:this.qY.l()},h=new hb(w.E.b,!0);
h.data=b;this.Q(h)};ik.prototype.AR=function(b){if(this.Q6!=b.Q6)this.WU.k(1-this.WU.l());this.Q6=b.Q6};
ik.prototype.ah3=function(b){var h=new hb(w.E.r,!0);h.S=E.TC;h.data={q:"adapt",P:b.target==this.tB?"pixel":"fitscr"};
this.Q(h)};function d1(b,h){jE.call(this);if(b==null)return;this.AC=b;this.aK={};this.as0=h;for(var Y=0;
Y<b.length;Y++){var G=b[Y],H=null;if(G=="tmode"){H=new cP(null,[[12,76,1],[12,76,0],[12,76,2]]);H.k(0);
if(h)H.aag(2)}if(G=="make"){H=new g2("Make",[[17,2],[12,76,1]],null,!0)}if(G=="anta"){H=new iI([12,25,1]);
H.k(!0)}if(G=="binop"){H=new cP(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(G=="pshape")H=new cP(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(G=="shape")H=new kC([12,76,1]);if(G=="crad"){H=new bP([12,94,0],0,50,"px");H.k(0)}if(G=="cstr"){H=new gO}if(G=="irad"){H=new bP([12,94,1],0,100,"%");
H.k(40)}if(G=="length"){H=new bP([12,80,0],4,40);H.k(4)}if(G=="sides"){H=new bP([12,78],3,30);H.k(5)}if(G=="width"){H=new bP([12,41],0,100,"px");
H.k(5)}if(G=="tolr"){H=new bP([12,24],0,100);H.k(5)}if(G=="fstyle"){H=new fn([12,26])}if(G=="sstyle"){H=new cS}if(G=="psnap"){H=new iI([8,10])}if(G=="crnr"){H=new gX("\u2312",!1,[12,94,0],!0)}if(G=="aopts"){H=new ac;
H.k([!1,!1,50,60,0])}if(G=="smplp"){H=new gX([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}H.parent=this;
this.body.appendChild(H.Z);this.aK[G]=H;H.O(G=="crnr"||G=="smplp"?"click":w.E.w,this.lh,this)}}d1.prototype=new jE;
d1.prototype.AR=function(b){if(b.ux!=null)this.aK.binop.k(b.ux);else if(b.DF=="vals")for(var h in b.aw4)this.aK[h].k(b.aw4[h]);
else{var G=d1.l4,H=function(j){return{H:j!=null&&j.s5(!1)}};if(G==null)G=d1.l4=new fL([{name:"Remove Anchor Point",H:function(j){var s=j?j.wV():null;
return{H:j&&s[1].length!=0&&s[0][s[1][0]].add.vmsk._B.length!=0}}},{name:"Remove Path",H:function(j){var s=j?j.wV():null;
return{H:j&&s[1].length!=0&&s[0][s[1][0]].add.vmsk.T.length!=0}},oq:!0},{name:"Make Selection"},{name:[2,3],H:H},{name:[14,9],H:H}],[{K:w.E.r,S:E.sr,i:{q:"remove",dN:!0}},{K:w.E.r,S:E.YK,i:{q:"remove"}},{K:w.E.b,i:{q:w.p.C9,ut:"makesel"}},{K:w.E.IK,i:E.n8.hp(null)},{K:w.E.b,i:{q:w.p.C9,ut:"strokepath"}}]);
G.parent=this;G.update(b.FK,b.sV);var B=new hb(w.E.b,!0);B.data={q:w.p.YB,Wn:G,x:b.FC._V+2,y:b.FC.ZO+1};
this.Q(B)}};d1.prototype.a8U=function(Y){return null};d1.prototype.g0=function(){for(var b in this.aK){this.aK[b].a()}};
d1.prototype.lh=function(b){var h=new hb(w.E.b,!0),G=this.aK;if(b.target==G.crnr){h=new hb(w.E.r,!0);
h.S=E.sr;h.data={q:"crnr"}}else if(b.target==G.smplp){h=new hb(w.E.r,!0);h.S=E.YK;h.data={q:"smplp"}}else if(b.target==G.make){var Y=b.target.l();
console.log(Y);if(Y==0)h.data={q:w.p.C9,ut:"makesel"};else{h=new hb(w.E.r,!0);h.S=E.c2;h.data={q:"newfill",qp:0}}}else if(b.target==G.fstyle){h.data={q:w.p.wP,CI:ec.Eq,P:G.fstyle.l()}}else if(b.target==G.sstyle){h.data={q:w.p.wP,CI:ec.$N,P:G.sstyle.l()}}else if(b.target==G.tmode){h.data={q:w.p.wP,CI:ec.jU,P:G.tmode.l()}}else{if(G.pshape)this.yv();
h.data={q:w.p.PB,S:this.S};for(var H in G)h.data[H]=G[H].l()}this.Q(h)};d1.prototype.yv=function(){var b=this.aK,h=b.tmode.l(),G=b.pshape?this.a8U(b.pshape.l()):this.AC,H;
if(h==0)H=["anta","make"];if(h==1)H=["anta","fstyle","sstyle"];if(h==2)H=["make","binop","fstyle","sstyle"];
var B=b.binop;if(B){var j=B.l();if(h==0){B.a4Y(0)}else{B.aag(0);if(j==0){B.k(1);this.lh({target:B})}}}u._I(this.body);
for(var Y=0;Y<G.length;Y++){var s=G[Y];if(H.indexOf(s)!=-1)continue;this.body.appendChild(b[s].Z)}};
d1.prototype.rN=function(b,h){jE.prototype.rN.call(this,b,h);var G=this.aK.fstyle,H=this.aK.sstyle,B=this.aK.tmode;
if(G)G.rN(b,h);if(H)H.rN(b,h);if(h==ec.GH||h==ec.HG)if(b.Co.length!=0&&this.aK.shape){this.aK.shape.Cv(b.Co)}if(h==ec.GH||h==ec.Eq)if(G)G.k(null,b.h6,b.aj5);
if(h==ec.GH||h==ec.$N)if(H)H.k(null,b.XA,b.aom);if(h==ec.GH||h==ec.jU){var j=b.hU;if(this.as0&&j==2)j=0;
if(B){B.k(j);this.yv()}}};function h8(){d1.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}h8.prototype=new d1;
function ev(){d1.call(this,"tmode make anta fstyle sstyle binop".split(" "))}ev.prototype=new d1;function hD(){d1.call(this,["fstyle","sstyle","smplp"]);
this.a0y=null;this.aht=null;this.aCD=null;this.ui=new cP([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.cv=new gX("\u25BC");this.cv.zr();this.iC=new gX("\u25B2");this.iC.zr();this.aV=[this.ui,this.cv,this.iC];
for(var Y=0;Y<this.aV.length;Y++){var b=this.aV[Y];this.body.appendChild(b.Z);b.parent=this;b.O(Y==0?w.E.w:"click",this.v5,this)}}hD.prototype=new d1;
hD.prototype.AR=function(b){if(b.$Y=="main"){var h=this.aV,G=b.SU;if(G){this.aht=G.clone();this.aCD=JSON.stringify(b.Bs);
var H=G.T.slice(0),B=H.length;for(var Y=0;Y<H.length;Y++)H[Y]++;H.sort(function(Q,a){return Q-a});h[0].db();
h[1].d3(B!=0);h[2].d3(B!=0);h[0].Sm(B==0?"No Paths":B==1?"Path "+H[0]:"Paths "+H.slice(0,3).join(",")+(B>3?"..":""));
if(B!=0){var j=G.T[0],s=e.n.Xd(G.d,j),q=G.d[s];this.ui.k([3,0,1,2][q.Vj])}}else for(var Y=0;Y<h.length;
Y++)h[Y].ay()}else d1.prototype.AR.call(this,b)};hD.prototype.g0=function(){d1.prototype.g0.call(this);
this.ui.a()};hD.prototype.v5=function(b){if(b.target==this.ui||b.target==this.cv||b.target==this.iC){var h={},G=this.aht,H=G.d,B=G.T,j=e.n.bF(H),s=JSON.parse(this.aCD);
B.sort(function(o,v){return o-v});if(b.target==this.ui){var q=this.ui.l();if(q<4)for(var Y=0;Y<B.length;
Y++)H[e.n.Xd(H,B[Y])].Vj=[1,2,3,0][q];else{if(j<=1)return;G.d=e.n.ry(H);G.T=G.d.length==2?[]:[0];G._B=[];
s=[e.Bs.TI()]}}else{var Q=b.target==this.cv?-1:1,a=[];for(var Y=0;Y<j;Y++){var l=e.n.Xd(H,Y),U=l+1+H[l].length;
a.push(H.slice(l,U))}var N=B.slice(0);for(var Y=0;Y<B.length;Y++)N[Y]=Math.max(Y,Math.min(j-1-(B.length-1-Y),N[Y]+Q));
if(B.join(",")==N.join(","))return;var R=JSON.parse(JSON.stringify(s));for(var Y=0;Y<B.length;Y++){var S=Q==-1?Y:B.length-1-Y,l=B[S],U=N[S];
if(l!=U){var g=a[l];a[l]=a[U];a[U]=g;g=R[l];R[l]=R[U];R[U]=g}}var i=H.slice(0,2);for(var Y=0;Y<a.length;
Y++)i=i.concat(a[Y]);G.d=i;G.T=N;s=R}h.SU=G;h.Bs=s;var y=new hb(w.E.b,!0);y.data={q:w.p.PB,S:this.S,Fo:h};
this.Q(y)}};function da(){d1.call(this,["fstyle","sstyle","crnr","psnap"])}da.prototype=new d1;function gJ(){d1.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}gJ.prototype=new d1;
function cY(){d1.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}cY.prototype=new d1;
function iv(){d1.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.aK.aopts.k([!1,!0,50,60,0])}iv.prototype=new d1;iv.prototype.a8U=function(Y){var b=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(b[Y])};function bN(){d1.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}bN.prototype=new d1;
function cT(){d1.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}cT.prototype=new d1;
function e0(){fG.call(this,!1,["binop","feat","redge","sesu"])}e0.prototype=new fG(!0);function hF(){fZ.call(this,["brush","qsmode","redge","sesu"])}hF.prototype=new fZ;
function eU(){jE.call(this);this.vT=[];for(var Y=0;Y<2;Y++){var b=new gX(Y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.vT.push(b);b.O("click",this.v5,this);this.body.appendChild(b.Z)}}eU.prototype=new jE;eU.prototype.v5=function(b){var h;
if(this.vT.indexOf(b.target)==0){h=new hb(w.E.IK,!0);h.data={f6:"make",yo:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{h=new hb(w.E.b,!0);
h.data={q:w.p.C9,ut:"divslice"}}this.Q(h)};eU.prototype.g0=function(b){for(var Y=0;Y<this.vT.length;
Y++)this.vT[Y].a()};function ci(){jE.call(this);var b=this.vD=[new gX("\u25BC",null,null,!0),new gX("\u25B2",null,null,!0),new gX([5,4],null,null,!0),new gX(["VAR0...",[15,10,22]],null,null,!0)];
for(var Y=0;Y<4;Y++){var h=b[Y];this.body.appendChild(h.Z);h.O("click",this.v5,this)}}ci.prototype=new jE;
ci.prototype.v5=function(b){var h=this.vD.indexOf(b.target),G;if(h==3){G=new hb(w.E.b,!0);G.data={q:w.p.C9,ut:"divslice"}}else{G=new hb(w.E.r,!0);
G.S=E.B0;G.data={q:h==2?"delete":"reorder",dir:h==0?-1:1}}this.Q(G)};ci.prototype.a=function(){jE.prototype.a.call(this);
for(var Y=0;Y<4;Y++)this.vD[Y].a()};function cd(b,h){jE.call(this);if(window.Typr==null||b)return;this.acj=h;
this.y4=null;this.ac2=u.I("span","");this.amA=u.I("span","");var G=1,H=this.FO={ok:new er(null,24),O5:new bP("X",0,0,"px",0,!1,!0,4),$y:new bP("Y",0,0,"px",0,!1,!0,4),bC:new bP("W",0,0,["%","px"],2,!1,!0,5),Hj:new gX("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),rT:new bP("H",0,0,["%","px"],2,!1,!0,5),aqj:new bP("\u2221",0,0,"\xB0",G,!1,!0),afp:new bP("\u25B1 H",-85,85,"\xB0",G,!1,!0),agf:new bP("\u25B1 V",-85,85,"\xB0",G,!1,!0),rf:new cP(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),qC:new cP("Protect",[])};
H.rf.k(1);H.Hj.k(!0);for(var B in H){var j=H[B],s=!0;if(h&&(j==H.aqj||j==H.afp||j==H.agf||j==H.rf))s=!1;
if(!h&&j==H.qC)s=!1;if(s)this.ac2.appendChild(j.Z);var q=j==H.Hj?"click":w.E.w;j.O(q,this.acd,this)}this.lT=new g2("Split",g2.Bq(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.lT.k(-1);this.lT.O(w.E.w,this.amJ,this);this.Iu=new jb(!0,!0,!0);this.Iu.O(w.E.w,this.amJ,this);
this.Iu.parent=this;var Q=this.amA,a=this.Iu;Q.appendChild(this.lT.Z);Q.appendChild(a.xn.Z);Q.appendChild(a.c1.Z);
Q.appendChild(a.MR.Z);Q.appendChild(a.zO.Z);Q.appendChild(a.vV.Z);this.Ii=new gX([11,9]);this.Ii.O("click",this.apN,this);
this.p2=new gI;this.p2.O("click",this.Wp,this)}cd.prototype=new jE;cd.prototype.AR=function(b){if(b.FC){var h=cd,G=this.l4;
if(G==null)G=this.l4=new fL(h.al5(),h.anK(this.S));G.a();G.parent=this;G.update(b.FK,b.sV);var H=new hb(w.E.b,!0);
H.data={q:w.p.YB,Wn:G,x:b.FC._V+2,y:b.FC.ZO+1};this.Q(H);return}u._I(this.body);this.y4=b;if(b.FO){var B=b.FO.O2,j=b.FO.GF.clone(),s=Math.atan2(-j.J,j.G),q=new eq;
q.rotate(-s);j.concat(q);var Q=this.FO;Q.ok.k(b.FO.Sn);Q.O5.k(b.FO.WG.x);Q.$y.k(b.FO.WG.y);Q.bC.k(j.G*(Q.bC.Np()=="%"?100:B.j));
Q.rT.k(j.tW*(Q.rT.Np()=="%"?100:B._));Q.aqj.k(-s*180/Math.PI);Q.afp.k(Math.atan(j.YW/j.tW)*180/Math.PI);
Q.agf.k(0*180/Math.PI);this.body.appendChild(this.ac2);this.Ii.rL();if(b.FO.qS!=null)Q.Hj.k(b.FO.qS)}if(b.Ee){if(b.aqa)this.lT.k(-1);
this.Iu.k(b.Ee);this.body.appendChild(this.amA);this.Ii.zr()}if(b.$B)Q.qC.mX(b.$B);this.body.appendChild(this.p2.Z);
if(b.afW&&!this.acj)this.body.appendChild(this.Ii.Z)};cd.prototype.acd=function(b){var h=this.FO,G=this.y4.FO.O2;
if(b.target==h.Hj)h.Hj.k(!h.Hj.l());else if(h.Hj.a9()){var H=h.rT,B=h.bC,j=G._,s=G.j;if(b.target==h.bC){H=h.bC;
B=h.rT;j=G.j;s=G._}var q=H.l()/(H.Np()=="%"?100:j);q*=B.Np()=="%"?100:s;B.k(q)}var Q=[];for(var a in h)if(h[a]!=h.Hj&&h[a]!=h.ok){var q=h[a].l();
if((h[a]==h.bC||h[a]==h.rT)&&q==0){q=.1;h[a].k(q)}if(h[a]==h.bC&&h[a].Np()=="px")q/=G.j/100;if(h[a]==h.rT&&h[a].Np()=="px")q/=G._/100;
Q.push(q)}var l=new cJ(Q[0],Q[1]);if(b.target==h.ok){this.Hu({$Y:"ctyp",Sn:h.ok.l()})}else if(b.target==h.O5||b.target==h.$y){this.Hu({$Y:"cen",WG:l})}else{var U=this.y4.FO.GF.clone(),N=U.clone(),R=Math.atan2(-U.J,U.G);
N.translate(-l.x,-l.y);N.rotate(-R);var S=new eq(N.G,N.J,N.YW,N.tW,0,0);S.Q6();N.concat(S);var g=Q[2]/100,i=Q[3]/100;
N.concat(new eq(g,g*Math.tan(Q[6]*Math.PI/180),i*Math.tan(Q[5]*Math.PI/180),i,0,0));N.rotate(-Q[4]*Math.PI/180);
N.translate(l.x,l.y);this.y4.FO.GF=N;this.Hu({$Y:"trn",FO:N,jw:h.rf.l(),cr:h.qC.l(),qS:h.Hj.l()})}};
cd.prototype.amJ=function(b){var h=this.lT;this.Hu(b.target==h?{$Y:"splt",P:h.l()}:{$Y:"wrp",Ee:this.Iu.l()})};
cd.prototype.apN=function(b){this.Hu({$Y:"switchWarp"})};cd.prototype.Wp=function(b){this.Hu({$Y:this.p2.l()?"commit":"cancel"})};
cd.prototype.Hu=function(b){b.q=w.p.PB;b.S=this.S;var h=new hb(w.E.b,!0);h.data=b;this.Q(h)};cd.prototype.g0=function(){var b=this.FO;
for(var h in b)b[h].a();u.sq(b.bC,b.rT);this.p2.a();this.lT.a();this.Iu.a();this.Ii.a()};cd.al5=function(){var b=function(h){var G=!0;
if(h==null||h.T.length==0)G=!1;else{var H=h.T;for(var Y=0;Y<H.length;Y++){if(h.R[H[Y]].add.TySh)G=!1}}return{H:G}};
return[{name:[5,9],ef:"Shift+Alt+Ctrl + T",oq:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],H:b},{name:[2,9],H:b,oq:!0},{name:[11,9],H:function(h){if(h==null||h.T.length!=1)return{H:!1};
var G=h.R[h.T[0]];return{H:G.add.TySh==null&&!G.fu()}},oq:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cd.anK=function(b){if(b==null)b=E.E4;return[{K:w.E.r,S:b,i:{q:"again"}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:3}}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:4}}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:5}}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:2}}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:1}}},{K:w.E.b,i:{q:w.p.CJ,S:b,Mo:{vX:-1}}},{K:w.E.IK,i:E.Y.y$(!0,90,!0)},{K:w.E.IK,i:E.Y.y$(!0,-90,!0)},{K:w.E.IK,i:E.Y.y$(!0,-180,!0)},{K:w.E.IK,i:E.Y.y$(!1,"Hrzn",!0)},{K:w.E.IK,i:E.Y.y$(!1,"Vrtc",!0)}]};
function ca(){cd.call(this)}ca.prototype=new cd(!0);function j9(){cd.call(this)}j9.prototype=new cd(!0);
function eV(){cd.call(this,!1,!0)}eV.prototype=new cd(!0);function id(){jE.call(this);var b=this.AC=[new cP([12,36],["Rigid",[15,10,0],[24,4]]),new cP([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new bP([7,4],0,100,"px"),new iI("Show Mesh"),new gX("\u25BC",null,null,!0),new gX("\u25B2",null,null,!0)];
for(var Y=0;Y<b.length;Y++){var h=b[Y];h.parent=this;this.body.appendChild(h.Z);h.O(Y<4?w.E.w:"click",this.ahB,this)}this.p2=new gI;
this.p2.O("click",this.Wp,this);this.body.appendChild(this.p2.Z)}id.prototype=new jE;id.prototype.g0=function(){var b=this.AC;
for(var Y=0;Y<4;Y++)b[Y].a();this.p2.a()};id.prototype.AR=function(b){var b=b.CI;for(var Y=0;Y<4;Y++)this.AC[Y].k(b[Y])};
id.prototype.ahB=function(b){var h=[];for(var Y=0;Y<4;Y++)h[Y]=this.AC[Y].l();var G=this.AC.indexOf(b.target);
if(G<4)this.Hu({$Y:"prm",CI:h});else this.Hu({$Y:"moveDepth",ag9:G==5})};id.prototype.Wp=function(b){this.Hu({$Y:this.p2.l()?"commit":"cancel"})};
id.prototype.Hu=function(b){b.q=w.p.PB;b.S=this.S;var h=new hb(w.E.b,!0);h.data=b;this.Q(h)};function fI(){jE.call(this);
var b=this.kq=[new cP([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var Y=0;Y<b.length;Y++){var h=b[Y];
h.O(w.E.w,this.lh,this);this.body.appendChild(h.Z)}}fI.prototype=new jE;fI.prototype.lh=function(b){var h=this.kq,G=[];
for(var Y=0;Y<h.length;Y++)G[Y]=h[Y].l();var H=new hb(w.E.b,!0);H.data={q:w.p.PB,S:this.S,U6:G};this.Q(H)};
fI.prototype.g0=function(){for(var Y=0;Y<this.kq.length;Y++)this.kq[Y].a()};function je(){fG.call(this,!1,["binop"]);
this.Sf=new gX("Remove",!1,null,!0);this.Sf.O("click",this.kD,this);this.Sf.Z.style.marginRight="2em";
this.auZ=new aG("New content");this.Cb=new gX("\u2026",!1,null,!0);this.Cb.O("click",this.em,this);this.Dg=new gX([18,0],!1,null,!0);
this.Dg.O("click",this.kD,this);this.bz=new gX("Undo",!1,null,!0);this.bz.O("click",this.kD,this);this.body.appendChild(this.Sf.Z);
this.body.appendChild(this.auZ.Z);this.body.appendChild(this.Cb.Z);this.body.appendChild(this.Dg.Z);
this.body.appendChild(this.bz.Z);this.u1=new dQ;this.u1.parent=this;var b=this.u1.Z=u.I("div","floatcont form label6");
b.style.width="270px";var h=this.py="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aEX=["stablediffusion_inpaint_2","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var G=this.Go=[new iI("Use default settings"),new cP("Model",["Stable Diffusion 2.0","Absolute Reality 1.8.1","Dreamshaper 8"]),new aG("Neg. prompt",null,13.25),new el("Guidance",-20,20),new el("Steps",10,50),new cP("Sampler",h)];
G[0].O(w.E.w,this.a,this);G[0].k(!0);G[1].k(1);G[3].k(6);G[4].k(20);for(var Y=0;Y<G.length;Y++){b.appendChild(G[Y].Z);
u.pP(b)}}je.prototype=new fG(!0);je.prototype.a=function(){jE.prototype.a.call(this);this.Dg.a();var b=this.Go;
for(var Y=0;Y<b.length;Y++){b[Y].a();if(Y>0)b[Y].d3(!b[0].l())}};je.prototype.kD=function(b){if(b.target==this.bz){var h=new hb(w.E.r,!0);
h.S=E.Ck;h.data={q:"h_stepbck"};this.Q(h);return}var G=this.Go,H={},B=["model","negative_prompt","guidance","steps","sampler"],j=!G[0].l();
if(j){for(var Y=1;Y<G.length;Y++)H[B[Y-1]]=G[Y].l();H.model=this.aEX[H.model];H.sampler=this.py[H.sampler];
H.steps=Math.min(H.steps,50)}var h=new hb(w.E.IK,!0);h.data=E.Qb.s4("aiHeal");if(b.target==this.Dg){h.data.yo.prmt={t:"TEXT",v:this.auZ.l()};
if(j)h.data.yo.CI=H}this.Q(h)};je.prototype.em=function(b){if(u.Pg(this.u1.Z))return;var h=this.Cb.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);
G.data={q:w.p.YB,Wn:this.u1,x:h.left,y:h.top+h.height+4,WQ:!0};this.Q(G)};function fl(){dQ.call(this);
this.Z=u.I("div","cmanager");window.alert=function(H,B){this.aFb(H,B);console.log("Alert: "+H)}.bind(this);
window.onblur=function(H){var B=this;B.wo()}.bind(this);this.Ps=0;this.CN=0;this.g5=[];this.Kl={};this.J0=u.I("div","alertcont");
this.Z.appendChild(this.J0);this.aeI=u.I("div","alertcont");this.Z.appendChild(this.aeI);this.iS=u.I("div","alertcont");
this.aq_=0;this.MH=-1;this.aAB=null;this.vT=null;var b=this.a5T=u.I("div","alertpanel");b.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.iS.appendChild(b);var h=this.Vy=u.I("input");h.setAttribute("type","text");u.Yy(h);h.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
h.addEventListener("input",this.a91.bind(this),!1);h.addEventListener("keydown",this.avv.bind(this),!1);
b.appendChild(h);var G=this.wD=u.I("div","contextpanel scrollable");G.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
G.addEventListener("click",this.ajS.bind(this),!1);b.appendChild(G);u.fm(document.body,this.a7u.bind(this))}fl.prototype=new dQ;
fl.prototype.jr=function(){if(u.Pg(this.iS))this.Z.removeChild(this.iS)};fl.prototype.ayG=function(b,h){var G=this.aAB=[],H=h.aoJ;
for(var Y=0;Y<hS.data.length;Y++){var B=hS.data[Y],j=[bp.get(B.name)],s=[Y];fl.nK(B.items,j,s,G,b,h,H==null?null:H[Y]==null?0:H[Y])}var q=h.L;
for(var Y=0;Y<q.tF.length;Y++){var Q=q.tF[Y],a=q.keys[Y];for(var l=0;l<Q.length;l++)G.push([["Tools",bp.get(Q[l].S.name)],[-1,Q[l].S.id],a?a.Tb:null])}this.Z.appendChild(this.iS);
var U=this.Vy;U.focus();U.select();this.BL()};fl.prototype.a91=function(b){this.MH=-1;this.BL()};fl.prototype.BL=function(){var b=this.Vy.value.toLowerCase().trim().replace(/  +/g," "),h=this.aAB,G=[],H=[],B=b.split(" ");
if(b!="")for(var Y=0;Y<h.length;Y++){var j=h[Y][0],s=[],q=0;for(var Q=0;Q<j.length;Q++)s[Q]=-1;for(var a=0;
a<B.length;a++)for(var Q=0;Q<j.length;Q++){var l=j[Q].toLowerCase().indexOf(B[a]);if(l!=-1){s[Q]=[l,l+B[a].length];
q++;break}}if(q==B.length){G.push(h[Y]);H.push(s)}}var U=[],N=this.wD;u._I(N);for(var Y=0;Y<G.length;
Y++){var R=G[Y],S=R[0],l=H[Y],g="enab",y="";if(Y==this.MH)g+=" active";var i=u.I("div",g);U.push(i);
N.appendChild(i);for(var Q=0;Q<S.length;Q++){var o=l[Q],v=B[Q],Z=S[Q];if(o!=-1)Z=Z.slice(0,o[0])+"<span style=\"color:black\">"+Z.slice(o[0],o[1])+"</span>"+Z.slice(o[1]);
y+=Z;if(Q<S.length-1)y+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))y+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+ap.EM(R[2])+"</span>";
i.innerHTML=y}this.vT=[G,U]};fl.prototype.avv=function(b){var h=ap.r7,G=b.code;if(h(G,ap.Ac))this.jr();
var H=h(G,ap.KQ),B=h(G,ap.y3),j=h(G,ap.pr);if(H||B){this.MH=Math.max(0,Math.min(this.vT[0].length-1,this.MH+(H?-1:1)));
this.BL()}if(j&&this.MH!=-1)this.a1U(this.MH)};fl.nK=function(b,h,G,H,B,j,s){if(typeof s=="number"){if(s==0)return;
if(s==1)s=null}for(var Y=0;Y<b.length;Y++){if(s!=null&&(s[Y]==0||s[Y]==null))continue;var q=b[Y],Q=h.slice(0),a=G.slice(0),l=bp.get(q.name);
if(q.H){var U=q.H(B,j,Y);if(U.bu)l=U.bu;if(U.H==!1)continue}Q.push(l);a.push(Y);if(q.sub)fl.nK(q.sub,Q,a,H,B,j,s?s[Y]:null);
else H.push([Q,a,q.ef])}};fl.prototype.ajS=function(b){var h=b.target;if(h.tagName.toLowerCase()=="span")h=h.parentNode;
var G=this.vT[1].indexOf(h);if(G!=-1)this.a1U(G)};fl.prototype.a1U=function(b){var h=this.vT[0][b][1];
if(h[0]==-1){var G=new hb(w.E.b,!0);G.data={q:w.p.CJ,S:h[1]};this.Q(G)}else{var H=hS.data[h[0]].lb[h[1]];
for(var Y=2;Y<h.length;Y++)H=H.sub[h[Y]];var B=new hb(H.K,!0);B.S=H.S;B.data=H.i;this.Q(B)}this.jr()};
fl.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;this.wD.style["max-height"]=h-120+"px"};fl.prototype.a4g=function(b){var h=u.I("div","alertpanel");
h.textContent=bp.get(b);this.J0.appendChild(h);this.Kl[JSON.stringify(b)]=h};fl.prototype.aE7=function(b){var h=this.Kl[JSON.stringify(b)];
this.J0.removeChild(h);delete this.Kl[JSON.stringify(b)]};fl.prototype.aFb=function(b,h){var G=this.aeI;
for(var Y=0;Y<G.children.length;Y++)if(G.children[Y].textContent==b)return;var H=u.I("div","alertpanel tpanel");
H.textContent=b;H.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");G.appendChild(H);if(h==null)h=1500;
var B=h,j=Math.max(Date.now()+B,this.aq_+B);setTimeout(function(){H.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){G.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},j-Date.now()-30);
setTimeout(function(){G.removeChild(G.firstChild);G.setAttribute("style","transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},j-Date.now());
this.aq_=j};fl.prototype.a7u=function(b){var h=this.g5;for(var Y=h.length-1;Y>=0;Y--){var G=h[Y],H=b.target;
while(H!=null){if(H==G.Z){this.wo(G);return}H=H.parentNode}}this.wo();var B=b.target;while(B!=this.iS&&B!=document.body)B=B.parentNode;
if(B!=this.iS)this.jr()};fl.prototype.wo=function(b){var h=this.g5;for(var Y=0;Y<h.length;Y++){if(b&&b.a71(h[Y]))continue;
var G=h[Y].Z;if(!(h[Y]instanceof fL))u.WR(h[Y],this.Z);else this.Z.removeChild(G);G.style.height="auto";
u.Yx(G,"scrollable");h.splice(Y,1);Y--}};fl.prototype.aEo=function(b){this.wo(b.Wn);var h=b.Wn,G=h.Z;
if(this.g5.indexOf(h)!=-1)return;this.g5.push(h);this.Z.appendChild(G);var H=this.Ps,B=this.CN,j=b.x,s=b.y,q=this.Z.getBoundingClientRect(),Q=h instanceof fL,a=-1,l=B-2;
if(Q||b.WQ){var U=h.F0(),N=h.aBX();if(Q)U=Math.min(U,200);var R=H-U-2,S=B-N-2;if(s<S)a=2;else if(j<R)a=1;
else if(0<s-N-2)a=0;else a=3;if(b.ai5)a=0;if(b.a61)a=2;if(a==2){j=Math.min(j,R)}else if(a==1){s=Math.min(s,S)}else if(a==0){s=s-N-2;
j=Math.min(j,R);l=b.y}else if(a==3){j=j-U-2;s=Math.min(s,S)}}s=Math.max(2,s);var top=Math.round(s-q.y+this.Z.offsetTop);
G.style.position="absolute";G.style["z-index"]=10;if(s+h.aBX()>l){G.style.height=l-s+"px";u.eS(G,"scrollable");
if(a==3)j-=10}G.style.left=Math.round(j)+"px";G.style.top=top+"px";if(!(h instanceof fL))u._E(h)};fl.prototype.a3G=function(b){var h=b.Wn,G=this.g5.indexOf(h);
if(G==-1)return;this.g5.splice(G,1);var H=h.Z;if(!(h instanceof fL))u.WR(h,this.Z);else this.Z.removeChild(h.Z)};
fl.prototype.Zm=function(){var b=this.g5;return b.length==0?null:b[b.length-1]};fl.prototype.aoW=function(){this.a3G({Wn:this.Zm()})};
function cv(){dQ.call(this);this.Z=u.I("div","confbar")}cv.prototype=new dQ;cv.prototype.azT=function(b){b.parent=this;
u._I(this.Z);this.Z.appendChild(b.Z)};function dZ(){dQ.call(this);var b=this.Z=u.I("div","toolconf");
b.style.marginLeft="40px";this.av2=null;this.x4=null;this.xl=[new db(0),new db(1),new bP([14,9],0,100,"px"),new cr(!0),new bP([12,0],0,100,"%",0)];
for(var Y=0;Y<this.xl.length;Y++){var h=this.xl[Y];h.parent=this;h.O(w.E.w,this.a9v,this);b.appendChild(h.Z)}var G=this.PH=new h9;
this.PH.parent=this;this.avb=new iM("Tt:");var H=this.au=u.I("span");b.appendChild(H);H.appendChild(this.avb.Z);
H.appendChild(G.zc.Z);H.appendChild(G.j2.Z);H.appendChild(G.dP.Z)}dZ.prototype=new dQ;dZ.prototype.a9v=function(b){var h=this.xl.indexOf(b.target),G=b.target.l();
if(h==4){var H=new hb(w.E.r,!0);H.S=E.nc;H.data={q:C.iY,bq:Math.round(255*G/100)};this.Q(H);return}var B=JSON.parse(JSON.stringify(this.av2.a6));
if(h<2){var j,s=G;if(h==0){j=B.E_;B.E_=s}else{j=B.g9;B.g9=s}if(j.length!=s.length){var q=[1,0,0,1,0,0];
if(j.length==4){q=j[3].slice(0);q[1]*=-1;q[2]*=-1}if(j.length==2){q=j[1][1].slice(0)}if(s.length==4){s[2]=[0,0,0,1,1,0,0];
s[3]=q;q[1]*=-1;q[2]*=-1}if(s.length==2){s[1]=[[0,0,1,1,0,0,0,0,0],q]}}}if(h==2)B.nx=G;if(h==3)B=G;var H=new hb(w.E.b,!0);
H.data={q:w.p.wP,CI:ec.VZ,P:B};this.Q(H)};dZ.prototype.a=function(){for(var Y=0;Y<this.xl.length;Y++)this.xl[Y].a();
this.PH.a()};dZ.prototype.My=function(b,h){this.x4=b;this.xl[0].Cv(b);this.xl[1].Cv(b)};dZ.prototype.Fd=function(b){if(b.T.length==0)return;
var h=b.R[b.T[0]];this.xl[4].k(Math.round(h.opacity*100/255));this.au.setAttribute("style","line-height:1.5em; display:"+(h.add.TySh?"":"none"))};
dZ.prototype.rN=function(b,h){this.av2=b;var G=b.a6,H=this.x4;this.xl[0].k(G.E_,H);this.xl[1].k(G.g9,H);
if(G.nx!=null)this.xl[2].k(G.nx);this.xl[3].k(G);this.PH.k(b.Ge,b.B7,b.sP)};function dJ(b){dQ.call(this);
dJ.fM=this;dJ.BZ=b;this.Cc=null;this.w9=u.I("input","");this.w9.setAttribute("type","file");this.w9.setAttribute("multiple","");
this.w9.addEventListener("change",function(h){this.v7(h.target.files,null,this.AE,null);this.AE=null}.bind(this),!1);
document.body.appendChild(this.w9);this.w9.setAttribute("style","display:none");this.a4h=[];this.W0=!1;
this.awc=[];this.Xx=!1;this.aE3={};this.AE=null}dJ.prototype=new dQ;dJ.BZ=null;dJ.aY=function(b){try{var h={};
h[b.type]=b;navigator.clipboard.write([new ClipboardItem(h)])}catch(ku){console.error(ku,ku.message)}};
dJ.Nz=function(b,h){navigator.clipboard.read().then(function(G){for(var Y=0;Y<G.length;Y++){try{var H=G[Y],B={},j=0,s=0;
for(var q=0;q<H.types.length;q++){var Q=H.types[q];j++;H.getType(Q).then(function(a){var l=Q;new Response(a).arrayBuffer().then(function(U){B[this.qp]=U;
s++;if(s==j)dJ.a1m(B,b,h)}.bind({qp:this.qp}))}.bind({qp:Q}))}}catch(ku){console.error(ku,ku.message)}}}).catch(function(G){})};
dJ.afz=function(b){navigator.permissions.query({name:"clipboard-read"}).then(function(h){b(h.state)})};
dJ.a1m=function(b,h,G){var H=["text/plain","image/png","text/html","text/plain"];for(var B in b)console.log(B,B.startsWith("text")?J.S2(new Uint8Array(b[B])).slice(0,100)+"...":b[B]);
for(var j=0;j<H.length;j++){var s=H[j],q=b[s];if(q==null)continue;if(s=="image/png"){dJ.BZ({name:"image.png"},q,h,G);
return}if(s=="text/plain"){var Q=J.S2(new Uint8Array(q));if(j==0)if(!Q.startsWith("<!--")&&!Q.startsWith("<svg"))continue;
if(G&&Q.startsWith("<svg"))continue;var a=new hb(w.E.b,!0);a.data={q:w.p.aAI,P:Q};h.Q(a);return}if(s=="text/html"){var Q=J.S2(new Uint8Array(q)),l=Q.indexOf("src=\"");
if(l!=-1&&Q.slice(l+5,l+9)!="http"){var U=l+10;while(Q[U]!="\"")U++;var N=Q.slice(l+5,U);dJ.BZ({name:"chart.png"},aT.te(N).buffer,h,G);
return}}}};dJ.prototype.Zq=function(b){if(b==null)b=[23,5];var h=JSON.stringify(b),G=this.aE3;if(G[h]==null)G[h]=0;
if(G[h]==0){var H=new hb(w.E.b,!0);H.data={q:w.p.vW,fL:b};this.Q(H)}G[h]++};dJ.prototype.Lq=function(b){if(b==null)b=[23,5];
var h=JSON.stringify(b),G=this.aE3;if(G[h]==null)G[h]=0;G[h]--;if(G[h]==0){var H=new hb(w.E.b,!0);H.data={q:w.p.zx,fL:b};
this.Q(H)}};dJ.prototype.a4x=function(b,h){this.AE=b;var G=window.showOpenFilePicker;if(G&&window.self==window.top){var H=this;
G({multiple:!0}).then(function(s){var q=[];function Q(a){q.push(a);if(q.length==s.length){H.v7(q,null,H.AE,null,s);
H.AE=null}else s[q.length].getFile().then(Q)}s[q.length].getFile().then(Q)});return}var B=this.w9;if(h)B.setAttribute("accept",h);
else B.removeAttribute("accept");var j=document.createEvent("MouseEvents");j.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
B.dispatchEvent(j)};dJ.prototype.pG=function(b){if(b.url.indexOf("photopea.com#i")!=-1||b.url.indexOf("photopea.com/#i")!=-1){this.bp(b.url.split("#i").pop());
return}this.a4h.push(b);this.alG()};dJ.prototype.alG=function(){var b=this.a4h;if(b.length==0||this.W0)return;
this.W0=!0;var h=b.shift();this.Zq();if(h.hb==null)h.hb={};var G=new XMLHttpRequest;G.ix=h;var H=h.url;
if(h.Nd&&!H.startsWith("data:image"))H=(H);G.open("GET",H);if(h.QG)for(var B in h.QG)G.setRequestHeader(B,h.QG[B]);
G.responseType="arraybuffer";G.onload=this.adP.bind(this);G.send()};dJ.prototype.v7=function(b,h,G,H,B){for(var Y=0;
Y<b.length;Y++){this.Zq();var j=b[Y],s=new FileReader;s.ix=j;s.ix.gb=G;s.ix.c0=H;s.ajB=h;if(B)s.ix.Ed=B[Y];
s.onload=this.adP.bind(this);s.onerror=function(q){this.Lq()}.bind(this);this.awc.push([s,j])}this.w9.value=null;
this.ae7()};dJ.prototype.ae7=function(){var b=this.awc;if(b.length==0||this.Xx)return;this.Xx=!0;var h=b.shift();
h[0].readAsArrayBuffer(h[1])};dJ.prototype.a6o=function(b,h,G){this.Zq("Saving ...");this.Cc=h;setTimeout(G.bind({wK:b,caller:this}),50)};
dJ.AD=function(b){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=new Uint8Array(b),H=G.length,B=H%3,j=H-B,s=[],q=0,Q=0,a=0;
for(var Y=0;Y<j;Y+=3){q=G[Y];Q=G[Y+1];a=G[Y+2];s.push(h[q>>2]+h[(q&3)<<4|Q>>4]+h[(Q&15)<<2|a>>6]+h[a&63])}if(B==1){q=G[j];
s.push(h[q>>2]+h[(q&3)<<4]+"==")}if(B==2){q=G[j];Q=G[j+1];s.push(h[q>>2]+h[(q&3)<<4|Q>>4]+h[(Q&15)<<2]+"=")}var l=s.join("");
return l};dJ.a3d=function(b,h){var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=new Uint8Array(64),q=0,Q=0,a=0,U=0;
for(var Y=0;Y<64;Y++)H[Y]=G.charCodeAt(Y);var B=new Uint8Array(b),j=h%3,s=h-j,l=new Uint8Array(Math.floor(h/3)*4+(j==0?0:4));
for(var Y=0;Y<s;Y+=3){q=B[Y];Q=B[Y+1];a=B[Y+2];l[U]=H[q>>>2];l[U+1]=H[(q&3)<<4|Q>>>4];l[U+2]=H[(Q&15)<<2|a>>>6];
l[U+3]=H[a&63];U+=4}if(j==1){q=B[s];l[U]=H[q>>2];l[U+1]=H[(q&3)<<4];l[U+2]=61;l[U+3]=61}if(j==2){q=B[s];
Q=B[s+1];l[U]=H[q>>2];l[U+1]=H[(q&3)<<4|Q>>4];l[U+2]=H[(Q&15)<<2];l[U+3]=61}return l};dJ.prototype.adP=function(b){var h,G=b.target.ix;
if(b.target instanceof XMLHttpRequest)h=b.target.response;else h=b.target.result;dJ.BZ(G,h,this,b.target.ajB);
this.Lq();if(b.target instanceof XMLHttpRequest){this.W0=!1;this.alG()}else{this.Xx=!1;this.ae7()}};
dJ.alM=function(b,h){var G=new XMLHttpRequest;G.open("POST","https://api.imgur.com/3/image",!0);G.s2=h;
G.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");G.setRequestHeader("Content-type","application/x-www-form-urlencoded");
G.setRequestHeader("Accept","application/json");G.addEventListener("load",dJ.agG);G.send("type=base64&image="+encodeURIComponent(dJ.AD(b)));
alert("Saving to Imgur ...",4e3)};dJ.agG=function(b){var h=JSON.parse(b.target.response);if(h.success){if(b.target.s2)b.target.s2(h.data.link);
else window.open(h.data.link,"Imgur")}};dJ.prototype.bp=function(b,h,G){this.Zq();var H=new XMLHttpRequest;
H.responseType="arraybuffer";H.open("GET","templates/file/"+(G?"pp-resources":"psdshared")+"/"+b);
H.onload=this.awp.bind(this);H.send();H.re=[Date.now(),b,h?b:null,G]};dJ.prototype.awp=function(b){var h=b.target.re,G=new Uint8Array(b.target.response);
console.log(G.length+" B,",Date.now()-h[0]+" ms");for(var Y=0;Y<G.length;Y++)G[Y]=255-G[Y];G=pako.inflateRaw(G);
var H=JSON.parse(J.S2(G,0,2e3));dJ.BZ({name:H.name,U0:h[2]},G.slice(2e3).buffer,this);this.Lq();if(!h[3])dJ.Cs("act=0&id="+h[1])};
dJ.prototype.aCS=function(b,h,G,H){if(!(b instanceof ArrayBuffer))throw"e";b=new Uint8Array(b);var B=new Uint8Array(b.length+2e3),N="";
for(var Y=0;Y<2e3;Y++)B[Y]=32;J.OY(JSON.stringify({name:h}),B,0);B.set(b,2e3);b=B;b=pako.deflateRaw(b);
for(var Y=0;Y<b.length;Y++)b[Y]=255-b[Y];b=b.buffer;var j=b.byteLength,s=hd.Vd(j),q=~~(609e5/2),Q=~~(209e5/2);
if(j>q){confirm("Your file is "+s+". Our limit is "+hd.Vd(q)+". Delete some layers and try again.");
return}if(j>Q){var a=confirm("Your file is quite large ("+s+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}var l=sha1(b),U=[];for(var Y=0;Y<20;Y++){var R=parseInt(l.slice(Y*2,Y*2+2),16);U.push(R);
N+=String.fromCharCode(R)}var S=btoa(N).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(dJ.adB(S,H)){console.log("file already exists");
if(G)G(S);else window.open("https://www.photopea.com#i"+S+".psd");return}this.Zq("Publishing ...");var g=new XMLHttpRequest;
g.re=[b,l,S,G,H];g.open("GET",fH.J5("papi/img/publish.php?rnd="+Math.random()+"&id="+S+"&size="+j+"&bname="+H));
g.onload=this.a3n.bind(this);g.send()};dJ.adB=function(b,h){try{var G=new XMLHttpRequest;G.open("HEAD","templates/file/"+h+"/"+b,!1);
G.send();if(G.status==200)return!0}catch(ku){return!1}return!1};dJ.prototype.a3n=function(b){console.log(b.target.response);
var h=JSON.parse(b.target.response),G=b.target.re,H=new XMLHttpRequest;H.open("POST",h.uploadUrl);H.setRequestHeader("Authorization",h.authorizationToken);
H.setRequestHeader("X-Bz-File-Name",G[2]);H.setRequestHeader("Content-Type","b2/x-auto");H.setRequestHeader("X-Bz-Content-Sha1",G[1]);
H.send(new Blob([G[0]]));H.onload=this.a8k.bind({KB:this,re:G})};dJ.prototype.a8k=function(b){this.KB.Lq("Publishing ...");
if(this.re[3])this.re[3](this.re[2]);else window.open("https://www.photopea.com#i"+this.re[2]+".psd");
if(this.re[4]=="psdshared")dJ.Cs("act=2&id="+this.re[2]+"&fileId="+JSON.parse(b.target.response).fileId)};
dJ.Cs=function(b){var h=new XMLHttpRequest;h.open("GET","/papi/img/update.php?"+b+"&rnd="+Math.random());
h.send()};dJ.save=function(b,h){var G=new Uint8Array(b),H=document.createElement("a");if(typeof H.download=="string"){var B=new Blob([G]),j=window.URL.createObjectURL(B);
H.href=j;H.download=h;document.body.appendChild(H);H.click();document.body.removeChild(H)}else{var s="data:application/octet-stream;base64,"+dJ.AD(b);
window.open(s)}};function e6(){this.size=16;this.data=e.U(16)}e6.prototype.yC=function(b,h){if(b+h<=this.size)return;
var G=this.size;while(b+h>this.size)this.size*=2;var H=e.U(this.size);for(var Y=0;Y<G;Y++)H[Y]=this.data[Y];
this.data=H};var aB={};aB.eK=function(b,h,G,H){var B=h.split(":"),j=B[0];if(B.length==2){if(j=="jpg")H=[Math.round(100*parseFloat(B[1]))];
if(j=="webp")H=[Math.round(100*parseFloat(B[1]))];if(j=="psd")H=[!0,!0,!1,!1,!1];if(j=="svg")H=B[1].split(",").map(function(q){return q=="true"});
if(j=="jpg"||j=="webp")if(b.I7())H.push(!1)}var s=aT.JN(b,j.toUpperCase(),null,null,H,G);return s};aB.a9o=function(b,h,G){var H=b.Nw(),B=h[0];
return aB.eK(b,B,G)};aB.ayN=function(){var b=this.wK,h=this.caller,G=b.hb.Ar,H=G.formats,B,j;b.Nw();
var s=Date.now();if(G.version==1){var q=[],Q=0,l=0;for(var Y=0;Y<H.length;Y++){var a=aB.eK(b,H[Y],h.Cc);
q.push(a);Q+=a.byteLength}B=new Uint8Array(2e3+Q);var U="{ \"source\": "+JSON.stringify(b.bB)+", \"versions\": [\n";
for(var Y=0;Y<H.length;Y++){var N=new Uint8Array(q[Y]);U+="\t{\"format\": \""+H[Y].split(":")[0]+"\", \"start\": "+l+", \"size\": "+N.length+" }"+(Y+1<H.length?", ":"")+"\n";
B.set(N,2e3+l);l+=q[Y].byteLength}U+="] }";var R=J.OY(U,B,0);for(var Y=R;Y<2e3;Y++)B[Y]=32;j="application/octet-stream"}else{var S=new e6,g=0,i="",y=encodeURIComponent;
i="p="+y("{ \"source\": "+JSON.stringify(b.bB)+", \"versions\": [");J.gI(S,g,i);g+=i.length;for(var Y=0;
Y<H.length;Y++){i=y(" {\"format\": \""+H[Y].split(":")[0]+"\", \"data\": \"");J.gI(S,g,i);g+=i.length;
var a=aB.eK(b,H[Y],h.Cc),o=dJ.a3d(a,a.byteLength),R=o.length;S.yC(g,R);for(var v=0;v<R;v++){S.yC(g,3);
var Z=o[v];if(Z==43){S.data[g]=37;S.data[g+1]=50;S.data[g+2]=66;g+=3}else if(Z==47){S.data[g]=37;S.data[g+1]=50;
S.data[g+2]=70;g+=3}else if(Z==61){S.data[g]=37;S.data[g+1]=51;S.data[g+2]=68;g+=3}else{S.data[g]=Z;
g++}}i=y("\" }"+(Y+1<H.length?", ":""));J.gI(S,g,i);g+=i.length}i=y("] }");J.gI(S,g,i);g+=i.length;B=S.data.slice(0,g);
j="application/x-www-form-urlencoded"}var W=new XMLHttpRequest;W.open("POST",G.url,!0);if(j)W.setRequestHeader("Content-Type",j);
W.addEventListener("load",aB.a49.bind(this));W.send(new Blob([B.buffer]))};aB.a49=function(b){this.caller.Lq("Saving ...");
var h=b.target.response;if(h.charAt(0)=="{"){h=JSON.parse(h);if(h.newSource)this.wK.bB=h.newSource;if(h.message)alert(h.message,2e3);
if(h.script){var G=new hb(w.E.b,!0);G.data={q:w.p.um,gp:h.script};this.caller.Q(G)}}else alert("Saved. Response: "+h,1500)};
aB.amn=function(b){var h=b.gi,G=h[1].split(".").pop(),H=aB.eK(b,G,null,G=="psd"&&h[0]==1?[!0,!1,!0,!1]:null),B=Storage.E0(h[0]);
return B.aiY(h[1],H)};aB.abQ=function(b,h){var G=b.z9.cs;if(h==null)h=aB.eK(b,G);fo.xz(function(){var H=new XMLHttpRequest,B="https://www.googleapis.com/upload/drive/v3/files/"+b.z9.file.id+"?uploadType=media"+"&"+fo.apK();
H.open("PATCH",B,!0);H.addEventListener("load",function(j){var s=JSON.parse(j.target.response);alert(s.name+" updated")});
H.send(h);alert("Saving \""+b.z9.file.name+"\" to Google Drive ...")})};aB.BZ=function(b,h,G,H){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)aB.axE(b,h,G,H);
else{try{aB.axE(b,h,G,H)}catch(ku){if(ku=="low_ram"){}else{var B="Error. Please, send your file to support@photopea.com and we will solve it.";
if(aT.ni(h)=="eps")B="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(B,1e4)}}}};aB.axE=function(b,h,G,H){var B;if(b.name){var j=b.name.lastIndexOf(".");B=j==-1?b.name:b.name.slice(0,j)}else{if(b.url.substring(0,5)=="data:"||b.url.indexOf("googleapis")!=-1)B="image";
else B=b.url.substring(b.url.lastIndexOf("/")+1).split(".")[0];B=B.slice(0,50)}var s=b.name?b.name:b.url,q=new Uint8Array(h),Q=aT.ni(h);
if(Q!=null&&aT.JR(Q))fH.event("fmt_"+Q,.1);if(Q==null)Q=J.lA(q,0,4);if(Q=="ai"&&s&&s.toLowerCase().endsWith(".pdf"))Q="pdf";
if(s&&s.toLowerCase().endsWith(".raw")&&Q!="tiff"){var a=new hb(w.E.b,!0);a.data={q:w.p.C9,ut:"importraw",bY:h,_6:s.split("/").pop()};
G.Q(a);return}else if(Q=="json"){var l="";for(var Y=0;Y<q.length;Y++)l+=String.fromCharCode(q[Y]);l=decodeURIComponent(escape(l));
var U=JSON.parse(l);if(U.name&&U.url){var a=new hb(w.E.b,!0);a.data={q:w.p.api,P:U};G.Q(a)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(U)}return}if(Q=="html"){var l=J.S2(q,0,q.length),N=new DOMParser,R=N.parseFromString(l,"text/html"),S=R.getElementsByTagName("meta");
for(var Y=0;Y<S.length;Y++){var g=S[Y],i=g.getAttribute("property"),y=g.getAttribute("content"),o=null;
if(i=="og:image")o=y;if(i==null&&y&&y.startsWith("0;url=/imgres?")){var v=y.slice(14).split("&");for(var Z=0;
Z<v.length;Z++)if(v[Z].startsWith("imgurl"))o=decodeURIComponent(v[Z].slice(7))}if(o==null)continue;
var a=new hb(w.E.b,!0);a.data={q:w.p.iv,CI:{url:o,Nd:!0,gb:b.gb}};G.Q(a)}return}if(aT.JR(Q)){var W,d,$=aT.JR(Q);
if(b.gb!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(Q)!=-1){var a=new hb(w.E.b,!0);if(0<=b.gb)a.data={q:w.p.cN,target:b.gb,RI:b.c0,tR:h,du:B};
else{a=new hb(w.E.r,!0);a.data={q:C.qX,data:new Uint8Array(h),_6:B+"."+Q};a.S=E.nc}G.Q(a);return}var I=[B,$,Q,b,G,H,h];
if($.hE){var k=fq==0?"psd":"ai";W=new cj(B+(Q==k?"":"-"+Q)+"."+k);$.ho(h,W,aB.k_,I)}else{d=$.ho(h,null,aB.k_,I,G);
if(d==null)return}if($.BK!=!0)aB.k_(W,d,I);else G.Zq();return}var _=new hb(w.E.b,!0);_.data={q:w.p.rI,bY:h,Lw:b.name};
var D=b instanceof File&&b.Gq!=!0,a=new hb(w.E.b,!0);a.data={q:w.p.wP,hb:"add",CI:null,U$:null,anC:b.Gq};
if(Q=="zip"){var A=Date.now(),F=UZIP.parse(h),K="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var V in F){var r=!1;for(var Y=0;Y<K.length;Y++)if(V.toLowerCase().endsWith("."+K[Y]))r=!0;if(V.startsWith("__MACOSX/")||F[V].length==0)r=!0;
if(r)continue;var c=V.split("/").pop();aB.BZ({name:c},F[V].buffer,G,H)}}else if(Q=="jsx"||s&&s.toLowerCase().endsWith(".jsx")){if(D)G.Q(_);
var l=J.S2(new Uint8Array(h));a.data={q:w.p.um,gp:l};G.Q(a)}else if(Q=="otf"){if(D)G.Q(_);var x=Typr.parse(h);
a.data.CI=ec.ML;for(var Y=0;Y<x.length;Y++){a.data.U$=x[Y];G.Q(a)}}else if(Q=="asl"){if(D)G.Q(_);var x=aM.wZ(h,s);
a.data.CI=ec.Pl;a.data.U$=x.NL;G.Q(a);a.data.CI=ec.vr;a.data.U$=x.QW;G.Q(a)}else if(Q=="tpl"){if(D)G.Q(_);
var x=cn.wZ(h);a.data.CI=ec.pp;a.data.U$={t8:x.t8,oJ:x.oJ,list:[]};G.Q(a);if(x.att.length!=0){a.data.CI=ec.HG;
a.data.U$=x.att;G.Q(a)}if(x.QW.length!=0){a.data.CI=ec.vr;a.data.U$=x.QW;G.Q(a)}a.data.CI=ec.v_;a.data.U$=x.list;
G.Q(a)}else{var X="";for(var M in ec.VA)if(ec.VA[M][0]==Q)X=M;if(X!=""){if(D)G.Q(_);a.data.U$=ec.VA[X][2].wZ(h,s);
a.data.CI=X;G.Q(a)}else if(h.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(Q))}};
aB.k_=function(b,h,G){var H=G[0],B=G[1],j=G[2],s=G[3],q=G[4],Q=G[5],a=G[6];if(B.BK)q.Lq();if(!B.hE){if(h.length==0)return;
if(h[0].t33421||h[0].t50706){e.raw.normalize(h[0],a);console.log(h[0]);var l=new hb(w.E.b,!0);l.data={q:w.p.C9,ut:"rawpea",jb:h[0]};
q.Q(l);return}if(Q){Q(new Uint8Array(h[0].data),h[0].jD);return}b=aT.Eo(H,h)}b.U0=s.U0;b.zi=j;b.hb=s.hb;
b.bB=s.url;b.kV=s.kV;b.z9=s.z9;b.Ed=s.Ed;b.gi=s.gi;if(b.z9)b.z9.cs=j;if(b.R.length!=0){var l=new hb(w.E.b,!0);
l.data={q:s.gb==null?w.p.zX:w.p.cN,target:s.gb,RI:s.c0,tR:b};q.Q(l)}};function jp(b){dQ.call(this);this.HO=jp.HO++;
this.zt=b;this.ajw=this.a51.bind(this);this.arM=this.axx.bind(this);this.anr=this.b1.bind(this);this.a3c=this.a6X.bind(this);
this.aw8=this.afP.bind(this);this.app=this.afg.bind(this);this.PW=0;this.agI=0;this.awR=0;this.Z=u.I("div","panelblock");
this.Gk=u.I("div","block");this.qM=u.I("div","collapsed");this.Z.appendChild(this.Gk);this.$q=-1;this.S5=!0;
this.Ev=u.I("div","panelhead");this.Gk.appendChild(this.Ev);this.fy(this.Ev);this.kv=new gX("\u2261");
this.kv.Z.setAttribute("style","position:absolute; right:4px;");this.kv.O("click",this.avl,this);this._L=u.I("div","body");
this.Gk.appendChild(this._L);this.DJ=[];this.L9=null;this.VX=null}jp.HO=0;jp.prototype=new dQ;jp.PP=26.1;
jp.prototype.avl=function(b){var h=this.DJ[this.$q].vh(),G=b.currentTarget.Z.getBoundingClientRect();
h.a();h.update();h.parent=this;var H=new hb(w.E.b,!0);H.data={q:w.p.YB,Wn:h,x:G.left,y:G.top+G.height+2};
this.Q(H)};jp.prototype.VU=function(b){var h=this.Gk,G=this.Ev,H=this._L;if(u.Pg(G))h.removeChild(G);
if(u.Pg(H))h.removeChild(H);if(b==0)h.appendChild(G);h.appendChild(H);this.awR=b};jp.oO=function(b){b.stopPropagation();
b.preventDefault()};jp.prototype.a51=function(b){var h=b.dataTransfer.types;if(h[1]!=null&&h[1]!=this.HO+"")return;
jp.oO(b);var g1=b.currentTarget;if(b.target==g1)u.eS(g1,"highlight")};jp.prototype.axx=function(b){jp.oO(b);
var g1=b.currentTarget;if(b.target==g1)u.Yx(g1,"highlight")};jp.prototype.fy=function(b){b.addEventListener("dragenter",this.ajw,!1);
b.addEventListener("dragleave",this.arM,!1);b.addEventListener("dragover",jp.oO,!1);b.addEventListener("drop",this.anr,!1);
b.addEventListener("dragstart",function(h){h.dataTransfer.setData("Text","--panel");h.dataTransfer.setData(this.HO+"","")}.bind(this),!1)};
jp.prototype.b1=function(b){this.arM(b);var h=null,g1=b.currentTarget,G=this.afS(g1);if(g1==this._L&&this.$q!=-1)h=this.$q;
else if(g1==this.Ev)h=null;else if(G!=-1)h=G;var H=b.dataTransfer.getData("Text");if(H==""||H.startsWith("http")||H.startsWith("data:image/"))u.p4(b,this,h);
else if(H=="--panel"){var B=u.Kz(b,g1),j=this.DJ,s=j.slice(0),Y=this.$q,q=G==-1?j.length:B.x<g1.getBoundingClientRect().width/2?G:G+1;
if(Y==q||Y+1==q||g1==this._L)return;var Q=Y<q?q-1:q,a=j[Y];j.splice(Y,1);j.splice(Q,0,a);u._I(this.Ev);
for(var l=0;l<j.length;l++)this.Ev.appendChild(j[l].MQ);this.AG(Q);var U=[];for(var Y=0;Y<j.length;Y++)U[Y]=s.indexOf(j[Y]);
var N=new hb("shuffleItems",!1);N.data={aBK:U};this.Q(N)}else if(h!=null&&this instanceof bk){var N=new hb(w.E.b,!0);
N.data={q:w.p.a6k,awm:h};this.Q(N)}};jp.prototype.lL=function(){return null};jp.prototype.anb=function(){if(this.lL()){this.Ev.style.padding="0px";
this.VX=this.lL();this._L.appendChild(this.VX);this.RB.d3(!1);var b=new hb(w.E.b,!0);b.data={q:w.p.Nr,P:1};
this.Q(b)}};jp.prototype.ac8=function(){if(this.VX){this.Ev.style.padding="";this._L.removeChild(this.VX);
this.VX=null;this.RB.d3(!0);var b=new hb(w.E.b,!0);b.data={q:w.p.Nr,P:0};this.Q(b)}};jp.prototype.afS=function(b){var h=this.DJ;
for(var Y=0;Y<h.length;Y++)if(h[Y].MQ==b)return Y;return-1};jp.prototype.cc=function(){for(var Y=0;Y<this.DJ.length;
Y++)this.DJ[Y].Z2.rL()};jp.prototype.Jv=function(){return this.$q};jp.prototype.xK=function(){if(this.S5)return;
this.S5=!0;this.Z.removeChild(this.qM);this.Z.appendChild(this.Gk)};jp.prototype.collapse=function(){if(!this.S5)return;
this.S5=!1;this.Z.appendChild(this.qM);this.Z.removeChild(this.Gk)};jp.prototype.PP=function(){var b=0;
if(this.awR==0){b=this.Ev.getBoundingClientRect().height+1;b=Math.max(b,jp.PP)}return b};jp.prototype.aa$=function(){return this.PP()+this._L.getBoundingClientRect().height};
jp.prototype.Vb=function(b,h){this.Ev.style.maxWidth=b+"px";var G=this.PP();if(this.$q!=-1)this.DJ[this.$q].Vb(b,h-G);
return h-G};jp.prototype.rN=function(b,h){if(this.$q!=-1)this.DJ[this.$q].rN(b,h)};jp.prototype.Fd=function(b,h,G){this.DJ[this.$q].Fd(b,h,G)};
jp.prototype.tw=function(b){this.ac8();if(this.DJ.indexOf(b)!=-1){this.AG(this.DJ.indexOf(b));return}b.parent=this;
this.DJ.push(b);this.Ev.appendChild(b.MQ);b.MQ.addEventListener("mouseover",this.a3c,!1);this.fy(b.MQ);
this.qM.appendChild(b.Z2.Z);b.Z2.O("click",this.a6y,this);b.O("select",this.ae5,this);b.O(w.E.sM,this.anH,this);
this.AG(this.DJ.length-1)};jp.prototype.a6X=function(b){if(b.buttons==0)return;var h=b.currentTarget,G=h,Y=0;
while((G=G.previousSibling)!=null)Y++;this.agI=Y;h.addEventListener("mouseout",this.aw8,!1);this.PW=setTimeout(this.app,700)};
jp.prototype.afP=function(b){var h=b.currentTarget,G=h,Y=0;while((G=G.previousSibling)!=null)Y++;h.removeEventListener("mouseout",this.aw8);
clearTimeout(this.PW)};jp.prototype.afg=function(b){this.Q(new hb(w.E.azl,!1))};jp.prototype.awU=function(b){return this.agI};
jp.prototype.wC=function(Y){var b=new hb(w.E.sM,!1);b.data={q_:Y};this.Q(b);var G=this.DJ[Y];this.DJ.splice(Y,1);
this.Ev.removeChild(G.MQ);this.qM.removeChild(G.Z2.Z);G.MQ.className="";G.Z2.removeEventListener("click",this.a6y,this);
G.Z2.rL();G.removeEventListener("activate",this.ae5);G.removeEventListener(w.E.sM,this.anH);var H=this.$q;
if(Y<H)H--;else if(Y==H&&Y==this.DJ.length)H--;this.AG(H);if(this.DJ.length==0)this.anb()};jp.prototype.ads=function(){return this.DJ.length};
jp.prototype.os=function(){if(this.DJ.length!=0)this.DJ[this.$q].os()};jp.prototype.AG=function(b,h){if(h==null)h=!0;
for(var Y=0;Y<this.DJ.length;Y++)this.DJ[Y].MQ.className="";if(this.L9)this._L.removeChild(this.L9);
this.L9=null;this.$q=b;if(b==-1)return;var G=this.DJ[this.$q];this.L9=G.LJ;this._L.appendChild(G.LJ);
G.MQ.className="active";if(!this.S5){this.Q(new hb("showFloat"));this.DJ[b].Z2.zr()}if(h)this.Q(new hb(w.E.w,!1));
G.cl();var H=this.kv.Z;if(H.parentNode)this.Ev.removeChild(H);if(G.vh())this.Ev.appendChild(H);var B=new hb(w.E.b,!0);
B.data={q:w.p.dd};this.Q(B)};jp.prototype.ae5=function(b){if(this.zt&&!this.zt.arS())return;var Y=this.DJ.indexOf(b.currentTarget);
this.AG(Y)};jp.prototype.anH=function(b){if(this.zt&&!this.zt.arS())return;var Y=this.DJ.indexOf(b.currentTarget);
this.wC(Y)};jp.prototype.a6y=function(b){var h=this.DJ.indexOf(b.currentTarget.parent);if(this.DJ[h].Z2.a9())this.Q(new hb("hideFloat"));
else this.AG(h)};jp.prototype.a5I=function(b){this.Q(b)};function bk(b){jp.call(this,b);this.Ps=0;this.CN=0;
u.$f(this.Ev,this.au3.bind(this));this.K2=0;this.a7i=this.abL.bind(this);this.fy(this._L);this.zS=["default;"];
this.RB=new u.mE(this._L);this.GN=new dI(!0);this.GN.parent=this;this.zh=this.GN.Z;dI.D1(this.GN)}bk.prototype=new jp;
bk.prototype.au3=function(b){if(b.target!=this.Ev)return;var h=this.K2;this.K2=Date.now();if(Date.now()-h>300)return;
var G=new hb(w.E.b,!0);G.data={q:w.p.C9,ut:"newproject"};this.Q(G)};bk.prototype.vR=function(b,h){if(h)this.zS.push(b);
else{var G=this.zS.length-1;if(this.zS[G]==b)return;this.zS[G]=b}this.ey()};bk.prototype.auI=function(){this.zS.pop();
this.ey()};bk.prototype.ey=function(){var b=this.zS[this.zS.length-1];this.RB.Fd(b,this.Kp)};bk.prototype.rN=function(b,h){jp.prototype.rN.call(this,b,h);
this.GN.rN(b,h);if(!b.NP){}};bk.prototype.a=function(){jp.prototype.a.call(this);this.GN.a()};bk.prototype.Fd=function(b,h){for(var Y=0;
Y<h.length;Y++){var G=h[Y];this.DJ[Y].WK(G.name+(G.wz()?" *":""))}jp.prototype.Fd.call(this,b,h)};bk.prototype.lL=function(){return this.zh};
bk.prototype.Vb=function(b,h){if(this.DJ.length==0)h+=jp.PP-1;this.Ps=b;this.CN=h;h=jp.prototype.Vb.call(this,b,h);
this.Kp="height:"+h+"px; width:"+b+"px; overflow:hidden; position:relative;";this.ey();this.GN.Vb(b,h)};
bk.prototype.tw=function(b){jp.prototype.tw.call(this,b);b.MQ.addEventListener("click",this.a7i,!1)};
bk.prototype.wC=function(Y){var b=this.DJ[Y];u.iF(b.MQ,this.a7i);jp.prototype.wC.call(this,Y)};bk.prototype.abL=function(b){var h=this.K2;
this.K2=Date.now();if(Date.now()-h>300)return;var G=this.afS(b.currentTarget),H=this.DJ[G].tR.name,B=new hb(w.E.b,!0),j={K:w.E.r,S:E.nc,i:{q:C.as}};
B.data={q:w.p.C9,ut:"namewindow",Wy:H.slice(0,H.length-4),BM:j};this.Q(B)};function gc(b){dQ.call(this);
if(b)return;af.aCM(1);this.Z=u.I("div","flexrow app");this.l1=u.I("div");this.Z.appendChild(this.l1);
setTimeout(function(){var G=window.hideCap;if(G)G()},25e3);this.ai=new ap;window.addEventListener("blur",function(G){this.ai.reset()}.bind(this),!1);
window.addEventListener("resize",this.t9.bind(this),!1);var h=this.l1;this.Lv=new ij;this.Lv.parent=this;
h.appendChild(this.Lv.Z);this.XW=new fl;this.XW.parent=this;h.appendChild(this.XW.Z);this.B4=new eS(!0);
this.B4.parent=this;h.appendChild(this.B4.Z);this.O(w.E.b,this.hN,this);this.g4=this.lu.bind(this);window.requestAnimationFrame(this.g4)}gc.prototype=new dQ;
gc.prototype.lu=function(b){this.k2();window.requestAnimationFrame(this.g4)};gc.prototype.a=function(){};
gc.prototype.t9=function(b){var h=window.innerWidth,G=window.innerHeight;this.Vb(h,G)};gc.prototype.Vb=function(b,h){this.XW.Vb(b,h);
this.Lv.Vb(b,h)};gc.prototype.hN=function(b){var h=b.data.q;if(h==w.p.YB)this.XW.aEo(b.data);if(h==w.p.ne)this.XW.a3G(b.data);
if(h==w.p.vW)this.XW.a4g(b.data.fL);if(h==w.p.zx)this.XW.aE7(b.data.fL);if(h==w.p.JB)this.XW.wo()};function e5(){gc.call(this);
this.mM={x:0,y:0,mN:!1};this.UI=!1;this.wF=!1;this.Eh=null;this.a7b=0;this.aa1=!1;this.RH=0;window.onmessage=function(l){if(Storage.a0g(l.source))return;
if(l.data instanceof ArrayBuffer){var U=aT.ni(l.data),N=aT.JR(U);dJ.BZ({url:"file"},l.data,this);if(N==null)this.$m()}else if(l.data instanceof Object||l.data.startsWith("{")||l.data.startsWith("amp-")||l.data.startsWith("0=goog")||l.data.startsWith("3PCoo")||l.data.startsWith("ima://")){}else if(l.data.startsWith("--ur ")){var R=l.data.split(" ").pop(),v=null;
R=R.length==0?[]:R.split(",");console.log(R);var S=this.Yh.U$,g=new hb(w.E.b,!0);g.data={q:w.p.wP,CI:ec.Hx,bq:R};
this.Q(g);var i=R,y=S;if(y.length>i.length){var o=y;y=i;i=o}for(var Y=0;Y<i.length;Y++)if(y.indexOf(i[Y])==-1)v=i[Y];
dJ.Cs("act=3&id="+v+"&dif="+(i==R?1:-1));alert((i==R?"Resource added.":"Resource removed.")+" "+v)}else if(l.data.startsWith("--ot ")){if(this.Lv.Zm())this.Lv.Zm().close();
this.z3.bp(l.data.split(" ").pop(),!0)}else if(l.data.startsWith("--et ")){}else{var g=new hb(w.E.b,!0);
g.data={q:w.p.um,gp:l.data};this.Q(g);this.$m()}}.bind(this);window.onbeforeunload=function(l){this.agW();
for(var Y=0;Y<this.aO.length;Y++)if(this.aO[Y].wz())return this.aO[Y].name}.bind(this);window.setInterval(this.awb.bind(this),5*60*1e3);
var b=this;if(window.indexedDB&&(!ez.WA()||document.hasStorageAccess==null)){var h={yC:window.indexedDB.open("pp",1)};
h.yC.onupgradeneeded=function(l){var U=l.target.result,N=U.createObjectStore("rsrc",{keyPath:"k"})};
h.yC.onsuccess=function(l){var U=b.Yh.XB.WY=l.target.result,N=U.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=N.get("fs0");
R.onsuccess=function(l){if(l.target.result){var i=b.Yh.XB.hX=l.target.result.fset;for(var y in i){if(!y.endsWith(".jsx")&&!y.endsWith(".psd"))dJ.BZ({url:y,Gq:!0},i[y],b)}}};
var S=new BroadcastChannel("pp-tabs"),g=[];S.onmessage=function(l){if(l.data=="id")S.postMessage(b.Yh.XB.id);
else g.push(l.data)};S.postMessage("id");setTimeout(function(){var N=U.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=N.getAllKeys();
i.onsuccess=function(){var y=i.result,o=[],v=0;for(var Y=0;Y<y.length;Y++){if(y[Y]=="fs0")continue;if(g.indexOf(y[Y])!=-1)continue;
o.push(y[Y])}for(var Y=0;Y<o.length;Y++){var R=N.get(o[Y]);R.onsuccess=function(l){if(l.target.result){var Z=l.target.result.fset;
for(var W in Z){try{dJ.BZ({url:W,Gq:!0},Z[W],b);var d=b.IC();d.md=d.yR=-1}catch(l){console.log(l)}}v++;
if(v==o.length)for(var Y=0;Y<o.length;Y++){var R=N.delete(o[Y])}}}}}},200)}}var G=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],H=u.Vt[dX.EC][dX.a6D];
for(var Y=0;Y<G.length;Y++){var B=u.QB(G[Y]);if(H.indexOf(B)!=-1){var j=u.Vt[dX.EC][dX._L],s=u.QB("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
u._I(j);j[dX.a5t]=s;return}}this.L=e5.a9H();this.Yh={L:this.L,ak5:!1,vu:null,W8:0,CB:{oJ:[],t8:[],list:[],WD:null},l2:[],azM:[],nC:[],NX:[],pq:[],hK:[],aD8:[],anP:[],pq:[],Co:[e3.Az()],Oy:[],bL:[],u6:null,hU:0,a6:dE.a6.Az(),a0$:dE.a6.Az(),h6:{Z_:1,Tf:JSON.parse(JSON.stringify(dE.td[0]))},XA:dE.QA.Az(),aj5:[null].concat(dE.td),aom:[null].concat(dE.td),B7:new ku(function(l){var U=new hb(w.E.b,!0);
U.data={q:w.p.iv,CI:{url:fH.J5("rsrc/fonts/"+l)}};this.Q(U)}.bind(this)),Ge:{uh:[],bJ:null,_P:null},font:null,sP:[],U$:[],ajC:{},nU:0,W9:16777215,EW:!1,U9:!0,x$:{bE:!0,XC:!1,Vo:!0,N6:!0,DL:!0,Rd:!0,MM:20,Ob:0,RA:0,Bl:0,sZ:8421504,am:65535,mC:33023},$Q:!0,HT:[!0,!0,!1,!0,!0],Ds:[0,1,2,3,5,6,7,9,10,16,17,100],Ys:1,GV:!0,ub:{},NP:!0,a7m:!1,compact:!1,RV:1,K3:0,zh:!0,zZ:{},kS:null,XB:{id:"ts"+Math.round(Math.random()*16777215),agH:!1,asH:!1,hX:{},EL:{},WY:null},acn:0,arV:null,Ny:null,avT:null,gh:null};
ku.Fs.TR(this);this.aDt={O2:new io,aZ:new cJ};this.Yh.Ge=b_.ahc();this.yl=new hS;this.p_=new cv;this.n_=new dZ;
this.yg=new jh(this.L,!0);this.oQ=new kp;this.D7=new bk(this);this.v$=u.I("div");this.$0=!1;this.wx=this.aiq.bind(this);
u.eS(this.D7.Z,"mainblock");this.B4.parent=this.yl.parent=this.p_.parent=this.yg.parent=this.oQ.parent=this.D7.parent=this;
this.D7.O(w.E.w,this._H,this);this.D7.O(w.E.sM,this.ajE,this);this.D7.O("shuffleItems",this.arN,this);
this.D7.O(w.E.azl,this.akt,this);this.O("mouse",this.abM,this);this.O(w.E.r,this.Jd,this);this.O(w.E.IK,this.amX,this);
document.body.addEventListener("keydown",this.up.bind(this),!1);window.addEventListener("keyup",this.mQ.bind(this),!1);
window.addEventListener("paste",this.a6K.bind(this),!1);window.addEventListener("copy",this.aBc.bind(this),!1);
window.addEventListener("wheel",function(l){if(l.ctrlKey)l.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(l){if(window.innerWidth>400)l.preventDefault();
this.Yh.kS=l}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(l){if(l.azs){console.log("Service worker installing")}else if(l.aAy){console.log("Service worker installed")}else if(l.active){console.log("Service worker active")}}).catch(function(l){console.log("Registration failed with "+l)})}this.oN=0;
this.aO=[];this.z3=new dJ(aB.BZ);this.z3.parent=this;var q=this.l1,Q=this.g$=u.I("div");Q.appendChild(this.yl.Z);
Q.appendChild(this.p_.Z);this.B4.asi(Q);var a=this.a8j=u.I("div","flexrow");q.appendChild(a);a.appendChild(this.yg.Z);
a.appendChild(this.D7.Z);a.appendChild(this.oQ.Z);this.z3.pG({url:fH.J5("rsrc/basic/basic.zip")});this.BJ(E.rQ);
fH.TR(this.avc.bind(this));if(this.An())return;if(fq==0)fH.event("web_PPea",.002);if(fq==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}e5.prototype=new gc(!0);
e5.prototype.$m=function(b){var h=new hb(w.E.b);h.data={q:w.p.Ko,CI:b?b:"done"};this.Q(h)};e5.prototype.awb=function(){var b=this.Yh.XB,G=!1;
if(b.WY==null)return;var h=this.aO;for(var Y=0;Y<h.length;Y++){var H=h[Y];if(H.yR!=H.Wt){var B=Date.now(),j=aT.JN(H,"psd",0,0,[!0,!1,!0,!1,!0]);
H.yR=H.Wt;b.EL[H.name]=j;G=!0;console.log(Date.now()-B,"saving "+H.name,j.byteLength)}}if(G){var s=new hb(w.E.b);
s.data={q:w.p.wP,CI:ec.Gf,a6i:!0};this.Q(s)}};e5.prototype.avc=function(){u.Vt[dX.aAs](this.auj.bind(this),Math.pow(Math.PI,8)+u.Vt[dX.a4B][dX.aER]()*1e4);
var b=fH.pU();if(b!=null&&b.globals!=null)this.UR(b.globals);else{this.aa1=!0;var h=bp.aub();if(h&&h.length!=0){var G=h[0];
bp.a4I(G,this.wx)}}if(!this.An()){var H=u.a5C();if(H==0)this.a7m=!0;if(H==2)this.Yh.NP=!1;if(H!=1&&Math.random()<.002)u.a1G()}if(!ez.WA()||!this.Yh.NP){this.aec();
this.C6()}else{var B=u.jc(u.Vt[dX.akV]);B[dX.Xs](dX.rg,this.aD2.bind(this));var j=u.Lm("_MYOqDLGJa;A:6");
if(fq!=0)j=dX.QB("@C/25N4/9A?C;:iBQRv")+j;B[dX.oR](u.Lm("61="),j);B[dX.yk]()}this.UI=!0;this.$m()};e5.prototype.aD2=function(b){var h=JSON.parse(b.target[dX.Gb]),G=u.Vt[dX.a9y][dX.azO]()/1e3,H=u.Vt[dX.EC][dX.a6D],B=!1;
for(var j in h)if(j.indexOf(".")!=-1&&H.indexOf(j)!=-1&&parseInt(h[j])>G)B=!0;if(B)this.Yh.NP=!1;this.aec();
this.C6()};e5.prototype.C6=function(b){this.wF=!0;if(!this.Yh.zh)this.D7.zh=null;else if(this.aO.length==0)this.D7.anb();
this.SB(ec.GH);this.a();this.t9();this.oQ.Fd(this.IC(),this.aO,this.Yh)};e5.prototype.UR=function(b){var h=this.Yh;
if(b.fcolor!=null){h.nU=b.fcolor;var G=h.Ge.bJ.FillColor;if(G){var H=e.M5(h.nU);G.Values=[1,H.$/255,H.B/255,H.J/255]}}if(b.bcolor!=null)h.W9=b.bcolor;
if(b.rulers!=null)h.EW=b.rulers;if(b.extras!=null)h.U9=b.extras;if(b.favFam!=null)h.sP=b.favFam;if(b.rsrc!=null)h.U$=b.rsrc;
if(b.font!=null)h.Ge.uh[0].Name=b.font;if(b.panels!=null)h.Ds=b.panels;if(b.as!=null)h.RV=b.as;if(b.co!=null)h.K3=b.co;
if(b.eparams){var B=b.eparams,j=h.x$;if(B.guides!=null)j.bE=B.guides;if(B.grid!=null)j.XC=B.grid;if(B.gsize!=null)j.MM=B.gsize;
if(B.gunits!=null)j.Ob=B.gunits;if(B.gtype!=null)j.RA=B.gtype;if(B.runits!=null)j.Bl=B.runits;if(B.gcol!=null)j.sZ=B.gcol;
if(B.gucol!=null)j.am=B.gucol;if(B.glcol!=null)j.mC=B.glcol;if(B.sels!=null)j.Vo=B.sels;if(B.paths!=null)j.N6=B.paths;
if(B.pgrid!=null)j.DL=B.pgrid;if(B.slices!=null)j.Rd=B.slices}if(b.lang!=null)bp.a4I(b.lang,this.wx);
if(b.theme!=null)h.Ys=b.theme;if(b.topt||h.RF){var s=b.topt?b.topt:{},q=h.RF?h.RF:{};for(var Q in this.L.map){if(Q>=103)continue;
var a="t"+Q;if(s[a]||q[a])this.L.map[Q].S.L2(s[a],q[a],this)}}};e5.prototype.aec=function(){if(this.Yh.ak5)return;
this.Yh.ak5=!0;var b=null,h=window.location.href,G=h.indexOf("="),H=h.indexOf("#");if(G!=-1)b=h.substring(h.indexOf("?")+1,G);
if(H!=-1&&H!=h.length-1){b="p";G=H}if(H!=-1&&h[H+1]=="i"){this.z3.bp(h.slice(H+2,H+10))}else if(h.slice(H+1).startsWith("goog_rewarded")){}else if(H!=-1&&h[H+1]=="t"){this.z3.bp(h.slice(H+2,H+10).split("").reverse().join(""),!0)}else if(b=="p"||b=="state"){var B=h.substring(G+1,h.length);
B=JSON.parse(decodeURIComponent(B));if(b=="p"){var j=B.apis,s=this.Yh;if(j){if(j.rmbg)s.zZ.a4N=j.rmbg;
if(j.dezgo)s.zZ.$l=j.dezgo}if(B.script=="alert(73)")this.Yh.NP=!1;if(B.script)j0.arQ(this);if(B.server)this.Eh=B.server;
if(B.resources)for(var Y=0;Y<B.resources.length;Y++)this.z3.pG({url:B.resources[Y]});if(B.files)for(var Y=0;
Y<B.files.length;Y++)this.z3.pG({url:B.files[Y],hb:{Ar:B.server,a5K:B.script}});var q=B.environment;
if(q==null)q={};if(q.plugins!=null)this.oQ.aDE(q.plugins);if(q.localsave!=null)this.Yh.GV=q.localsave;
if(q.customIO!=null)this.Yh.ub=q.customIO;if(q.vmode!=null){var Q=q.vmode;if(Q==1)this.Yh.compact=!0;
if(Q==2)this.VU(1)}if(q.intro!=null)this.Yh.zh=q.intro;if(q.menus!=null)this.Yh.aoJ=q.menus;if(q.tmnu!=null)this.Yh.RF=q.tmnu;
if(q.panels!=null)this.Yh.Ds=q.panels;if(q.showtools!=null){var a=q.showtools,l=a.indexOf(this.Yh.vu);
this.Yh.A5=a;if(l==-1)this.BJ(a[0])}if(q.phrases!=null)bp.azi(q.phrases);if(q.autosave!=null){this.Yh.RV=0;
window.setInterval(function(){var R=new hb(w.E.b);R.data={q:w.p.my};this.Q(R)}.bind(this),q.autosave*1e3)}if(q.icons!=null){for(var U in q.icons)if(q.icons[U].indexOf("\"")==-1){if((U==dX.axJ||U==dX.apL)&&this.Yh.NP)continue;
PIMG[U]=q.icons[U];PIMG["__"+U]=!0}}this.UR(q);if(B.files==null&&B.script){fx.ly(B.script,this);this.$m()}}else if(b=="state"){var N=this.z3;
if(B.action=="create"){var R=new hb(w.E.b);R.data={q:w.p.C9,ut:"newproject",a7H:B.folderId};this.Q(R)}if(B.action=="open"){for(var Y=0;
Y<B.ids.length;Y++)fo.xz(function(){var g="https://www.googleapis.com/drive/v3/files/"+this.aqG,i=new XMLHttpRequest;
i.open("GET",g);i.setRequestHeader("Authorization",fo.aix());i.send();i.onload=function(y){var o=JSON.parse(y.target.response);
N.pG({url:g+"?alt=media",name:o.name,z9:{file:o,cs:""},QG:{Authorization:fo.aix()}})}}.bind({aqG:B.ids[Y]}));
alert("Loading files from Google Drive ...")}}}else{var S=window.launchQueue;if(S){var N=this.z3;S.setConsumer(function(g){var i=g.files;
console.log(i);for(var Y=0;Y<i.length;Y++){var y=i[Y];y.getFile().then(function(o){N.v7([o],null,null,null,[y])})}})}}};
e5.prototype.a=function(){var b=document.getElementById("cap");if(b){var h=!1,G=b.getElementsByTagName("h1")[0],j=0,q=0,Q=0;
G.textContent=h?"Photopea":bp.get([0,17,0]);var H=b.getElementsByTagName("p"),B=u.Vv(bp.get([0,17,1])),s=["PSD","XCF","Sketch","XD","CDR"];
for(var Y=0;Y<s.length;Y++)B=B.replace(s[Y],"<b>"+s[Y]+"</b>");if(!h)B+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
H[0].innerHTML=B;B=bp.get([0,17,2])+" "+bp.get([0,17,3]);for(var Y=0;Y<B.length;Y++){var a=B[Y];if(a=="<")q++;
if(a==">")Q++}if(!h&&q*Q==9){var l=["//github.com/photopea/"+["photo","vector"][fq]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Y=0;Y<3;Y++){var U=B.indexOf("<",j),N=B.indexOf(">",j),R=B.slice(0,U)+"<a href=\""+l[Y]+"\" target=\"_blank\">"+B.slice(U+1,N)+"</a>";
j=R.length;B=R+B.slice(N+1)}H[1].innerHTML=B}else H[1].innerHTML=bp.get([0,17,2])}var S=document.getElementById("sponsors");
if(S)S.textContent=bp.get([0,17,4]);this.B4.a();this.yl.a();this.n_.a();this.oQ.a();this.yg.a();this.Lv.a();
this.D7.a();for(var g in this.L.map)if(this.L.map[g].Fu)this.L.map[g].Fu.a()};e5.prototype.An=function(){var b=u.Vt[dX.ZF][dX.apa];
if(b&&b[1]){if(b[1].endsWith(dX.Lm("UUPSDm@ID")))return!0}return 4<u.Vt[dX.ZF][dX._$][dX.awV](dX.Lm("'$!|"))||true};
e5.prototype.Vb=function(b,h){b=Math.floor(b);h=Math.floor(h);var G=u.Lm("WUMK&AM"),H=dX.$$,B=u.Vt[dX.EC],j=Math.max(b,window.screen.width),s=Math.max(h,window.screen.height),U=0;
if(ez.io==null)ez.io=Math.min(j,s)<500||j<750?0:j<1500?1:2;var q=ez.io,Q=!this.wF||this.An()||!this.Yh.NP||fH.RW()||u.ZU()==dX.Lm("eQLZRRM?8a4=8");
if(!Q&&ez.WA()){if(this.anI==null)this.anI=Math.random()<.5;Q=this.anI}if(Q){if(q!=0&&u.Vt[G]&&this.wF)u.Vt[G]()}else{if(q==0)h-=84;
else b-=q==1?180:320}gc.prototype.Vb.call(this,b,h);if(Q&&this.$0){this.Z[dX.amB](this.v$);u._I(this.v$);
this.$0=!1}if(!Q&&!this.$0){var a=function(S){if(Math.random()<.002){if(fq==0&&ez.Ke())fH.event("gota_0")}if(fq==0&&S)u.Vt.___a=!0;
this.al8(b,h);var g=q==0?B[dX._L]:this.Z;g.appendChild(this.v$);this.v$[dX.vJ](H,u.Lm("_MMJLNDfKCAg")+(q==0?10:10)+u.Lm("_d$ebOS?I:==Ba-+# }$M"));
this.v$[H][u.Lm("_MMJLND&<:E")]=(q==0?0:19)+u.Lm("_d");this.v$[H][u.Lm("i5WJHX")]=q==0?0:1}.bind(this);
function l(){ez.axS(a)}setTimeout(l,2300);this.$0=!0}if(u.Pg(this.yl.Z))U+=31;if(u.Pg(this.p_.Z))U+=32;
this.B4.ac4=this.Yh.NP&&this.wF;this.B4.Vb(b,U);var N=h-U,R=u.Lm("_d");this.v$[H][dX.az2]=(q==0?100>>>1:h-11)+R;
this.v$[H][dX.aiK]=(q==0?b:6*Math.pow(10,2))+R;if(u.Pg(this.yg.Z))this.yg.Vb(b,N);this.oQ.Vb(b,N);this.D7.Vb(b-this.yg.F0()-this.oQ.F0(),N)};
e5.prototype.al8=function(b,h){var G=function(){var H=new hb(w.E.b);H.data={q:w.p.C9,ut:"account"};this.Q(H)}.bind(this);
ez.axR(b,h,this.v$,G)};e5.prototype.aBc=function(b){console.log("systemCopy")};e5.prototype.a6K=function(b){if(u.Qh())return;
console.log("systemPaste");if(!b.clipboardData)return;var h=b.target.tagName.toLowerCase(),G=b.clipboardData.items;
if(G==null)return;var H=this.aab.bind(this);for(var Y=0;Y<G.length;Y++){var B=G[Y],j=B.getAsFile();if(B.type.indexOf("image")!=-1){if(j.size==this.Yh.acn)return;
this.Yh.acn=j.size;if(j){j.name="image.png";this.z3.v7([j],H)}}}};e5.prototype.aab=function(b,h){var G={buffer:b,rect:h},H=this.Yh;
if(u.Qh()){var B=this.aDt,j=B.O2;if(j.j==h.j&&j._==h._){G.rect=j;G.aZ=B.aZ}}else{if(H.Ny){var s=new hb(w.E.r,!0);
s.S=E.Ck;s.data={q:"h_stepbck"};this.Q(s)}}H.Ny=G;var s=new hb(w.E.b,!0);s.data={q:w.p.CA,aw_:!0};this.Q(s)};
e5.prototype.asI=function(){if(this.Lv.Zm()!=null)alert(bp.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
e5.prototype.Jd=function(b){var h=this.IC();if(h==null){alert(bp.get([15,7,7]));return}var G=b.S==E.Uy||b.S==E.TC;
if(this.Lv.W1()&&b.G2!=!0&&!G){this.asI();return}var H=this.L,B=this.Yh.vu,j=b.S;if(j==E.rd&&B==E.xy)j=E.xy;
if(B!=j&&H.map[B].S.W1()&&!G&&!(B==E.iA&&j==E.c7)){console.log("disabling",B);H.map[B].S.disable(h,this,this.Yh,this.ai)}var s=this.L.map[j].S;
s.Jd(b.data,this,h,this.ai,this.Yh)};e5.prototype.amX=function(b){var h=this.Yh;if(b.data.NJ!=!0)aX.aEv({f6:b.data.f6,yo:b.data.yo},this,h,this.IC());
var G=h.u6,H=h.bL;if(G==null)return;var B={aoG:!1,s0:"Step",a7p:0,H:!0,exp:!1,f6:b.data.f6};if(G[2]==null)G[2]=H[G[0]].q5[G[1]].q5.length-1;
if(b.data.yo)B.yo=b.data.yo;H[G[0]].q5[G[1]].q5.splice(G[2]+1,0,B);G[2]++;this.SB(ec.r)};e5.prototype.hN=function(b){if(this.a7m){b.data=0;
return b.type}var h=b.data&&b.data.q==w.p.C9&&b.data.ut==dX.adh;if(u.Vt.__csrf&&!fH.RW()&&!h){var G=dX.Lm("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(G,5e3);return}gc.prototype.hN.call(this,b);var H=b.data.q;if(H==w.p.Av)aX.aqS(this.IC(),this.Yh.bL,b.data.Fo[0],b.data.Fo[1],this);
if(H==w.p.a6k){this.alh(b.data.awm)}if(H==w.p.aDo){this.a();this.t9()}if(H==w.p.dd)this.t9();if(H==w.p.KK)if(this.Yh.kS){this.Yh.kS.prompt();
this.Yh.kS=null}if(H==w.p.dm)this.D7.vR(b.data.ji,b.data.push);if(H==w.p.am_)this.D7.auI();if(H==w.p.aew)this._H(null,b.data.dir);
if(H==w.p.L3)this.D7.wC(this.aO.indexOf(b.data.wK?b.data.wK:this.IC()));if(H==w.p.Nr){var B=navigator.keyboard;
if(b.data.Fn&&B)B.lock(["Escape"]);if(b.data.Fn&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(b.data.Fn)document.body.webkitRequestFullScreen();if(b.data.P!=null)this.VU(b.data.P)}if(H==w.p.a1a){if(b.data.mN)this.ai._S(b.data.aoK);
else this.ai.NU(b.data.aoK);this.Z1(b.data.mN?"down":"up")}if(H==w.p.api){var j=b.data.P;this.oQ.aDE([j]);
this.a()}if(H==w.p.Qt){var s=this.IC(),q=s.Nw().slice(0),Q=s.R[s.T[0]],a=new io(0,0,s.j,s._),l=cj.pw()+"-d71c-11e5-b1ae-a548a96e5f9f",U=new hb(w.E.b,!0);
if(b.data.CI==0){var N={name:"Default/"+s.name.split(".")[0],id:l,yr:[q,a]};U.data={q:w.p.wP,hb:"add",CI:ec.Pl,U$:[N]};
this.Q(U)}if(b.data.CI==1){var R=e.U(a.X()*4);e.Zi(R,4294967295);e.z.Nm("norm",q,a,R,a,a,1);var S=e.U(a.X());
e.Rt(R,S);e.Q6(S);var g=e.VM(S,a);if(g.Zx())g=a;var i=e.U(g.X());e.wX(S,a,i,g);g.x=g.y=0;var y={O2:g,id:l,yr:[i,g]},o=f7.C3(l),v=o.Brsh.v;
v.Dmtr.v.val=Math.max(g.j,g._);v.Spcn.v.val=10;U.data={q:w.p.wP,hb:"add",CI:ec.pp,U$:{list:[{t:"Objc",v:o}],t8:[y],oJ:[]}};
this.Q(U);U.data={q:w.p.wP,CI:ec.mp,sS:o};this.Q(U)}if(b.data.CI==2){var Z=s.wV(),W=Z[0][Z[1][0]],d={Mn:"Default/"+Q.getName(),es:l,d:W.add.vmsk.clone().d},$=e.n.d4(d.d),I=new eq($.j,0,0,$._,$.x,$.y);
I.Q6();e.n.Gl(d.d,I);$.x=$.y=0;d.rc=$.clone();U.data={q:w.p.wP,hb:"add",CI:ec.HG,U$:[d]};this.Q(U)}}if(H==w.p.iv)this.z3.pG(b.data.CI);
if(H==w.p.vd){var k=b.data.ad4,_=b.data.fD;if(k!=!0&&_!=!0&&this.xZ("open"))return;var D=this.D7.Jv();
if(_)D=-1-D;this.z3.a4x(k||_?D:null,b.data.apX)}if(H==w.p.uu){var A=b.data.ago,F=b.data.Oq,K=this.Hn(A);
if(F){var V=A==ec.pp,r=[];for(var Y=0;Y<F.length;Y++)r.push((V?K.list:K)[F[Y]]);K=V?{oJ:K.oJ,t8:K.t8,list:r}:r}if(A==ec.vr){var a=new cj;
for(var Y=0;Y<K.length;Y++){var c=K[Y].Zv.Lefx;if(c)eQ.aAk(c,a,this.Yh.hK)}K={NL:a.add.Patt?a.add.Patt:[],QW:K}}if(A==ec.v_){var x=this.Yh.CB;
K={t8:[],oJ:[],list:K};console.log(K)}if(A==ec.r)K=K[b.data.Zh];var X=ec.VA[A],q=X[2].OL(K);dJ.save(q,X[1]+"."+X[0])}if(H==w.p.rI){var M=this.Yh.XB,f=b.data.aCN;
if(M.WY&&!M.agH&&!f){M.asH=window.confirm("Load \""+b.data.Lw+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
M.agH=!0}if((M.asH||f)&&M.WY){M.hX[b.data.Lw]=b.data.bY;var U=new hb(w.E.b);U.data={q:w.p.wP,CI:ec.Gf};
this.Q(U)}}if(H==w.p.aCP){var s=this.IC(),L="<!DOCTYPE HTML>";if(s==null)return;var t=aT.Au(s.Nw().buffer,s.j,s._),n=window.open();
L+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";L+="<body><img src=\""+t+"\" /></body>";
L+="</html>";n.document.write(L)}if(H==w.p.Gy){if(this.xZ("publishOnline"))return;var P=b.data.B9=="jpg"||b.data.B9=="png",s=this.IC();
if(s==null)return;if(!P&&s.U0)return;var G="Your "+(P?"picture":"document")+" will be published at "+(P?"Imgur":["Photo","Vector"][fq]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!P)G+=" We guarantee 6+ months of storage.";var z=b.data.s2?!0:confirm(G);if(z){if(b.data.B9=="psd"){var U=new hb(w.E.r,!0);
U.S=E.nc;U.data={q:C.$u};this.Q(U);var T=new io(0,0,s.j,s._);for(var Y=0;Y<s.R.length;Y++){var Q=s.R[Y];
if(Q.rect.Zx()||Q.fu()||Q.Y1()||Q.TY()||Q._5()||Q.add.TySh||Q.add.vmsk||Q.add.SoLd)continue;var p=T.D4(Q.rect);
if(!p.TW(Q.rect)&&!p.Zx()){var m=e.U(p.X()*4);e.JE(Q.buffer,Q.rect,m,p);Q.buffer=m;Q.rect=p}if(!e._1(Q.buffer,Q.rect.j,Q.rect._))continue;
var O=Q.yY(),cb=Q.opacity,cX=Q.Am,e$=Q.wi;Q.lW(!0);Q.opacity=255;Q.Am="norm";s.T=[Y];U.data={q:C.tZ,B9:"jpg"};
this.Q(U);var fz=s.R[Y];Q.lW(O);fz.lW(O);Q.opacity=fz.opacity=cb;Q.Am=fz.Am=cX,Q.wi=fz.wi=e$}}if(s.ka){s.lJ()}var eC=s.j,hw=s._,az=b.data.ax7,av;
if(az)while(Math.max(eC,hw)>az){eC=eC>>>1;hw=hw>>>1}console.log(eC,hw);if(b.data.B9=="psd")av=aT.JN(s,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(b.data.B9=="ai")av=aT.JN(s,"ai");else if(b.data.B9=="png")av=aT.JN(s,"png",eC,hw);else{var ia=aT.JN(s,"png",eC,hw),iJ=aT.JN(s,"jpg",eC,hw);
av=ia.byteLength<iJ.byteLength?ia:iJ}if(b.data.s2==null)b.data.s2=function(bS){var dC=P?bS:"https://www."+["photo","vector"][fq]+"pea.com/#i"+bS,U=new hb(w.E.b);
U.data={q:w.p.C9,ut:"linkview",aF9:dC};this.Q(U)}.bind(this);if(P)dJ.alM(av,b.data.s2);else this.z3.aCS(av,s.name,b.data.s2,"psdshared")}}if(H==w.p.my){var s=this.IC(),cx=!1;
if(s==null)return;if(s.ka){s.lJ()}if(b.data.YC){if(!this.zm(s,b.data.YC))return;var q=aB.a9o(s,b.data.YC,this.Yh);
this.$m(q);cx=!0}else if(s.kV){if(this.aO.indexOf(s.kV.$J)!=-1){var q=new Uint8Array(aT.JR("PSD").kf(s,null,null,[!0,!1])),U=new hb(w.E.r,!0);
U.data={q:C.qX,tR:s.kV.$J,data:q,id:s.kV.am4,_6:s.name};U.S=E.nc;this.Q(U);alert("Smart Object updated")}cx=!0}else if(this.xZ("save")){cx=!0}else if(s.z9){aB.abQ(s);
cx=!0}else if(s.gi){var hP=aB.amn(s);if(hP==1){alert("Already saving another file. Try again later.");
return}cx=!0}else if(s.hb&&s.hb.Ar){if(!this.zm(s,s.hb.Ar.formats))return;this.z3.a6o(s,this.Yh,aB.ayN);
cx=!0}else if(s.Ed&&(fq==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(s.zi)!=-1||fq==1&&s.zi=="ai")){this.aq6();
return}if(cx){s.md=s.Wt;s.l$=Date.now();s.qV=!0}else{var U=new hb(w.E.b,!0);U.data={q:w.p.Cl};this.Q(U)}}if(H==w.p.Cl){if(!this.Yh.GV){alert("function is disabled");
return}if(this.xZ("saveAsPSD"))return;var s=this.IC();if(s==null)return;if(!this.zm(s))return;var U=new hb(w.E.r,!0);
U.data={q:C.$u};U.S=E.nc;this.Q(U);var iS=s.R.length,e4="Your document has "+s.R.length+" layers.";if(iS>1<<15){alert(e4+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(iS>8e3&&!confirm(e4+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var cc={ZV:[]};s.root.amm([],cc);var aO=cc.ZV;if(aO.length>11&&!confirm("One layer is nested "+(aO.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+aO.join(" \uD83E\uDC1A ")+"."))return;
var bZ=window.showSaveFilePicker;if(window.parent!=window)bZ=null;if(bZ&&!b.data.ayt){var d_={suggestedName:s.name,types:[{description:["PSD","AI"][fq]+" Files",accept:fq==0?{"image/psd":[".psd"]}:{"application/pdf":[".ai"]}}]};
bZ(d_).then(function(b){s.Ed=b;s.name=b.name;s.Jg=!0;s.zi="psd";this.aq6()}.bind(this));return}var ee=window.gtag;
if(s.zL()&&ee)ee("event",s.zi+":"+u.QB(fH.RW()?"\"'|('61":"w'| "),{event_category:"Formats"});if(s.ka){s.lJ()}var b4=fq==0?"PSD":"AI",f$=aT.JR(b4);
fH.event("efmt_"+b4.toLowerCase(),.1);if(b.data.ayt){var q=s.zi=="psd"?f$.kf(s):aB.eK(s,s.zi,this.Yh);
this.awP(q,s,this)}else{var q=f$.kf(s);dJ.save(q,s.name);s.md=s.Wt;s.l$=Date.now();s.qV=!0}}if(H==w.p.CL)window.open(b.data.link,"_blank");
if(H==w.p.ajs){if(this.Lv.W1()){this.asI();return}var s=this.IC(),Q=s.R[s.T[0]],j=s.WC(Q.add.SoLd.Idnt.v);
for(var Y=0;Y<this.aO.length;Y++){var e_=this.aO[Y].kV;if(e_!=null&&e_.am4==j.Af&&e_.$J==s){this.D7.AG(Y);
return}}dJ.BZ({name:j._6,kV:{am4:Q.add.SoLd.Idnt.v,$J:s}},j.raw.buffer,this)}if(H==w.p.ap7){var s=this.IC(),Q=s.R[s.T[0]],j=s.WC(Q.add.SoLd.Idnt.v);
dJ.save(j.raw.buffer,j._6)}if(H==w.p.ars){console.log(b.data);dJ.BZ({name:b.data.gi[1].split("/").pop(),gi:b.data.gi},b.data.VN,this)}if(H==w.p.a11){var s=this.IC();
s.gi=b.data.gi;s.name=s.gi[1].split("/").pop();var U=new hb(w.E.b);U.data={q:w.p.my};this.Q(U)}if(H==w.p.ik){this.a9b()}if(H==w.p.xA){this.aaC(b.data.pc,b.data.zj,b.data.Eg)}if(H==w.p.CA){this.aq5(b.data.aw_,b.data.a62,b.data.Eg)}if(H==w.p.aAI){var fJ=b.data.P;
if(this.Yh.vu==E.rd&&this.FV().W1()){var U=new hb(w.E.r,!0);U.S=E.rd;U.data={q:"insertText",P:fJ};this.Q(U);
return}if(fJ.startsWith("vcb;")){var dV=JSON.parse(fJ.slice(4));dV[0]=e3.aeq(dV[0]);var U=new hb(w.E.r,!0);
U.S=E.YK;U.data={q:"append",VH:"Paste Paths",aC0:dV};this.Q(U)}else if(fJ.startsWith("lrs;")){var ix=fJ.split(";"),b9=this.aO[parseInt(ix[1])];
if(b9==null)return;var hV=this.IC(),gq=b9.T;b9.T=JSON.parse(ix[2]);var eH=b9.LZ(null,b9!=hV);b9.T=gq;
var U=new hb(w.E.r,!0);U.data={q:C.Dk,R:eH,$J:b9,BQ:hV};U.S=E.nc;this.Q(U)}else if(fJ.startsWith("<!--")||fJ.startsWith("<svg")){var eP=J.AY(fJ),c2=aT.JR("svg"),a=new cj("image.psd");
c2.ho(eP.buffer,a);if(this.aO.length!=0){var bL=a.R;if(bL.length==3&&bL[0].getName()=="</Layer group>"&&bL[2].fu())bL=[bL[1]];
var U=new hb(w.E.r,!0);U.S=E.nc;U.data={q:C.Dk,R:bL,$J:a,BQ:this.IC()};this.Q(U)}else this.a7c(a)}}if(H==w.p.um){fx.ly(b.data.gp,this)}if(H==w.p.Ko){if(window.parent!=window)window.parent.postMessage(b.data.CI,"*");
this.oQ.b3(b.data.CI)}if(H==w.p.tb){var dg=parseFloat(b.data.ut);if(this.Yh.Ds.indexOf(dg)==-1){var U=new hb(w.E.b,!0);
U.data={q:w.p.wP,CI:ec.Mw,P:dg,hb:"add"};this.Q(U)}this.oQ.agl(b.data.ut)}if(H==w.p.Mq){this.XW.ayG(this.IC(),this.Yh)}if(H==w.p.C9){var cN="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var Y=0;Y<cN.length;Y+=2)if(b.data.ut==cN[Y]&&this.xZ(cN[Y+1]))return;if(!this.Yh.GV&&b.data.window=="saveforweb"){alert("function is disabled");
return}this.Lv.aF8(b.data.ut,this.IC(),b.data,this.aO,this.ai)}if(H==w.p.l9)dJ.save(b.data.data,b.data.name);
if(H==w.p.zX){if(!this.Lv.W1()||b.G2)this.a7c(b.data.tR)}if(H==w.p.cN){this.D7.AG(b.data.target);var U=new hb(w.E.r,!0);
U.data={q:C.a98,tR:b.data.tR,du:b.data.du,RI:b.data.RI};U.S=E.nc;this.Q(U);this.BJ(E.E4)}if(H==w.p.a9$){cG.pl=!cG.pl;
if(this.aO.length>0)this.IC().c()}if(H==w.p.a0X){var dH=fH.pU();if(dH!=null&&dH.globals!=null)this.UR(dH.globals);
this.C6()}if(H==w.p.uz){this.z3.v7(b.data.data,null,b.data.gb,b.data.c0,b.data.aDB)}if(H==w.p.CJ){var kM=this.FV();
if(!this.Lv.Zm()!=null)this.BJ(b.data.S,b.data.Mo);var a_=this.FV();if(a_!=kM&&b.data.anY)a_.Ay(this.IC(),this,this.Yh,this.ai,this.mM)}if(H==w.p.BU){if(this.L.he)this.BJ(this.L.he)}if(H==w.p.PB){var g4=this.L.map[b.data.S].S,s=this.IC();
g4.Fy(b.data,this,s,this.ai,this.Yh);if(s)s.P6=!0;this.aBG()}if(H==w.p.XM){var iY=this.L.map[b.data.S];
this.awi(iY);iY.Fu.AR(b.data)}if(H==w.p.wP){var s=this.IC(),fa,ka=!(s&&s.T.length!=0&&s.R[s.T[0]].add.TySh),b1=b.data.CI,bg=b.data.U$,cl=this.Yh;
if(b.data.hb=="set"){var a_=E.G7[bg[1].classID];if(cl.vu!=a_)this.BJ(a_);this.L.map[a_].Fu.alA(bg,cl)}if(b.data.hb=="add"){var X=ec.VA[b1];
if(b1==ec.Mw){cl.Ds.push(b.data.P);cl.Ds.sort(function(bS,dC){return bS-dC})}else if(X==null){if(bg)cl.B7.aDX(bg,b.data.anC);
if(s)s.qV=!0}else{var c0=this.Hn(b1);if(b1==ec.pp){c0.t8=c0.t8.concat(bg.t8);c0.oJ=c0.oJ.concat(bg.oJ);
c0=c0.list;bg=bg.list}if(b1==ec.vr&&s){for(var Y=0;Y<bg.length;Y++){var c=bg[Y].Zv.Lefx;if(c)eQ.aBN(c,s,cl.hK)}}if(b1==ec.v_&&bg==null){var a=this.L.map[cl.vu].Fu.ahj();
if(a==null)return;bg=[a]}for(var Y=0;Y<bg.length;Y++)c0.push(bg[Y]);if(b1==ec.HG){var kL={};for(var Y=0;
Y<c0.length;Y++){var c_=c0[Y].Mn;while(kL[c_]!=null)c_=c0[Y].Mn=c_+"X";kL[c_]=!0}}if(b.data.anC!=!0)if(c0.length!=bg.length||b1==ec.vF||b1==ec.vr||b1==ec.u_||b1==ec.r)alert(bp.get(X[3])+" "+bp.get([23,1])+".")}}if(b.data.hb=="del"){if(b1==ec.Mw){cl.Ds.splice(cl.Ds.indexOf(b.data.P),1)}else{var X=ec.VA[b1],F=b.data.Oq,c0=this.Hn(b1);
if(b1==ec.pp)c0=c0.list;for(var Y=0;Y<F.length;Y++)c0[F[Y]]=null;for(var Y=0;Y<c0.length;Y++)if(c0[Y]==null){c0.splice(Y,1);
Y--}alert(bp.get(X[3])+" deleted.")}}if(b.data.hb=="rnm"){var X=ec.VA[b1],c0=this.Hn(b1);if(b1==ec.pp)c0=c0.list;
if(c0[b.data.Oq[0]]==null)return;X[2].WK(c0[b.data.Oq[0]],(b.data.Zg?b.data.Zg:"")+b.data.P)}if(b1==ec.Eq){var cA=b.data.P;
cl.h6=cA;cl.aj5[cA.Z_]=cA.Tf}if(b1==ec.$N){var cA=b.data.P;cl.XA=JSON.parse(JSON.stringify(cA));var aw=dE.Sc(cA);
cl.aom[aw.Z_]=aw.Tf}if(b1==ec.VZ){cl.a6=b.data.P;var kq=dE.a6.Az(),f4=!0;for(var a in kq)if(cl.a6[a]==null)f4=!1;
if(f4)cl.a0$=JSON.parse(JSON.stringify(cl.a6))}if(b1==ec.jU){cl.hU=b.data.P}if(b1==ec.Te){cl.Ge=b.data.Ge;
var gF=cl.Ge.bJ.FillColor;if(ka&&gF){var fm=gF.Values,aP={$:fm[1]*255,B:fm[2]*255,J:fm[3]*255},hh=e.wd(aP);
if(cl.nU!=hh){cl.nU=hh;fa=ec.KI}}}if(b1==ec.mp){var m=JSON.parse(JSON.stringify(b.data.sS)),gW=m.useBrushSize;
if(gW&&gW.v){m.Brsh.v.Dmtr.v.val=cl.CB.WD.Brsh.v.Dmtr.v.val;gW.v=!1}cl.CB.WD=m;var cg={f6:"select",yo:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:m.Nm.v.split("/").pop()}}]}}},iY=this.FV();
iY.KB=this;iY.track(cg)}if(b1==ec.Ie){cl.sP=b.data.bq}if(b1==ec.Hx){cl.U$=b.data.bq}if(b1==ec.KI){var cg,f0="Clrs";
if(b.data.DF<2){var hk=b.data.P,aQ=b.data.DF==0,fj=e.F.t1(e.M5(hk));if(aQ)cl.nU=hk;else cl.W9=hk;f0=aQ?"FrgC":"BckC";
cg={f6:"set",yo:{__name:"Set",classID:"setd",T:{t:"Objc",v:fj}}}}if(b.data.DF==2){var fd=cl.nU;cl.nU=cl.W9;
cl.W9=fd;cg={f6:"exchange",yo:{__name:"Exchange",classID:"Exch"}}}if(b.data.DF==3){cl.nU=0;cl.W9=16777215;
if(s!=null&&s.T.length!=0&&s.R[s.T[0]].nD==1){var fd=cl.nU;cl.nU=cl.W9;cl.W9=fd}cg={f6:"reset",yo:{__name:"Reset",classID:"Rset"}}}if(cg){cg.yo.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:f0}}]};
var iY=this.FV();iY.KB=this;iY.track(cg)}var gF=cl.Ge.bJ.FillColor;if(ka&&gF){var iu=e.M5(cl.nU),en=[1,iu.$/255,iu.B/255,iu.J/255];
if(en.join(",")!=gF.Values.join(",")){gF.Values=en;fa=ec.Te}}}if(b1==ec.tS){cl.EW=!cl.EW;this.t9()}if(b1==ec.ZN){cl.U9=!cl.U9;
this.t9()}var hl=cl.x$;if(b1==ec.H9){hl.Vo=!hl.Vo;this.t9()}if(b1==ec.I9){hl.N6=!hl.N6;this.t9()}if(b1==ec._U){hl.bE=!hl.bE;
this.t9()}if(b1==ec.V8){hl.XC=!hl.XC;this.t9()}if(b1==ec.sR){hl.DL=!hl.DL;this.t9()}if(b1==ec.S6){hl.Rd=!hl.Rd;
this.t9()}if(b1==ec.dH){cl.x$=b.data.bq;this.t9()}if(b1==ec.a8m){cl.$Q=!cl.$Q;this.t9()}if(b1==ec.Pr){cl.HT[b.data.vY]=!cl.HT[b.data.vY];
this.t9()}if(b1==ec.N7){bp.avI(b.data.lang,this.wx)}if(b1==ec.Wr){cl.Ys=b.data.Ys;this.a()}if(b1==ec.Gf&&cl.XB.WY){var ed=cl.XB.WY.transaction(["rsrc"],"readwrite").objectStore("rsrc"),hG={k:"fs0",fset:cl.XB.hX};
if(b.data.a6i)hG={k:cl.XB.id,fset:cl.XB.EL};var i0=Object.keys(hG.fset).length==0?ed.delete(hG.k):ed.put(hG);
i0.onerror=function(b){console.log(b);alert("Storing failed. Browser says: "+b.target.error.message,7e3)}}this.SB(b1);
if(fa)this.SB(fa)}};e5.prototype.aq6=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.vW,fL:"Saving ..."};
this.Q(b);setTimeout(function(){var b=new hb(w.E.b,!0);b.data={q:w.p.Cl,ayt:!0};this.Q(b)}.bind(this),20)};
e5.prototype.awP=function(b,h){h.Ed.createWritable().then(function(G){G.write(b);return G}).then(function(G){return G.close()}).then(function(G){h.md=h.Wt;
h.l$=Date.now();h.qV=!0;var H=new hb(w.E.b,!0);H.data={q:w.p.zx,fL:"Saving ..."};this.Q(H)}.bind(this)).catch(function(G){var H=new hb(w.E.b,!0);
H.data={q:w.p.zx,fL:"Saving ..."};this.Q(H)}.bind(this))};e5.prototype.agP=function(){var b=this.Yh,h=b.U$,G=b.ajC;
for(var Y=0;Y<h.length;Y++){var H=h[Y];if(G[H])continue;G[H]=!0;this.z3.bp(H,!1,!0)}};e5.prototype.aiq=function(){this.a();
this.t9()};e5.prototype.xZ=function(b){var h=this.Yh.ub[b];if(h){var G=new hb(w.E.b,!0);G.data={q:w.p.um,gp:h};
this.Q(G)}return h!=null};e5.prototype.zm=function(b,h){var G=!0,s=15;if(h){G=!1;for(var Y=0;Y<h.length;
Y++)if(h[Y].startsWith(u.Lm("__M")))G=!0}var H=b.zL()||b.kV&&b.kV.$J.zL();if(this.An())H=!1;var B=new u.Vt[dX.a9y],j=(B[u.QB("xy,b-66:")]()&1)*60+B[u.Lm("VQ]3LNRN<G")]();
if(H&&!fH.RW()&&j>s&&G){var q=u.Vt[u.QB("}$z{2*35")][u.QB("y'|!")],Q=u.Lm("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
Q+="\n\n"+u.Lm("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-j+120)+u.Lm("nYRTXTBMd");
if(q.indexOf(u.QB("\"|'/-1)(W0?@"))==-1)Q=bp.get([0,11+6,3+2]);u.Vt._cwY(Q);return!1}return!0};e5.prototype.Hn=function(b){var h=this.Yh,G=[ec.pp,ec.bX,ec.CR,ec.u_,ec.Pl,ec.HG,ec.vr,ec.vF,ec.r,ec.v_,ec.WS],H=[h.CB,h.nC,h.NX,h.pq,h.hK,h.Co,h.Oy,h.aD8,h.bL,h.l2,h.azM];
return H[G.indexOf(b)]};e5.prototype.a9b=function(){var b=this.aaC(),h=this.IC();if(h==null||h.T.length==0)return;
var G=h.R[h.T[0]],H=new hb(w.E.r);if(b==1){H.S=E.YK;H.data={q:"remove",VH:"Cut Paths"}}else{H=new hb(w.E.IK);
H.data={f6:"delete"}}this.Q(H)};e5.prototype.aaC=function(b,h,G){if(b==null)b=!1;var H=this.Yh;console.log("doCopy",b,h);
var B=this.IC();if(H.vu==E.rd&&this.FV().W1()){var j=new hb(w.E.r,!0);j.S=E.rd;j.data={q:"copyText"};
this.Q(j);return}if(B==null||B.T.length==0&&!b)return;var s=B.R[h==null?B.T[0]:h],q=B.wV(),Q=q[0],a=q[1],l=Q[a[0]];
if(!b&&l!=null&&l.add.vmsk.T.length!=0){var U=E.n8.QY(l.add.vmsk,l.add.vogk);if(u.Qh()){U[0]=e3.asl(U[0]);
var N="vcb;"+JSON.stringify(U);dJ.aY(new Blob([N],{type:"text/plain"}))}else H.gh=U;return 1}else if(B.e==null){if(u.Qh()){var N="lrs;"+this.aO.indexOf(B)+";"+JSON.stringify(B.T);
dJ.aY(new Blob([N],{type:"text/plain"}))}}else{var R,S;if(b){var g=new io(0,0,B.j,B._);S=g.D4(B.e.rect);
R=e.U(S.X()*4);e.JE(B.Nw(),g,R,S);e.Iq(B.e.channel,B.e.rect,R,S)}else if(B.ql.length!=0){S=B.e.rect.clone();
R=e.U(S.X()*4);var i=B.$B[B.ql[0]],y=i.tn(S);e.YP(y,R);e.aj(B.e.channel,R,3)}else{var o=s.tP(B,B.e);
if(o==null){alert("Copied area is empty");return}R=o.VN;S=o.rect}var v=B.s.M,Z=v[0]+v[1]+v[2];if(Z==1){var W=v.indexOf(1);
for(var Y=0;Y<R.length;Y+=4)R[Y]=R[Y+1]=R[Y+2]=R[Y+W]}var d=new cJ(B.j,B._);if(u.Qh()&&G!=!0){var $=aT.JR("PNG").ayJ(R.buffer,S.j,S._);
dJ.aY(new Blob([new Uint8Array($)],{type:"image/png"}));this.aDt={O2:S,aZ:d}}else H.Ny={buffer:R,rect:S,aZ:d};
H.arV=S.clone();H.gh=null}};e5.prototype.aq5=function(b,h,G){if(h)this.a9u=!0;console.log("doPaste");
var H=this.Yh,B=H.Ny,Q;if(this.aO.length==0){if(!b&&u.Qh()){dJ.Nz(this,null);return}if(B){var j=aT.Eo("image.psd",[{data:B.buffer.buffer,jD:B.rect}]),s=new hb(w.E.b);
s.data={q:w.p.zX,tR:j};this.Q(s)}return}var j=this.IC();if(H.vu==E.rd&&this.FV().W1()){dJ.Nz(this,null);
return}var q=j.R[j.T.length==0?j.R.length-1:j.T[0]];if(H.gh){var a=j.wV(!0),l=a[0],U=a[1];Q=l[U[0]]}var s=new hb(w.E.r,!0);
if(H.gh!=null&&Q!=null){s.S=E.YK;s.data={q:"append",VH:"Paste Paths",aC0:H.gh}}else if(!b&&u.Qh()&&G!=!0){dJ.Nz(this,this.aab.bind(this));
return}else{if(B==null)return;if(j.s5(!1)&&(j.s.M.join("")!="111"||j.ql.length!=0||q.nD>0||q.rect.Zx())){s.S=E.pp;
s.data={q:"draw",aB4:!0,VH:[5,2]}}else{s.S=E.nc;s.data={q:C.W5,aoy:this.a9u};this.a9u=!1}s.data.Ny=B;
if(B.rect.x==0&&B.rect.y==0){B.rect.x=j.j-B.rect.j>>1;B.rect.y=j._-B.rect._>>1}}this.Q(s)};e5.prototype.agc=function(){var b=this.Yh.B7;
if(b.aCd())return;for(var Y=0;Y<this.aO.length;Y++){var h=this.aO[Y];if(!jK.tO(h,b,this))continue;if(h.rm)jK.GA(h,b,this);
var G=h.add.lnk2;if(G)for(var H=0;H<G.length;H++){var B=G[H];if(B.rm)E.lk.dA(h,B.Af,B.P0[1],B.P0[1],b)}if(h.atH)continue;
h.atH=!0;if(h.hb&&h.hb.a5K)fx.ly(h.hb.a5K,this);this.$m();var j=new hb(w.E.r);j.S=E.$b;j.data={q:"cropAndStr"};
var s=new hb(w.E.b);s.data={q:w.p.tb,ut:jd.nI.abb};s.data={q:w.p.C9,ut:"mockups",B9:0,index:[10,0]}}};
e5.prototype.SB=function(b){this.agP();var h=this.Yh,G=h.vu,q=!1;if(b==ec.mp){if(this.L.map[G].Fu)this.L.map[G].Fu.rN(h,b)}else for(var H in this.L.map)if(this.L.map[H].Fu)this.L.map[H].Fu.rN(h,b);
if(b==ec.ML){if(G!=E.rd)this.L.map[E.rd].S.rN(h,b);this.agc()}this.D7.rN(h,b);this.yg.rN(h,b);this.Lv.rN(h,b);
if(fq==1&&b==ec.VZ){var B=new hb(w.E.r,!0);B.S=E.nc;B.data={q:C.ck};this.Q(B)}else this.FV().rN(h,b);
this.oQ.rN(h,b);this.yl.rN(h,b);if(fq==1)this.n_.rN(h,b);if(b==ec.Wr||b==ec.GH){af.aCM(h.Ys);this.update(!0)}var j=h.Ge,s=j.bJ.Font;
if(b==ec.Te&&s!=null&&j.uh[s].Name!=h.font){h.font=j.uh[s].Name;q=!0}if([ec.Mw,ec.Ie,ec.Hx,ec.KI,ec.tS,ec.ZN,ec.dH,ec._U,ec.V8,ec.H9,ec.I9,ec.sR,ec.S6,ec.N7,ec.Wr].indexOf(b)!=-1||q)this.aBG()};
e5.prototype.aBG=function(){if(!this.UI)return;var b={},h=this.L.map;for(var G in h){var H=h[G].S;if(H.Ch&&H.Ch()!=null)b["t"+G]=H.Ch()}var B=this.Yh,j=B.x$,s={guides:j.bE,grid:j.XC,sels:j.Vo,paths:j.N6,pgrid:j.DL,slices:j.Rd,gsize:parseFloat(j.MM.toFixed(2)),gunits:j.Ob,gtype:j.RA,runits:j.Bl};
if(j.sZ!=8421504)s.gcol=j.sZ;if(j.am!=65535)s.gucol=j.am;if(j.mC!=33023)s.glcol=j.mC;var q={fcolor:B.nU,bcolor:B.W9,rulers:B.EW,extras:B.U9,favFam:B.sP,rsrc:B.U$,panels:B.Ds,eparams:s,lang:bp.aE1(),theme:B.Ys,as:B.RV,co:B.K3,topt:b};
if(B.font!=null)q.font=B.font;var Q=fH.pU();if(Q==null)Q={};Q.globals=q;fH._f(Q)};e5.prototype.rO=function(b){var h=this.ai,G=this.mM,H=this.Yh.vu,B=this.L.map[H].S,j=null,s=!1;
for(var Y=0;Y<this.L.awa.length;Y++){var q=this.L.awa[Y],Q=!0;for(var a=0;a<q.ef.length;a++){var l=q.ef[a];
if(!h.W(l))Q=!1}if(Q&&(!q.CY||!B.W1())&&(q.qt==null||q.qt.indexOf(H)!=-1)){j=q.S;s=q.CY;break}}if((!G.mN||H==E.mY||b)&&this.L.Xl!=j&&(j!=H||!s)){var U=this.IC();
if(this.L.Xl!=null&&j==null)this.FV().disable(U,this,this.Yh,h,!0);this.L.Xl=j;this.FV().enable(U,this,this.Yh,h,j!=null&&j!=H)}};
e5.prototype.eo=function(b){var h=this.Yh.vu,G=this.IC();if(h!=null){this.L.map[h].S.disable(G,this,this.Yh,this.ai)}};
e5.prototype.awi=function(b){if(b.Fu==null){b.Fu=new b.Hy(b.S.id);b.Fu.a8p(b.S.id,b.S.DA);b.Fu.rN(this.Yh,ec.GH);
b.Fu.a()}};e5.prototype.BJ=function(b,h){if(b==E.E4&&this.Lv.Zm())return;var G=this.IC(),H=this.Yh;if(this.L.map[b].S.CE(G,H,h)){this.eo();
if(b!=H.vu)this.L.he=H.vu?H.vu:E.rQ;H.vu=b;this.yg.BJ(H.vu);var B=this.L.map[b];this.L.Ew[B.jA]=B.aA9;
this.awi(B);this.p_.azT(fq==0?B.Fu:this.n_);var j=B.S;j.enable(G,this,this.Yh,this.ai,!1,h);if(G)G.P6=!0;
this.t9();this.B4.a5D()}};e5.prototype.FV=function(b){var h=this.L,G=h.nY,H=h.Xl,B=this.Yh.vu;if(G)B=G;
else if(H&&b==null)B=H;return h.map[B].S};e5.prototype.a7c=function(b){var h=this.Yh,G=this.aO.indexOf(b);
if(G!=-1){this.D7.AG(G);return}if(this.Eh&&(b.hb==null||b.hb.Ar==null)){b.hb={Ar:this.Eh}}if(b.bB==null){b.bB="local,"+this.a7b+","+b.name;
this.a7b++}b.l$=Date.now();if(fq==1&&b.add.arts==null)b.aoh();if(ez.Ke()!=0&&!this.aa1&&u.Vt[u.QB("t$&!'31")].toString().indexOf(u.QB(" u,$4&"))==-1){alert(u.QB("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var Y=0;Y<b.R.length;Y++){var H=b.R[Y];if(H.add.SoLd!=null){var B=Date.now()}}var j=b.R.length,s=dX.hW(),q=Math.PI*(6550<<14)+(u.KX(31)?20:10)*7e7;
if(s>q){var j=b.R.length;b.R=[];return j}if(cG.pl){cG.Qr(Math.max(b.j,b._));for(var Y=0;Y<b.R.length;
Y++){var H=b.R[Y];if(H.P4())cG.Qr(Math.max(H.rect.j,H.rect._))}}b.UL();b.Xu();if(b.an$)b.ahK();else b.c();
b.an$=!1;this.aO.push(b);this.D7.tw(new jA(b));b.P6=!0;b.qV=!0;this.agc();var Q=new hb(w.E.r);Q.S=E.ig;
Q.data={q:"auto",nw:2}};e5.prototype.IC=function(){return this.aO[this.oN]};e5.prototype.arS=function(){return this.Lv.Zm()==null};
e5.prototype._H=function(b,h){this.eo();var G=this.aO.length;if(h!=null)this.D7.AG((this.D7.Jv()+h+G)%G);
this.oN=this.D7.Jv();var H=this.IC();this.yl.My(H,this.Yh);if(fq==1)this.n_.My(H,this.Yh);this.oQ.Fd(H,this.aO,this.Yh);
this.t9();if(H)H.P6=!0};e5.prototype.ajE=function(b){this.eo();var h=this.aO,G=h[b.data.q_];h.splice(b.data.q_,1);
if(h.length==0){this._H(b);var H=cG.tM(),B=jA.p$.tQ;if(H.parentNode)H.parentNode.removeChild(H);if(B.parentNode)B.parentNode.removeChild(B)}this.agW(G.name)};
e5.prototype.agW=function(b){var h=this.Yh.XB,G=!1;if(h.WY==null)return;for(var H in h.EL){if(b==null||H==b){delete h.EL[H];
G=!0}}if(G){var B=new hb(w.E.b);B.data={q:w.p.wP,CI:ec.Gf,a6i:!0};this.Q(B)}};e5.prototype.arN=function(b){var h=[],G=b.data.aBK;
for(var Y=0;Y<G.length;Y++)h[Y]=this.aO[G[Y]];this.aO=h;this.oN=this.D7.Jv()};e5.prototype.akt=function(b){var h=this.D7,G=h.awU(),H=this.FV(),B=this.IC();
if(G==h.Jv()||!H.a85())return;this.alh(G,H)};e5.prototype.alh=function(b,h){console.log("dup2doc");var G=this.Yh,H=this.D7,B=this.IC(),j=this.aO[b],s,q=new hb(w.E.r,!0);
q.S=E.nc;if(B.e==null){q.data={q:C.Dk,R:B.LZ(null,!0),$J:B,BQ:j,avB:h==null};this.Q(q)}else s=B.R[B.T[0]].tP(B,B.e);
var Q=this.mM,a=G.EW;G.EW=!1;Q=B.s.Fj(Q.x,Q.y);if(h)h.f9(B,this,G,this.ai);H.AG(b);if(B.e){q.data={q:C.W5,Ny:{buffer:s.VN,rect:s.rect}};
this.Q(q)}Q=j.s.yF(Q.x,Q.y);if(h)h.Ay(j,this,G,this.ai,Q);G.EW=a};e5.prototype.abM=function(b){var h=this.IC(),G=this.ai,H=this.Yh,B=b.lx;
if(B)this.mM=B;if(B)B.y-=H.K3;if(this.uP==null)this.uP=0;if(b.action=="multidown"){this.q7=b.fd.length;
this.uP=Date.now()}if(b.action=="up"&&Date.now()-this.uP<100){var j=new hb(w.E.r);j.S=E.Ck;j.data={q:this.q7==2?"h_stepbck":"h_stepfwd"};
this.Q(j)}if(b.action.startsWith("multi")){var s=new hb(w.E.r,!0);s.data={q:b.action,fd:b.fd};s.S=E.TC;
this.Q(s);return}var q=this.L.map[E.rQ].S;if((b.action=="down"||b.action=="rdown")&&H.vu!=E.rQ&&this.L.Xl!=E.rQ&&q.aoV(h,this,H,G,B)){this.L.nY=E.rQ;
q.enable(h,this,H,G,!0)}if(b.action=="idown"){G._S("Space");this.rO(!0);b.action="down"}var Q=this.Lv.Zm(),a=Q!=null&&Q.UJ()&&this.L.Xl==null?Q:this.FV();
if(b.action=="scroll"){var l=!G.W(ap.zb)&&b.yw,s=new hb(w.E.r,!0);s.data={q:"scroll",Vs:b.Vs.clone(),lx:B,aij:l};
s.S=G.W(ap.p0)||l?E.TC:E.Uy;this.Q(s)}if(Q!=null&&a!=Q&&this.Lv.W1()&&a.id!=E.Uy&&a.id!=E.TC)return;
if(b.action=="down")a.Ay(h,this,H,G,B);if(b.action=="rdown")a.Pf(h,this,H,G,B);if(b.action=="move")a.Jl(h,this,H,G,B);
if(b.action=="up"||b.action=="iup"||b.action=="cancellast")a.dq(h,this,H,G,B,b.action=="cancellast");
if(b.action=="rup")a.Of(h,this,H,G,B);if(b.action=="iup"){G.NU("Space");this.rO(!0)}if(b.action=="cancellast"){if(h&&h.history.length!=0&&Date.now()-h.history[h.history.length-1].atY<200){var j=new hb(w.E.r);
j.S=E.Ck;j.data={q:"h_stepbck"};this.Q(j)}}var U=this.oQ;if(b.action=="down")U.Ay(h,this,H,G,B);if(b.action=="move")U.Jl(h,this,H,G,B);
if(b.action=="up")U.dq(h,this,H,G,B);if(b.action=="down"||b.action=="up"){this.rO()}if(b.action=="down"||b.action=="up"||b.action=="ctx"){h.P6=!0}if((b.action=="up"||b.action=="rup")&&this.L.nY){this.L.nY=null;
q.disable(h,this,H,G)}};e5.prototype.k2=function(b){var h=this.IC(),G=this.mM;if(h&&this.FV().xX(G,this.ai)){var H=h.s,B=H.q5.j,j=H.q5._,s=0,q=0,Q=16;
if(G.x<Q)s=Q-G.x;if(G.x>B-Q)s=G.x-(B-Q);if(G.y<Q)q=Q-G.y;if(G.y>j-Q)q=G.y-(j-Q);var a=this.ai.W(ap.J3)?8:1;
if((s!=0||q!=0)&&(h.j*H.D>B||h._*H.D>j)){s=Math.min(5,s*.5)*a;q=Math.min(5,q*.5)*a;if(G.x>Q)s=-s;if(G.y>Q)q=-q;
H.f.x+=s;H.f.y+=q;this.abM({lx:this.mM,action:"move"});h.Jg=!0}}this.update()};e5.prototype.update=function(b){var h=this.IC();
if(h==null)return;if(fq!=0){if(h.buffer)throw"e"}if(h.P6){var G=this.L.map;for(var H in G){if(G[H].S.hk)G[H].S.hk(h,this,this.Yh,this.ai)}if(fq==1){G[E.MY].S.hk(h,this,this.Yh,this.ai,!0)}}if(h.ka&&fq==0)if(cG.pl)cG.Qr(Math.max(h.j,h._));
if(h.ka&&fq==0){h.lJ()}var B=h.s,j=this.RH,s=this.RH=Date.now();if(h.ka||h.nh||h.qV||h.Jg||b||B.k1!=B.D||!B.Nt.TW(B.f)){var q=B.k1;
if(B.k1!=B.D){var Q=E.Qf.amr(B.D,B.k1>B.D),a=.12;if(B.k1<B.D&&B.k1<Q)B.k1=Q;if(B.k1>B.D&&B.k1>Q)B.k1=Q;
var l=Math.abs(B.D-Q)*(s-j)*.001/a;if(B.k1<B.D)B.k1=Math.min(B.D,B.k1+l);else B.k1=Math.max(B.D,B.k1-l)}var U=q==B.D?0:(B.k1-B.D)/(q-B.D);
B.Nt.x=B.f.x+U*(B.Nt.x-B.f.x);B.Nt.y=B.f.y+U*(B.Nt.y-B.f.y);this.D7.rN(this.Yh,null);this.D7.Fd(h,this.aO)}if((h.ka||h.Jg||h.P6)&&(!this.mM.mN||h.VS)){if(h.P6)h.Xu();
this.oQ.Fd(h,this.aO,this.Yh);this.yg.abl(h,this.ai);if(fq==1)this.n_.Fd(h);h.fH=!1}h.VS=!1;h.P6=!1;
h.ka=null;h.nh=h.qV=h.Jg=!1};e5.prototype.up=function(b){var h=b.target.tagName.toLowerCase(),G=b.target.getAttribute("type"),H=ap,B=H.r7(b.code,H.pr);
if(!((h=="input"||h=="select"||h=="button")&&H.r7(b.code,H.xa))){if(H.aw0(b)&&h!="select"){b.preventDefault()}this.ai._S(H.axj(b));
this.Z1("down")}};e5.prototype.mQ=function(b){if(b.key==" ")this.ai.S9();if(ap.r7(b.code,ap.at9))this.ai.reset();
this.ai.NU(ap.axj(b));var h=b.target.tagName.toLowerCase();if(ap.aw0(b)&&h!="select"){b.preventDefault()}this.Z1("up")};
e5.prototype.Z1=function(b){var h=this.ai,G=this.IC(),H=G!=null&&G.T.length!=0;if(this.XW.Zm()!=null){if(h.W(ap.Ac)||h.W(ap.pr)){this.XW.aoW()}return}this.rO();
var B=this.Lf(ap.zb),j=h.W(ap.p0),s=h.W(ap.J3);if(B&&h.W(ap.Qj)&&b=="down"){var q=new hb(w.E.r),Q=new hb(w.E.b);
q.S=E.Ck;if(s){q.data={q:"h_stepfwd"}}else{q.data={q:"h_stepbck"}}if(this.Lv.Zm()!=null&&this.Lv.Zm().W1()){}else this.Q(q)}if(B){var q=new hb(w.E.r),a=new hb(w.E.IK),Q=new hb(w.E.b);
if(h.W(ap.qv)&&h.W(ap.Y5)){Q.data={q:w.p.C9,ut:"storwindow"};this.Q(Q)}if(!j&&b=="down")for(var l in eZ.keys){var U=eZ.keys[l],N=!0;
for(var Y=0;Y<U.length;Y++)if(!h.W(U[Y]))N=!1;if(N){q.S=E.ig;if(l=="hue2"&&s&&G.R[G.T[0]].add.SoLd==null)q.data={q:"auto",nw:3};
else q.data={q:"start",xU:l}}}if(h.W(ap.p)){if(j){a.data={f6:"selectAllLayers",yo:{classID:"null",null:aX.eP("Lyr",!0)}}}else a.data=E.pC.V$(!0)}if(h.W(ap.ew)){if(j)Q.data={q:w.p.C9,ut:"csize"};
else if(G)Q.data={q:w.p.xA,pc:s}}if(h.W(ap.xO)&&G.e){a.data=E.pC.V$()}if(h.W(ap.E)&&b=="down"){if(s)a.data={f6:"mergeVisible"};
else if(gL.$g(G).H)a.data={f6:"mergeLayersNew",yo:{__name:"Merge Layers",classID:"Mrg2"}}}if(h.W(ap.dU)){if(s&&this.Yh.vu!=E.E4)Q.data={q:w.p.C9,ut:"afw_fade"};
else if(j){q.S=E.c7;q.data={q:"applylast"}}else Q.data={q:w.p.Mq}}if(h.W(ap.M$)){if(j&&G&&G.HX(G.T[0])){q.S=E.nc;
q.data={q:C.iy}}else{q.S=E.nc;q.data={q:C.Qp,ZM:s}}}if(fq==1&&h.W(ap.Ba)){q.S=E.nc;q.data={q:C.Qp,Sz:!0,ZM:j}}if(h.W(ap._c)){Q.data={q:w.p.wP,CI:ec.ZN}}if(h.W(ap.qv)){if(s){q.data=null;
if(j)Q.data={q:w.p.C9,ut:"finfo"};else a.data={f6:"inverse"}}else if(j)Q.data={q:w.p.C9,ut:"isize"}}if(h.W(ap.Mr)){a.data={f6:(s?"cut":"copy")+"ToLayer"}}if(h.W(ap.zf)){Q.data={q:w.p.C9,ut:"preferences"}}if(h.W(ap.aM)){if(s){q.S=E.nc;
q.data={q:C.Wf}}else if(b=="down")Q.data={q:w.p.C9,ut:"newproject"}}if(h.W(ap.OE)){if(j)Q.data={q:w.p.C9,ut:"storwindow",vX:0};
else{Q.data={q:w.p.vd};h.reset()}}if(h.W(ap.As)){Q.data={q:w.p.aCP};h.reset()}if(h.W(ap.nI)){Q.data={q:w.p.wP,CI:ec.tS}}if(h.W(ap.h1)&&b=="down"){if(s){if(j)Q.data={q:w.p.C9,ut:"saveforweb"};
else Q.data={q:w.p.Cl}}else Q.data={q:w.p.my}}if(h.W(ap.Z5)){if(s){q.S=E.nc;q.data={q:C.hR};this.Q(q);
q.S=E.E4;q.data={q:"again"}}else Q.data={q:w.p.CJ,S:E.E4}}if(h.W(ap.ic)){Q.data={q:w.p.CA}}if(h.W(ap.aDW)){this.D7.os()}if(h.W(ap.Lz)&&G&&G.ahN()){Q.data={q:w.p.ik}}if(h.W(ap.kO)&&G){q.S=E.TC;
q.data={q:"prvw"}}if(h.W(ap.oo)||h.W(ap.pu)){q.S=E.nc;q.data={q:C.EN,DF:0};if(h.W(ap.oo))q.data.DF=s?3:2;
else q.data.DF=s?0:1}if(h.W(ap.Q4)&&G){q.S=E.nc;q.data={q:C.LX}}if(h.W(ap.pr)&&G){var R=0;if(s)R++;if(j)R+=2;
q.S=E.Bi;q.data={q:"frompath",Fo:[null,0,R]}}if(h.W(ap.lq)){a.data=E.w8.EF(0)}if(h.W(ap.xa)){var S=this.aO.length,g=h.W(ap.J3)?-1:1;
if(S>1)this.D7.AG((this.D7.Jv()+S+g)%S)}if(h.W(ap.Kb)){Q.data={q:w.p.wP,CI:ec._U}}if(h.W(ap.gq)){Q.data={q:w.p.wP,CI:ec.V8}}E.Qf.auo(h,q);
if(this.Lv.Zm()!=null&&this.Lv.Zm().W1()){}else{if(q.data)this.Q(q);if(a.data)this.Q(a);if(Q.data)this.Q(Q)}}if(!B&&j){var i;
if(h.W(ap.oo))i="Bckw";if(h.W(ap.pu))i="Frwr";if(h.W(ap.Q4))i="Back";if(h.W(ap.lq))i="Frnt";if(i){var a=new hb(w.E.IK);
a.data={f6:"select",yo:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:i}}]},MkVs:{t:"bool",v:!1}}};
this.Q(a)}}if(G&&G.T.length!=0){var y=G.R[G.T[0]],o=y.nD;if(o==1||o==3||B){var q=new hb(w.E.r),v=o==3?y.T0(G).u:y.Y1();
if(v){var Z=v.Da?G.s.M.join("")=="111"?1:2:0;q.S=E.TC;if(v&&h.W(ap.Ac)&&Z!=0){q.data={q:"mskView",P:0}}if(v&&h.W(ap.aAH)){q.data={q:"mskView",P:Z==1?0:1}}if(v&&h.W(ap.a4d)){q.data={q:"mskView",P:Z==2?0:2}}if(q.data)this.Q(q)}}}var W=h.dx();
if(G&&B&&2<=W&&W<=5){var d=[1,1,1];if(W>2){d=[0,0,0];d[W-3]=1}var $=new hb(w.E.r,!0);$.S=E.Uy;$.data={q:"setcls",M:d};
this.Q($)}if(!h.W(ap.zb)&&!j&&b=="down"){var q=new hb(w.E.r),Q=new hb(w.E.b),I=this.L.map[this.Yh.vu],k=-1;
for(var Y=0;Y<this.L.keys.length;Y++)if(this.L.keys[Y]&&this.Lf(this.L.keys[Y]))k=Y;if(k!=-1){var _=null;
if(I.jA!=k)_=this.L.Ew[k];if(I.jA==k&&s)_=(I.aA9+1)%this.L.tF[k].length;if(_!=null){var D=this.L.tF[k][_].S.id,A=this.Yh.A5;
if((A==null||A.indexOf(parseInt(D))!=-1)&&!this.mM.mN)Q.data={q:w.p.CJ,S:D}}}if(h.W(ap._c))Q.data={q:w.p.CJ,S:E.Uy};
if(h.W(ap.nI))Q.data={q:w.p.CJ,S:E.Wo};if(h.W(ap.Lz))Q.data={q:w.p.wP,CI:ec.KI,DF:2};if(h.W(ap.xO))Q.data={q:w.p.wP,CI:ec.KI,DF:3};
if(Q.data)this.Q(Q);if(h.W(ap.ais)&&G&&G.T.length==1){var y=G.R[G.T[0]];q.S=E.nc;var F=y.Xb(0)||y.Xb(1)||y.Xb(2)||y.Xb(31);
q.data={q:C.NN,bq:F?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.Q(q)}var W=h.dx();if(H&&W!=-1&&this.Lf(ap.X3[W])){var K=G.T[0],y=G.R[K],V=ap.acZ(Math.round(100*y.opacity/255),W);
q.S=E.nc;q.data={q:C.iY,bq:Math.round(255*V/100)};this.Q(q)}var r=this.Yh.W8;if(h.W(ap.xa)){Q.data={q:w.p.Nr,P:r==0?1:0};
this.Q(Q)}if(h.W(ap.dU)||h.W(ap.Ac)&&r==2){var c=document.fullscreenElement!=null==(r==2);Q.data={q:w.p.Nr,P:r==0?2:0,Fn:c};
this.Q(Q)}if(h.W(ap.akn)&&!this.mM.mN){q.S=E.Bi;q.data={q:"qmask"};this.Q(q)}}if(!h.W(ap.zb)&&!j&&s){var q=new hb(w.E.r),Q=new hb(w.E.b);
if(h.W(ap.Q4))Q.data={q:w.p.C9,ut:"shortcuts"};if(h.W(ap.a4a))Q.data={q:w.p.C9,ut:"fill"};if(h.W(ap.axO))Q.data={q:w.p.C9,ut:"sel_feather"};
if(H&&(h.W(ap.za)||h.W(ap.Od))){var K=G.T[0],y=G.R[K],x=aq.B5,X=x.length,M=x.indexOf(y.Am);q.S=E.nc;
q.data={q:C.Ud,bq:(M+X+(h.W(ap.za)?1:-1))%X};this.Q(q)}if(Q.data)this.Q(Q)}var q=new hb(w.E.r),f=b=="down"&&(this.Lf(ap.TD)||this.Lf(ap.Y6));
if((B||j)&&f){q=new hb(w.E.IK);q.data=E.Qb.s4(B?"BckC":"FrgC");this.Q(q)}else if(this.Lv.Zm()==null&&G&&f&&!this.mM.mN){if(G.e!=null){q=new hb(w.E.IK);
q.data={f6:"delete"}}else if(G.T.length!=0){var y=G.R[G.T[0]];if(y.nD==1)q.data={q:C.PU};else if(y.nD==3)q.data={q:C.cU};
else q.data={q:C.rU};q.S=E.nc}this.Q(q)}if(this.Lv.Zm()!=null){if(h.W(ap.Ac)){this.Lv.Zm().ao$()}else{this.Lv.Zm().Z1(G,this,this.Yh,h)}}if(this.Yh.vu==null)return;
var I=this.FV();if(this.Lv.Zm()==null||this.L.Xl)I.Z1(G,this,this.Yh,h)};e5.prototype.Lf=function(b){var h=this.ai,G=this.L.map[this.Yh.vu].S,top=this.Lv.Zm(),H=this.IC();
return h.W(b)&&!G.BB(b,H)&&(top==null||!top.BB(b,H))};e5.prototype.VU=function(b){var h=this.a8j,G=this.l1;
this.Yh.W8=b;var H=u.Pg,B=this.yl.Z;if(H(B))this.g$.removeChild(B);var j=this.p_.Z;if(H(j))this.g$.removeChild(j);
var s=this.yg.Z;if(H(s))h.removeChild(s);var q=this.D7.Z;if(H(q))h.removeChild(q);var Q=this.oQ.Z;if(H(Q))h.removeChild(Q);
if(b==0){this.g$.appendChild(B);this.g$.appendChild(j);G.appendChild(h);h.appendChild(s);h.appendChild(q);
h.appendChild(Q)}if(b==1){this.g$.appendChild(B);h.appendChild(q)}if(b==2){h.appendChild(q)}this.D7.VU(b==2?1:0);
this.t9()};e5.prototype.auj=function(b){if(this.An())return 1;if(u.a5C()==0){this.Yh={};this.Vb=function(h,G){return Math.sqrt(h*G)}}return-1};
e5.a9H=function(){var b=fq==0?[[{S:new E.uW,Hy:fC},{S:new E._7,Hy:fW}],[{S:new E.rs,Hy:aL,Jh:0},{S:new E.J9,Hy:di,Jh:0}],[{S:new E.Le,Hy:fD,Jh:0},{S:new E.ms,Hy:a7,Jh:0},{S:new E.K0,Hy:hE,Jh:0}],[{S:new E.Oz,Hy:kh,Jh:0},{S:new E.lV,Hy:hF,Jh:0},{S:new E.pi,Hy:e0,Jh:0}],[{S:new E.a6Z,Hy:f3},{S:new E.ag8,Hy:kT},{S:new E.gt,Hy:eU,Jh:0},{S:new E.So,Hy:ci,Jh:0}],[{S:new E.NK,Hy:fu},{S:new E.NB,Hy:fI,Jh:0},{S:new E.dV,Hy:g_}],[{S:new E.sw,Hy:iO,Jh:0},{S:new E.A8,Hy:jf,Jh:0},{S:new E.Le(!0),Hy:je,Jh:0},{S:new E.nQ,Hy:dW,Jh:0},{S:new E.ahG,Hy:dx,Jh:0},{S:new E.wE,Hy:jn,Jh:0}],[{S:new E.b7,Hy:eg,Jh:0},{S:new E.zl,Hy:aA,Jh:0},{S:new E.$E,Hy:ae,Jh:0}],[{S:new E.AZ,Hy:jc,Jh:0}],[{S:new E.QX,Hy:iX,Jh:0},{S:new E.Ww,Hy:iU,Jh:0},{S:new E.Gi(!0),Hy:gx,Jh:0}],[{S:new E.Yk,Hy:gK,Jh:0},{S:new E.Gi,Hy:gx,Jh:0}],[{S:new E.kE,Hy:jI,Jh:0},{S:new E.bV,Hy:a9,Jh:0},{S:new E.ro,Hy:e2,Jh:0}],[{S:new E.hA,Hy:h6,Jh:0},{S:new E.DK,Hy:kj,Jh:0},{S:new E.OJ,Hy:i2,Jh:0}],[{S:new E.oP,Hy:h5},{S:new E.T5,Hy:h5}],[{S:new E.Vz(0),Hy:h8},{S:new E.vI,Hy:ev},{S:new E.Vz(1),Hy:h8},{S:new E.Vz(2),Hy:h8},{S:new E.Vz(3),Hy:h8},{S:new E.Vz(4),Hy:h8}],[{S:new E.Rl,Hy:hD},{S:new E.hj,Hy:da}],[{S:new E.Rect,Hy:gJ},{S:new E.yT,Hy:cY},{S:new E.YX,Hy:bN},{S:new E.d6,Hy:iv},{S:new E.pk,Hy:cT}],[{S:new E.tg,Hy:fM},{S:new E.BO,Hy:ju}],[{S:new E.Qf,Hy:ik}]]:[[{S:new E.uW,Hy:fC}],[{S:new E.hj,Hy:da}],[{S:new E.Vz(0),Hy:h8}],[{S:new E.vI,Hy:ev}],[{S:new E.oP,Hy:h5},{S:new E.T5,Hy:h5}],[{S:new E.YX,Hy:bN}],[{S:new E.Rect,Hy:gJ},{S:new E.yT,Hy:cY}],[{S:new E.pL,Hy:fM}],[{S:new E.vM,Hy:gK}],[{S:new E.tg,Hy:fM},{S:new E.BO,Hy:ju}],[{S:new E.Qf,Hy:ik}]],q="",Q="";
if(fq==0&&!u.SN(1))b[6].splice(2,1);var h=fq==0?[ap.ic,ap.P2,ap.RY,ap.aDW,ap.ew,ap.qv,ap.Mr,ap.ge,ap.h1,ap.E,ap.M$,null,ap.OE,ap.Z5,ap.As,ap.p,ap.Y5,ap._c,ap.Qj]:[ap.ic,ap.p,ap.As,null,ap.Z5,ap.aAH,ap.P2,null,ap.M$,ap._c,ap.Qj],G=[{S:E.TC,CY:!1,ef:[ap.az3,ap.Jn]},{S:E.Uy,CY:!1,ef:[ap.Jn]},{S:E.B0,CY:!0,ef:[ap.zb],qt:[E.Zc]},{S:E.Zc,CY:!0,ef:[ap.zb],qt:[E.B0]},{S:E.sr,CY:!0,ef:[ap.zb],qt:[E.YK,E.MY,E.yx]}];
if(fq==0)G.push({S:E.YK,CY:!0,ef:[ap.zb],qt:[E.sr,E.c2,E.Ou,E.v3,E.JX,E.qN]});G.push({S:E.rQ,CY:!0,ef:[ap.zb]});
var H={awa:G,tF:b,Ew:[],keys:h,hn:[{S:new E.ark,Hy:ca},{S:new E.adc,Hy:j9},{S:new E.aam,Hy:eV},{S:new E.NK(!0),Hy:fu},{S:new E.RR,Hy:id}],dz:[{S:new E.lk},{S:new E.History},{S:new E.jx},{S:new E.kU},{S:new E.HR},{S:new E.Jo}],map:{},he:null,Xl:null,nY:null},B=H.tF;
for(var Y=0;Y<B.length;Y++){var j=B[Y];if(ez=="---")continue;for(var s=0;s<j.length;s++)if(j[s].Jh!=null&&j[s].Jh!=fq){j.splice(s,1);
s--}if(j.length==0){B.splice(Y,1);H.keys.splice(Y,1);Y--}}for(var Y=0;Y<H.tF.length;Y++){var a=H.tF[Y];
if(a=="---")continue;var l=H.keys[Y];for(var s=0;s<a.length;s++){H.map[a[s].S.id]=a[s];a[s].jA=Y;a[s].aA9=s;
var U=bp.get(a[s].S.name);Q+="<li>"+a[s].S.id+": "+U+"</li>";q+="\t"+JSON.stringify(a[s].S.name)+", "+(l?"\""+l.Tb+"\"":"null")+", "+a[s].S.id+", // "+U+"\n"}H.Ew[Y]=0}for(var Y=0;
Y<H.hn.length;Y++)H.map[H.hn[Y].S.id]=H.hn[Y];for(var Y=0;Y<H.dz.length;Y++)H.map[H.dz[Y].S.id]=H.dz[Y];
return H};function j_(b){dQ.call(this);if(b==null)return;this.Ps=null;this.CN=null;this.Z=u.I("div","sbar"+" "+b);
this.n0=new u.I("div","top");this.n0.innerHTML="> <";this.Z.appendChild(this.n0);this.s8=1;this.n0.addEventListener("click",this.aki.bind(this),!1)}j_.prototype=new dQ;
j_.prototype.aki=function(b){if(this.Ps!=null&&this.Ps<500&&this.s8==0)return;if(this.s8==0)this.xK(!0);
else this.collapse(!0)};j_.prototype.a53=function(b){this.s8=b;this.n0.innerHTML=this.s8==0?"< >":"> <"};
j_.prototype.agp=function(){var b=new hb(w.E.b,!0);b.data={q:w.p.dd};this.Q(b)};j_.prototype.xK=function(b){this.a53(1);
if(b)this.agp()};j_.prototype.collapse=function(b){this.a53(0);if(b)this.agp()};j_.prototype.G$=function(){return this.s8==1};
function j1(b,h){j_.call(this,"vcolumn");this.A7=b;this.aCb=h;this.Jj();this.Er=u.I("div");this.Er.setAttribute("style","cursor:default;");
this.adY=this.aeK.bind(this);this.adH=this.aqO.bind(this);this.aEu=this.apI.bind(this);u.fm(this.Z,this.adY);
this.Z.appendChild(this.Er);this.Hm=u.I("div");this.Er.appendChild(this.Hm);this.HA=-1;this.anv=u.I("div","float");
var G=this.dy=u.I("canvas","gsicon"),H=Math.round(12*u.V());G.width=G.height=H;var B=G.getContext("2d");
B.moveTo(2,2);B.lineTo(H-2,H-2);B.moveTo(2,7);B.lineTo(H-7,H-2);B.stroke();this.dy.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
u.TB(this.dy);u.fm(this.dy,this.adY);u.dY(G);this.S7=[];this.OV=[];this.as6=null;this.Tp=null;this.akH=0}j1.prototype=new j_;
j1.prototype.aeK=function(b){var h=b.target==this.dy;if(!h){if(b.target!=this.Z)return;if(!this.G$())return}else{var G=this.S7[this.HA].Gk;
G.style.pointerEvents="none";var H=G.getBoundingClientRect();this.as6=[H.width,H.height];this.OV[this.HA]=[H.width,H.height]}b.stopPropagation();
this.Tp=u.Kz(b,document.body);this.akH=this.A7;u.fe(document,this.adH);u.$f(document,this.aEu)};j1.prototype.aqO=function(b){var h=u.Kz(b,document.body);
if(this.G$()){this.A7=this.akH+this.Tp.x-h.x;this.Jj()}else{var G=this.OV[this.HA],H=this.as6;G[0]=H[0]+this.Tp.x-h.x;
G[1]=H[1]+h.y-this.Tp.y}var B=new hb(w.E.b,!0);B.data={q:w.p.dd};this.Q(B)};j1.prototype.apI=function(b){if(!this.G$()){var h=this.S7[this.HA].Gk;
h.style.pointerEvents="auto"}u.CV(document,this.adH);u.iF(document,this.aEu)};j1.prototype.asY=function(b){b.O("showFloat",this.ahe,this);
b.O("hideFloat",this.x2,this);this.S7.push(b);b.parent=this;this.Er.appendChild(b.Z)};j1.prototype.aCu=function(Y){var b=this.S7[Y];
b.removeEventListener("showFloat",this.ahe,this);b.removeEventListener("hideFloat",this.x2,this);this.S7.splice(Y,1);
b.parent=null;this.Er.removeChild(b.Z)};j1.prototype.a3O=function(){return this.S7.length};j1.prototype.cc=function(){for(var Y=0;
Y<this.S7.length;Y++)this.S7[Y].cc()};j1.prototype.ahe=function(b){this.cc();var h=this.anv;this.Hm.appendChild(h);
this.HA=this.S7.indexOf(b.currentTarget);var G=this.S7[this.HA].Gk;u._I(h);h.appendChild(G);h.appendChild(this.dy);
this.Vb(this.Ps,this.CN)};j1.prototype.x2=function(b){this.cc();if(this.HA!=-1){this.Hm.removeChild(this.anv);
this.HA=-1}};j1.prototype.Jj=function(){function b(h){return Math.round(h*u.V())/u.V()}this.Z.setAttribute("style","width: "+this.A7+"px; border-left-width:"+b(4)+"px; cursor:ew-resize;")};
j1.prototype.xK=function(b){this.Jj();this.x2();for(var Y=0;Y<this.S7.length;Y++)this.S7[Y].xK();j_.prototype.xK.call(this,b)};
j1.prototype.collapse=function(b){this.Z.removeAttribute("style");for(var Y=0;Y<this.S7.length;Y++)this.S7[Y].collapse();
j_.prototype.collapse.call(this,b)};j1.aDg=11;j1.prototype.Vb=function(b,h){this.Ps=b;this.CN=h;h-=j1.aDg;
var G=this.S7.length;if(G==0)return;if(!this.G$()){var H=h<400?h:400+(h-400)*.5;for(var Y=0;Y<G;Y++){var B=this.S7[Y],j=this.OV[Y];
B.Vb(j?j[0]:this.A7,j?j[1]:H)}}else{var s=h;for(var Y=0;Y<G;Y++){var B=this.S7[Y],q=B.aa$();if(Y==G-1){q=s;
B.Z.style.borderBottom="none"}B.Vb(this.A7,q);s-=q+4}}};function eS(b){dQ.call(this);this.Z=u.I("div");
this.Er=null;this.R4=0;this.sN=0;this.ays=b;this.adQ=this._M.bind(this);this.aul=this.wv.bind(this);
this.aB6=this.om.bind(this);this.M0=null;this.bd=null;this.dG=null;u.fm(this.Z,this.adQ);var h=this.Z,H="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
h.addEventListener("touchmove",u._2,!1);this.ac4=!0;this.g8=[];var G=this.aFa=u.I("div");G.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.Z.appendChild(G);var B=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",H+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",H+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",H+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Y=0;Y<B.length;Y++){var j=new gX(B[Y]);this.g8.push(j);j.Z.setAttribute("style","margin-left:"+(Y<7?4:0)+"px;cursor:pointer;");
j.O("click",this.L$,this)}}eS.prototype=new dQ;eS.prototype.a=function(){var b=this.aFa;u._I(b);for(var Y=0;
Y<this.g8.length;Y++){var h=this.g8[Y];if(Y<5)h.a();b.appendChild(h.Z)}};eS.prototype.L$=function(b){var Y=this.g8.indexOf(b.currentTarget);
if(Y==0){if(window.showCap)window.showCap();return}var h=" issues learn blog api twitter facebook".split(" "),G=["","//github.com/photopea/"+["photo","vector"][fq]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],H=window.ga;
if(H)H("send","event","Links",h[Y]);var B=new hb(w.E.b,!0);B.data={q:w.p.CL,link:G[Y]};this.Q(B)};eS.prototype._M=function(b){if(b.ale){b.preventDefault();
b.stopPropagation()}var h=window;u.fe(h,this.aul);u.$f(h,this.aB6);h=this.Er;this.M0=new cJ(parseInt(h.style.left),parseInt(h.style.top));
this.bd=u.Kz(b,this.Z);this.dG=h.getBoundingClientRect()};eS.prototype.wv=function(b){var h=u.Kz(b,this.Z),G=this.M0.x+h.x-this.bd.x,H=this.M0.y+h.y-this.bd.y,B=this.R4-this.dG.width,j=this.sN-this.dG.height;
if(this.ays)this.Er.style.left=Math.min(0,Math.max(B,G))+"px";else this.Er.style.top=Math.min(0,Math.max(j,H))+"px";
if(G-10>0){this.bd.x=h.x-10;this.M0.x=0}if(G+10<B){this.bd.x=h.x+10;this.M0.x=B}};eS.prototype.om=function(b){var h=window;
u.CV(h,this.aul);u.iF(h,this.aB6)};eS.prototype.asi=function(b){if(this.Er){this.Z.removeChild(this.Er)}this.Er=b;
this.Z.appendChild(b);b.style.position="absolute";if(this.ays)b.style.left=0;else b.style.top=0};eS.prototype.Vb=function(b,h){this.R4=b;
this.sN=h;this.Z.setAttribute("style","position:relative; width: "+b+"px; height: "+h+"px; overflow:hidden; white-space: nowrap; ");
var G=this.Er.firstChild,H=this.aFa,B=G?G.firstChild.getBoundingClientRect().width+80:1e9,j=170,s=this.ac4&&b>B+j;
H[dX.$$][dX.ara]=s?"":dX.aEU;var q=this.g8;for(var Y=0;Y<q.length;Y++){var Q=Y>4||b-B>500?"":dX.aEU,a=q[Y];
a.Z.style.display=Q}};eS.prototype.a5D=function(){this.Er.style.left="0";this.Er.style.top="0"};function kp(){dQ.call(this);
this.Cc=null;this.Uf=kp.As;this.avz="";this.Z=u.I("div","rightbar");this.fS=[new j1(300),new j1(268,!0)];
this.S7=[new jp,new jp,new jp,new jp,new jp,new jp,new jp];this.ata=[]}kp.prototype=new dQ;kp.prototype.a=function(){var b=this.Uf;
for(var Y=0;Y<b.length;Y++)b[Y].Wn.a()};kp.As=fq==0?[{Wn:new jy,Pd:3},{Wn:new fi,Pd:1},{Wn:new ko,Pd:4},{Wn:new bX,Pd:2},{Wn:new h1(!0),Pd:5},{Wn:new ea(!0),Pd:5},{Wn:new dj,Pd:0},{Wn:new ar,Pd:5},{Wn:new ip,Pd:3},{Wn:new fT,Pd:0},{Wn:new i1,Pd:3},{Wn:new gL,Pd:2},{Wn:new gD,Pd:4},{Wn:new jP,Pd:3},{Wn:new bv,Pd:5},{Wn:new h1(!1),Pd:5},{Wn:new fE,Pd:2},{Wn:new ks,Pd:3},{Wn:new at,Pd:1},{Wn:new gV,Pd:0},{Wn:new d0,Pd:5},{Wn:new fK,Pd:6,_z:!0}]:[{Wn:new d4,Pd:5},{Wn:new h1(!0),Pd:5},{Wn:new h1(!1),Pd:5},{Wn:new ar,Pd:5},{Wn:new fT,Pd:0},{Wn:new gL,Pd:2},{Wn:new fK,Pd:6,_z:!0}];
if(u.SN(1))kp.As.push({Wn:new iz,Pd:6,_z:!0});kp.As.push({Wn:new bU,Pd:6,_z:!0},{Wn:new as,Pd:6,_z:!0});
(function(){var b=[{id:jd.nI.ana,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var Y=0;Y<b.length;Y++)kp.As.push({Wn:new eE(b[Y],100+Y),Pd:6,_z:!0})}());kp.prototype.aDE=function(b){for(var Y=0;
Y<b.length;Y++){var h=b[Y],G=new eE(h,"plg_"+h.name);this.Uf.push({Wn:G,Pd:6});this.ata.push(G.DU)}this.BL()};
kp.prototype.rN=function(b,h){this.Cc=b;var G=this.Uf;for(var Y=0;Y<G.length;Y++)G[Y].Wn.rN(b,h);if(h==ec.Mw||h==ec.GH)this.BL()};
kp.prototype.b3=function(b){var h=this.Uf;for(var Y=0;Y<h.length;Y++)h[Y].Wn.b3(b)};kp.prototype.Vb=function(b,h){this.Ps=b;
this.CN=h;this.BL();this.fS[0].Vb(b,h);this.fS[1].Vb(b,h)};kp.prototype.BL=function(){var b=this.Cc,h=this.Ps,G=this.CN;
if(b==null||h==0)return;var H=b.Ds.concat(this.ata),B=h<500||h<700&&h<G,j=JSON.stringify(H)+","+B;if(j!=this.avz){this.avz=j;
u._I(this.Z);var s=[];for(var Y=0;Y<this.fS.length;Y++){var q=this.fS[Y];s[Y]=q.G$();while(q.a3O()!=0)q.aCu(0);
q.xK()}var Q=[];for(var Y=0;Y<this.S7.length;Y++){var a=this.S7[Y];a.xK();while(a.ads()!=0)a.wC(0);Q.push(0)}for(var Y=0;
Y<H.length;Y++){var l=this.abh(H[Y].toString());if(l==null)continue;this.S7[l.Pd].tw(l.Wn);this.S7[l.Pd].AG(0);
Q[l.Pd]++}var U=[];for(var Y=0;Y<Q.length;Y++){if(Q[Y]==0)continue;var N=Y<3||B?1:0,q=this.fS[N];q.parent=this;
q.asY(this.S7[Y]);U[N]=!0}for(var Y=0;Y<this.fS.length;Y++)if(U[Y])this.Z.appendChild(this.fS[Y].Z);
this.fS[0].collapse();if(h<700||this.Cc.compact||!s[1]){this.fS[1].collapse()}var R=new hb(w.E.b,!0);
R.data={q:w.p.dd};this.Q(R)}};kp.prototype.abh=function(b){for(var Y=0;Y<this.Uf.length;Y++)if(this.Uf[Y].Wn.DU==b)return this.Uf[Y]};
kp.prototype.agl=function(b){var h=this.abh(b);this.S7[h.Pd].tw(h.Wn)};kp.prototype.Fd=function(b,h,G){var H=this.Uf;
for(var Y=0;Y<H.length;Y++)H[Y].Wn.Fd(b,h,G)};kp.prototype.Ay=function(b,h,G,H,B){var j=this.Uf;for(var Y=0;
Y<j.length;Y++)j[Y].Wn.Ay(b,h,G,H,B)};kp.prototype.Jl=function(b,h,G,H,B){var j=this.Uf;for(var Y=0;
Y<j.length;Y++)j[Y].Wn.Jl(b,h,G,H,B)};kp.prototype.dq=function(b,h,G,H,B){var j=this.Uf;for(var Y=0;
Y<j.length;Y++)j[Y].Wn.dq(b,h,G,H,B)};function jh(b,h){j_.call(this,"toolbar");this.Z.removeChild(this.n0);
this.dM=u.I("div","tools");this.Z.appendChild(this.dM);this.A5=null;this.vu=null;this.aaN=h;this.zP=null;
this.x4=null;this.az$=-1;this.arD={};this.aAC=b;this.L=null;this.DJ=null;this.Ic=null;this.Q9=null;this.K8=new h$;
this.K8.Z.style.marginTop="5px";this.K8.Z.style.marginBottom="3px";this.K8.parent=this;this._a=new gX(u.b5("lrs/mask"),!1,[6,6,1]);
this._a.O("click",function(j){var s=new hb(w.E.r,!0);s.S=E.Bi;s.data={q:"qmask"};this.Q(s)},this);var G=new jH(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
G.O(w.E.w,this.a9E,this);var H=u.I("span","rangecontFloat form padded");H.appendChild(G.Z);H.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var B=this.Z;this.ae1=[!1,!1,!1,!1];this.X6=new gX(u.b5("kb"),!1,"Virtual Keys");this.X6.O("click",function(j){var s=this.X6.Z.getBoundingClientRect();
H.style.top=s.top-110+"px";H.style.left=s.left+s.width+8+"px";if(u.Pg(H)){u.WR({Z:H},B)}else{B.appendChild(H);
u._E({Z:H})}},this)}jh.prototype=new j_;jh.prototype.a9E=function(b){var h=b.target.l();this.X6.k(h[0]||h[1]||h[2]||h[3]);
var G=new hb(w.E.b,!0);for(var Y=0;Y<4;Y++){if(h[Y]!=this.ae1[Y]){G.data={q:w.p.a1a,mN:h[Y],aoK:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][Y]};
this.Q(G)}}this.ae1=h.slice(0)};jh.prototype.abl=function(b,h){this.zP=h;this.x4=b;if(b==null||b.T.length==0||b.R[b.T[0]]==null)return;
var G=b._a()!=null,H=b.s.M,B=b.R[b.T[0]].nD,j=B==1||B==3||G||H[0]+H[1]+H[2]==1;this.K8.a30(j);this._a.k(G)};
jh.prototype.ann=function(b,h){var G=b.length,H=[];for(var Y=0;Y<G;Y++)H[Y]=b[Y].slice(0);b=H;var B=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],j=Math.min(B.length/2,G-h);
for(var Y=0;Y<j;Y++){var s=B[2*Y],q=B[2*Y+1];b[s]=b[s].concat(b[q]);b[q]=null}for(var Y=0;Y<b.length;
Y++)if(b[Y]==null){b.splice(Y,1);Y--}return b};jh.prototype.aaj=function(b,h){for(var Y=0;Y<h.length;
Y++)for(var G=0;G<h[Y].length;G++)if(h[Y][G].S.id==b)return Y};jh.prototype.alQ=function(b){var h=this.aAC;
this.DJ=[];this.Ic=[];this.Q9=[];this.L=[];var G=h.tF;if(b!=null&&this.aaN)G=this.ann(G,b);var H=this.A5;
if(H){var B=[];for(var Y=0;Y<G.length;Y++){var j=[];for(var s=0;s<G[Y].length;s++){var q=G[Y][s];if(H==null||H.indexOf(parseInt(q.S.id))!=-1)j.push(q)}if(j.length>0)B.push(j)}G=B}for(var Y=0;
Y<G.length;Y++){var Q=[],a=this.DJ.length,l=null,U=-1;for(var s=0;s<G[Y].length;s++){var q=G[Y][s].S,N=this.aaj(q.id,h.tF),R=h.keys[N];
if(R==ap._c&&s==1)R=ap.nI;this.L.push(q);var S=new b2(q.name,R,q.DA,this.DJ.length,Y,G[Y].length>1);
this.DJ.push(S);var g=this.arD[q.id];if(g==null)g=0;if(g>U){U=g;l=S}S.O(w.E.w,this.tX,this);S.O("mover",this.yN,this);
Q.push({name:q.name,lU:q.DA,ef:R?R.Tb:""})}this.Ic.push(l);this.Q9.push(Q.length==1?null:[Q,a])}};jh.prototype.Vb=function(b,h){var G=this.CN=h,H=32;
if(1<u.V()&&u.V()<1.5)H=18+14*(1/u.V());var B=39+23,j=Math.floor((G-B)/H);if(j!=this.az$){this.az$=j;
this.alQ(j);this.BJ()}var s=this.Ic.length*H+B,q=Math.min(1,G/s);if(.75<=q){this.dM.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+q+","+q+");");
this.Z.setAttribute("style","height:"+(h-2)+"px;")}else{G-=4;this.dM.setAttribute("style","height: "+G+"px;  width:"+Math.ceil(s/G)*34+"px");
this.Z.setAttribute("style","")}};jh.prototype.a=function(){if(this.L==null)return;for(var Y=0;Y<this.DJ.length;
Y++)this.DJ[Y].a()};jh.prototype.tX=function(b){var h=new hb(w.E.b,!0);h.data={q:w.p.CJ,S:this.L[b.id].id};
this.Q(h)};jh.prototype.aAu=function(b){var h=b.target.a0J+b.target.QO()[0];this.DJ[h].om(null,!0)};
jh.prototype.yN=function(b){var h=this.zP,G=new hb(w.E.b,!0);G.data={q:w.p.JB};this.Q(G);var H=b.target,B=this.Q9[H.jA];
if(B==null)return;var j=new fL(B[0],null,!0);j.a0J=B[1];j.jA=H.jA;j.O("select",this.aAu,this);j.parent=this;
j.a();var s=H.Z.getBoundingClientRect(),G=new hb(w.E.b,!0);G.data={q:w.p.YB,Wn:j,x:s.left+s.width+8,y:s.top};
if(h==null||!(h.W(ap.Jn)||h.W(ap.zb)))this.Q(G)};jh.prototype.BJ=function(b){if(b==null)b=this.vu;this.vu=b;
if(this.L==null)return;this.arD[b]=Date.now();var h=-1;for(var Y=0;Y<this.L.length;Y++)if(this.L[Y].id==b)h=Y;
for(var Y=0;Y<this.DJ.length;Y++){var G=this.DJ[Y];G.aCo(h==Y)}if(h==-1)return;this.Ic[this.DJ[h].jA]=this.DJ[h];
u._I(this.dM);var H=this.Ic;for(var Y=0;Y<H.length;Y++){this.dM.appendChild(H[Y].Z)}if(!this.aaN)return;
this.dM.appendChild(this.K8.Z);if(this.CN>640&&fq==0)this.dM.appendChild(this._a.Z);this.dM.appendChild(this.X6.Z)};
jh.prototype.rN=function(b,h){if(h==ec.GH&&b.A5){this.A5=b.A5;this.alQ();this.BJ()}this.K8.ayv(b.nU,b.W9);
if(fq==1&&(h==ec.VZ||h==ec.GH)){this.K8.ai4(b,this.x4)}};function b2(b,h,G,H,B,j){dQ.call(this);this.PW=0;
this.Eu=this.a4k.bind(this);this.jA=B;this.Jk=H;this.hG=b;this.N9=h;this.a3C=j;this.DA=G;this.Z=u.I("button","");
this.Z.innerHTML=u.b5(this.DA);if(this.a3C){var s=u.I("img","gsicon");s.setAttribute("src",PIMG["tools/corner"]);
s.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(s)}this.Z.addEventListener("touchstart",u._2,!1);
this.a();u.fm(this.Z,this._M.bind(this));u.$f(this.Z,this.om.bind(this));this.Z.addEventListener("contextmenu",this.Eu,!1);
this.Z.addEventListener("contextmenu",b2.oO,!1)}b2.prototype=new dQ;b2.oO=function(b){b.stopPropagation();
b.preventDefault();return!1};b2.prototype.a=function(){var b=this.N9?" ("+this.N9.Tb+")":"";this.Z.setAttribute("title",bp.get(this.hG)+b)};
b2.prototype._M=function(b){b2.EH=this.Jk;this.PW=setTimeout(this.Eu,160)};b2.prototype.om=function(b,h){if(h==null&&b2.EH!=this.Jk)return;
clearTimeout(this.PW);var G=new hb(w.E.w,!1);G.target=this;G.id=this.Jk;this.Q(G)};b2.prototype.a4k=function(b){var h=new hb("mover",!1);
h.target=this;h.id=this.Jk;this.Q(h)};b2.prototype.aCo=function(b){this.Z.className=b?"toolbtn active":"toolbtn"};
function hS(){dQ.call(this);this.Z=u.I("div","topbar");this.ZZ=u.I("span");this.arP=u.I("span");this.a2F=0;
this.Z.appendChild(this.ZZ);this.Z.appendChild(this.arP);this.SM=null;this.zI=null;this.IT=[];this.Ds=[];
var b=this._M.bind(this);for(var Y=0;Y<hS.data.length;Y++){var h=u.I("button");this.IT.push(h);var G=hS.data[Y];
h.addEventListener("mouseover",b,!1);u.fm(h,b)}this.Vn=new gX([0,13,0],!1,null,!0);this.Vn.O("click",this.xb,this);
this._u=new gX("Donate",!1,null,!0);this._u.O("click",this.xb,this);this.gg=new gX(u.b5("tools/zoom",null,"autoscale"),!1,[12,86]);
this.gg.O("click",this.xb,this);this.vQ=new gX("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.vQ.O("click",this.xb,this)}hS.prototype=new dQ;hS.prototype.abE=function(){if(this.Ds.length!=0)return;
for(var Y=0;Y<hS.data.length;Y++){var b=hS.data[Y],h=new fL(b.items,b.lb);h.parent=this;this.Ds.push(h)}this.a()};
hS.prototype.a=function(){this.Vn.a();this.gg.a();this.vQ.a();for(var Y=0;Y<this.IT.length;Y++)this.IT[Y].textContent=bp.get(hS.data[Y].name);
this.aa7();for(var Y=0;Y<this.Ds.length;Y++)this.Ds[Y].a()};hS.prototype.xb=function(b){var h=new hb(w.E.b,!0);
if(b.target==this.Vn)h.data={q:w.p.C9,ut:"account"};else if(b.target==this._u)h.data={q:w.p.C9,ut:"confirm",QF:function(){},amW:!0,P:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(b.target==this.gg)h.data={q:w.p.Mq};else h.data={q:w.p.Nr,Fn:!0};this.Q(h)};hS.prototype.My=function(b,h){this.SM=b;
this.zI=h};hS.prototype.rN=function(b,h){this.zI=b;if(h==ec.GH){var G=b.aoJ;u._I(this.ZZ);for(var Y=0;
Y<this.IT.length;Y++){var H=hS.data[Y];if(G==null||G[Y]==1||G[Y]instanceof Array)this.ZZ.appendChild(this.IT[Y]);
if(G!=null&&G[Y]instanceof Array){this.abE();this.Ds[Y].al1(G[Y])}}var B=this.arP;u._I(B);if(b.NP){B.appendChild(this.Vn.Z);
B.appendChild(this._u.Z)}B.appendChild(this.gg.Z);B.appendChild(this.vQ.Z)}this.aa7()};hS.prototype.aa7=function(b,h){var G=this.Vn,H=12255232;
if(fH.$W())H=fH.RW()?43520:16755200;G.Z.setAttribute("style","color:#ffffff; background-color:#"+e.Z0(H));
this._u.Z.style.display=fH.RW()?"none":""};hS.prototype._M=function(b){this.abE();var Y=this.IT.indexOf(b.currentTarget),h=this.Ds[Y];
if(b.type=="mouseover"&&!u.Pg(this.Ds[this.a2F].Z))return;if(u.Pg(h.Z))return;b.ale=!0;this.a2F=Y;for(var Y=0;
Y<hS.data.length;Y++)this.Ds[Y].update(this.SM,this.zI);var G=b.target.getBoundingClientRect(),H=new hb(w.E.b,!0);
H.data={q:w.p.YB,Wn:h,x:G.left,y:G.top+G.height+2,a61:!0};this.Q(H)};hS.a8t=function(b){var h=ap,G=h.zb,H=h.J3,B=h.p0,j=function(a){return{H:a!=null}},s=function(a){return{H:a!=null&&a.e!=null}},q={name:[0,5],items:[{name:[7,0],H:j,ef:[G,h.p]},{name:[7,1],ef:[G,h.xO],H:s},{name:[7,2],ef:[H,G,h.qv],H:s,oq:!0},{name:"Remove BG",H:function(a){return{H:u.SN(1)&&a!=null&&a.T.length!=0&&!a.R[a.T[0]].rect.Zx()}}},{name:[7,8],H:j,gR:!0},{name:[7,13],gR:!0,H:function(a){return{H:a!=null&&a.T.length!=0&&!a.R[a.T[0]].rect.Zx()}}},{name:"Subject",H:function(a){return{H:a!=null&&a.T.length!=0&&!a.R[a.T[0]].rect.Zx()}},oq:!0},{name:[7,11],gR:!0,H:function(a){return{H:a!=null&&a.T.length!=0&&!a.R[a.T[0]].rect.Zx()}}},{name:[7,3],H:j,oq:!0,sub:[{name:[7,9],gR:!0,H:s},{name:[19,3,0],gR:!0,H:s},{name:[7,4],gR:!0,H:s},{name:[7,5],gR:!0,H:s},{name:[7,6],gR:!0,H:s,ef:"Shift+F6"}]},{name:"Grow",H:s},{name:"Similar",H:s,oq:!0},{name:[7,10],H:s,oq:!0},{name:[6,6,1],H:function(a){return{H:a!=null,Hz:a!=null&&a._a()!=null}},ef:[h.akn],oq:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],H:s}],lb:[{K:w.E.IK,i:E.pC.V$(!0)},{K:w.E.IK,i:E.pC.V$()},{K:w.E.IK,i:{f6:"inverse"}},{K:w.E.r,S:E.Bi,i:{q:"bgrm",P:1}},{K:w.E.b,i:{q:w.p.C9,ut:"crange"}},{K:w.E.b,i:{q:w.p.C9,ut:"magiccut"}},{K:w.E.r,S:E.Bi,i:{q:"bgrm",P:2}},{K:w.E.b,i:{q:w.p.C9,ut:"redge"}},{sub:[{K:w.E.b,i:{q:w.p.C9,ut:"sel_border"}},{K:w.E.b,i:{q:w.p.C9,ut:"sel_smoothness"}},{K:w.E.b,i:{q:w.p.C9,ut:"sel_expand"}},{K:w.E.b,i:{q:w.p.C9,ut:"sel_contract"}},{K:w.E.b,i:{q:w.p.C9,ut:"sel_feather"}}]},{K:w.E.IK,i:{f6:"grow",yo:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:w.E.IK,i:{f6:"similar",yo:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:w.E.b,i:{q:w.p.CJ,S:E.KT}},{K:w.E.r,S:E.Bi,i:{q:"qmask"}},{K:w.E.b,i:{q:w.p.C9,ut:"loadsel"}},{K:w.E.b,i:{q:w.p.C9,ut:"savesel"}}]};
if(b){var Q=q.items.length-1;q.items.splice(Q-2,0,{name:[6,49],ef:[G,h.Mr],oq:!0});q.lb.splice(Q-2,0,{K:w.E.IK,i:{f6:"copyToLayer"}});
q.items.splice(Q-1,0,{name:[10,16],ef:[B,G,h.Z5]});q.lb.splice(Q-1,0,{K:w.E.b,i:{q:w.p.CJ,S:E.E4}})}return q};
hS.a$=function(b,h){if(b==null||b.T.length==0)return!1;var G=b.R[b.T[0]];return G.add.TySh!=null&&h.vu==E.rd};
hS.aEb=function(){var b=ap,h=b.zb,G=b.J3,H=b.p0,B=function(j){return{H:j!=null}};return[[{name:[5,0],ef:[h,b.Lz],H:function(j,s){return{H:j!=null&&(j.ahN()||hS.a$(j,s))}}},{name:[5,1],ef:[h,b.ew],H:B},{name:[5,2],ef:[h,b.ic],H:function(j,s){return{H:hS.a$()||u.Qh()||s.Ny!=null||s.gh!=null||s.aAZ!=null}}},{name:[2,2],H:function(j,s){return{H:j!=null&&(j.e!=null||hS.a$(j,s))}},ef:"Delete",oq:!0}],[{K:w.E.b,i:{q:w.p.ik}},{K:w.E.b,i:{q:w.p.xA}},{K:w.E.b,i:{q:w.p.CA}},{K:w.E.IK,i:{f6:"delete"}}]]};
hS.data=function(){var b=ap,h=b.zb,G=b.J3,H=b.p0,B=function(g){return{H:g!=null&&g.T.length!=0}},j=function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.SoLd!=null}},s=function(g){return{H:g!=null}},q=function(g){return{H:g!=null&&g.s5(!1)}},Q=[],a=[],l="none maxx avrg medn minn rang stdv summ vari".split(" "),U=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var Y=0;Y<l.length;Y++){Q.push({name:U[Y],H:function(g,i){if(g==null||g.T.length!=1)return{H:!1};
var y=g.R[g.T[0]].add.SoLd;if(y==null)return{H:!1};return{H:!0,Hz:y.Impr.v.classID==this.atM}}.bind({atM:l[Y]})});
a.push({K:w.E.r,S:E.nc,i:{q:C.se,bq:l[Y]}})}var N=hS.aEb(!0),R=[{name:[0,0],items:[{name:[5,3],ef:[H,h,b.aM],title:[11,7],gR:!0},{name:[1,0],ef:[h,b.OE],gR:!0},{name:[1,11],gR:!0,H:s},{name:["VAR0 VAR1",[1,0],[0,14]],oq:!0,sub:[{name:"Storage",gR:!0,ef:[H,h,b.OE]},{name:[1,5],gR:!0},{name:[11,0],gR:!0},{name:["PSD VAR0",[25,0]],gR:!0}]},{name:[1,18],oq:!0,H:s,sub:[{name:"PNG",ef:"Imgur.com",H:function(g,i){return{H:g!=null&&i.GV}}},{name:"JPG",ef:"Imgur.com",H:function(g,i){return{H:g!=null&&i.GV}}},{name:fq==0?"PSD":"AI",ef:["Photo","Vector"][fq]+"pea.com",H:function(g,i){return{H:g!=null&&i.GV&&!g.U0}}}]},{name:"Save ...",ef:[h,b.h1],H:function(g,i){var y=bp.get([1,2]),o=!0;
if(g){if(g.kV)y+=" ("+bp.get([6,7,1])+")";if(g.z9)y+=" (Google Drive)";if(g.gi)y+=" ("+Storage.list[g.gi[0]][0]+")";
o="psd jpg png gif webp svg bmp".split(" ").indexOf(g.zi)!=-1;if(fq==1)o=g.zi=="ai"}return{H:g!=null&&(g.gi!=null||g.Ed!=null&&o||g.kV!=null||g.hb!=null&&g.hb.Ar!=null||g.z9!=null||i.ub.save!=null),bu:y}}},{name:fq==0?[1,3]:"Save as AI",H:function(g,i){return{H:g!=null&&i.GV}}},{name:["VAR0 VAR1",[1,2],[0,14]],H:s,sub:[{name:(fq==0?"PSD":"AI")+" to Storage",H:function(g,i){return{H:g!=null&&i.GV}}},{name:["VAR0 PSD/PSB",[1,2]],gR:!0,H:function(g,i){return{H:g!=null&&i.GV}}}]},{name:[1,8],H:s,sub:function(){var g=aT.ha(0),i=[];
for(var Y=0;Y<g.length;Y++)i.push({name:g[Y],ef:"."+g[Y].toLowerCase()});i.push({name:[0,14],sub:function(){var g=aT.ha(1),i=[];
for(var Y=0;Y<g.length;Y++)i.push({name:g[Y],ef:"."+g[Y].toLowerCase()});return i}()});return i}()},{name:[1,4],gR:!0,H:s,oq:!0},{name:[1,9],gR:!0,H:s},{name:"Export Color Lookup",gR:!0,H:s,oq:!0},{name:[1,14],gR:!0,H:s,oq:!0},{name:[1,17],sub:[{name:"Batch",gR:!0},{name:"PDF Presentation",gR:!0},{name:"Convert Formats",gR:!0},{name:"Generate Mockups",gR:!0,H:s,oq:!0},{name:"Crop and Straighten Photos",H:s}]},{name:[1,10],gR:!0}],lb:[{K:w.E.b,i:{q:w.p.C9,ut:"newproject"}},{K:w.E.b,i:{q:w.p.vd}},{K:w.E.b,i:{q:w.p.vd,ad4:!0}},{sub:[{K:w.E.b,i:{q:w.p.C9,ut:"storwindow",vX:0}},{K:w.E.b,i:{q:w.p.C9,ut:"open_from_url"}},{K:w.E.b,i:{q:w.p.C9,ut:"camera"}},{K:w.E.b,i:{q:w.p.C9,ut:"res0"}}]},{sub:[{K:w.E.b,i:{q:w.p.Gy,B9:"png"}},{K:w.E.b,i:{q:w.p.Gy,B9:"jpg"}},{K:w.E.b,i:{q:w.p.Gy,B9:fq==0?"psd":"ai"}}]},{K:w.E.b,i:{q:w.p.my}},{K:w.E.b,i:{q:w.p.Cl}},{sub:[{K:w.E.b,i:{q:w.p.C9,ut:"storwindow",vX:1}},{K:w.E.b,i:{q:w.p.C9,ut:"savepsb"}}]},{sub:function(){var g=aT.ha(0),i=[];
for(var Y=0;Y<g.length;Y++)i.push({K:w.E.b,i:{q:w.p.C9,ut:"saveforweb",B9:Y}});i.push({sub:function(){var y=aT.ha(0).length,g=aT.ha(1),i=[];
for(var Y=0;Y<g.length;Y++)i.push({K:w.E.b,i:{q:w.p.C9,ut:"saveforweb",B9:y+Y}});return i}()});return i}()},{K:w.E.b,i:{q:w.p.C9,ut:"saveforweb",B9:3,amS:!0}},{K:w.E.b,i:{q:w.p.C9,ut:"eassets"}},{K:w.E.b,i:{q:w.p.C9,ut:"exlut"}},{K:w.E.b,i:{q:w.p.C9,ut:"finfo"}},{sub:[{K:w.E.b,i:{q:w.p.C9,ut:"batch"}},{K:w.E.b,i:{q:w.p.C9,ut:"pdfpres"}},{K:w.E.b,i:{q:w.p.C9,ut:"cformat"}},{K:w.E.b,i:{q:w.p.C9,ut:"mockups"}},{K:w.E.r,S:E.$b,i:{q:"cropAndStr"}}]},{K:w.E.b,i:{q:w.p.C9,ut:"script"}}]},{name:[0,1],items:[{name:[2,8],H:s},{name:[2,0],H:s,ef:[G,h,b.Qj]},{name:[2,1],H:s,ef:[h,b.Qj],oq:!0},{name:[2,11],ef:[G,h,b.dU],oq:!0,gR:!0,H:function(g,i){return{H:kP.aus(g)&&i.vu!=E.E4}}},N[0][0],N[0][1],{name:[5,7],ef:[G,h,b.ew],H:function(g){return{H:g!=null&&g.e!=null}}},N[0][2],N[0][3],{name:[2,3],H:q,gR:!0,ef:[G,b.a4a]},{name:[14,9],H:q,gR:!0,oq:!0},{name:[10,48],H:q},{name:[10,46],H:function(g){return{H:E.RR.TA(g)}}},{name:[10,16],H:s,ef:[H,h,b.Z5]},{name:[2,4],H:s,sub:cd.al5()},{name:[2,10,1],H:s},{name:[2,10,0],H:s,oq:!0},{name:[12,87],H:s,sub:[{name:[12,62],H:s},{name:[9,3],H:s},{name:[10,31],H:function(g){return{H:g!=null&&g.wV()[1].length!=0}}}]},{name:[1,15],gR:!0},{name:[12,79],gR:!0,ef:[h,b.zf]},{name:[1,13],gR:!0}],lb:[{K:w.E.r,S:E.Ck,i:{q:"h_undoredo"}},{K:w.E.r,S:E.Ck,i:{q:"h_stepfwd"}},{K:w.E.r,S:E.Ck,i:{q:"h_stepbck"}},{K:w.E.b,i:{q:w.p.C9,ut:"afw_fade"}},N[1][0],N[1][1],{K:w.E.b,i:{q:w.p.xA,pc:!0}},N[1][2],N[1][3],{K:w.E.b,i:{q:w.p.C9,ut:"fill"}},{K:w.E.b,i:{q:w.p.C9,ut:"stroke"}},{K:w.E.b,i:{q:w.p.CJ,S:E.C8}},{K:w.E.r,S:E.c7,i:{q:"start",cy:"rigidTransform"}},{K:w.E.b,i:{q:w.p.CJ,S:E.E4}},{sub:cd.anK()},{K:w.E.IK,i:{f6:"align",yo:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:w.E.r,S:E.nc,i:{q:C.avG}},{sub:[{K:w.E.b,i:{q:w.p.Qt,CI:0}},{K:w.E.b,i:{q:w.p.Qt,CI:1}},{K:w.E.b,i:{q:w.p.Qt,CI:2}}]},{K:w.E.b,i:{q:w.p.C9,ut:"pmanager"}},{K:w.E.b,i:{q:w.p.C9,ut:"preferences"}},{K:w.E.b,i:{q:w.p.C9,ut:"locstor"}}]},{name:[0,2],items:[{name:[12,36],H:s,oq:!0,sub:[{name:"RGB",H:function(g){if(g==null)return{H:!1};
return{Hz:g.add.fcmy==null,H:!0}}},{name:"CMYK",H:function(g){if(g==null)return{H:!1};return{Hz:g.add.fcmy!=null,H:!0}}}]},{name:[3],H:s,oq:!0,sub:function(){var g=[];
for(var i in eZ.names){g.push({name:eZ.names[i],gR:iq[i]!=null,ef:eZ.keys[i],oq:eZ.ahx.indexOf(i)!=-1});
if(i=="selc"){g.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],gR:!0,oq:!0});g.push({name:[19,7,0],ef:[h,G,b.Y5],H:q});
g.push({name:[4,18],gR:!0,H:q})}}return g}()},{name:[4,16,0],H:q},{name:[4,16,1],H:q},{name:[4,16,2],H:q,oq:!0},{name:[11,11,1],H:q,gR:!0},{name:[11,11,0],H:q,gR:!0},{name:"Wavelet Decompose",H:q,oq:!0},{name:[11,3],H:s,gR:!0,ef:[H,h,b.ew]},{name:[11,10],H:s,gR:!0,ef:[H,h,b.qv]},{name:[2,4],H:s,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],H:function(g){return{H:g!=null&&g.e!=null}}},{name:[11,12,0],H:s,ef:[h,b.lq],gR:!0},{name:[11,12,2],H:s,oq:!0},{name:[12,53],H:s},{name:[2,12],H:q,gR:!0,oq:!0},{name:[2,14],H:s,gR:!0}],lb:[{sub:[{K:w.E.r,S:E.rQ,i:{q:"fcmy",P:0}},{K:w.E.r,S:E.rQ,i:{q:"fcmy",P:1}}]},{sub:function(){var g=[];
for(var i in eZ.names){g.push({K:w.E.r,S:E.ig,i:{q:"start",xU:i}});if(i=="selc"){g.push({K:w.E.r,S:E.c7,i:{q:"start",cy:"adaptCorrect"}});
g.push({K:w.E.IK,i:{f6:"desaturate"}});g.push({K:w.E.r,S:E.ig,i:{q:"start",xU:"matc"}})}}return g}()},{K:w.E.IK,i:{f6:"levels",yo:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:w.E.IK,i:{f6:"levels",yo:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:w.E.IK,i:{f6:"levels",yo:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:w.E.b,i:{q:w.p.C9,ut:"rcolors"}},{K:w.E.b,i:{q:w.p.C9,ut:"vbitmap"}},{K:w.E.r,S:E.nc,i:{q:C.ah9}},{K:w.E.b,i:{q:w.p.C9,ut:"csize"}},{K:w.E.b,i:{q:w.p.C9,ut:"isize"}},{sub:[{K:w.E.IK,i:E.Y.y$(!0,90)},{K:w.E.IK,i:E.Y.y$(!0,-90)},{K:w.E.IK,i:E.Y.y$(!0,-180)},{K:w.E.IK,i:E.Y.y$(!1,"Hrzn")},{K:w.E.IK,i:E.Y.y$(!1,"Vrtc")}]},{K:w.E.IK,i:{f6:"crop",yo:{__name:"Crop",classID:"Crop"}}},{K:w.E.b,i:{q:w.p.C9,ut:"trim"}},{K:w.E.IK,i:{f6:"revealAll",yo:{classID:"RvlA"}}},{K:w.E.IK,i:{f6:"duplicate",yo:{classID:"Dplc",null:aX.eP("Dcmn",!0)}}},{K:w.E.r,S:E.ig,i:{q:"start",xU:"aply"}},{K:w.E.b,i:{q:w.p.C9,ut:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],H:s,sub:[{name:[0,3],ef:[G,h,b.aM]},{name:[0,4]},{name:[1,16,0],gR:!0},{name:[1,16,3],gR:!0,oq:!0},{name:[6,49,0],ef:[h,b.Mr]},{name:[6,49,1],ef:[G,h,b.Mr],H:function(g){return{H:g!=null&&g.e!=null&&g.s5(!1)}}}]},{name:[6,0],H:B,ef:[h,b.Mr]},{name:[11,4],H:B},{name:[5,4],H:B,oq:!0},{name:[11,6],H:B,oq:!0,sub:cZ.w1(!0)},{name:[6,48,1],H:s,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],H:s,oq:!0,sub:cZ.ad3()},{name:[6,2],H:s,sub:[{name:[6,4],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()==null}}},{name:[6,5,0],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()==null}}},{name:[6,5,1],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()==null&&g.e!=null}}},{name:[6,5,2],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()==null&&g.e!=null}}},{name:[6,5,3],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()==null}},oq:!0},{name:[5,4],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()!=null}}},{name:[5,8],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()!=null&&g.s5(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].Y1()!=null}}}]},{name:[6,3],H:s,sub:[{name:[6,4],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.vmsk==null}}},{name:[6,5,0],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.vmsk==null}}},{name:[12,76,7],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.vmsk==null}},oq:!0},{name:[5,4],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],H:function(g){return{H:g!=null&&g.T.length!=0&&g.R[g.T[0]].add.vmsk!=null}}}]},gL.azQ(!0),{name:[6,7,1],H:s,oq:!0,sub:[{name:[6,7,0],oq:!0},{name:"Open (Edit Contents)",H:j,gR:!0},{name:"Replace Contents",H:j,gR:!0},{name:"Export Contents",H:j,gR:!0,oq:!0},{name:[6,36,4],H:j,sub:Q},{name:"Turn into JPG",H:j}]},{name:[6,8],H:gL.a8H},{name:[6,34],oq:!0,H:function(g){if(g==null||g.T.length==0)return{H:!1};
var i=g.R[g.T[0]];return{H:i.add.lmfx!=null&&!i.fu()}}},{name:[6,9],H:s,oq:!0,ef:[h,b.M$]},{name:[6,55],H:s,sub:[{name:[6,56,0],ef:[G,h,b.pu]},{name:[6,56,1],ef:[h,b.pu]},{name:[6,56,2],ef:[h,b.oo]},{name:[6,56,3],ef:[G,h,b.oo]}]},{name:"Combine Shapes",H:s,oq:!0,sub:[{name:[18,1],lU:"set/union"},{name:[18,2],lU:"set/difference"},{name:[18,3],lU:"set/intersection"},{name:[18,4],lU:"set/xor"}]},{name:[6,58],H:s,oq:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],ef:[h,b.E],H:gL.$g},{name:[6,12,1],H:s},{name:[2,13],H:s}],lb:[{sub:[{K:w.E.r,S:E.nc,i:{q:C.Wf}},{K:w.E.r,S:E.nc,i:{q:C.mI}},{K:w.E.b,i:{q:w.p.C9,ut:"newartb",vX:0}},{K:w.E.b,i:{q:w.p.C9,ut:"newartb",vX:1}},{K:w.E.IK,i:{f6:"copyToLayer"}},{K:w.E.IK,i:{f6:"cutToLayer"}}]},{K:w.E.r,S:E.nc,i:{q:C.hR}},{K:w.E.b,i:{q:w.p.C9,ut:"duplinto"}},{K:w.E.r,S:E.nc,i:{q:C.rU}},{sub:cZ.nk(!0)},{sub:[{K:w.E.r,S:E.c2,i:{q:"newfill",qp:0}},{K:w.E.IK,i:E.kQ.s4(1)},{K:w.E.IK,i:E.kQ.s4(2)}]},{sub:cZ.W$()},{sub:[{K:w.E.r,S:E.nc,i:{q:C.k5,vX:"RvlA"}},{K:w.E.r,S:E.nc,i:{q:C.k5,vX:"HdAl"}},{K:w.E.r,S:E.nc,i:{q:C.k5,vX:"RvlS"}},{K:w.E.r,S:E.nc,i:{q:C.k5,vX:"HdSl"}},{K:w.E.r,S:E.nc,i:{q:C.k5,vX:"Trns"}},{K:w.E.r,S:E.nc,i:{q:C.PU}},{K:w.E.r,S:E.nc,i:{q:C.qL}},{K:w.E.r,S:E.nc,i:{q:C.TL}}]},{sub:[{K:w.E.r,S:E.nc,i:{q:C.u4,Qc:!1}},{K:w.E.r,S:E.nc,i:{q:C.u4,Qc:!0}},{K:w.E.r,S:E.nc,i:{q:C.u4,av0:!0}},{K:w.E.r,S:E.nc,i:{q:C.Wc}},{K:w.E.r,S:E.nc,i:{q:C.$P}}]},{K:w.E.r,S:E.nc,i:{q:C.iy}},{sub:[{K:w.E.IK,i:{f6:"newPlacedLayer"}},{K:w.E.IK,i:{f6:"placedLayerEditContents",yo:{classID:"placedLayerEditContents"}}},{K:w.E.IK,i:{f6:"placedLayerReplaceContents",yo:{classID:"placedLayerReplaceContents"}}},{K:w.E.IK,i:{f6:"placedLayerExportContents",yo:{classID:"placedLayerExportContents"}}},{sub:a},{K:w.E.r,S:E.nc,i:{q:C.abH}}]},{K:w.E.IK,i:{f6:"rasterizeLayer",yo:{classID:"rasterizeLayer",null:aX.eP("Lyr",!0)}}},{K:w.E.IK,i:{f6:"rasterizeLayer",yo:{classID:"rasterizeLayer",null:aX.eP("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:w.E.r,S:E.nc,i:{q:C.Qp}},{sub:[{K:w.E.r,S:E.nc,i:{q:C.EN,DF:0}},{K:w.E.r,S:E.nc,i:{q:C.EN,DF:1}},{K:w.E.r,S:E.nc,i:{q:C.EN,DF:2}},{K:w.E.r,S:E.nc,i:{q:C.EN,DF:3}}]},{sub:[{K:w.E.r,S:E.nc,i:{q:C._e,ym:0}},{K:w.E.r,S:E.nc,i:{q:C._e,ym:1}},{K:w.E.r,S:E.nc,i:{q:C._e,ym:2}},{K:w.E.r,S:E.nc,i:{q:C._e,ym:3}}]},{sub:[{K:w.E.r,S:E.nc,i:{q:C.q$,DF:"makeframes"}},{K:w.E.r,S:E.nc,i:{q:C.q$,DF:"unmakeframes"}},{K:w.E.r,S:E.nc,i:{q:C.q$,DF:"merge"}}]},{K:w.E.IK,i:{f6:"mergeLayersNew",yo:{__name:"Merge Layers",classID:"Mrg2"}}},{K:w.E.IK,i:{f6:"flattenImage"}},{K:w.E.r,S:E.c7,i:{q:"start",cy:"defr"}}]},hS.a8t(!1),function(){var g={name:[0,6],items:[{name:[24,18,4],ef:[H,h,b.dU],H:s,oq:!0}],lb:[{K:w.E.r,S:E.c7,i:{q:"applylast"}}]};
for(var Y=0;Y<gY.HI.length;Y++){var i=gY.HI[Y];if(i.Tf!=null){var y={name:gY.names[i.Tf],gR:!0,oq:i.oq,H:s};
if(i.Tf=="VaPo")y.H=q;g.items.push(y);g.lb.push({K:w.E.r,S:E.c7,i:{q:"start",cy:i.Tf}});continue}var o={name:i.iZ,sub:[],H:s};
g.items.push(o);var v={sub:[]};g.lb.push(v);for(var Z=0;Z<i.Xg.length;Z++){var W={name:gY.names[i.Xg[Z]],gR:gY.Az(i.Xg[Z])!=null};
o.sub.push(W);var d={K:w.E.r,S:E.c7,i:{q:"start",cy:i.Xg[Z]}};v.sub.push(d)}}return g}(),{name:[0,7],items:[{name:[8,0],H:s,ef:[h,b.za]},{name:[8,1],H:s,ef:[h,b.Od]},{name:[20,3],H:s,ef:[h,b.r9]},{name:[20,2],H:s,ef:[h,b.yp]},{name:[8,14],H:function(g,i){return{H:g!=null,Hz:g!=null&&g.hy}},oq:!0},{name:[12,36],oq:!0,sub:[{name:"Fullscreen",H:function(g,i){return{Hz:document.fullscreenElement!=null}},oq:!0},{name:"Standard",H:function(g,i){return{Hz:i.W8==0}}},{name:"Menu Bar and Canvas",H:function(g,i){return{Hz:i.W8==1}}}]},{name:[8,13],ef:[h,b._c],H:function(g,i){return{Hz:i.U9}}},{name:[8,12],oq:!0,sub:[{name:[17,2],H:function(g,i){return{H:i.U9,Hz:i.x$.Vo}}},{name:[8,9],H:function(g,i){return{H:i.U9,Hz:i.x$.N6}}},{name:[8,2],H:function(g,i){return{H:i.U9,Hz:i.x$.bE}},ef:[h,b.Kb]},{name:[8,4],H:function(g,i){return{H:i.U9,Hz:i.x$.XC}},ef:[h,b.gq]},{name:[8,8],H:function(g,i){return{H:i.U9,Hz:i.x$.DL}}},{name:[8,11,0],H:function(g,i){return{H:i.U9,Hz:i.x$.Rd}}}]},{name:[8,3],H:function(g,i){return{Hz:i.EW}},ef:[h,b.nI],oq:!0},{name:[8,5],H:function(g,i){return{Hz:i.$Q}}},{name:[8,6],oq:!0,sub:[{name:[8,2],H:function(g,i){return{Hz:i.HT[0]}}},{name:[8,4],H:function(g,i){return{Hz:i.HT[1]}}},{name:[9,1],H:function(g,i){return{Hz:i.HT[2]}}},{name:[8,11,0],H:function(g,i){return{Hz:i.HT[3]}}},{name:[8,7,0],H:function(g,i){return{Hz:i.HT[4]}}}]},{name:[11,15,2],H:function(g,i){return{H:g!=null,Hz:g!=null&&g.Td}}},{name:[11,15,0],H:s},{name:[11,14],H:s,gR:!0},{name:[11,15,1],H:function(g,i){return{H:g!=null&&g.T.length!=0}},oq:!0},{name:[8,11,2],H:function(g,i){return{H:g!=null&&g.Rd.length!=0}}}],lb:[{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!0}},{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!1}},{K:w.E.r,S:E.TC,i:{q:"adapt",P:"fitscr"}},{K:w.E.r,S:E.TC,i:{q:"adapt",P:"pixel"}},{K:w.E.r,S:E.rQ,i:{q:"pview"}},{sub:[{K:w.E.b,i:{q:w.p.Nr,Fn:!0}},{K:w.E.b,i:{q:w.p.Nr,P:0}},{K:w.E.b,i:{q:w.p.Nr,P:1}},{K:w.E.b,i:{q:w.p.Nr,P:2}}]},{K:w.E.b,i:{q:w.p.wP,CI:ec.ZN}},{sub:[{K:w.E.b,i:{q:w.p.wP,CI:ec.H9}},{K:w.E.b,i:{q:w.p.wP,CI:ec.I9}},{K:w.E.b,i:{q:w.p.wP,CI:ec._U}},{K:w.E.b,i:{q:w.p.wP,CI:ec.V8}},{K:w.E.b,i:{q:w.p.wP,CI:ec.sR}},{K:w.E.b,i:{q:w.p.wP,CI:ec.S6}}]},{K:w.E.b,i:{q:w.p.wP,CI:ec.tS}},{K:w.E.b,i:{q:w.p.wP,CI:ec.a8m}},{sub:[{K:w.E.b,i:{q:w.p.wP,CI:ec.Pr,vY:0}},{K:w.E.b,i:{q:w.p.wP,CI:ec.Pr,vY:1}},{K:w.E.b,i:{q:w.p.wP,CI:ec.Pr,vY:2}},{K:w.E.b,i:{q:w.p.wP,CI:ec.Pr,vY:3}},{K:w.E.b,i:{q:w.p.wP,CI:ec.Pr,vY:4}}]},{K:w.E.r,S:E.rQ,i:{q:"lockguides"}},{K:w.E.r,S:E.rQ,i:{q:"gids",ez:[[],[]]}},{K:w.E.b,i:{q:w.p.C9,ut:"addguides"}},{K:w.E.r,S:E.rQ,i:{q:"gidsFromLayer"}},{K:w.E.r,S:E.B0,i:{q:"deleteAll"}}]},function(){var g={name:[0,8],items:[{name:[0,14],oq:!0,sub:[]},{name:"Plugins",oq:!0}],lb:[{sub:[]},{K:w.E.b,i:{q:w.p.C9,ut:"res1"}}]};
for(var Y=0;Y<kp.As.length;Y++){var i=kp.As[Y],y=function(){var o=i.Wn.DU;return function(v,Z){return{Hz:Z.Ds.indexOf(parseInt(o))!=-1}}}();
(i._z?g.items[0].sub:g.items).push({name:i.Wn.name,H:y});(i._z?g.lb[0].sub:g.lb).push({K:w.E.b,i:{q:w.p.tb,ut:i.Wn.DU}})}return g}(),function(){var g={name:[0,14],items:[],lb:[]},i={name:[0,9],sub:[]};
g.items.push(i);var y={sub:[]};g.lb.push(y);var o=bp.a27();for(var Y=0;Y<o.length;Y++){var v=o[Y],Z=v.code,W=bp.arm(Z);
i.sub.push({name:v.name,ef:Z,H:function(d,$){return{Hz:this.ef==bp.aE1()}}});y.sub.push({K:w.E.b,i:{q:w.p.wP,CI:ec.N7,lang:W}})}i.sub.push({name:[0,12]});
y.sub.push({K:w.E.b,i:{q:w.p.CL,link:"https://www.photopea.com/translate/"}});var i={name:[0,15],sub:[]};
g.items.push(i);var y={sub:[]};g.lb.push(y);for(var Y=0;Y<af.AV.length;Y++){i.sub.push({name:af.AV[Y].name,H:function(d,$){return{Hz:this.name==af.AV[$.Ys].name}}});
y.sub.push({K:w.E.b,i:{q:w.p.wP,CI:ec.Wr,Ys:Y}})}g.items.push({name:fq==0?[0,17,6]:"Install Vectorpea",H:function(d,$){return{H:$.kS!=null}}});
g.lb.push({K:w.E.b,i:{q:w.p.KK}});if(fq==0){g.items.push({name:[11,13]});g.lb.push({K:w.E.b,i:{q:w.p.C9,ut:"shortcuts"}});
g.items.push({name:[0,16],H:function(d){return{Hz:cG.pl,H:cG.ap0}},oq:!0});g.lb.push({K:w.E.b,i:{q:w.p.a9$}})}g.items.push({name:"PeaMark"});
g.lb.push({K:w.E.b,i:{q:w.p.C9,ut:"peamark"}});g.items.push({name:"",H:function(d,$){return $.NP?{bu:"About "+["Photopea","Vectorpea"][fq],H:!0}:{bu:"",H:!1}}});
g.lb.push({K:w.E.b,i:{q:w.p.C9,ut:"aboutpp"}});return g}()],S=[R[0],R[1],{name:"Object",items:[{name:[6,9],H:s,oq:!0,ef:[h,b.M$]},{name:[6,6,0],sub:[{name:[5,5],ef:[h,b.Ba]},{name:[5,6],ef:[H,h,b.Ba]}]}],lb:[{K:w.E.r,S:E.nc,i:{q:C.Qp}},{sub:[{K:w.E.r,S:E.nc,i:{q:C.Qp,Sz:!0}},{K:w.E.r,S:E.nc,i:{q:C.Qp,Sz:!0,ZM:!0}}]}]},{name:[0,7],items:[{name:"Outline View",H:function(g,i){return{Hz:g&&g.add.prvw==0,H:g!=null}},oq:!0,ef:[h,b.kO]},{name:[8,0],H:s,ef:[h,b.za]},{name:[8,1],H:s,ef:[h,b.Od]},{name:[12,36],oq:!1,sub:[{name:"Fullscreen",H:function(g,i){return{Hz:document.fullscreenElement!=null}},oq:!0},{name:"Standard",H:function(g,i){return{Hz:i.W8==0}}},{name:"Menu Bar and Canvas",H:function(g,i){return{Hz:i.W8==1}}}]}],lb:[{K:w.E.r,S:E.TC,i:{q:"prvw"}},{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!0}},{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!0}},{K:w.E.r,S:E.TC,i:{q:"zoom",Sa:!1}},{sub:[{K:w.E.b,i:{q:w.p.Nr,Fn:!0}},{K:w.E.b,i:{q:w.p.Nr,P:0}},{K:w.E.b,i:{q:w.p.Nr,P:1}},{K:w.E.b,i:{q:w.p.Nr,P:2}}]}]},R[7],R[8]];
return fq==0?R:S}();function ij(){dQ.call(this);this.Z=u.I("div","");this.R4=0;this.sN=0;this.Cc=null;
this.Pd=u.I("div","");this.Pd.setAttribute("style","width:200em; height:100em; position:absolute;");
this.zY=[];this.uj=[];this.px={}}ij.prototype=new dQ;ij.prototype.Yg=function(b){var h=Date.now(),G=[];
if(b=="-"){G=[new kb,new it,new fc,new kN("pdfpres"),new kN("cformat"),new kN("batch"),new kN("mockups"),new am,new bE,new hd,new fP,new fP(!0),new aJ,new ho,new c5,new kG,new ew,new gp,new gy,new dA,new fy,new bc,new cZ,new dr("isize"),new dr("csize"),new bF,new fN,new au,new eF,new jz,new jS,new c3,new a8,new dP(!1),new dP(!0),new ga(0),new ga(1),new eB,new is,new du,new i$,new a6,new gQ,new cR(0),new cR(1),new cR(2),new cR(3),new cR(4),new cR(5),new cR(6),new cR(7),new cR(8),new jj,new gh,new fh,new hB,new fb,new c$,new d5,new aZ,new jv,new bn(0),new bn(1),new hJ("border",[7,9],"px"),new hJ("smoothness",[19,3,0],"px"),new hJ("expand",[7,4],"px"),new hJ("contract",[7,5],"px"),new hJ("feather",[7,6],"px"),new jU(0,"namewindow",[12,48]),new jU(2,"billto","Bill To"),new jU(1,"cornerradius",[12,94,0],"px",!0,!0),new jU(1,"scaleeffects",[6,30,1],"%",!0),new jU(1,"doczoom","Zoom","%",!0),new jU(1,"setFPS","Set FPS","fps,120",!1),new jU(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(fq==0){G.push(new cz)}}else G=[new kP(b.slice(4))];this.a2B(G);this.px[b]=!0};ij.prototype.a2B=function(b){var h=this.Cc;
for(var Y=0;Y<b.length;Y++){var G=b[Y];G.parent=this;this.uj.push(G);this.kP(G);G.a();if(h)G.rN(h,ec.GH);
G.O(w.E.sM,this.mO,this);u.WR(G)}};ij.prototype.Vb=function(b,h){this.R4=b;this.sN=h;for(var Y=0;Y<this.uj.length;
Y++)this.kP(this.uj[Y])};ij.prototype.a=function(){for(var Y=0;Y<this.uj.length;Y++)this.uj[Y].a()};
ij.prototype.Zm=function(){return this.zY.length==0?null:this.zY[this.zY.length-1]};ij.prototype.W1=function(){for(var Y=0;
Y<this.zY.length;Y++)if(this.zY[Y].W1())return!0;return!1};ij.prototype.aF8=function(b,h,G,H,B){var j=b.startsWith("afw_"),s=null;
if(!j&&!this.px["-"])this.Yg("-");if(j&&!this.px[b])this.Yg(b);if(typeof b=="object"){s=b;if(!s.aar(w.E.sM,this.mO))s.O(w.E.sM,this.mO,this);
s.parent=this}else for(var Y=0;Y<this.uj.length;Y++)if(this.uj[Y].id==b)s=this.uj[Y];if(this.W1()&&s.W1()){alert("Finish the current action first");
return}if(!s._q(h))return;if(this.zY.indexOf(s)!=-1){if(b=="colorpicker")s.Fd(h,G,H,B);return}var q=this.zY.length-1;
if(q>=0)u.eS(this.zY[q].Z,"wdisabled");this.Z.appendChild(s.Z);this.zY.push(s);this.kP(s);u._E(s);s.Fd(h,G,H,B)};
ij.prototype.kP=function(b){var h=this.R4,G=this.sN,H=b.Oa(h,G),B;if(H!=null){B=H}else{H=new cJ(0,0);
B=b.a8I();if(B==null){var j=this.zY.indexOf(b)+1;if(h<450||G<450)B=new cJ(0,0);else B=new cJ(j*150,j*150)}}b.Z.style.left=B.x+"px";
b.Z.style.top=this.Z.offsetTop+B.y+"px";b.Vb(this.R4-H.x*2,this.sN-H.y*2-34)};ij.prototype.rN=function(b,h){this.Cc=b;
for(var Y=0;Y<this.uj.length;Y++)this.uj[Y].rN(b,h)};ij.prototype.mO=function(b){var h=this.zY.pop();
u.WR(h,this.Z);var G=this.zY.length-1;if(G>=0)u.Yx(this.zY[G].Z,"wdisabled");if(this.Pd.parentNode==this.Z)this.Z.removeChild(this.Pd)};
window.onload=function(){document.body.appendChild(new e5().Z)}}())